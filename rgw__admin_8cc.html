<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="ko">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>My Project: D:/git/ceph/src/rgw/rgw_admin.cc 파일 참조</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">My Project
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- 다음에 의해 생성됨 :  Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','검색');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('rgw__admin_8cc.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">로딩중...</div>
<div class="SRStatus" id="Searching">검색중...</div>
<div class="SRStatus" id="NoMatches">일치하는것 없음</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">클래스</a> &#124;
<a href="#namespaces">네임스페이스</a> &#124;
<a href="#define-members">매크로</a> &#124;
<a href="#enum-members">열거형 타입</a> &#124;
<a href="#func-members">함수</a> &#124;
<a href="#var-members">변수</a>  </div>
  <div class="headertitle"><div class="title">rgw_admin.cc 파일 참조</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;errno.h&gt;</code><br />
<code>#include &lt;iostream&gt;</code><br />
<code>#include &lt;sstream&gt;</code><br />
<code>#include &lt;string&gt;</code><br />
<code>#include &lt;boost/optional.hpp&gt;</code><br />
<code>#include &lt;liboath/oath.h&gt;</code><br />
<code>#include &quot;auth/Crypto.h&quot;</code><br />
<code>#include &quot;compressor/Compressor.h&quot;</code><br />
<code>#include &quot;common/armor.h&quot;</code><br />
<code>#include &quot;common/ceph_json.h&quot;</code><br />
<code>#include &quot;common/config.h&quot;</code><br />
<code>#include &quot;common/ceph_argparse.h&quot;</code><br />
<code>#include &quot;common/Formatter.h&quot;</code><br />
<code>#include &quot;common/errno.h&quot;</code><br />
<code>#include &quot;common/safe_io.h&quot;</code><br />
<code>#include &quot;include/util.h&quot;</code><br />
<code>#include &quot;cls/rgw/cls_rgw_types.h&quot;</code><br />
<code>#include &quot;cls/rgw/cls_rgw_client.h&quot;</code><br />
<code>#include &quot;global/global_init.h&quot;</code><br />
<code>#include &quot;include/utime.h&quot;</code><br />
<code>#include &quot;include/str_list.h&quot;</code><br />
<code>#include &quot;<a class="el" href="rgw__user_8h_source.html">rgw_user.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="rgw__bucket_8h_source.html">rgw_bucket.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="rgw__otp_8h_source.html">rgw_otp.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="rgw__rados_8h_source.html">rgw_rados.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="rgw__acl_8h_source.html">rgw_acl.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="rgw__acl__s3_8h_source.html">rgw_acl_s3.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="rgw__datalog_8h_source.html">rgw_datalog.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="rgw__lc_8h_source.html">rgw_lc.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="rgw__log_8h_source.html">rgw_log.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="rgw__formats_8h_source.html">rgw_formats.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="rgw__usage_8h_source.html">rgw_usage.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="rgw__orphan_8h_source.html">rgw_orphan.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="rgw__sync_8h_source.html">rgw_sync.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="rgw__trim__bilog_8h_source.html">rgw_trim_bilog.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="rgw__trim__datalog_8h_source.html">rgw_trim_datalog.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="rgw__trim__mdlog_8h_source.html">rgw_trim_mdlog.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="rgw__data__sync_8h_source.html">rgw_data_sync.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="rgw__rest__conn_8h_source.html">rgw_rest_conn.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="rgw__realm__watcher_8h_source.html">rgw_realm_watcher.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="rgw__role_8h_source.html">rgw_role.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="rgw__reshard_8h_source.html">rgw_reshard.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="rgw__http__client__curl_8h_source.html">rgw_http_client_curl.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="rgw__zone_8h_source.html">rgw_zone.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="rgw__pubsub_8h_source.html">rgw_pubsub.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="rgw__bucket__sync_8h_source.html">rgw_bucket_sync.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="rgw__sync__checkpoint_8h_source.html">rgw_sync_checkpoint.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="rgw__lua_8h_source.html">rgw_lua.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="svc__sync__modules_8h_source.html">services/svc_sync_modules.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="svc__cls_8h_source.html">services/svc_cls.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="svc__bilog__rados_8h_source.html">services/svc_bilog_rados.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="svc__mdlog_8h_source.html">services/svc_mdlog.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="svc__meta__be__otp_8h_source.html">services/svc_meta_be_otp.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="svc__zone_8h_source.html">services/svc_zone.h</a>&quot;</code><br />
</div>
<p><a href="rgw__admin_8cc_source.html">이 파일의 소스 코드 페이지로 가기</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
클래스</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_simple_cmd.html">SimpleCmd</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_simple_cmd_1_1_def.html">SimpleCmd::Def</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_simple_cmd_1_1_node.html">SimpleCmd::Node</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_store_destructor.html">StoreDestructor</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structindented.html">indented</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_sync_policy_context.html">SyncPolicyContext</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_j_s_o_n_formatter___pretty_zone.html">JSONFormatter_PrettyZone</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_j_s_o_n_formatter___pretty_zone_1_1_handler.html">JSONFormatter_PrettyZone::Handler</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="namespaces" name="namespaces"></a>
네임스페이스</h2></td></tr>
<tr class="memitem:namespacergw__admin" id="r_namespacergw__admin"><td class="memItemLeft" align="right" valign="top">namespace &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacergw__admin.html">rgw_admin</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="define-members" name="define-members"></a>
매크로</h2></td></tr>
<tr class="memitem:ac9f1b8ed4aca7999d392b2d432030e30" id="r_ac9f1b8ed4aca7999d392b2d432030e30"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rgw__admin_8cc.html#ac9f1b8ed4aca7999d392b2d432030e30">dout_context</a>&#160;&#160;&#160;g_ceph_context</td></tr>
<tr class="separator:ac9f1b8ed4aca7999d392b2d432030e30"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5580a2b7c4743669bb9ca22b07e84324" id="r_a5580a2b7c4743669bb9ca22b07e84324"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rgw__admin_8cc.html#a5580a2b7c4743669bb9ca22b07e84324">dout_subsys</a>&#160;&#160;&#160;ceph_subsys_rgw</td></tr>
<tr class="separator:a5580a2b7c4743669bb9ca22b07e84324"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac29879f1ed9ca3aa4c8065f5f44176a9" id="r_ac29879f1ed9ca3aa4c8065f5f44176a9"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rgw__admin_8cc.html#ac29879f1ed9ca3aa4c8065f5f44176a9">SECRET_KEY_LEN</a>&#160;&#160;&#160;40</td></tr>
<tr class="separator:ac29879f1ed9ca3aa4c8065f5f44176a9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2a2f0fbf69461868a0554c4cd08cb55f" id="r_a2a2f0fbf69461868a0554c4cd08cb55f"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rgw__admin_8cc.html#a2a2f0fbf69461868a0554c4cd08cb55f">PUBLIC_ID_LEN</a>&#160;&#160;&#160;20</td></tr>
<tr class="separator:a2a2f0fbf69461868a0554c4cd08cb55f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa0ae86aa3d2a507ff84e752fea20f39d" id="r_aa0ae86aa3d2a507ff84e752fea20f39d"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rgw__admin_8cc.html#aa0ae86aa3d2a507ff84e752fea20f39d">CHECK_TRUE</a>(x,  msg,  err)</td></tr>
<tr class="separator:aa0ae86aa3d2a507ff84e752fea20f39d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a433381053c9648c55608e92806b59861" id="r_a433381053c9648c55608e92806b59861"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rgw__admin_8cc.html#a433381053c9648c55608e92806b59861">CHECK_SUCCESS</a>(x,  msg)</td></tr>
<tr class="separator:a433381053c9648c55608e92806b59861"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adb77daf1e50d6f419c247052dda62a9e" id="r_adb77daf1e50d6f419c247052dda62a9e"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rgw__admin_8cc.html#adb77daf1e50d6f419c247052dda62a9e">READ_CHUNK</a>&#160;&#160;&#160;8196</td></tr>
<tr class="separator:adb77daf1e50d6f419c247052dda62a9e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4d92151147cbf14f5439dcea2cad244d" id="r_a4d92151147cbf14f5439dcea2cad244d"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rgw__admin_8cc.html#a4d92151147cbf14f5439dcea2cad244d">MAX_TOTP_SKEW_HOURS</a>&#160;&#160;&#160;(24 * 7)</td></tr>
<tr class="separator:a4d92151147cbf14f5439dcea2cad244d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad022d09f3c832e077f6ac44f47d513c3" id="r_ad022d09f3c832e077f6ac44f47d513c3"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rgw__admin_8cc.html#ad022d09f3c832e077f6ac44f47d513c3">DEFAULT_RESHARD_MAX_ENTRIES</a>&#160;&#160;&#160;1000</td></tr>
<tr class="separator:ad022d09f3c832e077f6ac44f47d513c3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae9f99b955c6202f51e4bfbe8751008f4" id="r_ae9f99b955c6202f51e4bfbe8751008f4"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rgw__admin_8cc.html#ae9f99b955c6202f51e4bfbe8751008f4">MAX_LC_LIST_ENTRIES</a>&#160;&#160;&#160;100</td></tr>
<tr class="separator:ae9f99b955c6202f51e4bfbe8751008f4"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="enum-members" name="enum-members"></a>
열거형 타입</h2></td></tr>
<tr class="memitem:a417a68fb93cf5a708aed0d343be0856f" id="r_a417a68fb93cf5a708aed0d343be0856f"><td class="memItemLeft" align="right" valign="top">enum class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacergw__admin.html#a417a68fb93cf5a708aed0d343be0856f">rgw_admin::OPT</a> { <br />
&#160;&#160;<a class="el" href="namespacergw__admin.html#a417a68fb93cf5a708aed0d343be0856fa913136c4a2192178a02d745b059122c8">rgw_admin::NO_CMD</a>
, <a class="el" href="namespacergw__admin.html#a417a68fb93cf5a708aed0d343be0856faa92afa63584cc2a62d2dd2996727b2c5">rgw_admin::USER_CREATE</a>
, <a class="el" href="namespacergw__admin.html#a417a68fb93cf5a708aed0d343be0856fa53e95d4aedd7db4fe9f58af71525d56a">rgw_admin::USER_INFO</a>
, <a class="el" href="namespacergw__admin.html#a417a68fb93cf5a708aed0d343be0856fab1e5ed103e55c066f34027e46309c215">rgw_admin::USER_MODIFY</a>
, <br />
&#160;&#160;<a class="el" href="namespacergw__admin.html#a417a68fb93cf5a708aed0d343be0856fa4f841a47b3dd05eb52828c50558f5000">rgw_admin::USER_RENAME</a>
, <a class="el" href="namespacergw__admin.html#a417a68fb93cf5a708aed0d343be0856faafeea37130139c162d666bb7e21a1d51">rgw_admin::USER_RM</a>
, <a class="el" href="namespacergw__admin.html#a417a68fb93cf5a708aed0d343be0856fac2e226831f80f12709b6ababd69a2ed8">rgw_admin::USER_SUSPEND</a>
, <a class="el" href="namespacergw__admin.html#a417a68fb93cf5a708aed0d343be0856fa70db12b3b786336eb9bf61b52d431ecb">rgw_admin::USER_ENABLE</a>
, <br />
&#160;&#160;<a class="el" href="namespacergw__admin.html#a417a68fb93cf5a708aed0d343be0856fa36e14c78e0d3f97202e4de0a636c2e43">rgw_admin::USER_CHECK</a>
, <a class="el" href="namespacergw__admin.html#a417a68fb93cf5a708aed0d343be0856faf695e09e38c033d03957a31ea685563d">rgw_admin::USER_STATS</a>
, <a class="el" href="namespacergw__admin.html#a417a68fb93cf5a708aed0d343be0856fa67606b15e14378f4d696952a1e07e509">rgw_admin::USER_LIST</a>
, <a class="el" href="namespacergw__admin.html#a417a68fb93cf5a708aed0d343be0856faadb6c98d72f113a3f2d0008f4104bb2f">rgw_admin::SUBUSER_CREATE</a>
, <br />
&#160;&#160;<a class="el" href="namespacergw__admin.html#a417a68fb93cf5a708aed0d343be0856fa655fc7cad45674d864c5dea51783f041">rgw_admin::SUBUSER_MODIFY</a>
, <a class="el" href="namespacergw__admin.html#a417a68fb93cf5a708aed0d343be0856fa3b6e31aa2304815616653fadd0fb8450">rgw_admin::SUBUSER_RM</a>
, <a class="el" href="namespacergw__admin.html#a417a68fb93cf5a708aed0d343be0856fa4adc420801371b73879c243b642ea030">rgw_admin::KEY_CREATE</a>
, <a class="el" href="namespacergw__admin.html#a417a68fb93cf5a708aed0d343be0856faec25477cc48c2b8c30de1c37bfa8fabd">rgw_admin::KEY_RM</a>
, <br />
&#160;&#160;<a class="el" href="namespacergw__admin.html#a417a68fb93cf5a708aed0d343be0856fac67b7f9b118d9995855d3178e8c46f92">rgw_admin::BUCKETS_LIST</a>
, <a class="el" href="namespacergw__admin.html#a417a68fb93cf5a708aed0d343be0856fa78ce899fe50405a8e8669a12584f05c3">rgw_admin::BUCKET_LIMIT_CHECK</a>
, <a class="el" href="namespacergw__admin.html#a417a68fb93cf5a708aed0d343be0856fa246d4dbdd97fde122addea023fed15eb">rgw_admin::BUCKET_LINK</a>
, <a class="el" href="namespacergw__admin.html#a417a68fb93cf5a708aed0d343be0856fa45be68d234b10efa05ef137944a6e311">rgw_admin::BUCKET_UNLINK</a>
, <br />
&#160;&#160;<a class="el" href="namespacergw__admin.html#a417a68fb93cf5a708aed0d343be0856fa725a9ef29db693f52171a06e84785225">rgw_admin::BUCKET_STATS</a>
, <a class="el" href="namespacergw__admin.html#a417a68fb93cf5a708aed0d343be0856fac4652422577d060ec623019c6fb4894a">rgw_admin::BUCKET_CHECK</a>
, <a class="el" href="namespacergw__admin.html#a417a68fb93cf5a708aed0d343be0856fa69608c82f34fac05b56322b02f093932">rgw_admin::BUCKET_SYNC_CHECKPOINT</a>
, <a class="el" href="namespacergw__admin.html#a417a68fb93cf5a708aed0d343be0856fa271ec62566b02edbc663a4e57f4fa1ce">rgw_admin::BUCKET_SYNC_INFO</a>
, <br />
&#160;&#160;<a class="el" href="namespacergw__admin.html#a417a68fb93cf5a708aed0d343be0856fa30f026e4caa22440da42e94a1db15f00">rgw_admin::BUCKET_SYNC_STATUS</a>
, <a class="el" href="namespacergw__admin.html#a417a68fb93cf5a708aed0d343be0856fa2f07ae6999e132e99a356610e2e66e8c">rgw_admin::BUCKET_SYNC_MARKERS</a>
, <a class="el" href="namespacergw__admin.html#a417a68fb93cf5a708aed0d343be0856fab0a86bbec58b4d762214457e9fda0fb3">rgw_admin::BUCKET_SYNC_INIT</a>
, <a class="el" href="namespacergw__admin.html#a417a68fb93cf5a708aed0d343be0856faa097439863820c56b38e568ef03baf00">rgw_admin::BUCKET_SYNC_RUN</a>
, <br />
&#160;&#160;<a class="el" href="namespacergw__admin.html#a417a68fb93cf5a708aed0d343be0856fa21b76c40eadb0d10cb1bd1b713fdd57e">rgw_admin::BUCKET_SYNC_DISABLE</a>
, <a class="el" href="namespacergw__admin.html#a417a68fb93cf5a708aed0d343be0856fac378ca092858e79b71c61e5f6f459ae0">rgw_admin::BUCKET_SYNC_ENABLE</a>
, <a class="el" href="namespacergw__admin.html#a417a68fb93cf5a708aed0d343be0856fa4cc4c090b02823b89ccfc5820971ce6e">rgw_admin::BUCKET_RM</a>
, <a class="el" href="namespacergw__admin.html#a417a68fb93cf5a708aed0d343be0856fa84130f0f6bedb98a25f18995e61b72f9">rgw_admin::BUCKET_REWRITE</a>
, <br />
&#160;&#160;<a class="el" href="namespacergw__admin.html#a417a68fb93cf5a708aed0d343be0856fa88e6f89e304ee6146cbb88f10465038f">rgw_admin::BUCKET_RESHARD</a>
, <a class="el" href="namespacergw__admin.html#a417a68fb93cf5a708aed0d343be0856fa276afc43b079d7aafab5b78b2de38981">rgw_admin::BUCKET_CHOWN</a>
, <a class="el" href="namespacergw__admin.html#a417a68fb93cf5a708aed0d343be0856faf17773114eb1a842b4033fee5073ee3b">rgw_admin::BUCKET_RADOS_LIST</a>
, <a class="el" href="namespacergw__admin.html#a417a68fb93cf5a708aed0d343be0856fac25fc55193300dfe26743a7ff2f35127">rgw_admin::POLICY</a>
, <br />
&#160;&#160;<a class="el" href="namespacergw__admin.html#a417a68fb93cf5a708aed0d343be0856fa65182a9694500404c1f42961bb9e912a">rgw_admin::POOL_ADD</a>
, <a class="el" href="namespacergw__admin.html#a417a68fb93cf5a708aed0d343be0856fa7e6fb0ce6cd6c9b842295e4610435bf4">rgw_admin::POOL_RM</a>
, <a class="el" href="namespacergw__admin.html#a417a68fb93cf5a708aed0d343be0856fae5480f047159c0f7c6d0da21eaa34696">rgw_admin::POOLS_LIST</a>
, <a class="el" href="namespacergw__admin.html#a417a68fb93cf5a708aed0d343be0856fa9ede93db20eb7e92c5c936fee3413898">rgw_admin::LOG_LIST</a>
, <br />
&#160;&#160;<a class="el" href="namespacergw__admin.html#a417a68fb93cf5a708aed0d343be0856fa0bbbfa316259730d969d658510cc8d76">rgw_admin::LOG_SHOW</a>
, <a class="el" href="namespacergw__admin.html#a417a68fb93cf5a708aed0d343be0856fae562057c45b7526e4ce3586030578112">rgw_admin::LOG_RM</a>
, <a class="el" href="namespacergw__admin.html#a417a68fb93cf5a708aed0d343be0856faff678cfc8bf5fd0f6d766e3a37f87a67">rgw_admin::USAGE_SHOW</a>
, <a class="el" href="namespacergw__admin.html#a417a68fb93cf5a708aed0d343be0856fa3c9aa5991ac20001b130887cccad818f">rgw_admin::USAGE_TRIM</a>
, <br />
&#160;&#160;<a class="el" href="namespacergw__admin.html#a417a68fb93cf5a708aed0d343be0856faecc0c64d4650c711c45c994bddcb3e7b">rgw_admin::USAGE_CLEAR</a>
, <a class="el" href="namespacergw__admin.html#a417a68fb93cf5a708aed0d343be0856fa91096e229ecfe6be7a4e0236c7bd0bdc">rgw_admin::OBJECT_PUT</a>
, <a class="el" href="namespacergw__admin.html#a417a68fb93cf5a708aed0d343be0856fa87b28877f300b9fd926925b37b8e36a2">rgw_admin::OBJECT_RM</a>
, <a class="el" href="namespacergw__admin.html#a417a68fb93cf5a708aed0d343be0856fa9b24500345272de8aa9939bb1e6292c4">rgw_admin::OBJECT_UNLINK</a>
, <br />
&#160;&#160;<a class="el" href="namespacergw__admin.html#a417a68fb93cf5a708aed0d343be0856fa212e1c7ad32dad5f248188689395080b">rgw_admin::OBJECT_STAT</a>
, <a class="el" href="namespacergw__admin.html#a417a68fb93cf5a708aed0d343be0856fa3746bf7e00648463a4fca617d26a60b2">rgw_admin::OBJECT_REWRITE</a>
, <a class="el" href="namespacergw__admin.html#a417a68fb93cf5a708aed0d343be0856fab99c890a69e0159137941bfab32ba464">rgw_admin::OBJECTS_EXPIRE</a>
, <a class="el" href="namespacergw__admin.html#a417a68fb93cf5a708aed0d343be0856fa9be586ec792f85d4db705425eba04e58">rgw_admin::OBJECTS_EXPIRE_STALE_LIST</a>
, <br />
&#160;&#160;<a class="el" href="namespacergw__admin.html#a417a68fb93cf5a708aed0d343be0856fade70bd280dda5c63ff0aa7937ce3b19a">rgw_admin::OBJECTS_EXPIRE_STALE_RM</a>
, <a class="el" href="namespacergw__admin.html#a417a68fb93cf5a708aed0d343be0856fa62ea98e540cdabc3a531b2ca8779b8ba">rgw_admin::BI_GET</a>
, <a class="el" href="namespacergw__admin.html#a417a68fb93cf5a708aed0d343be0856fa5a6f8f3ccb8143972cd6d7212260bb59">rgw_admin::BI_PUT</a>
, <a class="el" href="namespacergw__admin.html#a417a68fb93cf5a708aed0d343be0856fa28cebc972d453accb8915dec9debf0ad">rgw_admin::BI_LIST</a>
, <br />
&#160;&#160;<a class="el" href="namespacergw__admin.html#a417a68fb93cf5a708aed0d343be0856fa5ee2dc8a06470603c28d618dc8f19eae">rgw_admin::BI_PURGE</a>
, <a class="el" href="namespacergw__admin.html#a417a68fb93cf5a708aed0d343be0856fae7a628e98ad68e564cf9136bb116f39e">rgw_admin::OLH_GET</a>
, <a class="el" href="namespacergw__admin.html#a417a68fb93cf5a708aed0d343be0856faa8747c462eb95a2ae2c117e979b49ec1">rgw_admin::OLH_READLOG</a>
, <a class="el" href="namespacergw__admin.html#a417a68fb93cf5a708aed0d343be0856faec0ff013feec03ce9cc09c43e7a58e12">rgw_admin::QUOTA_SET</a>
, <br />
&#160;&#160;<a class="el" href="namespacergw__admin.html#a417a68fb93cf5a708aed0d343be0856fa26bb7aa517f6861ae779348dbe78bc4f">rgw_admin::QUOTA_ENABLE</a>
, <a class="el" href="namespacergw__admin.html#a417a68fb93cf5a708aed0d343be0856fabdb669e4767bc3fdbec21d83b45b9856">rgw_admin::QUOTA_DISABLE</a>
, <a class="el" href="namespacergw__admin.html#a417a68fb93cf5a708aed0d343be0856fae3146c5047a89be4e6e4db2362ce40c7">rgw_admin::GC_LIST</a>
, <a class="el" href="namespacergw__admin.html#a417a68fb93cf5a708aed0d343be0856fa5a18291fa155003c6ee4b3159895086d">rgw_admin::GC_PROCESS</a>
, <br />
&#160;&#160;<a class="el" href="namespacergw__admin.html#a417a68fb93cf5a708aed0d343be0856fa81750f49da7c8844c0aaed069b445de5">rgw_admin::LC_LIST</a>
, <a class="el" href="namespacergw__admin.html#a417a68fb93cf5a708aed0d343be0856fa1d9ea52304f94df3a4fa56064a3837a8">rgw_admin::LC_GET</a>
, <a class="el" href="namespacergw__admin.html#a417a68fb93cf5a708aed0d343be0856fa80ce02f062f916610d7436fa58345da1">rgw_admin::LC_PROCESS</a>
, <a class="el" href="namespacergw__admin.html#a417a68fb93cf5a708aed0d343be0856fa8c62fffe708645a449a2ea848c958667">rgw_admin::LC_RESHARD_FIX</a>
, <br />
&#160;&#160;<a class="el" href="namespacergw__admin.html#a417a68fb93cf5a708aed0d343be0856fa57f4d0037a8a7493d8e7e5e4a69da05c">rgw_admin::ORPHANS_FIND</a>
, <a class="el" href="namespacergw__admin.html#a417a68fb93cf5a708aed0d343be0856fad0fd1d041c1f43d582add8f41a3dbf9f">rgw_admin::ORPHANS_FINISH</a>
, <a class="el" href="namespacergw__admin.html#a417a68fb93cf5a708aed0d343be0856faada26eafb389cc6f9da162ec68e53a68">rgw_admin::ORPHANS_LIST_JOBS</a>
, <a class="el" href="namespacergw__admin.html#a417a68fb93cf5a708aed0d343be0856fad8cd8c0e7efa71f6e749504a960083b8">rgw_admin::RATELIMIT_GET</a>
, <br />
&#160;&#160;<a class="el" href="namespacergw__admin.html#a417a68fb93cf5a708aed0d343be0856fadca8bb542a693cccf4ba6e1d10659d1b">rgw_admin::RATELIMIT_SET</a>
, <a class="el" href="namespacergw__admin.html#a417a68fb93cf5a708aed0d343be0856fa44e9c99a40fc73fbe00704d60d90ff6f">rgw_admin::RATELIMIT_ENABLE</a>
, <a class="el" href="namespacergw__admin.html#a417a68fb93cf5a708aed0d343be0856fa84f851e2bc68d700407f53262a84c4f9">rgw_admin::RATELIMIT_DISABLE</a>
, <a class="el" href="namespacergw__admin.html#a417a68fb93cf5a708aed0d343be0856faa54863a4eaaaeb66d3bd00e8fca51f48">rgw_admin::ZONEGROUP_ADD</a>
, <br />
&#160;&#160;<a class="el" href="namespacergw__admin.html#a417a68fb93cf5a708aed0d343be0856fa7a36f17270294ae7604e32e4ee2eea28">rgw_admin::ZONEGROUP_CREATE</a>
, <a class="el" href="namespacergw__admin.html#a417a68fb93cf5a708aed0d343be0856faf769843875e46ca1e61648fc3f02594f">rgw_admin::ZONEGROUP_DEFAULT</a>
, <a class="el" href="namespacergw__admin.html#a417a68fb93cf5a708aed0d343be0856fada820aa729f5a883c2dcc62e0031cdc3">rgw_admin::ZONEGROUP_DELETE</a>
, <a class="el" href="namespacergw__admin.html#a417a68fb93cf5a708aed0d343be0856fa4a1a138a6e3bc11a3fda0f4bb9c677bf">rgw_admin::ZONEGROUP_GET</a>
, <br />
&#160;&#160;<a class="el" href="namespacergw__admin.html#a417a68fb93cf5a708aed0d343be0856fa6381e3c5328f99371be927a320c36090">rgw_admin::ZONEGROUP_MODIFY</a>
, <a class="el" href="namespacergw__admin.html#a417a68fb93cf5a708aed0d343be0856fa5e3fde894e96e12adcb4bc964937e1ae">rgw_admin::ZONEGROUP_SET</a>
, <a class="el" href="namespacergw__admin.html#a417a68fb93cf5a708aed0d343be0856fa861c20fa0988abcff0739f3902e7ee70">rgw_admin::ZONEGROUP_LIST</a>
, <a class="el" href="namespacergw__admin.html#a417a68fb93cf5a708aed0d343be0856fa81648a94a07be9e85fa49973ee5a9d3b">rgw_admin::ZONEGROUP_REMOVE</a>
, <br />
&#160;&#160;<a class="el" href="namespacergw__admin.html#a417a68fb93cf5a708aed0d343be0856fa5e0a789018c6c58bfaddd07d2f227a72">rgw_admin::ZONEGROUP_RENAME</a>
, <a class="el" href="namespacergw__admin.html#a417a68fb93cf5a708aed0d343be0856fa4a273797963af4dd1aeef0ad145336b1">rgw_admin::ZONEGROUP_PLACEMENT_ADD</a>
, <a class="el" href="namespacergw__admin.html#a417a68fb93cf5a708aed0d343be0856fa61789d1b055b00ed551ecc425ee89733">rgw_admin::ZONEGROUP_PLACEMENT_MODIFY</a>
, <a class="el" href="namespacergw__admin.html#a417a68fb93cf5a708aed0d343be0856faca40c8876a9356b0e3f3aa5e489681e0">rgw_admin::ZONEGROUP_PLACEMENT_RM</a>
, <br />
&#160;&#160;<a class="el" href="namespacergw__admin.html#a417a68fb93cf5a708aed0d343be0856fafd748a76038126c4d01da857ef115f79">rgw_admin::ZONEGROUP_PLACEMENT_LIST</a>
, <a class="el" href="namespacergw__admin.html#a417a68fb93cf5a708aed0d343be0856fa6beafb266690d4cdd6631d6728cc4232">rgw_admin::ZONEGROUP_PLACEMENT_GET</a>
, <a class="el" href="namespacergw__admin.html#a417a68fb93cf5a708aed0d343be0856faecbfc3d31de88d7826ed6c82f264d631">rgw_admin::ZONEGROUP_PLACEMENT_DEFAULT</a>
, <a class="el" href="namespacergw__admin.html#a417a68fb93cf5a708aed0d343be0856fa6e0f7124875c1390b1ac09c9f44eb07c">rgw_admin::ZONE_CREATE</a>
, <br />
&#160;&#160;<a class="el" href="namespacergw__admin.html#a417a68fb93cf5a708aed0d343be0856fa761894a0f9989362bbc6abceb22ea773">rgw_admin::ZONE_DELETE</a>
, <a class="el" href="namespacergw__admin.html#a417a68fb93cf5a708aed0d343be0856fada20f93dca5aac4d26a247491dfd9877">rgw_admin::ZONE_GET</a>
, <a class="el" href="namespacergw__admin.html#a417a68fb93cf5a708aed0d343be0856facec771f114c3427f9251b25595991b9d">rgw_admin::ZONE_MODIFY</a>
, <a class="el" href="namespacergw__admin.html#a417a68fb93cf5a708aed0d343be0856fa9107d4cf51a168648060ebc5351c0ecc">rgw_admin::ZONE_SET</a>
, <br />
&#160;&#160;<a class="el" href="namespacergw__admin.html#a417a68fb93cf5a708aed0d343be0856fa364dbfe430ebed3769f6a503b8371e26">rgw_admin::ZONE_LIST</a>
, <a class="el" href="namespacergw__admin.html#a417a68fb93cf5a708aed0d343be0856fa27b32ed51d739452cb9c8fa92b47a4c8">rgw_admin::ZONE_RENAME</a>
, <a class="el" href="namespacergw__admin.html#a417a68fb93cf5a708aed0d343be0856fa418bb8858cb3e6cf5ced00529f76062e">rgw_admin::ZONE_DEFAULT</a>
, <a class="el" href="namespacergw__admin.html#a417a68fb93cf5a708aed0d343be0856faeaad71f84571c5d955266d240dc583be">rgw_admin::ZONE_PLACEMENT_ADD</a>
, <br />
&#160;&#160;<a class="el" href="namespacergw__admin.html#a417a68fb93cf5a708aed0d343be0856fa97ec02bbe10efe7412ef928f3d8a335b">rgw_admin::ZONE_PLACEMENT_MODIFY</a>
, <a class="el" href="namespacergw__admin.html#a417a68fb93cf5a708aed0d343be0856fa2023110375f3a58a19ac671b9812d5c5">rgw_admin::ZONE_PLACEMENT_RM</a>
, <a class="el" href="namespacergw__admin.html#a417a68fb93cf5a708aed0d343be0856fa242fed9e7dadb4687be798376910954d">rgw_admin::ZONE_PLACEMENT_LIST</a>
, <a class="el" href="namespacergw__admin.html#a417a68fb93cf5a708aed0d343be0856fa75d40e30b2a4be4a519e5a3b0e9800a5">rgw_admin::ZONE_PLACEMENT_GET</a>
, <br />
&#160;&#160;<a class="el" href="namespacergw__admin.html#a417a68fb93cf5a708aed0d343be0856fa6b421ed71c762261416f29a507386cdf">rgw_admin::CAPS_ADD</a>
, <a class="el" href="namespacergw__admin.html#a417a68fb93cf5a708aed0d343be0856faae5dbee126d753d92faa3d750a15088f">rgw_admin::CAPS_RM</a>
, <a class="el" href="namespacergw__admin.html#a417a68fb93cf5a708aed0d343be0856fa2e0ee27b6b079242b2b9e105e55c6085">rgw_admin::METADATA_GET</a>
, <a class="el" href="namespacergw__admin.html#a417a68fb93cf5a708aed0d343be0856fa6740e3ad361c0269fd27bcbbd2da75b2">rgw_admin::METADATA_PUT</a>
, <br />
&#160;&#160;<a class="el" href="namespacergw__admin.html#a417a68fb93cf5a708aed0d343be0856fa37b512e52eb08edbcf63d0be6ebc0e1d">rgw_admin::METADATA_RM</a>
, <a class="el" href="namespacergw__admin.html#a417a68fb93cf5a708aed0d343be0856faaeb166e39f3d19607c796c8bf14cbd11">rgw_admin::METADATA_LIST</a>
, <a class="el" href="namespacergw__admin.html#a417a68fb93cf5a708aed0d343be0856fa08f928df6a4026bc4af1904ee688e3a7">rgw_admin::METADATA_SYNC_STATUS</a>
, <a class="el" href="namespacergw__admin.html#a417a68fb93cf5a708aed0d343be0856fa62a15bccfdb38eb41a85a3846e921d2e">rgw_admin::METADATA_SYNC_INIT</a>
, <br />
&#160;&#160;<a class="el" href="namespacergw__admin.html#a417a68fb93cf5a708aed0d343be0856fa36c471e4bf4a6487dcc0ad8efe1b72a8">rgw_admin::METADATA_SYNC_RUN</a>
, <a class="el" href="namespacergw__admin.html#a417a68fb93cf5a708aed0d343be0856fae7c5c0ff684bc39b07831d0af87ede12">rgw_admin::MDLOG_LIST</a>
, <a class="el" href="namespacergw__admin.html#a417a68fb93cf5a708aed0d343be0856fadb5b9855a951643df6a67b06ad4538d5">rgw_admin::MDLOG_AUTOTRIM</a>
, <a class="el" href="namespacergw__admin.html#a417a68fb93cf5a708aed0d343be0856fae359bdc7e58be7feba517935bf655d6d">rgw_admin::MDLOG_TRIM</a>
, <br />
&#160;&#160;<a class="el" href="namespacergw__admin.html#a417a68fb93cf5a708aed0d343be0856fa7d569ce06baa3e6e3a020d5fc6679d64">rgw_admin::MDLOG_FETCH</a>
, <a class="el" href="namespacergw__admin.html#a417a68fb93cf5a708aed0d343be0856fa4e0071089ded679cf6deacec5dda5f71">rgw_admin::MDLOG_STATUS</a>
, <a class="el" href="namespacergw__admin.html#a417a68fb93cf5a708aed0d343be0856fa31282f77d970d2f68d6326ce1f062e79">rgw_admin::SYNC_ERROR_LIST</a>
, <a class="el" href="namespacergw__admin.html#a417a68fb93cf5a708aed0d343be0856fa7d324e1a4bbd6dff9e0b4e9ddd4e1243">rgw_admin::SYNC_ERROR_TRIM</a>
, <br />
&#160;&#160;<a class="el" href="namespacergw__admin.html#a417a68fb93cf5a708aed0d343be0856faae01891df90e668a4cbdbf9a5a1b7a25">rgw_admin::SYNC_GROUP_CREATE</a>
, <a class="el" href="namespacergw__admin.html#a417a68fb93cf5a708aed0d343be0856fa376df7e9a9187927183dc642008d5631">rgw_admin::SYNC_GROUP_MODIFY</a>
, <a class="el" href="namespacergw__admin.html#a417a68fb93cf5a708aed0d343be0856fa655093c11f5858c4d0d78163f0121f69">rgw_admin::SYNC_GROUP_GET</a>
, <a class="el" href="namespacergw__admin.html#a417a68fb93cf5a708aed0d343be0856faa939c6931a1f1b147b0b2c0d1bdb000b">rgw_admin::SYNC_GROUP_REMOVE</a>
, <br />
&#160;&#160;<a class="el" href="namespacergw__admin.html#a417a68fb93cf5a708aed0d343be0856fa4f4c86137b2de116541e96df5475d566">rgw_admin::SYNC_GROUP_FLOW_CREATE</a>
, <a class="el" href="namespacergw__admin.html#a417a68fb93cf5a708aed0d343be0856fa2452b0639e5ed7a54a44b919c1bd9048">rgw_admin::SYNC_GROUP_FLOW_REMOVE</a>
, <a class="el" href="namespacergw__admin.html#a417a68fb93cf5a708aed0d343be0856fad41031952f5cd35db555d2e25706ffff">rgw_admin::SYNC_GROUP_PIPE_CREATE</a>
, <a class="el" href="namespacergw__admin.html#a417a68fb93cf5a708aed0d343be0856fa72b11f38a9037df2638b2c4df507cbbe">rgw_admin::SYNC_GROUP_PIPE_MODIFY</a>
, <br />
&#160;&#160;<a class="el" href="namespacergw__admin.html#a417a68fb93cf5a708aed0d343be0856fa22eb0dbec753221819537deea1d5357d">rgw_admin::SYNC_GROUP_PIPE_REMOVE</a>
, <a class="el" href="namespacergw__admin.html#a417a68fb93cf5a708aed0d343be0856fa88bf5b387b8078f07a5932f88d8a32d1">rgw_admin::SYNC_POLICY_GET</a>
, <a class="el" href="namespacergw__admin.html#a417a68fb93cf5a708aed0d343be0856fa37d758ae7e509719bbca798c06043dd9">rgw_admin::BILOG_LIST</a>
, <a class="el" href="namespacergw__admin.html#a417a68fb93cf5a708aed0d343be0856faa0924e5b865cb06ca7bf65016c8c3901">rgw_admin::BILOG_TRIM</a>
, <br />
&#160;&#160;<a class="el" href="namespacergw__admin.html#a417a68fb93cf5a708aed0d343be0856fab455ee9e277737cdf66fcb0e568b8077">rgw_admin::BILOG_STATUS</a>
, <a class="el" href="namespacergw__admin.html#a417a68fb93cf5a708aed0d343be0856fac7998a063b624118dd9936af99331d32">rgw_admin::BILOG_AUTOTRIM</a>
, <a class="el" href="namespacergw__admin.html#a417a68fb93cf5a708aed0d343be0856fa19967f71b7d189a59046a0700e160f3d">rgw_admin::DATA_SYNC_STATUS</a>
, <a class="el" href="namespacergw__admin.html#a417a68fb93cf5a708aed0d343be0856fa1c101bee2c4cb60be4c1d28e21ea6006">rgw_admin::DATA_SYNC_INIT</a>
, <br />
&#160;&#160;<a class="el" href="namespacergw__admin.html#a417a68fb93cf5a708aed0d343be0856fa9e3a2febe06aade179878db1e856062d">rgw_admin::DATA_SYNC_RUN</a>
, <a class="el" href="namespacergw__admin.html#a417a68fb93cf5a708aed0d343be0856fa4264f8c3a8fb70149ff741413e96b41c">rgw_admin::DATALOG_LIST</a>
, <a class="el" href="namespacergw__admin.html#a417a68fb93cf5a708aed0d343be0856fabb07c4e25df8218becc12a5a33395fae">rgw_admin::DATALOG_STATUS</a>
, <a class="el" href="namespacergw__admin.html#a417a68fb93cf5a708aed0d343be0856fa69395fe40d0e8e882a7c86358b6809da">rgw_admin::DATALOG_AUTOTRIM</a>
, <br />
&#160;&#160;<a class="el" href="namespacergw__admin.html#a417a68fb93cf5a708aed0d343be0856fa0c91fbeca4c1d1a64b79407bfeff1750">rgw_admin::DATALOG_TRIM</a>
, <a class="el" href="namespacergw__admin.html#a417a68fb93cf5a708aed0d343be0856fae2bb6d65271ce3a94a84408f0af2f68f">rgw_admin::DATALOG_TYPE</a>
, <a class="el" href="namespacergw__admin.html#a417a68fb93cf5a708aed0d343be0856fa349c96fc281b6a527fb7f51cc7aaf701">rgw_admin::DATALOG_PRUNE</a>
, <a class="el" href="namespacergw__admin.html#a417a68fb93cf5a708aed0d343be0856fa65857412fcc23775a8c32e051cad4bfb">rgw_admin::REALM_CREATE</a>
, <br />
&#160;&#160;<a class="el" href="namespacergw__admin.html#a417a68fb93cf5a708aed0d343be0856fa393652d715105b09cf67f177a1fde2c3">rgw_admin::REALM_DELETE</a>
, <a class="el" href="namespacergw__admin.html#a417a68fb93cf5a708aed0d343be0856fa66cda0609d3bd2e444e388245888d852">rgw_admin::REALM_GET</a>
, <a class="el" href="namespacergw__admin.html#a417a68fb93cf5a708aed0d343be0856fa9a710d1e67d91f85985dd51ed4636905">rgw_admin::REALM_GET_DEFAULT</a>
, <a class="el" href="namespacergw__admin.html#a417a68fb93cf5a708aed0d343be0856fad209a4d8506435069fac0c6ac2351932">rgw_admin::REALM_LIST</a>
, <br />
&#160;&#160;<a class="el" href="namespacergw__admin.html#a417a68fb93cf5a708aed0d343be0856fac2f172887ad8d92cb51cac29963d4c19">rgw_admin::REALM_LIST_PERIODS</a>
, <a class="el" href="namespacergw__admin.html#a417a68fb93cf5a708aed0d343be0856faac26070490930ae00512071642c6d0d3">rgw_admin::REALM_RENAME</a>
, <a class="el" href="namespacergw__admin.html#a417a68fb93cf5a708aed0d343be0856fa761610abf685780d5715ad52f605a03f">rgw_admin::REALM_SET</a>
, <a class="el" href="namespacergw__admin.html#a417a68fb93cf5a708aed0d343be0856fae8838250fd4741991a71b6d839fd7ec5">rgw_admin::REALM_DEFAULT</a>
, <br />
&#160;&#160;<a class="el" href="namespacergw__admin.html#a417a68fb93cf5a708aed0d343be0856fa40d3c811da417f0de75b19ae2e4ad41a">rgw_admin::REALM_PULL</a>
, <a class="el" href="namespacergw__admin.html#a417a68fb93cf5a708aed0d343be0856fa121bbf066f76e1b29cdfab7d0d8463ba">rgw_admin::PERIOD_DELETE</a>
, <a class="el" href="namespacergw__admin.html#a417a68fb93cf5a708aed0d343be0856fa1a8f3fe985b7bf490695a697c82ae86a">rgw_admin::PERIOD_GET</a>
, <a class="el" href="namespacergw__admin.html#a417a68fb93cf5a708aed0d343be0856fa63ee551b77eeb0079a251eabf15aba25">rgw_admin::PERIOD_GET_CURRENT</a>
, <br />
&#160;&#160;<a class="el" href="namespacergw__admin.html#a417a68fb93cf5a708aed0d343be0856fa7c0e24324b8db14f4a01ea4e61572ea6">rgw_admin::PERIOD_PULL</a>
, <a class="el" href="namespacergw__admin.html#a417a68fb93cf5a708aed0d343be0856fa0b359532e98f11d291762a0f2cb25452">rgw_admin::PERIOD_PUSH</a>
, <a class="el" href="namespacergw__admin.html#a417a68fb93cf5a708aed0d343be0856fadcb93f5dbd0526193cc0a0ff445533b8">rgw_admin::PERIOD_LIST</a>
, <a class="el" href="namespacergw__admin.html#a417a68fb93cf5a708aed0d343be0856fa08758e78dbd0547743c1c91381830a9e">rgw_admin::PERIOD_UPDATE</a>
, <br />
&#160;&#160;<a class="el" href="namespacergw__admin.html#a417a68fb93cf5a708aed0d343be0856fafd541e3aa54e8ab5491395cbb4f0370c">rgw_admin::PERIOD_COMMIT</a>
, <a class="el" href="namespacergw__admin.html#a417a68fb93cf5a708aed0d343be0856fa0104c109b648fec3bd9316fbe504d1df">rgw_admin::GLOBAL_QUOTA_GET</a>
, <a class="el" href="namespacergw__admin.html#a417a68fb93cf5a708aed0d343be0856faef7ae425d268f35cf26eee55279919e1">rgw_admin::GLOBAL_QUOTA_SET</a>
, <a class="el" href="namespacergw__admin.html#a417a68fb93cf5a708aed0d343be0856fa53741b2b431d3ec3d798cad1afac8e19">rgw_admin::GLOBAL_QUOTA_ENABLE</a>
, <br />
&#160;&#160;<a class="el" href="namespacergw__admin.html#a417a68fb93cf5a708aed0d343be0856fa7dccb6bc0b2b4c843b359b888a58846d">rgw_admin::GLOBAL_QUOTA_DISABLE</a>
, <a class="el" href="namespacergw__admin.html#a417a68fb93cf5a708aed0d343be0856fa2d12258c9e0ceace9a4c116123c9ce02">rgw_admin::GLOBAL_RATELIMIT_GET</a>
, <a class="el" href="namespacergw__admin.html#a417a68fb93cf5a708aed0d343be0856fa12a13a3bdd8b5170cf485ce31636ceb8">rgw_admin::GLOBAL_RATELIMIT_SET</a>
, <a class="el" href="namespacergw__admin.html#a417a68fb93cf5a708aed0d343be0856fa1a037a00f36df1e34e2230d173e6ca43">rgw_admin::GLOBAL_RATELIMIT_ENABLE</a>
, <br />
&#160;&#160;<a class="el" href="namespacergw__admin.html#a417a68fb93cf5a708aed0d343be0856fa5cc31f7e1749f5aa3591c988145cfd32">rgw_admin::GLOBAL_RATELIMIT_DISABLE</a>
, <a class="el" href="namespacergw__admin.html#a417a68fb93cf5a708aed0d343be0856fa23b4d6c552958b417f55f6d60468b63a">rgw_admin::SYNC_INFO</a>
, <a class="el" href="namespacergw__admin.html#a417a68fb93cf5a708aed0d343be0856fa303a155925a4a7c971d13e4aab67ec69">rgw_admin::SYNC_STATUS</a>
, <a class="el" href="namespacergw__admin.html#a417a68fb93cf5a708aed0d343be0856fae76dc76f775ea3162154a3bcad88a19e">rgw_admin::ROLE_CREATE</a>
, <br />
&#160;&#160;<a class="el" href="namespacergw__admin.html#a417a68fb93cf5a708aed0d343be0856fa89bc6fb3961aaf7c54ca5cd53b88a924">rgw_admin::ROLE_DELETE</a>
, <a class="el" href="namespacergw__admin.html#a417a68fb93cf5a708aed0d343be0856fae71f3708a6d52d6e2616d1df9c10d3a2">rgw_admin::ROLE_GET</a>
, <a class="el" href="namespacergw__admin.html#a417a68fb93cf5a708aed0d343be0856fadeb5450132a1e14ff52005eb8ac2da6e">rgw_admin::ROLE_MODIFY</a>
, <a class="el" href="namespacergw__admin.html#a417a68fb93cf5a708aed0d343be0856fa2d9f2dadfe8a5fa62cee88402bf5e17a">rgw_admin::ROLE_LIST</a>
, <br />
&#160;&#160;<a class="el" href="namespacergw__admin.html#a417a68fb93cf5a708aed0d343be0856fa03c1de68da47dbea013d0f76c7c460b3">rgw_admin::ROLE_POLICY_PUT</a>
, <a class="el" href="namespacergw__admin.html#a417a68fb93cf5a708aed0d343be0856fa0b6fd262883d2b0d897bc6d35bb2a8ff">rgw_admin::ROLE_POLICY_LIST</a>
, <a class="el" href="namespacergw__admin.html#a417a68fb93cf5a708aed0d343be0856fab9ea683f43f76c6c7a9f2c235afdecad">rgw_admin::ROLE_POLICY_GET</a>
, <a class="el" href="namespacergw__admin.html#a417a68fb93cf5a708aed0d343be0856fae4b2415808357481db37b3c61def0b6a">rgw_admin::ROLE_POLICY_DELETE</a>
, <br />
&#160;&#160;<a class="el" href="namespacergw__admin.html#a417a68fb93cf5a708aed0d343be0856fa0e97fe8bed22dfd73aff7c23c96179ca">rgw_admin::RESHARD_ADD</a>
, <a class="el" href="namespacergw__admin.html#a417a68fb93cf5a708aed0d343be0856fa9c8a89b69d4c1b1262de1cf3b39a4c22">rgw_admin::RESHARD_LIST</a>
, <a class="el" href="namespacergw__admin.html#a417a68fb93cf5a708aed0d343be0856fa0b63ab4908b0ed4b059c948b4a0b0295">rgw_admin::RESHARD_STATUS</a>
, <a class="el" href="namespacergw__admin.html#a417a68fb93cf5a708aed0d343be0856faf6e7ec6a0045d86b088152a1d38b3767">rgw_admin::RESHARD_PROCESS</a>
, <br />
&#160;&#160;<a class="el" href="namespacergw__admin.html#a417a68fb93cf5a708aed0d343be0856faaa552900eddd99cd273faa4ac3852503">rgw_admin::RESHARD_CANCEL</a>
, <a class="el" href="namespacergw__admin.html#a417a68fb93cf5a708aed0d343be0856fa10f5c805afee618bc63fea9fbc6ed444">rgw_admin::MFA_CREATE</a>
, <a class="el" href="namespacergw__admin.html#a417a68fb93cf5a708aed0d343be0856fad3e87e4aab807a58471eb5226169caf5">rgw_admin::MFA_REMOVE</a>
, <a class="el" href="namespacergw__admin.html#a417a68fb93cf5a708aed0d343be0856fa3b9049ec0824f44a4256041f7fcfad33">rgw_admin::MFA_GET</a>
, <br />
&#160;&#160;<a class="el" href="namespacergw__admin.html#a417a68fb93cf5a708aed0d343be0856fae07c64b824dc183f593ffe0e4e0e316a">rgw_admin::MFA_LIST</a>
, <a class="el" href="namespacergw__admin.html#a417a68fb93cf5a708aed0d343be0856fac49e2d868260981309f95af4a3cf4886">rgw_admin::MFA_CHECK</a>
, <a class="el" href="namespacergw__admin.html#a417a68fb93cf5a708aed0d343be0856fad4d47ef0cfc6cecedfcd435dfe330663">rgw_admin::MFA_RESYNC</a>
, <a class="el" href="namespacergw__admin.html#a417a68fb93cf5a708aed0d343be0856fa0daf8aa6860b53c7e1dc42fb1b3339dd">rgw_admin::RESHARD_STALE_INSTANCES_LIST</a>
, <br />
&#160;&#160;<a class="el" href="namespacergw__admin.html#a417a68fb93cf5a708aed0d343be0856fa49833f3924242b9d835fd21a800ac065">rgw_admin::RESHARD_STALE_INSTANCES_DELETE</a>
, <a class="el" href="namespacergw__admin.html#a417a68fb93cf5a708aed0d343be0856fa6572f0a3e3389084a4bf749f1dbfc17d">rgw_admin::PUBSUB_TOPICS_LIST</a>
, <a class="el" href="namespacergw__admin.html#a417a68fb93cf5a708aed0d343be0856fa41b98cb7782dc1e8ff9bc29e9789cab8">rgw_admin::PUBSUB_TOPIC_GET</a>
, <a class="el" href="namespacergw__admin.html#a417a68fb93cf5a708aed0d343be0856fab13c99dec5ba414f2e3a8a44414214a6">rgw_admin::PUBSUB_TOPIC_RM</a>
, <br />
&#160;&#160;<a class="el" href="namespacergw__admin.html#a417a68fb93cf5a708aed0d343be0856fad3c9c674e19c079f1efde7cac366137f">rgw_admin::PUBSUB_SUB_GET</a>
, <a class="el" href="namespacergw__admin.html#a417a68fb93cf5a708aed0d343be0856fa291af236f387baea4c1b8e58f297ad14">rgw_admin::PUBSUB_SUB_RM</a>
, <a class="el" href="namespacergw__admin.html#a417a68fb93cf5a708aed0d343be0856fa62a3a9d3527841386faccc583e8afc6a">rgw_admin::PUBSUB_SUB_PULL</a>
, <a class="el" href="namespacergw__admin.html#a417a68fb93cf5a708aed0d343be0856fa876e6e9189555ac40152e7a5454377c1">rgw_admin::PUBSUB_EVENT_RM</a>
, <br />
&#160;&#160;<a class="el" href="namespacergw__admin.html#a417a68fb93cf5a708aed0d343be0856fafabb03bd4c66e58eef39da5e34b8b6c9">rgw_admin::SCRIPT_PUT</a>
, <a class="el" href="namespacergw__admin.html#a417a68fb93cf5a708aed0d343be0856fa7d5d5e48bdffe3e64f238c123d9c4155">rgw_admin::SCRIPT_GET</a>
, <a class="el" href="namespacergw__admin.html#a417a68fb93cf5a708aed0d343be0856fa7c911c0f91cdce6ec538684aca2b780b">rgw_admin::SCRIPT_RM</a>
, <a class="el" href="namespacergw__admin.html#a417a68fb93cf5a708aed0d343be0856fab2f65b04f1ef6dc3a55d5dace41746b2">rgw_admin::SCRIPT_PACKAGE_ADD</a>
, <br />
&#160;&#160;<a class="el" href="namespacergw__admin.html#a417a68fb93cf5a708aed0d343be0856fa528aedeb1c286ab8b25eb504aacf96bf">rgw_admin::SCRIPT_PACKAGE_RM</a>
, <a class="el" href="namespacergw__admin.html#a417a68fb93cf5a708aed0d343be0856fa5ebebf3741771e0454efca3f408b92db">rgw_admin::SCRIPT_PACKAGE_LIST</a>
<br />
 }</td></tr>
<tr class="separator:a417a68fb93cf5a708aed0d343be0856f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
함수</h2></td></tr>
<tr class="memitem:afe3e74bcdf0327f8777c02b83cfea5b5" id="r_afe3e74bcdf0327f8777c02b83cfea5b5"><td class="memItemLeft" align="right" valign="top">static const DoutPrefixProvider *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a> ()</td></tr>
<tr class="separator:afe3e74bcdf0327f8777c02b83cfea5b5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2ef30c42cbc289d899a8be5d2d8f77d0" id="r_a2ef30c42cbc289d899a8be5d2d8f77d0"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rgw__admin_8cc.html#a2ef30c42cbc289d899a8be5d2d8f77d0">usage</a> ()</td></tr>
<tr class="separator:a2ef30c42cbc289d899a8be5d2d8f77d0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4621ffbb2543bb657d8e5d45a38dcaa8" id="r_a4621ffbb2543bb657d8e5d45a38dcaa8"><td class="memItemLeft" align="right" valign="top">BIIndexType&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rgw__admin_8cc.html#a4621ffbb2543bb657d8e5d45a38dcaa8">get_bi_index_type</a> (const string &amp;type_str)</td></tr>
<tr class="separator:a4621ffbb2543bb657d8e5d45a38dcaa8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a12ea66a840022d0ede38215156d30852" id="r_a12ea66a840022d0ede38215156d30852"><td class="memItemLeft" align="right" valign="top"><a class="el" href="rgw__log__backing_8h.html#a8488e4c6d9298df81f48a34e80c81410">log_type</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rgw__admin_8cc.html#a12ea66a840022d0ede38215156d30852">get_log_type</a> (const string &amp;type_str)</td></tr>
<tr class="separator:a12ea66a840022d0ede38215156d30852"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adf88159b68ac947541b8254fb49122ac" id="r_adf88159b68ac947541b8254fb49122ac"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rgw__admin_8cc.html#adf88159b68ac947541b8254fb49122ac">dump_bi_entry</a> (bufferlist &amp;bl, BIIndexType index_type, Formatter *formatter)</td></tr>
<tr class="separator:adf88159b68ac947541b8254fb49122ac"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afddd1cc4dd7fba052586690f4af8a601" id="r_afddd1cc4dd7fba052586690f4af8a601"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rgw__admin_8cc.html#afddd1cc4dd7fba052586690f4af8a601">show_user_info</a> (<a class="el" href="struct_r_g_w_user_info.html">RGWUserInfo</a> &amp;info, Formatter *formatter)</td></tr>
<tr class="separator:afddd1cc4dd7fba052586690f4af8a601"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adbb575f10b45b26660cb6ce9931cce22" id="r_adbb575f10b45b26660cb6ce9931cce22"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rgw__admin_8cc.html#adbb575f10b45b26660cb6ce9931cce22">show_perm_policy</a> (string perm_policy, Formatter *formatter)</td></tr>
<tr class="separator:adbb575f10b45b26660cb6ce9931cce22"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac0f52a9c50ded977fa7b5273f6797c80" id="r_ac0f52a9c50ded977fa7b5273f6797c80"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rgw__admin_8cc.html#ac0f52a9c50ded977fa7b5273f6797c80">show_policy_names</a> (std::vector&lt; string &gt; policy_names, Formatter *formatter)</td></tr>
<tr class="separator:ac0f52a9c50ded977fa7b5273f6797c80"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad4505e23f8adf8af749407b1b8edede4" id="r_ad4505e23f8adf8af749407b1b8edede4"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rgw__admin_8cc.html#ad4505e23f8adf8af749407b1b8edede4">show_role_info</a> (<a class="el" href="classrgw_1_1sal_1_1_r_g_w_role.html">rgw::sal::RGWRole</a> *role, Formatter *formatter)</td></tr>
<tr class="separator:ad4505e23f8adf8af749407b1b8edede4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1cef36570411312985736b706edeb5b2" id="r_a1cef36570411312985736b706edeb5b2"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rgw__admin_8cc.html#a1cef36570411312985736b706edeb5b2">show_roles_info</a> (vector&lt; std::unique_ptr&lt; <a class="el" href="classrgw_1_1sal_1_1_r_g_w_role.html">rgw::sal::RGWRole</a> &gt; &gt; &amp;roles, Formatter *formatter)</td></tr>
<tr class="separator:a1cef36570411312985736b706edeb5b2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ace6270a6fc80e9fce3cef9c397606b5f" id="r_ace6270a6fc80e9fce3cef9c397606b5f"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rgw__admin_8cc.html#ace6270a6fc80e9fce3cef9c397606b5f">show_reshard_status</a> (const list&lt; cls_rgw_bucket_instance_entry &gt; &amp;status, Formatter *formatter)</td></tr>
<tr class="separator:ace6270a6fc80e9fce3cef9c397606b5f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0023a8779e3ab0d965d9acfb3eb72cac" id="r_a0023a8779e3ab0d965d9acfb3eb72cac"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rgw__admin_8cc.html#a0023a8779e3ab0d965d9acfb3eb72cac">init_bucket</a> (<a class="el" href="classrgw_1_1sal_1_1_user.html">rgw::sal::User</a> *user, const <a class="el" href="structrgw__bucket.html">rgw_bucket</a> &amp;b, std::unique_ptr&lt; <a class="el" href="classrgw_1_1sal_1_1_bucket.html">rgw::sal::Bucket</a> &gt; *bucket)</td></tr>
<tr class="separator:a0023a8779e3ab0d965d9acfb3eb72cac"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6170c4393a3e176d659471abf20e2329" id="r_a6170c4393a3e176d659471abf20e2329"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rgw__admin_8cc.html#a6170c4393a3e176d659471abf20e2329">init_bucket</a> (<a class="el" href="classrgw_1_1sal_1_1_user.html">rgw::sal::User</a> *user, const string &amp;tenant_name, const string &amp;bucket_name, const string &amp;bucket_id, std::unique_ptr&lt; <a class="el" href="classrgw_1_1sal_1_1_bucket.html">rgw::sal::Bucket</a> &gt; *bucket)</td></tr>
<tr class="separator:a6170c4393a3e176d659471abf20e2329"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4370c2bc6e6412e65a17072ecebfc3b6" id="r_a4370c2bc6e6412e65a17072ecebfc3b6"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rgw__admin_8cc.html#a4370c2bc6e6412e65a17072ecebfc3b6">read_input</a> (const string &amp;infile, bufferlist &amp;bl)</td></tr>
<tr class="separator:a4370c2bc6e6412e65a17072ecebfc3b6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a33c98984a0812f3128d874042ee17c68" id="r_a33c98984a0812f3128d874042ee17c68"><td class="memTemplParams" colspan="2">template&lt;class T &gt; </td></tr>
<tr class="memitem:a33c98984a0812f3128d874042ee17c68"><td class="memTemplItemLeft" align="right" valign="top">static int&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="rgw__admin_8cc.html#a33c98984a0812f3128d874042ee17c68">read_decode_json</a> (const string &amp;infile, T &amp;t)</td></tr>
<tr class="separator:a33c98984a0812f3128d874042ee17c68"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adfb9f542429916b1b87a9f793f6467e5" id="r_adfb9f542429916b1b87a9f793f6467e5"><td class="memTemplParams" colspan="2">template&lt;class T , class K &gt; </td></tr>
<tr class="memitem:adfb9f542429916b1b87a9f793f6467e5"><td class="memTemplItemLeft" align="right" valign="top">static int&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="rgw__admin_8cc.html#adfb9f542429916b1b87a9f793f6467e5">read_decode_json</a> (const string &amp;infile, T &amp;t, K *k)</td></tr>
<tr class="separator:adfb9f542429916b1b87a9f793f6467e5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a64d9f3c5499d6bba1f03c76ff109c2f6" id="r_a64d9f3c5499d6bba1f03c76ff109c2f6"><td class="memTemplParams" colspan="2">template&lt;class T &gt; </td></tr>
<tr class="memitem:a64d9f3c5499d6bba1f03c76ff109c2f6"><td class="memTemplItemLeft" align="right" valign="top">static bool&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="rgw__admin_8cc.html#a64d9f3c5499d6bba1f03c76ff109c2f6">decode_dump</a> (const char *field_name, bufferlist &amp;bl, Formatter *f)</td></tr>
<tr class="separator:a64d9f3c5499d6bba1f03c76ff109c2f6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af867f986d76240a18da3b037d41d742c" id="r_af867f986d76240a18da3b037d41d742c"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rgw__admin_8cc.html#af867f986d76240a18da3b037d41d742c">dump_string</a> (const char *field_name, bufferlist &amp;bl, Formatter *f)</td></tr>
<tr class="separator:af867f986d76240a18da3b037d41d742c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abb9e0ffbf36a71fe5f3a9320495c0228" id="r_abb9e0ffbf36a71fe5f3a9320495c0228"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rgw__admin_8cc.html#abb9e0ffbf36a71fe5f3a9320495c0228">set_ratelimit_info</a> (<a class="el" href="struct_r_g_w_rate_limit_info.html">RGWRateLimitInfo</a> &amp;ratelimit, <a class="el" href="namespacergw__admin.html#a417a68fb93cf5a708aed0d343be0856f">OPT</a> opt_cmd, int64_t max_read_ops, int64_t max_write_ops, int64_t max_read_bytes, int64_t max_write_bytes, bool have_max_read_ops, bool have_max_write_ops, bool have_max_read_bytes, bool have_max_write_bytes)</td></tr>
<tr class="separator:abb9e0ffbf36a71fe5f3a9320495c0228"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a47785697389493a3eba737404eaab01b" id="r_a47785697389493a3eba737404eaab01b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rgw__admin_8cc.html#a47785697389493a3eba737404eaab01b">set_quota_info</a> (<a class="el" href="struct_r_g_w_quota_info.html">RGWQuotaInfo</a> &amp;quota, <a class="el" href="namespacergw__admin.html#a417a68fb93cf5a708aed0d343be0856f">OPT</a> opt_cmd, int64_t max_size, int64_t max_objects, bool have_max_size, bool have_max_objects)</td></tr>
<tr class="separator:a47785697389493a3eba737404eaab01b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adacb41248cf30097cf288bb44a093923" id="r_adacb41248cf30097cf288bb44a093923"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rgw__admin_8cc.html#adacb41248cf30097cf288bb44a093923">set_bucket_quota</a> (<a class="el" href="classrgw_1_1sal_1_1_store.html">rgw::sal::Store</a> *<a class="el" href="rgw__admin_8cc.html#a6fdb26d64b14d837b60e83a6ca3e2863">store</a>, <a class="el" href="namespacergw__admin.html#a417a68fb93cf5a708aed0d343be0856f">OPT</a> opt_cmd, const string &amp;tenant_name, const string &amp;bucket_name, int64_t max_size, int64_t max_objects, bool have_max_size, bool have_max_objects)</td></tr>
<tr class="separator:adacb41248cf30097cf288bb44a093923"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac7ecfff67d5f6ace5a2144c93d8a7d77" id="r_ac7ecfff67d5f6ace5a2144c93d8a7d77"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rgw__admin_8cc.html#ac7ecfff67d5f6ace5a2144c93d8a7d77">set_bucket_ratelimit</a> (<a class="el" href="classrgw_1_1sal_1_1_store.html">rgw::sal::Store</a> *<a class="el" href="rgw__admin_8cc.html#a6fdb26d64b14d837b60e83a6ca3e2863">store</a>, <a class="el" href="namespacergw__admin.html#a417a68fb93cf5a708aed0d343be0856f">OPT</a> opt_cmd, const string &amp;tenant_name, const string &amp;bucket_name, int64_t max_read_ops, int64_t max_write_ops, int64_t max_read_bytes, int64_t max_write_bytes, bool have_max_read_ops, bool have_max_write_ops, bool have_max_read_bytes, bool have_max_write_bytes)</td></tr>
<tr class="separator:ac7ecfff67d5f6ace5a2144c93d8a7d77"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acdcb0d724bb4768b0809eb0f78cd4ab4" id="r_acdcb0d724bb4768b0809eb0f78cd4ab4"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rgw__admin_8cc.html#acdcb0d724bb4768b0809eb0f78cd4ab4">set_user_ratelimit</a> (<a class="el" href="namespacergw__admin.html#a417a68fb93cf5a708aed0d343be0856f">OPT</a> opt_cmd, std::unique_ptr&lt; <a class="el" href="classrgw_1_1sal_1_1_user.html">rgw::sal::User</a> &gt; &amp;user, int64_t max_read_ops, int64_t max_write_ops, int64_t max_read_bytes, int64_t max_write_bytes, bool have_max_read_ops, bool have_max_write_ops, bool have_max_read_bytes, bool have_max_write_bytes)</td></tr>
<tr class="separator:acdcb0d724bb4768b0809eb0f78cd4ab4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0a59f4856530c0ea2ecbfecf76260725" id="r_a0a59f4856530c0ea2ecbfecf76260725"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rgw__admin_8cc.html#a0a59f4856530c0ea2ecbfecf76260725">show_user_ratelimit</a> (std::unique_ptr&lt; <a class="el" href="classrgw_1_1sal_1_1_user.html">rgw::sal::User</a> &gt; &amp;user, Formatter *formatter)</td></tr>
<tr class="separator:a0a59f4856530c0ea2ecbfecf76260725"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af18d4697640ec840e1bf2fd7e9d30953" id="r_af18d4697640ec840e1bf2fd7e9d30953"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rgw__admin_8cc.html#af18d4697640ec840e1bf2fd7e9d30953">show_bucket_ratelimit</a> (<a class="el" href="classrgw_1_1sal_1_1_store.html">rgw::sal::Store</a> *<a class="el" href="rgw__admin_8cc.html#a6fdb26d64b14d837b60e83a6ca3e2863">store</a>, const string &amp;tenant_name, const string &amp;bucket_name, Formatter *formatter)</td></tr>
<tr class="separator:af18d4697640ec840e1bf2fd7e9d30953"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeb16ac40eaa88d8f9aaf0b2def2fe2fb" id="r_aeb16ac40eaa88d8f9aaf0b2def2fe2fb"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rgw__admin_8cc.html#aeb16ac40eaa88d8f9aaf0b2def2fe2fb">set_user_bucket_quota</a> (<a class="el" href="namespacergw__admin.html#a417a68fb93cf5a708aed0d343be0856f">OPT</a> opt_cmd, <a class="el" href="class_r_g_w_user.html">RGWUser</a> &amp;user, <a class="el" href="struct_r_g_w_user_admin_op_state.html">RGWUserAdminOpState</a> &amp;op_state, int64_t max_size, int64_t max_objects, bool have_max_size, bool have_max_objects)</td></tr>
<tr class="separator:aeb16ac40eaa88d8f9aaf0b2def2fe2fb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a45756af62516a89ecfa1951a630f7a73" id="r_a45756af62516a89ecfa1951a630f7a73"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rgw__admin_8cc.html#a45756af62516a89ecfa1951a630f7a73">set_user_quota</a> (<a class="el" href="namespacergw__admin.html#a417a68fb93cf5a708aed0d343be0856f">OPT</a> opt_cmd, <a class="el" href="class_r_g_w_user.html">RGWUser</a> &amp;user, <a class="el" href="struct_r_g_w_user_admin_op_state.html">RGWUserAdminOpState</a> &amp;op_state, int64_t max_size, int64_t max_objects, bool have_max_size, bool have_max_objects)</td></tr>
<tr class="separator:a45756af62516a89ecfa1951a630f7a73"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa274fe37d51829df1fbc452da59dfdfa" id="r_aa274fe37d51829df1fbc452da59dfdfa"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rgw__admin_8cc.html#aa274fe37d51829df1fbc452da59dfdfa">check_min_obj_stripe_size</a> (<a class="el" href="classrgw_1_1sal_1_1_store.html">rgw::sal::Store</a> *<a class="el" href="rgw__admin_8cc.html#a6fdb26d64b14d837b60e83a6ca3e2863">store</a>, <a class="el" href="classrgw_1_1sal_1_1_object.html">rgw::sal::Object</a> *obj, uint64_t min_stripe_size, bool *need_rewrite)</td></tr>
<tr class="separator:aa274fe37d51829df1fbc452da59dfdfa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9936e83962e52b5d34c57a2974e5baf5" id="r_a9936e83962e52b5d34c57a2974e5baf5"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rgw__admin_8cc.html#a9936e83962e52b5d34c57a2974e5baf5">check_obj_locator_underscore</a> (<a class="el" href="classrgw_1_1sal_1_1_object.html">rgw::sal::Object</a> *obj, bool fix, bool remove_bad, Formatter *f)</td></tr>
<tr class="separator:a9936e83962e52b5d34c57a2974e5baf5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af25b7e0e8221907dbae24af72269d8c7" id="r_af25b7e0e8221907dbae24af72269d8c7"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rgw__admin_8cc.html#af25b7e0e8221907dbae24af72269d8c7">check_obj_tail_locator_underscore</a> (<a class="el" href="struct_r_g_w_bucket_info.html">RGWBucketInfo</a> &amp;bucket_info, <a class="el" href="structrgw__obj__key.html">rgw_obj_key</a> &amp;key, bool fix, Formatter *f)</td></tr>
<tr class="separator:af25b7e0e8221907dbae24af72269d8c7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7987767bde42cfaa2fbc443042879153" id="r_a7987767bde42cfaa2fbc443042879153"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rgw__admin_8cc.html#a7987767bde42cfaa2fbc443042879153">do_check_object_locator</a> (const string &amp;tenant_name, const string &amp;bucket_name, bool fix, bool remove_bad, Formatter *f)</td></tr>
<tr class="separator:a7987767bde42cfaa2fbc443042879153"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a30b65084fc8065e4fcfc47abe3775e67" id="r_a30b65084fc8065e4fcfc47abe3775e67"><td class="memItemLeft" align="right" valign="top">static boost::optional&lt; <a class="el" href="class_r_g_w_r_e_s_t_conn.html">RGWRESTConn</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rgw__admin_8cc.html#a30b65084fc8065e4fcfc47abe3775e67">get_remote_conn</a> (<a class="el" href="classrgw_1_1sal_1_1_rados_store.html">rgw::sal::RadosStore</a> *<a class="el" href="rgw__admin_8cc.html#a6fdb26d64b14d837b60e83a6ca3e2863">store</a>, const <a class="el" href="struct_r_g_w_zone_group.html">RGWZoneGroup</a> &amp;zonegroup, const std::string &amp;remote)</td></tr>
<tr class="memdesc:a30b65084fc8065e4fcfc47abe3775e67"><td class="mdescLeft">&#160;</td><td class="mdescRight">search for a matching zone/zonegroup id and return a connection if found  <br /></td></tr>
<tr class="separator:a30b65084fc8065e4fcfc47abe3775e67"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0207f9061d3077f212971a63c082dde8" id="r_a0207f9061d3077f212971a63c082dde8"><td class="memItemLeft" align="right" valign="top">static boost::optional&lt; <a class="el" href="class_r_g_w_r_e_s_t_conn.html">RGWRESTConn</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rgw__admin_8cc.html#a0207f9061d3077f212971a63c082dde8">get_remote_conn</a> (<a class="el" href="classrgw_1_1sal_1_1_rados_store.html">rgw::sal::RadosStore</a> *<a class="el" href="rgw__admin_8cc.html#a6fdb26d64b14d837b60e83a6ca3e2863">store</a>, const <a class="el" href="struct_r_g_w_period_map.html">RGWPeriodMap</a> &amp;period_map, const std::string &amp;remote)</td></tr>
<tr class="memdesc:a0207f9061d3077f212971a63c082dde8"><td class="mdescLeft">&#160;</td><td class="mdescRight">search each zonegroup for a connection  <br /></td></tr>
<tr class="separator:a0207f9061d3077f212971a63c082dde8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a39feaf6aae4a9a011ca6ccd89d1ee44c" id="r_a39feaf6aae4a9a011ca6ccd89d1ee44c"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rgw__admin_8cc.html#a39feaf6aae4a9a011ca6ccd89d1ee44c">send_to_remote_gateway</a> (<a class="el" href="class_r_g_w_r_e_s_t_conn.html">RGWRESTConn</a> *conn, <a class="el" href="structreq__info.html">req_info</a> &amp;info, bufferlist &amp;in_data, JSONParser &amp;parser)</td></tr>
<tr class="separator:a39feaf6aae4a9a011ca6ccd89d1ee44c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab91eb7d099ca1e0e21208450550a3a1a" id="r_ab91eb7d099ca1e0e21208450550a3a1a"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rgw__admin_8cc.html#ab91eb7d099ca1e0e21208450550a3a1a">send_to_url</a> (const string &amp;url, std::optional&lt; string &gt; opt_region, const string &amp;access, const string &amp;secret, <a class="el" href="structreq__info.html">req_info</a> &amp;info, bufferlist &amp;in_data, JSONParser &amp;parser)</td></tr>
<tr class="separator:ab91eb7d099ca1e0e21208450550a3a1a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aff0d5161d67f7441b3696da1f415130d" id="r_aff0d5161d67f7441b3696da1f415130d"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rgw__admin_8cc.html#aff0d5161d67f7441b3696da1f415130d">send_to_remote_or_url</a> (<a class="el" href="class_r_g_w_r_e_s_t_conn.html">RGWRESTConn</a> *conn, const string &amp;url, std::optional&lt; string &gt; opt_region, const string &amp;access, const string &amp;secret, <a class="el" href="structreq__info.html">req_info</a> &amp;info, bufferlist &amp;in_data, JSONParser &amp;parser)</td></tr>
<tr class="separator:aff0d5161d67f7441b3696da1f415130d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa84c5ba46881dc6ab82e752f5864a5d6" id="r_aa84c5ba46881dc6ab82e752f5864a5d6"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rgw__admin_8cc.html#aa84c5ba46881dc6ab82e752f5864a5d6">commit_period</a> (<a class="el" href="class_r_g_w_realm.html">RGWRealm</a> &amp;realm, <a class="el" href="class_r_g_w_period.html">RGWPeriod</a> &amp;period, string remote, const string &amp;url, std::optional&lt; string &gt; opt_region, const string &amp;access, const string &amp;secret, bool force)</td></tr>
<tr class="separator:aa84c5ba46881dc6ab82e752f5864a5d6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4dd5fe9ff30e3225bca7a06c01dde2bd" id="r_a4dd5fe9ff30e3225bca7a06c01dde2bd"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rgw__admin_8cc.html#a4dd5fe9ff30e3225bca7a06c01dde2bd">update_period</a> (const string &amp;realm_id, const string &amp;realm_name, const string &amp;period_id, const string &amp;period_epoch, bool commit, const string &amp;remote, const string &amp;url, std::optional&lt; string &gt; opt_region, const string &amp;access, const string &amp;secret, Formatter *formatter, bool force)</td></tr>
<tr class="separator:a4dd5fe9ff30e3225bca7a06c01dde2bd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4c2860d7471eb587fb90ca562186b7f7" id="r_a4c2860d7471eb587fb90ca562186b7f7"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rgw__admin_8cc.html#a4c2860d7471eb587fb90ca562186b7f7">init_bucket_for_sync</a> (<a class="el" href="classrgw_1_1sal_1_1_user.html">rgw::sal::User</a> *user, const string &amp;tenant, const string &amp;bucket_name, const string &amp;bucket_id, std::unique_ptr&lt; <a class="el" href="classrgw_1_1sal_1_1_bucket.html">rgw::sal::Bucket</a> &gt; *bucket)</td></tr>
<tr class="separator:a4c2860d7471eb587fb90ca562186b7f7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a693377846b7628a32c724cf0200e5a9e" id="r_a693377846b7628a32c724cf0200e5a9e"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rgw__admin_8cc.html#a693377846b7628a32c724cf0200e5a9e">do_period_pull</a> (<a class="el" href="class_r_g_w_r_e_s_t_conn.html">RGWRESTConn</a> *remote_conn, const string &amp;url, std::optional&lt; string &gt; opt_region, const string &amp;access_key, const string &amp;secret_key, const string &amp;realm_id, const string &amp;realm_name, const string &amp;period_id, const string &amp;period_epoch, <a class="el" href="class_r_g_w_period.html">RGWPeriod</a> *period)</td></tr>
<tr class="separator:a693377846b7628a32c724cf0200e5a9e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a925d03f534fd8c7fe90e906e741a925b" id="r_a925d03f534fd8c7fe90e906e741a925b"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rgw__admin_8cc.html#a925d03f534fd8c7fe90e906e741a925b">read_current_period_id</a> (<a class="el" href="classrgw_1_1sal_1_1_rados_store.html">rgw::sal::RadosStore</a> *<a class="el" href="rgw__admin_8cc.html#a6fdb26d64b14d837b60e83a6ca3e2863">store</a>, const std::string &amp;realm_id, const std::string &amp;realm_name, std::string *period_id)</td></tr>
<tr class="separator:a925d03f534fd8c7fe90e906e741a925b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab16e28e9c42b6a21c90152929eb41c23" id="r_ab16e28e9c42b6a21c90152929eb41c23"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rgw__admin_8cc.html#ab16e28e9c42b6a21c90152929eb41c23">flush_ss</a> (stringstream &amp;ss, list&lt; string &gt; &amp;l)</td></tr>
<tr class="separator:ab16e28e9c42b6a21c90152929eb41c23"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abc5dd9e1ee4071fba1cbd66896f8200c" id="r_abc5dd9e1ee4071fba1cbd66896f8200c"><td class="memItemLeft" align="right" valign="top">stringstream &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rgw__admin_8cc.html#abc5dd9e1ee4071fba1cbd66896f8200c">push_ss</a> (stringstream &amp;ss, list&lt; string &gt; &amp;l, int tab=0)</td></tr>
<tr class="separator:abc5dd9e1ee4071fba1cbd66896f8200c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:addb2515e11fb8fc09013757e769993e6" id="r_addb2515e11fb8fc09013757e769993e6"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rgw__admin_8cc.html#addb2515e11fb8fc09013757e769993e6">get_md_sync_status</a> (list&lt; string &gt; &amp;status)</td></tr>
<tr class="separator:addb2515e11fb8fc09013757e769993e6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a72e671e3f52c5bce91c050a50dcbc75a" id="r_a72e671e3f52c5bce91c050a50dcbc75a"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rgw__admin_8cc.html#a72e671e3f52c5bce91c050a50dcbc75a">get_data_sync_status</a> (const <a class="el" href="structrgw__zone__id.html">rgw_zone_id</a> &amp;source_zone, list&lt; string &gt; &amp;status, int tab)</td></tr>
<tr class="separator:a72e671e3f52c5bce91c050a50dcbc75a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a034e61ce17b52c12f92c0fe2cf0cbf9a" id="r_a034e61ce17b52c12f92c0fe2cf0cbf9a"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rgw__admin_8cc.html#a034e61ce17b52c12f92c0fe2cf0cbf9a">tab_dump</a> (const string &amp;header, int width, const list&lt; string &gt; &amp;<a class="el" href="cls__fifo__legacy_8cc.html#a0341b0ec09e77f9d6274d5b1517f7711">entries</a>)</td></tr>
<tr class="separator:a034e61ce17b52c12f92c0fe2cf0cbf9a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a313adbe2d817ca90ee002626049cdacf" id="r_a313adbe2d817ca90ee002626049cdacf"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rgw__admin_8cc.html#a313adbe2d817ca90ee002626049cdacf">sync_status</a> (Formatter *formatter)</td></tr>
<tr class="separator:a313adbe2d817ca90ee002626049cdacf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a797d305cb08bbc54c0338dfd22031a01" id="r_a797d305cb08bbc54c0338dfd22031a01"><td class="memItemLeft" align="right" valign="top">std::ostream &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rgw__admin_8cc.html#a797d305cb08bbc54c0338dfd22031a01">operator&lt;&lt;</a> (std::ostream &amp;out, const <a class="el" href="structindented.html">indented</a> &amp;<a class="el" href="cls__fifo__legacy_8cc.html#a68310108dc1113b2ef0e243d11e5b10d">h</a>)</td></tr>
<tr class="separator:a797d305cb08bbc54c0338dfd22031a01"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a55572dc14e8b7410a92ba9515e0be5a1" id="r_a55572dc14e8b7410a92ba9515e0be5a1"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rgw__admin_8cc.html#a55572dc14e8b7410a92ba9515e0be5a1">bucket_source_sync_status</a> (const DoutPrefixProvider *<a class="el" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>, <a class="el" href="classrgw_1_1sal_1_1_rados_store.html">rgw::sal::RadosStore</a> *<a class="el" href="rgw__admin_8cc.html#a6fdb26d64b14d837b60e83a6ca3e2863">store</a>, const <a class="el" href="struct_r_g_w_zone.html">RGWZone</a> &amp;zone, const <a class="el" href="struct_r_g_w_zone.html">RGWZone</a> &amp;source, <a class="el" href="class_r_g_w_r_e_s_t_conn.html">RGWRESTConn</a> *conn, const <a class="el" href="struct_r_g_w_bucket_info.html">RGWBucketInfo</a> &amp;bucket_info, <a class="el" href="structrgw__sync__bucket__pipe.html">rgw_sync_bucket_pipe</a> pipe, int width, std::ostream &amp;out)</td></tr>
<tr class="separator:a55572dc14e8b7410a92ba9515e0be5a1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab596b9e1a1fc78e98a4d13a66578b658" id="r_ab596b9e1a1fc78e98a4d13a66578b658"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rgw__admin_8cc.html#ab596b9e1a1fc78e98a4d13a66578b658">encode_json</a> (const char *name, const <a class="el" href="struct_r_g_w_bucket_sync_flow_manager_1_1pipe__set.html">RGWBucketSyncFlowManager::pipe_set</a> &amp;pset, Formatter *f)</td></tr>
<tr class="separator:ab596b9e1a1fc78e98a4d13a66578b658"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeb5edee788c0f9992b3b44f626b6f667" id="r_aeb5edee788c0f9992b3b44f626b6f667"><td class="memItemLeft" align="right" valign="top">static std::vector&lt; string &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rgw__admin_8cc.html#aeb5edee788c0f9992b3b44f626b6f667">convert_bucket_set_to_str_vec</a> (const std::set&lt; <a class="el" href="structrgw__bucket.html">rgw_bucket</a> &gt; &amp;bs)</td></tr>
<tr class="separator:aeb5edee788c0f9992b3b44f626b6f667"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac0d34a23b71e61b836ad1f30aea3fe0a" id="r_ac0d34a23b71e61b836ad1f30aea3fe0a"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rgw__admin_8cc.html#ac0d34a23b71e61b836ad1f30aea3fe0a">get_hint_entities</a> (const std::set&lt; <a class="el" href="structrgw__zone__id.html">rgw_zone_id</a> &gt; &amp;zones, const std::set&lt; <a class="el" href="structrgw__bucket.html">rgw_bucket</a> &gt; &amp;buckets, std::set&lt; <a class="el" href="structrgw__sync__bucket__entity.html">rgw_sync_bucket_entity</a> &gt; *hint_entities)</td></tr>
<tr class="separator:ac0d34a23b71e61b836ad1f30aea3fe0a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abb5c367234c8db13f74b9ce673c1e089" id="r_abb5c367234c8db13f74b9ce673c1e089"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="structrgw__zone__id.html">rgw_zone_id</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rgw__admin_8cc.html#abb5c367234c8db13f74b9ce673c1e089">resolve_zone_id</a> (const string &amp;s)</td></tr>
<tr class="separator:abb5c367234c8db13f74b9ce673c1e089"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a68870a41c8445ca90e3f92b4519b8f4d" id="r_a68870a41c8445ca90e3f92b4519b8f4d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structrgw__zone__id.html">rgw_zone_id</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rgw__admin_8cc.html#a68870a41c8445ca90e3f92b4519b8f4d">validate_zone_id</a> (const <a class="el" href="structrgw__zone__id.html">rgw_zone_id</a> &amp;zone_id)</td></tr>
<tr class="separator:a68870a41c8445ca90e3f92b4519b8f4d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abfa871472fdef30cd489d5795df05b4d" id="r_abfa871472fdef30cd489d5795df05b4d"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rgw__admin_8cc.html#abfa871472fdef30cd489d5795df05b4d">sync_info</a> (std::optional&lt; <a class="el" href="structrgw__zone__id.html">rgw_zone_id</a> &gt; opt_target_zone, std::optional&lt; <a class="el" href="structrgw__bucket.html">rgw_bucket</a> &gt; opt_bucket, Formatter *formatter)</td></tr>
<tr class="separator:abfa871472fdef30cd489d5795df05b4d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a261e44d721357bf200c2980f9f564f63" id="r_a261e44d721357bf200c2980f9f564f63"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rgw__admin_8cc.html#a261e44d721357bf200c2980f9f564f63">bucket_sync_info</a> (<a class="el" href="classrgw_1_1sal_1_1_rados_store.html">rgw::sal::RadosStore</a> *<a class="el" href="rgw__admin_8cc.html#a6fdb26d64b14d837b60e83a6ca3e2863">store</a>, const <a class="el" href="struct_r_g_w_bucket_info.html">RGWBucketInfo</a> &amp;info, std::ostream &amp;out)</td></tr>
<tr class="separator:a261e44d721357bf200c2980f9f564f63"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1952ece8a97cc8cf04493a430fb3b6dd" id="r_a1952ece8a97cc8cf04493a430fb3b6dd"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rgw__admin_8cc.html#a1952ece8a97cc8cf04493a430fb3b6dd">bucket_sync_status</a> (<a class="el" href="classrgw_1_1sal_1_1_rados_store.html">rgw::sal::RadosStore</a> *<a class="el" href="rgw__admin_8cc.html#a6fdb26d64b14d837b60e83a6ca3e2863">store</a>, const <a class="el" href="struct_r_g_w_bucket_info.html">RGWBucketInfo</a> &amp;info, const <a class="el" href="structrgw__zone__id.html">rgw_zone_id</a> &amp;source_zone_id, std::optional&lt; <a class="el" href="structrgw__bucket.html">rgw_bucket</a> &gt; &amp;opt_source_bucket, std::ostream &amp;out)</td></tr>
<tr class="separator:a1952ece8a97cc8cf04493a430fb3b6dd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af3323dd65d10e63b537ecff33a279fdf" id="r_af3323dd65d10e63b537ecff33a279fdf"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rgw__admin_8cc.html#af3323dd65d10e63b537ecff33a279fdf">parse_tier_config_param</a> (const string &amp;s, map&lt; string, string, <a class="el" href="structltstr__nocase.html">ltstr_nocase</a> &gt; &amp;out)</td></tr>
<tr class="separator:af3323dd65d10e63b537ecff33a279fdf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a07d3841128712f85bb571720d6b18321" id="r_a07d3841128712f85bb571720d6b18321"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rgw__admin_8cc.html#a07d3841128712f85bb571720d6b18321">check_pool_support_omap</a> (const <a class="el" href="structrgw__pool.html">rgw_pool</a> &amp;pool)</td></tr>
<tr class="separator:a07d3841128712f85bb571720d6b18321"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abce7136ad4dc905a78f722a66b7b6b4c" id="r_abce7136ad4dc905a78f722a66b7b6b4c"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rgw__admin_8cc.html#abce7136ad4dc905a78f722a66b7b6b4c">check_reshard_bucket_params</a> (<a class="el" href="classrgw_1_1sal_1_1_rados_store.html">rgw::sal::RadosStore</a> *<a class="el" href="rgw__admin_8cc.html#a6fdb26d64b14d837b60e83a6ca3e2863">store</a>, const string &amp;bucket_name, const string &amp;tenant, const string &amp;bucket_id, bool num_shards_specified, int num_shards, int yes_i_really_mean_it, std::unique_ptr&lt; <a class="el" href="classrgw_1_1sal_1_1_bucket.html">rgw::sal::Bucket</a> &gt; *bucket)</td></tr>
<tr class="separator:abce7136ad4dc905a78f722a66b7b6b4c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad26c9d112620dc11a0857551803dd990" id="r_ad26c9d112620dc11a0857551803dd990"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rgw__admin_8cc.html#ad26c9d112620dc11a0857551803dd990">scan_totp</a> (CephContext *<a class="el" href="cls__fifo__legacy_8cc.html#aa76801f7597f40e158b5f38b2e6466c5">cct</a>, ceph::real_time &amp;now, rados::cls::otp::otp_info_t &amp;totp, vector&lt; string &gt; &amp;pins, time_t *pofs)</td></tr>
<tr class="separator:ad26c9d112620dc11a0857551803dd990"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a15dd52ecddc8de71b5476bac51af66b7" id="r_a15dd52ecddc8de71b5476bac51af66b7"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rgw__admin_8cc.html#a15dd52ecddc8de71b5476bac51af66b7">trim_sync_error_log</a> (int shard_id, const string &amp;marker, int delay_ms)</td></tr>
<tr class="separator:a15dd52ecddc8de71b5476bac51af66b7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a266e1d9277daa7bcaf9f20a9f469f72e" id="r_a266e1d9277daa7bcaf9f20a9f469f72e"><td class="memItemLeft" align="right" valign="top">const string &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rgw__admin_8cc.html#a266e1d9277daa7bcaf9f20a9f469f72e">get_tier_type</a> (<a class="el" href="classrgw_1_1sal_1_1_rados_store.html">rgw::sal::RadosStore</a> *<a class="el" href="rgw__admin_8cc.html#a6fdb26d64b14d837b60e83a6ca3e2863">store</a>)</td></tr>
<tr class="separator:a266e1d9277daa7bcaf9f20a9f469f72e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab8cce19268215080781572ed7419e6be" id="r_ab8cce19268215080781572ed7419e6be"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rgw__admin_8cc.html#ab8cce19268215080781572ed7419e6be">symmetrical_flow_opt</a> (const string &amp;opt)</td></tr>
<tr class="separator:ab8cce19268215080781572ed7419e6be"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae20a7c4c3a4d5f2419cb34c2fc4c9a87" id="r_ae20a7c4c3a4d5f2419cb34c2fc4c9a87"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rgw__admin_8cc.html#ae20a7c4c3a4d5f2419cb34c2fc4c9a87">directional_flow_opt</a> (const string &amp;opt)</td></tr>
<tr class="separator:ae20a7c4c3a4d5f2419cb34c2fc4c9a87"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0f5786a9208fab23de2b4d15b3280a19" id="r_a0f5786a9208fab23de2b4d15b3280a19"><td class="memTemplParams" colspan="2">template&lt;class T &gt; </td></tr>
<tr class="memitem:a0f5786a9208fab23de2b4d15b3280a19"><td class="memTemplItemLeft" align="right" valign="top">static bool&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="rgw__admin_8cc.html#a0f5786a9208fab23de2b4d15b3280a19">require_opt</a> (std::optional&lt; T &gt; opt, bool extra_check=true)</td></tr>
<tr class="separator:a0f5786a9208fab23de2b4d15b3280a19"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a78fd52ad2c196db029e40a44eebaa75c" id="r_a78fd52ad2c196db029e40a44eebaa75c"><td class="memTemplParams" colspan="2">template&lt;class T &gt; </td></tr>
<tr class="memitem:a78fd52ad2c196db029e40a44eebaa75c"><td class="memTemplItemLeft" align="right" valign="top">static bool&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="rgw__admin_8cc.html#a78fd52ad2c196db029e40a44eebaa75c">require_non_empty_opt</a> (std::optional&lt; T &gt; opt, bool extra_check=true)</td></tr>
<tr class="separator:a78fd52ad2c196db029e40a44eebaa75c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2566548dda6d3a7ce1e9d3bca22d7a4c" id="r_a2566548dda6d3a7ce1e9d3bca22d7a4c"><td class="memTemplParams" colspan="2">template&lt;class T &gt; </td></tr>
<tr class="memitem:a2566548dda6d3a7ce1e9d3bca22d7a4c"><td class="memTemplItemLeft" align="right" valign="top">static void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="rgw__admin_8cc.html#a2566548dda6d3a7ce1e9d3bca22d7a4c">show_result</a> (T &amp;obj, Formatter *formatter, ostream &amp;os)</td></tr>
<tr class="separator:a2566548dda6d3a7ce1e9d3bca22d7a4c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af79477a91589c6c856ba9fa2b608e52d" id="r_af79477a91589c6c856ba9fa2b608e52d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rgw__admin_8cc.html#af79477a91589c6c856ba9fa2b608e52d">init_optional_bucket</a> (std::optional&lt; <a class="el" href="structrgw__bucket.html">rgw_bucket</a> &gt; &amp;opt_bucket, std::optional&lt; string &gt; &amp;opt_tenant, std::optional&lt; string &gt; &amp;opt_bucket_name, std::optional&lt; string &gt; &amp;opt_bucket_id)</td></tr>
<tr class="separator:af79477a91589c6c856ba9fa2b608e52d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a33febd2fe0e966d847c7beab7e0d80e2" id="r_a33febd2fe0e966d847c7beab7e0d80e2"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rgw__admin_8cc.html#a33febd2fe0e966d847c7beab7e0d80e2">resolve_zone_id_opt</a> (std::optional&lt; string &gt; &amp;zone_name, std::optional&lt; <a class="el" href="structrgw__zone__id.html">rgw_zone_id</a> &gt; &amp;zone_id)</td></tr>
<tr class="separator:a33febd2fe0e966d847c7beab7e0d80e2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1cd3093171a87f32bc690211a3f2a403" id="r_a1cd3093171a87f32bc690211a3f2a403"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rgw__admin_8cc.html#a1cd3093171a87f32bc690211a3f2a403">resolve_zone_ids_opt</a> (std::optional&lt; vector&lt; string &gt; &gt; &amp;names, std::optional&lt; vector&lt; <a class="el" href="structrgw__zone__id.html">rgw_zone_id</a> &gt; &gt; &amp;ids)</td></tr>
<tr class="separator:a1cd3093171a87f32bc690211a3f2a403"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9a0d9e9a1fa47ab694cdf7f78d2f7112" id="r_a9a0d9e9a1fa47ab694cdf7f78d2f7112"><td class="memItemLeft" align="right" valign="top">static vector&lt; <a class="el" href="structrgw__zone__id.html">rgw_zone_id</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rgw__admin_8cc.html#a9a0d9e9a1fa47ab694cdf7f78d2f7112">zone_ids_from_str</a> (const string &amp;val)</td></tr>
<tr class="separator:a9a0d9e9a1fa47ab694cdf7f78d2f7112"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a84cea37ccd3887febf97098889bfb364" id="r_a84cea37ccd3887febf97098889bfb364"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rgw__admin_8cc.html#a84cea37ccd3887febf97098889bfb364">search_entities_by_zone</a> (<a class="el" href="structrgw__zone__id.html">rgw_zone_id</a> zone_id, <a class="el" href="class_r_g_w_realm.html">RGWRealm</a> *prealm, <a class="el" href="class_r_g_w_period.html">RGWPeriod</a> *pperiod, <a class="el" href="struct_r_g_w_zone_group.html">RGWZoneGroup</a> *pzonegroup, bool *pfound)</td></tr>
<tr class="separator:a84cea37ccd3887febf97098889bfb364"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a004948fa8d9f2a3b5f6801bebab78398" id="r_a004948fa8d9f2a3b5f6801bebab78398"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rgw__admin_8cc.html#a004948fa8d9f2a3b5f6801bebab78398">try_to_resolve_local_zone</a> (string &amp;zone_id, string &amp;zone_name)</td></tr>
<tr class="separator:a004948fa8d9f2a3b5f6801bebab78398"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8152a0df0f659eada315ad2bd06088eb" id="r_a8152a0df0f659eada315ad2bd06088eb"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rgw__admin_8cc.html#a8152a0df0f659eada315ad2bd06088eb">check_set_consistent</a> (const string &amp;resolved_param, string &amp;param, const string &amp;param_name)</td></tr>
<tr class="separator:a8152a0df0f659eada315ad2bd06088eb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a33812c768aaef292f4ee9a7dbfb1e6dd" id="r_a33812c768aaef292f4ee9a7dbfb1e6dd"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rgw__admin_8cc.html#a33812c768aaef292f4ee9a7dbfb1e6dd">try_to_resolve_local_entities</a> (string &amp;realm_id, string &amp;realm_name, string &amp;zonegroup_id, string &amp;zonegroup_name, string &amp;zone_id, string &amp;zone_name)</td></tr>
<tr class="separator:a33812c768aaef292f4ee9a7dbfb1e6dd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7768f24487752988851b23b71c20024f" id="r_a7768f24487752988851b23b71c20024f"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rgw__admin_8cc.html#a7768f24487752988851b23b71c20024f">empty_opt</a> (std::optional&lt; string &gt; &amp;os)</td></tr>
<tr class="separator:a7768f24487752988851b23b71c20024f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1a84845aea98042ae470c1245cadb7f9" id="r_a1a84845aea98042ae470c1245cadb7f9"><td class="memItemLeft" align="right" valign="top">static string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rgw__admin_8cc.html#a1a84845aea98042ae470c1245cadb7f9">safe_opt</a> (std::optional&lt; string &gt; &amp;os)</td></tr>
<tr class="separator:a1a84845aea98042ae470c1245cadb7f9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abb0b9c6525eea74a787a3148b40ac040" id="r_abb0b9c6525eea74a787a3148b40ac040"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rgw__admin_8cc.html#abb0b9c6525eea74a787a3148b40ac040">init_realm_param</a> (CephContext *<a class="el" href="cls__fifo__legacy_8cc.html#aa76801f7597f40e158b5f38b2e6466c5">cct</a>, string &amp;var, std::optional&lt; string &gt; &amp;opt_var, const string &amp;conf_name)</td></tr>
<tr class="separator:abb0b9c6525eea74a787a3148b40ac040"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a217dbf8b442f20279ea00b898af96f52" id="r_a217dbf8b442f20279ea00b898af96f52"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rgw__admin_8cc.html#a217dbf8b442f20279ea00b898af96f52">main</a> (int argc, const char **argv)</td></tr>
<tr class="separator:a217dbf8b442f20279ea00b898af96f52"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="var-members" name="var-members"></a>
변수</h2></td></tr>
<tr class="memitem:a6fdb26d64b14d837b60e83a6ca3e2863" id="r_a6fdb26d64b14d837b60e83a6ca3e2863"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="classrgw_1_1sal_1_1_store.html">rgw::sal::Store</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rgw__admin_8cc.html#a6fdb26d64b14d837b60e83a6ca3e2863">store</a> = NULL</td></tr>
<tr class="separator:a6fdb26d64b14d837b60e83a6ca3e2863"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaac958120d2ef3eda1862455254121e9" id="r_aaac958120d2ef3eda1862455254121e9"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="class_simple_cmd.html#ae5491dfb72f6fb92ea509e9494b2e15b">SimpleCmd::Commands</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rgw__admin_8cc.html#aaac958120d2ef3eda1862455254121e9">all_cmds</a></td></tr>
<tr class="separator:aaac958120d2ef3eda1862455254121e9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5e69901da81978961356b5eed1955990" id="r_a5e69901da81978961356b5eed1955990"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="class_simple_cmd.html#a8ebaeb02632ad61f7a112966f0e4f33e">SimpleCmd::Aliases</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rgw__admin_8cc.html#a5e69901da81978961356b5eed1955990">cmd_aliases</a></td></tr>
<tr class="separator:a5e69901da81978961356b5eed1955990"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:affb734b98a76ff7b06b1ba2b67d2a5ee" id="r_affb734b98a76ff7b06b1ba2b67d2a5ee"><td class="memItemLeft" align="right" valign="top">static constexpr size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rgw__admin_8cc.html#affb734b98a76ff7b06b1ba2b67d2a5ee">MAX_REST_RESPONSE</a> = 128 * 1024</td></tr>
<tr class="separator:affb734b98a76ff7b06b1ba2b67d2a5ee"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">매크로 문서화</h2>
<a id="a433381053c9648c55608e92806b59861" name="a433381053c9648c55608e92806b59861"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a433381053c9648c55608e92806b59861">&#9670;&#160;</a></span>CHECK_SUCCESS</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CHECK_SUCCESS</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">x, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">msg&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>값:</b><div class="fragment"><div class="line">  <span class="keywordflow">do</span> { \</div>
<div class="line">    <span class="keywordtype">int</span> _x_val = (x); \</div>
<div class="line">    if (_x_val &lt; 0) { \</div>
<div class="line">      cerr &lt;&lt; msg &lt;&lt; <span class="stringliteral">&quot;: &quot;</span> &lt;&lt; cpp_strerror(-_x_val) &lt;&lt; std::endl; \</div>
<div class="line">      <span class="keywordflow">return</span> _x_val; \</div>
<div class="line">    } \</div>
<div class="line">  } <span class="keywordflow">while</span> (0)</div>
</div><!-- fragment -->
<p class="definition"><a class="el" href="rgw__admin_8cc_source.html">rgw_admin.cc</a> 파일의 <a class="el" href="rgw__admin_8cc_source.html#l00099">99</a> 번째 라인에서 정의되었습니다.</p>
<div class="fragment"><div class="line"><span class="lineno">  100</span>     { \</div>
<div class="line"><span class="lineno">  101</span>    <span class="keywordtype">int</span> _x_val = (x); \</div>
<div class="line"><span class="lineno">  102</span>    if (_x_val &lt; 0) { \</div>
<div class="line"><span class="lineno">  103</span>      cerr &lt;&lt; msg &lt;&lt; <span class="stringliteral">&quot;: &quot;</span> &lt;&lt; cpp_strerror(-_x_val) &lt;&lt; std::endl; \</div>
<div class="line"><span class="lineno">  104</span>      <span class="keywordflow">return</span> _x_val; \</div>
<div class="line"><span class="lineno">  105</span>    } \</div>
<div class="line"><span class="lineno">  106</span>  } <span class="keywordflow">while</span> (0)</div>
</div><!-- fragment -->
</div>
</div>
<a id="aa0ae86aa3d2a507ff84e752fea20f39d" name="aa0ae86aa3d2a507ff84e752fea20f39d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa0ae86aa3d2a507ff84e752fea20f39d">&#9670;&#160;</a></span>CHECK_TRUE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CHECK_TRUE</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">x, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">msg, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">err&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>값:</b><div class="fragment"><div class="line">  <span class="keywordflow">do</span> { \</div>
<div class="line">    if (!x) { \</div>
<div class="line">      cerr &lt;&lt; msg &lt;&lt; std::endl; \</div>
<div class="line">      <span class="keywordflow">return</span> err; \</div>
<div class="line">    } \</div>
<div class="line">  } <span class="keywordflow">while</span> (0)</div>
</div><!-- fragment -->
<p class="definition"><a class="el" href="rgw__admin_8cc_source.html">rgw_admin.cc</a> 파일의 <a class="el" href="rgw__admin_8cc_source.html#l00091">91</a> 번째 라인에서 정의되었습니다.</p>
<div class="fragment"><div class="line"><span class="lineno">   92</span>     { \</div>
<div class="line"><span class="lineno">   93</span>    if (!x) { \</div>
<div class="line"><span class="lineno">   94</span>      cerr &lt;&lt; msg &lt;&lt; std::endl; \</div>
<div class="line"><span class="lineno">   95</span>      <span class="keywordflow">return</span> err; \</div>
<div class="line"><span class="lineno">   96</span>    } \</div>
<div class="line"><span class="lineno">   97</span>  } <span class="keywordflow">while</span> (0)</div>
</div><!-- fragment -->
</div>
</div>
<a id="ad022d09f3c832e077f6ac44f47d513c3" name="ad022d09f3c832e077f6ac44f47d513c3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad022d09f3c832e077f6ac44f47d513c3">&#9670;&#160;</a></span>DEFAULT_RESHARD_MAX_ENTRIES</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DEFAULT_RESHARD_MAX_ENTRIES&#160;&#160;&#160;1000</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="ac9f1b8ed4aca7999d392b2d432030e30" name="ac9f1b8ed4aca7999d392b2d432030e30"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac9f1b8ed4aca7999d392b2d432030e30">&#9670;&#160;</a></span>dout_context</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define dout_context&#160;&#160;&#160;g_ceph_context</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition"><a class="el" href="rgw__admin_8cc_source.html">rgw_admin.cc</a> 파일의 <a class="el" href="rgw__admin_8cc_source.html#l00071">71</a> 번째 라인에서 정의되었습니다.</p>

</div>
</div>
<a id="a5580a2b7c4743669bb9ca22b07e84324" name="a5580a2b7c4743669bb9ca22b07e84324"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5580a2b7c4743669bb9ca22b07e84324">&#9670;&#160;</a></span>dout_subsys</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define dout_subsys&#160;&#160;&#160;ceph_subsys_rgw</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition"><a class="el" href="rgw__admin_8cc_source.html">rgw_admin.cc</a> 파일의 <a class="el" href="rgw__admin_8cc_source.html#l00072">72</a> 번째 라인에서 정의되었습니다.</p>

</div>
</div>
<a id="ae9f99b955c6202f51e4bfbe8751008f4" name="ae9f99b955c6202f51e4bfbe8751008f4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae9f99b955c6202f51e4bfbe8751008f4">&#9670;&#160;</a></span>MAX_LC_LIST_ENTRIES</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MAX_LC_LIST_ENTRIES&#160;&#160;&#160;100</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a4d92151147cbf14f5439dcea2cad244d" name="a4d92151147cbf14f5439dcea2cad244d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4d92151147cbf14f5439dcea2cad244d">&#9670;&#160;</a></span>MAX_TOTP_SKEW_HOURS</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MAX_TOTP_SKEW_HOURS&#160;&#160;&#160;(24 * 7)</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a2a2f0fbf69461868a0554c4cd08cb55f" name="a2a2f0fbf69461868a0554c4cd08cb55f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2a2f0fbf69461868a0554c4cd08cb55f">&#9670;&#160;</a></span>PUBLIC_ID_LEN</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define PUBLIC_ID_LEN&#160;&#160;&#160;20</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition"><a class="el" href="rgw__admin_8cc_source.html">rgw_admin.cc</a> 파일의 <a class="el" href="rgw__admin_8cc_source.html#l00075">75</a> 번째 라인에서 정의되었습니다.</p>

</div>
</div>
<a id="adb77daf1e50d6f419c247052dda62a9e" name="adb77daf1e50d6f419c247052dda62a9e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adb77daf1e50d6f419c247052dda62a9e">&#9670;&#160;</a></span>READ_CHUNK</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define READ_CHUNK&#160;&#160;&#160;8196</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="ac29879f1ed9ca3aa4c8065f5f44176a9" name="ac29879f1ed9ca3aa4c8065f5f44176a9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac29879f1ed9ca3aa4c8065f5f44176a9">&#9670;&#160;</a></span>SECRET_KEY_LEN</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SECRET_KEY_LEN&#160;&#160;&#160;40</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition"><a class="el" href="rgw__admin_8cc_source.html">rgw_admin.cc</a> 파일의 <a class="el" href="rgw__admin_8cc_source.html#l00074">74</a> 번째 라인에서 정의되었습니다.</p>

</div>
</div>
<h2 class="groupheader">함수 문서화</h2>
<a id="a55572dc14e8b7410a92ba9515e0be5a1" name="a55572dc14e8b7410a92ba9515e0be5a1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a55572dc14e8b7410a92ba9515e0be5a1">&#9670;&#160;</a></span>bucket_source_sync_status()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int bucket_source_sync_status </td>
          <td>(</td>
          <td class="paramtype">const DoutPrefixProvider *&#160;</td>
          <td class="paramname"><em>dpp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classrgw_1_1sal_1_1_rados_store.html">rgw::sal::RadosStore</a> *&#160;</td>
          <td class="paramname"><em>store</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="struct_r_g_w_zone.html">RGWZone</a> &amp;&#160;</td>
          <td class="paramname"><em>zone</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="struct_r_g_w_zone.html">RGWZone</a> &amp;&#160;</td>
          <td class="paramname"><em>source</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_r_g_w_r_e_s_t_conn.html">RGWRESTConn</a> *&#160;</td>
          <td class="paramname"><em>conn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="struct_r_g_w_bucket_info.html">RGWBucketInfo</a> &amp;&#160;</td>
          <td class="paramname"><em>bucket_info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structrgw__sync__bucket__pipe.html">rgw_sync_bucket_pipe</a>&#160;</td>
          <td class="paramname"><em>pipe</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>width</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::ostream &amp;&#160;</td>
          <td class="paramname"><em>out</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition"><a class="el" href="rgw__admin_8cc_source.html">rgw_admin.cc</a> 파일의 <a class="el" href="rgw__admin_8cc_source.html#l02472">2472</a> 번째 라인에서 정의되었습니다.</p>
<div class="fragment"><div class="line"><span class="lineno"> 2477</span>{</div>
<div class="line"><span class="lineno"> 2478</span>  out &lt;&lt; <a class="code hl_struct" href="structindented.html">indented</a>{width, <span class="stringliteral">&quot;source zone&quot;</span>} &lt;&lt; source.<a class="code hl_variable" href="struct_r_g_w_zone.html#a411cd69531b0b2651a703ce470e3a2f2">id</a> &lt;&lt; <span class="stringliteral">&quot; (&quot;</span> &lt;&lt; source.<a class="code hl_variable" href="struct_r_g_w_zone.html#a8d9d72ea420eae9a875197afccc71a28">name</a> &lt;&lt; <span class="stringliteral">&quot;)&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 2479</span> </div>
<div class="line"><span class="lineno"> 2480</span>  <span class="comment">// syncing from this zone?</span></div>
<div class="line"><span class="lineno"> 2481</span>  <span class="keywordflow">if</span> (!zone.<a class="code hl_function" href="struct_r_g_w_zone.html#af69fec0b437216f23fd4aaf6ebc1f03b">syncs_from</a>(source.<a class="code hl_variable" href="struct_r_g_w_zone.html#a8d9d72ea420eae9a875197afccc71a28">name</a>)) {</div>
<div class="line"><span class="lineno"> 2482</span>    out &lt;&lt; <a class="code hl_struct" href="structindented.html">indented</a>{width} &lt;&lt; <span class="stringliteral">&quot;does not sync from zone\n&quot;</span>;</div>
<div class="line"><span class="lineno"> 2483</span>    <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno"> 2484</span>  }</div>
<div class="line"><span class="lineno"> 2485</span> </div>
<div class="line"><span class="lineno"> 2486</span>  <span class="keywordflow">if</span> (!pipe.<a class="code hl_variable" href="structrgw__sync__bucket__pipe.html#a481cac8401b1599826d827fe8fc4bbb7">source</a>.<a class="code hl_variable" href="structrgw__sync__bucket__entity.html#a567de4d566de8a372481e2e03996ab69">bucket</a>) {</div>
<div class="line"><span class="lineno"> 2487</span>    ldpp_dout(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>, -1) &lt;&lt; __func__ &lt;&lt; <span class="stringliteral">&quot;(): missing source bucket&quot;</span> &lt;&lt; dendl;</div>
<div class="line"><span class="lineno"> 2488</span>    <span class="keywordflow">return</span> -EINVAL;</div>
<div class="line"><span class="lineno"> 2489</span>  }</div>
<div class="line"><span class="lineno"> 2490</span> </div>
<div class="line"><span class="lineno"> 2491</span>  std::unique_ptr&lt;rgw::sal::Bucket&gt; source_bucket;</div>
<div class="line"><span class="lineno"> 2492</span>  <span class="keywordtype">int</span> <a class="code hl_variable" href="rgw__aio_8cc.html#ae38055824c6eac64615832ad9d888539">r</a> = <a class="code hl_function" href="rgw__admin_8cc.html#a0023a8779e3ab0d965d9acfb3eb72cac">init_bucket</a>(<span class="keyword">nullptr</span>, *pipe.<a class="code hl_variable" href="structrgw__sync__bucket__pipe.html#a481cac8401b1599826d827fe8fc4bbb7">source</a>.<a class="code hl_variable" href="structrgw__sync__bucket__entity.html#a567de4d566de8a372481e2e03996ab69">bucket</a>, &amp;source_bucket);</div>
<div class="line"><span class="lineno"> 2493</span>  <span class="keywordflow">if</span> (<a class="code hl_variable" href="rgw__aio_8cc.html#ae38055824c6eac64615832ad9d888539">r</a> &lt; 0) {</div>
<div class="line"><span class="lineno"> 2494</span>    ldpp_dout(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>, -1) &lt;&lt; <span class="stringliteral">&quot;failed to read source bucket info: &quot;</span> &lt;&lt; cpp_strerror(<a class="code hl_variable" href="rgw__aio_8cc.html#ae38055824c6eac64615832ad9d888539">r</a>) &lt;&lt; dendl;</div>
<div class="line"><span class="lineno"> 2495</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="rgw__aio_8cc.html#ae38055824c6eac64615832ad9d888539">r</a>;</div>
<div class="line"><span class="lineno"> 2496</span>  }</div>
<div class="line"><span class="lineno"> 2497</span> </div>
<div class="line"><span class="lineno"> 2498</span>  pipe.<a class="code hl_variable" href="structrgw__sync__bucket__pipe.html#a481cac8401b1599826d827fe8fc4bbb7">source</a>.<a class="code hl_variable" href="structrgw__sync__bucket__entity.html#a567de4d566de8a372481e2e03996ab69">bucket</a> = source_bucket-&gt;get_key();</div>
<div class="line"><span class="lineno"> 2499</span>  pipe.<a class="code hl_variable" href="structrgw__sync__bucket__pipe.html#a00e5a6db2749563ed72a72592e037b36">dest</a>.<a class="code hl_variable" href="structrgw__sync__bucket__entity.html#a567de4d566de8a372481e2e03996ab69">bucket</a> = bucket_info.<a class="code hl_variable" href="struct_r_g_w_bucket_info.html#afbd8422e16061abdf72d710794ac74d4">bucket</a>;</div>
<div class="line"><span class="lineno"> 2500</span> </div>
<div class="line"><span class="lineno"> 2501</span>  std::vector&lt;rgw_bucket_shard_sync_info&gt; status;</div>
<div class="line"><span class="lineno"> 2502</span>  <a class="code hl_variable" href="rgw__aio_8cc.html#ae38055824c6eac64615832ad9d888539">r</a> = <a class="code hl_function" href="rgw__data__sync_8cc.html#ad0c10af719413a263b7d358154f50639">rgw_bucket_sync_status</a>(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>, <a class="code hl_variable" href="rgw__admin_8cc.html#a6fdb26d64b14d837b60e83a6ca3e2863">store</a>, pipe, bucket_info, &amp;source_bucket-&gt;get_info(), &amp;status);</div>
<div class="line"><span class="lineno"> 2503</span>  <span class="keywordflow">if</span> (<a class="code hl_variable" href="rgw__aio_8cc.html#ae38055824c6eac64615832ad9d888539">r</a> &lt; 0) {</div>
<div class="line"><span class="lineno"> 2504</span>    ldpp_dout(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>, -1) &lt;&lt; <span class="stringliteral">&quot;failed to read bucket sync status: &quot;</span> &lt;&lt; cpp_strerror(<a class="code hl_variable" href="rgw__aio_8cc.html#ae38055824c6eac64615832ad9d888539">r</a>) &lt;&lt; dendl;</div>
<div class="line"><span class="lineno"> 2505</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="rgw__aio_8cc.html#ae38055824c6eac64615832ad9d888539">r</a>;</div>
<div class="line"><span class="lineno"> 2506</span>  }</div>
<div class="line"><span class="lineno"> 2507</span> </div>
<div class="line"><span class="lineno"> 2508</span>  out &lt;&lt; <a class="code hl_struct" href="structindented.html">indented</a>{width, <span class="stringliteral">&quot;source bucket&quot;</span>} &lt;&lt; source_bucket &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 2509</span> </div>
<div class="line"><span class="lineno"> 2510</span>  <span class="keywordtype">int</span> num_full = 0;</div>
<div class="line"><span class="lineno"> 2511</span>  <span class="keywordtype">int</span> num_inc = 0;</div>
<div class="line"><span class="lineno"> 2512</span>  uint64_t full_complete = 0;</div>
<div class="line"><span class="lineno"> 2513</span>  <span class="keyword">const</span> <span class="keywordtype">size_t</span> total_shards = status.size();</div>
<div class="line"><span class="lineno"> 2514</span> </div>
<div class="line"><span class="lineno"> 2515</span>  <span class="keyword">using </span>BucketSyncState = <a class="code hl_enumeration" href="structrgw__bucket__shard__sync__info.html#ad2c3ed5bf74c0355f4b5120603080455">rgw_bucket_shard_sync_info::SyncState</a>;</div>
<div class="line"><span class="lineno"> 2516</span>  <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> shard_id = 0; shard_id &lt; total_shards; shard_id++) {</div>
<div class="line"><span class="lineno"> 2517</span>    <span class="keyword">auto</span>&amp; m = status[shard_id];</div>
<div class="line"><span class="lineno"> 2518</span>    <span class="keywordflow">if</span> (m.state == BucketSyncState::StateFullSync) {</div>
<div class="line"><span class="lineno"> 2519</span>      num_full++;</div>
<div class="line"><span class="lineno"> 2520</span>      full_complete += m.full_marker.count;</div>
<div class="line"><span class="lineno"> 2521</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (m.state == BucketSyncState::StateIncrementalSync) {</div>
<div class="line"><span class="lineno"> 2522</span>      num_inc++;</div>
<div class="line"><span class="lineno"> 2523</span>    }</div>
<div class="line"><span class="lineno"> 2524</span>  }</div>
<div class="line"><span class="lineno"> 2525</span> </div>
<div class="line"><span class="lineno"> 2526</span>  out &lt;&lt; <a class="code hl_struct" href="structindented.html">indented</a>{width} &lt;&lt; <span class="stringliteral">&quot;full sync: &quot;</span> &lt;&lt; num_full &lt;&lt; <span class="stringliteral">&quot;/&quot;</span> &lt;&lt; total_shards &lt;&lt; <span class="stringliteral">&quot; shards\n&quot;</span>;</div>
<div class="line"><span class="lineno"> 2527</span>  <span class="keywordflow">if</span> (num_full &gt; 0) {</div>
<div class="line"><span class="lineno"> 2528</span>    out &lt;&lt; <a class="code hl_struct" href="structindented.html">indented</a>{width} &lt;&lt; <span class="stringliteral">&quot;full sync: &quot;</span> &lt;&lt; full_complete &lt;&lt; <span class="stringliteral">&quot; objects completed\n&quot;</span>;</div>
<div class="line"><span class="lineno"> 2529</span>  }</div>
<div class="line"><span class="lineno"> 2530</span>  out &lt;&lt; <a class="code hl_struct" href="structindented.html">indented</a>{width} &lt;&lt; <span class="stringliteral">&quot;incremental sync: &quot;</span> &lt;&lt; num_inc &lt;&lt; <span class="stringliteral">&quot;/&quot;</span> &lt;&lt; total_shards &lt;&lt; <span class="stringliteral">&quot; shards\n&quot;</span>;</div>
<div class="line"><span class="lineno"> 2531</span> </div>
<div class="line"><span class="lineno"> 2532</span>  BucketIndexShardsManager remote_markers;</div>
<div class="line"><span class="lineno"> 2533</span>  <a class="code hl_variable" href="rgw__aio_8cc.html#ae38055824c6eac64615832ad9d888539">r</a> = <a class="code hl_function" href="rgw__data__sync_8cc.html#ac0274ae3bca3fa8d20b54b486aefd368">rgw_read_remote_bilog_info</a>(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>, conn, source_bucket-&gt;get_key(), remote_markers, null_yield);</div>
<div class="line"><span class="lineno"> 2534</span>  <span class="keywordflow">if</span> (<a class="code hl_variable" href="rgw__aio_8cc.html#ae38055824c6eac64615832ad9d888539">r</a> &lt; 0) {</div>
<div class="line"><span class="lineno"> 2535</span>    ldpp_dout(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>, -1) &lt;&lt; <span class="stringliteral">&quot;failed to read remote log: &quot;</span> &lt;&lt; cpp_strerror(<a class="code hl_variable" href="rgw__aio_8cc.html#ae38055824c6eac64615832ad9d888539">r</a>) &lt;&lt; dendl;</div>
<div class="line"><span class="lineno"> 2536</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="rgw__aio_8cc.html#ae38055824c6eac64615832ad9d888539">r</a>;</div>
<div class="line"><span class="lineno"> 2537</span>  }</div>
<div class="line"><span class="lineno"> 2538</span> </div>
<div class="line"><span class="lineno"> 2539</span>  std::set&lt;int&gt; shards_behind;</div>
<div class="line"><span class="lineno"> 2540</span>  <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp; <a class="code hl_variable" href="rgw__aio_8cc.html#ae38055824c6eac64615832ad9d888539">r</a> : remote_markers.get()) {</div>
<div class="line"><span class="lineno"> 2541</span>    <span class="keyword">auto</span> shard_id = <a class="code hl_variable" href="rgw__aio_8cc.html#ae38055824c6eac64615832ad9d888539">r</a>.first;</div>
<div class="line"><span class="lineno"> 2542</span>    <span class="keyword">auto</span>&amp; m = status[shard_id];</div>
<div class="line"><span class="lineno"> 2543</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="rgw__aio_8cc.html#ae38055824c6eac64615832ad9d888539">r</a>.second.empty()) {</div>
<div class="line"><span class="lineno"> 2544</span>      <span class="keywordflow">continue</span>; <span class="comment">// empty bucket index shard</span></div>
<div class="line"><span class="lineno"> 2545</span>    }</div>
<div class="line"><span class="lineno"> 2546</span>    <span class="keyword">auto</span> pos = BucketIndexShardsManager::get_shard_marker(m.inc_marker.position);</div>
<div class="line"><span class="lineno"> 2547</span>    <span class="keywordflow">if</span> (m.state != BucketSyncState::StateIncrementalSync || pos != <a class="code hl_variable" href="rgw__aio_8cc.html#ae38055824c6eac64615832ad9d888539">r</a>.second) {</div>
<div class="line"><span class="lineno"> 2548</span>      shards_behind.insert(shard_id);</div>
<div class="line"><span class="lineno"> 2549</span>    }</div>
<div class="line"><span class="lineno"> 2550</span>  }</div>
<div class="line"><span class="lineno"> 2551</span>  <span class="keywordflow">if</span> (!shards_behind.empty()) {</div>
<div class="line"><span class="lineno"> 2552</span>    out &lt;&lt; <a class="code hl_struct" href="structindented.html">indented</a>{width} &lt;&lt; <span class="stringliteral">&quot;bucket is behind on &quot;</span> &lt;&lt; shards_behind.size() &lt;&lt; <span class="stringliteral">&quot; shards\n&quot;</span>;</div>
<div class="line"><span class="lineno"> 2553</span>    out &lt;&lt; <a class="code hl_struct" href="structindented.html">indented</a>{width} &lt;&lt; <span class="stringliteral">&quot;behind shards: [&quot;</span> &lt;&lt; shards_behind &lt;&lt; <span class="stringliteral">&quot;]\n&quot;</span> ;</div>
<div class="line"><span class="lineno"> 2554</span>  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!num_full) {</div>
<div class="line"><span class="lineno"> 2555</span>    out &lt;&lt; <a class="code hl_struct" href="structindented.html">indented</a>{width} &lt;&lt; <span class="stringliteral">&quot;bucket is caught up with source\n&quot;</span>;</div>
<div class="line"><span class="lineno"> 2556</span>  }</div>
<div class="line"><span class="lineno"> 2557</span>  <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno"> 2558</span>}</div>
<div class="ttc" id="argw__admin_8cc_html_a0023a8779e3ab0d965d9acfb3eb72cac"><div class="ttname"><a href="rgw__admin_8cc.html#a0023a8779e3ab0d965d9acfb3eb72cac">init_bucket</a></div><div class="ttdeci">static int init_bucket(rgw::sal::User *user, const rgw_bucket &amp;b, std::unique_ptr&lt; rgw::sal::Bucket &gt; *bucket)</div><div class="ttdef"><b>Definition</b> <a href="rgw__admin_8cc_source.html#l01172">rgw_admin.cc:1172</a></div></div>
<div class="ttc" id="argw__admin_8cc_html_a6fdb26d64b14d837b60e83a6ca3e2863"><div class="ttname"><a href="rgw__admin_8cc.html#a6fdb26d64b14d837b60e83a6ca3e2863">store</a></div><div class="ttdeci">static rgw::sal::Store * store</div><div class="ttdef"><b>Definition</b> <a href="rgw__admin_8cc_source.html#l00079">rgw_admin.cc:79</a></div></div>
<div class="ttc" id="argw__admin_8cc_html_afe3e74bcdf0327f8777c02b83cfea5b5"><div class="ttname"><a href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a></div><div class="ttdeci">static const DoutPrefixProvider * dpp()</div><div class="ttdef"><b>Definition</b> <a href="rgw__admin_8cc_source.html#l00081">rgw_admin.cc:81</a></div></div>
<div class="ttc" id="argw__aio_8cc_html_ae38055824c6eac64615832ad9d888539"><div class="ttname"><a href="rgw__aio_8cc.html#ae38055824c6eac64615832ad9d888539">r</a></div><div class="ttdeci">AioResult &amp; r</div><div class="ttdef"><b>Definition</b> <a href="rgw__aio_8cc_source.html#l00067">rgw_aio.cc:67</a></div></div>
<div class="ttc" id="argw__data__sync_8cc_html_ac0274ae3bca3fa8d20b54b486aefd368"><div class="ttname"><a href="rgw__data__sync_8cc.html#ac0274ae3bca3fa8d20b54b486aefd368">rgw_read_remote_bilog_info</a></div><div class="ttdeci">int rgw_read_remote_bilog_info(const DoutPrefixProvider *dpp, RGWRESTConn *conn, const rgw_bucket &amp;bucket, BucketIndexShardsManager &amp;markers, optional_yield y)</div><div class="ttdef"><b>Definition</b> <a href="rgw__data__sync_8cc_source.html#l04925">rgw_data_sync.cc:4925</a></div></div>
<div class="ttc" id="argw__data__sync_8cc_html_ad0c10af719413a263b7d358154f50639"><div class="ttname"><a href="rgw__data__sync_8cc.html#ad0c10af719413a263b7d358154f50639">rgw_bucket_sync_status</a></div><div class="ttdeci">int rgw_bucket_sync_status(const DoutPrefixProvider *dpp, rgw::sal::RadosStore *store, const rgw_sync_bucket_pipe &amp;pipe, const RGWBucketInfo &amp;dest_bucket_info, const RGWBucketInfo *psource_bucket_info, std::vector&lt; rgw_bucket_shard_sync_info &gt; *status)</div><div class="ttdoc">read the sync status of all bucket shards from the given source zone</div><div class="ttdef"><b>Definition</b> <a href="rgw__data__sync_8cc_source.html#l05008">rgw_data_sync.cc:5008</a></div></div>
<div class="ttc" id="astruct_r_g_w_bucket_info_html_afbd8422e16061abdf72d710794ac74d4"><div class="ttname"><a href="struct_r_g_w_bucket_info.html#afbd8422e16061abdf72d710794ac74d4">RGWBucketInfo::bucket</a></div><div class="ttdeci">rgw_bucket bucket</div><div class="ttdef"><b>Definition</b> <a href="rgw__common_8h_source.html#l01063">rgw_common.h:1063</a></div></div>
<div class="ttc" id="astruct_r_g_w_zone_html_a411cd69531b0b2651a703ce470e3a2f2"><div class="ttname"><a href="struct_r_g_w_zone.html#a411cd69531b0b2651a703ce470e3a2f2">RGWZone::id</a></div><div class="ttdeci">std::string id</div><div class="ttdef"><b>Definition</b> <a href="rgw__zone_8h_source.html#l00577">rgw_zone.h:577</a></div></div>
<div class="ttc" id="astruct_r_g_w_zone_html_a8d9d72ea420eae9a875197afccc71a28"><div class="ttname"><a href="struct_r_g_w_zone.html#a8d9d72ea420eae9a875197afccc71a28">RGWZone::name</a></div><div class="ttdeci">std::string name</div><div class="ttdef"><b>Definition</b> <a href="rgw__zone_8h_source.html#l00578">rgw_zone.h:578</a></div></div>
<div class="ttc" id="astruct_r_g_w_zone_html_af69fec0b437216f23fd4aaf6ebc1f03b"><div class="ttname"><a href="struct_r_g_w_zone.html#af69fec0b437216f23fd4aaf6ebc1f03b">RGWZone::syncs_from</a></div><div class="ttdeci">bool syncs_from(const std::string &amp;zone_name) const</div><div class="ttdef"><b>Definition</b> <a href="rgw__zone_8h_source.html#l00661">rgw_zone.h:661</a></div></div>
<div class="ttc" id="astructindented_html"><div class="ttname"><a href="structindented.html">indented</a></div><div class="ttdef"><b>Definition</b> <a href="rgw__admin_8cc_source.html#l02463">rgw_admin.cc:2463</a></div></div>
<div class="ttc" id="astructrgw__bucket__shard__sync__info_html_ad2c3ed5bf74c0355f4b5120603080455"><div class="ttname"><a href="structrgw__bucket__shard__sync__info.html#ad2c3ed5bf74c0355f4b5120603080455">rgw_bucket_shard_sync_info::SyncState</a></div><div class="ttdeci">SyncState</div><div class="ttdef"><b>Definition</b> <a href="rgw__data__sync_8h_source.html#l00524">rgw_data_sync.h:524</a></div></div>
<div class="ttc" id="astructrgw__sync__bucket__entity_html_a567de4d566de8a372481e2e03996ab69"><div class="ttname"><a href="structrgw__sync__bucket__entity.html#a567de4d566de8a372481e2e03996ab69">rgw_sync_bucket_entity::bucket</a></div><div class="ttdeci">std::optional&lt; rgw_bucket &gt; bucket</div><div class="ttdef"><b>Definition</b> <a href="rgw__sync__policy_8h_source.html#l00075">rgw_sync_policy.h:75</a></div></div>
<div class="ttc" id="astructrgw__sync__bucket__pipe_html_a00e5a6db2749563ed72a72592e037b36"><div class="ttname"><a href="structrgw__sync__bucket__pipe.html#a00e5a6db2749563ed72a72592e037b36">rgw_sync_bucket_pipe::dest</a></div><div class="ttdeci">rgw_sync_bucket_entity dest</div><div class="ttdef"><b>Definition</b> <a href="rgw__sync__policy_8h_source.html#l00375">rgw_sync_policy.h:375</a></div></div>
<div class="ttc" id="astructrgw__sync__bucket__pipe_html_a481cac8401b1599826d827fe8fc4bbb7"><div class="ttname"><a href="structrgw__sync__bucket__pipe.html#a481cac8401b1599826d827fe8fc4bbb7">rgw_sync_bucket_pipe::source</a></div><div class="ttdeci">rgw_sync_bucket_entity source</div><div class="ttdef"><b>Definition</b> <a href="rgw__sync__policy_8h_source.html#l00374">rgw_sync_policy.h:374</a></div></div>
</div><!-- fragment --><div class="dynheader">
이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="rgw__admin_8cc_a55572dc14e8b7410a92ba9515e0be5a1_cgraph.png" border="0" usemap="#argw__admin_8cc_a55572dc14e8b7410a92ba9515e0be5a1_cgraph" alt=""/></div>
<map name="argw__admin_8cc_a55572dc14e8b7410a92ba9515e0be5a1_cgraph" id="argw__admin_8cc_a55572dc14e8b7410a92ba9515e0be5a1_cgraph">
<area shape="rect" title=" " alt="" coords="5,148,147,191"/>
<area shape="rect" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5" title=" " alt="" coords="1463,383,1506,410"/>
<area shape="poly" title=" " alt="" coords="93,146,136,103,163,81,193,63,279,27,351,9,424,3,518,3,1013,3,1049,7,1093,17,1196,52,1293,96,1332,118,1359,138,1384,165,1405,194,1440,258,1464,319,1479,367,1474,369,1459,320,1435,260,1401,197,1380,168,1356,142,1329,122,1291,100,1194,57,1092,22,1048,12,1013,8,518,8,425,9,351,14,281,32,196,68,166,86,139,107,97,150"/>
<area shape="rect" href="class_r_g_w_r_e_s_t_conn.html#aa8566192403e5db015175f5ecdd13009" title=" " alt="" coords="200,78,371,104"/>
<area shape="poly" title=" " alt="" coords="120,145,194,114,214,107,216,112,196,119,122,150"/>
<area shape="rect" href="rgw__admin_8cc.html#a0023a8779e3ab0d965d9acfb3eb72cac" title=" " alt="" coords="243,128,328,155"/>
<area shape="poly" title=" " alt="" coords="147,157,228,147,228,152,148,163"/>
<area shape="rect" href="rgw__data__sync_8cc.html#ad0c10af719413a263b7d358154f50639" title="read the sync status of all bucket shards from the given source zone" alt="" coords="203,240,368,267"/>
<area shape="poly" title=" " alt="" coords="132,189,237,232,235,236,130,194"/>
<area shape="rect" href="rgw__data__sync_8cc.html#ac0274ae3bca3fa8d20b54b486aefd368" title=" " alt="" coords="195,455,376,482"/>
<area shape="poly" title=" " alt="" coords="95,190,268,441,264,444,90,193"/>
<area shape="rect" href="struct_r_g_w_zone.html#af69fec0b437216f23fd4aaf6ebc1f03b" title=" " alt="" coords="207,506,364,532"/>
<area shape="poly" title=" " alt="" coords="81,191,89,251,107,332,122,375,141,418,166,457,197,492,200,495,197,499,193,495,162,460,137,420,117,377,102,333,83,252,76,192"/>
<area shape="poly" title=" " alt="" coords="327,131,375,114,388,105,398,96,408,87,423,79,472,63,515,53,590,47,666,50,762,54,1013,54,1072,57,1121,66,1164,80,1201,101,1237,126,1274,156,1359,230,1394,264,1425,301,1470,368,1466,371,1421,304,1390,268,1356,234,1270,160,1234,130,1199,105,1161,85,1120,71,1071,62,1013,59,762,59,666,56,590,52,516,58,474,68,425,84,411,91,401,100,392,109,377,119,329,136"/>
<area shape="rect" href="classrgw_1_1sal_1_1_store.html#a3308ce50125b19ccdf5ce7f69958bd67" title=" " alt="" coords="454,94,585,136"/>
<area shape="poly" title=" " alt="" coords="328,134,438,121,439,127,328,139"/>
<area shape="poly" title=" " alt="" coords="313,237,364,215,423,196,517,178,592,171,762,171,1013,171,1082,177,1151,194,1217,219,1279,249,1335,282,1385,315,1458,371,1454,375,1382,320,1333,287,1276,254,1215,224,1149,199,1081,182,1013,176,762,176,592,176,518,183,425,202,365,220,315,242"/>
<area shape="rect" href="classrgw_1_1sal_1_1_store.html#aca84a6ff80011b26fcd2fa8526c1152e" title=" " alt="" coords="454,211,585,238"/>
<area shape="poly" title=" " alt="" coords="368,241,438,232,439,237,369,246"/>
<area shape="rect" href="classrgw_1_1sal_1_1_store.html#a91db16d708ac953cef44535c16457fb5" title=" " alt="" coords="454,262,585,304"/>
<area shape="poly" title=" " alt="" coords="369,261,439,270,438,276,368,267"/>
<area shape="rect" href="struct_r_g_w_data_sync_ctx.html#a6790e78be7a10a9ab56663efdf9ed503" title=" " alt="" coords="442,328,597,355"/>
<area shape="poly" title=" " alt="" coords="315,265,365,289,425,314,447,321,445,326,423,319,363,294,312,270"/>
<area shape="rect" href="class_r_g_w_coroutines_manager.html#a38ec9d44810bfd9ad15dad3a30cb091a" title=" " alt="" coords="424,379,615,406"/>
<area shape="poly" title=" " alt="" coords="301,265,352,314,387,341,425,365,439,371,437,376,423,369,384,346,349,318,297,269"/>
<area shape="poly" title=" " alt="" coords="376,460,1159,412,1447,396,1448,401,1159,418,377,465"/>
<area shape="rect" href="class_r_g_w_r_e_s_t_conn.html#a0c46db245fa850c5e044c1f7450a7198" title=" " alt="" coords="436,480,604,507"/>
<area shape="poly" title=" " alt="" coords="377,475,420,480,420,486,376,481"/>
<area shape="rect" href="class_r_g_w_r_e_s_t_conn.html#a829921dcfe02e550a48544fba8d94c77" title=" " alt="" coords="433,531,607,574"/>
<area shape="poly" title=" " alt="" coords="343,480,377,491,425,517,439,522,437,527,423,521,375,496,342,485"/>
<area shape="rect" href="structrgw__bucket.html#ad369d093e39599e8eea191882fcdc6a9" title=" " alt="" coords="449,598,590,624"/>
<area shape="poly" title=" " alt="" coords="359,480,378,492,396,515,402,539,409,562,426,584,436,591,433,595,422,588,404,564,397,540,391,517,374,496,356,484"/>
<area shape="poly" title=" " alt="" coords="607,536,1447,399,1448,405,608,541"/>
<area shape="rect" href="class_r_g_w_r_e_s_t_conn.html#a6411fb60b6947dcbe248539da0398767" title=" " alt="" coords="663,586,864,612"/>
<area shape="poly" title=" " alt="" coords="608,566,675,579,674,585,607,572"/>
<area shape="rect" href="rgw__rest__conn_8h.html#ae421db94874c71852c64e30964cc823f" title=" " alt="" coords="697,703,830,730"/>
<area shape="poly" title=" " alt="" coords="594,572,617,583,668,627,738,690,735,694,665,631,614,588,591,577"/>
<area shape="poly" title=" " alt="" coords="785,583,840,551,911,522,977,505,1035,496,1135,493,1234,490,1291,481,1356,463,1406,441,1450,416,1452,421,1409,446,1358,468,1292,486,1235,495,1135,499,1035,502,978,510,913,527,843,556,788,587"/>
<area shape="rect" href="class_r_g_w_h_t_t_p_stream_r_w_request.html#a28de0acc4dc43fc97efbfc4a6ba82c43" title=" " alt="" coords="913,536,1110,579"/>
<area shape="poly" title=" " alt="" coords="847,582,897,574,898,579,848,588"/>
<area shape="rect" href="class_r_g_w_r_e_s_t_conn.html#ac833f895cae6760d02b776c2a597f02d" title=" " alt="" coords="929,627,1094,654"/>
<area shape="poly" title=" " alt="" coords="848,610,914,621,913,627,847,616"/>
<area shape="rect" href="class_r_g_w_r_e_s_t_conn.html#a919ee8e18b3c046e8b64029ab3427130" title=" " alt="" coords="924,678,1099,720"/>
<area shape="poly" title=" " alt="" coords="794,610,913,663,929,669,927,674,911,668,792,615"/>
<area shape="rect" href="class_r_g_w_r_e_s_t_stream_r_w_request.html#ac991b0ba9e3086ee97283a7d26abdfb3" title=" " alt="" coords="912,744,1111,787"/>
<area shape="poly" title=" " alt="" coords="781,611,913,730,922,735,919,740,910,734,778,615"/>
<area shape="rect" href="rgw__rest__client_8cc.html#afe35f1027a22ea12c1e9d5479572cafa" title=" " alt="" coords="1193,535,1323,562"/>
<area shape="poly" title=" " alt="" coords="1110,551,1177,549,1178,554,1111,557"/>
<area shape="rect" href="rgw__rest__client_8cc.html#ab4f60e826eb9d1f1c246a8dc52a1d1f6" title=" " alt="" coords="1185,586,1331,612"/>
<area shape="poly" title=" " alt="" coords="1111,572,1170,582,1169,587,1110,577"/>
<area shape="rect" href="class_r_g_w_h_t_t_p_client.html#a7d489c6689cd946b572415111b0c97b5" title=" " alt="" coords="1184,636,1333,663"/>
<area shape="poly" title=" " alt="" coords="1086,577,1112,589,1136,606,1160,622,1177,629,1175,633,1158,627,1133,610,1110,593,1084,582"/>
<area shape="poly" title=" " alt="" coords="1315,532,1356,514,1387,492,1415,468,1461,420,1465,424,1419,472,1390,497,1359,519,1317,537"/>
<area shape="rect" href="structrgw__http__req__data.html#a2cb0db213911deffc4b43a81a37098b5" title=" " alt="" coords="1405,636,1564,663"/>
<area shape="poly" title=" " alt="" coords="1333,647,1390,647,1390,652,1333,652"/>
<area shape="rect" href="structrgw__http__req__data.html#a5d6962235aabed5aabe98213b486ccb1" title=" " alt="" coords="1612,628,1747,671"/>
<area shape="poly" title=" " alt="" coords="1564,647,1597,647,1597,652,1564,652"/>
<area shape="poly" title=" " alt="" coords="970,628,962,618,968,608,984,602,1011,600,1041,603,1056,610,1054,615,1040,608,1011,606,985,608,971,612,968,618,974,625"/>
<area shape="rect" href="class_r_g_w_r_e_s_t_conn.html#ae90bac8b6344ad9f172ce25c12cf82e9" title=" " alt="" coords="1159,687,1357,714"/>
<area shape="poly" title=" " alt="" coords="1099,697,1143,697,1143,702,1099,702"/>
<area shape="rect" href="class_r_g_w_r_e_s_t_conn.html#a80208c730562921a2e3b4d9dde10855e" title=" " alt="" coords="1171,738,1345,780"/>
<area shape="poly" title=" " alt="" coords="1100,718,1156,731,1155,737,1098,723"/>
<area shape="rect" href="structrgw__user.html#afd8a9e36c5a9f7773c13d903c3124e99" title=" " alt="" coords="1426,687,1543,714"/>
<area shape="poly" title=" " alt="" coords="1358,698,1411,698,1411,703,1358,703"/>
<area shape="rect" href="structrgw__user.html#af00f510d6a9ff0580d87ee46b274d96e" title=" " alt="" coords="1427,738,1542,764"/>
<area shape="poly" title=" " alt="" coords="1322,712,1413,732,1412,737,1321,717"/>
<area shape="rect" href="rgw__basic__types_8cc.html#a83dfe8268c0c76ff6ceaf083ad129d5c" title=" " alt="" coords="952,811,1071,838"/>
<area shape="poly" title=" " alt="" coords="787,728,842,762,913,796,938,805,936,810,911,801,840,766,784,732"/>
<area shape="rect" href="structrgw__user.html#a7e60b2dd070ae3af5cebb6c34946bac6" title=" " alt="" coords="1194,811,1322,838"/>
<area shape="poly" title=" " alt="" coords="1071,822,1179,822,1179,827,1071,827"/>
</map>
</div>
<div class="dynheader">
이 함수를 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="rgw__admin_8cc_a55572dc14e8b7410a92ba9515e0be5a1_icgraph.png" border="0" usemap="#argw__admin_8cc_a55572dc14e8b7410a92ba9515e0be5a1_icgraph" alt=""/></div>
<map name="argw__admin_8cc_a55572dc14e8b7410a92ba9515e0be5a1_icgraph" id="argw__admin_8cc_a55572dc14e8b7410a92ba9515e0be5a1_icgraph">
<area shape="rect" title=" " alt="" coords="289,5,430,48"/>
<area shape="rect" href="rgw__admin_8cc.html#a1952ece8a97cc8cf04493a430fb3b6dd" title=" " alt="" coords="103,13,241,40"/>
<area shape="poly" title=" " alt="" coords="274,29,241,29,241,24,274,24"/>
<area shape="rect" href="rgw__admin_8cc.html#a217dbf8b442f20279ea00b898af96f52" title=" " alt="" coords="5,13,55,40"/>
<area shape="poly" title=" " alt="" coords="87,29,55,29,55,24,87,24"/>
</map>
</div>

</div>
</div>
<a id="a261e44d721357bf200c2980f9f564f63" name="a261e44d721357bf200c2980f9f564f63"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a261e44d721357bf200c2980f9f564f63">&#9670;&#160;</a></span>bucket_sync_info()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int bucket_sync_info </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classrgw_1_1sal_1_1_rados_store.html">rgw::sal::RadosStore</a> *&#160;</td>
          <td class="paramname"><em>store</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="struct_r_g_w_bucket_info.html">RGWBucketInfo</a> &amp;&#160;</td>
          <td class="paramname"><em>info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::ostream &amp;&#160;</td>
          <td class="paramname"><em>out</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition"><a class="el" href="rgw__admin_8cc_source.html">rgw_admin.cc</a> 파일의 <a class="el" href="rgw__admin_8cc_source.html#l02731">2731</a> 번째 라인에서 정의되었습니다.</p>
<div class="fragment"><div class="line"><span class="lineno"> 2733</span>{</div>
<div class="line"><span class="lineno"> 2734</span>  <span class="keyword">const</span> <a class="code hl_class" href="class_r_g_w_realm.html">RGWRealm</a>&amp; realm = <a class="code hl_variable" href="rgw__admin_8cc.html#a6fdb26d64b14d837b60e83a6ca3e2863">store</a>-&gt;<a class="code hl_function" href="classrgw_1_1sal_1_1_store.html#a7905b89b9f5def056e6b3379637037cc">get_zone</a>()-&gt;<a class="code hl_function" href="classrgw_1_1sal_1_1_zone.html#a9234806eedc8e3bc03f4b51073abe746">get_realm</a>();</div>
<div class="line"><span class="lineno"> 2735</span>  <span class="keyword">const</span> <a class="code hl_struct" href="struct_r_g_w_zone_group.html">RGWZoneGroup</a>&amp; zonegroup = <a class="code hl_variable" href="rgw__admin_8cc.html#a6fdb26d64b14d837b60e83a6ca3e2863">store</a>-&gt;<a class="code hl_function" href="classrgw_1_1sal_1_1_store.html#a7905b89b9f5def056e6b3379637037cc">get_zone</a>()-&gt;<a class="code hl_function" href="classrgw_1_1sal_1_1_zone.html#af387da06889ce1c43ccc37f64fc373a6">get_zonegroup</a>();</div>
<div class="line"><span class="lineno"> 2736</span>  <span class="keyword">const</span> <a class="code hl_struct" href="struct_r_g_w_zone.html">RGWZone</a>&amp; zone = <a class="code hl_variable" href="rgw__admin_8cc.html#a6fdb26d64b14d837b60e83a6ca3e2863">store</a>-&gt;svc()-&gt;zone-&gt;<a class="code hl_function" href="classrgw_1_1sal_1_1_store.html#a7905b89b9f5def056e6b3379637037cc">get_zone</a>();</div>
<div class="line"><span class="lineno"> 2737</span>  <span class="keyword">constexpr</span> <span class="keywordtype">int</span> width = 15;</div>
<div class="line"><span class="lineno"> 2738</span> </div>
<div class="line"><span class="lineno"> 2739</span>  out &lt;&lt; <a class="code hl_struct" href="structindented.html">indented</a>{width, <span class="stringliteral">&quot;realm&quot;</span>} &lt;&lt; realm.<a class="code hl_function" href="class_r_g_w_system_meta_obj.html#ab885e5d275a5396cc473703ab55f50b1">get_id</a>() &lt;&lt; <span class="stringliteral">&quot; (&quot;</span> &lt;&lt; realm.<a class="code hl_function" href="class_r_g_w_system_meta_obj.html#a333abaa7960a2c63b4341d5f9ec500bf">get_name</a>() &lt;&lt; <span class="stringliteral">&quot;)\n&quot;</span>;</div>
<div class="line"><span class="lineno"> 2740</span>  out &lt;&lt; <a class="code hl_struct" href="structindented.html">indented</a>{width, <span class="stringliteral">&quot;zonegroup&quot;</span>} &lt;&lt; zonegroup.<a class="code hl_function" href="class_r_g_w_system_meta_obj.html#ab885e5d275a5396cc473703ab55f50b1">get_id</a>() &lt;&lt; <span class="stringliteral">&quot; (&quot;</span> &lt;&lt; zonegroup.<a class="code hl_function" href="class_r_g_w_system_meta_obj.html#a333abaa7960a2c63b4341d5f9ec500bf">get_name</a>() &lt;&lt; <span class="stringliteral">&quot;)\n&quot;</span>;</div>
<div class="line"><span class="lineno"> 2741</span>  out &lt;&lt; <a class="code hl_struct" href="structindented.html">indented</a>{width, <span class="stringliteral">&quot;zone&quot;</span>} &lt;&lt; zone.<a class="code hl_variable" href="struct_r_g_w_zone.html#a411cd69531b0b2651a703ce470e3a2f2">id</a> &lt;&lt; <span class="stringliteral">&quot; (&quot;</span> &lt;&lt; zone.<a class="code hl_variable" href="struct_r_g_w_zone.html#a8d9d72ea420eae9a875197afccc71a28">name</a> &lt;&lt; <span class="stringliteral">&quot;)\n&quot;</span>;</div>
<div class="line"><span class="lineno"> 2742</span>  out &lt;&lt; <a class="code hl_struct" href="structindented.html">indented</a>{width, <span class="stringliteral">&quot;bucket&quot;</span>} &lt;&lt; info.<a class="code hl_variable" href="struct_r_g_w_bucket_info.html#afbd8422e16061abdf72d710794ac74d4">bucket</a> &lt;&lt; <span class="stringliteral">&quot;\n\n&quot;</span>;</div>
<div class="line"><span class="lineno"> 2743</span> </div>
<div class="line"><span class="lineno"> 2744</span>  <span class="keywordflow">if</span> (!<span class="keyword">static_cast&lt;</span><a class="code hl_class" href="classrgw_1_1sal_1_1_rados_store.html">rgw::sal::RadosStore</a>*<span class="keyword">&gt;</span>(<a class="code hl_variable" href="rgw__admin_8cc.html#a6fdb26d64b14d837b60e83a6ca3e2863">store</a>)-&gt;ctl()-&gt;bucket-&gt;bucket_imports_data(info.<a class="code hl_variable" href="struct_r_g_w_bucket_info.html#afbd8422e16061abdf72d710794ac74d4">bucket</a>, null_yield, <a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>())) {</div>
<div class="line"><span class="lineno"> 2745</span>    out &lt;&lt; <span class="stringliteral">&quot;Sync is disabled for bucket &quot;</span> &lt;&lt; info.<a class="code hl_variable" href="struct_r_g_w_bucket_info.html#afbd8422e16061abdf72d710794ac74d4">bucket</a>.<a class="code hl_variable" href="structrgw__bucket.html#a32d3529f5b0c53051c856a7abe867a6b">name</a> &lt;&lt; <span class="charliteral">&#39;\n&#39;</span>;</div>
<div class="line"><span class="lineno"> 2746</span>    <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno"> 2747</span>  }</div>
<div class="line"><span class="lineno"> 2748</span> </div>
<div class="line"><span class="lineno"> 2749</span>  <a class="code hl_typedef" href="rgw__sal_8h.html#a34a498a236dfdf1358ada02a62afc853">RGWBucketSyncPolicyHandlerRef</a> handler;</div>
<div class="line"><span class="lineno"> 2750</span> </div>
<div class="line"><span class="lineno"> 2751</span>  <span class="keywordtype">int</span> <a class="code hl_variable" href="rgw__aio_8cc.html#ae38055824c6eac64615832ad9d888539">r</a> = <a class="code hl_variable" href="rgw__admin_8cc.html#a6fdb26d64b14d837b60e83a6ca3e2863">store</a>-&gt;<a class="code hl_function" href="classrgw_1_1sal_1_1_store.html#a49a7a48f9ae72b8387a24b328fd8e9e4">get_sync_policy_handler</a>(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>(), std::nullopt, info.<a class="code hl_variable" href="struct_r_g_w_bucket_info.html#afbd8422e16061abdf72d710794ac74d4">bucket</a>, &amp;handler, null_yield);</div>
<div class="line"><span class="lineno"> 2752</span>  <span class="keywordflow">if</span> (<a class="code hl_variable" href="rgw__aio_8cc.html#ae38055824c6eac64615832ad9d888539">r</a> &lt; 0) {</div>
<div class="line"><span class="lineno"> 2753</span>    ldpp_dout(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>(), -1) &lt;&lt; <span class="stringliteral">&quot;ERROR: failed to get policy handler for bucket (&quot;</span> &lt;&lt; info.<a class="code hl_variable" href="struct_r_g_w_bucket_info.html#afbd8422e16061abdf72d710794ac74d4">bucket</a> &lt;&lt; <span class="stringliteral">&quot;): r=&quot;</span> &lt;&lt; <a class="code hl_variable" href="rgw__aio_8cc.html#ae38055824c6eac64615832ad9d888539">r</a> &lt;&lt; <span class="stringliteral">&quot;: &quot;</span> &lt;&lt; cpp_strerror(-<a class="code hl_variable" href="rgw__aio_8cc.html#ae38055824c6eac64615832ad9d888539">r</a>) &lt;&lt; dendl;</div>
<div class="line"><span class="lineno"> 2754</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="rgw__aio_8cc.html#ae38055824c6eac64615832ad9d888539">r</a>;</div>
<div class="line"><span class="lineno"> 2755</span>  }</div>
<div class="line"><span class="lineno"> 2756</span> </div>
<div class="line"><span class="lineno"> 2757</span>  <span class="keyword">auto</span>&amp; sources = handler-&gt;get_sources();</div>
<div class="line"><span class="lineno"> 2758</span> </div>
<div class="line"><span class="lineno"> 2759</span>  <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp; m : sources) {</div>
<div class="line"><span class="lineno"> 2760</span>    <span class="keyword">auto</span>&amp; zone = m.first;</div>
<div class="line"><span class="lineno"> 2761</span>    out &lt;&lt; <a class="code hl_struct" href="structindented.html">indented</a>{width, <span class="stringliteral">&quot;source zone&quot;</span>} &lt;&lt; zone &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 2762</span>    <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp; pipe_handler : m.second) {</div>
<div class="line"><span class="lineno"> 2763</span>      out &lt;&lt; <a class="code hl_struct" href="structindented.html">indented</a>{width, <span class="stringliteral">&quot;bucket&quot;</span>} &lt;&lt; *pipe_handler.source.bucket &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 2764</span>    }</div>
<div class="line"><span class="lineno"> 2765</span>  }</div>
<div class="line"><span class="lineno"> 2766</span> </div>
<div class="line"><span class="lineno"> 2767</span>  <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno"> 2768</span>}</div>
<div class="ttc" id="aclass_r_g_w_realm_html"><div class="ttname"><a href="class_r_g_w_realm.html">RGWRealm</a></div><div class="ttdef"><b>Definition</b> <a href="rgw__zone_8h_source.html#l01119">rgw_zone.h:1120</a></div></div>
<div class="ttc" id="aclass_r_g_w_system_meta_obj_html_a333abaa7960a2c63b4341d5f9ec500bf"><div class="ttname"><a href="class_r_g_w_system_meta_obj.html#a333abaa7960a2c63b4341d5f9ec500bf">RGWSystemMetaObj::get_name</a></div><div class="ttdeci">const std::string &amp; get_name() const</div><div class="ttdef"><b>Definition</b> <a href="rgw__zone_8h_source.html#l00111">rgw_zone.h:111</a></div></div>
<div class="ttc" id="aclass_r_g_w_system_meta_obj_html_ab885e5d275a5396cc473703ab55f50b1"><div class="ttname"><a href="class_r_g_w_system_meta_obj.html#ab885e5d275a5396cc473703ab55f50b1">RGWSystemMetaObj::get_id</a></div><div class="ttdeci">const std::string &amp; get_id() const</div><div class="ttdef"><b>Definition</b> <a href="rgw__zone_8h_source.html#l00112">rgw_zone.h:112</a></div></div>
<div class="ttc" id="aclassrgw_1_1sal_1_1_rados_store_html"><div class="ttname"><a href="classrgw_1_1sal_1_1_rados_store.html">rgw::sal::RadosStore</a></div><div class="ttdef"><b>Definition</b> <a href="rgw__sal__rados_8h_source.html#l00363">rgw_sal_rados.h:363</a></div></div>
<div class="ttc" id="aclassrgw_1_1sal_1_1_store_html_a49a7a48f9ae72b8387a24b328fd8e9e4"><div class="ttname"><a href="classrgw_1_1sal_1_1_store.html#a49a7a48f9ae72b8387a24b328fd8e9e4">rgw::sal::Store::get_sync_policy_handler</a></div><div class="ttdeci">virtual int get_sync_policy_handler(const DoutPrefixProvider *dpp, std::optional&lt; rgw_zone_id &gt; zone, std::optional&lt; rgw_bucket &gt; bucket, RGWBucketSyncPolicyHandlerRef *phandler, optional_yield y)=0</div></div>
<div class="ttc" id="aclassrgw_1_1sal_1_1_store_html_a7905b89b9f5def056e6b3379637037cc"><div class="ttname"><a href="classrgw_1_1sal_1_1_store.html#a7905b89b9f5def056e6b3379637037cc">rgw::sal::Store::get_zone</a></div><div class="ttdeci">virtual Zone * get_zone()=0</div></div>
<div class="ttc" id="aclassrgw_1_1sal_1_1_zone_html_a9234806eedc8e3bc03f4b51073abe746"><div class="ttname"><a href="classrgw_1_1sal_1_1_zone.html#a9234806eedc8e3bc03f4b51073abe746">rgw::sal::Zone::get_realm</a></div><div class="ttdeci">virtual const RGWRealm &amp; get_realm()=0</div></div>
<div class="ttc" id="aclassrgw_1_1sal_1_1_zone_html_af387da06889ce1c43ccc37f64fc373a6"><div class="ttname"><a href="classrgw_1_1sal_1_1_zone.html#af387da06889ce1c43ccc37f64fc373a6">rgw::sal::Zone::get_zonegroup</a></div><div class="ttdeci">virtual const RGWZoneGroup &amp; get_zonegroup()=0</div></div>
<div class="ttc" id="argw__sal_8h_html_a34a498a236dfdf1358ada02a62afc853"><div class="ttname"><a href="rgw__sal_8h.html#a34a498a236dfdf1358ada02a62afc853">RGWBucketSyncPolicyHandlerRef</a></div><div class="ttdeci">std::shared_ptr&lt; RGWBucketSyncPolicyHandler &gt; RGWBucketSyncPolicyHandlerRef</div><div class="ttdef"><b>Definition</b> <a href="rgw__sal_8h_source.html#l00036">rgw_sal.h:36</a></div></div>
<div class="ttc" id="astruct_r_g_w_zone_group_html"><div class="ttname"><a href="struct_r_g_w_zone_group.html">RGWZoneGroup</a></div><div class="ttdef"><b>Definition</b> <a href="rgw__zone_8h_source.html#l00877">rgw_zone.h:877</a></div></div>
<div class="ttc" id="astruct_r_g_w_zone_html"><div class="ttname"><a href="struct_r_g_w_zone.html">RGWZone</a></div><div class="ttdef"><b>Definition</b> <a href="rgw__zone_8h_source.html#l00576">rgw_zone.h:576</a></div></div>
<div class="ttc" id="astructrgw__bucket_html_a32d3529f5b0c53051c856a7abe867a6b"><div class="ttname"><a href="structrgw__bucket.html#a32d3529f5b0c53051c856a7abe867a6b">rgw_bucket::name</a></div><div class="ttdeci">std::string name</div><div class="ttdef"><b>Definition</b> <a href="rgw__basic__types_8h_source.html#l00291">rgw_basic_types.h:291</a></div></div>
</div><!-- fragment --><div class="dynheader">
이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="rgw__admin_8cc_a261e44d721357bf200c2980f9f564f63_cgraph.png" border="0" usemap="#argw__admin_8cc_a261e44d721357bf200c2980f9f564f63_cgraph" alt=""/></div>
<map name="argw__admin_8cc_a261e44d721357bf200c2980f9f564f63_cgraph" id="argw__admin_8cc_a261e44d721357bf200c2980f9f564f63_cgraph">
<area shape="rect" title=" " alt="" coords="5,165,128,192"/>
<area shape="rect" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5" title=" " alt="" coords="261,5,303,32"/>
<area shape="poly" title=" " alt="" coords="73,163,110,104,139,70,174,42,209,26,244,19,246,24,211,31,177,46,143,74,114,107,77,166"/>
<area shape="rect" href="class_r_g_w_system_meta_obj.html#ab885e5d275a5396cc473703ab55f50b1" title=" " alt="" coords="187,56,377,83"/>
<area shape="poly" title=" " alt="" coords="79,163,120,128,174,92,190,86,192,91,177,97,123,132,83,167"/>
<area shape="rect" href="class_r_g_w_system_meta_obj.html#a333abaa7960a2c63b4341d5f9ec500bf" title=" " alt="" coords="176,107,388,133"/>
<area shape="poly" title=" " alt="" coords="110,162,175,143,204,135,206,140,176,148,111,167"/>
<area shape="rect" href="classrgw_1_1sal_1_1_zone.html#a9234806eedc8e3bc03f4b51073abe746" title=" " alt="" coords="218,157,346,200"/>
<area shape="poly" title=" " alt="" coords="128,176,202,176,202,181,128,181"/>
<area shape="rect" href="classrgw_1_1sal_1_1_store.html#a49a7a48f9ae72b8387a24b328fd8e9e4" title=" " alt="" coords="209,224,355,267"/>
<area shape="poly" title=" " alt="" coords="113,190,197,216,195,221,112,195"/>
<area shape="rect" href="classrgw_1_1sal_1_1_store.html#a7905b89b9f5def056e6b3379637037cc" title=" " alt="" coords="199,291,365,317"/>
<area shape="poly" title=" " alt="" coords="80,191,120,233,147,257,177,276,190,283,188,287,174,281,144,261,116,237,77,194"/>
<area shape="rect" href="classrgw_1_1sal_1_1_zone.html#af387da06889ce1c43ccc37f64fc373a6" title=" " alt="" coords="218,341,346,384"/>
<area shape="poly" title=" " alt="" coords="76,191,113,257,142,295,177,327,204,342,202,347,174,331,138,298,108,259,72,194"/>
</map>
</div>
<div class="dynheader">
이 함수를 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="rgw__admin_8cc_a261e44d721357bf200c2980f9f564f63_icgraph.png" border="0" usemap="#argw__admin_8cc_a261e44d721357bf200c2980f9f564f63_icgraph" alt=""/></div>
<map name="argw__admin_8cc_a261e44d721357bf200c2980f9f564f63_icgraph" id="argw__admin_8cc_a261e44d721357bf200c2980f9f564f63_icgraph">
<area shape="rect" title=" " alt="" coords="103,5,225,32"/>
<area shape="rect" href="rgw__admin_8cc.html#a217dbf8b442f20279ea00b898af96f52" title=" " alt="" coords="5,5,55,32"/>
<area shape="poly" title=" " alt="" coords="87,21,55,21,55,16,87,16"/>
</map>
</div>

</div>
</div>
<a id="a1952ece8a97cc8cf04493a430fb3b6dd" name="a1952ece8a97cc8cf04493a430fb3b6dd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1952ece8a97cc8cf04493a430fb3b6dd">&#9670;&#160;</a></span>bucket_sync_status()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int bucket_sync_status </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classrgw_1_1sal_1_1_rados_store.html">rgw::sal::RadosStore</a> *&#160;</td>
          <td class="paramname"><em>store</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="struct_r_g_w_bucket_info.html">RGWBucketInfo</a> &amp;&#160;</td>
          <td class="paramname"><em>info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structrgw__zone__id.html">rgw_zone_id</a> &amp;&#160;</td>
          <td class="paramname"><em>source_zone_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::optional&lt; <a class="el" href="structrgw__bucket.html">rgw_bucket</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>opt_source_bucket</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::ostream &amp;&#160;</td>
          <td class="paramname"><em>out</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition"><a class="el" href="rgw__admin_8cc_source.html">rgw_admin.cc</a> 파일의 <a class="el" href="rgw__admin_8cc_source.html#l02770">2770</a> 번째 라인에서 정의되었습니다.</p>
<div class="fragment"><div class="line"><span class="lineno"> 2774</span>{</div>
<div class="line"><span class="lineno"> 2775</span>  <span class="keyword">const</span> <a class="code hl_class" href="class_r_g_w_realm.html">RGWRealm</a>&amp; realm = <a class="code hl_variable" href="rgw__admin_8cc.html#a6fdb26d64b14d837b60e83a6ca3e2863">store</a>-&gt;<a class="code hl_function" href="classrgw_1_1sal_1_1_store.html#a7905b89b9f5def056e6b3379637037cc">get_zone</a>()-&gt;<a class="code hl_function" href="classrgw_1_1sal_1_1_zone.html#a9234806eedc8e3bc03f4b51073abe746">get_realm</a>();</div>
<div class="line"><span class="lineno"> 2776</span>  <span class="keyword">const</span> <a class="code hl_struct" href="struct_r_g_w_zone_group.html">RGWZoneGroup</a>&amp; zonegroup = <a class="code hl_variable" href="rgw__admin_8cc.html#a6fdb26d64b14d837b60e83a6ca3e2863">store</a>-&gt;<a class="code hl_function" href="classrgw_1_1sal_1_1_store.html#a7905b89b9f5def056e6b3379637037cc">get_zone</a>()-&gt;<a class="code hl_function" href="classrgw_1_1sal_1_1_zone.html#af387da06889ce1c43ccc37f64fc373a6">get_zonegroup</a>();</div>
<div class="line"><span class="lineno"> 2777</span>  <span class="keyword">const</span> <a class="code hl_struct" href="struct_r_g_w_zone.html">RGWZone</a>&amp; zone = <span class="keyword">static_cast&lt;</span><a class="code hl_class" href="classrgw_1_1sal_1_1_rados_store.html">rgw::sal::RadosStore</a>*<span class="keyword">&gt;</span>(<a class="code hl_variable" href="rgw__admin_8cc.html#a6fdb26d64b14d837b60e83a6ca3e2863">store</a>)-&gt;svc()-&gt;<a class="code hl_variable" href="classrgw_1_1sal_1_1_rados_store.html#a0a94e58a4595ab519b4c3f89d33419fe">zone</a>-&gt;get_zone();</div>
<div class="line"><span class="lineno"> 2778</span>  <span class="keyword">constexpr</span> <span class="keywordtype">int</span> width = 15;</div>
<div class="line"><span class="lineno"> 2779</span> </div>
<div class="line"><span class="lineno"> 2780</span>  out &lt;&lt; <a class="code hl_struct" href="structindented.html">indented</a>{width, <span class="stringliteral">&quot;realm&quot;</span>} &lt;&lt; realm.<a class="code hl_function" href="class_r_g_w_system_meta_obj.html#ab885e5d275a5396cc473703ab55f50b1">get_id</a>() &lt;&lt; <span class="stringliteral">&quot; (&quot;</span> &lt;&lt; realm.<a class="code hl_function" href="class_r_g_w_system_meta_obj.html#a333abaa7960a2c63b4341d5f9ec500bf">get_name</a>() &lt;&lt; <span class="stringliteral">&quot;)\n&quot;</span>;</div>
<div class="line"><span class="lineno"> 2781</span>  out &lt;&lt; <a class="code hl_struct" href="structindented.html">indented</a>{width, <span class="stringliteral">&quot;zonegroup&quot;</span>} &lt;&lt; zonegroup.<a class="code hl_function" href="class_r_g_w_system_meta_obj.html#ab885e5d275a5396cc473703ab55f50b1">get_id</a>() &lt;&lt; <span class="stringliteral">&quot; (&quot;</span> &lt;&lt; zonegroup.<a class="code hl_function" href="class_r_g_w_system_meta_obj.html#a333abaa7960a2c63b4341d5f9ec500bf">get_name</a>() &lt;&lt; <span class="stringliteral">&quot;)\n&quot;</span>;</div>
<div class="line"><span class="lineno"> 2782</span>  out &lt;&lt; <a class="code hl_struct" href="structindented.html">indented</a>{width, <span class="stringliteral">&quot;zone&quot;</span>} &lt;&lt; zone.<a class="code hl_variable" href="struct_r_g_w_zone.html#a411cd69531b0b2651a703ce470e3a2f2">id</a> &lt;&lt; <span class="stringliteral">&quot; (&quot;</span> &lt;&lt; zone.<a class="code hl_variable" href="struct_r_g_w_zone.html#a8d9d72ea420eae9a875197afccc71a28">name</a> &lt;&lt; <span class="stringliteral">&quot;)\n&quot;</span>;</div>
<div class="line"><span class="lineno"> 2783</span>  out &lt;&lt; <a class="code hl_struct" href="structindented.html">indented</a>{width, <span class="stringliteral">&quot;bucket&quot;</span>} &lt;&lt; info.<a class="code hl_variable" href="struct_r_g_w_bucket_info.html#afbd8422e16061abdf72d710794ac74d4">bucket</a> &lt;&lt; <span class="stringliteral">&quot;\n\n&quot;</span>;</div>
<div class="line"><span class="lineno"> 2784</span> </div>
<div class="line"><span class="lineno"> 2785</span>  <span class="keywordflow">if</span> (!<span class="keyword">static_cast&lt;</span><a class="code hl_class" href="classrgw_1_1sal_1_1_rados_store.html">rgw::sal::RadosStore</a>*<span class="keyword">&gt;</span>(<a class="code hl_variable" href="rgw__admin_8cc.html#a6fdb26d64b14d837b60e83a6ca3e2863">store</a>)-&gt;<a class="code hl_function" href="classrgw_1_1sal_1_1_rados_store.html#ab6a306bab7ce6cc5da2f287d4d9f11e0">ctl</a>()-&gt;<a class="code hl_variable" href="struct_r_g_w_ctl.html#aad9554920ed5b4cc9b75de55bb1af061">bucket</a>-&gt;<a class="code hl_function" href="class_r_g_w_bucket_ctl.html#a6f4f1d583cc3e0436b30daefa408e64d">bucket_imports_data</a>(info.<a class="code hl_variable" href="struct_r_g_w_bucket_info.html#afbd8422e16061abdf72d710794ac74d4">bucket</a>, null_yield, <a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>())) {</div>
<div class="line"><span class="lineno"> 2786</span>    out &lt;&lt; <span class="stringliteral">&quot;Sync is disabled for bucket &quot;</span> &lt;&lt; info.<a class="code hl_variable" href="struct_r_g_w_bucket_info.html#afbd8422e16061abdf72d710794ac74d4">bucket</a>.<a class="code hl_variable" href="structrgw__bucket.html#a32d3529f5b0c53051c856a7abe867a6b">name</a> &lt;&lt; <span class="stringliteral">&quot; or bucket has no sync sources&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 2787</span>    <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno"> 2788</span>  }</div>
<div class="line"><span class="lineno"> 2789</span> </div>
<div class="line"><span class="lineno"> 2790</span>  <a class="code hl_typedef" href="rgw__sal_8h.html#a34a498a236dfdf1358ada02a62afc853">RGWBucketSyncPolicyHandlerRef</a> handler;</div>
<div class="line"><span class="lineno"> 2791</span> </div>
<div class="line"><span class="lineno"> 2792</span>  <span class="keywordtype">int</span> <a class="code hl_variable" href="rgw__aio_8cc.html#ae38055824c6eac64615832ad9d888539">r</a> = <a class="code hl_variable" href="rgw__admin_8cc.html#a6fdb26d64b14d837b60e83a6ca3e2863">store</a>-&gt;<a class="code hl_function" href="classrgw_1_1sal_1_1_store.html#a49a7a48f9ae72b8387a24b328fd8e9e4">get_sync_policy_handler</a>(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>(), std::nullopt, info.<a class="code hl_variable" href="struct_r_g_w_bucket_info.html#afbd8422e16061abdf72d710794ac74d4">bucket</a>, &amp;handler, null_yield);</div>
<div class="line"><span class="lineno"> 2793</span>  <span class="keywordflow">if</span> (<a class="code hl_variable" href="rgw__aio_8cc.html#ae38055824c6eac64615832ad9d888539">r</a> &lt; 0) {</div>
<div class="line"><span class="lineno"> 2794</span>    ldpp_dout(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>(), -1) &lt;&lt; <span class="stringliteral">&quot;ERROR: failed to get policy handler for bucket (&quot;</span> &lt;&lt; info.<a class="code hl_variable" href="struct_r_g_w_bucket_info.html#afbd8422e16061abdf72d710794ac74d4">bucket</a> &lt;&lt; <span class="stringliteral">&quot;): r=&quot;</span> &lt;&lt; <a class="code hl_variable" href="rgw__aio_8cc.html#ae38055824c6eac64615832ad9d888539">r</a> &lt;&lt; <span class="stringliteral">&quot;: &quot;</span> &lt;&lt; cpp_strerror(-<a class="code hl_variable" href="rgw__aio_8cc.html#ae38055824c6eac64615832ad9d888539">r</a>) &lt;&lt; dendl;</div>
<div class="line"><span class="lineno"> 2795</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="rgw__aio_8cc.html#ae38055824c6eac64615832ad9d888539">r</a>;</div>
<div class="line"><span class="lineno"> 2796</span>  }</div>
<div class="line"><span class="lineno"> 2797</span> </div>
<div class="line"><span class="lineno"> 2798</span>  <span class="keyword">auto</span> sources = handler-&gt;get_all_sources();</div>
<div class="line"><span class="lineno"> 2799</span> </div>
<div class="line"><span class="lineno"> 2800</span>  <span class="keyword">auto</span>&amp; zone_conn_map = <span class="keyword">static_cast&lt;</span><a class="code hl_class" href="classrgw_1_1sal_1_1_rados_store.html">rgw::sal::RadosStore</a>*<span class="keyword">&gt;</span>(<a class="code hl_variable" href="rgw__admin_8cc.html#a6fdb26d64b14d837b60e83a6ca3e2863">store</a>)-&gt;svc()-&gt;<a class="code hl_variable" href="classrgw_1_1sal_1_1_rados_store.html#a0a94e58a4595ab519b4c3f89d33419fe">zone</a>-&gt;get_zone_conn_map();</div>
<div class="line"><span class="lineno"> 2801</span>  set&lt;rgw_zone_id&gt; zone_ids;</div>
<div class="line"><span class="lineno"> 2802</span> </div>
<div class="line"><span class="lineno"> 2803</span>  <span class="keywordflow">if</span> (!source_zone_id.<a class="code hl_function" href="structrgw__zone__id.html#a5b69701e74c5168f32c07c3459c22272">empty</a>()) {</div>
<div class="line"><span class="lineno"> 2804</span>    <span class="keyword">auto</span> z = zonegroup.<a class="code hl_variable" href="struct_r_g_w_zone_group.html#a6c859c404470a966381ead91fdb9f620">zones</a>.find(source_zone_id);</div>
<div class="line"><span class="lineno"> 2805</span>    <span class="keywordflow">if</span> (z == zonegroup.<a class="code hl_variable" href="struct_r_g_w_zone_group.html#a6c859c404470a966381ead91fdb9f620">zones</a>.end()) {</div>
<div class="line"><span class="lineno"> 2806</span>      ldpp_dout(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>(), -1) &lt;&lt; <span class="stringliteral">&quot;Source zone not found in zonegroup &quot;</span></div>
<div class="line"><span class="lineno"> 2807</span>          &lt;&lt; zonegroup.<a class="code hl_function" href="class_r_g_w_system_meta_obj.html#a333abaa7960a2c63b4341d5f9ec500bf">get_name</a>() &lt;&lt; dendl;</div>
<div class="line"><span class="lineno"> 2808</span>      <span class="keywordflow">return</span> -EINVAL;</div>
<div class="line"><span class="lineno"> 2809</span>    }</div>
<div class="line"><span class="lineno"> 2810</span>    <span class="keyword">auto</span> <a class="code hl_variable" href="rgw__aio_8cc.html#af3997c9b015c5696191674621076ae50">c</a> = zone_conn_map.find(source_zone_id);</div>
<div class="line"><span class="lineno"> 2811</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="rgw__aio_8cc.html#af3997c9b015c5696191674621076ae50">c</a> == zone_conn_map.end()) {</div>
<div class="line"><span class="lineno"> 2812</span>      ldpp_dout(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>(), -1) &lt;&lt; <span class="stringliteral">&quot;No connection to zone &quot;</span> &lt;&lt; z-&gt;second.name &lt;&lt; dendl;</div>
<div class="line"><span class="lineno"> 2813</span>      <span class="keywordflow">return</span> -EINVAL;</div>
<div class="line"><span class="lineno"> 2814</span>    }</div>
<div class="line"><span class="lineno"> 2815</span>    zone_ids.insert(source_zone_id);</div>
<div class="line"><span class="lineno"> 2816</span>  } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 2817</span>    <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span>&amp; entry : zonegroup.zones) {</div>
<div class="line"><span class="lineno"> 2818</span>      zone_ids.insert(entry.second.id);</div>
<div class="line"><span class="lineno"> 2819</span>    }</div>
<div class="line"><span class="lineno"> 2820</span>  }</div>
<div class="line"><span class="lineno"> 2821</span> </div>
<div class="line"><span class="lineno"> 2822</span>  <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp; zone_id : zone_ids) {</div>
<div class="line"><span class="lineno"> 2823</span>    <span class="keyword">auto</span> z = zonegroup.<a class="code hl_variable" href="struct_r_g_w_zone_group.html#a6c859c404470a966381ead91fdb9f620">zones</a>.find(zone_id.id);</div>
<div class="line"><span class="lineno"> 2824</span>    <span class="keywordflow">if</span> (z == zonegroup.<a class="code hl_variable" href="struct_r_g_w_zone_group.html#a6c859c404470a966381ead91fdb9f620">zones</a>.end()) { <span class="comment">/* should&#39;t happen */</span></div>
<div class="line"><span class="lineno"> 2825</span>      <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 2826</span>    }</div>
<div class="line"><span class="lineno"> 2827</span>    <span class="keyword">auto</span> <a class="code hl_variable" href="rgw__aio_8cc.html#af3997c9b015c5696191674621076ae50">c</a> = zone_conn_map.find(zone_id.id);</div>
<div class="line"><span class="lineno"> 2828</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="rgw__aio_8cc.html#af3997c9b015c5696191674621076ae50">c</a> == zone_conn_map.end()) { <span class="comment">/* should&#39;t happen */</span></div>
<div class="line"><span class="lineno"> 2829</span>      <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 2830</span>    }</div>
<div class="line"><span class="lineno"> 2831</span> </div>
<div class="line"><span class="lineno"> 2832</span>    <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp; entry : sources) {</div>
<div class="line"><span class="lineno"> 2833</span>      <span class="keyword">auto</span>&amp; pipe = entry.second;</div>
<div class="line"><span class="lineno"> 2834</span>      <span class="keywordflow">if</span> (opt_source_bucket &amp;&amp;</div>
<div class="line"><span class="lineno"> 2835</span>      pipe.source.bucket != opt_source_bucket) {</div>
<div class="line"><span class="lineno"> 2836</span>    <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 2837</span>      }</div>
<div class="line"><span class="lineno"> 2838</span>      <span class="keywordflow">if</span> (pipe.source.zone.value_or(<a class="code hl_struct" href="structrgw__zone__id.html">rgw_zone_id</a>()) == z-&gt;second.id) {</div>
<div class="line"><span class="lineno"> 2839</span>    <a class="code hl_function" href="rgw__admin_8cc.html#a55572dc14e8b7410a92ba9515e0be5a1">bucket_source_sync_status</a>(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>(), <a class="code hl_variable" href="rgw__admin_8cc.html#a6fdb26d64b14d837b60e83a6ca3e2863">store</a>, zone, z-&gt;second,</div>
<div class="line"><span class="lineno"> 2840</span>                  <a class="code hl_variable" href="rgw__aio_8cc.html#af3997c9b015c5696191674621076ae50">c</a>-&gt;second,</div>
<div class="line"><span class="lineno"> 2841</span>                  info, pipe,</div>
<div class="line"><span class="lineno"> 2842</span>                  width, out);</div>
<div class="line"><span class="lineno"> 2843</span>      }</div>
<div class="line"><span class="lineno"> 2844</span>    }</div>
<div class="line"><span class="lineno"> 2845</span>  }</div>
<div class="line"><span class="lineno"> 2846</span> </div>
<div class="line"><span class="lineno"> 2847</span>  <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno"> 2848</span>}</div>
<div class="ttc" id="aclass_r_g_w_bucket_ctl_html_a6f4f1d583cc3e0436b30daefa408e64d"><div class="ttname"><a href="class_r_g_w_bucket_ctl.html#a6f4f1d583cc3e0436b30daefa408e64d">RGWBucketCtl::bucket_imports_data</a></div><div class="ttdeci">int bucket_imports_data(const rgw_bucket &amp;bucket, optional_yield y, const DoutPrefixProvider *dpp)</div><div class="ttdef"><b>Definition</b> <a href="rgw__bucket_8cc_source.html#l02964">rgw_bucket.cc:2964</a></div></div>
<div class="ttc" id="aclassrgw_1_1sal_1_1_rados_store_html_a0a94e58a4595ab519b4c3f89d33419fe"><div class="ttname"><a href="classrgw_1_1sal_1_1_rados_store.html#a0a94e58a4595ab519b4c3f89d33419fe">rgw::sal::RadosStore::zone</a></div><div class="ttdeci">RadosZone zone</div><div class="ttdef"><b>Definition</b> <a href="rgw__sal__rados_8h_source.html#l00368">rgw_sal_rados.h:368</a></div></div>
<div class="ttc" id="aclassrgw_1_1sal_1_1_rados_store_html_ab6a306bab7ce6cc5da2f287d4d9f11e0"><div class="ttname"><a href="classrgw_1_1sal_1_1_rados_store.html#ab6a306bab7ce6cc5da2f287d4d9f11e0">rgw::sal::RadosStore::ctl</a></div><div class="ttdeci">RGWCtl * ctl()</div><div class="ttdef"><b>Definition</b> <a href="rgw__sal__rados_8h_source.html#l00503">rgw_sal_rados.h:503</a></div></div>
<div class="ttc" id="argw__admin_8cc_html_a55572dc14e8b7410a92ba9515e0be5a1"><div class="ttname"><a href="rgw__admin_8cc.html#a55572dc14e8b7410a92ba9515e0be5a1">bucket_source_sync_status</a></div><div class="ttdeci">static int bucket_source_sync_status(const DoutPrefixProvider *dpp, rgw::sal::RadosStore *store, const RGWZone &amp;zone, const RGWZone &amp;source, RGWRESTConn *conn, const RGWBucketInfo &amp;bucket_info, rgw_sync_bucket_pipe pipe, int width, std::ostream &amp;out)</div><div class="ttdef"><b>Definition</b> <a href="rgw__admin_8cc_source.html#l02472">rgw_admin.cc:2472</a></div></div>
<div class="ttc" id="argw__aio_8cc_html_af3997c9b015c5696191674621076ae50"><div class="ttname"><a href="rgw__aio_8cc.html#af3997c9b015c5696191674621076ae50">c</a></div><div class="ttdeci">librados::AioCompletion * c</div><div class="ttdef"><b>Definition</b> <a href="rgw__aio_8cc_source.html#l00031">rgw_aio.cc:31</a></div></div>
<div class="ttc" id="astruct_r_g_w_ctl_html_aad9554920ed5b4cc9b75de55bb1af061"><div class="ttname"><a href="struct_r_g_w_ctl.html#aad9554920ed5b4cc9b75de55bb1af061">RGWCtl::bucket</a></div><div class="ttdeci">RGWBucketCtl * bucket</div><div class="ttdef"><b>Definition</b> <a href="rgw__service_8h_source.html#l00213">rgw_service.h:213</a></div></div>
<div class="ttc" id="astruct_r_g_w_zone_group_html_a6c859c404470a966381ead91fdb9f620"><div class="ttname"><a href="struct_r_g_w_zone_group.html#a6c859c404470a966381ead91fdb9f620">RGWZoneGroup::zones</a></div><div class="ttdeci">std::map&lt; rgw_zone_id, RGWZone &gt; zones</div><div class="ttdef"><b>Definition</b> <a href="rgw__zone_8h_source.html#l00883">rgw_zone.h:883</a></div></div>
<div class="ttc" id="astructrgw__zone__id_html"><div class="ttname"><a href="structrgw__zone__id.html">rgw_zone_id</a></div><div class="ttdef"><b>Definition</b> <a href="rgw__basic__types_8h_source.html#l00465">rgw_basic_types.h:465</a></div></div>
<div class="ttc" id="astructrgw__zone__id_html_a5b69701e74c5168f32c07c3459c22272"><div class="ttname"><a href="structrgw__zone__id.html#a5b69701e74c5168f32c07c3459c22272">rgw_zone_id::empty</a></div><div class="ttdeci">bool empty() const</div><div class="ttdef"><b>Definition</b> <a href="rgw__basic__types_8h_source.html#l00502">rgw_basic_types.h:502</a></div></div>
</div><!-- fragment --><div class="dynheader">
이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="rgw__admin_8cc_a1952ece8a97cc8cf04493a430fb3b6dd_cgraph.png" border="0" usemap="#argw__admin_8cc_a1952ece8a97cc8cf04493a430fb3b6dd_cgraph" alt=""/></div>
<map name="argw__admin_8cc_a1952ece8a97cc8cf04493a430fb3b6dd_cgraph" id="argw__admin_8cc_a1952ece8a97cc8cf04493a430fb3b6dd_cgraph">
<area shape="rect" title=" " alt="" coords="5,512,144,539"/>
<area shape="rect" href="class_r_g_w_bucket_ctl.html#a6f4f1d583cc3e0436b30daefa408e64d" title=" " alt="" coords="1190,155,1347,197"/>
<area shape="poly" title=" " alt="" coords="74,511,79,455,95,373,110,329,130,286,156,247,190,214,235,185,276,168,315,160,354,160,438,170,487,175,541,177,778,177,1174,175,1174,180,778,183,541,183,486,180,438,175,354,165,316,165,277,173,237,189,193,218,161,250,135,289,115,331,100,375,84,456,79,512"/>
<area shape="rect" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5" title=" " alt="" coords="1721,381,1763,408"/>
<area shape="poly" title=" " alt="" coords="78,511,91,475,114,426,147,374,167,350,190,330,235,298,277,273,315,256,353,244,393,237,437,233,541,232,1270,232,1370,233,1448,240,1524,258,1616,295,1646,311,1673,330,1719,369,1715,373,1670,334,1643,315,1614,300,1522,263,1447,245,1369,238,1270,237,541,237,437,239,394,242,355,249,317,261,279,278,238,302,193,334,171,354,151,377,118,428,96,477,83,513"/>
<area shape="rect" href="rgw__admin_8cc.html#a55572dc14e8b7410a92ba9515e0be5a1" title=" " alt="" coords="227,344,369,387"/>
<area shape="poly" title=" " alt="" coords="83,510,124,455,155,424,190,396,211,385,214,390,193,401,159,428,129,459,87,513"/>
<area shape="rect" href="classrgw_1_1sal_1_1_rados_store.html#ab6a306bab7ce6cc5da2f287d4d9f11e0" title=" " alt="" coords="216,411,380,437"/>
<area shape="poly" title=" " alt="" coords="91,509,135,478,191,447,209,440,211,445,193,452,138,482,94,514"/>
<area shape="rect" href="structrgw__zone__id.html#a5b69701e74c5168f32c07c3459c22272" title=" " alt="" coords="229,461,367,488"/>
<area shape="poly" title=" " alt="" coords="136,509,220,489,222,495,137,514"/>
<area shape="rect" href="class_r_g_w_system_meta_obj.html#ab885e5d275a5396cc473703ab55f50b1" title=" " alt="" coords="203,512,393,539"/>
<area shape="poly" title=" " alt="" coords="144,523,187,523,187,528,144,528"/>
<area shape="rect" href="class_r_g_w_system_meta_obj.html#a333abaa7960a2c63b4341d5f9ec500bf" title=" " alt="" coords="192,563,404,589"/>
<area shape="poly" title=" " alt="" coords="137,537,222,556,220,561,136,542"/>
<area shape="rect" href="classrgw_1_1sal_1_1_zone.html#a9234806eedc8e3bc03f4b51073abe746" title=" " alt="" coords="234,613,362,656"/>
<area shape="poly" title=" " alt="" coords="95,537,138,568,193,599,220,610,218,615,190,604,135,572,92,541"/>
<area shape="rect" href="classrgw_1_1sal_1_1_store.html#a49a7a48f9ae72b8387a24b328fd8e9e4" title=" " alt="" coords="225,680,371,723"/>
<area shape="poly" title=" " alt="" coords="85,537,126,599,157,635,193,666,212,676,209,681,190,670,153,639,122,602,81,540"/>
<area shape="rect" href="classrgw_1_1sal_1_1_store.html#a7905b89b9f5def056e6b3379637037cc" title=" " alt="" coords="215,747,381,773"/>
<area shape="poly" title=" " alt="" coords="82,538,94,577,116,630,149,686,169,711,193,733,202,739,199,743,190,737,166,715,144,689,111,633,89,579,77,540"/>
<area shape="rect" href="classrgw_1_1sal_1_1_zone.html#af387da06889ce1c43ccc37f64fc373a6" title=" " alt="" coords="234,797,362,840"/>
<area shape="poly" title=" " alt="" coords="81,538,90,585,111,651,144,722,167,755,193,783,220,800,218,805,190,787,162,758,139,725,106,653,85,586,75,539"/>
<area shape="poly" title=" " alt="" coords="1348,165,1409,164,1479,170,1550,185,1584,197,1616,214,1657,247,1690,288,1715,330,1732,366,1727,368,1711,333,1686,291,1653,251,1613,218,1582,202,1548,190,1478,175,1409,169,1348,170"/>
<area shape="rect" href="class_r_g_w_bucket_ctl.html#afc598f8b541c77ea48f2f389a0369cd9" title=" " alt="" coords="1430,104,1601,147"/>
<area shape="poly" title=" " alt="" coords="1347,157,1414,143,1415,149,1348,162"/>
<area shape="poly" title=" " alt="" coords="1589,145,1616,163,1660,212,1694,268,1718,322,1735,366,1730,368,1714,324,1689,271,1655,216,1613,167,1586,149"/>
<area shape="rect" href="class_r_g_w_bucket_ctl.html#af4d1a23d561996791b169e9346bcbfb5" title=" " alt="" coords="1673,83,1811,109"/>
<area shape="poly" title=" " alt="" coords="1601,112,1657,104,1658,110,1602,117"/>
<area shape="rect" href="class_r_g_w_s_i___bucket___sync.html#a196a569abebac0cb7225d3fe7489b1d2" title=" " alt="" coords="1663,133,1821,176"/>
<area shape="poly" title=" " alt="" coords="1602,134,1647,140,1647,145,1601,139"/>
<area shape="rect" href="class_r_g_w_bucket_instance_metadata_handler.html#a68f5049c01e07c9e30832eac72a5f2b8" title=" " alt="" coords="1869,29,2066,72"/>
<area shape="poly" title=" " alt="" coords="1811,80,1853,71,1854,76,1812,85"/>
<area shape="rect" href="class_r_g_w_bucket_metadata_handler.html#ac36fb9edf32e6f0145a033bb92993e89" title=" " alt="" coords="1872,120,2064,163"/>
<area shape="poly" title=" " alt="" coords="1812,107,1857,116,1856,122,1811,112"/>
<area shape="poly" title=" " alt="" coords="1925,29,1923,19,1930,10,1945,5,1968,3,1992,5,2006,11,2004,16,1991,10,1968,8,1946,10,1933,15,1928,21,1930,28"/>
<area shape="poly" title=" " alt="" coords="1925,120,1923,110,1930,101,1945,95,1968,93,1992,96,2006,102,2004,107,1991,101,1968,99,1946,101,1933,105,1928,111,1930,119"/>
<area shape="poly" title=" " alt="" coords="354,341,401,325,451,312,542,295,613,286,776,283,1270,283,1369,285,1445,293,1521,309,1615,336,1665,354,1708,374,1706,379,1663,359,1614,341,1519,314,1444,298,1368,290,1270,288,776,288,613,292,542,300,453,317,403,330,356,346"/>
<area shape="rect" href="class_r_g_w_r_e_s_t_conn.html#aa8566192403e5db015175f5ecdd13009" title=" " alt="" coords="457,327,628,353"/>
<area shape="poly" title=" " alt="" coords="368,355,441,348,442,353,369,361"/>
<area shape="rect" href="rgw__admin_8cc.html#a0023a8779e3ab0d965d9acfb3eb72cac" title=" " alt="" coords="501,377,585,404"/>
<area shape="poly" title=" " alt="" coords="369,370,485,382,485,387,368,375"/>
<area shape="rect" href="rgw__data__sync_8cc.html#ad0c10af719413a263b7d358154f50639" title="read the sync status of all bucket shards from the given source zone" alt="" coords="460,520,625,547"/>
<area shape="poly" title=" " alt="" coords="370,380,405,396,441,422,474,451,524,506,520,510,470,455,438,426,403,401,368,385"/>
<area shape="rect" href="rgw__data__sync_8cc.html#ac0274ae3bca3fa8d20b54b486aefd368" title=" " alt="" coords="452,735,633,761"/>
<area shape="poly" title=" " alt="" coords="370,375,389,384,406,397,422,416,432,435,440,472,443,511,455,558,493,647,529,720,525,722,489,650,449,560,438,512,435,473,427,437,418,419,402,401,386,388,368,379"/>
<area shape="rect" href="struct_r_g_w_zone.html#af69fec0b437216f23fd4aaf6ebc1f03b" title=" " alt="" coords="465,785,621,812"/>
<area shape="poly" title=" " alt="" coords="370,373,390,383,406,397,423,421,435,446,442,470,444,494,440,541,430,587,420,633,416,679,419,702,425,725,437,748,454,772,456,774,452,777,450,775,432,751,420,727,413,703,411,679,414,632,425,586,435,540,439,494,436,471,430,447,419,424,402,400,387,387,368,378"/>
<area shape="poly" title=" " alt="" coords="585,378,681,359,850,338,1019,333,1270,333,1397,339,1521,353,1706,385,1705,390,1520,358,1396,344,1270,339,1020,339,850,343,682,364,586,383"/>
<area shape="rect" href="classrgw_1_1sal_1_1_store.html#a3308ce50125b19ccdf5ce7f69958bd67" title=" " alt="" coords="711,373,843,416"/>
<area shape="poly" title=" " alt="" coords="585,389,696,391,696,396,585,394"/>
<area shape="poly" title=" " alt="" coords="571,517,621,495,681,476,775,458,849,451,1020,451,1270,451,1396,445,1520,431,1705,399,1706,405,1521,436,1397,450,1270,456,1019,456,849,456,775,463,682,481,623,500,573,522"/>
<area shape="rect" href="classrgw_1_1sal_1_1_store.html#aca84a6ff80011b26fcd2fa8526c1152e" title=" " alt="" coords="711,491,843,517"/>
<area shape="poly" title=" " alt="" coords="625,520,696,511,696,517,626,526"/>
<area shape="rect" href="classrgw_1_1sal_1_1_store.html#a91db16d708ac953cef44535c16457fb5" title=" " alt="" coords="711,541,843,584"/>
<area shape="poly" title=" " alt="" coords="626,541,696,550,696,555,625,546"/>
<area shape="rect" href="struct_r_g_w_data_sync_ctx.html#a6790e78be7a10a9ab56663efdf9ed503" title=" " alt="" coords="699,608,855,635"/>
<area shape="poly" title=" " alt="" coords="572,545,623,569,682,593,704,601,703,606,680,599,620,574,570,550"/>
<area shape="rect" href="class_r_g_w_coroutines_manager.html#a38ec9d44810bfd9ad15dad3a30cb091a" title=" " alt="" coords="681,659,873,685"/>
<area shape="poly" title=" " alt="" coords="558,545,610,594,645,621,683,644,696,650,694,655,680,649,642,625,606,598,555,549"/>
<area shape="poly" title=" " alt="" coords="633,736,748,719,872,695,1085,639,1248,588,1409,528,1614,448,1705,408,1707,413,1616,453,1410,533,1250,593,1086,645,873,700,749,725,634,741"/>
<area shape="rect" href="class_r_g_w_r_e_s_t_conn.html#a0c46db245fa850c5e044c1f7450a7198" title=" " alt="" coords="693,760,861,787"/>
<area shape="poly" title=" " alt="" coords="634,755,678,760,677,765,633,760"/>
<area shape="rect" href="class_r_g_w_r_e_s_t_conn.html#a829921dcfe02e550a48544fba8d94c77" title=" " alt="" coords="690,811,864,853"/>
<area shape="poly" title=" " alt="" coords="601,759,634,771,682,796,697,802,695,807,680,801,632,776,599,764"/>
<area shape="rect" href="structrgw__bucket.html#ad369d093e39599e8eea191882fcdc6a9" title=" " alt="" coords="706,877,848,904"/>
<area shape="poly" title=" " alt="" coords="616,760,635,771,653,795,660,819,666,842,683,863,694,870,691,875,680,867,661,844,655,820,648,797,632,775,613,764"/>
<area shape="poly" title=" " alt="" coords="840,808,872,796,955,763,1018,735,1083,710,1168,683,1212,674,1268,667,1397,654,1523,636,1575,622,1613,603,1636,584,1656,562,1690,513,1714,463,1730,422,1735,423,1719,465,1695,516,1661,566,1640,588,1616,608,1577,627,1524,641,1397,659,1268,672,1213,679,1170,688,1085,715,1021,740,957,768,874,801,842,813"/>
<area shape="rect" href="class_r_g_w_r_e_s_t_conn.html#a6411fb60b6947dcbe248539da0398767" title=" " alt="" coords="921,819,1121,845"/>
<area shape="poly" title=" " alt="" coords="865,829,905,829,905,835,865,835"/>
<area shape="rect" href="rgw__rest__conn_8h.html#ae421db94874c71852c64e30964cc823f" title=" " alt="" coords="954,936,1088,963"/>
<area shape="poly" title=" " alt="" coords="846,851,874,863,934,894,987,925,984,930,932,899,872,868,844,856"/>
<area shape="poly" title=" " alt="" coords="1033,816,1088,765,1126,736,1168,714,1234,693,1293,688,1348,691,1400,698,1451,703,1502,701,1556,687,1584,673,1613,654,1640,630,1663,602,1683,570,1698,538,1721,474,1733,423,1738,424,1726,475,1703,540,1687,573,1668,605,1644,634,1616,658,1586,677,1558,692,1503,707,1451,709,1400,703,1348,696,1294,693,1235,698,1170,718,1129,741,1091,769,1037,820"/>
<area shape="rect" href="class_r_g_w_h_t_t_p_stream_r_w_request.html#a28de0acc4dc43fc97efbfc4a6ba82c43" title=" " alt="" coords="1170,728,1367,771"/>
<area shape="poly" title=" " alt="" coords="1062,816,1187,774,1189,779,1064,821"/>
<area shape="rect" href="class_r_g_w_r_e_s_t_conn.html#ac833f895cae6760d02b776c2a597f02d" title=" " alt="" coords="1187,819,1351,845"/>
<area shape="poly" title=" " alt="" coords="1122,829,1171,829,1171,835,1122,835"/>
<area shape="rect" href="class_r_g_w_r_e_s_t_conn.html#a919ee8e18b3c046e8b64029ab3427130" title=" " alt="" coords="1182,869,1356,912"/>
<area shape="poly" title=" " alt="" coords="1081,843,1167,864,1166,869,1080,848"/>
<area shape="rect" href="class_r_g_w_r_e_s_t_stream_r_w_request.html#ac991b0ba9e3086ee97283a7d26abdfb3" title=" " alt="" coords="1169,936,1368,979"/>
<area shape="poly" title=" " alt="" coords="1042,843,1098,881,1170,922,1183,927,1181,932,1168,926,1095,886,1039,848"/>
<area shape="rect" href="rgw__rest__client_8cc.html#afe35f1027a22ea12c1e9d5479572cafa" title=" " alt="" coords="1450,725,1581,752"/>
<area shape="poly" title=" " alt="" coords="1368,742,1435,739,1435,745,1368,748"/>
<area shape="rect" href="rgw__rest__client_8cc.html#ab4f60e826eb9d1f1c246a8dc52a1d1f6" title=" " alt="" coords="1442,776,1589,803"/>
<area shape="poly" title=" " alt="" coords="1368,763,1427,772,1426,778,1367,768"/>
<area shape="rect" href="class_r_g_w_h_t_t_p_client.html#a7d489c6689cd946b572415111b0c97b5" title=" " alt="" coords="1441,827,1590,853"/>
<area shape="poly" title=" " alt="" coords="1343,769,1370,780,1394,797,1418,812,1434,819,1432,824,1415,817,1391,801,1367,785,1341,774"/>
<area shape="poly" title=" " alt="" coords="1580,724,1598,716,1613,705,1642,673,1666,636,1686,597,1702,557,1723,482,1734,423,1740,424,1729,483,1707,559,1691,600,1670,639,1646,676,1616,709,1600,720,1582,729"/>
<area shape="rect" href="structrgw__http__req__data.html#a2cb0db213911deffc4b43a81a37098b5" title=" " alt="" coords="1663,827,1821,853"/>
<area shape="poly" title=" " alt="" coords="1591,837,1647,837,1647,843,1591,843"/>
<area shape="rect" href="structrgw__http__req__data.html#a5d6962235aabed5aabe98213b486ccb1" title=" " alt="" coords="1900,819,2035,861"/>
<area shape="poly" title=" " alt="" coords="1821,837,1885,837,1885,843,1821,843"/>
<area shape="poly" title=" " alt="" coords="1227,820,1220,810,1225,800,1242,794,1269,792,1298,795,1314,801,1312,806,1297,800,1269,797,1243,799,1228,804,1225,809,1232,817"/>
<area shape="rect" href="class_r_g_w_r_e_s_t_conn.html#ae90bac8b6344ad9f172ce25c12cf82e9" title=" " alt="" coords="1416,877,1615,904"/>
<area shape="poly" title=" " alt="" coords="1356,888,1400,888,1400,893,1356,893"/>
<area shape="rect" href="class_r_g_w_r_e_s_t_conn.html#a80208c730562921a2e3b4d9dde10855e" title=" " alt="" coords="1428,928,1603,971"/>
<area shape="poly" title=" " alt="" coords="1357,909,1414,922,1412,928,1356,914"/>
<area shape="rect" href="structrgw__user.html#afd8a9e36c5a9f7773c13d903c3124e99" title=" " alt="" coords="1683,877,1801,904"/>
<area shape="poly" title=" " alt="" coords="1615,888,1668,888,1668,893,1615,893"/>
<area shape="rect" href="structrgw__user.html#af00f510d6a9ff0580d87ee46b274d96e" title=" " alt="" coords="1685,928,1799,955"/>
<area shape="poly" title=" " alt="" coords="1579,902,1670,923,1669,928,1578,907"/>
<area shape="rect" href="rgw__basic__types_8cc.html#a83dfe8268c0c76ff6ceaf083ad129d5c" title=" " alt="" coords="1210,1003,1328,1029"/>
<area shape="poly" title=" " alt="" coords="1071,961,1170,988,1198,996,1197,1001,1168,993,1070,966"/>
<area shape="rect" href="structrgw__user.html#a7e60b2dd070ae3af5cebb6c34946bac6" title=" " alt="" coords="1451,1003,1580,1029"/>
<area shape="poly" title=" " alt="" coords="1328,1013,1436,1013,1436,1019,1328,1019"/>
</map>
</div>
<div class="dynheader">
이 함수를 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="rgw__admin_8cc_a1952ece8a97cc8cf04493a430fb3b6dd_icgraph.png" border="0" usemap="#argw__admin_8cc_a1952ece8a97cc8cf04493a430fb3b6dd_icgraph" alt=""/></div>
<map name="argw__admin_8cc_a1952ece8a97cc8cf04493a430fb3b6dd_icgraph" id="argw__admin_8cc_a1952ece8a97cc8cf04493a430fb3b6dd_icgraph">
<area shape="rect" title=" " alt="" coords="103,5,241,32"/>
<area shape="rect" href="rgw__admin_8cc.html#a217dbf8b442f20279ea00b898af96f52" title=" " alt="" coords="5,5,55,32"/>
<area shape="poly" title=" " alt="" coords="87,21,55,21,55,16,87,16"/>
</map>
</div>

</div>
</div>
<a id="aa274fe37d51829df1fbc452da59dfdfa" name="aa274fe37d51829df1fbc452da59dfdfa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa274fe37d51829df1fbc452da59dfdfa">&#9670;&#160;</a></span>check_min_obj_stripe_size()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int check_min_obj_stripe_size </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classrgw_1_1sal_1_1_store.html">rgw::sal::Store</a> *&#160;</td>
          <td class="paramname"><em>store</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classrgw_1_1sal_1_1_object.html">rgw::sal::Object</a> *&#160;</td>
          <td class="paramname"><em>obj</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t&#160;</td>
          <td class="paramname"><em>min_stripe_size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool *&#160;</td>
          <td class="paramname"><em>need_rewrite</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition"><a class="el" href="rgw__admin_8cc_source.html">rgw_admin.cc</a> 파일의 <a class="el" href="rgw__admin_8cc_source.html#l01577">1577</a> 번째 라인에서 정의되었습니다.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1578</span>{</div>
<div class="line"><span class="lineno"> 1579</span>  <a class="code hl_class" href="class_r_g_w_object_ctx.html">RGWObjectCtx</a> obj_ctx(<a class="code hl_variable" href="rgw__admin_8cc.html#a6fdb26d64b14d837b60e83a6ca3e2863">store</a>);</div>
<div class="line"><span class="lineno"> 1580</span>  <span class="keywordtype">int</span> ret = obj-&gt;<a class="code hl_function" href="classrgw_1_1sal_1_1_object.html#a71a3c60be2428f3b37f985071cfe82cf">get_obj_attrs</a>(&amp;obj_ctx, null_yield, <a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>());</div>
<div class="line"><span class="lineno"> 1581</span>  <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno"> 1582</span>    ldpp_dout(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>(), -1) &lt;&lt; <span class="stringliteral">&quot;ERROR: failed to stat object, returned error: &quot;</span> &lt;&lt; cpp_strerror(-ret) &lt;&lt; dendl;</div>
<div class="line"><span class="lineno"> 1583</span>    <span class="keywordflow">return</span> ret;</div>
<div class="line"><span class="lineno"> 1584</span>  }</div>
<div class="line"><span class="lineno"> 1585</span> </div>
<div class="line"><span class="lineno"> 1586</span>  map&lt;string, bufferlist&gt;::iterator iter;</div>
<div class="line"><span class="lineno"> 1587</span>  iter = obj-&gt;<a class="code hl_function" href="classrgw_1_1sal_1_1_object.html#aa8e83e47dd8615028e1eec9d9d7f8ec4">get_attrs</a>().find(<a class="code hl_define" href="rgw__common_8h.html#acde64cb5e0f5663d319edd39da4ded46">RGW_ATTR_MANIFEST</a>);</div>
<div class="line"><span class="lineno"> 1588</span>  <span class="keywordflow">if</span> (iter == obj-&gt;<a class="code hl_function" href="classrgw_1_1sal_1_1_object.html#aa8e83e47dd8615028e1eec9d9d7f8ec4">get_attrs</a>().end()) {</div>
<div class="line"><span class="lineno"> 1589</span>    *need_rewrite = (obj-&gt;<a class="code hl_function" href="classrgw_1_1sal_1_1_object.html#a323199c62db43c2e9293e423dc248440">get_obj_size</a>() &gt;= min_stripe_size);</div>
<div class="line"><span class="lineno"> 1590</span>    <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno"> 1591</span>  }</div>
<div class="line"><span class="lineno"> 1592</span> </div>
<div class="line"><span class="lineno"> 1593</span>  <a class="code hl_class" href="class_r_g_w_obj_manifest.html">RGWObjManifest</a> manifest;</div>
<div class="line"><span class="lineno"> 1594</span> </div>
<div class="line"><span class="lineno"> 1595</span>  <span class="keywordflow">try</span> {</div>
<div class="line"><span class="lineno"> 1596</span>    bufferlist&amp; bl = iter-&gt;second;</div>
<div class="line"><span class="lineno"> 1597</span>    <span class="keyword">auto</span> biter = bl.cbegin();</div>
<div class="line"><span class="lineno"> 1598</span>    <a class="code hl_function" href="rgw__log__backing_8h.html#adc46efdde31cf790f3b383cb9e6f198e">decode</a>(manifest, biter);</div>
<div class="line"><span class="lineno"> 1599</span>  } <span class="keywordflow">catch</span> (buffer::error&amp; err) {</div>
<div class="line"><span class="lineno"> 1600</span>    ldpp_dout(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>(), 0) &lt;&lt; <span class="stringliteral">&quot;ERROR: failed to decode manifest&quot;</span> &lt;&lt; dendl;</div>
<div class="line"><span class="lineno"> 1601</span>    <span class="keywordflow">return</span> -EIO;</div>
<div class="line"><span class="lineno"> 1602</span>  }</div>
<div class="line"><span class="lineno"> 1603</span> </div>
<div class="line"><span class="lineno"> 1604</span>  map&lt;uint64_t, RGWObjManifestPart&gt;&amp; objs = manifest.<a class="code hl_function" href="class_r_g_w_obj_manifest.html#a66b46c8322eeacf8034b4f562ca990f7">get_explicit_objs</a>();</div>
<div class="line"><span class="lineno"> 1605</span>  map&lt;uint64_t, RGWObjManifestPart&gt;::iterator oiter;</div>
<div class="line"><span class="lineno"> 1606</span>  <span class="keywordflow">for</span> (oiter = objs.begin(); oiter != objs.end(); ++oiter) {</div>
<div class="line"><span class="lineno"> 1607</span>    <a class="code hl_struct" href="struct_r_g_w_obj_manifest_part.html">RGWObjManifestPart</a>&amp; part = oiter-&gt;second;</div>
<div class="line"><span class="lineno"> 1608</span> </div>
<div class="line"><span class="lineno"> 1609</span>    <span class="keywordflow">if</span> (part.<a class="code hl_variable" href="struct_r_g_w_obj_manifest_part.html#a23e58a7cd30a314dc1f8519f25d2ba90">size</a> &gt;= min_stripe_size) {</div>
<div class="line"><span class="lineno"> 1610</span>      *need_rewrite = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 1611</span>      <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno"> 1612</span>    }</div>
<div class="line"><span class="lineno"> 1613</span>  }</div>
<div class="line"><span class="lineno"> 1614</span>  *need_rewrite = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 1615</span> </div>
<div class="line"><span class="lineno"> 1616</span>  <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno"> 1617</span>}</div>
<div class="ttc" id="aclass_r_g_w_obj_manifest_html"><div class="ttname"><a href="class_r_g_w_obj_manifest.html">RGWObjManifest</a></div><div class="ttdef"><b>Definition</b> <a href="rgw__obj__manifest_8h_source.html#l00177">rgw_obj_manifest.h:177</a></div></div>
<div class="ttc" id="aclass_r_g_w_obj_manifest_html_a66b46c8322eeacf8034b4f562ca990f7"><div class="ttname"><a href="class_r_g_w_obj_manifest.html#a66b46c8322eeacf8034b4f562ca990f7">RGWObjManifest::get_explicit_objs</a></div><div class="ttdeci">std::map&lt; uint64_t, RGWObjManifestPart &gt; &amp; get_explicit_objs()</div><div class="ttdef"><b>Definition</b> <a href="rgw__obj__manifest_8h_source.html#l00225">rgw_obj_manifest.h:225</a></div></div>
<div class="ttc" id="aclass_r_g_w_object_ctx_html"><div class="ttname"><a href="class_r_g_w_object_ctx.html">RGWObjectCtx</a></div><div class="ttdef"><b>Definition</b> <a href="rgw__rados_8h_source.html#l00187">rgw_rados.h:187</a></div></div>
<div class="ttc" id="aclassrgw_1_1sal_1_1_object_html_a323199c62db43c2e9293e423dc248440"><div class="ttname"><a href="classrgw_1_1sal_1_1_object.html#a323199c62db43c2e9293e423dc248440">rgw::sal::Object::get_obj_size</a></div><div class="ttdeci">uint64_t get_obj_size(void) const</div><div class="ttdef"><b>Definition</b> <a href="rgw__sal_8h_source.html#l01042">rgw_sal.h:1042</a></div></div>
<div class="ttc" id="aclassrgw_1_1sal_1_1_object_html_a71a3c60be2428f3b37f985071cfe82cf"><div class="ttname"><a href="classrgw_1_1sal_1_1_object.html#a71a3c60be2428f3b37f985071cfe82cf">rgw::sal::Object::get_obj_attrs</a></div><div class="ttdeci">virtual int get_obj_attrs(RGWObjectCtx *rctx, optional_yield y, const DoutPrefixProvider *dpp, rgw_obj *target_obj=NULL)=0</div></div>
<div class="ttc" id="aclassrgw_1_1sal_1_1_object_html_aa8e83e47dd8615028e1eec9d9d7f8ec4"><div class="ttname"><a href="classrgw_1_1sal_1_1_object.html#aa8e83e47dd8615028e1eec9d9d7f8ec4">rgw::sal::Object::get_attrs</a></div><div class="ttdeci">Attrs &amp; get_attrs(void)</div><div class="ttdef"><b>Definition</b> <a href="rgw__sal_8h_source.html#l01034">rgw_sal.h:1034</a></div></div>
<div class="ttc" id="argw__common_8h_html_acde64cb5e0f5663d319edd39da4ded46"><div class="ttname"><a href="rgw__common_8h.html#acde64cb5e0f5663d319edd39da4ded46">RGW_ATTR_MANIFEST</a></div><div class="ttdeci">#define RGW_ATTR_MANIFEST</div><div class="ttdef"><b>Definition</b> <a href="rgw__common_8h_source.html#l00087">rgw_common.h:87</a></div></div>
<div class="ttc" id="argw__log__backing_8h_html_adc46efdde31cf790f3b383cb9e6f198e"><div class="ttname"><a href="rgw__log__backing_8h.html#adc46efdde31cf790f3b383cb9e6f198e">decode</a></div><div class="ttdeci">void decode(log_type &amp;type, bufferlist::const_iterator &amp;bl)</div><div class="ttdef"><b>Definition</b> <a href="rgw__log__backing_8h_source.html#l00049">rgw_log_backing.h:49</a></div></div>
<div class="ttc" id="astruct_r_g_w_obj_manifest_part_html"><div class="ttname"><a href="struct_r_g_w_obj_manifest_part.html">RGWObjManifestPart</a></div><div class="ttdef"><b>Definition</b> <a href="rgw__obj__manifest_8h_source.html#l00072">rgw_obj_manifest.h:72</a></div></div>
<div class="ttc" id="astruct_r_g_w_obj_manifest_part_html_a23e58a7cd30a314dc1f8519f25d2ba90"><div class="ttname"><a href="struct_r_g_w_obj_manifest_part.html#a23e58a7cd30a314dc1f8519f25d2ba90">RGWObjManifestPart::size</a></div><div class="ttdeci">uint64_t size</div><div class="ttdef"><b>Definition</b> <a href="rgw__obj__manifest_8h_source.html#l00075">rgw_obj_manifest.h:75</a></div></div>
</div><!-- fragment --><div class="dynheader">
이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="rgw__admin_8cc_aa274fe37d51829df1fbc452da59dfdfa_cgraph.png" border="0" usemap="#argw__admin_8cc_aa274fe37d51829df1fbc452da59dfdfa_cgraph" alt=""/></div>
<map name="argw__admin_8cc_aa274fe37d51829df1fbc452da59dfdfa_cgraph" id="argw__admin_8cc_aa274fe37d51829df1fbc452da59dfdfa_cgraph">
<area shape="rect" title=" " alt="" coords="5,172,184,199"/>
<area shape="rect" href="rgw__log__backing_8h.html#adc46efdde31cf790f3b383cb9e6f198e" title=" " alt="" coords="274,29,338,56"/>
<area shape="poly" title=" " alt="" coords="107,170,158,120,192,91,230,66,258,53,260,58,233,70,196,95,161,124,110,173"/>
<area shape="rect" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5" title=" " alt="" coords="285,80,327,107"/>
<area shape="poly" title=" " alt="" coords="121,169,231,116,269,102,271,107,233,121,123,174"/>
<area shape="rect" href="classrgw_1_1sal_1_1_object.html#aa8e83e47dd8615028e1eec9d9d7f8ec4" title=" " alt="" coords="237,131,375,173"/>
<area shape="poly" title=" " alt="" coords="183,169,221,163,222,168,184,174"/>
<area shape="rect" href="class_r_g_w_obj_manifest.html#a66b46c8322eeacf8034b4f562ca990f7" title=" " alt="" coords="232,197,380,240"/>
<area shape="poly" title=" " alt="" coords="184,197,217,202,216,207,183,202"/>
<area shape="rect" href="classrgw_1_1sal_1_1_object.html#a71a3c60be2428f3b37f985071cfe82cf" title=" " alt="" coords="237,264,375,307"/>
<area shape="poly" title=" " alt="" coords="124,197,233,250,244,255,242,260,231,254,122,201"/>
<area shape="rect" href="classrgw_1_1sal_1_1_object.html#a323199c62db43c2e9293e423dc248440" title=" " alt="" coords="237,331,375,373"/>
<area shape="poly" title=" " alt="" coords="109,197,160,253,195,286,233,316,239,321,237,325,230,321,191,290,156,257,105,201"/>
<area shape="poly" title=" " alt="" coords="272,32,264,22,267,11,282,5,306,3,334,6,346,14,343,19,332,11,306,8,283,10,271,15,269,21,276,28"/>
</map>
</div>
<div class="dynheader">
이 함수를 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="rgw__admin_8cc_aa274fe37d51829df1fbc452da59dfdfa_icgraph.png" border="0" usemap="#argw__admin_8cc_aa274fe37d51829df1fbc452da59dfdfa_icgraph" alt=""/></div>
<map name="argw__admin_8cc_aa274fe37d51829df1fbc452da59dfdfa_icgraph" id="argw__admin_8cc_aa274fe37d51829df1fbc452da59dfdfa_icgraph">
<area shape="rect" title=" " alt="" coords="103,5,281,32"/>
<area shape="rect" href="rgw__admin_8cc.html#a217dbf8b442f20279ea00b898af96f52" title=" " alt="" coords="5,5,55,32"/>
<area shape="poly" title=" " alt="" coords="87,21,55,21,55,16,87,16"/>
</map>
</div>

</div>
</div>
<a id="a9936e83962e52b5d34c57a2974e5baf5" name="a9936e83962e52b5d34c57a2974e5baf5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9936e83962e52b5d34c57a2974e5baf5">&#9670;&#160;</a></span>check_obj_locator_underscore()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int check_obj_locator_underscore </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classrgw_1_1sal_1_1_object.html">rgw::sal::Object</a> *&#160;</td>
          <td class="paramname"><em>obj</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>fix</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>remove_bad</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Formatter *&#160;</td>
          <td class="paramname"><em>f</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition"><a class="el" href="rgw__admin_8cc_source.html">rgw_admin.cc</a> 파일의 <a class="el" href="rgw__admin_8cc_source.html#l01620">1620</a> 번째 라인에서 정의되었습니다.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1620</span>                                                                                             {</div>
<div class="line"><span class="lineno"> 1621</span>  f-&gt;open_object_section(<span class="stringliteral">&quot;object&quot;</span>);</div>
<div class="line"><span class="lineno"> 1622</span>  f-&gt;open_object_section(<span class="stringliteral">&quot;key&quot;</span>);</div>
<div class="line"><span class="lineno"> 1623</span>  f-&gt;dump_string(<span class="stringliteral">&quot;type&quot;</span>, <span class="stringliteral">&quot;head&quot;</span>);</div>
<div class="line"><span class="lineno"> 1624</span>  f-&gt;dump_string(<span class="stringliteral">&quot;name&quot;</span>, obj-&gt;<a class="code hl_function" href="classrgw_1_1sal_1_1_object.html#aa4a801a7e7dfbb29ccf622603dee6ae3">get_name</a>());</div>
<div class="line"><span class="lineno"> 1625</span>  f-&gt;dump_string(<span class="stringliteral">&quot;instance&quot;</span>, obj-&gt;<a class="code hl_function" href="classrgw_1_1sal_1_1_object.html#aa6e4eac7bc3684c96e95b184ed54b0b2">get_instance</a>());</div>
<div class="line"><span class="lineno"> 1626</span>  f-&gt;close_section();</div>
<div class="line"><span class="lineno"> 1627</span> </div>
<div class="line"><span class="lineno"> 1628</span>  <span class="keywordtype">string</span> oid;</div>
<div class="line"><span class="lineno"> 1629</span>  <span class="keywordtype">string</span> locator;</div>
<div class="line"><span class="lineno"> 1630</span> </div>
<div class="line"><span class="lineno"> 1631</span>  <a class="code hl_function" href="rgw__rados_8h.html#a33182a54c89c3d799bd2cc3ed782b3ae">get_obj_bucket_and_oid_loc</a>(obj-&gt;<a class="code hl_function" href="classrgw_1_1sal_1_1_object.html#a770aa088f13a4a4063055cc423de4478">get_obj</a>(), oid, locator);</div>
<div class="line"><span class="lineno"> 1632</span> </div>
<div class="line"><span class="lineno"> 1633</span>  f-&gt;dump_string(<span class="stringliteral">&quot;oid&quot;</span>, oid);</div>
<div class="line"><span class="lineno"> 1634</span>  f-&gt;dump_string(<span class="stringliteral">&quot;locator&quot;</span>, locator);</div>
<div class="line"><span class="lineno"> 1635</span> </div>
<div class="line"><span class="lineno"> 1636</span>  <a class="code hl_class" href="class_r_g_w_object_ctx.html">RGWObjectCtx</a> obj_ctx(<a class="code hl_variable" href="rgw__admin_8cc.html#a6fdb26d64b14d837b60e83a6ca3e2863">store</a>);</div>
<div class="line"><span class="lineno"> 1637</span>  std::unique_ptr&lt;rgw::sal::Object::ReadOp&gt; read_op = obj-&gt;<a class="code hl_function" href="classrgw_1_1sal_1_1_object.html#a8bec88c51a147ce6260c78b90bab7d7a">get_read_op</a>(&amp;obj_ctx);</div>
<div class="line"><span class="lineno"> 1638</span> </div>
<div class="line"><span class="lineno"> 1639</span>  <span class="keywordtype">int</span> ret = read_op-&gt;prepare(null_yield, <a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>());</div>
<div class="line"><span class="lineno"> 1640</span>  <span class="keywordtype">bool</span> needs_fixing = (ret == -ENOENT);</div>
<div class="line"><span class="lineno"> 1641</span> </div>
<div class="line"><span class="lineno"> 1642</span>  f-&gt;dump_bool(<span class="stringliteral">&quot;needs_fixing&quot;</span>, needs_fixing);</div>
<div class="line"><span class="lineno"> 1643</span> </div>
<div class="line"><span class="lineno"> 1644</span>  <span class="keywordtype">string</span> status = (needs_fixing ? <span class="stringliteral">&quot;needs_fixing&quot;</span> : <span class="stringliteral">&quot;ok&quot;</span>);</div>
<div class="line"><span class="lineno"> 1645</span> </div>
<div class="line"><span class="lineno"> 1646</span>  <span class="keywordflow">if</span> ((needs_fixing || remove_bad) &amp;&amp; fix) {</div>
<div class="line"><span class="lineno"> 1647</span>    ret = <span class="keyword">static_cast&lt;</span><a class="code hl_class" href="classrgw_1_1sal_1_1_rados_store.html">rgw::sal::RadosStore</a>*<span class="keyword">&gt;</span>(<a class="code hl_variable" href="rgw__admin_8cc.html#a6fdb26d64b14d837b60e83a6ca3e2863">store</a>)-&gt;getRados()-&gt;fix_head_obj_locator(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>(), obj-&gt;<a class="code hl_function" href="classrgw_1_1sal_1_1_object.html#a0cdac8c36c06ebf81fb580038205487f">get_bucket</a>()-&gt;<a class="code hl_function" href="classrgw_1_1sal_1_1_bucket.html#a1e64259203d2710c33c5a979721c19ee">get_info</a>(), needs_fixing, remove_bad, obj-&gt;<a class="code hl_function" href="classrgw_1_1sal_1_1_object.html#af492ef7b108fe3b0045349261ba80c3c">get_key</a>());</div>
<div class="line"><span class="lineno"> 1648</span>    <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno"> 1649</span>      cerr &lt;&lt; <span class="stringliteral">&quot;ERROR: fix_head_object_locator() returned ret=&quot;</span> &lt;&lt; ret &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 1650</span>      <span class="keywordflow">goto</span> done;</div>
<div class="line"><span class="lineno"> 1651</span>    }</div>
<div class="line"><span class="lineno"> 1652</span>    status = <span class="stringliteral">&quot;fixed&quot;</span>;</div>
<div class="line"><span class="lineno"> 1653</span>  }</div>
<div class="line"><span class="lineno"> 1654</span> </div>
<div class="line"><span class="lineno"> 1655</span>done:</div>
<div class="line"><span class="lineno"> 1656</span>  f-&gt;dump_string(<span class="stringliteral">&quot;status&quot;</span>, status);</div>
<div class="line"><span class="lineno"> 1657</span> </div>
<div class="line"><span class="lineno"> 1658</span>  f-&gt;close_section();</div>
<div class="line"><span class="lineno"> 1659</span> </div>
<div class="line"><span class="lineno"> 1660</span>  <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno"> 1661</span>}</div>
<div class="ttc" id="aclassrgw_1_1sal_1_1_bucket_html_a1e64259203d2710c33c5a979721c19ee"><div class="ttname"><a href="classrgw_1_1sal_1_1_bucket.html#a1e64259203d2710c33c5a979721c19ee">rgw::sal::Bucket::get_info</a></div><div class="ttdeci">RGWBucketInfo &amp; get_info()</div><div class="ttdef"><b>Definition</b> <a href="rgw__sal_8h_source.html#l00770">rgw_sal.h:770</a></div></div>
<div class="ttc" id="aclassrgw_1_1sal_1_1_object_html_a0cdac8c36c06ebf81fb580038205487f"><div class="ttname"><a href="classrgw_1_1sal_1_1_object.html#a0cdac8c36c06ebf81fb580038205487f">rgw::sal::Object::get_bucket</a></div><div class="ttdeci">Bucket * get_bucket(void) const</div><div class="ttdef"><b>Definition</b> <a href="rgw__sal_8h_source.html#l01044">rgw_sal.h:1044</a></div></div>
<div class="ttc" id="aclassrgw_1_1sal_1_1_object_html_a770aa088f13a4a4063055cc423de4478"><div class="ttname"><a href="classrgw_1_1sal_1_1_object.html#a770aa088f13a4a4063055cc423de4478">rgw::sal::Object::get_obj</a></div><div class="ttdeci">virtual rgw_obj get_obj(void) const</div><div class="ttdef"><b>Definition</b> <a href="rgw__sal_8h_source.html#l01068">rgw_sal.h:1068</a></div></div>
<div class="ttc" id="aclassrgw_1_1sal_1_1_object_html_a8bec88c51a147ce6260c78b90bab7d7a"><div class="ttname"><a href="classrgw_1_1sal_1_1_object.html#a8bec88c51a147ce6260c78b90bab7d7a">rgw::sal::Object::get_read_op</a></div><div class="ttdeci">virtual std::unique_ptr&lt; ReadOp &gt; get_read_op(RGWObjectCtx *)=0</div></div>
<div class="ttc" id="aclassrgw_1_1sal_1_1_object_html_aa4a801a7e7dfbb29ccf622603dee6ae3"><div class="ttname"><a href="classrgw_1_1sal_1_1_object.html#aa4a801a7e7dfbb29ccf622603dee6ae3">rgw::sal::Object::get_name</a></div><div class="ttdeci">const std::string &amp; get_name() const</div><div class="ttdef"><b>Definition</b> <a href="rgw__sal_8h_source.html#l01001">rgw_sal.h:1001</a></div></div>
<div class="ttc" id="aclassrgw_1_1sal_1_1_object_html_aa6e4eac7bc3684c96e95b184ed54b0b2"><div class="ttname"><a href="classrgw_1_1sal_1_1_object.html#aa6e4eac7bc3684c96e95b184ed54b0b2">rgw::sal::Object::get_instance</a></div><div class="ttdeci">const std::string &amp; get_instance() const</div><div class="ttdef"><b>Definition</b> <a href="rgw__sal_8h_source.html#l01117">rgw_sal.h:1117</a></div></div>
<div class="ttc" id="aclassrgw_1_1sal_1_1_object_html_af492ef7b108fe3b0045349261ba80c3c"><div class="ttname"><a href="classrgw_1_1sal_1_1_object.html#af492ef7b108fe3b0045349261ba80c3c">rgw::sal::Object::get_key</a></div><div class="ttdeci">rgw_obj_key &amp; get_key()</div><div class="ttdef"><b>Definition</b> <a href="rgw__sal_8h_source.html#l01113">rgw_sal.h:1113</a></div></div>
<div class="ttc" id="argw__rados_8h_html_a33182a54c89c3d799bd2cc3ed782b3ae"><div class="ttname"><a href="rgw__rados_8h.html#a33182a54c89c3d799bd2cc3ed782b3ae">get_obj_bucket_and_oid_loc</a></div><div class="ttdeci">static void get_obj_bucket_and_oid_loc(const rgw_obj &amp;obj, std::string &amp;oid, std::string &amp;locator)</div><div class="ttdef"><b>Definition</b> <a href="rgw__rados_8h_source.html#l00080">rgw_rados.h:80</a></div></div>
</div><!-- fragment --><div class="dynheader">
이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="rgw__admin_8cc_a9936e83962e52b5d34c57a2974e5baf5_cgraph.png" border="0" usemap="#argw__admin_8cc_a9936e83962e52b5d34c57a2974e5baf5_cgraph" alt=""/></div>
<map name="argw__admin_8cc_a9936e83962e52b5d34c57a2974e5baf5_cgraph" id="argw__admin_8cc_a9936e83962e52b5d34c57a2974e5baf5_cgraph">
<area shape="rect" title=" " alt="" coords="5,240,203,267"/>
<area shape="rect" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5" title=" " alt="" coords="318,5,361,32"/>
<area shape="poly" title=" " alt="" coords="108,239,127,200,156,147,197,90,222,64,249,42,275,28,302,21,303,26,277,33,252,46,226,68,202,94,161,149,131,202,113,241"/>
<area shape="rect" href="classrgw_1_1sal_1_1_object.html#a0cdac8c36c06ebf81fb580038205487f" title=" " alt="" coords="270,56,409,99"/>
<area shape="poly" title=" " alt="" coords="114,238,168,177,206,141,249,108,257,104,260,108,252,113,210,145,172,181,118,241"/>
<area shape="rect" href="classrgw_1_1sal_1_1_bucket.html#a1e64259203d2710c33c5a979721c19ee" title=" " alt="" coords="255,123,424,149"/>
<area shape="poly" title=" " alt="" coords="122,237,177,199,250,159,266,152,268,157,252,164,180,204,125,242"/>
<area shape="rect" href="classrgw_1_1sal_1_1_object.html#aa6e4eac7bc3684c96e95b184ed54b0b2" title=" " alt="" coords="270,173,409,216"/>
<area shape="poly" title=" " alt="" coords="160,237,254,213,256,218,161,242"/>
<area shape="rect" href="classrgw_1_1sal_1_1_object.html#af492ef7b108fe3b0045349261ba80c3c" title=" " alt="" coords="256,240,423,267"/>
<area shape="poly" title=" " alt="" coords="203,251,240,251,240,256,203,256"/>
<area shape="rect" href="classrgw_1_1sal_1_1_object.html#aa4a801a7e7dfbb29ccf622603dee6ae3" title=" " alt="" coords="251,291,428,317"/>
<area shape="poly" title=" " alt="" coords="170,265,260,284,259,289,169,270"/>
<area shape="rect" href="classrgw_1_1sal_1_1_object.html#a770aa088f13a4a4063055cc423de4478" title=" " alt="" coords="258,341,421,368"/>
<area shape="poly" title=" " alt="" coords="130,265,184,295,252,327,271,334,269,339,250,332,182,300,127,270"/>
<area shape="rect" href="rgw__rados_8h.html#a33182a54c89c3d799bd2cc3ed782b3ae" title=" " alt="" coords="271,392,408,435"/>
<area shape="poly" title=" " alt="" coords="120,265,175,319,212,350,252,378,260,382,258,387,249,382,209,354,171,323,116,269"/>
<area shape="rect" href="classrgw_1_1sal_1_1_object.html#a8bec88c51a147ce6260c78b90bab7d7a" title=" " alt="" coords="270,459,409,501"/>
<area shape="poly" title=" " alt="" coords="114,266,134,301,165,349,204,400,252,445,258,449,255,453,249,449,201,403,160,352,129,304,110,268"/>
<area shape="rect" href="classrgw_1_1sal_1_1_bucket.html#a0fbf4f16a181a9f8d58d1d75fb8dff2d" title=" " alt="" coords="480,291,649,317"/>
<area shape="poly" title=" " alt="" coords="401,338,487,319,488,324,403,343"/>
<area shape="rect" href="structrgw__obj.html#a244794360fcf52da4b630ae69f884c68" title=" " alt="" coords="476,341,652,368"/>
<area shape="poly" title=" " alt="" coords="421,352,461,352,461,357,421,357"/>
<area shape="rect" href="structrgw__obj__key.html#ad86505f9f947bfc3d0324513556967b8" title=" " alt="" coords="493,392,636,419"/>
<area shape="poly" title=" " alt="" coords="408,408,477,406,477,411,409,414"/>
<area shape="rect" href="structrgw__obj.html#a57ac62e4927daebb110dce9ee38b126e" title=" " alt="" coords="507,443,622,469"/>
<area shape="poly" title=" " alt="" coords="409,424,492,440,491,445,408,429"/>
<area shape="rect" href="rgw__rados_8h.html#a7733ec17ee7c8a202fbb85a3a53b01fe" title=" " alt="" coords="484,493,644,520"/>
<area shape="poly" title=" " alt="" coords="405,433,429,444,453,462,477,479,492,485,489,490,475,484,450,467,427,449,403,438"/>
<area shape="rect" href="structrgw__obj__key.html#a682d70974b3d3eee6b3a947f076d7d68" title=" " alt="" coords="700,443,844,469"/>
<area shape="poly" title=" " alt="" coords="622,453,685,453,685,459,622,459"/>
<area shape="rect" href="structrgw__obj__key.html#ae347a50fe4d173267251406194878326" title=" " alt="" coords="892,435,1039,477"/>
<area shape="poly" title=" " alt="" coords="844,453,876,453,876,459,844,459"/>
<area shape="rect" href="structrgw__obj__key.html#aa122de5def8f6275872494398afb82b8" title=" " alt="" coords="1087,413,1270,440"/>
<area shape="poly" title=" " alt="" coords="1039,443,1071,439,1072,444,1040,449"/>
<area shape="rect" href="structrgw__obj__key.html#abbd337f0dc4c9396c885b3bf7e6da7bf" title=" " alt="" coords="1102,464,1256,507"/>
<area shape="poly" title=" " alt="" coords="1040,463,1087,470,1086,475,1039,469"/>
</map>
</div>
<div class="dynheader">
이 함수를 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="rgw__admin_8cc_a9936e83962e52b5d34c57a2974e5baf5_icgraph.png" border="0" usemap="#argw__admin_8cc_a9936e83962e52b5d34c57a2974e5baf5_icgraph" alt=""/></div>
<map name="argw__admin_8cc_a9936e83962e52b5d34c57a2974e5baf5_icgraph" id="argw__admin_8cc_a9936e83962e52b5d34c57a2974e5baf5_icgraph">
<area shape="rect" title=" " alt="" coords="316,5,513,32"/>
<area shape="rect" href="rgw__admin_8cc.html#a7987767bde42cfaa2fbc443042879153" title=" " alt="" coords="103,5,268,32"/>
<area shape="poly" title=" " alt="" coords="301,21,268,21,268,16,301,16"/>
<area shape="rect" href="rgw__admin_8cc.html#a217dbf8b442f20279ea00b898af96f52" title=" " alt="" coords="5,5,55,32"/>
<area shape="poly" title=" " alt="" coords="87,21,55,21,55,16,87,16"/>
</map>
</div>

</div>
</div>
<a id="af25b7e0e8221907dbae24af72269d8c7" name="af25b7e0e8221907dbae24af72269d8c7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af25b7e0e8221907dbae24af72269d8c7">&#9670;&#160;</a></span>check_obj_tail_locator_underscore()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int check_obj_tail_locator_underscore </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_r_g_w_bucket_info.html">RGWBucketInfo</a> &amp;&#160;</td>
          <td class="paramname"><em>bucket_info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structrgw__obj__key.html">rgw_obj_key</a> &amp;&#160;</td>
          <td class="paramname"><em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>fix</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Formatter *&#160;</td>
          <td class="paramname"><em>f</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition"><a class="el" href="rgw__admin_8cc_source.html">rgw_admin.cc</a> 파일의 <a class="el" href="rgw__admin_8cc_source.html#l01663">1663</a> 번째 라인에서 정의되었습니다.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1663</span>                                                                                                            {</div>
<div class="line"><span class="lineno"> 1664</span>  f-&gt;open_object_section(<span class="stringliteral">&quot;object&quot;</span>);</div>
<div class="line"><span class="lineno"> 1665</span>  f-&gt;open_object_section(<span class="stringliteral">&quot;key&quot;</span>);</div>
<div class="line"><span class="lineno"> 1666</span>  f-&gt;dump_string(<span class="stringliteral">&quot;type&quot;</span>, <span class="stringliteral">&quot;tail&quot;</span>);</div>
<div class="line"><span class="lineno"> 1667</span>  f-&gt;dump_string(<span class="stringliteral">&quot;name&quot;</span>, key.<a class="code hl_variable" href="structrgw__obj__key.html#a009cbe657bf6a001d40af0a80e533186">name</a>);</div>
<div class="line"><span class="lineno"> 1668</span>  f-&gt;dump_string(<span class="stringliteral">&quot;instance&quot;</span>, key.<a class="code hl_variable" href="structrgw__obj__key.html#aa73e7ab93fad1f34c58dc9e87917213c">instance</a>);</div>
<div class="line"><span class="lineno"> 1669</span>  f-&gt;close_section();</div>
<div class="line"><span class="lineno"> 1670</span> </div>
<div class="line"><span class="lineno"> 1671</span>  <span class="keywordtype">bool</span> needs_fixing;</div>
<div class="line"><span class="lineno"> 1672</span>  <span class="keywordtype">string</span> status;</div>
<div class="line"><span class="lineno"> 1673</span> </div>
<div class="line"><span class="lineno"> 1674</span>  <span class="keywordtype">int</span> ret = <span class="keyword">static_cast&lt;</span><a class="code hl_class" href="classrgw_1_1sal_1_1_rados_store.html">rgw::sal::RadosStore</a>*<span class="keyword">&gt;</span>(<a class="code hl_variable" href="rgw__admin_8cc.html#a6fdb26d64b14d837b60e83a6ca3e2863">store</a>)-&gt;getRados()-&gt;fix_tail_obj_locator(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>(), bucket_info, key, fix, &amp;needs_fixing, null_yield);</div>
<div class="line"><span class="lineno"> 1675</span>  <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno"> 1676</span>    cerr &lt;&lt; <span class="stringliteral">&quot;ERROR: fix_tail_object_locator_underscore() returned ret=&quot;</span> &lt;&lt; ret &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 1677</span>    status = <span class="stringliteral">&quot;failed&quot;</span>;</div>
<div class="line"><span class="lineno"> 1678</span>  } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 1679</span>    status = (needs_fixing &amp;&amp; !fix ? <span class="stringliteral">&quot;needs_fixing&quot;</span> : <span class="stringliteral">&quot;ok&quot;</span>);</div>
<div class="line"><span class="lineno"> 1680</span>  }</div>
<div class="line"><span class="lineno"> 1681</span> </div>
<div class="line"><span class="lineno"> 1682</span>  f-&gt;dump_bool(<span class="stringliteral">&quot;needs_fixing&quot;</span>, needs_fixing);</div>
<div class="line"><span class="lineno"> 1683</span>  f-&gt;dump_string(<span class="stringliteral">&quot;status&quot;</span>, status);</div>
<div class="line"><span class="lineno"> 1684</span> </div>
<div class="line"><span class="lineno"> 1685</span>  f-&gt;close_section();</div>
<div class="line"><span class="lineno"> 1686</span> </div>
<div class="line"><span class="lineno"> 1687</span>  <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno"> 1688</span>}</div>
<div class="ttc" id="astructrgw__obj__key_html_a009cbe657bf6a001d40af0a80e533186"><div class="ttname"><a href="structrgw__obj__key.html#a009cbe657bf6a001d40af0a80e533186">rgw_obj_key::name</a></div><div class="ttdeci">std::string name</div><div class="ttdef"><b>Definition</b> <a href="rgw__common_8h_source.html#l01249">rgw_common.h:1249</a></div></div>
<div class="ttc" id="astructrgw__obj__key_html_aa73e7ab93fad1f34c58dc9e87917213c"><div class="ttname"><a href="structrgw__obj__key.html#aa73e7ab93fad1f34c58dc9e87917213c">rgw_obj_key::instance</a></div><div class="ttdeci">std::string instance</div><div class="ttdef"><b>Definition</b> <a href="rgw__common_8h_source.html#l01250">rgw_common.h:1250</a></div></div>
</div><!-- fragment --><div class="dynheader">
이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="rgw__admin_8cc_af25b7e0e8221907dbae24af72269d8c7_cgraph.png" border="0" usemap="#argw__admin_8cc_af25b7e0e8221907dbae24af72269d8c7_cgraph" alt=""/></div>
<map name="argw__admin_8cc_af25b7e0e8221907dbae24af72269d8c7_cgraph" id="argw__admin_8cc_af25b7e0e8221907dbae24af72269d8c7_cgraph">
<area shape="rect" title=" " alt="" coords="5,5,156,48"/>
<area shape="rect" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5" title=" " alt="" coords="204,13,246,40"/>
<area shape="poly" title=" " alt="" coords="156,24,188,24,188,29,156,29"/>
</map>
</div>
<div class="dynheader">
이 함수를 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="rgw__admin_8cc_af25b7e0e8221907dbae24af72269d8c7_icgraph.png" border="0" usemap="#argw__admin_8cc_af25b7e0e8221907dbae24af72269d8c7_icgraph" alt=""/></div>
<map name="argw__admin_8cc_af25b7e0e8221907dbae24af72269d8c7_icgraph" id="argw__admin_8cc_af25b7e0e8221907dbae24af72269d8c7_icgraph">
<area shape="rect" title=" " alt="" coords="316,5,466,48"/>
<area shape="rect" href="rgw__admin_8cc.html#a7987767bde42cfaa2fbc443042879153" title=" " alt="" coords="103,13,268,40"/>
<area shape="poly" title=" " alt="" coords="300,29,268,29,268,24,300,24"/>
<area shape="rect" href="rgw__admin_8cc.html#a217dbf8b442f20279ea00b898af96f52" title=" " alt="" coords="5,13,55,40"/>
<area shape="poly" title=" " alt="" coords="87,29,55,29,55,24,87,24"/>
</map>
</div>

</div>
</div>
<a id="a07d3841128712f85bb571720d6b18321" name="a07d3841128712f85bb571720d6b18321"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a07d3841128712f85bb571720d6b18321">&#9670;&#160;</a></span>check_pool_support_omap()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int check_pool_support_omap </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structrgw__pool.html">rgw_pool</a> &amp;&#160;</td>
          <td class="paramname"><em>pool</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition"><a class="el" href="rgw__admin_8cc_source.html">rgw_admin.cc</a> 파일의 <a class="el" href="rgw__admin_8cc_source.html#l02884">2884</a> 번째 라인에서 정의되었습니다.</p>
<div class="fragment"><div class="line"><span class="lineno"> 2885</span>{</div>
<div class="line"><span class="lineno"> 2886</span>  librados::IoCtx io_ctx;</div>
<div class="line"><span class="lineno"> 2887</span>  <span class="keywordtype">int</span> ret = <span class="keyword">static_cast&lt;</span><a class="code hl_class" href="classrgw_1_1sal_1_1_rados_store.html">rgw::sal::RadosStore</a>*<span class="keyword">&gt;</span>(<a class="code hl_variable" href="rgw__admin_8cc.html#a6fdb26d64b14d837b60e83a6ca3e2863">store</a>)-&gt;getRados()-&gt;get_rados_handle()-&gt;ioctx_create(pool.<a class="code hl_function" href="structrgw__pool.html#a95ed87681e73e0ca8c9567c84f7b092d">to_str</a>().c_str(), io_ctx);</div>
<div class="line"><span class="lineno"> 2888</span>  <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno"> 2889</span>     <span class="comment">// the pool may not exist at this moment, we have no way to check if it supports omap.</span></div>
<div class="line"><span class="lineno"> 2890</span>     <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno"> 2891</span>  }</div>
<div class="line"><span class="lineno"> 2892</span> </div>
<div class="line"><span class="lineno"> 2893</span>  ret = io_ctx.omap_clear(<span class="stringliteral">&quot;__omap_test_not_exist_oid__&quot;</span>);</div>
<div class="line"><span class="lineno"> 2894</span>  <span class="keywordflow">if</span> (ret == -EOPNOTSUPP) {</div>
<div class="line"><span class="lineno"> 2895</span>    io_ctx.close();</div>
<div class="line"><span class="lineno"> 2896</span>    <span class="keywordflow">return</span> ret;</div>
<div class="line"><span class="lineno"> 2897</span>  }</div>
<div class="line"><span class="lineno"> 2898</span>  io_ctx.close();</div>
<div class="line"><span class="lineno"> 2899</span>  <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno"> 2900</span>}</div>
<div class="ttc" id="astructrgw__pool_html_a95ed87681e73e0ca8c9567c84f7b092d"><div class="ttname"><a href="structrgw__pool.html#a95ed87681e73e0ca8c9567c84f7b092d">rgw_pool::to_str</a></div><div class="ttdeci">std::string to_str() const</div><div class="ttdef"><b>Definition</b> <a href="rgw__common_8cc_source.html#l02097">rgw_common.cc:2097</a></div></div>
</div><!-- fragment --><div class="dynheader">
이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="rgw__admin_8cc_a07d3841128712f85bb571720d6b18321_cgraph.png" border="0" usemap="#argw__admin_8cc_a07d3841128712f85bb571720d6b18321_cgraph" alt=""/></div>
<map name="argw__admin_8cc_a07d3841128712f85bb571720d6b18321_cgraph" id="argw__admin_8cc_a07d3841128712f85bb571720d6b18321_cgraph">
<area shape="rect" title=" " alt="" coords="5,5,182,32"/>
<area shape="rect" href="structrgw__pool.html#a95ed87681e73e0ca8c9567c84f7b092d" title=" " alt="" coords="230,5,343,32"/>
<area shape="poly" title=" " alt="" coords="182,16,214,16,214,21,182,21"/>
<area shape="rect" href="rgw__common_8h.html#a7b22034ec8503826998876f56b5b221e" title=" " alt="" coords="391,5,503,32"/>
<area shape="poly" title=" " alt="" coords="343,16,376,16,376,21,343,21"/>
</map>
</div>
<div class="dynheader">
이 함수를 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="rgw__admin_8cc_a07d3841128712f85bb571720d6b18321_icgraph.png" border="0" usemap="#argw__admin_8cc_a07d3841128712f85bb571720d6b18321_icgraph" alt=""/></div>
<map name="argw__admin_8cc_a07d3841128712f85bb571720d6b18321_icgraph" id="argw__admin_8cc_a07d3841128712f85bb571720d6b18321_icgraph">
<area shape="rect" title=" " alt="" coords="103,5,279,32"/>
<area shape="rect" href="rgw__admin_8cc.html#a217dbf8b442f20279ea00b898af96f52" title=" " alt="" coords="5,5,55,32"/>
<area shape="poly" title=" " alt="" coords="87,21,55,21,55,16,87,16"/>
</map>
</div>

</div>
</div>
<a id="abce7136ad4dc905a78f722a66b7b6b4c" name="abce7136ad4dc905a78f722a66b7b6b4c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abce7136ad4dc905a78f722a66b7b6b4c">&#9670;&#160;</a></span>check_reshard_bucket_params()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int check_reshard_bucket_params </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classrgw_1_1sal_1_1_rados_store.html">rgw::sal::RadosStore</a> *&#160;</td>
          <td class="paramname"><em>store</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const string &amp;&#160;</td>
          <td class="paramname"><em>bucket_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const string &amp;&#160;</td>
          <td class="paramname"><em>tenant</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const string &amp;&#160;</td>
          <td class="paramname"><em>bucket_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>num_shards_specified</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>num_shards</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>yes_i_really_mean_it</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::unique_ptr&lt; <a class="el" href="classrgw_1_1sal_1_1_bucket.html">rgw::sal::Bucket</a> &gt; *&#160;</td>
          <td class="paramname"><em>bucket</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition"><a class="el" href="rgw__admin_8cc_source.html">rgw_admin.cc</a> 파일의 <a class="el" href="rgw__admin_8cc_source.html#l02902">2902</a> 번째 라인에서 정의되었습니다.</p>
<div class="fragment"><div class="line"><span class="lineno"> 2910</span>{</div>
<div class="line"><span class="lineno"> 2911</span>  <span class="keywordflow">if</span> (bucket_name.empty()) {</div>
<div class="line"><span class="lineno"> 2912</span>    cerr &lt;&lt; <span class="stringliteral">&quot;ERROR: bucket not specified&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 2913</span>    <span class="keywordflow">return</span> -EINVAL;</div>
<div class="line"><span class="lineno"> 2914</span>  }</div>
<div class="line"><span class="lineno"> 2915</span> </div>
<div class="line"><span class="lineno"> 2916</span>  <span class="keywordflow">if</span> (!num_shards_specified) {</div>
<div class="line"><span class="lineno"> 2917</span>    cerr &lt;&lt; <span class="stringliteral">&quot;ERROR: --num-shards not specified&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 2918</span>    <span class="keywordflow">return</span> -EINVAL;</div>
<div class="line"><span class="lineno"> 2919</span>  }</div>
<div class="line"><span class="lineno"> 2920</span> </div>
<div class="line"><span class="lineno"> 2921</span>  <span class="keywordflow">if</span> (num_shards &gt; (<span class="keywordtype">int</span>)<span class="keyword">static_cast&lt;</span><a class="code hl_class" href="classrgw_1_1sal_1_1_rados_store.html">rgw::sal::RadosStore</a>*<span class="keyword">&gt;</span>(<a class="code hl_variable" href="rgw__admin_8cc.html#a6fdb26d64b14d837b60e83a6ca3e2863">store</a>)-&gt;getRados()-&gt;get_max_bucket_shards()) {</div>
<div class="line"><span class="lineno"> 2922</span>    cerr &lt;&lt; <span class="stringliteral">&quot;ERROR: num_shards too high, max value: &quot;</span> &lt;&lt; <span class="keyword">static_cast&lt;</span><a class="code hl_class" href="classrgw_1_1sal_1_1_rados_store.html">rgw::sal::RadosStore</a>*<span class="keyword">&gt;</span>(<a class="code hl_variable" href="rgw__admin_8cc.html#a6fdb26d64b14d837b60e83a6ca3e2863">store</a>)-&gt;getRados()-&gt;get_max_bucket_shards() &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 2923</span>    <span class="keywordflow">return</span> -EINVAL;</div>
<div class="line"><span class="lineno"> 2924</span>  }</div>
<div class="line"><span class="lineno"> 2925</span> </div>
<div class="line"><span class="lineno"> 2926</span>  <span class="keywordflow">if</span> (num_shards &lt; 0) {</div>
<div class="line"><span class="lineno"> 2927</span>    cerr &lt;&lt; <span class="stringliteral">&quot;ERROR: num_shards must be non-negative integer&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 2928</span>    <span class="keywordflow">return</span> -EINVAL;</div>
<div class="line"><span class="lineno"> 2929</span>  }</div>
<div class="line"><span class="lineno"> 2930</span> </div>
<div class="line"><span class="lineno"> 2931</span>  <span class="keywordtype">int</span> ret = <a class="code hl_function" href="rgw__admin_8cc.html#a0023a8779e3ab0d965d9acfb3eb72cac">init_bucket</a>(<span class="keyword">nullptr</span>, tenant, bucket_name, bucket_id, bucket);</div>
<div class="line"><span class="lineno"> 2932</span>  <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno"> 2933</span>    cerr &lt;&lt; <span class="stringliteral">&quot;ERROR: could not init bucket: &quot;</span> &lt;&lt; cpp_strerror(-ret) &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 2934</span>    <span class="keywordflow">return</span> ret;</div>
<div class="line"><span class="lineno"> 2935</span>  }</div>
<div class="line"><span class="lineno"> 2936</span> </div>
<div class="line"><span class="lineno"> 2937</span>  <span class="keywordflow">if</span> ((*bucket)-&gt;get_info().reshard_status != cls_rgw_reshard_status::NOT_RESHARDING) {</div>
<div class="line"><span class="lineno"> 2938</span>    <span class="comment">// if in_progress or done then we have an old BucketInfo</span></div>
<div class="line"><span class="lineno"> 2939</span>    cerr &lt;&lt; <span class="stringliteral">&quot;ERROR: the bucket is currently undergoing resharding and &quot;</span></div>
<div class="line"><span class="lineno"> 2940</span>      <span class="stringliteral">&quot;cannot be added to the reshard list at this time&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 2941</span>    <span class="keywordflow">return</span> -EBUSY;</div>
<div class="line"><span class="lineno"> 2942</span>  }</div>
<div class="line"><span class="lineno"> 2943</span> </div>
<div class="line"><span class="lineno"> 2944</span>  <span class="keywordtype">int</span> num_source_shards = ((*bucket)-&gt;get_info().layout.current_index.layout.normal.num_shards &gt; 0 ? (*bucket)-&gt;get_info().layout.current_index.layout.normal.num_shards : 1);</div>
<div class="line"><span class="lineno"> 2945</span> </div>
<div class="line"><span class="lineno"> 2946</span>  <span class="keywordflow">if</span> (num_shards &lt;= num_source_shards &amp;&amp; !yes_i_really_mean_it) {</div>
<div class="line"><span class="lineno"> 2947</span>    cerr &lt;&lt; <span class="stringliteral">&quot;num shards is less or equal to current shards count&quot;</span> &lt;&lt; std::endl</div>
<div class="line"><span class="lineno"> 2948</span>     &lt;&lt; <span class="stringliteral">&quot;do you really mean it? (requires --yes-i-really-mean-it)&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 2949</span>    <span class="keywordflow">return</span> -EINVAL;</div>
<div class="line"><span class="lineno"> 2950</span>  }</div>
<div class="line"><span class="lineno"> 2951</span>  <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno"> 2952</span>}</div>
</div><!-- fragment --><div class="dynheader">
이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="rgw__admin_8cc_abce7136ad4dc905a78f722a66b7b6b4c_cgraph.png" border="0" usemap="#argw__admin_8cc_abce7136ad4dc905a78f722a66b7b6b4c_cgraph" alt=""/></div>
<map name="argw__admin_8cc_abce7136ad4dc905a78f722a66b7b6b4c_cgraph" id="argw__admin_8cc_abce7136ad4dc905a78f722a66b7b6b4c_cgraph">
<area shape="rect" title=" " alt="" coords="5,27,158,69"/>
<area shape="rect" href="rgw__admin_8cc.html#a0023a8779e3ab0d965d9acfb3eb72cac" title=" " alt="" coords="206,35,290,61"/>
<area shape="poly" title=" " alt="" coords="158,45,190,45,190,51,158,51"/>
<area shape="rect" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5" title=" " alt="" coords="383,5,425,32"/>
<area shape="poly" title=" " alt="" coords="290,37,367,23,368,28,291,43"/>
<area shape="rect" href="classrgw_1_1sal_1_1_store.html#a3308ce50125b19ccdf5ce7f69958bd67" title=" " alt="" coords="338,56,469,99"/>
<area shape="poly" title=" " alt="" coords="291,53,324,60,323,65,290,59"/>
</map>
</div>
<div class="dynheader">
이 함수를 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="rgw__admin_8cc_abce7136ad4dc905a78f722a66b7b6b4c_icgraph.png" border="0" usemap="#argw__admin_8cc_abce7136ad4dc905a78f722a66b7b6b4c_icgraph" alt=""/></div>
<map name="argw__admin_8cc_abce7136ad4dc905a78f722a66b7b6b4c_icgraph" id="argw__admin_8cc_abce7136ad4dc905a78f722a66b7b6b4c_icgraph">
<area shape="rect" title=" " alt="" coords="103,5,255,48"/>
<area shape="rect" href="rgw__admin_8cc.html#a217dbf8b442f20279ea00b898af96f52" title=" " alt="" coords="5,13,55,40"/>
<area shape="poly" title=" " alt="" coords="87,29,55,29,55,24,87,24"/>
</map>
</div>

</div>
</div>
<a id="a8152a0df0f659eada315ad2bd06088eb" name="a8152a0df0f659eada315ad2bd06088eb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8152a0df0f659eada315ad2bd06088eb">&#9670;&#160;</a></span>check_set_consistent()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void check_set_consistent </td>
          <td>(</td>
          <td class="paramtype">const string &amp;&#160;</td>
          <td class="paramname"><em>resolved_param</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string &amp;&#160;</td>
          <td class="paramname"><em>param</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const string &amp;&#160;</td>
          <td class="paramname"><em>param_name</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition"><a class="el" href="rgw__admin_8cc_source.html">rgw_admin.cc</a> 파일의 <a class="el" href="rgw__admin_8cc_source.html#l03286">3286</a> 번째 라인에서 정의되었습니다.</p>
<div class="fragment"><div class="line"><span class="lineno"> 3289</span>{</div>
<div class="line"><span class="lineno"> 3290</span>  <span class="keywordflow">if</span> (!param.empty() &amp;&amp; param != resolved_param) {</div>
<div class="line"><span class="lineno"> 3291</span>    ldpp_dout(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>(), 5) &lt;&lt; <span class="stringliteral">&quot;WARNING: &quot;</span> &lt;&lt; param_name &lt;&lt; <span class="stringliteral">&quot; resolve mismatch. (param=&quot;</span> &lt;&lt; param &lt;&lt; <span class="stringliteral">&quot;, resolved=&quot;</span> &lt;&lt; resolved_param &lt;&lt; <span class="stringliteral">&quot;)&quot;</span> &lt;&lt; dendl;</div>
<div class="line"><span class="lineno"> 3292</span>    <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 3293</span>  }</div>
<div class="line"><span class="lineno"> 3294</span> </div>
<div class="line"><span class="lineno"> 3295</span>  param = resolved_param;</div>
<div class="line"><span class="lineno"> 3296</span>  ldpp_dout(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>(), 20) &lt;&lt; __func__ &lt;&lt; <span class="stringliteral">&quot;(): resolved param: &quot;</span> &lt;&lt; param_name &lt;&lt; <span class="stringliteral">&quot;: &quot;</span> &lt;&lt; param &lt;&lt; dendl;</div>
<div class="line"><span class="lineno"> 3297</span>}</div>
</div><!-- fragment --><div class="dynheader">
이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="rgw__admin_8cc_a8152a0df0f659eada315ad2bd06088eb_cgraph.png" border="0" usemap="#argw__admin_8cc_a8152a0df0f659eada315ad2bd06088eb_cgraph" alt=""/></div>
<map name="argw__admin_8cc_a8152a0df0f659eada315ad2bd06088eb_cgraph" id="argw__admin_8cc_a8152a0df0f659eada315ad2bd06088eb_cgraph">
<area shape="rect" title=" " alt="" coords="5,5,154,32"/>
<area shape="rect" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5" title=" " alt="" coords="202,5,244,32"/>
<area shape="poly" title=" " alt="" coords="154,16,186,16,186,21,154,21"/>
</map>
</div>
<div class="dynheader">
이 함수를 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="rgw__admin_8cc_a8152a0df0f659eada315ad2bd06088eb_icgraph.png" border="0" usemap="#argw__admin_8cc_a8152a0df0f659eada315ad2bd06088eb_icgraph" alt=""/></div>
<map name="argw__admin_8cc_a8152a0df0f659eada315ad2bd06088eb_icgraph" id="argw__admin_8cc_a8152a0df0f659eada315ad2bd06088eb_icgraph">
<area shape="rect" title=" " alt="" coords="286,13,434,40"/>
<area shape="rect" href="rgw__admin_8cc.html#a33812c768aaef292f4ee9a7dbfb1e6dd" title=" " alt="" coords="103,5,238,48"/>
<area shape="poly" title=" " alt="" coords="270,29,238,29,238,24,270,24"/>
<area shape="rect" href="rgw__admin_8cc.html#a217dbf8b442f20279ea00b898af96f52" title=" " alt="" coords="5,13,55,40"/>
<area shape="poly" title=" " alt="" coords="87,29,55,29,55,24,87,24"/>
</map>
</div>

</div>
</div>
<a id="aa84c5ba46881dc6ab82e752f5864a5d6" name="aa84c5ba46881dc6ab82e752f5864a5d6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa84c5ba46881dc6ab82e752f5864a5d6">&#9670;&#160;</a></span>commit_period()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int commit_period </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_r_g_w_realm.html">RGWRealm</a> &amp;&#160;</td>
          <td class="paramname"><em>realm</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_r_g_w_period.html">RGWPeriod</a> &amp;&#160;</td>
          <td class="paramname"><em>period</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>remote</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const string &amp;&#160;</td>
          <td class="paramname"><em>url</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::optional&lt; string &gt;&#160;</td>
          <td class="paramname"><em>opt_region</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const string &amp;&#160;</td>
          <td class="paramname"><em>access</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const string &amp;&#160;</td>
          <td class="paramname"><em>secret</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>force</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition"><a class="el" href="rgw__admin_8cc_source.html">rgw_admin.cc</a> 파일의 <a class="el" href="rgw__admin_8cc_source.html#l01860">1860</a> 번째 라인에서 정의되었습니다.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1865</span>{</div>
<div class="line"><span class="lineno"> 1866</span>  <span class="keyword">auto</span>&amp; master_zone = period.<a class="code hl_function" href="class_r_g_w_period.html#a00ac7a4f54b74dd12fc9f8c055d5783b">get_master_zone</a>();</div>
<div class="line"><span class="lineno"> 1867</span>  <span class="keywordflow">if</span> (master_zone.empty()) {</div>
<div class="line"><span class="lineno"> 1868</span>    cerr &lt;&lt; <span class="stringliteral">&quot;cannot commit period: period does not have a master zone of a master zonegroup&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 1869</span>    <span class="keywordflow">return</span> -EINVAL;</div>
<div class="line"><span class="lineno"> 1870</span>  }</div>
<div class="line"><span class="lineno"> 1871</span>  <span class="comment">// are we the period&#39;s master zone?</span></div>
<div class="line"><span class="lineno"> 1872</span>  <span class="keywordflow">if</span> (<a class="code hl_variable" href="rgw__admin_8cc.html#a6fdb26d64b14d837b60e83a6ca3e2863">store</a>-&gt;<a class="code hl_function" href="classrgw_1_1sal_1_1_store.html#a7905b89b9f5def056e6b3379637037cc">get_zone</a>()-&gt;<a class="code hl_function" href="classrgw_1_1sal_1_1_zone.html#a7c10e9e3affc168c3782e0bb80f2b4d5">get_id</a>() == master_zone) {</div>
<div class="line"><span class="lineno"> 1873</span>    <span class="comment">// read the current period</span></div>
<div class="line"><span class="lineno"> 1874</span>    <a class="code hl_class" href="class_r_g_w_period.html">RGWPeriod</a> current_period;</div>
<div class="line"><span class="lineno"> 1875</span>    <span class="keywordtype">int</span> ret = current_period.<a class="code hl_function" href="class_r_g_w_period.html#aa5e1b5147ab3f01311c33cc73927d1c2">init</a>(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>(), g_ceph_context,</div>
<div class="line"><span class="lineno"> 1876</span>                  <span class="keyword">static_cast&lt;</span><a class="code hl_class" href="classrgw_1_1sal_1_1_rados_store.html">rgw::sal::RadosStore</a>*<span class="keyword">&gt;</span>(<a class="code hl_variable" href="rgw__admin_8cc.html#a6fdb26d64b14d837b60e83a6ca3e2863">store</a>)-&gt;svc()-&gt;sysobj, realm.<a class="code hl_function" href="class_r_g_w_system_meta_obj.html#ab885e5d275a5396cc473703ab55f50b1">get_id</a>(),</div>
<div class="line"><span class="lineno"> 1877</span>                  null_yield);</div>
<div class="line"><span class="lineno"> 1878</span>    <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno"> 1879</span>      cerr &lt;&lt; <span class="stringliteral">&quot;Error initializing current period: &quot;</span></div>
<div class="line"><span class="lineno"> 1880</span>          &lt;&lt; cpp_strerror(-ret) &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 1881</span>      <span class="keywordflow">return</span> ret;</div>
<div class="line"><span class="lineno"> 1882</span>    }</div>
<div class="line"><span class="lineno"> 1883</span>    <span class="comment">// the master zone can commit locally</span></div>
<div class="line"><span class="lineno"> 1884</span>    ret = period.<a class="code hl_function" href="class_r_g_w_period.html#ac2ee7a44ae93d4f27a9cb89fff99337c">commit</a>(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>(), <a class="code hl_variable" href="rgw__admin_8cc.html#a6fdb26d64b14d837b60e83a6ca3e2863">store</a>, realm, current_period, cerr, null_yield, force);</div>
<div class="line"><span class="lineno"> 1885</span>    <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno"> 1886</span>      cerr &lt;&lt; <span class="stringliteral">&quot;failed to commit period: &quot;</span> &lt;&lt; cpp_strerror(-ret) &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 1887</span>    }</div>
<div class="line"><span class="lineno"> 1888</span>    <span class="keywordflow">return</span> ret;</div>
<div class="line"><span class="lineno"> 1889</span>  }</div>
<div class="line"><span class="lineno"> 1890</span> </div>
<div class="line"><span class="lineno"> 1891</span>  <span class="keywordflow">if</span> (remote.empty() &amp;&amp; url.empty()) {</div>
<div class="line"><span class="lineno"> 1892</span>    <span class="comment">// use the new master zone&#39;s connection</span></div>
<div class="line"><span class="lineno"> 1893</span>    remote = master_zone.id;</div>
<div class="line"><span class="lineno"> 1894</span>    cerr &lt;&lt; <span class="stringliteral">&quot;Sending period to new master zone &quot;</span> &lt;&lt; remote &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 1895</span>  }</div>
<div class="line"><span class="lineno"> 1896</span>  boost::optional&lt;RGWRESTConn&gt; conn;</div>
<div class="line"><span class="lineno"> 1897</span>  <a class="code hl_class" href="class_r_g_w_r_e_s_t_conn.html">RGWRESTConn</a> *remote_conn = <span class="keyword">nullptr</span>;</div>
<div class="line"><span class="lineno"> 1898</span>  <span class="keywordflow">if</span> (!remote.empty()) {</div>
<div class="line"><span class="lineno"> 1899</span>    conn = <a class="code hl_function" href="rgw__admin_8cc.html#a30b65084fc8065e4fcfc47abe3775e67">get_remote_conn</a>(<span class="keyword">static_cast&lt;</span><a class="code hl_class" href="classrgw_1_1sal_1_1_rados_store.html">rgw::sal::RadosStore</a>*<span class="keyword">&gt;</span>(<a class="code hl_variable" href="rgw__admin_8cc.html#a6fdb26d64b14d837b60e83a6ca3e2863">store</a>), period.<a class="code hl_function" href="class_r_g_w_period.html#ae71b43676ee8fe59fbb914422c17e711">get_map</a>(), remote);</div>
<div class="line"><span class="lineno"> 1900</span>    <span class="keywordflow">if</span> (!conn) {</div>
<div class="line"><span class="lineno"> 1901</span>      cerr &lt;&lt; <span class="stringliteral">&quot;failed to find a zone or zonegroup for remote &quot;</span></div>
<div class="line"><span class="lineno"> 1902</span>          &lt;&lt; remote &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 1903</span>      <span class="keywordflow">return</span> -ENOENT;</div>
<div class="line"><span class="lineno"> 1904</span>    }</div>
<div class="line"><span class="lineno"> 1905</span>    remote_conn = &amp;*conn;</div>
<div class="line"><span class="lineno"> 1906</span>  }</div>
<div class="line"><span class="lineno"> 1907</span> </div>
<div class="line"><span class="lineno"> 1908</span>  <span class="comment">// push period to the master with an empty period id</span></div>
<div class="line"><span class="lineno"> 1909</span>  period.<a class="code hl_function" href="class_r_g_w_period.html#afd41507a4587ed631e889ba472cad5f2">set_id</a>(<span class="keywordtype">string</span>());</div>
<div class="line"><span class="lineno"> 1910</span> </div>
<div class="line"><span class="lineno"> 1911</span>  <a class="code hl_class" href="class_r_g_w_env.html">RGWEnv</a> <a class="code hl_variable" href="namespacegtest.html#aa341a0cb52b74c0879a269b35e8f323c">env</a>;</div>
<div class="line"><span class="lineno"> 1912</span>  <a class="code hl_struct" href="structreq__info.html">req_info</a> info(g_ceph_context, &amp;env);</div>
<div class="line"><span class="lineno"> 1913</span>  info.method = <span class="stringliteral">&quot;POST&quot;</span>;</div>
<div class="line"><span class="lineno"> 1914</span>  info.request_uri = <span class="stringliteral">&quot;/admin/realm/period&quot;</span>;</div>
<div class="line"><span class="lineno"> 1915</span> </div>
<div class="line"><span class="lineno"> 1916</span>  <span class="comment">// json format into a bufferlist</span></div>
<div class="line"><span class="lineno"> 1917</span>  JSONFormatter jf(<span class="keyword">false</span>);</div>
<div class="line"><span class="lineno"> 1918</span>  <a class="code hl_function" href="rgw__admin_8cc.html#ab596b9e1a1fc78e98a4d13a66578b658">encode_json</a>(<span class="stringliteral">&quot;period&quot;</span>, period, &amp;jf);</div>
<div class="line"><span class="lineno"> 1919</span>  bufferlist bl;</div>
<div class="line"><span class="lineno"> 1920</span>  jf.flush(bl);</div>
<div class="line"><span class="lineno"> 1921</span> </div>
<div class="line"><span class="lineno"> 1922</span>  JSONParser p;</div>
<div class="line"><span class="lineno"> 1923</span>  <span class="keywordtype">int</span> ret = <a class="code hl_function" href="rgw__admin_8cc.html#aff0d5161d67f7441b3696da1f415130d">send_to_remote_or_url</a>(remote_conn, url, opt_region, access, secret, info, bl, p);</div>
<div class="line"><span class="lineno"> 1924</span>  <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno"> 1925</span>    cerr &lt;&lt; <span class="stringliteral">&quot;request failed: &quot;</span> &lt;&lt; cpp_strerror(-ret) &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 1926</span> </div>
<div class="line"><span class="lineno"> 1927</span>    <span class="comment">// did we parse an error message?</span></div>
<div class="line"><span class="lineno"> 1928</span>    <span class="keyword">auto</span> message = p.find_obj(<span class="stringliteral">&quot;Message&quot;</span>);</div>
<div class="line"><span class="lineno"> 1929</span>    <span class="keywordflow">if</span> (message) {</div>
<div class="line"><span class="lineno"> 1930</span>      cerr &lt;&lt; <span class="stringliteral">&quot;Reason: &quot;</span> &lt;&lt; message-&gt;get_data() &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 1931</span>    }</div>
<div class="line"><span class="lineno"> 1932</span>    <span class="keywordflow">return</span> ret;</div>
<div class="line"><span class="lineno"> 1933</span>  }</div>
<div class="line"><span class="lineno"> 1934</span> </div>
<div class="line"><span class="lineno"> 1935</span>  <span class="comment">// decode the response and store it back</span></div>
<div class="line"><span class="lineno"> 1936</span>  <span class="keywordflow">try</span> {</div>
<div class="line"><span class="lineno"> 1937</span>    <a class="code hl_function" href="rgw__basic__types_8cc.html#a83dfe8268c0c76ff6ceaf083ad129d5c">decode_json_obj</a>(period, &amp;p);</div>
<div class="line"><span class="lineno"> 1938</span>  } <span class="keywordflow">catch</span> (<span class="keyword">const</span> JSONDecoder::err&amp; e) {</div>
<div class="line"><span class="lineno"> 1939</span>    cout &lt;&lt; <span class="stringliteral">&quot;failed to decode JSON input: &quot;</span> &lt;&lt; e.what() &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 1940</span>    <span class="keywordflow">return</span> -EINVAL;</div>
<div class="line"><span class="lineno"> 1941</span>  }</div>
<div class="line"><span class="lineno"> 1942</span>  <span class="keywordflow">if</span> (period.<a class="code hl_function" href="class_r_g_w_period.html#a2d8588f2db7c5bcf8d79bde99ac341c0">get_id</a>().empty()) {</div>
<div class="line"><span class="lineno"> 1943</span>    cerr &lt;&lt; <span class="stringliteral">&quot;Period commit got back an empty period id&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 1944</span>    <span class="keywordflow">return</span> -EINVAL;</div>
<div class="line"><span class="lineno"> 1945</span>  }</div>
<div class="line"><span class="lineno"> 1946</span>  <span class="comment">// the master zone gave us back the period that it committed, so it&#39;s</span></div>
<div class="line"><span class="lineno"> 1947</span>  <span class="comment">// safe to save it as our latest epoch</span></div>
<div class="line"><span class="lineno"> 1948</span>  ret = period.<a class="code hl_function" href="class_r_g_w_period.html#a9f31f8de41684b5f70a40eedf88385ac">store_info</a>(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>(), <span class="keyword">false</span>, null_yield);</div>
<div class="line"><span class="lineno"> 1949</span>  <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno"> 1950</span>    cerr &lt;&lt; <span class="stringliteral">&quot;Error storing committed period &quot;</span> &lt;&lt; period.<a class="code hl_function" href="class_r_g_w_period.html#a2d8588f2db7c5bcf8d79bde99ac341c0">get_id</a>() &lt;&lt; <span class="stringliteral">&quot;: &quot;</span></div>
<div class="line"><span class="lineno"> 1951</span>        &lt;&lt; cpp_strerror(ret) &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 1952</span>    <span class="keywordflow">return</span> ret;</div>
<div class="line"><span class="lineno"> 1953</span>  }</div>
<div class="line"><span class="lineno"> 1954</span>  ret = period.<a class="code hl_function" href="class_r_g_w_period.html#aad876e2bf1fe7bd5c326dca3e5d06167">set_latest_epoch</a>(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>(), null_yield, period.<a class="code hl_function" href="class_r_g_w_period.html#ac82a2f1f3a82dfa1a5023204a28fc4a8">get_epoch</a>());</div>
<div class="line"><span class="lineno"> 1955</span>  <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno"> 1956</span>    cerr &lt;&lt; <span class="stringliteral">&quot;Error updating period epoch: &quot;</span> &lt;&lt; cpp_strerror(ret) &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 1957</span>    <span class="keywordflow">return</span> ret;</div>
<div class="line"><span class="lineno"> 1958</span>  }</div>
<div class="line"><span class="lineno"> 1959</span>  ret = period.<a class="code hl_function" href="class_r_g_w_period.html#a39130b4428595731c29a05940d438e85">reflect</a>(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>(), null_yield);</div>
<div class="line"><span class="lineno"> 1960</span>  <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno"> 1961</span>    cerr &lt;&lt; <span class="stringliteral">&quot;Error updating local objects: &quot;</span> &lt;&lt; cpp_strerror(ret) &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 1962</span>    <span class="keywordflow">return</span> ret;</div>
<div class="line"><span class="lineno"> 1963</span>  }</div>
<div class="line"><span class="lineno"> 1964</span>  realm.<a class="code hl_function" href="class_r_g_w_realm.html#a65354a9b77a58471234e615d8df02968">notify_new_period</a>(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>(), period, null_yield);</div>
<div class="line"><span class="lineno"> 1965</span>  <span class="keywordflow">return</span> ret;</div>
<div class="line"><span class="lineno"> 1966</span>}</div>
<div class="ttc" id="aclass_r_g_w_env_html"><div class="ttname"><a href="class_r_g_w_env.html">RGWEnv</a></div><div class="ttdef"><b>Definition</b> <a href="rgw__common_8h_source.html#l00432">rgw_common.h:432</a></div></div>
<div class="ttc" id="aclass_r_g_w_period_html"><div class="ttname"><a href="class_r_g_w_period.html">RGWPeriod</a></div><div class="ttdef"><b>Definition</b> <a href="rgw__zone_8h_source.html#l01231">rgw_zone.h:1232</a></div></div>
<div class="ttc" id="aclass_r_g_w_period_html_a00ac7a4f54b74dd12fc9f8c055d5783b"><div class="ttname"><a href="class_r_g_w_period.html#a00ac7a4f54b74dd12fc9f8c055d5783b">RGWPeriod::get_master_zone</a></div><div class="ttdeci">const rgw_zone_id &amp; get_master_zone() const</div><div class="ttdef"><b>Definition</b> <a href="rgw__zone_8h_source.html#l01276">rgw_zone.h:1276</a></div></div>
<div class="ttc" id="aclass_r_g_w_period_html_a2d8588f2db7c5bcf8d79bde99ac341c0"><div class="ttname"><a href="class_r_g_w_period.html#a2d8588f2db7c5bcf8d79bde99ac341c0">RGWPeriod::get_id</a></div><div class="ttdeci">const std::string &amp; get_id() const</div><div class="ttdef"><b>Definition</b> <a href="rgw__zone_8h_source.html#l01272">rgw_zone.h:1272</a></div></div>
<div class="ttc" id="aclass_r_g_w_period_html_a39130b4428595731c29a05940d438e85"><div class="ttname"><a href="class_r_g_w_period.html#a39130b4428595731c29a05940d438e85">RGWPeriod::reflect</a></div><div class="ttdeci">int reflect(const DoutPrefixProvider *dpp, optional_yield y)</div><div class="ttdef"><b>Definition</b> <a href="rgw__zone_8cc_source.html#l01419">rgw_zone.cc:1419</a></div></div>
<div class="ttc" id="aclass_r_g_w_period_html_a9f31f8de41684b5f70a40eedf88385ac"><div class="ttname"><a href="class_r_g_w_period.html#a9f31f8de41684b5f70a40eedf88385ac">RGWPeriod::store_info</a></div><div class="ttdeci">int store_info(const DoutPrefixProvider *dpp, bool exclusive, optional_yield y)</div><div class="ttdef"><b>Definition</b> <a href="rgw__zone_8cc_source.html#l01322">rgw_zone.cc:1322</a></div></div>
<div class="ttc" id="aclass_r_g_w_period_html_aa5e1b5147ab3f01311c33cc73927d1c2"><div class="ttname"><a href="class_r_g_w_period.html#aa5e1b5147ab3f01311c33cc73927d1c2">RGWPeriod::init</a></div><div class="ttdeci">int init(const DoutPrefixProvider *dpp, CephContext *_cct, RGWSI_SysObj *_sysobj_svc, const std::string &amp;period_realm_id, optional_yield y, const std::string &amp;period_realm_name=&quot;&quot;, bool setup_obj=true)</div></div>
<div class="ttc" id="aclass_r_g_w_period_html_aad876e2bf1fe7bd5c326dca3e5d06167"><div class="ttname"><a href="class_r_g_w_period.html#aad876e2bf1fe7bd5c326dca3e5d06167">RGWPeriod::set_latest_epoch</a></div><div class="ttdeci">int set_latest_epoch(const DoutPrefixProvider *dpp, optional_yield y, epoch_t epoch, bool exclusive=false, RGWObjVersionTracker *objv=nullptr)</div><div class="ttdef"><b>Definition</b> <a href="rgw__zone_8cc_source.html#l01170">rgw_zone.cc:1170</a></div></div>
<div class="ttc" id="aclass_r_g_w_period_html_ac2ee7a44ae93d4f27a9cb89fff99337c"><div class="ttname"><a href="class_r_g_w_period.html#ac2ee7a44ae93d4f27a9cb89fff99337c">RGWPeriod::commit</a></div><div class="ttdeci">int commit(const DoutPrefixProvider *dpp, rgw::sal::Store *store, RGWRealm &amp;realm, const RGWPeriod &amp;current_period, std::ostream &amp;error_stream, optional_yield y, bool force_if_stale=false)</div><div class="ttdef"><b>Definition</b> <a href="rgw__zone_8cc_source.html#l01521">rgw_zone.cc:1521</a></div></div>
<div class="ttc" id="aclass_r_g_w_period_html_ac82a2f1f3a82dfa1a5023204a28fc4a8"><div class="ttname"><a href="class_r_g_w_period.html#ac82a2f1f3a82dfa1a5023204a28fc4a8">RGWPeriod::get_epoch</a></div><div class="ttdeci">epoch_t get_epoch() const</div><div class="ttdef"><b>Definition</b> <a href="rgw__zone_8h_source.html#l01273">rgw_zone.h:1273</a></div></div>
<div class="ttc" id="aclass_r_g_w_period_html_ae71b43676ee8fe59fbb914422c17e711"><div class="ttname"><a href="class_r_g_w_period.html#ae71b43676ee8fe59fbb914422c17e711">RGWPeriod::get_map</a></div><div class="ttdeci">const RGWPeriodMap &amp; get_map() const</div><div class="ttdef"><b>Definition</b> <a href="rgw__zone_8h_source.html#l01280">rgw_zone.h:1280</a></div></div>
<div class="ttc" id="aclass_r_g_w_period_html_afd41507a4587ed631e889ba472cad5f2"><div class="ttname"><a href="class_r_g_w_period.html#afd41507a4587ed631e889ba472cad5f2">RGWPeriod::set_id</a></div><div class="ttdeci">void set_id(const std::string &amp;_id)</div><div class="ttdef"><b>Definition</b> <a href="rgw__zone_8h_source.html#l01296">rgw_zone.h:1296</a></div></div>
<div class="ttc" id="aclass_r_g_w_r_e_s_t_conn_html"><div class="ttname"><a href="class_r_g_w_r_e_s_t_conn.html">RGWRESTConn</a></div><div class="ttdef"><b>Definition</b> <a href="rgw__rest__conn_8h_source.html#l00071">rgw_rest_conn.h:72</a></div></div>
<div class="ttc" id="aclass_r_g_w_realm_html_a65354a9b77a58471234e615d8df02968"><div class="ttname"><a href="class_r_g_w_realm.html#a65354a9b77a58471234e615d8df02968">RGWRealm::notify_new_period</a></div><div class="ttdeci">int notify_new_period(const DoutPrefixProvider *dpp, const RGWPeriod &amp;period, optional_yield y)</div><div class="ttdoc">notify the zone of a new period</div><div class="ttdef"><b>Definition</b> <a href="rgw__zone_8cc_source.html#l00904">rgw_zone.cc:904</a></div></div>
<div class="ttc" id="aclassrgw_1_1sal_1_1_zone_html_a7c10e9e3affc168c3782e0bb80f2b4d5"><div class="ttname"><a href="classrgw_1_1sal_1_1_zone.html#a7c10e9e3affc168c3782e0bb80f2b4d5">rgw::sal::Zone::get_id</a></div><div class="ttdeci">virtual const rgw_zone_id &amp; get_id()=0</div></div>
<div class="ttc" id="anamespacegtest_html_aa341a0cb52b74c0879a269b35e8f323c"><div class="ttname"><a href="namespacegtest.html#aa341a0cb52b74c0879a269b35e8f323c">gtest::env</a></div><div class="ttdeci">class Environment * env</div><div class="ttdef"><b>Definition</b> <a href="dbstore__tests_8cc_source.html#l00017">dbstore_tests.cc:17</a></div></div>
<div class="ttc" id="argw__admin_8cc_html_a30b65084fc8065e4fcfc47abe3775e67"><div class="ttname"><a href="rgw__admin_8cc.html#a30b65084fc8065e4fcfc47abe3775e67">get_remote_conn</a></div><div class="ttdeci">static boost::optional&lt; RGWRESTConn &gt; get_remote_conn(rgw::sal::RadosStore *store, const RGWZoneGroup &amp;zonegroup, const std::string &amp;remote)</div><div class="ttdoc">search for a matching zone/zonegroup id and return a connection if found</div><div class="ttdef"><b>Definition</b> <a href="rgw__admin_8cc_source.html#l01764">rgw_admin.cc:1764</a></div></div>
<div class="ttc" id="argw__admin_8cc_html_ab596b9e1a1fc78e98a4d13a66578b658"><div class="ttname"><a href="rgw__admin_8cc.html#ab596b9e1a1fc78e98a4d13a66578b658">encode_json</a></div><div class="ttdeci">void encode_json(const char *name, const RGWBucketSyncFlowManager::pipe_set &amp;pset, Formatter *f)</div><div class="ttdef"><b>Definition</b> <a href="rgw__admin_8cc_source.html#l02560">rgw_admin.cc:2560</a></div></div>
<div class="ttc" id="argw__admin_8cc_html_aff0d5161d67f7441b3696da1f415130d"><div class="ttname"><a href="rgw__admin_8cc.html#aff0d5161d67f7441b3696da1f415130d">send_to_remote_or_url</a></div><div class="ttdeci">static int send_to_remote_or_url(RGWRESTConn *conn, const string &amp;url, std::optional&lt; string &gt; opt_region, const string &amp;access, const string &amp;secret, req_info &amp;info, bufferlist &amp;in_data, JSONParser &amp;parser)</div><div class="ttdef"><b>Definition</b> <a href="rgw__admin_8cc_source.html#l01848">rgw_admin.cc:1848</a></div></div>
<div class="ttc" id="argw__basic__types_8cc_html_a83dfe8268c0c76ff6ceaf083ad129d5c"><div class="ttname"><a href="rgw__basic__types_8cc.html#a83dfe8268c0c76ff6ceaf083ad129d5c">decode_json_obj</a></div><div class="ttdeci">void decode_json_obj(rgw_user &amp;val, JSONObj *obj)</div><div class="ttdef"><b>Definition</b> <a href="rgw__basic__types_8cc_source.html#l00023">rgw_basic_types.cc:23</a></div></div>
<div class="ttc" id="astructreq__info_html"><div class="ttname"><a href="structreq__info.html">req_info</a></div><div class="ttdef"><b>Definition</b> <a href="rgw__common_8h_source.html#l01225">rgw_common.h:1225</a></div></div>
</div><!-- fragment --><div class="dynheader">
이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="rgw__admin_8cc_aa84c5ba46881dc6ab82e752f5864a5d6_cgraph.png" border="0" usemap="#argw__admin_8cc_aa84c5ba46881dc6ab82e752f5864a5d6_cgraph" alt=""/></div>
<map name="argw__admin_8cc_aa84c5ba46881dc6ab82e752f5864a5d6_cgraph" id="argw__admin_8cc_aa84c5ba46881dc6ab82e752f5864a5d6_cgraph">
<area shape="rect" title=" " alt="" coords="5,1245,112,1272"/>
<area shape="rect" href="class_r_g_w_period.html#ac2ee7a44ae93d4f27a9cb89fff99337c" title=" " alt="" coords="172,688,314,715"/>
<area shape="poly" title=" " alt="" coords="62,1244,230,729,235,731,67,1246"/>
<area shape="rect" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5" title=" " alt="" coords="1384,891,1427,917"/>
<area shape="poly" title=" " alt="" coords="113,1267,317,1317,446,1355,573,1400,689,1452,798,1515,841,1543,876,1570,933,1620,960,1643,992,1664,1029,1683,1077,1700,1135,1719,1184,1732,1207,1733,1229,1728,1252,1718,1276,1701,1289,1667,1305,1591,1342,1360,1398,932,1403,933,1347,1361,1310,1592,1294,1669,1280,1704,1255,1723,1231,1734,1207,1738,1183,1737,1134,1724,1075,1705,1027,1688,989,1668,957,1647,929,1624,873,1574,838,1547,795,1520,686,1457,571,1405,444,1360,316,1323,112,1272"/>
<area shape="rect" href="class_r_g_w_period.html#aad876e2bf1fe7bd5c326dca3e5d06167" title=" " alt="" coords="859,1211,1014,1253"/>
<area shape="poly" title=" " alt="" coords="112,1254,844,1232,844,1238,112,1260"/>
<area shape="rect" href="class_r_g_w_period.html#a9f31f8de41684b5f70a40eedf88385ac" title=" " alt="" coords="859,1291,1014,1317"/>
<area shape="poly" title=" " alt="" coords="112,1259,844,1297,844,1302,112,1264"/>
<area shape="rect" href="class_r_g_w_period.html#ac82a2f1f3a82dfa1a5023204a28fc4a8" title=" " alt="" coords="394,992,552,1019"/>
<area shape="poly" title=" " alt="" coords="60,1244,69,1206,87,1155,116,1101,135,1077,158,1057,210,1028,267,1010,324,1000,378,997,378,1003,325,1006,268,1015,212,1033,161,1061,139,1081,121,1104,92,1157,74,1208,65,1245"/>
<area shape="rect" href="class_r_g_w_system_meta_obj.html#ab885e5d275a5396cc473703ab55f50b1" title=" " alt="" coords="1082,184,1272,211"/>
<area shape="poly" title=" " alt="" coords="57,1245,63,1023,78,653,91,460,108,289,130,157,143,113,158,85,192,50,226,27,261,12,297,5,376,5,472,8,710,8,776,13,842,27,906,47,966,72,1072,126,1146,173,1143,177,1069,131,964,77,904,52,841,32,775,18,710,13,472,13,376,10,297,11,262,18,229,31,196,54,162,88,148,115,135,158,114,289,97,461,84,653,68,1024,63,1245"/>
<area shape="rect" href="class_r_g_w_period.html#a2d8588f2db7c5bcf8d79bde99ac341c0" title=" " alt="" coords="642,301,775,328"/>
<area shape="poly" title=" " alt="" coords="58,1245,64,1158,80,1017,109,847,131,760,157,675,195,553,226,455,248,411,277,371,318,333,373,296,408,280,445,271,484,267,523,267,596,278,657,294,656,299,595,283,522,273,484,272,446,276,410,285,375,301,321,337,281,375,252,414,231,457,200,555,162,677,136,761,114,848,85,1018,69,1159,63,1245"/>
<area shape="rect" href="class_r_g_w_period.html#a00ac7a4f54b74dd12fc9f8c055d5783b" title=" " alt="" coords="374,1043,572,1069"/>
<area shape="poly" title=" " alt="" coords="62,1244,73,1213,93,1173,121,1133,158,1099,205,1075,256,1060,308,1051,358,1048,358,1053,309,1056,258,1065,207,1080,161,1104,125,1136,98,1176,78,1215,67,1246"/>
<area shape="rect" href="class_r_g_w_realm.html#a65354a9b77a58471234e615d8df02968" title="notify the zone of a new period" alt="" coords="629,907,788,949"/>
<area shape="poly" title=" " alt="" coords="112,1246,159,1237,252,1229,373,1222,434,1215,490,1206,537,1193,571,1174,585,1160,593,1146,601,1117,605,1084,618,1046,647,1000,676,960,681,963,651,1003,623,1048,610,1085,606,1118,598,1148,589,1163,574,1178,539,1197,491,1211,435,1221,374,1227,253,1234,160,1243,113,1251"/>
<area shape="rect" href="class_r_g_w_period.html#a39130b4428595731c29a05940d438e85" title=" " alt="" coords="642,608,775,635"/>
<area shape="poly" title=" " alt="" coords="87,1242,159,1213,238,1199,370,1179,500,1155,546,1142,570,1130,586,1102,597,1062,602,1014,605,961,607,856,611,812,618,777,651,704,686,646,691,649,655,707,623,778,616,812,613,857,610,961,607,1014,602,1063,591,1104,574,1134,548,1147,501,1160,371,1184,239,1204,160,1219,89,1247"/>
<area shape="rect" href="class_r_g_w_period.html#afd41507a4587ed631e889ba472cad5f2" title=" " alt="" coords="407,1093,540,1120"/>
<area shape="poly" title=" " alt="" coords="64,1244,99,1190,126,1160,158,1136,216,1113,277,1101,337,1096,391,1096,391,1101,337,1101,278,1106,217,1119,161,1141,129,1164,103,1193,69,1246"/>
<area shape="rect" href="rgw__basic__types_8cc.html#a83dfe8268c0c76ff6ceaf083ad129d5c" title=" " alt="" coords="184,1448,302,1475"/>
<area shape="poly" title=" " alt="" coords="67,1271,79,1303,99,1345,126,1389,161,1427,178,1439,175,1443,158,1431,122,1392,94,1347,74,1305,62,1273"/>
<area shape="rect" href="rgw__admin_8cc.html#ab596b9e1a1fc78e98a4d13a66578b658" title=" " alt="" coords="196,1523,290,1549"/>
<area shape="poly" title=" " alt="" coords="65,1272,76,1312,95,1368,123,1429,162,1485,178,1500,197,1513,194,1517,175,1504,158,1488,118,1431,90,1370,71,1313,60,1273"/>
<area shape="rect" href="classrgw_1_1sal_1_1_zone.html#a7c10e9e3affc168c3782e0bb80f2b4d5" title=" " alt="" coords="170,1573,316,1600"/>
<area shape="poly" title=" " alt="" coords="63,1272,67,1325,81,1403,94,1445,111,1486,133,1525,162,1560,165,1563,162,1567,158,1563,129,1528,106,1489,89,1447,76,1404,62,1326,57,1273"/>
<area shape="rect" href="class_r_g_w_period.html#ae71b43676ee8fe59fbb914422c17e711" title=" " alt="" coords="169,1624,317,1651"/>
<area shape="poly" title=" " alt="" coords="62,1272,64,1333,75,1424,87,1474,105,1523,130,1569,162,1610,165,1613,161,1617,158,1614,125,1572,100,1525,82,1475,70,1425,58,1334,57,1273"/>
<area shape="rect" href="rgw__admin_8cc.html#a30b65084fc8065e4fcfc47abe3775e67" title="search for a matching zone/zonegroup id and return a connection if found" alt="" coords="182,99,304,125"/>
<area shape="poly" title=" " alt="" coords="58,1245,65,1034,82,683,96,500,113,338,133,212,145,169,157,143,168,132,171,136,162,146,150,171,138,213,118,338,101,501,88,683,70,1034,63,1245"/>
<area shape="rect" href="classrgw_1_1sal_1_1_store.html#a7905b89b9f5def056e6b3379637037cc" title=" " alt="" coords="160,1675,326,1701"/>
<area shape="poly" title=" " alt="" coords="64,1272,75,1352,95,1469,124,1585,142,1630,162,1661,164,1663,160,1667,158,1664,137,1633,119,1587,90,1470,70,1352,59,1273"/>
<area shape="rect" href="class_r_g_w_period.html#aa5e1b5147ab3f01311c33cc73927d1c2" title=" " alt="" coords="185,1725,301,1752"/>
<area shape="poly" title=" " alt="" coords="64,1272,73,1360,92,1493,105,1562,121,1625,140,1677,162,1712,173,1721,169,1725,158,1715,135,1679,116,1626,100,1563,87,1494,68,1361,58,1273"/>
<area shape="rect" href="rgw__admin_8cc.html#aff0d5161d67f7441b3696da1f415130d" title=" " alt="" coords="860,1765,1013,1792"/>
<area shape="poly" title=" " alt="" coords="69,1271,103,1324,130,1353,161,1376,218,1401,269,1412,317,1413,364,1408,411,1404,460,1403,514,1412,573,1434,633,1467,689,1506,741,1550,788,1596,867,1684,919,1751,914,1754,863,1688,785,1600,737,1554,685,1511,630,1471,571,1438,513,1417,460,1409,411,1409,364,1414,317,1418,269,1417,216,1406,158,1381,126,1357,99,1327,64,1274"/>
<area shape="rect" href="class_r_g_w_period.html#a712625093a5b4aa41606a5bd88dba2d7" title=" " alt="" coords="641,1059,776,1085"/>
<area shape="poly" title=" " alt="" coords="252,714,268,748,295,795,331,843,376,883,402,898,426,906,472,910,519,914,545,921,574,934,609,959,642,988,690,1044,686,1047,638,992,606,963,571,938,543,926,518,919,471,916,425,911,400,903,372,888,327,846,290,797,264,751,247,716"/>
<area shape="poly" title=" " alt="" coords="314,711,492,736,600,746,707,749,938,749,1036,752,1113,763,1187,784,1279,820,1333,848,1377,879,1374,883,1330,853,1277,825,1186,789,1112,768,1036,757,938,755,707,755,599,751,492,741,314,716"/>
<area shape="poly" title=" " alt="" coords="250,714,263,758,288,818,325,881,348,909,376,934,401,949,426,955,474,954,498,952,523,954,548,961,574,978,587,992,596,1006,602,1035,607,1065,613,1080,622,1096,674,1155,722,1193,776,1224,846,1263,884,1282,882,1287,843,1268,774,1229,719,1197,671,1158,618,1099,608,1082,602,1066,597,1036,591,1008,583,995,571,982,546,966,522,959,498,957,475,959,425,960,399,954,372,938,344,913,320,884,283,820,258,759,245,716"/>
<area shape="poly" title=" " alt="" coords="249,714,261,763,285,832,302,870,322,907,347,941,376,971,393,983,389,987,372,975,343,945,318,909,297,872,280,834,256,764,244,716"/>
<area shape="poly" title=" " alt="" coords="243,687,257,598,284,464,302,395,323,333,346,282,372,249,395,234,425,221,498,202,587,189,686,182,891,180,1067,187,1067,192,891,185,687,187,588,194,499,207,426,226,398,238,376,253,351,285,327,335,307,397,289,465,263,599,249,688"/>
<area shape="poly" title=" " alt="" coords="242,687,246,622,263,526,279,474,302,423,333,377,372,338,402,320,433,306,467,297,501,292,569,290,629,296,629,301,568,295,502,297,468,302,435,311,404,324,376,342,337,380,307,426,284,476,268,527,251,623,247,688"/>
<area shape="poly" title=" " alt="" coords="248,715,256,773,276,858,293,904,315,950,342,992,376,1029,380,1032,377,1036,372,1033,338,995,310,952,288,906,271,859,251,774,243,715"/>
<area shape="rect" href="class_r_g_w_period.html#ab2edb46dd5cdd598ab2cb344e11036c1" title=" " alt="" coords="376,485,570,512"/>
<area shape="poly" title=" " alt="" coords="248,687,265,653,291,608,328,562,372,522,381,517,384,521,376,526,332,565,296,611,269,656,252,689"/>
<area shape="rect" href="class_r_g_w_period.html#a16605b1787a45c5463d2cff97ceec51b" title=" " alt="" coords="631,453,786,496"/>
<area shape="poly" title=" " alt="" coords="299,685,373,667,431,658,477,654,520,646,571,623,606,598,637,568,684,507,688,511,641,571,609,602,574,628,522,651,477,659,431,663,375,672,300,690"/>
<area shape="rect" href="class_r_g_w_s_i___sys_obj.html#aaf17b23ff4d23d6f1fc8b36b6101a731" title=" " alt="" coords="1076,391,1278,417"/>
<area shape="poly" title=" " alt="" coords="241,688,242,616,247,564,257,508,273,449,296,392,329,340,349,317,372,297,426,262,476,243,524,236,572,239,621,248,674,261,732,275,797,287,891,305,983,331,1129,382,1127,387,981,336,890,311,796,292,731,280,673,266,620,253,571,244,525,241,478,248,429,267,376,301,353,321,333,343,301,394,278,450,262,509,252,565,248,616,246,688"/>
<area shape="poly" title=" " alt="" coords="259,713,307,760,340,786,375,810,475,848,626,899,625,904,473,853,373,814,337,791,304,764,255,717"/>
<area shape="poly" title=" " alt="" coords="314,697,435,688,504,679,572,667,618,654,660,639,662,644,619,659,573,672,505,685,436,693,314,702"/>
<area shape="rect" href="class_r_g_w_realm.html#ad5aafed5327759e1a81d112a738725c3" title=" " alt="" coords="392,419,555,461"/>
<area shape="poly" title=" " alt="" coords="246,687,260,645,286,588,323,526,346,497,372,471,377,468,380,472,376,475,350,500,327,529,290,590,265,647,251,689"/>
<area shape="rect" href="class_r_g_w_period.html#a79d645ea58d88abc55e47dd5bff69c3b" title=" " alt="" coords="394,536,552,563"/>
<area shape="poly" title=" " alt="" coords="252,686,300,631,334,599,373,572,385,566,387,571,375,577,337,603,304,634,256,689"/>
<area shape="poly" title=" " alt="" coords="247,715,252,781,270,879,286,933,309,987,338,1036,376,1079,394,1091,391,1096,372,1083,334,1039,304,989,281,935,265,880,247,781,242,715"/>
<area shape="rect" href="class_r_g_w_period.html#ae082334ee134a25a0ee7a01a3651701e" title=" " alt="" coords="376,587,570,613"/>
<area shape="poly" title=" " alt="" coords="266,685,314,658,373,630,408,616,410,621,375,635,317,663,268,690"/>
<area shape="rect" href="class_r_g_w_period.html#a171e0664b28ddedf9facc578d12c7a9a" title=" " alt="" coords="620,789,797,832"/>
<area shape="poly" title=" " alt="" coords="266,713,314,742,375,768,433,783,493,794,605,806,604,811,492,799,432,789,373,773,312,747,263,717"/>
<area shape="rect" href="class_r_g_w_period.html#af20e32f528fccfe8767df0541ed422af" title=" " alt="" coords="387,352,559,395"/>
<area shape="poly" title=" " alt="" coords="244,687,254,635,277,560,294,518,315,477,341,439,372,405,375,402,379,406,376,409,345,442,320,480,299,521,282,562,259,637,249,689"/>
<area shape="poly" title=" " alt="" coords="745,1056,844,1019,958,974,1009,956,1075,939,1157,924,1239,913,1368,903,1369,908,1239,918,1158,929,1077,944,1010,961,960,979,846,1024,747,1061"/>
<area shape="poly" title=" " alt="" coords="731,1084,894,1199,890,1204,728,1088"/>
<area shape="poly" title=" " alt="" coords="718,1085,736,1120,764,1167,801,1218,846,1263,876,1282,874,1286,843,1267,797,1222,760,1170,731,1122,714,1087"/>
<area shape="poly" title=" " alt="" coords="1014,1211,1277,1146,1301,1123,1323,1096,1358,1037,1381,979,1395,932,1400,933,1386,981,1362,1040,1327,1099,1305,1127,1280,1150,1015,1216"/>
<area shape="rect" href="class_r_g_w_period.html#a789657c727994fc695ddf1248f678eac" title=" " alt="" coords="1107,1512,1247,1539"/>
<area shape="poly" title=" " alt="" coords="1000,1252,1016,1263,1030,1277,1047,1306,1054,1334,1055,1362,1052,1388,1050,1414,1052,1440,1060,1465,1078,1492,1095,1505,1091,1509,1074,1495,1055,1468,1046,1441,1045,1414,1047,1388,1049,1362,1049,1335,1042,1308,1026,1280,1013,1267,997,1256"/>
<area shape="rect" href="class_r_g_w_period.html#a62fe41ce53c888e3622bb7c726c4ad41" title=" " alt="" coords="1100,1344,1255,1387"/>
<area shape="poly" title=" " alt="" coords="989,1252,1030,1277,1044,1291,1054,1305,1063,1317,1078,1330,1087,1335,1084,1340,1074,1334,1059,1321,1049,1308,1040,1295,1026,1281,986,1256"/>
<area shape="rect" href="class_r_g_w_s_i___sys_obj.html#a07a9aa07a04694c3df0dcefd1c84e12f" title=" " alt="" coords="1095,1109,1260,1136"/>
<area shape="poly" title=" " alt="" coords="971,1208,1019,1180,1075,1152,1111,1139,1112,1144,1077,1157,1022,1185,973,1213"/>
<area shape="rect" href="class_r_g_w_period.html#a5f7bac16318e05835a36c4279e6ff18f" title=" " alt="" coords="1326,1555,1485,1597"/>
<area shape="poly" title=" " alt="" coords="999,1252,1015,1263,1030,1277,1044,1300,1051,1323,1052,1366,1054,1408,1062,1427,1078,1448,1102,1466,1124,1477,1147,1482,1170,1483,1220,1484,1248,1488,1279,1498,1323,1519,1363,1544,1360,1548,1321,1524,1277,1503,1247,1493,1220,1489,1170,1488,1146,1487,1123,1482,1099,1471,1074,1451,1057,1430,1049,1409,1047,1366,1046,1324,1040,1302,1026,1280,1012,1267,996,1256"/>
<area shape="rect" href="class_r_g_w_period.html#a200f98de2cfdd95c627aa8eb165fc74c" title=" " alt="" coords="1104,1563,1251,1589"/>
<area shape="poly" title=" " alt="" coords="1000,1252,1017,1263,1030,1277,1050,1314,1057,1350,1056,1385,1051,1418,1046,1451,1046,1484,1055,1516,1078,1549,1091,1559,1088,1564,1074,1553,1051,1518,1041,1485,1041,1451,1045,1418,1050,1384,1052,1350,1045,1316,1026,1280,1013,1267,997,1256"/>
<area shape="rect" href="class_r_g_w_s_i___sys_obj.html#a42dbd3046b9d94873446090556f05e63" title=" " alt="" coords="1107,1043,1247,1085"/>
<area shape="poly" title=" " alt="" coords="960,1208,1026,1146,1048,1119,1059,1107,1075,1095,1092,1086,1094,1091,1077,1100,1062,1111,1052,1123,1030,1150,964,1212"/>
<area shape="rect" href="struct_r_g_w_s_i___sys_obj_1_1_obj_1_1_w_op.html#ad7644cb1049482b88dbb298a5183fd36" title=" " alt="" coords="1102,1277,1253,1320"/>
<area shape="poly" title=" " alt="" coords="1015,1251,1087,1271,1086,1276,1014,1256"/>
<area shape="rect" href="class_r_g_w_s_i___sys_obj_1_1_obj.html#a0ddd19bd81a0df0b260bfddc8f49796d" title=" " alt="" coords="1090,1411,1264,1437"/>
<area shape="poly" title=" " alt="" coords="997,1252,1030,1277,1042,1293,1048,1309,1053,1340,1058,1369,1065,1383,1078,1397,1082,1400,1079,1404,1074,1401,1061,1386,1053,1371,1048,1341,1043,1311,1037,1296,1026,1281,993,1256"/>
<area shape="rect" href="struct_r_g_w_s_i___sys_obj_1_1_obj_1_1_w_op.html#a13c75344c42af6a581c66ead1a294e21" title=" " alt="" coords="1102,1211,1253,1253"/>
<area shape="poly" title=" " alt="" coords="1014,1229,1086,1229,1086,1235,1014,1235"/>
<area shape="poly" title=" " alt="" coords="1251,1208,1277,1190,1303,1160,1326,1127,1361,1055,1384,986,1397,932,1402,933,1389,987,1366,1057,1330,1130,1307,1164,1280,1194,1254,1212"/>
<area shape="poly" title=" " alt="" coords="946,1317,1010,1473,1050,1557,1066,1585,1078,1599,1131,1627,1156,1635,1180,1638,1204,1637,1227,1630,1252,1618,1277,1599,1295,1579,1311,1551,1339,1476,1361,1383,1377,1279,1395,1076,1401,933,1406,933,1400,1076,1382,1280,1366,1384,1344,1478,1316,1554,1299,1582,1280,1603,1254,1622,1229,1635,1204,1642,1180,1644,1155,1640,1129,1632,1074,1603,1061,1588,1045,1559,1005,1475,941,1319"/>
<area shape="poly" title=" " alt="" coords="946,1317,964,1352,993,1399,1031,1448,1078,1491,1099,1503,1096,1508,1074,1496,1027,1452,989,1402,960,1354,942,1319"/>
<area shape="poly" title=" " alt="" coords="982,1288,1005,1277,1026,1263,1042,1247,1051,1232,1060,1216,1074,1197,1107,1167,1140,1143,1143,1147,1110,1172,1078,1201,1064,1218,1055,1235,1046,1251,1030,1267,1008,1282,984,1293"/>
<area shape="poly" title=" " alt="" coords="944,1317,958,1362,984,1425,1024,1492,1049,1522,1078,1549,1091,1557,1088,1561,1074,1553,1045,1526,1020,1495,980,1427,953,1364,939,1319"/>
<area shape="poly" title=" " alt="" coords="990,1288,1010,1278,1026,1264,1040,1243,1047,1222,1048,1180,1050,1139,1058,1117,1074,1096,1092,1082,1095,1086,1078,1099,1063,1120,1056,1140,1054,1181,1052,1223,1045,1245,1030,1267,1013,1282,993,1292"/>
<area shape="poly" title=" " alt="" coords="1014,1300,1086,1298,1086,1303,1014,1305"/>
<area shape="poly" title=" " alt="" coords="955,1316,1007,1356,1041,1377,1077,1396,1094,1403,1092,1408,1075,1401,1039,1382,1004,1360,952,1320"/>
<area shape="poly" title=" " alt="" coords="983,1288,1088,1256,1090,1261,984,1293"/>
<area shape="rect" href="class_r_g_w_period.html#a943fab10b91bbb99abcd31dab3937e1b" title=" " alt="" coords="1086,1664,1268,1691"/>
<area shape="poly" title=" " alt="" coords="946,1317,1031,1524,1041,1560,1047,1590,1056,1616,1078,1643,1093,1655,1090,1659,1074,1647,1051,1619,1042,1591,1036,1562,1025,1526,941,1319"/>
<area shape="poly" title=" " alt="" coords="1228,1661,1277,1643,1355,1603,1357,1608,1279,1648,1229,1666"/>
<area shape="poly" title=" " alt="" coords="756,904,798,888,844,876,920,866,997,862,1148,866,1278,880,1370,895,1369,900,1277,885,1147,872,997,867,920,872,845,881,800,893,758,909"/>
<area shape="rect" href="class_r_g_w_realm.html#a05ea2a11d0e5adfee788532da72c8132" title=" " alt="" coords="866,915,1007,941"/>
<area shape="poly" title=" " alt="" coords="789,925,850,925,850,931,789,931"/>
<area shape="rect" href="class_r_g_w_realm.html#a929685d20d417c52628053a47f6a341c" title="send a notify on the realm control object" alt="" coords="854,1033,1019,1060"/>
<area shape="poly" title=" " alt="" coords="752,947,897,1023,894,1028,750,952"/>
<area shape="poly" title=" " alt="" coords="898,916,891,906,896,896,911,890,936,888,964,891,978,898,976,902,963,896,936,893,912,895,899,900,896,906,902,913"/>
<area shape="poly" title=" " alt="" coords="965,1031,1015,1007,1075,984,1157,959,1238,938,1368,908,1370,914,1240,943,1158,964,1077,989,1018,1012,967,1035"/>
<area shape="poly" title=" " alt="" coords="973,1058,1077,1095,1103,1102,1101,1107,1075,1100,972,1063"/>
<area shape="poly" title=" " alt="" coords="1019,1050,1091,1055,1091,1061,1019,1055"/>
<area shape="poly" title=" " alt="" coords="776,624,1065,651,1203,670,1251,681,1280,691,1304,710,1325,732,1359,782,1383,833,1399,875,1394,877,1378,835,1354,785,1321,735,1300,714,1277,696,1250,686,1202,676,1064,657,775,629"/>
<area shape="poly" title=" " alt="" coords="719,606,794,507,816,464,826,445,843,424,916,356,996,297,1071,250,1133,216,1135,221,1074,254,999,302,919,360,847,427,831,448,821,466,799,509,724,609"/>
<area shape="rect" href="struct_r_g_w_zone_group.html#aa36e0ee7c567e9284cb5f2af7fe1ff99" title=" " alt="" coords="846,571,1027,613"/>
<area shape="poly" title=" " alt="" coords="775,610,830,603,831,608,776,615"/>
<area shape="rect" href="class_r_g_w_system_meta_obj.html#a62f5b26f43f66ec573d39b441f754f91" title=" " alt="" coords="845,437,1028,480"/>
<area shape="poly" title=" " alt="" coords="719,606,769,551,804,518,843,490,852,485,854,490,846,494,808,523,773,555,723,610"/>
<area shape="rect" href="struct_r_g_w_zone_group.html#a2a813fd7041d774595576f9221315c7f" title=" " alt="" coords="855,504,1018,547"/>
<area shape="poly" title=" " alt="" coords="737,605,844,556,858,550,860,555,846,561,739,610"/>
<area shape="rect" href="class_r_g_w_system_meta_obj.html#a2cffc0cbe3ba5d4ee8cdb748c5253f07" title=" " alt="" coords="845,688,1028,715"/>
<area shape="poly" title=" " alt="" coords="750,633,846,667,882,680,881,685,844,672,748,638"/>
<area shape="rect" href="struct_r_g_w_period_config.html#ab672b7ea4acf92ac20639cd743ae1e3a" title=" " alt="" coords="856,1109,1017,1136"/>
<area shape="poly" title=" " alt="" coords="722,634,760,694,781,734,799,777,811,821,815,861,811,931,810,964,814,997,825,1032,847,1070,862,1087,881,1100,878,1104,859,1091,843,1074,820,1034,809,998,805,964,806,931,809,861,805,822,794,778,777,736,755,696,717,637"/>
<area shape="poly" title=" " alt="" coords="1028,435,1100,419,1101,424,1029,440"/>
<area shape="poly" title=" " alt="" coords="1019,530,1081,540,1150,559,1219,588,1251,608,1280,630,1307,658,1330,689,1365,757,1388,823,1402,875,1396,876,1383,824,1360,759,1325,692,1303,661,1277,634,1248,612,1216,593,1148,564,1080,546,1018,535"/>
<area shape="poly" title=" " alt="" coords="1011,501,1026,490,1046,464,1055,439,1061,411,1074,378,1118,292,1157,223,1162,226,1123,295,1078,380,1067,413,1060,440,1051,467,1030,494,1014,506"/>
<area shape="poly" title=" " alt="" coords="1028,688,1087,687,1152,691,1218,705,1280,731,1320,762,1353,801,1378,841,1395,875,1390,878,1373,843,1348,804,1316,766,1277,736,1216,710,1151,697,1087,692,1028,693"/>
<area shape="poly" title=" " alt="" coords="964,1106,1026,1070,1049,1048,1059,1038,1075,1028,1104,1016,1130,1009,1176,1004,1222,1000,1248,995,1277,984,1330,956,1374,925,1377,930,1333,961,1279,989,1249,1000,1223,1005,1176,1009,1131,1014,1106,1021,1077,1033,1063,1042,1053,1052,1030,1074,967,1111"/>
<area shape="poly" title=" " alt="" coords="1018,1120,1079,1120,1079,1125,1018,1125"/>
<area shape="poly" title=" " alt="" coords="993,1106,1091,1082,1093,1087,995,1111"/>
<area shape="poly" title=" " alt="" coords="959,1135,993,1162,1030,1197,1044,1216,1053,1233,1062,1248,1078,1263,1089,1271,1086,1275,1074,1267,1057,1251,1048,1235,1040,1219,1026,1200,989,1166,955,1139"/>
<area shape="poly" title=" " alt="" coords="963,1134,998,1161,1030,1197,1044,1226,1049,1253,1049,1304,1048,1327,1051,1350,1060,1373,1078,1397,1081,1400,1077,1404,1074,1401,1055,1376,1046,1352,1043,1327,1043,1303,1044,1254,1039,1228,1026,1200,994,1164,960,1139"/>
<area shape="poly" title=" " alt="" coords="969,1134,1116,1202,1114,1206,967,1139"/>
<area shape="poly" title=" " alt="" coords="555,425,741,399,968,373,1076,365,1169,361,1239,364,1264,369,1280,377,1295,392,1309,413,1333,468,1353,536,1369,613,1393,764,1405,875,1399,876,1387,765,1364,614,1348,538,1328,470,1304,415,1291,395,1277,381,1262,374,1239,370,1169,366,1076,370,968,379,742,405,556,430"/>
<area shape="poly" title=" " alt="" coords="545,416,571,404,628,370,677,336,680,340,631,375,574,409,547,421"/>
<area shape="poly" title=" " alt="" coords="556,449,616,458,615,464,555,455"/>
<area shape="poly" title=" " alt="" coords="552,460,574,471,610,500,643,532,692,593,687,597,639,536,607,504,571,476,550,464"/>
<area shape="poly" title=" " alt="" coords="797,807,896,810,1017,817,1149,830,1279,853,1328,868,1371,886,1369,890,1326,873,1278,859,1148,836,1017,822,896,815,797,813"/>
<area shape="poly" title=" " alt="" coords="742,831,773,858,799,893,815,930,822,962,823,1022,824,1080,831,1112,847,1147,868,1175,893,1199,889,1203,864,1179,842,1149,826,1113,819,1081,818,1022,817,963,810,931,794,896,769,862,739,835"/>
<area shape="poly" title=" " alt="" coords="559,363,747,347,972,333,1078,330,1170,332,1240,338,1264,344,1280,351,1295,367,1310,389,1334,448,1355,520,1371,600,1394,759,1405,875,1400,876,1389,760,1366,601,1350,521,1329,449,1305,392,1291,371,1277,356,1262,349,1239,343,1170,337,1078,336,972,339,747,352,560,368"/>
<area shape="poly" title=" " alt="" coords="544,393,573,404,655,444,653,448,571,409,542,398"/>
<area shape="rect" href="structrgw__user.html#a7e60b2dd070ae3af5cebb6c34946bac6" title=" " alt="" coords="409,1448,537,1475"/>
<area shape="poly" title=" " alt="" coords="302,1459,393,1459,393,1464,302,1464"/>
<area shape="poly" title=" " alt="" coords="211,1524,206,1514,210,1504,222,1498,243,1496,265,1499,277,1505,274,1510,263,1504,243,1501,224,1503,213,1508,211,1514,216,1521"/>
<area shape="poly" title=" " alt="" coords="304,114,614,138,1028,176,1067,180,1066,186,1028,181,614,143,304,119"/>
<area shape="rect" href="classrgw_1_1sal_1_1_store.html#aca84a6ff80011b26fcd2fa8526c1152e" title=" " alt="" coords="408,48,539,75"/>
<area shape="poly" title=" " alt="" coords="303,96,394,76,395,81,305,101"/>
<area shape="rect" href="rgw__admin_8cc.html#a39feaf6aae4a9a011ca6ccd89d1ee44c" title=" " alt="" coords="1093,1816,1262,1843"/>
<area shape="poly" title=" " alt="" coords="1004,1790,1096,1810,1095,1815,1003,1795"/>
<area shape="rect" href="rgw__admin_8cc.html#ab91eb7d099ca1e0e21208450550a3a1a" title=" " alt="" coords="1133,1765,1221,1792"/>
<area shape="poly" title=" " alt="" coords="1013,1776,1117,1776,1117,1781,1013,1781"/>
<area shape="poly" title=" " alt="" coords="1260,1815,1276,1803,1285,1768,1298,1682,1335,1419,1398,933,1403,933,1341,1420,1304,1683,1290,1769,1281,1805,1264,1819"/>
<area shape="poly" title=" " alt="" coords="1221,1773,1251,1763,1276,1745,1288,1708,1304,1626,1341,1381,1398,932,1403,933,1346,1382,1309,1627,1293,1709,1280,1748,1253,1768,1222,1778"/>
</map>
</div>
<div class="dynheader">
이 함수를 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="rgw__admin_8cc_aa84c5ba46881dc6ab82e752f5864a5d6_icgraph.png" border="0" usemap="#argw__admin_8cc_aa84c5ba46881dc6ab82e752f5864a5d6_icgraph" alt=""/></div>
<map name="argw__admin_8cc_aa84c5ba46881dc6ab82e752f5864a5d6_icgraph" id="argw__admin_8cc_aa84c5ba46881dc6ab82e752f5864a5d6_icgraph">
<area shape="rect" title=" " alt="" coords="253,5,359,32"/>
<area shape="rect" href="rgw__admin_8cc.html#a217dbf8b442f20279ea00b898af96f52" title=" " alt="" coords="5,5,55,32"/>
<area shape="poly" title=" " alt="" coords="237,21,55,21,55,16,237,16"/>
<area shape="rect" href="rgw__admin_8cc.html#a4dd5fe9ff30e3225bca7a06c01dde2bd" title=" " alt="" coords="103,31,205,57"/>
<area shape="poly" title=" " alt="" coords="238,33,206,38,205,33,237,27"/>
<area shape="poly" title=" " alt="" coords="87,33,54,26,55,21,88,28"/>
</map>
</div>

</div>
</div>
<a id="aeb5edee788c0f9992b3b44f626b6f667" name="aeb5edee788c0f9992b3b44f626b6f667"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aeb5edee788c0f9992b3b44f626b6f667">&#9670;&#160;</a></span>convert_bucket_set_to_str_vec()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static std::vector&lt; string &gt; convert_bucket_set_to_str_vec </td>
          <td>(</td>
          <td class="paramtype">const std::set&lt; <a class="el" href="structrgw__bucket.html">rgw_bucket</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>bs</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition"><a class="el" href="rgw__admin_8cc_source.html">rgw_admin.cc</a> 파일의 <a class="el" href="rgw__admin_8cc_source.html#l02572">2572</a> 번째 라인에서 정의되었습니다.</p>
<div class="fragment"><div class="line"><span class="lineno"> 2573</span>{</div>
<div class="line"><span class="lineno"> 2574</span>  std::vector&lt;string&gt; result;</div>
<div class="line"><span class="lineno"> 2575</span>  result.reserve(bs.size());</div>
<div class="line"><span class="lineno"> 2576</span>  <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp; b : bs) {</div>
<div class="line"><span class="lineno"> 2577</span>    result.push_back(b.get_key());</div>
<div class="line"><span class="lineno"> 2578</span>  }</div>
<div class="line"><span class="lineno"> 2579</span>  <span class="keywordflow">return</span> result;</div>
<div class="line"><span class="lineno"> 2580</span>}</div>
</div><!-- fragment --><div class="dynheader">
이 함수를 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="rgw__admin_8cc_aeb5edee788c0f9992b3b44f626b6f667_icgraph.png" border="0" usemap="#argw__admin_8cc_aeb5edee788c0f9992b3b44f626b6f667_icgraph" alt=""/></div>
<map name="argw__admin_8cc_aeb5edee788c0f9992b3b44f626b6f667_icgraph" id="argw__admin_8cc_aeb5edee788c0f9992b3b44f626b6f667_icgraph">
<area shape="rect" title=" " alt="" coords="1153,272,1286,315"/>
<area shape="rect" href="rgw__admin_8cc.html#abfa871472fdef30cd489d5795df05b4d" title=" " alt="" coords="1029,280,1105,307"/>
<area shape="poly" title=" " alt="" coords="1137,296,1106,296,1106,291,1137,291"/>
<area shape="rect" href="structrgw__data__sync__status.html#a0efc3edb8a9d925394a5836f2e896def" title=" " alt="" coords="812,5,964,48"/>
<area shape="poly" title=" " alt="" coords="1060,265,1053,221,1038,166,1014,111,998,85,979,62,962,49,966,45,983,58,1003,82,1019,108,1043,165,1058,220,1065,264"/>
<area shape="rect" href="structrgw__meta__sync__status.html#ad88c1542f334a6deaabcf2cec315e335" title=" " alt="" coords="810,72,966,115"/>
<area shape="poly" title=" " alt="" coords="1056,266,1029,197,1007,161,979,129,963,117,966,113,982,125,1011,157,1034,195,1061,264"/>
<area shape="rect" href="structrgw__data__sync__status.html#a75f459b743f801688caa14ac8bc5744f" title=" " alt="" coords="812,139,964,181"/>
<area shape="poly" title=" " alt="" coords="1047,268,1018,231,979,195,960,184,962,180,982,191,1022,227,1051,265"/>
<area shape="rect" href="structrgw__data__sync__status.html#acd7ae109a107d8251f757ab43bcdd7f9" title=" " alt="" coords="812,205,964,248"/>
<area shape="poly" title=" " alt="" coords="1015,276,980,262,949,251,951,246,982,258,1017,271"/>
<area shape="rect" href="structrgw__data__sync__status.html#a3e37aa43047f24ad8b2d438d35d04ff2" title=" " alt="" coords="812,272,964,315"/>
<area shape="poly" title=" " alt="" coords="1013,296,964,296,964,291,1013,291"/>
<area shape="rect" href="structrgw__meta__sync__status.html#a551759a5fb384fcd3bd5ebb02844d3a0" title=" " alt="" coords="810,339,966,381"/>
<area shape="poly" title=" " alt="" coords="1017,315,982,329,951,341,949,336,980,324,1015,310"/>
<area shape="rect" href="class_r_g_w_remote_meta_log.html#a0964ba1cde7b10e005105faab2f1cfbc" title=" " alt="" coords="801,405,975,448"/>
<area shape="poly" title=" " alt="" coords="1051,321,1022,359,982,395,962,407,960,402,979,391,1018,356,1047,318"/>
<area shape="rect" href="rgw__admin_8cc.html#a217dbf8b442f20279ea00b898af96f52" title=" " alt="" coords="86,472,135,499"/>
<area shape="poly" title=" " alt="" coords="1063,323,1053,356,1038,395,1014,433,982,462,950,478,908,491,805,508,682,515,550,516,299,504,135,490,136,485,300,499,550,510,682,510,804,502,907,486,948,473,979,458,1010,429,1033,393,1048,355,1058,321"/>
<area shape="rect" href="class_r_g_w_remote_meta_log.html#a8d13af2ee432f0d8cebfa6524809ea51" title=" " alt="" coords="795,523,981,565"/>
<area shape="poly" title=" " alt="" coords="1064,323,1055,362,1039,411,1016,461,983,506,958,524,955,520,979,502,1011,459,1034,409,1050,361,1058,321"/>
<area shape="rect" href="class_r_g_w_meta_sync_status_manager.html#a54e018493477c2cff0cfb7e9dfffc781" title=" " alt="" coords="277,405,477,448"/>
<area shape="poly" title=" " alt="" coords="786,429,477,429,477,424,786,424"/>
<area shape="poly" title=" " alt="" coords="263,454,136,483,135,477,262,449"/>
<area shape="rect" href="class_r_g_w_remote_meta_log.html#acda3cdc36d0f85d5292141bca4cb37a9" title=" " alt="" coords="538,531,747,557"/>
<area shape="poly" title=" " alt="" coords="780,547,748,547,748,541,780,541"/>
<area shape="rect" href="class_r_g_w_meta_sync_status_manager.html#a2e6dcb3f153919994f8b9864c033210a" title=" " alt="" coords="264,531,490,557"/>
<area shape="poly" title=" " alt="" coords="523,547,490,547,490,541,523,541"/>
<area shape="poly" title=" " alt="" coords="297,529,135,493,136,488,298,524"/>
<area shape="rect" href="class_r_g_w_meta_sync_processor_thread.html#abe2acfcf6f22db63d007a86d6c389262" title=" " alt="" coords="5,523,216,565"/>
<area shape="poly" title=" " alt="" coords="248,547,216,547,216,541,248,541"/>
</map>
</div>

</div>
</div>
<a id="a64d9f3c5499d6bba1f03c76ff109c2f6" name="a64d9f3c5499d6bba1f03c76ff109c2f6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a64d9f3c5499d6bba1f03c76ff109c2f6">&#9670;&#160;</a></span>decode_dump()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class T &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool decode_dump </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>field_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bufferlist &amp;&#160;</td>
          <td class="paramname"><em>bl</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Formatter *&#160;</td>
          <td class="paramname"><em>f</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition"><a class="el" href="rgw__admin_8cc_source.html">rgw_admin.cc</a> 파일의 <a class="el" href="rgw__admin_8cc_source.html#l01273">1273</a> 번째 라인에서 정의되었습니다.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1274</span>{</div>
<div class="line"><span class="lineno"> 1275</span>  T t;</div>
<div class="line"><span class="lineno"> 1276</span> </div>
<div class="line"><span class="lineno"> 1277</span>  <span class="keyword">auto</span> iter = bl.cbegin();</div>
<div class="line"><span class="lineno"> 1278</span> </div>
<div class="line"><span class="lineno"> 1279</span>  <span class="keywordflow">try</span> {</div>
<div class="line"><span class="lineno"> 1280</span>    <a class="code hl_function" href="rgw__log__backing_8h.html#adc46efdde31cf790f3b383cb9e6f198e">decode</a>(t, iter);</div>
<div class="line"><span class="lineno"> 1281</span>  } <span class="keywordflow">catch</span> (buffer::error&amp; err) {</div>
<div class="line"><span class="lineno"> 1282</span>    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 1283</span>  }</div>
<div class="line"><span class="lineno"> 1284</span> </div>
<div class="line"><span class="lineno"> 1285</span>  <a class="code hl_function" href="rgw__admin_8cc.html#ab596b9e1a1fc78e98a4d13a66578b658">encode_json</a>(field_name, t, f);</div>
<div class="line"><span class="lineno"> 1286</span> </div>
<div class="line"><span class="lineno"> 1287</span>  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 1288</span>}</div>
</div><!-- fragment --><div class="dynheader">
이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="rgw__admin_8cc_a64d9f3c5499d6bba1f03c76ff109c2f6_cgraph.png" border="0" usemap="#argw__admin_8cc_a64d9f3c5499d6bba1f03c76ff109c2f6_cgraph" alt=""/></div>
<map name="argw__admin_8cc_a64d9f3c5499d6bba1f03c76ff109c2f6_cgraph" id="argw__admin_8cc_a64d9f3c5499d6bba1f03c76ff109c2f6_cgraph">
<area shape="rect" title=" " alt="" coords="5,67,108,93"/>
<area shape="rect" href="rgw__log__backing_8h.html#adc46efdde31cf790f3b383cb9e6f198e" title=" " alt="" coords="171,29,235,56"/>
<area shape="poly" title=" " alt="" coords="107,64,156,52,157,57,109,70"/>
<area shape="rect" href="rgw__admin_8cc.html#ab596b9e1a1fc78e98a4d13a66578b658" title=" " alt="" coords="156,104,250,131"/>
<area shape="poly" title=" " alt="" coords="109,90,141,99,140,104,107,96"/>
<area shape="poly" title=" " alt="" coords="177,30,173,21,176,11,186,5,203,3,221,5,230,12,227,16,219,10,203,8,188,10,180,14,178,20,182,28"/>
<area shape="poly" title=" " alt="" coords="177,105,173,95,176,86,186,80,203,77,221,80,230,87,227,91,219,85,203,83,188,85,180,89,178,95,182,102"/>
</map>
</div>

</div>
</div>
<a id="ae20a7c4c3a4d5f2419cb34c2fc4c9a87" name="ae20a7c4c3a4d5f2419cb34c2fc4c9a87"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae20a7c4c3a4d5f2419cb34c2fc4c9a87">&#9670;&#160;</a></span>directional_flow_opt()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool directional_flow_opt </td>
          <td>(</td>
          <td class="paramtype">const string &amp;&#160;</td>
          <td class="paramname"><em>opt</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition"><a class="el" href="rgw__admin_8cc_source.html">rgw_admin.cc</a> 파일의 <a class="el" href="rgw__admin_8cc_source.html#l03029">3029</a> 번째 라인에서 정의되었습니다.</p>
<div class="fragment"><div class="line"><span class="lineno"> 3030</span>{</div>
<div class="line"><span class="lineno"> 3031</span>  <span class="keywordflow">return</span> (opt == <span class="stringliteral">&quot;directional&quot;</span> || opt == <span class="stringliteral">&quot;direction&quot;</span>);</div>
<div class="line"><span class="lineno"> 3032</span>}</div>
</div><!-- fragment --><div class="dynheader">
이 함수를 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="rgw__admin_8cc_ae20a7c4c3a4d5f2419cb34c2fc4c9a87_icgraph.png" border="0" usemap="#argw__admin_8cc_ae20a7c4c3a4d5f2419cb34c2fc4c9a87_icgraph" alt=""/></div>
<map name="argw__admin_8cc_ae20a7c4c3a4d5f2419cb34c2fc4c9a87_icgraph" id="argw__admin_8cc_ae20a7c4c3a4d5f2419cb34c2fc4c9a87_icgraph">
<area shape="rect" title=" " alt="" coords="103,5,237,32"/>
<area shape="rect" href="rgw__admin_8cc.html#a217dbf8b442f20279ea00b898af96f52" title=" " alt="" coords="5,5,55,32"/>
<area shape="poly" title=" " alt="" coords="87,21,55,21,55,16,87,16"/>
</map>
</div>

</div>
</div>
<a id="a7987767bde42cfaa2fbc443042879153" name="a7987767bde42cfaa2fbc443042879153"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7987767bde42cfaa2fbc443042879153">&#9670;&#160;</a></span>do_check_object_locator()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int do_check_object_locator </td>
          <td>(</td>
          <td class="paramtype">const string &amp;&#160;</td>
          <td class="paramname"><em>tenant_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const string &amp;&#160;</td>
          <td class="paramname"><em>bucket_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>fix</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>remove_bad</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Formatter *&#160;</td>
          <td class="paramname"><em>f</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition"><a class="el" href="rgw__admin_8cc_source.html">rgw_admin.cc</a> 파일의 <a class="el" href="rgw__admin_8cc_source.html#l01690">1690</a> 번째 라인에서 정의되었습니다.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1692</span>{</div>
<div class="line"><span class="lineno"> 1693</span>  <span class="keywordflow">if</span> (remove_bad &amp;&amp; !fix) {</div>
<div class="line"><span class="lineno"> 1694</span>    cerr &lt;&lt; <span class="stringliteral">&quot;ERROR: can&#39;t have remove_bad specified without fix&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 1695</span>    <span class="keywordflow">return</span> -EINVAL;</div>
<div class="line"><span class="lineno"> 1696</span>  }</div>
<div class="line"><span class="lineno"> 1697</span> </div>
<div class="line"><span class="lineno"> 1698</span>  std::unique_ptr&lt;rgw::sal::Bucket&gt; bucket;</div>
<div class="line"><span class="lineno"> 1699</span>  <span class="keywordtype">string</span> bucket_id;</div>
<div class="line"><span class="lineno"> 1700</span> </div>
<div class="line"><span class="lineno"> 1701</span>  f-&gt;open_object_section(<span class="stringliteral">&quot;bucket&quot;</span>);</div>
<div class="line"><span class="lineno"> 1702</span>  f-&gt;dump_string(<span class="stringliteral">&quot;bucket&quot;</span>, bucket_name);</div>
<div class="line"><span class="lineno"> 1703</span>  <span class="keywordtype">int</span> ret = <a class="code hl_function" href="rgw__admin_8cc.html#a0023a8779e3ab0d965d9acfb3eb72cac">init_bucket</a>(<span class="keyword">nullptr</span>, tenant_name, bucket_name, bucket_id, &amp;bucket);</div>
<div class="line"><span class="lineno"> 1704</span>  <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno"> 1705</span>    cerr &lt;&lt; <span class="stringliteral">&quot;ERROR: could not init bucket: &quot;</span> &lt;&lt; cpp_strerror(-ret) &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 1706</span>    <span class="keywordflow">return</span> ret;</div>
<div class="line"><span class="lineno"> 1707</span>  }</div>
<div class="line"><span class="lineno"> 1708</span>  <span class="keywordtype">int</span> <a class="code hl_enumvalue" href="namespacergw_1_1dmclock.html#a6ed0c6ad7f7fc29a06f52a0070d21493ae2942a04780e223b215eb8b663cf5353">count</a> = 0;</div>
<div class="line"><span class="lineno"> 1709</span> </div>
<div class="line"><span class="lineno"> 1710</span>  <span class="keywordtype">int</span> max_entries = 1000;</div>
<div class="line"><span class="lineno"> 1711</span> </div>
<div class="line"><span class="lineno"> 1712</span>  <span class="keywordtype">string</span> prefix;</div>
<div class="line"><span class="lineno"> 1713</span>  <span class="keywordtype">string</span> delim;</div>
<div class="line"><span class="lineno"> 1714</span>  <span class="keywordtype">string</span> marker;</div>
<div class="line"><span class="lineno"> 1715</span>  vector&lt;rgw_bucket_dir_entry&gt; result;</div>
<div class="line"><span class="lineno"> 1716</span>  <span class="keywordtype">string</span> ns;</div>
<div class="line"><span class="lineno"> 1717</span> </div>
<div class="line"><span class="lineno"> 1718</span>  <a class="code hl_struct" href="structrgw_1_1sal_1_1_bucket_1_1_list_params.html">rgw::sal::Bucket::ListParams</a> params;</div>
<div class="line"><span class="lineno"> 1719</span>  <a class="code hl_struct" href="structrgw_1_1sal_1_1_bucket_1_1_list_results.html">rgw::sal::Bucket::ListResults</a> results;</div>
<div class="line"><span class="lineno"> 1720</span> </div>
<div class="line"><span class="lineno"> 1721</span>  params.<a class="code hl_variable" href="structrgw_1_1sal_1_1_bucket_1_1_list_params.html#adb0883ba21530e4181ef90c7bfea71d4">prefix</a> = prefix;</div>
<div class="line"><span class="lineno"> 1722</span>  params.<a class="code hl_variable" href="structrgw_1_1sal_1_1_bucket_1_1_list_params.html#a6f6d8cc1c26ac1403bfcf8e2227caf75">delim</a> = delim;</div>
<div class="line"><span class="lineno"> 1723</span>  params.<a class="code hl_variable" href="structrgw_1_1sal_1_1_bucket_1_1_list_params.html#a2e087cec40a890b114cbc7c58c2507b0">marker</a> = <a class="code hl_struct" href="structrgw__obj__key.html">rgw_obj_key</a>(marker);</div>
<div class="line"><span class="lineno"> 1724</span>  params.<a class="code hl_variable" href="structrgw_1_1sal_1_1_bucket_1_1_list_params.html#a000855edc6e4474b7f9a1ea943512779">ns</a> = ns;</div>
<div class="line"><span class="lineno"> 1725</span>  params.<a class="code hl_variable" href="structrgw_1_1sal_1_1_bucket_1_1_list_params.html#aeff439ae8aa6d07d0057122ceca00a10">enforce_ns</a> = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 1726</span>  params.<a class="code hl_variable" href="structrgw_1_1sal_1_1_bucket_1_1_list_params.html#a3e5357a4fcc9044dc97ee55896d886ac">list_versions</a> = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 1727</span> </div>
<div class="line"><span class="lineno"> 1728</span>  f-&gt;open_array_section(<span class="stringliteral">&quot;check_objects&quot;</span>);</div>
<div class="line"><span class="lineno"> 1729</span>  <span class="keywordflow">do</span> {</div>
<div class="line"><span class="lineno"> 1730</span>    ret = bucket-&gt;list(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>(), params, max_entries - count, results, null_yield);</div>
<div class="line"><span class="lineno"> 1731</span>    <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno"> 1732</span>      cerr &lt;&lt; <span class="stringliteral">&quot;ERROR: store-&gt;list_objects(): &quot;</span> &lt;&lt; cpp_strerror(-ret) &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 1733</span>      <span class="keywordflow">return</span> -ret;</div>
<div class="line"><span class="lineno"> 1734</span>    }</div>
<div class="line"><span class="lineno"> 1735</span> </div>
<div class="line"><span class="lineno"> 1736</span>    <a class="code hl_enumvalue" href="namespacergw_1_1dmclock.html#a6ed0c6ad7f7fc29a06f52a0070d21493ae2942a04780e223b215eb8b663cf5353">count</a> += results.<a class="code hl_variable" href="structrgw_1_1sal_1_1_bucket_1_1_list_results.html#ad2d05625f45090ae48961cca1ac235c1">objs</a>.size();</div>
<div class="line"><span class="lineno"> 1737</span> </div>
<div class="line"><span class="lineno"> 1738</span>    <span class="keywordflow">for</span> (vector&lt;rgw_bucket_dir_entry&gt;::iterator iter = results.<a class="code hl_variable" href="structrgw_1_1sal_1_1_bucket_1_1_list_results.html#ad2d05625f45090ae48961cca1ac235c1">objs</a>.begin(); iter != results.<a class="code hl_variable" href="structrgw_1_1sal_1_1_bucket_1_1_list_results.html#ad2d05625f45090ae48961cca1ac235c1">objs</a>.end(); ++iter) {</div>
<div class="line"><span class="lineno"> 1739</span>      std::unique_ptr&lt;rgw::sal::Object&gt; obj = bucket-&gt;get_object(iter-&gt;key);</div>
<div class="line"><span class="lineno"> 1740</span> </div>
<div class="line"><span class="lineno"> 1741</span>      <span class="keywordflow">if</span> (obj-&gt;get_name()[0] == <span class="charliteral">&#39;_&#39;</span>) {</div>
<div class="line"><span class="lineno"> 1742</span>        ret = <a class="code hl_function" href="rgw__admin_8cc.html#a9936e83962e52b5d34c57a2974e5baf5">check_obj_locator_underscore</a>(obj.get(), fix, remove_bad, f);</div>
<div class="line"><span class="lineno"> 1743</span> </div>
<div class="line"><span class="lineno"> 1744</span>    <span class="keywordflow">if</span> (ret &gt;= 0) {</div>
<div class="line"><span class="lineno"> 1745</span>          ret = <a class="code hl_function" href="rgw__admin_8cc.html#af25b7e0e8221907dbae24af72269d8c7">check_obj_tail_locator_underscore</a>(bucket-&gt;get_info(), obj-&gt;get_key(), fix, f);</div>
<div class="line"><span class="lineno"> 1746</span>          <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno"> 1747</span>              cerr &lt;&lt; <span class="stringliteral">&quot;ERROR: check_obj_tail_locator_underscore(): &quot;</span> &lt;&lt; cpp_strerror(-ret) &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 1748</span>              <span class="keywordflow">return</span> -ret;</div>
<div class="line"><span class="lineno"> 1749</span>          }</div>
<div class="line"><span class="lineno"> 1750</span>    }</div>
<div class="line"><span class="lineno"> 1751</span>      }</div>
<div class="line"><span class="lineno"> 1752</span>    }</div>
<div class="line"><span class="lineno"> 1753</span>    f-&gt;flush(cout);</div>
<div class="line"><span class="lineno"> 1754</span>  } <span class="keywordflow">while</span> (results.<a class="code hl_variable" href="structrgw_1_1sal_1_1_bucket_1_1_list_results.html#a5b9a541d2f6fe22f99cbaa279c8d12e4">is_truncated</a> &amp;&amp; count &lt; max_entries);</div>
<div class="line"><span class="lineno"> 1755</span>  f-&gt;close_section();</div>
<div class="line"><span class="lineno"> 1756</span>  f-&gt;close_section();</div>
<div class="line"><span class="lineno"> 1757</span> </div>
<div class="line"><span class="lineno"> 1758</span>  f-&gt;flush(cout);</div>
<div class="line"><span class="lineno"> 1759</span> </div>
<div class="line"><span class="lineno"> 1760</span>  <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno"> 1761</span>}</div>
<div class="ttc" id="anamespacergw_1_1dmclock_html_a6ed0c6ad7f7fc29a06f52a0070d21493ae2942a04780e223b215eb8b663cf5353"><div class="ttname"><a href="namespacergw_1_1dmclock.html#a6ed0c6ad7f7fc29a06f52a0070d21493ae2942a04780e223b215eb8b663cf5353">rgw::dmclock::client_id::count</a></div><div class="ttdeci">@ count</div></div>
<div class="ttc" id="argw__admin_8cc_html_a9936e83962e52b5d34c57a2974e5baf5"><div class="ttname"><a href="rgw__admin_8cc.html#a9936e83962e52b5d34c57a2974e5baf5">check_obj_locator_underscore</a></div><div class="ttdeci">int check_obj_locator_underscore(rgw::sal::Object *obj, bool fix, bool remove_bad, Formatter *f)</div><div class="ttdef"><b>Definition</b> <a href="rgw__admin_8cc_source.html#l01620">rgw_admin.cc:1620</a></div></div>
<div class="ttc" id="argw__admin_8cc_html_af25b7e0e8221907dbae24af72269d8c7"><div class="ttname"><a href="rgw__admin_8cc.html#af25b7e0e8221907dbae24af72269d8c7">check_obj_tail_locator_underscore</a></div><div class="ttdeci">int check_obj_tail_locator_underscore(RGWBucketInfo &amp;bucket_info, rgw_obj_key &amp;key, bool fix, Formatter *f)</div><div class="ttdef"><b>Definition</b> <a href="rgw__admin_8cc_source.html#l01663">rgw_admin.cc:1663</a></div></div>
<div class="ttc" id="astructrgw_1_1sal_1_1_bucket_1_1_list_params_html"><div class="ttname"><a href="structrgw_1_1sal_1_1_bucket_1_1_list_params.html">rgw::sal::Bucket::ListParams</a></div><div class="ttdoc">Parameters for a bucket list operation</div><div class="ttdef"><b>Definition</b> <a href="rgw__sal_8h_source.html#l00567">rgw_sal.h:567</a></div></div>
<div class="ttc" id="astructrgw_1_1sal_1_1_bucket_1_1_list_params_html_a000855edc6e4474b7f9a1ea943512779"><div class="ttname"><a href="structrgw_1_1sal_1_1_bucket_1_1_list_params.html#a000855edc6e4474b7f9a1ea943512779">rgw::sal::Bucket::ListParams::ns</a></div><div class="ttdeci">std::string ns</div><div class="ttdef"><b>Definition</b> <a href="rgw__sal_8h_source.html#l00572">rgw_sal.h:572</a></div></div>
<div class="ttc" id="astructrgw_1_1sal_1_1_bucket_1_1_list_params_html_a2e087cec40a890b114cbc7c58c2507b0"><div class="ttname"><a href="structrgw_1_1sal_1_1_bucket_1_1_list_params.html#a2e087cec40a890b114cbc7c58c2507b0">rgw::sal::Bucket::ListParams::marker</a></div><div class="ttdeci">rgw_obj_key marker</div><div class="ttdef"><b>Definition</b> <a href="rgw__sal_8h_source.html#l00570">rgw_sal.h:570</a></div></div>
<div class="ttc" id="astructrgw_1_1sal_1_1_bucket_1_1_list_params_html_a3e5357a4fcc9044dc97ee55896d886ac"><div class="ttname"><a href="structrgw_1_1sal_1_1_bucket_1_1_list_params.html#a3e5357a4fcc9044dc97ee55896d886ac">rgw::sal::Bucket::ListParams::list_versions</a></div><div class="ttdeci">bool list_versions</div><div class="ttdef"><b>Definition</b> <a href="rgw__sal_8h_source.html#l00576">rgw_sal.h:576</a></div></div>
<div class="ttc" id="astructrgw_1_1sal_1_1_bucket_1_1_list_params_html_a6f6d8cc1c26ac1403bfcf8e2227caf75"><div class="ttname"><a href="structrgw_1_1sal_1_1_bucket_1_1_list_params.html#a6f6d8cc1c26ac1403bfcf8e2227caf75">rgw::sal::Bucket::ListParams::delim</a></div><div class="ttdeci">std::string delim</div><div class="ttdef"><b>Definition</b> <a href="rgw__sal_8h_source.html#l00569">rgw_sal.h:569</a></div></div>
<div class="ttc" id="astructrgw_1_1sal_1_1_bucket_1_1_list_params_html_adb0883ba21530e4181ef90c7bfea71d4"><div class="ttname"><a href="structrgw_1_1sal_1_1_bucket_1_1_list_params.html#adb0883ba21530e4181ef90c7bfea71d4">rgw::sal::Bucket::ListParams::prefix</a></div><div class="ttdeci">std::string prefix</div><div class="ttdef"><b>Definition</b> <a href="rgw__sal_8h_source.html#l00568">rgw_sal.h:568</a></div></div>
<div class="ttc" id="astructrgw_1_1sal_1_1_bucket_1_1_list_params_html_aeff439ae8aa6d07d0057122ceca00a10"><div class="ttname"><a href="structrgw_1_1sal_1_1_bucket_1_1_list_params.html#aeff439ae8aa6d07d0057122ceca00a10">rgw::sal::Bucket::ListParams::enforce_ns</a></div><div class="ttdeci">bool enforce_ns</div><div class="ttdef"><b>Definition</b> <a href="rgw__sal_8h_source.html#l00573">rgw_sal.h:573</a></div></div>
<div class="ttc" id="astructrgw_1_1sal_1_1_bucket_1_1_list_results_html"><div class="ttname"><a href="structrgw_1_1sal_1_1_bucket_1_1_list_results.html">rgw::sal::Bucket::ListResults</a></div><div class="ttdoc">Results from a bucket list operation</div><div class="ttdef"><b>Definition</b> <a href="rgw__sal_8h_source.html#l00597">rgw_sal.h:597</a></div></div>
<div class="ttc" id="astructrgw_1_1sal_1_1_bucket_1_1_list_results_html_a5b9a541d2f6fe22f99cbaa279c8d12e4"><div class="ttname"><a href="structrgw_1_1sal_1_1_bucket_1_1_list_results.html#a5b9a541d2f6fe22f99cbaa279c8d12e4">rgw::sal::Bucket::ListResults::is_truncated</a></div><div class="ttdeci">bool is_truncated</div><div class="ttdef"><b>Definition</b> <a href="rgw__sal_8h_source.html#l00600">rgw_sal.h:600</a></div></div>
<div class="ttc" id="astructrgw_1_1sal_1_1_bucket_1_1_list_results_html_ad2d05625f45090ae48961cca1ac235c1"><div class="ttname"><a href="structrgw_1_1sal_1_1_bucket_1_1_list_results.html#ad2d05625f45090ae48961cca1ac235c1">rgw::sal::Bucket::ListResults::objs</a></div><div class="ttdeci">std::vector&lt; rgw_bucket_dir_entry &gt; objs</div><div class="ttdef"><b>Definition</b> <a href="rgw__sal_8h_source.html#l00598">rgw_sal.h:598</a></div></div>
<div class="ttc" id="astructrgw__obj__key_html"><div class="ttname"><a href="structrgw__obj__key.html">rgw_obj_key</a></div><div class="ttdef"><b>Definition</b> <a href="rgw__common_8h_source.html#l01248">rgw_common.h:1248</a></div></div>
</div><!-- fragment --><div class="dynheader">
이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="rgw__admin_8cc_a7987767bde42cfaa2fbc443042879153_cgraph.png" border="0" usemap="#argw__admin_8cc_a7987767bde42cfaa2fbc443042879153_cgraph" alt=""/></div>
<map name="argw__admin_8cc_a7987767bde42cfaa2fbc443042879153_cgraph" id="argw__admin_8cc_a7987767bde42cfaa2fbc443042879153_cgraph">
<area shape="rect" title=" " alt="" coords="5,67,171,93"/>
<area shape="rect" href="rgw__admin_8cc.html#a9936e83962e52b5d34c57a2974e5baf5" title=" " alt="" coords="219,297,416,324"/>
<area shape="poly" title=" " alt="" coords="105,92,294,284,290,288,101,95"/>
<area shape="rect" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5" title=" " alt="" coords="532,37,574,64"/>
<area shape="poly" title=" " alt="" coords="109,64,157,37,218,15,273,5,317,3,416,15,470,24,517,37,516,42,469,30,416,20,317,9,274,10,219,20,159,42,111,68"/>
<area shape="rect" href="rgw__admin_8cc.html#af25b7e0e8221907dbae24af72269d8c7" title=" " alt="" coords="242,29,393,72"/>
<area shape="poly" title=" " alt="" coords="171,67,226,59,227,65,172,72"/>
<area shape="rect" href="rgw__admin_8cc.html#a0023a8779e3ab0d965d9acfb3eb72cac" title=" " alt="" coords="275,96,360,123"/>
<area shape="poly" title=" " alt="" coords="172,88,260,99,260,105,171,93"/>
<area shape="poly" title=" " alt="" coords="323,296,386,180,426,116,462,74,488,60,516,52,517,57,490,65,466,78,430,119,390,182,328,298"/>
<area shape="rect" href="classrgw_1_1sal_1_1_object.html#a0cdac8c36c06ebf81fb580038205487f" title=" " alt="" coords="484,507,622,549"/>
<area shape="poly" title=" " alt="" coords="328,323,379,402,419,450,466,492,472,497,469,501,462,497,415,454,375,405,324,326"/>
<area shape="rect" href="classrgw_1_1sal_1_1_bucket.html#a1e64259203d2710c33c5a979721c19ee" title=" " alt="" coords="469,573,637,600"/>
<area shape="poly" title=" " alt="" coords="325,324,341,369,369,433,410,501,436,532,466,559,472,563,469,568,462,563,432,536,406,504,364,435,336,371,320,325"/>
<area shape="rect" href="classrgw_1_1sal_1_1_object.html#aa6e4eac7bc3684c96e95b184ed54b0b2" title=" " alt="" coords="484,155,622,197"/>
<area shape="poly" title=" " alt="" coords="334,294,390,253,463,207,473,202,476,206,465,212,393,257,337,299"/>
<area shape="rect" href="classrgw_1_1sal_1_1_object.html#af492ef7b108fe3b0045349261ba80c3c" title=" " alt="" coords="470,221,636,248"/>
<area shape="poly" title=" " alt="" coords="356,294,463,257,487,250,488,255,465,262,358,299"/>
<area shape="rect" href="classrgw_1_1sal_1_1_object.html#aa4a801a7e7dfbb29ccf622603dee6ae3" title=" " alt="" coords="464,272,641,299"/>
<area shape="poly" title=" " alt="" coords="416,297,448,294,449,299,417,303"/>
<area shape="rect" href="classrgw_1_1sal_1_1_object.html#a770aa088f13a4a4063055cc423de4478" title=" " alt="" coords="472,323,634,349"/>
<area shape="poly" title=" " alt="" coords="417,319,456,323,456,328,416,324"/>
<area shape="rect" href="rgw__rados_8h.html#a33182a54c89c3d799bd2cc3ed782b3ae" title=" " alt="" coords="484,373,621,416"/>
<area shape="poly" title=" " alt="" coords="358,322,477,365,475,370,356,327"/>
<area shape="rect" href="classrgw_1_1sal_1_1_object.html#a8bec88c51a147ce6260c78b90bab7d7a" title=" " alt="" coords="484,440,622,483"/>
<area shape="poly" title=" " alt="" coords="334,322,389,371,426,400,465,426,474,430,472,435,463,430,423,404,386,376,331,326"/>
<area shape="rect" href="classrgw_1_1sal_1_1_bucket.html#a0fbf4f16a181a9f8d58d1d75fb8dff2d" title=" " alt="" coords="693,272,862,299"/>
<area shape="poly" title=" " alt="" coords="615,319,700,300,701,305,616,325"/>
<area shape="rect" href="structrgw__obj.html#a244794360fcf52da4b630ae69f884c68" title=" " alt="" coords="689,323,866,349"/>
<area shape="poly" title=" " alt="" coords="634,333,674,333,674,339,634,339"/>
<area shape="rect" href="structrgw__obj__key.html#ad86505f9f947bfc3d0324513556967b8" title=" " alt="" coords="706,424,849,451"/>
<area shape="poly" title=" " alt="" coords="622,405,691,418,690,423,621,410"/>
<area shape="rect" href="structrgw__obj.html#a57ac62e4927daebb110dce9ee38b126e" title=" " alt="" coords="720,475,835,501"/>
<area shape="poly" title=" " alt="" coords="619,414,643,426,667,443,691,460,706,467,704,472,688,465,664,448,640,430,616,419"/>
<area shape="rect" href="rgw__rados_8h.html#a7733ec17ee7c8a202fbb85a3a53b01fe" title=" " alt="" coords="697,373,858,400"/>
<area shape="poly" title=" " alt="" coords="622,389,682,387,682,393,622,395"/>
<area shape="rect" href="structrgw__obj__key.html#a682d70974b3d3eee6b3a947f076d7d68" title=" " alt="" coords="914,475,1057,501"/>
<area shape="poly" title=" " alt="" coords="835,485,898,485,898,491,835,491"/>
<area shape="rect" href="structrgw__obj__key.html#ae347a50fe4d173267251406194878326" title=" " alt="" coords="1105,467,1252,509"/>
<area shape="poly" title=" " alt="" coords="1058,485,1089,485,1089,491,1058,491"/>
<area shape="rect" href="structrgw__obj__key.html#aa122de5def8f6275872494398afb82b8" title=" " alt="" coords="1300,445,1484,472"/>
<area shape="poly" title=" " alt="" coords="1252,475,1285,471,1285,476,1253,480"/>
<area shape="rect" href="structrgw__obj__key.html#abbd337f0dc4c9396c885b3bf7e6da7bf" title=" " alt="" coords="1315,496,1469,539"/>
<area shape="poly" title=" " alt="" coords="1253,495,1300,502,1299,507,1252,501"/>
<area shape="poly" title=" " alt="" coords="393,48,516,48,516,53,393,53"/>
<area shape="poly" title=" " alt="" coords="359,96,516,57,517,62,360,101"/>
<area shape="rect" href="classrgw_1_1sal_1_1_store.html#a3308ce50125b19ccdf5ce7f69958bd67" title=" " alt="" coords="487,88,618,131"/>
<area shape="poly" title=" " alt="" coords="360,107,471,107,471,112,360,112"/>
</map>
</div>
<div class="dynheader">
이 함수를 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="rgw__admin_8cc_a7987767bde42cfaa2fbc443042879153_icgraph.png" border="0" usemap="#argw__admin_8cc_a7987767bde42cfaa2fbc443042879153_icgraph" alt=""/></div>
<map name="argw__admin_8cc_a7987767bde42cfaa2fbc443042879153_icgraph" id="argw__admin_8cc_a7987767bde42cfaa2fbc443042879153_icgraph">
<area shape="rect" title=" " alt="" coords="103,5,268,32"/>
<area shape="rect" href="rgw__admin_8cc.html#a217dbf8b442f20279ea00b898af96f52" title=" " alt="" coords="5,5,55,32"/>
<area shape="poly" title=" " alt="" coords="87,21,55,21,55,16,87,16"/>
</map>
</div>

</div>
</div>
<a id="a693377846b7628a32c724cf0200e5a9e" name="a693377846b7628a32c724cf0200e5a9e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a693377846b7628a32c724cf0200e5a9e">&#9670;&#160;</a></span>do_period_pull()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int do_period_pull </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_r_g_w_r_e_s_t_conn.html">RGWRESTConn</a> *&#160;</td>
          <td class="paramname"><em>remote_conn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const string &amp;&#160;</td>
          <td class="paramname"><em>url</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::optional&lt; string &gt;&#160;</td>
          <td class="paramname"><em>opt_region</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const string &amp;&#160;</td>
          <td class="paramname"><em>access_key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const string &amp;&#160;</td>
          <td class="paramname"><em>secret_key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const string &amp;&#160;</td>
          <td class="paramname"><em>realm_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const string &amp;&#160;</td>
          <td class="paramname"><em>realm_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const string &amp;&#160;</td>
          <td class="paramname"><em>period_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const string &amp;&#160;</td>
          <td class="paramname"><em>period_epoch</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_r_g_w_period.html">RGWPeriod</a> *&#160;</td>
          <td class="paramname"><em>period</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition"><a class="el" href="rgw__admin_8cc_source.html">rgw_admin.cc</a> 파일의 <a class="el" href="rgw__admin_8cc_source.html#l02029">2029</a> 번째 라인에서 정의되었습니다.</p>
<div class="fragment"><div class="line"><span class="lineno"> 2035</span>{</div>
<div class="line"><span class="lineno"> 2036</span>  <a class="code hl_class" href="class_r_g_w_env.html">RGWEnv</a> <a class="code hl_variable" href="namespacegtest.html#aa341a0cb52b74c0879a269b35e8f323c">env</a>;</div>
<div class="line"><span class="lineno"> 2037</span>  <a class="code hl_struct" href="structreq__info.html">req_info</a> info(g_ceph_context, &amp;env);</div>
<div class="line"><span class="lineno"> 2038</span>  info.method = <span class="stringliteral">&quot;GET&quot;</span>;</div>
<div class="line"><span class="lineno"> 2039</span>  info.request_uri = <span class="stringliteral">&quot;/admin/realm/period&quot;</span>;</div>
<div class="line"><span class="lineno"> 2040</span> </div>
<div class="line"><span class="lineno"> 2041</span>  map&lt;string, string&gt; &amp;params = info.args.get_params();</div>
<div class="line"><span class="lineno"> 2042</span>  <span class="keywordflow">if</span> (!realm_id.empty())</div>
<div class="line"><span class="lineno"> 2043</span>    params[<span class="stringliteral">&quot;realm_id&quot;</span>] = realm_id;</div>
<div class="line"><span class="lineno"> 2044</span>  <span class="keywordflow">if</span> (!realm_name.empty())</div>
<div class="line"><span class="lineno"> 2045</span>    params[<span class="stringliteral">&quot;realm_name&quot;</span>] = realm_name;</div>
<div class="line"><span class="lineno"> 2046</span>  <span class="keywordflow">if</span> (!period_id.empty())</div>
<div class="line"><span class="lineno"> 2047</span>    params[<span class="stringliteral">&quot;period_id&quot;</span>] = period_id;</div>
<div class="line"><span class="lineno"> 2048</span>  <span class="keywordflow">if</span> (!period_epoch.empty())</div>
<div class="line"><span class="lineno"> 2049</span>    params[<span class="stringliteral">&quot;epoch&quot;</span>] = period_epoch;</div>
<div class="line"><span class="lineno"> 2050</span> </div>
<div class="line"><span class="lineno"> 2051</span>  bufferlist bl;</div>
<div class="line"><span class="lineno"> 2052</span>  JSONParser p;</div>
<div class="line"><span class="lineno"> 2053</span>  <span class="keywordtype">int</span> ret = <a class="code hl_function" href="rgw__admin_8cc.html#aff0d5161d67f7441b3696da1f415130d">send_to_remote_or_url</a>(remote_conn, url, opt_region, access_key, secret_key,</div>
<div class="line"><span class="lineno"> 2054</span>                                  info, bl, p);</div>
<div class="line"><span class="lineno"> 2055</span>  <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno"> 2056</span>    cerr &lt;&lt; <span class="stringliteral">&quot;request failed: &quot;</span> &lt;&lt; cpp_strerror(-ret) &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 2057</span>    <span class="keywordflow">return</span> ret;</div>
<div class="line"><span class="lineno"> 2058</span>  }</div>
<div class="line"><span class="lineno"> 2059</span>  ret = period-&gt;<a class="code hl_function" href="class_r_g_w_period.html#aa5e1b5147ab3f01311c33cc73927d1c2">init</a>(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>(), g_ceph_context, <span class="keyword">static_cast&lt;</span><a class="code hl_class" href="classrgw_1_1sal_1_1_rados_store.html">rgw::sal::RadosStore</a>*<span class="keyword">&gt;</span>(<a class="code hl_variable" href="rgw__admin_8cc.html#a6fdb26d64b14d837b60e83a6ca3e2863">store</a>)-&gt;svc()-&gt;sysobj, null_yield, <span class="keyword">false</span>);</div>
<div class="line"><span class="lineno"> 2060</span>  <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno"> 2061</span>    cerr &lt;&lt; <span class="stringliteral">&quot;faile to init period &quot;</span> &lt;&lt; cpp_strerror(-ret) &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 2062</span>    <span class="keywordflow">return</span> ret;</div>
<div class="line"><span class="lineno"> 2063</span>  }</div>
<div class="line"><span class="lineno"> 2064</span>  <span class="keywordflow">try</span> {</div>
<div class="line"><span class="lineno"> 2065</span>    <a class="code hl_function" href="rgw__basic__types_8cc.html#a83dfe8268c0c76ff6ceaf083ad129d5c">decode_json_obj</a>(*period, &amp;p);</div>
<div class="line"><span class="lineno"> 2066</span>  } <span class="keywordflow">catch</span> (<span class="keyword">const</span> JSONDecoder::err&amp; e) {</div>
<div class="line"><span class="lineno"> 2067</span>    cout &lt;&lt; <span class="stringliteral">&quot;failed to decode JSON input: &quot;</span> &lt;&lt; e.what() &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 2068</span>    <span class="keywordflow">return</span> -EINVAL;</div>
<div class="line"><span class="lineno"> 2069</span>  }</div>
<div class="line"><span class="lineno"> 2070</span>  ret = period-&gt;<a class="code hl_function" href="class_r_g_w_period.html#a9f31f8de41684b5f70a40eedf88385ac">store_info</a>(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>(), <span class="keyword">false</span>, null_yield);</div>
<div class="line"><span class="lineno"> 2071</span>  <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno"> 2072</span>    cerr &lt;&lt; <span class="stringliteral">&quot;Error storing period &quot;</span> &lt;&lt; period-&gt;<a class="code hl_function" href="class_r_g_w_period.html#a2d8588f2db7c5bcf8d79bde99ac341c0">get_id</a>() &lt;&lt; <span class="stringliteral">&quot;: &quot;</span> &lt;&lt; cpp_strerror(ret) &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 2073</span>  }</div>
<div class="line"><span class="lineno"> 2074</span>  <span class="comment">// store latest epoch (ignore errors)</span></div>
<div class="line"><span class="lineno"> 2075</span>  period-&gt;<a class="code hl_function" href="class_r_g_w_period.html#a171e0664b28ddedf9facc578d12c7a9a">update_latest_epoch</a>(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>(), period-&gt;<a class="code hl_function" href="class_r_g_w_period.html#ac82a2f1f3a82dfa1a5023204a28fc4a8">get_epoch</a>(), null_yield);</div>
<div class="line"><span class="lineno"> 2076</span>  <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno"> 2077</span>}</div>
<div class="ttc" id="aclass_r_g_w_period_html_a171e0664b28ddedf9facc578d12c7a9a"><div class="ttname"><a href="class_r_g_w_period.html#a171e0664b28ddedf9facc578d12c7a9a">RGWPeriod::update_latest_epoch</a></div><div class="ttdeci">int update_latest_epoch(const DoutPrefixProvider *dpp, epoch_t epoch, optional_yield y)</div><div class="ttdef"><b>Definition</b> <a href="rgw__zone_8cc_source.html#l01193">rgw_zone.cc:1193</a></div></div>
</div><!-- fragment --><div class="dynheader">
이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="rgw__admin_8cc_a693377846b7628a32c724cf0200e5a9e_cgraph.png" border="0" usemap="#argw__admin_8cc_a693377846b7628a32c724cf0200e5a9e_cgraph" alt=""/></div>
<map name="argw__admin_8cc_a693377846b7628a32c724cf0200e5a9e_cgraph" id="argw__admin_8cc_a693377846b7628a32c724cf0200e5a9e_cgraph">
<area shape="rect" title=" " alt="" coords="5,208,110,235"/>
<area shape="rect" href="rgw__basic__types_8cc.html#a83dfe8268c0c76ff6ceaf083ad129d5c" title=" " alt="" coords="178,5,296,32"/>
<area shape="poly" title=" " alt="" coords="61,206,93,133,120,88,156,49,173,37,176,41,159,53,125,91,98,135,66,208"/>
<area shape="rect" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5" title=" " alt="" coords="1330,1051,1372,1077"/>
<area shape="poly" title=" " alt="" coords="63,206,96,149,123,118,156,92,197,73,233,62,266,57,298,56,366,62,451,67,895,67,994,61,1076,58,1113,63,1149,75,1186,96,1223,130,1246,161,1266,202,1283,252,1298,309,1321,438,1336,580,1346,721,1351,852,1353,1035,1347,1035,1346,852,1341,722,1331,580,1316,439,1293,310,1278,254,1261,204,1241,164,1219,134,1183,101,1147,79,1112,68,1075,63,994,67,895,72,451,72,366,67,298,61,267,62,234,67,199,78,159,97,127,121,100,152,67,209"/>
<area shape="rect" href="class_r_g_w_period.html#ac82a2f1f3a82dfa1a5023204a28fc4a8" title=" " alt="" coords="158,107,316,133"/>
<area shape="poly" title=" " alt="" coords="71,206,108,175,156,143,169,137,171,142,159,148,112,179,75,210"/>
<area shape="rect" href="class_r_g_w_period.html#a2d8588f2db7c5bcf8d79bde99ac341c0" title=" " alt="" coords="170,157,304,184"/>
<area shape="poly" title=" " alt="" coords="107,205,172,186,173,191,108,210"/>
<area shape="rect" href="class_r_g_w_h_t_t_p_args.html#a729609e097911215b7fdedb776dcb8e9" title=" " alt="" coords="1033,183,1221,209"/>
<area shape="poly" title=" " alt="" coords="110,217,1017,196,1018,201,110,223"/>
<area shape="rect" href="class_r_g_w_period.html#aa5e1b5147ab3f01311c33cc73927d1c2" title=" " alt="" coords="179,259,295,285"/>
<area shape="poly" title=" " alt="" coords="108,233,173,251,172,257,107,238"/>
<area shape="rect" href="rgw__admin_8cc.html#aff0d5161d67f7441b3696da1f415130d" title=" " alt="" coords="160,431,314,457"/>
<area shape="poly" title=" " alt="" coords="72,234,217,417,213,420,68,237"/>
<area shape="rect" href="class_r_g_w_period.html#a9f31f8de41684b5f70a40eedf88385ac" title=" " alt="" coords="594,1320,749,1347"/>
<area shape="poly" title=" " alt="" coords="66,234,102,333,160,468,227,599,299,729,445,977,572,1179,655,1305,650,1308,567,1182,440,979,294,732,222,601,155,470,97,335,61,236"/>
<area shape="rect" href="class_r_g_w_period.html#a171e0664b28ddedf9facc578d12c7a9a" title=" " alt="" coords="364,1265,540,1308"/>
<area shape="poly" title=" " alt="" coords="62,235,71,367,89,582,102,697,119,805,138,897,160,964,185,1011,215,1055,283,1137,352,1204,411,1253,408,1258,349,1208,279,1140,211,1058,180,1013,155,966,133,899,113,806,97,698,84,582,65,368,57,235"/>
<area shape="rect" href="structrgw__user.html#a7e60b2dd070ae3af5cebb6c34946bac6" title=" " alt="" coords="388,5,516,32"/>
<area shape="poly" title=" " alt="" coords="296,16,372,16,372,21,296,21"/>
<area shape="rect" href="rgw__admin_8cc.html#a39feaf6aae4a9a011ca6ccd89d1ee44c" title=" " alt="" coords="368,772,537,799"/>
<area shape="poly" title=" " alt="" coords="249,456,436,757,432,760,245,459"/>
<area shape="rect" href="rgw__admin_8cc.html#ab91eb7d099ca1e0e21208450550a3a1a" title=" " alt="" coords="627,431,716,457"/>
<area shape="poly" title=" " alt="" coords="314,441,612,441,612,447,314,447"/>
<area shape="poly" title=" " alt="" coords="480,797,569,842,703,904,864,968,949,995,1034,1017,1190,1044,1315,1058,1314,1064,1189,1050,1032,1023,947,1000,862,973,701,909,566,847,478,802"/>
<area shape="rect" href="class_r_g_w_r_e_s_t_conn.html#a019e97bf205f671fdb89bd47035e316e" title=" " alt="" coords="588,772,755,799"/>
<area shape="poly" title=" " alt="" coords="537,783,572,783,572,788,537,788"/>
<area shape="poly" title=" " alt="" coords="701,797,804,850,917,908,1034,960,1127,991,1222,1017,1316,1049,1314,1054,1221,1023,1126,996,1032,965,915,913,801,854,698,802"/>
<area shape="rect" href="class_r_g_w_r_e_s_t_simple_request.html#a43e23db9f68aacc27ba84640527f9613" title=" " alt="" coords="806,545,982,588"/>
<area shape="poly" title=" " alt="" coords="685,770,858,597,862,601,688,774"/>
<area shape="rect" href="class_r_g_w_r_e_s_t_conn.html#ac833f895cae6760d02b776c2a597f02d" title=" " alt="" coords="812,813,976,840"/>
<area shape="poly" title=" " alt="" coords="748,797,804,807,803,813,747,802"/>
<area shape="rect" href="class_r_g_w_r_e_s_t_conn.html#a919ee8e18b3c046e8b64029ab3427130" title=" " alt="" coords="807,723,981,765"/>
<area shape="poly" title=" " alt="" coords="747,769,791,760,792,766,748,774"/>
<area shape="poly" title=" " alt="" coords="912,587,987,709,1000,739,1006,764,1015,786,1035,809,1059,824,1081,832,1126,835,1172,837,1197,844,1223,859,1266,900,1300,948,1325,995,1342,1035,1337,1037,1320,998,1295,951,1261,903,1220,863,1195,849,1171,842,1126,840,1080,837,1056,829,1031,813,1011,789,1001,766,995,741,983,712,908,590"/>
<area shape="poly" title=" " alt="" coords="895,544,905,480,928,393,945,346,968,300,997,257,1031,219,1036,216,1039,220,1035,223,1001,260,973,302,950,348,933,395,910,482,900,545"/>
<area shape="rect" href="class_r_g_w_h_t_t_p_args.html#a3c756f3dc1fade13e84def6431e9baa6" title=" " alt="" coords="1046,284,1208,311"/>
<area shape="poly" title=" " alt="" coords="899,544,915,497,941,437,980,374,1004,346,1031,321,1038,316,1041,320,1035,325,1008,349,984,377,946,439,920,499,904,546"/>
<area shape="rect" href="class_r_g_w_env.html#ade7d5d23b881eabbb09bce4ac164ea08" title=" " alt="" coords="1077,335,1177,361"/>
<area shape="poly" title=" " alt="" coords="902,544,921,506,949,460,986,412,1032,371,1061,357,1063,362,1034,376,990,415,954,463,926,509,907,546"/>
<area shape="rect" href="class_r_g_w_env.html#a602b05b4518e49e23e4ecb22dbebbcaa" title=" " alt="" coords="1061,385,1193,412"/>
<area shape="poly" title=" " alt="" coords="908,543,958,483,993,450,1032,422,1045,415,1048,420,1034,426,996,454,962,486,912,546"/>
<area shape="rect" href="rgw__rest__client_8cc.html#a528dc6567d9311b0fa7102c1710b26a9" title=" " alt="" coords="1066,436,1189,463"/>
<area shape="poly" title=" " alt="" coords="921,543,971,507,1032,472,1050,465,1052,470,1034,477,973,511,924,547"/>
<area shape="rect" href="class_r_g_w_h_t_t_p_simple_request.html#a657608df376311bf98d098603db64831" title=" " alt="" coords="1041,487,1214,529"/>
<area shape="poly" title=" " alt="" coords="980,542,1025,531,1026,536,982,547"/>
<area shape="rect" href="class_r_g_w_h_t_t_p_client.html#a38de0b9ceefce30a6003b12d562e425d" title=" " alt="" coords="1041,553,1213,580"/>
<area shape="poly" title=" " alt="" coords="982,564,1025,564,1025,569,982,569"/>
<area shape="rect" href="structreq__info.html#a6655a124cd5bc4bb210c52bfe6ed30e6" title=" " alt="" coords="1055,604,1199,631"/>
<area shape="poly" title=" " alt="" coords="982,583,1048,597,1047,603,981,588"/>
<area shape="rect" href="class_r_g_w_h_t_t_p_args.html#ae099fc9f33cbd09b0cbe74e3301ad3a4" title=" " alt="" coords="1047,655,1208,681"/>
<area shape="poly" title=" " alt="" coords="930,586,979,614,1034,640,1053,647,1051,652,1032,645,976,619,928,591"/>
<area shape="rect" href="rgw__rest__client_8cc.html#a5c1f12de9449f4d7d2c20237525a3592" title=" " alt="" coords="1052,873,1203,900"/>
<area shape="poly" title=" " alt="" coords="913,587,949,641,987,710,1001,752,1005,787,1012,820,1021,836,1035,853,1049,864,1045,868,1031,857,1016,839,1007,821,999,788,995,753,983,712,945,644,909,590"/>
<area shape="rect" href="class_r_g_w_env.html#a9cf6eca7c7e7fd76595f6f3039fe393d" title=" " alt="" coords="1077,705,1177,732"/>
<area shape="poly" title=" " alt="" coords="915,587,965,639,998,667,1034,691,1063,703,1061,708,1032,696,995,671,962,643,911,590"/>
<area shape="rect" href="class_r_g_w_h_t_t_p_client.html#a340f32b14fc826866fe476175ceb2ed8" title=" " alt="" coords="1055,756,1199,799"/>
<area shape="poly" title=" " alt="" coords="909,587,957,662,993,705,1035,742,1043,747,1040,752,1031,746,989,709,953,666,904,590"/>
<area shape="rect" href="rgw__rest__client_8cc.html#a7d43c3c069186769b04eb5e846b2ba65" title=" " alt="" coords="1080,924,1175,951"/>
<area shape="poly" title=" " alt="" coords="914,587,951,641,987,710,997,740,1001,768,1001,818,1002,841,1006,864,1016,886,1035,910,1049,921,1066,928,1064,933,1046,925,1031,914,1012,889,1001,865,996,842,996,818,996,769,992,742,983,712,946,644,910,590"/>
<area shape="rect" href="rgw__common_8cc.html#affdd013cb068d033d4287181693e4aba" title=" " alt="" coords="1085,233,1169,260"/>
<area shape="poly" title=" " alt="" coords="896,544,909,489,934,415,952,375,974,337,1000,301,1031,270,1049,259,1069,251,1071,256,1052,263,1035,274,1004,305,979,340,957,378,939,417,914,490,902,545"/>
<area shape="poly" title=" " alt="" coords="1199,898,1223,910,1259,938,1291,972,1336,1036,1332,1039,1287,976,1256,942,1220,914,1197,903"/>
<area shape="poly" title=" " alt="" coords="1176,948,1223,967,1278,1002,1324,1038,1321,1042,1275,1007,1220,972,1174,953"/>
<area shape="poly" title=" " alt="" coords="856,814,850,805,854,795,869,789,894,787,920,789,934,796,932,800,919,794,894,792,870,794,858,799,855,804,861,811"/>
<area shape="poly" title=" " alt="" coords="682,428,765,334,830,271,904,211,944,184,985,161,1026,143,1068,131,1108,126,1148,130,1187,144,1223,169,1247,196,1268,234,1286,281,1301,334,1324,458,1340,593,1349,730,1353,857,1353,1035,1348,1035,1347,857,1343,730,1334,594,1319,458,1296,335,1281,282,1263,236,1243,199,1220,173,1184,149,1147,136,1108,132,1069,136,1028,148,987,165,947,188,908,215,833,275,769,338,686,432"/>
<area shape="poly" title=" " alt="" coords="699,456,841,535,839,540,696,460"/>
<area shape="poly" title=" " alt="" coords="677,1318,693,1285,720,1243,756,1199,778,1179,801,1163,859,1135,910,1120,958,1115,1005,1115,1102,1119,1157,1116,1221,1105,1315,1075,1316,1080,1222,1111,1158,1122,1102,1125,1004,1120,959,1120,911,1125,861,1140,804,1168,781,1183,760,1202,724,1246,698,1288,681,1321"/>
<area shape="rect" href="class_r_g_w_period.html#a789657c727994fc695ddf1248f678eac" title=" " alt="" coords="824,1412,964,1439"/>
<area shape="poly" title=" " alt="" coords="697,1345,746,1371,804,1398,823,1404,821,1409,802,1402,743,1376,695,1349"/>
<area shape="rect" href="class_r_g_w_s_i___sys_obj.html#a07a9aa07a04694c3df0dcefd1c84e12f" title=" " alt="" coords="811,1631,977,1657"/>
<area shape="poly" title=" " alt="" coords="685,1346,805,1516,876,1617,872,1620,800,1519,680,1349"/>
<area shape="rect" href="class_r_g_w_period.html#a943fab10b91bbb99abcd31dab3937e1b" title=" " alt="" coords="803,1177,985,1204"/>
<area shape="poly" title=" " alt="" coords="682,1318,730,1267,764,1238,801,1214,814,1208,816,1212,804,1218,767,1243,734,1271,686,1321"/>
<area shape="rect" href="class_r_g_w_period.html#a200f98de2cfdd95c627aa8eb165fc74c" title=" " alt="" coords="820,1681,968,1708"/>
<area shape="poly" title=" " alt="" coords="687,1345,722,1390,757,1450,768,1483,772,1513,771,1567,771,1592,775,1617,785,1642,805,1668,809,1672,805,1675,801,1671,780,1644,769,1618,765,1593,765,1567,767,1513,763,1484,752,1452,718,1393,683,1349"/>
<area shape="rect" href="class_r_g_w_s_i___sys_obj.html#a42dbd3046b9d94873446090556f05e63" title=" " alt="" coords="824,1463,964,1505"/>
<area shape="poly" title=" " alt="" coords="687,1345,735,1395,768,1423,804,1448,813,1453,810,1458,801,1453,765,1427,732,1399,683,1349"/>
<area shape="rect" href="struct_r_g_w_s_i___sys_obj_1_1_obj_1_1_w_op.html#ad7644cb1049482b88dbb298a5183fd36" title=" " alt="" coords="818,1345,970,1388"/>
<area shape="poly" title=" " alt="" coords="749,1342,803,1350,802,1356,749,1348"/>
<area shape="rect" href="class_r_g_w_s_i___sys_obj_1_1_obj.html#a0ddd19bd81a0df0b260bfddc8f49796d" title=" " alt="" coords="807,1228,981,1255"/>
<area shape="poly" title=" " alt="" coords="695,1317,743,1291,802,1264,821,1257,823,1262,804,1269,746,1296,697,1322"/>
<area shape="rect" href="struct_r_g_w_s_i___sys_obj_1_1_obj_1_1_w_op.html#a13c75344c42af6a581c66ead1a294e21" title=" " alt="" coords="818,1279,970,1321"/>
<area shape="poly" title=" " alt="" coords="749,1319,802,1311,803,1316,749,1324"/>
<area shape="rect" href="rgw__log__backing_8h.html#adc91400029fb575818b2a0ccf89e7928" title=" " alt="" coords="1096,1412,1159,1439"/>
<area shape="poly" title=" " alt="" coords="964,1423,1080,1423,1080,1428,964,1428"/>
<area shape="rect" href="rgw__admin_8cc.html#a313adbe2d817ca90ee002626049cdacf" title=" " alt="" coords="1081,1988,1173,2015"/>
<area shape="poly" title=" " alt="" coords="966,1434,987,1449,1121,1972,1116,1974,983,1452,963,1439"/>
<area shape="poly" title=" " alt="" coords="1093,1416,1083,1405,1086,1395,1101,1388,1127,1385,1160,1390,1169,1395,1172,1401,1167,1403,1165,1399,1158,1395,1127,1391,1102,1393,1090,1398,1088,1404,1097,1412"/>
<area shape="rect" href="class_r_g_w_s_i___zone.html#a73caac1a5db730b5558f5cee51fb892e" title=" " alt="" coords="1269,1988,1433,2015"/>
<area shape="poly" title=" " alt="" coords="1174,1999,1254,1999,1254,2004,1174,2004"/>
<area shape="rect" href="class_r_g_w_period.html#a5f7bac16318e05835a36c4279e6ff18f" title=" " alt="" coords="1048,1580,1206,1623"/>
<area shape="poly" title=" " alt="" coords="972,1202,987,1214,1009,1243,1020,1271,1024,1298,1024,1326,1022,1383,1025,1415,1035,1450,1067,1513,1102,1566,1098,1569,1063,1515,1031,1452,1020,1416,1016,1383,1019,1325,1019,1299,1015,1272,1004,1246,983,1218,968,1207"/>
<area shape="rect" href="class_r_g_w_period.html#abc1527dee0d6211fc4caeabf0af3a46a" title=" " alt="" coords="1036,1177,1218,1204"/>
<area shape="poly" title=" " alt="" coords="985,1188,1020,1188,1020,1193,985,1193"/>
<area shape="poly" title=" " alt="" coords="969,1279,1126,1240,1220,1214,1256,1186,1287,1153,1332,1089,1336,1092,1291,1156,1259,1190,1223,1218,1127,1246,971,1285"/>
<area shape="rect" href="class_r_g_w_s_i___sys_obj___core.html#a0e6298c062030875a0f981081029c080" title=" " alt="" coords="1049,1279,1206,1321"/>
<area shape="poly" title=" " alt="" coords="970,1297,1033,1297,1033,1303,970,1303"/>
<area shape="poly" title=" " alt="" coords="1191,1276,1220,1258,1259,1218,1291,1172,1317,1128,1335,1091,1340,1093,1322,1130,1296,1175,1263,1221,1223,1262,1194,1280"/>
<area shape="poly" title=" " alt="" coords="488,1262,622,1190,710,1150,802,1119,874,1101,949,1088,1095,1070,1223,1063,1314,1061,1314,1066,1223,1068,1096,1075,950,1093,875,1106,803,1124,712,1155,625,1194,490,1267"/>
<area shape="rect" href="class_r_g_w_period.html#a0bb4affb3673a6086cd2d6b2de0d0ca7" title=" " alt="" coords="590,1761,753,1804"/>
<area shape="poly" title=" " alt="" coords="466,1308,657,1746,652,1748,461,1310"/>
<area shape="rect" href="class_r_g_w_period.html#aad876e2bf1fe7bd5c326dca3e5d06167" title=" " alt="" coords="594,1463,749,1505"/>
<area shape="poly" title=" " alt="" coords="479,1307,637,1450,633,1454,476,1311"/>
<area shape="poly" title=" " alt="" coords="734,1802,789,1816,852,1826,919,1828,952,1823,984,1815,1064,1784,1122,1750,1146,1728,1170,1703,1219,1633,1258,1562,1288,1485,1310,1406,1326,1328,1343,1189,1347,1093,1353,1093,1348,1189,1331,1329,1315,1407,1293,1487,1262,1564,1224,1636,1174,1706,1150,1732,1125,1754,1066,1789,986,1820,953,1828,920,1833,852,1832,788,1822,733,1807"/>
<area shape="poly" title=" " alt="" coords="690,1759,738,1713,768,1688,801,1667,814,1661,816,1666,804,1672,771,1692,741,1717,694,1763"/>
<area shape="poly" title=" " alt="" coords="753,1800,807,1808,866,1810,927,1803,956,1796,984,1784,1026,1754,1062,1715,1089,1673,1109,1636,1113,1638,1094,1676,1066,1718,1030,1758,986,1789,958,1801,928,1809,867,1816,807,1813,753,1806"/>
<area shape="poly" title=" " alt="" coords="712,1758,802,1718,822,1710,824,1715,804,1722,715,1763"/>
<area shape="poly" title=" " alt="" coords="687,1759,865,1517,870,1520,691,1762"/>
<area shape="rect" href="class_r_g_w_period.html#a1b78df2d42f8148b6d94e9787cc55b0f" title=" " alt="" coords="824,2017,964,2044"/>
<area shape="poly" title=" " alt="" coords="682,1804,697,1846,723,1900,758,1956,780,1981,804,2003,811,2008,808,2013,801,2007,776,1985,754,1959,718,1903,692,1848,677,1805"/>
<area shape="rect" href="class_r_g_w_period.html#a62fe41ce53c888e3622bb7c726c4ad41" title=" " alt="" coords="816,1732,972,1775"/>
<area shape="poly" title=" " alt="" coords="752,1769,800,1763,801,1768,753,1775"/>
<area shape="rect" href="struct_r_g_w_s_i___sys_obj_1_1_obj_1_1_r_op.html#a55890f78a9ed31e3ae4e5f22e84f9cbf" title=" " alt="" coords="818,1900,970,1943"/>
<area shape="poly" title=" " alt="" coords="700,1802,747,1840,804,1879,826,1891,823,1895,801,1884,744,1844,696,1807"/>
<area shape="rect" href="class_r_g_w_s_i___sys_obj_1_1_obj.html#a4cb9ed748128c5e25d73056b4bc11bc5" title=" " alt="" coords="809,1967,979,1993"/>
<area shape="poly" title=" " alt="" coords="685,1803,704,1836,730,1877,764,1918,804,1953,812,1957,809,1962,801,1957,760,1921,726,1880,699,1839,681,1806"/>
<area shape="poly" title=" " alt="" coords="964,2019,1065,2006,1066,2012,965,2025"/>
<area shape="poly" title=" " alt="" coords="970,1933,1031,1937,1098,1933,1132,1926,1164,1915,1193,1900,1219,1879,1240,1854,1258,1820,1274,1777,1288,1729,1310,1617,1326,1495,1336,1371,1343,1256,1347,1093,1352,1093,1348,1257,1342,1371,1331,1495,1315,1618,1293,1730,1279,1779,1263,1822,1244,1857,1223,1883,1196,1905,1166,1920,1133,1931,1099,1938,1031,1942,970,1938"/>
<area shape="poly" title=" " alt="" coords="748,1503,853,1524,915,1531,980,1533,1046,1527,1109,1512,1168,1487,1195,1470,1219,1449,1254,1408,1282,1362,1304,1312,1320,1260,1339,1165,1346,1093,1352,1093,1345,1165,1325,1262,1309,1313,1287,1364,1259,1411,1223,1453,1198,1474,1170,1492,1111,1517,1047,1532,981,1538,915,1536,852,1530,747,1509"/>
<area shape="poly" title=" " alt="" coords="749,1461,825,1441,826,1446,750,1466"/>
<area shape="poly" title=" " alt="" coords="692,1504,739,1557,770,1585,804,1610,828,1622,826,1627,801,1614,767,1589,735,1560,688,1508"/>
<area shape="poly" title=" " alt="" coords="703,1504,749,1533,804,1559,861,1575,921,1586,1033,1597,1032,1603,921,1592,860,1580,802,1564,746,1538,700,1508"/>
<area shape="poly" title=" " alt="" coords="685,1505,702,1541,728,1585,763,1629,804,1667,812,1672,809,1676,801,1671,759,1633,724,1588,698,1543,680,1507"/>
<area shape="poly" title=" " alt="" coords="750,1481,808,1481,808,1487,750,1487"/>
<area shape="poly" title=" " alt="" coords="701,1460,747,1429,801,1398,813,1392,815,1397,804,1402,750,1433,704,1464"/>
<area shape="poly" title=" " alt="" coords="686,1461,752,1357,764,1331,771,1308,781,1286,801,1265,807,1260,810,1265,804,1269,786,1289,776,1310,769,1333,757,1360,690,1464"/>
<area shape="poly" title=" " alt="" coords="684,1461,731,1398,764,1362,801,1331,808,1327,811,1331,804,1335,767,1366,735,1401,688,1464"/>
<area shape="poly" title=" " alt="" coords="682,1505,697,1549,722,1606,758,1666,780,1694,804,1718,808,1721,805,1725,801,1722,776,1697,754,1669,718,1609,692,1551,677,1507"/>
</map>
</div>
<div class="dynheader">
이 함수를 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="rgw__admin_8cc_a693377846b7628a32c724cf0200e5a9e_icgraph.png" border="0" usemap="#argw__admin_8cc_a693377846b7628a32c724cf0200e5a9e_icgraph" alt=""/></div>
<map name="argw__admin_8cc_a693377846b7628a32c724cf0200e5a9e_icgraph" id="argw__admin_8cc_a693377846b7628a32c724cf0200e5a9e_icgraph">
<area shape="rect" title=" " alt="" coords="103,5,207,32"/>
<area shape="rect" href="rgw__admin_8cc.html#a217dbf8b442f20279ea00b898af96f52" title=" " alt="" coords="5,5,55,32"/>
<area shape="poly" title=" " alt="" coords="87,21,55,21,55,16,87,16"/>
</map>
</div>

</div>
</div>
<a id="afe3e74bcdf0327f8777c02b83cfea5b5" name="afe3e74bcdf0327f8777c02b83cfea5b5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afe3e74bcdf0327f8777c02b83cfea5b5">&#9670;&#160;</a></span>dpp()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static const DoutPrefixProvider * dpp </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition"><a class="el" href="rgw__admin_8cc_source.html">rgw_admin.cc</a> 파일의 <a class="el" href="rgw__admin_8cc_source.html#l00081">81</a> 번째 라인에서 정의되었습니다.</p>
<div class="fragment"><div class="line"><span class="lineno">   81</span>                                       {</div>
<div class="line"><span class="lineno">   82</span>  <span class="keyword">struct </span>GlobalPrefix : <span class="keyword">public</span> DoutPrefixProvider {</div>
<div class="line"><span class="lineno">   83</span>    CephContext *get_cct()<span class="keyword"> const override </span>{ <span class="keywordflow">return</span> <a class="code hl_define" href="rgw__admin_8cc.html#ac9f1b8ed4aca7999d392b2d432030e30">dout_context</a>; }</div>
<div class="line"><span class="lineno">   84</span>    <span class="keywordtype">unsigned</span> get_subsys()<span class="keyword"> const override </span>{ <span class="keywordflow">return</span> <a class="code hl_define" href="librgw_8cc.html#a5580a2b7c4743669bb9ca22b07e84324">dout_subsys</a>; }</div>
<div class="line"><span class="lineno">   85</span>    std::ostream&amp; gen_prefix(std::ostream&amp; out)<span class="keyword"> const override </span>{ <span class="keywordflow">return</span> out; }</div>
<div class="line"><span class="lineno">   86</span>  };</div>
<div class="line"><span class="lineno">   87</span>  <span class="keyword">static</span> GlobalPrefix global_dpp;</div>
<div class="line"><span class="lineno">   88</span>  <span class="keywordflow">return</span> &amp;global_dpp;</div>
<div class="line"><span class="lineno">   89</span>}</div>
<div class="ttc" id="alibrgw_8cc_html_a5580a2b7c4743669bb9ca22b07e84324"><div class="ttname"><a href="librgw_8cc.html#a5580a2b7c4743669bb9ca22b07e84324">dout_subsys</a></div><div class="ttdeci">#define dout_subsys</div><div class="ttdef"><b>Definition</b> <a href="librgw_8cc_source.html#l00070">librgw.cc:70</a></div></div>
<div class="ttc" id="argw__admin_8cc_html_ac9f1b8ed4aca7999d392b2d432030e30"><div class="ttname"><a href="rgw__admin_8cc.html#ac9f1b8ed4aca7999d392b2d432030e30">dout_context</a></div><div class="ttdeci">#define dout_context</div><div class="ttdef"><b>Definition</b> <a href="rgw__admin_8cc_source.html#l00071">rgw_admin.cc:71</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="adf88159b68ac947541b8254fb49122ac" name="adf88159b68ac947541b8254fb49122ac"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adf88159b68ac947541b8254fb49122ac">&#9670;&#160;</a></span>dump_bi_entry()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void dump_bi_entry </td>
          <td>(</td>
          <td class="paramtype">bufferlist &amp;&#160;</td>
          <td class="paramname"><em>bl</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">BIIndexType&#160;</td>
          <td class="paramname"><em>index_type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Formatter *&#160;</td>
          <td class="paramname"><em>formatter</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition"><a class="el" href="rgw__admin_8cc_source.html">rgw_admin.cc</a> 파일의 <a class="el" href="rgw__admin_8cc_source.html#l01076">1076</a> 번째 라인에서 정의되었습니다.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1077</span>{</div>
<div class="line"><span class="lineno"> 1078</span>  <span class="keyword">auto</span> iter = bl.cbegin();</div>
<div class="line"><span class="lineno"> 1079</span>  <span class="keywordflow">switch</span> (index_type) {</div>
<div class="line"><span class="lineno"> 1080</span>    <span class="keywordflow">case</span> BIIndexType::Plain:</div>
<div class="line"><span class="lineno"> 1081</span>    <span class="keywordflow">case</span> BIIndexType::Instance:</div>
<div class="line"><span class="lineno"> 1082</span>      {</div>
<div class="line"><span class="lineno"> 1083</span>        rgw_bucket_dir_entry entry;</div>
<div class="line"><span class="lineno"> 1084</span>        <a class="code hl_function" href="rgw__log__backing_8h.html#adc46efdde31cf790f3b383cb9e6f198e">decode</a>(entry, iter);</div>
<div class="line"><span class="lineno"> 1085</span>        <a class="code hl_function" href="rgw__admin_8cc.html#ab596b9e1a1fc78e98a4d13a66578b658">encode_json</a>(<span class="stringliteral">&quot;entry&quot;</span>, entry, formatter);</div>
<div class="line"><span class="lineno"> 1086</span>      }</div>
<div class="line"><span class="lineno"> 1087</span>      <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1088</span>    <span class="keywordflow">case</span> BIIndexType::OLH:</div>
<div class="line"><span class="lineno"> 1089</span>      {</div>
<div class="line"><span class="lineno"> 1090</span>        rgw_bucket_olh_entry entry;</div>
<div class="line"><span class="lineno"> 1091</span>        <a class="code hl_function" href="rgw__log__backing_8h.html#adc46efdde31cf790f3b383cb9e6f198e">decode</a>(entry, iter);</div>
<div class="line"><span class="lineno"> 1092</span>        <a class="code hl_function" href="rgw__admin_8cc.html#ab596b9e1a1fc78e98a4d13a66578b658">encode_json</a>(<span class="stringliteral">&quot;entry&quot;</span>, entry, formatter);</div>
<div class="line"><span class="lineno"> 1093</span>      }</div>
<div class="line"><span class="lineno"> 1094</span>      <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1095</span>    <span class="keywordflow">default</span>:</div>
<div class="line"><span class="lineno"> 1096</span>      ceph_abort();</div>
<div class="line"><span class="lineno"> 1097</span>      <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1098</span>  }</div>
<div class="line"><span class="lineno"> 1099</span>}</div>
</div><!-- fragment --><div class="dynheader">
이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="rgw__admin_8cc_adf88159b68ac947541b8254fb49122ac_cgraph.png" border="0" usemap="#argw__admin_8cc_adf88159b68ac947541b8254fb49122ac_cgraph" alt=""/></div>
<map name="argw__admin_8cc_adf88159b68ac947541b8254fb49122ac_cgraph" id="argw__admin_8cc_adf88159b68ac947541b8254fb49122ac_cgraph">
<area shape="rect" title=" " alt="" coords="5,67,112,93"/>
<area shape="rect" href="rgw__log__backing_8h.html#adc46efdde31cf790f3b383cb9e6f198e" title=" " alt="" coords="175,29,239,56"/>
<area shape="poly" title=" " alt="" coords="111,64,160,52,161,57,113,69"/>
<area shape="rect" href="rgw__admin_8cc.html#ab596b9e1a1fc78e98a4d13a66578b658" title=" " alt="" coords="160,104,254,131"/>
<area shape="poly" title=" " alt="" coords="113,91,145,99,144,104,111,96"/>
<area shape="poly" title=" " alt="" coords="181,30,176,21,180,11,190,5,207,3,225,5,235,12,232,16,223,10,207,8,192,10,184,14,182,20,186,28"/>
<area shape="poly" title=" " alt="" coords="181,105,176,95,180,86,190,80,207,77,225,80,235,87,232,91,223,85,207,83,192,85,184,89,182,95,186,102"/>
</map>
</div>

</div>
</div>
<a id="af867f986d76240a18da3b037d41d742c" name="af867f986d76240a18da3b037d41d742c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af867f986d76240a18da3b037d41d742c">&#9670;&#160;</a></span>dump_string()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool dump_string </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>field_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bufferlist &amp;&#160;</td>
          <td class="paramname"><em>bl</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Formatter *&#160;</td>
          <td class="paramname"><em>f</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition"><a class="el" href="rgw__admin_8cc_source.html">rgw_admin.cc</a> 파일의 <a class="el" href="rgw__admin_8cc_source.html#l01290">1290</a> 번째 라인에서 정의되었습니다.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1291</span>{</div>
<div class="line"><span class="lineno"> 1292</span>  <span class="keywordtype">string</span> val = bl.to_str();</div>
<div class="line"><span class="lineno"> 1293</span>  f-&gt;dump_string(field_name, val.c_str() <span class="comment">/* hide encoded null termination chars */</span>);</div>
<div class="line"><span class="lineno"> 1294</span> </div>
<div class="line"><span class="lineno"> 1295</span>  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 1296</span>}</div>
</div><!-- fragment --><div class="dynheader">
이 함수를 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="rgw__admin_8cc_af867f986d76240a18da3b037d41d742c_icgraph.png" border="0" usemap="#argw__admin_8cc_af867f986d76240a18da3b037d41d742c_icgraph" alt=""/></div>
<map name="argw__admin_8cc_af867f986d76240a18da3b037d41d742c_icgraph" id="argw__admin_8cc_af867f986d76240a18da3b037d41d742c_icgraph">
<area shape="rect" title=" " alt="" coords="103,5,195,32"/>
<area shape="rect" href="rgw__admin_8cc.html#a217dbf8b442f20279ea00b898af96f52" title=" " alt="" coords="5,5,55,32"/>
<area shape="poly" title=" " alt="" coords="87,21,55,21,55,16,87,16"/>
</map>
</div>

</div>
</div>
<a id="a7768f24487752988851b23b71c20024f" name="a7768f24487752988851b23b71c20024f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7768f24487752988851b23b71c20024f">&#9670;&#160;</a></span>empty_opt()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool empty_opt </td>
          <td>(</td>
          <td class="paramtype">std::optional&lt; string &gt; &amp;&#160;</td>
          <td class="paramname"><em>os</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition"><a class="el" href="rgw__admin_8cc_source.html">rgw_admin.cc</a> 파일의 <a class="el" href="rgw__admin_8cc_source.html#l03351">3351</a> 번째 라인에서 정의되었습니다.</p>
<div class="fragment"><div class="line"><span class="lineno"> 3352</span>{</div>
<div class="line"><span class="lineno"> 3353</span>  <span class="keywordflow">return</span> (!os || os-&gt;empty());</div>
<div class="line"><span class="lineno"> 3354</span>}</div>
</div><!-- fragment --><div class="dynheader">
이 함수를 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="rgw__admin_8cc_a7768f24487752988851b23b71c20024f_icgraph.png" border="0" usemap="#argw__admin_8cc_a7768f24487752988851b23b71c20024f_icgraph" alt=""/></div>
<map name="argw__admin_8cc_a7768f24487752988851b23b71c20024f_icgraph" id="argw__admin_8cc_a7768f24487752988851b23b71c20024f_icgraph">
<area shape="rect" title=" " alt="" coords="103,5,185,32"/>
<area shape="rect" href="rgw__admin_8cc.html#a217dbf8b442f20279ea00b898af96f52" title=" " alt="" coords="5,5,55,32"/>
<area shape="poly" title=" " alt="" coords="87,21,55,21,55,16,87,16"/>
</map>
</div>

</div>
</div>
<a id="ab596b9e1a1fc78e98a4d13a66578b658" name="ab596b9e1a1fc78e98a4d13a66578b658"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab596b9e1a1fc78e98a4d13a66578b658">&#9670;&#160;</a></span>encode_json()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void encode_json </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="struct_r_g_w_bucket_sync_flow_manager_1_1pipe__set.html">RGWBucketSyncFlowManager::pipe_set</a> &amp;&#160;</td>
          <td class="paramname"><em>pset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Formatter *&#160;</td>
          <td class="paramname"><em>f</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition"><a class="el" href="rgw__admin_8cc_source.html">rgw_admin.cc</a> 파일의 <a class="el" href="rgw__admin_8cc_source.html#l02560">2560</a> 번째 라인에서 정의되었습니다.</p>
<div class="fragment"><div class="line"><span class="lineno"> 2561</span>{</div>
<div class="line"><span class="lineno"> 2562</span>  Formatter::ObjectSection top_section(*f, name);</div>
<div class="line"><span class="lineno"> 2563</span>  Formatter::ArraySection as(*f, <span class="stringliteral">&quot;entries&quot;</span>);</div>
<div class="line"><span class="lineno"> 2564</span> </div>
<div class="line"><span class="lineno"> 2565</span>  <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp; pipe_handler : pset) {</div>
<div class="line"><span class="lineno"> 2566</span>    Formatter::ObjectSection hs(*f, <span class="stringliteral">&quot;handler&quot;</span>);</div>
<div class="line"><span class="lineno"> 2567</span>    <a class="code hl_function" href="rgw__admin_8cc.html#ab596b9e1a1fc78e98a4d13a66578b658">encode_json</a>(<span class="stringliteral">&quot;source&quot;</span>, pipe_handler.source, f);</div>
<div class="line"><span class="lineno"> 2568</span>    <a class="code hl_function" href="rgw__admin_8cc.html#ab596b9e1a1fc78e98a4d13a66578b658">encode_json</a>(<span class="stringliteral">&quot;dest&quot;</span>, pipe_handler.dest, f);</div>
<div class="line"><span class="lineno"> 2569</span>  }</div>
<div class="line"><span class="lineno"> 2570</span>}</div>
</div><!-- fragment --><div class="dynheader">
이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="rgw__admin_8cc_ab596b9e1a1fc78e98a4d13a66578b658_cgraph.png" border="0" usemap="#argw__admin_8cc_ab596b9e1a1fc78e98a4d13a66578b658_cgraph" alt=""/></div>
<map name="argw__admin_8cc_ab596b9e1a1fc78e98a4d13a66578b658_cgraph" id="argw__admin_8cc_ab596b9e1a1fc78e98a4d13a66578b658_cgraph">
<area shape="rect" title=" " alt="" coords="5,29,100,56"/>
<area shape="poly" title=" " alt="" coords="35,30,32,20,34,11,41,5,53,3,64,5,71,12,67,15,62,10,52,8,44,10,39,14,38,20,40,28"/>
</map>
</div>

</div>
</div>
<a id="ab16e28e9c42b6a21c90152929eb41c23" name="ab16e28e9c42b6a21c90152929eb41c23"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab16e28e9c42b6a21c90152929eb41c23">&#9670;&#160;</a></span>flush_ss()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void flush_ss </td>
          <td>(</td>
          <td class="paramtype">stringstream &amp;&#160;</td>
          <td class="paramname"><em>ss</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">list&lt; string &gt; &amp;&#160;</td>
          <td class="paramname"><em>l</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition"><a class="el" href="rgw__admin_8cc_source.html">rgw_admin.cc</a> 파일의 <a class="el" href="rgw__admin_8cc_source.html#l02093">2093</a> 번째 라인에서 정의되었습니다.</p>
<div class="fragment"><div class="line"><span class="lineno"> 2094</span>{</div>
<div class="line"><span class="lineno"> 2095</span>  <span class="keywordflow">if</span> (!ss.str().empty()) {</div>
<div class="line"><span class="lineno"> 2096</span>    l.push_back(ss.str());</div>
<div class="line"><span class="lineno"> 2097</span>  }</div>
<div class="line"><span class="lineno"> 2098</span>  ss.str(<span class="stringliteral">&quot;&quot;</span>);</div>
<div class="line"><span class="lineno"> 2099</span>}</div>
</div><!-- fragment --><div class="dynheader">
이 함수를 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="rgw__admin_8cc_ab16e28e9c42b6a21c90152929eb41c23_icgraph.png" border="0" usemap="#argw__admin_8cc_ab16e28e9c42b6a21c90152929eb41c23_icgraph" alt=""/></div>
<map name="argw__admin_8cc_ab16e28e9c42b6a21c90152929eb41c23_icgraph" id="argw__admin_8cc_ab16e28e9c42b6a21c90152929eb41c23_icgraph">
<area shape="rect" title=" " alt="" coords="2520,976,2590,1003"/>
<area shape="rect" href="rgw__admin_8cc.html#a72e671e3f52c5bce91c050a50dcbc75a" title=" " alt="" coords="2205,745,2354,772"/>
<area shape="poly" title=" " alt="" coords="2524,968,2295,775,2299,771,2528,964"/>
<area shape="rect" href="rgw__admin_8cc.html#addb2515e11fb8fc09013757e769993e6" title=" " alt="" coords="1050,1149,1192,1176"/>
<area shape="poly" title=" " alt="" coords="2543,1018,2507,1082,2481,1120,2450,1158,2414,1192,2374,1221,2329,1241,2281,1248,1644,1248,1511,1241,1379,1222,1263,1200,1174,1179,1176,1174,1264,1195,1380,1217,1511,1235,1645,1243,2280,1243,2328,1236,2371,1217,2411,1188,2446,1154,2477,1116,2503,1079,2539,1015"/>
<area shape="rect" href="rgw__admin_8cc.html#abc5dd9e1ee4071fba1cbd66896f8200c" title=" " alt="" coords="2402,976,2472,1003"/>
<area shape="poly" title=" " alt="" coords="2505,992,2473,992,2473,987,2505,987"/>
<area shape="rect" href="rgw__admin_8cc.html#a313adbe2d817ca90ee002626049cdacf" title=" " alt="" coords="2064,745,2157,772"/>
<area shape="poly" title=" " alt="" coords="2189,770,2157,769,2157,764,2189,765"/>
<area shape="poly" title=" " alt="" coords="2172,747,2204,747,2204,752,2172,753"/>
<area shape="rect" href="class_r_g_w_period.html#a1b78df2d42f8148b6d94e9787cc55b0f" title=" " alt="" coords="1309,248,1450,275"/>
<area shape="poly" title=" " alt="" coords="2105,730,2099,629,2083,495,2071,428,2056,368,2037,320,2014,289,1997,277,1973,267,1913,252,1839,244,1757,241,1589,246,1450,256,1450,251,1589,240,1757,235,1839,238,1914,247,1975,262,1999,272,2018,285,2042,317,2061,366,2077,427,2089,494,2104,629,2111,729"/>
<area shape="rect" href="rgw__admin_8cc.html#a217dbf8b442f20279ea00b898af96f52" title=" " alt="" coords="5,703,55,729"/>
<area shape="poly" title=" " alt="" coords="2101,731,2090,695,2073,653,2048,611,2015,577,1925,515,1839,464,1758,424,1680,393,1603,370,1528,354,1454,344,1378,340,1223,342,1054,354,866,367,652,373,428,373,390,376,354,385,320,398,286,416,225,461,171,514,124,570,87,624,41,703,36,701,82,622,120,567,167,510,221,456,284,411,317,393,353,380,390,371,428,368,652,368,866,362,1054,349,1222,337,1378,334,1454,339,1529,348,1605,364,1681,388,1760,419,1842,460,1928,510,2018,573,2053,608,2078,650,2095,693,2106,730"/>
<area shape="rect" href="class_r_g_w_period.html#a789657c727994fc695ddf1248f678eac" title=" " alt="" coords="1309,720,1450,747"/>
<area shape="poly" title=" " alt="" coords="2049,759,1450,738,1450,733,2049,754"/>
<area shape="poly" title=" " alt="" coords="2112,788,2108,846,2095,919,2083,957,2067,993,2045,1027,2018,1055,1990,1074,1954,1091,1862,1118,1751,1139,1629,1154,1503,1164,1383,1169,1193,1171,1193,1165,1383,1164,1503,1158,1628,1149,1750,1134,1861,1113,1952,1086,1987,1069,2015,1051,2041,1024,2062,991,2078,955,2090,918,2103,845,2107,788"/>
<area shape="rect" href="class_r_g_w_period.html#a962d1ba643a8dd2463b72c77188df35c" title=" " alt="" coords="1836,653,1987,696"/>
<area shape="poly" title=" " alt="" coords="2066,741,2015,717,1971,699,1973,694,2017,712,2069,736"/>
<area shape="rect" href="class_r_g_w_meta_sync_status_manager.html#a16720f99e7f45e7c16f6a72acf0cae80" title=" " alt="" coords="1279,989,1480,1032"/>
<area shape="poly" title=" " alt="" coords="2095,787,2063,828,2042,849,2017,866,1810,917,1480,991,1479,986,1809,912,2015,862,2038,845,2059,825,2091,784"/>
<area shape="rect" href="rgw__zone_8cc.html#acbc9d0f3bd530587c7e7e64073d5bf2c" title=" " alt="" coords="1059,888,1183,915"/>
<area shape="poly" title=" " alt="" coords="2049,763,1622,781,1401,796,1322,804,1275,812,1235,828,1198,849,1140,890,1137,885,1195,845,1233,823,1274,807,1321,798,1401,790,1621,776,2048,758"/>
<area shape="rect" href="class_r_g_w_remote_data_log.html#aa781e10fae1b2aad769f12ae97692004" title=" " alt="" coords="1826,299,1997,341"/>
<area shape="poly" title=" " alt="" coords="2103,730,2092,646,2073,536,2047,431,2031,390,2014,362,1992,344,1995,340,2018,358,2036,387,2052,429,2078,535,2097,645,2109,729"/>
<area shape="rect" href="class_r_g_w_remote_data_log.html#ad7c62d2805330625048edb27c009b46d" title=" " alt="" coords="1822,181,2001,224"/>
<area shape="poly" title=" " alt="" coords="2105,730,2097,623,2081,478,2069,405,2054,338,2036,282,2014,244,1993,227,1996,223,2018,241,2040,280,2059,336,2074,404,2086,478,2102,623,2110,730"/>
<area shape="rect" href="class_r_g_w_data_sync_status_manager.html#a1e9f01ad9a9aa457c3783b3dfa4c07f0" title=" " alt="" coords="1547,72,1745,115"/>
<area shape="poly" title=" " alt="" coords="2106,730,2102,609,2089,441,2077,355,2061,277,2040,214,2028,189,2015,171,1980,156,1912,140,1745,110,1746,105,1913,135,1981,151,2018,167,2033,187,2045,212,2066,276,2082,354,2094,440,2107,609,2111,730"/>
<area shape="rect" href="class_r_g_w_remote_meta_log.html#a0b1f50798e7338bb54bff5872318f785" title=" " alt="" coords="1821,931,2002,973"/>
<area shape="poly" title=" " alt="" coords="2101,788,2070,851,2047,885,2018,914,1989,932,1986,928,2015,910,2042,881,2065,848,2096,786"/>
<area shape="rect" href="class_r_g_w_meta_sync_status_manager.html#a5b874bd603d866e6b588092efcaad4c3" title=" " alt="" coords="1546,989,1746,1032"/>
<area shape="poly" title=" " alt="" coords="2109,787,2102,833,2086,888,2060,943,2041,967,2018,987,1987,1006,1954,1020,1883,1035,1812,1038,1746,1033,1747,1028,1812,1033,1882,1030,1952,1015,1985,1001,2015,983,2037,963,2055,940,2081,886,2097,832,2104,787"/>
<area shape="rect" href="class_r_g_w_remote_bucket_manager.html#a25798d2aa486ddf8a666e96e9574790f" title=" " alt="" coords="1817,587,2006,629"/>
<area shape="poly" title=" " alt="" coords="2092,733,2060,687,2039,664,2015,644,1995,632,1998,628,2018,639,2043,660,2064,684,2096,730"/>
<area shape="rect" href="class_r_g_w_remote_meta_log.html#acda3cdc36d0f85d5292141bca4cb37a9" title=" " alt="" coords="1807,825,2016,852"/>
<area shape="poly" title=" " alt="" coords="2070,782,2017,805,1957,827,1955,822,2015,800,2067,777"/>
<area shape="rect" href="class_r_g_w_period.html#a9f872876d61c9bdc3413d4ebc3d9c806" title=" " alt="" coords="805,256,955,283"/>
<area shape="poly" title=" " alt="" coords="1294,265,955,271,955,265,1294,260"/>
<area shape="rect" href="class_r_g_w_period.html#a0bb4affb3673a6086cd2d6b2de0d0ca7" title=" " alt="" coords="1040,189,1202,232"/>
<area shape="poly" title=" " alt="" coords="1293,247,1202,229,1203,224,1294,242"/>
<area shape="rect" href="class_r_g_w_period.html#a858b78a44963a5743a561f45098cd32d" title=" " alt="" coords="593,193,708,220"/>
<area shape="poly" title=" " alt="" coords="813,254,702,223,703,218,814,249"/>
<area shape="rect" href="class_r_g_w_period.html#a732df12a248a940293ecab3f005c7c81" title=" " alt="" coords="802,189,958,232"/>
<area shape="poly" title=" " alt="" coords="1025,213,958,213,958,208,1025,208"/>
<area shape="rect" href="class_r_g_w_period.html#a171e0664b28ddedf9facc578d12c7a9a" title=" " alt="" coords="792,459,968,501"/>
<area shape="poly" title=" " alt="" coords="1093,245,902,460,898,457,1089,242"/>
<area shape="rect" href="class_r_g_w_period.html#a3ff0e67155215f85caaa4909c49b3b5f" title=" " alt="" coords="801,123,959,165"/>
<area shape="poly" title=" " alt="" coords="1026,187,959,168,960,163,1028,182"/>
<area shape="rect" href="class_r_g_w_period.html#ac2ee7a44ae93d4f27a9cb89fff99337c" title=" " alt="" coords="580,627,721,653"/>
<area shape="poly" title=" " alt="" coords="837,513,673,629,670,624,833,509"/>
<area shape="rect" href="class_r_g_w_op___period___post.html#abcff3a2b0a17526dc84c53af6949df85" title=" " alt="" coords="351,568,507,611"/>
<area shape="poly" title=" " alt="" coords="776,482,669,491,613,501,558,516,505,541,460,570,457,565,502,536,556,511,612,496,669,486,776,477"/>
<area shape="rect" href="rgw__admin_8cc.html#a693377846b7628a32c724cf0200e5a9e" title=" " alt="" coords="598,424,703,451"/>
<area shape="poly" title=" " alt="" coords="776,463,702,450,703,444,777,458"/>
<area shape="rect" href="class_r_g_w_period_puller.html#a926a489065e72d0f2b0fe48ac773bfa3" title=" " alt="" coords="575,525,726,552"/>
<area shape="poly" title=" " alt="" coords="780,508,706,527,705,522,779,503"/>
<area shape="rect" href="rgw__admin_8cc.html#aa84c5ba46881dc6ab82e752f5864a5d6" title=" " alt="" coords="376,728,482,755"/>
<area shape="poly" title=" " alt="" coords="576,661,558,668,499,699,451,730,448,725,496,694,556,663,574,656"/>
<area shape="poly" title=" " alt="" coords="574,625,507,610,508,605,575,620"/>
<area shape="poly" title=" " alt="" coords="360,740,55,720,55,715,361,734"/>
<area shape="rect" href="rgw__admin_8cc.html#a4dd5fe9ff30e3225bca7a06c01dde2bd" title=" " alt="" coords="151,779,253,805"/>
<area shape="poly" title=" " alt="" coords="362,759,254,783,253,778,360,754"/>
<area shape="poly" title=" " alt="" coords="135,776,101,762,49,732,52,727,104,758,137,771"/>
<area shape="poly" title=" " alt="" coords="598,459,483,503,350,558,181,640,57,705,54,701,179,635,348,554,481,498,596,454"/>
<area shape="poly" title=" " alt="" coords="786,172,703,195,702,190,785,167"/>
<area shape="rect" href="class_r_g_w_period.html#aad876e2bf1fe7bd5c326dca3e5d06167" title=" " alt="" coords="1044,637,1199,680"/>
<area shape="poly" title=" " alt="" coords="1315,718,1197,683,1198,678,1317,713"/>
<area shape="rect" href="class_r_g_w_period.html#a9f31f8de41684b5f70a40eedf88385ac" title=" " alt="" coords="1044,724,1198,751"/>
<area shape="poly" title=" " alt="" coords="1294,737,1199,739,1199,733,1294,732"/>
<area shape="poly" title=" " alt="" coords="1088,628,1034,575,967,522,934,504,937,499,969,518,1037,571,1092,624"/>
<area shape="poly" title=" " alt="" coords="1029,677,894,698,744,719,602,732,483,741,483,736,602,727,743,713,894,693,1028,672"/>
<area shape="rect" href="class_r_g_w_period.html#a712625093a5b4aa41606a5bd88dba2d7" title=" " alt="" coords="813,627,947,653"/>
<area shape="poly" title=" " alt="" coords="1028,654,947,648,948,643,1028,649"/>
<area shape="poly" title=" " alt="" coords="797,643,722,643,722,637,797,637"/>
<area shape="rect" href="class_r_g_w_realm.html#a94df61b7090e87e6c429ba8817667e91" title=" " alt="" coords="583,677,718,704"/>
<area shape="poly" title=" " alt="" coords="802,660,715,679,714,674,800,655"/>
<area shape="poly" title=" " alt="" coords="568,695,357,700,103,712,55,716,55,711,102,707,357,695,568,689"/>
<area shape="rect" href="class_r_g_w_s_i___zone.html#a205deedd36f60c1cbe8fb13b70fa497c" title=" " alt="" coords="349,821,509,864"/>
<area shape="poly" title=" " alt="" coords="619,715,463,823,460,819,615,711"/>
<area shape="rect" href="class_r_g_w_s_i___zone.html#ad23dec454ebb23b2404d687a81ae0d70" title=" " alt="" coords="124,829,280,856"/>
<area shape="poly" title=" " alt="" coords="334,845,280,845,280,840,334,840"/>
<area shape="poly" title=" " alt="" coords="1038,723,719,657,720,651,1039,718"/>
<area shape="poly" title=" " alt="" coords="1029,750,814,765,685,767,557,763,482,753,483,748,558,757,685,762,813,760,1028,745"/>
<area shape="poly" title=" " alt="" coords="1100,765,1061,816,1018,877,1006,905,1000,931,991,954,970,974,945,986,924,992,884,991,842,981,792,975,660,975,605,975,555,971,506,961,457,944,405,917,347,878,332,862,323,847,315,833,300,820,277,808,253,801,254,796,279,804,302,815,319,830,328,845,336,859,351,874,407,912,459,939,507,956,556,966,606,970,660,970,792,969,843,976,885,985,923,987,944,981,966,970,987,951,995,929,1001,904,1014,875,1056,813,1096,762"/>
<area shape="poly" title=" " alt="" coords="1057,720,1014,694,998,673,991,652,984,633,967,617,931,603,882,593,758,583,624,583,508,587,507,582,624,577,758,578,883,588,933,598,969,612,988,630,996,650,1003,670,1018,690,1059,715"/>
<area shape="poly" title=" " alt="" coords="1047,720,1029,708,1014,694,995,660,988,627,990,595,995,563,999,533,999,504,989,476,966,449,936,429,902,415,865,408,828,406,756,413,696,426,694,421,755,407,828,401,866,403,903,410,938,424,970,445,994,473,1004,503,1005,533,1000,564,995,596,994,627,1000,659,1018,690,1033,704,1050,715"/>
<area shape="poly" title=" " alt="" coords="1052,720,1032,709,1014,694,1002,678,995,661,992,629,987,599,980,586,966,573,939,556,910,543,847,529,784,525,727,528,727,523,784,520,848,523,912,538,942,551,970,569,984,583,992,598,997,628,1001,660,1007,675,1018,690,1035,704,1055,715"/>
<area shape="poly" title=" " alt="" coords="1070,720,914,656,916,651,1072,715"/>
<area shape="poly" title=" " alt="" coords="1102,765,970,937,936,951,902,961,831,969,759,965,688,952,621,933,561,910,468,867,470,862,563,905,623,928,689,947,759,960,830,963,901,955,934,946,966,933,1098,762"/>
<area shape="rect" href="class_r_g_w_period.html#ac34e6f602944e47c4e1d4b39bc7b9ed7" title=" " alt="" coords="557,829,744,856"/>
<area shape="poly" title=" " alt="" coords="1086,761,1032,789,969,813,911,827,853,836,744,844,744,839,852,830,910,821,967,808,1030,784,1083,756"/>
<area shape="poly" title=" " alt="" coords="542,845,510,845,510,840,542,840"/>
<area shape="poly" title=" " alt="" coords="1208,1154,1401,1144,1641,1125,1759,1109,1866,1088,1954,1061,1988,1045,2015,1027,2042,999,2063,966,2079,929,2091,892,2103,822,2107,772,2112,773,2109,823,2096,893,2084,931,2068,968,2046,1002,2018,1031,1991,1050,1956,1066,1867,1093,1760,1114,1641,1130,1401,1150,1208,1159"/>
<area shape="rect" href="class_r_g_w_meta_sync_c_r.html#afad7b38b095d66c0aea14d72c5b2505a" title=" " alt="" coords="1555,661,1737,688"/>
<area shape="poly" title=" " alt="" coords="1821,677,1737,677,1737,672,1821,672"/>
<area shape="poly" title=" " alt="" coords="1299,1040,1214,1064,1110,1088,996,1107,881,1115,428,1115,377,1117,331,1123,251,1135,214,1136,178,1129,140,1112,101,1082,82,1055,67,1014,55,964,46,910,34,803,29,730,35,730,39,803,51,909,60,963,72,1013,87,1052,105,1078,143,1107,179,1124,215,1130,251,1130,331,1118,376,1112,428,1109,881,1109,996,1102,1109,1083,1213,1059,1298,1035"/>
<area shape="poly" title=" " alt="" coords="1292,1042,1276,1053,1260,1072,1253,1092,1245,1112,1228,1133,1194,1151,1191,1146,1225,1129,1241,1110,1248,1090,1256,1070,1273,1049,1288,1037"/>
<area shape="rect" href="class_r_g_w_meta_sync_processor_thread.html#afc360f6d27adbc707c78067d8f789be1" title=" " alt="" coords="1016,989,1226,1032"/>
<area shape="poly" title=" " alt="" coords="1264,1013,1227,1013,1227,1008,1264,1008"/>
<area shape="poly" title=" " alt="" coords="1312,985,1154,918,1156,913,1314,980"/>
<area shape="rect" href="class_r_g_w_period.html#af20e32f528fccfe8767df0541ed422af" title=" " alt="" coords="794,880,966,923"/>
<area shape="poly" title=" " alt="" coords="1043,904,966,904,966,899,1043,899"/>
<area shape="poly" title=" " alt="" coords="854,868,789,761,777,733,770,709,761,688,742,667,720,655,723,650,745,663,766,685,775,708,782,731,794,759,859,865"/>
<area shape="rect" href="class_r_g_w_data_sync_status_manager.html#a42ca31291a2adf642041ed34ce58095c" title=" " alt="" coords="103,291,301,333"/>
<area shape="poly" title=" " alt="" coords="1810,323,1381,323,649,323,301,317,302,312,649,317,1381,317,1810,317"/>
<area shape="poly" title=" " alt="" coords="114,345,105,354,89,382,76,422,55,526,41,630,35,702,30,702,36,630,49,525,70,421,84,379,101,350,110,341"/>
<area shape="poly" title=" " alt="" coords="1838,178,1806,165,1695,118,1697,113,1808,160,1840,173"/>
<area shape="poly" title=" " alt="" coords="1760,72,1824,69,1891,75,1958,91,1989,105,2018,123,2057,156,2093,193,2124,234,2152,278,2197,371,2230,466,2253,557,2268,638,2280,745,2275,745,2263,639,2248,558,2225,468,2192,373,2147,281,2120,237,2089,197,2054,160,2015,127,1986,110,1956,96,1890,80,1823,75,1760,77"/>
<area shape="poly" title=" " alt="" coords="1531,93,1122,88,428,88,370,91,320,99,277,112,239,132,205,158,172,192,105,280,88,316,74,366,53,493,40,619,35,703,29,702,35,618,48,492,69,365,83,314,100,277,168,188,201,154,236,128,275,107,319,93,369,85,428,83,1123,83,1531,88"/>
<area shape="rect" href="class_r_g_w_op___d_a_t_a_log___status.html#a4f79dca41731b7246ffaef20a77180be" title=" " alt="" coords="1291,5,1468,48"/>
<area shape="poly" title=" " alt="" coords="1542,70,1467,51,1468,46,1544,65"/>
<area shape="poly" title=" " alt="" coords="1806,978,1746,991,1745,986,1805,973"/>
<area shape="poly" title=" " alt="" coords="1614,1045,1535,1116,1480,1158,1418,1200,1350,1238,1277,1270,1201,1291,1123,1299,428,1299,372,1297,323,1292,279,1283,240,1268,204,1248,170,1220,136,1185,100,1141,83,1107,68,1057,47,934,35,812,29,730,35,730,40,812,52,934,73,1056,88,1105,105,1139,140,1182,173,1216,207,1243,242,1264,281,1278,323,1287,372,1292,428,1293,1122,1293,1200,1286,1275,1265,1348,1233,1416,1195,1477,1154,1531,1112,1611,1041"/>
<area shape="poly" title=" " alt="" coords="1531,1037,1386,1071,1275,1104,1252,1118,1228,1133,1178,1151,1176,1146,1225,1128,1249,1113,1273,1099,1385,1066,1530,1032"/>
<area shape="poly" title=" " alt="" coords="1530,1013,1480,1013,1480,1008,1530,1008"/>
<area shape="poly" title=" " alt="" coords="1530,989,1183,917,1185,912,1531,984"/>
<area shape="rect" href="class_r_g_w_meta_sync_status_manager.html#a2e6dcb3f153919994f8b9864c033210a" title=" " alt="" coords="1533,829,1759,856"/>
<area shape="poly" title=" " alt="" coords="1792,843,1759,844,1759,838,1792,838"/>
<area shape="poly" title=" " alt="" coords="1564,862,1017,980,969,999,813,1047,743,1059,652,1064,428,1064,370,1061,321,1051,280,1035,243,1014,209,986,176,953,101,870,75,834,55,795,32,731,37,729,60,793,79,831,105,866,179,949,213,982,246,1009,282,1031,323,1046,371,1055,428,1059,652,1059,742,1054,811,1041,967,993,1015,975,1563,857"/>
<area shape="rect" href="class_r_g_w_meta_sync_processor_thread.html#abe2acfcf6f22db63d007a86d6c389262" title=" " alt="" coords="1274,821,1485,864"/>
<area shape="poly" title=" " alt="" coords="1517,845,1485,845,1485,840,1517,840"/>
<area shape="poly" title=" " alt="" coords="2416,965,2288,774,2292,771,2421,962"/>
<area shape="poly" title=" " alt="" coords="2417,1016,2369,1067,2298,1127,2255,1154,2210,1177,2162,1192,2112,1197,1644,1197,1520,1195,1395,1188,1193,1172,1193,1167,1396,1183,1520,1189,1645,1192,2112,1192,2161,1187,2208,1172,2253,1150,2294,1123,2365,1064,2414,1012"/>
</map>
</div>

</div>
</div>
<a id="a4621ffbb2543bb657d8e5d45a38dcaa8" name="a4621ffbb2543bb657d8e5d45a38dcaa8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4621ffbb2543bb657d8e5d45a38dcaa8">&#9670;&#160;</a></span>get_bi_index_type()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">BIIndexType get_bi_index_type </td>
          <td>(</td>
          <td class="paramtype">const string &amp;&#160;</td>
          <td class="paramname"><em>type_str</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition"><a class="el" href="rgw__admin_8cc_source.html">rgw_admin.cc</a> 파일의 <a class="el" href="rgw__admin_8cc_source.html#l01056">1056</a> 번째 라인에서 정의되었습니다.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1056</span>                                                      {</div>
<div class="line"><span class="lineno"> 1057</span>  <span class="keywordflow">if</span> (type_str == <span class="stringliteral">&quot;plain&quot;</span>)</div>
<div class="line"><span class="lineno"> 1058</span>    <span class="keywordflow">return</span> BIIndexType::Plain;</div>
<div class="line"><span class="lineno"> 1059</span>  <span class="keywordflow">if</span> (type_str == <span class="stringliteral">&quot;instance&quot;</span>)</div>
<div class="line"><span class="lineno"> 1060</span>    <span class="keywordflow">return</span> BIIndexType::Instance;</div>
<div class="line"><span class="lineno"> 1061</span>  <span class="keywordflow">if</span> (type_str == <span class="stringliteral">&quot;olh&quot;</span>)</div>
<div class="line"><span class="lineno"> 1062</span>    <span class="keywordflow">return</span> BIIndexType::OLH;</div>
<div class="line"><span class="lineno"> 1063</span> </div>
<div class="line"><span class="lineno"> 1064</span>  <span class="keywordflow">return</span> BIIndexType::Invalid;</div>
<div class="line"><span class="lineno"> 1065</span>}</div>
</div><!-- fragment --><div class="dynheader">
이 함수를 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="rgw__admin_8cc_a4621ffbb2543bb657d8e5d45a38dcaa8_icgraph.png" border="0" usemap="#argw__admin_8cc_a4621ffbb2543bb657d8e5d45a38dcaa8_icgraph" alt=""/></div>
<map name="argw__admin_8cc_a4621ffbb2543bb657d8e5d45a38dcaa8_icgraph" id="argw__admin_8cc_a4621ffbb2543bb657d8e5d45a38dcaa8_icgraph">
<area shape="rect" title=" " alt="" coords="103,5,229,32"/>
<area shape="rect" href="rgw__admin_8cc.html#a217dbf8b442f20279ea00b898af96f52" title=" " alt="" coords="5,5,55,32"/>
<area shape="poly" title=" " alt="" coords="87,21,55,21,55,16,87,16"/>
</map>
</div>

</div>
</div>
<a id="a72e671e3f52c5bce91c050a50dcbc75a" name="a72e671e3f52c5bce91c050a50dcbc75a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a72e671e3f52c5bce91c050a50dcbc75a">&#9670;&#160;</a></span>get_data_sync_status()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void get_data_sync_status </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structrgw__zone__id.html">rgw_zone_id</a> &amp;&#160;</td>
          <td class="paramname"><em>source_zone</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">list&lt; string &gt; &amp;&#160;</td>
          <td class="paramname"><em>status</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>tab</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition"><a class="el" href="rgw__admin_8cc_source.html">rgw_admin.cc</a> 파일의 <a class="el" href="rgw__admin_8cc_source.html#l02251">2251</a> 번째 라인에서 정의되었습니다.</p>
<div class="fragment"><div class="line"><span class="lineno"> 2252</span>{</div>
<div class="line"><span class="lineno"> 2253</span>  stringstream ss;</div>
<div class="line"><span class="lineno"> 2254</span> </div>
<div class="line"><span class="lineno"> 2255</span>  <a class="code hl_struct" href="struct_r_g_w_zone.html">RGWZone</a> *sz;</div>
<div class="line"><span class="lineno"> 2256</span> </div>
<div class="line"><span class="lineno"> 2257</span>  <span class="keywordflow">if</span> (!<span class="keyword">static_cast&lt;</span><a class="code hl_class" href="classrgw_1_1sal_1_1_rados_store.html">rgw::sal::RadosStore</a>*<span class="keyword">&gt;</span>(<a class="code hl_variable" href="rgw__admin_8cc.html#a6fdb26d64b14d837b60e83a6ca3e2863">store</a>)-&gt;svc()-&gt;zone-&gt;find_zone(source_zone, &amp;sz)) {</div>
<div class="line"><span class="lineno"> 2258</span>    <a class="code hl_function" href="rgw__admin_8cc.html#abc5dd9e1ee4071fba1cbd66896f8200c">push_ss</a>(ss, status, tab) &lt;&lt; <a class="code hl_enumvalue" href="namespacergw_1_1_i_a_m.html#a16270dabfb0f449a033dc28091504510ab45cffe084dd3d20d928bee85e7b0f21">string</a>(<span class="stringliteral">&quot;zone not found&quot;</span>);</div>
<div class="line"><span class="lineno"> 2259</span>    <a class="code hl_function" href="rgw__admin_8cc.html#ab16e28e9c42b6a21c90152929eb41c23">flush_ss</a>(ss, status);</div>
<div class="line"><span class="lineno"> 2260</span>    <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 2261</span>  }</div>
<div class="line"><span class="lineno"> 2262</span> </div>
<div class="line"><span class="lineno"> 2263</span>  <span class="keywordflow">if</span> (!<span class="keyword">static_cast&lt;</span><a class="code hl_class" href="classrgw_1_1sal_1_1_rados_store.html">rgw::sal::RadosStore</a>*<span class="keyword">&gt;</span>(<a class="code hl_variable" href="rgw__admin_8cc.html#a6fdb26d64b14d837b60e83a6ca3e2863">store</a>)-&gt;svc()-&gt;zone-&gt;zone_syncs_from(<span class="keyword">static_cast&lt;</span><a class="code hl_class" href="classrgw_1_1sal_1_1_rados_store.html">rgw::sal::RadosStore</a>*<span class="keyword">&gt;</span>(<a class="code hl_variable" href="rgw__admin_8cc.html#a6fdb26d64b14d837b60e83a6ca3e2863">store</a>)-&gt;<a class="code hl_function" href="classrgw_1_1sal_1_1_rados_store.html#abe4f0602b771d5549a02c0a326d6a832">svc</a>()-&gt;<a class="code hl_variable" href="struct_r_g_w_services.html#a6a82305adde4d9b9667690ed2059a394">zone</a>-&gt;<a class="code hl_function" href="class_r_g_w_s_i___zone.html#af5de622b773633e08320d2ea30fce20b">get_zone</a>(), *sz)) {</div>
<div class="line"><span class="lineno"> 2264</span>    <a class="code hl_function" href="rgw__admin_8cc.html#abc5dd9e1ee4071fba1cbd66896f8200c">push_ss</a>(ss, status, tab) &lt;&lt; <a class="code hl_enumvalue" href="namespacergw_1_1_i_a_m.html#a16270dabfb0f449a033dc28091504510ab45cffe084dd3d20d928bee85e7b0f21">string</a>(<span class="stringliteral">&quot;not syncing from zone&quot;</span>);</div>
<div class="line"><span class="lineno"> 2265</span>    <a class="code hl_function" href="rgw__admin_8cc.html#ab16e28e9c42b6a21c90152929eb41c23">flush_ss</a>(ss, status);</div>
<div class="line"><span class="lineno"> 2266</span>    <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 2267</span>  }</div>
<div class="line"><span class="lineno"> 2268</span>  <a class="code hl_class" href="class_r_g_w_data_sync_status_manager.html">RGWDataSyncStatusManager</a> sync(<span class="keyword">static_cast&lt;</span><a class="code hl_class" href="classrgw_1_1sal_1_1_rados_store.html">rgw::sal::RadosStore</a>*<span class="keyword">&gt;</span>(<a class="code hl_variable" href="rgw__admin_8cc.html#a6fdb26d64b14d837b60e83a6ca3e2863">store</a>), <span class="keyword">static_cast&lt;</span><a class="code hl_class" href="classrgw_1_1sal_1_1_rados_store.html">rgw::sal::RadosStore</a>*<span class="keyword">&gt;</span>(<a class="code hl_variable" href="rgw__admin_8cc.html#a6fdb26d64b14d837b60e83a6ca3e2863">store</a>)-&gt;svc()-&gt;rados-&gt;get_async_processor(), source_zone, <span class="keyword">nullptr</span>);</div>
<div class="line"><span class="lineno"> 2269</span> </div>
<div class="line"><span class="lineno"> 2270</span>  <span class="keywordtype">int</span> ret = sync.init(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>());</div>
<div class="line"><span class="lineno"> 2271</span>  <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno"> 2272</span>    <a class="code hl_function" href="rgw__admin_8cc.html#abc5dd9e1ee4071fba1cbd66896f8200c">push_ss</a>(ss, status, tab) &lt;&lt; <a class="code hl_enumvalue" href="namespacergw_1_1_i_a_m.html#a16270dabfb0f449a033dc28091504510ab45cffe084dd3d20d928bee85e7b0f21">string</a>(<span class="stringliteral">&quot;failed to retrieve sync info: &quot;</span>) + cpp_strerror(-ret);</div>
<div class="line"><span class="lineno"> 2273</span>    <a class="code hl_function" href="rgw__admin_8cc.html#ab16e28e9c42b6a21c90152929eb41c23">flush_ss</a>(ss, status);</div>
<div class="line"><span class="lineno"> 2274</span>    <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 2275</span>  }</div>
<div class="line"><span class="lineno"> 2276</span> </div>
<div class="line"><span class="lineno"> 2277</span>  <a class="code hl_struct" href="structrgw__data__sync__status.html">rgw_data_sync_status</a> <a class="code hl_function" href="rgw__admin_8cc.html#a313adbe2d817ca90ee002626049cdacf">sync_status</a>;</div>
<div class="line"><span class="lineno"> 2278</span>  ret = sync.read_sync_status(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>(), &amp;<a class="code hl_function" href="rgw__admin_8cc.html#a313adbe2d817ca90ee002626049cdacf">sync_status</a>);</div>
<div class="line"><span class="lineno"> 2279</span>  <span class="keywordflow">if</span> (ret &lt; 0 &amp;&amp; ret != -ENOENT) {</div>
<div class="line"><span class="lineno"> 2280</span>    <a class="code hl_function" href="rgw__admin_8cc.html#abc5dd9e1ee4071fba1cbd66896f8200c">push_ss</a>(ss, status, tab) &lt;&lt; <a class="code hl_enumvalue" href="namespacergw_1_1_i_a_m.html#a16270dabfb0f449a033dc28091504510ab45cffe084dd3d20d928bee85e7b0f21">string</a>(<span class="stringliteral">&quot;failed read sync status: &quot;</span>) + cpp_strerror(-ret);</div>
<div class="line"><span class="lineno"> 2281</span>    <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 2282</span>  }</div>
<div class="line"><span class="lineno"> 2283</span> </div>
<div class="line"><span class="lineno"> 2284</span>  set&lt;int&gt; recovering_shards;</div>
<div class="line"><span class="lineno"> 2285</span>  ret = sync.read_recovering_shards(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>(), <a class="code hl_function" href="rgw__admin_8cc.html#a313adbe2d817ca90ee002626049cdacf">sync_status</a>.sync_info.num_shards, recovering_shards);</div>
<div class="line"><span class="lineno"> 2286</span>  <span class="keywordflow">if</span> (ret &lt; 0 &amp;&amp; ret != ENOENT) {</div>
<div class="line"><span class="lineno"> 2287</span>    <a class="code hl_function" href="rgw__admin_8cc.html#abc5dd9e1ee4071fba1cbd66896f8200c">push_ss</a>(ss, status, tab) &lt;&lt; <a class="code hl_enumvalue" href="namespacergw_1_1_i_a_m.html#a16270dabfb0f449a033dc28091504510ab45cffe084dd3d20d928bee85e7b0f21">string</a>(<span class="stringliteral">&quot;failed read recovering shards: &quot;</span>) + cpp_strerror(-ret);</div>
<div class="line"><span class="lineno"> 2288</span>    <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 2289</span>  }</div>
<div class="line"><span class="lineno"> 2290</span> </div>
<div class="line"><span class="lineno"> 2291</span>  <span class="keywordtype">string</span> status_str;</div>
<div class="line"><span class="lineno"> 2292</span>  <span class="keywordflow">switch</span> (<a class="code hl_function" href="rgw__admin_8cc.html#a313adbe2d817ca90ee002626049cdacf">sync_status</a>.sync_info.state) {</div>
<div class="line"><span class="lineno"> 2293</span>    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="structrgw__data__sync__info.html#a0fdb45e7336e71bedab27e1061d37a9eab3efba2e9dfa467c966bc03aa66cba9e">rgw_data_sync_info::StateInit</a>:</div>
<div class="line"><span class="lineno"> 2294</span>      status_str = <span class="stringliteral">&quot;init&quot;</span>;</div>
<div class="line"><span class="lineno"> 2295</span>      <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 2296</span>    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="structrgw__data__sync__info.html#a0fdb45e7336e71bedab27e1061d37a9ea1d71888534d89211833ef4b827b4df64">rgw_data_sync_info::StateBuildingFullSyncMaps</a>:</div>
<div class="line"><span class="lineno"> 2297</span>      status_str = <span class="stringliteral">&quot;preparing for full sync&quot;</span>;</div>
<div class="line"><span class="lineno"> 2298</span>      <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 2299</span>    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="structrgw__data__sync__info.html#a0fdb45e7336e71bedab27e1061d37a9eadd673254bf558ed4d311ca5d38c249f9">rgw_data_sync_info::StateSync</a>:</div>
<div class="line"><span class="lineno"> 2300</span>      status_str = <span class="stringliteral">&quot;syncing&quot;</span>;</div>
<div class="line"><span class="lineno"> 2301</span>      <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 2302</span>    <span class="keywordflow">default</span>:</div>
<div class="line"><span class="lineno"> 2303</span>      status_str = <span class="stringliteral">&quot;unknown&quot;</span>;</div>
<div class="line"><span class="lineno"> 2304</span>  }</div>
<div class="line"><span class="lineno"> 2305</span> </div>
<div class="line"><span class="lineno"> 2306</span>  <a class="code hl_function" href="rgw__admin_8cc.html#abc5dd9e1ee4071fba1cbd66896f8200c">push_ss</a>(ss, status, tab) &lt;&lt; status_str;</div>
<div class="line"><span class="lineno"> 2307</span> </div>
<div class="line"><span class="lineno"> 2308</span>  uint64_t full_total = 0;</div>
<div class="line"><span class="lineno"> 2309</span>  uint64_t full_complete = 0;</div>
<div class="line"><span class="lineno"> 2310</span> </div>
<div class="line"><span class="lineno"> 2311</span>  <span class="keywordtype">int</span> num_full = 0;</div>
<div class="line"><span class="lineno"> 2312</span>  <span class="keywordtype">int</span> num_inc = 0;</div>
<div class="line"><span class="lineno"> 2313</span>  <span class="keywordtype">int</span> total_shards = 0;</div>
<div class="line"><span class="lineno"> 2314</span>  set&lt;int&gt; shards_behind_set;</div>
<div class="line"><span class="lineno"> 2315</span> </div>
<div class="line"><span class="lineno"> 2316</span>  <span class="keywordflow">for</span> (<span class="keyword">auto</span> marker_iter : <a class="code hl_function" href="rgw__admin_8cc.html#a313adbe2d817ca90ee002626049cdacf">sync_status</a>.sync_markers) {</div>
<div class="line"><span class="lineno"> 2317</span>    full_total += marker_iter.second.total_entries;</div>
<div class="line"><span class="lineno"> 2318</span>    total_shards++;</div>
<div class="line"><span class="lineno"> 2319</span>    <span class="keywordflow">if</span> (marker_iter.second.state == <a class="code hl_enumvalue" href="structrgw__data__sync__marker.html#a59a56a0906b7ac5ed6c24d10c42efb87aac932e31d5c0d2fafb4cef3804606e1a">rgw_data_sync_marker::SyncState::FullSync</a>) {</div>
<div class="line"><span class="lineno"> 2320</span>      num_full++;</div>
<div class="line"><span class="lineno"> 2321</span>      full_complete += marker_iter.second.pos;</div>
<div class="line"><span class="lineno"> 2322</span>      <span class="keywordtype">int</span> shard_id = marker_iter.first;</div>
<div class="line"><span class="lineno"> 2323</span>      shards_behind_set.insert(shard_id);</div>
<div class="line"><span class="lineno"> 2324</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 2325</span>      full_complete += marker_iter.second.total_entries;</div>
<div class="line"><span class="lineno"> 2326</span>    }</div>
<div class="line"><span class="lineno"> 2327</span>    <span class="keywordflow">if</span> (marker_iter.second.state == <a class="code hl_enumvalue" href="structrgw__data__sync__marker.html#a59a56a0906b7ac5ed6c24d10c42efb87a6a54467d952da39231d4cc9bd3e450e9">rgw_data_sync_marker::SyncState::IncrementalSync</a>) {</div>
<div class="line"><span class="lineno"> 2328</span>      num_inc++;</div>
<div class="line"><span class="lineno"> 2329</span>    }</div>
<div class="line"><span class="lineno"> 2330</span>  }</div>
<div class="line"><span class="lineno"> 2331</span> </div>
<div class="line"><span class="lineno"> 2332</span>  <a class="code hl_function" href="rgw__admin_8cc.html#abc5dd9e1ee4071fba1cbd66896f8200c">push_ss</a>(ss, status, tab) &lt;&lt; <span class="stringliteral">&quot;full sync: &quot;</span> &lt;&lt; num_full &lt;&lt; <span class="stringliteral">&quot;/&quot;</span> &lt;&lt; total_shards &lt;&lt; <span class="stringliteral">&quot; shards&quot;</span>;</div>
<div class="line"><span class="lineno"> 2333</span> </div>
<div class="line"><span class="lineno"> 2334</span>  <span class="keywordflow">if</span> (num_full &gt; 0) {</div>
<div class="line"><span class="lineno"> 2335</span>    <a class="code hl_function" href="rgw__admin_8cc.html#abc5dd9e1ee4071fba1cbd66896f8200c">push_ss</a>(ss, status, tab) &lt;&lt; <span class="stringliteral">&quot;full sync: &quot;</span> &lt;&lt; full_total - full_complete &lt;&lt; <span class="stringliteral">&quot; buckets to sync&quot;</span>;</div>
<div class="line"><span class="lineno"> 2336</span>  }</div>
<div class="line"><span class="lineno"> 2337</span> </div>
<div class="line"><span class="lineno"> 2338</span>  <a class="code hl_function" href="rgw__admin_8cc.html#abc5dd9e1ee4071fba1cbd66896f8200c">push_ss</a>(ss, status, tab) &lt;&lt; <span class="stringliteral">&quot;incremental sync: &quot;</span> &lt;&lt; num_inc &lt;&lt; <span class="stringliteral">&quot;/&quot;</span> &lt;&lt; total_shards &lt;&lt; <span class="stringliteral">&quot; shards&quot;</span>;</div>
<div class="line"><span class="lineno"> 2339</span> </div>
<div class="line"><span class="lineno"> 2340</span>  map&lt;int, RGWDataChangesLogInfo&gt; source_shards_info;</div>
<div class="line"><span class="lineno"> 2341</span> </div>
<div class="line"><span class="lineno"> 2342</span>  ret = sync.read_source_log_shards_info(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>(), &amp;source_shards_info);</div>
<div class="line"><span class="lineno"> 2343</span>  <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno"> 2344</span>    <a class="code hl_function" href="rgw__admin_8cc.html#abc5dd9e1ee4071fba1cbd66896f8200c">push_ss</a>(ss, status, tab) &lt;&lt; <a class="code hl_enumvalue" href="namespacergw_1_1_i_a_m.html#a16270dabfb0f449a033dc28091504510ab45cffe084dd3d20d928bee85e7b0f21">string</a>(<span class="stringliteral">&quot;failed to fetch source sync status: &quot;</span>) + cpp_strerror(-ret);</div>
<div class="line"><span class="lineno"> 2345</span>    <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 2346</span>  }</div>
<div class="line"><span class="lineno"> 2347</span> </div>
<div class="line"><span class="lineno"> 2348</span>  map&lt;int, string&gt; shards_behind;</div>
<div class="line"><span class="lineno"> 2349</span> </div>
<div class="line"><span class="lineno"> 2350</span>  <span class="keywordflow">for</span> (<span class="keyword">auto</span> local_iter : <a class="code hl_function" href="rgw__admin_8cc.html#a313adbe2d817ca90ee002626049cdacf">sync_status</a>.sync_markers) {</div>
<div class="line"><span class="lineno"> 2351</span>    <span class="keywordtype">int</span> shard_id = local_iter.first;</div>
<div class="line"><span class="lineno"> 2352</span>    <span class="keyword">auto</span> iter = source_shards_info.find(shard_id);</div>
<div class="line"><span class="lineno"> 2353</span> </div>
<div class="line"><span class="lineno"> 2354</span>    <span class="keywordflow">if</span> (iter == source_shards_info.end()) {</div>
<div class="line"><span class="lineno"> 2355</span>      <span class="comment">/* huh? */</span></div>
<div class="line"><span class="lineno"> 2356</span>      derr &lt;&lt; <span class="stringliteral">&quot;ERROR: could not find remote sync shard status for shard_id=&quot;</span> &lt;&lt; shard_id &lt;&lt; dendl;</div>
<div class="line"><span class="lineno"> 2357</span>      <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 2358</span>    }</div>
<div class="line"><span class="lineno"> 2359</span>    <span class="keyword">auto</span> master_marker = iter-&gt;second.marker;</div>
<div class="line"><span class="lineno"> 2360</span>    <span class="keywordflow">if</span> (local_iter.second.state == <a class="code hl_enumvalue" href="structrgw__data__sync__marker.html#a59a56a0906b7ac5ed6c24d10c42efb87a6a54467d952da39231d4cc9bd3e450e9">rgw_data_sync_marker::SyncState::IncrementalSync</a> &amp;&amp;</div>
<div class="line"><span class="lineno"> 2361</span>        master_marker &gt; local_iter.second.marker) {</div>
<div class="line"><span class="lineno"> 2362</span>      shards_behind[shard_id] = local_iter.second.marker;</div>
<div class="line"><span class="lineno"> 2363</span>      shards_behind_set.insert(shard_id);</div>
<div class="line"><span class="lineno"> 2364</span>    }</div>
<div class="line"><span class="lineno"> 2365</span>  }</div>
<div class="line"><span class="lineno"> 2366</span> </div>
<div class="line"><span class="lineno"> 2367</span>  <span class="keywordtype">int</span> total_behind = shards_behind.size() + (<a class="code hl_function" href="rgw__admin_8cc.html#a313adbe2d817ca90ee002626049cdacf">sync_status</a>.sync_info.num_shards - num_inc);</div>
<div class="line"><span class="lineno"> 2368</span>  <span class="keywordtype">int</span> total_recovering = recovering_shards.size();</div>
<div class="line"><span class="lineno"> 2369</span>  <span class="keywordflow">if</span> (total_behind == 0 &amp;&amp; total_recovering == 0) {</div>
<div class="line"><span class="lineno"> 2370</span>    <a class="code hl_function" href="rgw__admin_8cc.html#abc5dd9e1ee4071fba1cbd66896f8200c">push_ss</a>(ss, status, tab) &lt;&lt; <span class="stringliteral">&quot;data is caught up with source&quot;</span>;</div>
<div class="line"><span class="lineno"> 2371</span>  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (total_behind &gt; 0) {</div>
<div class="line"><span class="lineno"> 2372</span>    <a class="code hl_function" href="rgw__admin_8cc.html#abc5dd9e1ee4071fba1cbd66896f8200c">push_ss</a>(ss, status, tab) &lt;&lt; <span class="stringliteral">&quot;data is behind on &quot;</span> &lt;&lt; total_behind &lt;&lt; <span class="stringliteral">&quot; shards&quot;</span>;</div>
<div class="line"><span class="lineno"> 2373</span> </div>
<div class="line"><span class="lineno"> 2374</span>    <a class="code hl_function" href="rgw__admin_8cc.html#abc5dd9e1ee4071fba1cbd66896f8200c">push_ss</a>(ss, status, tab) &lt;&lt; <span class="stringliteral">&quot;behind shards: &quot;</span> &lt;&lt; <span class="stringliteral">&quot;[&quot;</span> &lt;&lt; shards_behind_set &lt;&lt; <span class="stringliteral">&quot;]&quot;</span> ;</div>
<div class="line"><span class="lineno"> 2375</span> </div>
<div class="line"><span class="lineno"> 2376</span>    map&lt;int, rgw_datalog_shard_data&gt; master_pos;</div>
<div class="line"><span class="lineno"> 2377</span>    ret = sync.read_source_log_shards_next(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>(), shards_behind, &amp;master_pos);</div>
<div class="line"><span class="lineno"> 2378</span>    <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno"> 2379</span>      derr &lt;&lt; <span class="stringliteral">&quot;ERROR: failed to fetch next positions (&quot;</span> &lt;&lt; cpp_strerror(-ret) &lt;&lt; <span class="stringliteral">&quot;)&quot;</span> &lt;&lt; dendl;</div>
<div class="line"><span class="lineno"> 2380</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 2381</span>      std::optional&lt;std::pair&lt;int, ceph::real_time&gt;&gt; oldest;</div>
<div class="line"><span class="lineno"> 2382</span> </div>
<div class="line"><span class="lineno"> 2383</span>      <span class="keywordflow">for</span> (<span class="keyword">auto</span> iter : master_pos) {</div>
<div class="line"><span class="lineno"> 2384</span>        <a class="code hl_struct" href="structrgw__datalog__shard__data.html">rgw_datalog_shard_data</a>&amp; shard_data = iter.second;</div>
<div class="line"><span class="lineno"> 2385</span> </div>
<div class="line"><span class="lineno"> 2386</span>        <span class="keywordflow">if</span> (!shard_data.<a class="code hl_variable" href="structrgw__datalog__shard__data.html#a2bf239e14db2ae88a75dd5fe469cb532">entries</a>.empty()) {</div>
<div class="line"><span class="lineno"> 2387</span>          <a class="code hl_struct" href="structrgw__datalog__entry.html">rgw_datalog_entry</a>&amp; entry = shard_data.<a class="code hl_variable" href="structrgw__datalog__shard__data.html#a2bf239e14db2ae88a75dd5fe469cb532">entries</a>.front();</div>
<div class="line"><span class="lineno"> 2388</span>          <span class="keywordflow">if</span> (!oldest) {</div>
<div class="line"><span class="lineno"> 2389</span>            oldest.emplace(iter.first, entry.<a class="code hl_variable" href="structrgw__datalog__entry.html#a7b74a98170f176bfb7158c7bcb7dba55">timestamp</a>);</div>
<div class="line"><span class="lineno"> 2390</span>          } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!ceph::real_clock::is_zero(entry.<a class="code hl_variable" href="structrgw__datalog__entry.html#a7b74a98170f176bfb7158c7bcb7dba55">timestamp</a>) &amp;&amp; entry.<a class="code hl_variable" href="structrgw__datalog__entry.html#a7b74a98170f176bfb7158c7bcb7dba55">timestamp</a> &lt; oldest-&gt;second) {</div>
<div class="line"><span class="lineno"> 2391</span>            oldest.emplace(iter.first, entry.<a class="code hl_variable" href="structrgw__datalog__entry.html#a7b74a98170f176bfb7158c7bcb7dba55">timestamp</a>);</div>
<div class="line"><span class="lineno"> 2392</span>          }</div>
<div class="line"><span class="lineno"> 2393</span>        }</div>
<div class="line"><span class="lineno"> 2394</span>      }</div>
<div class="line"><span class="lineno"> 2395</span> </div>
<div class="line"><span class="lineno"> 2396</span>      <span class="keywordflow">if</span> (oldest) {</div>
<div class="line"><span class="lineno"> 2397</span>        <a class="code hl_function" href="rgw__admin_8cc.html#abc5dd9e1ee4071fba1cbd66896f8200c">push_ss</a>(ss, status, tab) &lt;&lt; <span class="stringliteral">&quot;oldest incremental change not applied: &quot;</span></div>
<div class="line"><span class="lineno"> 2398</span>            &lt;&lt; oldest-&gt;second &lt;&lt; <span class="stringliteral">&quot; [&quot;</span> &lt;&lt; oldest-&gt;first &lt;&lt; <span class="charliteral">&#39;]&#39;</span>;</div>
<div class="line"><span class="lineno"> 2399</span>      }</div>
<div class="line"><span class="lineno"> 2400</span>    }</div>
<div class="line"><span class="lineno"> 2401</span>  }</div>
<div class="line"><span class="lineno"> 2402</span> </div>
<div class="line"><span class="lineno"> 2403</span>  <span class="keywordflow">if</span> (total_recovering &gt; 0) {</div>
<div class="line"><span class="lineno"> 2404</span>    <a class="code hl_function" href="rgw__admin_8cc.html#abc5dd9e1ee4071fba1cbd66896f8200c">push_ss</a>(ss, status, tab) &lt;&lt; total_recovering &lt;&lt; <span class="stringliteral">&quot; shards are recovering&quot;</span>;</div>
<div class="line"><span class="lineno"> 2405</span>    <a class="code hl_function" href="rgw__admin_8cc.html#abc5dd9e1ee4071fba1cbd66896f8200c">push_ss</a>(ss, status, tab) &lt;&lt; <span class="stringliteral">&quot;recovering shards: &quot;</span> &lt;&lt; <span class="stringliteral">&quot;[&quot;</span> &lt;&lt; recovering_shards &lt;&lt; <span class="stringliteral">&quot;]&quot;</span>;</div>
<div class="line"><span class="lineno"> 2406</span>  }</div>
<div class="line"><span class="lineno"> 2407</span> </div>
<div class="line"><span class="lineno"> 2408</span>  <a class="code hl_function" href="rgw__admin_8cc.html#ab16e28e9c42b6a21c90152929eb41c23">flush_ss</a>(ss, status);</div>
<div class="line"><span class="lineno"> 2409</span>}</div>
<div class="ttc" id="aclass_r_g_w_data_sync_status_manager_html"><div class="ttname"><a href="class_r_g_w_data_sync_status_manager.html">RGWDataSyncStatusManager</a></div><div class="ttdef"><b>Definition</b> <a href="rgw__data__sync_8h_source.html#l00391">rgw_data_sync.h:391</a></div></div>
<div class="ttc" id="aclass_r_g_w_s_i___zone_html_af5de622b773633e08320d2ea30fce20b"><div class="ttname"><a href="class_r_g_w_s_i___zone.html#af5de622b773633e08320d2ea30fce20b">RGWSI_Zone::get_zone</a></div><div class="ttdeci">const RGWZone &amp; get_zone() const</div><div class="ttdef"><b>Definition</b> <a href="svc__zone_8cc_source.html#l00950">svc_zone.cc:950</a></div></div>
<div class="ttc" id="aclassrgw_1_1sal_1_1_rados_store_html_abe4f0602b771d5549a02c0a326d6a832"><div class="ttname"><a href="classrgw_1_1sal_1_1_rados_store.html#abe4f0602b771d5549a02c0a326d6a832">rgw::sal::RadosStore::svc</a></div><div class="ttdeci">RGWServices * svc()</div><div class="ttdef"><b>Definition</b> <a href="rgw__sal__rados_8h_source.html#l00501">rgw_sal_rados.h:501</a></div></div>
<div class="ttc" id="anamespacergw_1_1_i_a_m_html_a16270dabfb0f449a033dc28091504510ab45cffe084dd3d20d928bee85e7b0f21"><div class="ttname"><a href="namespacergw_1_1_i_a_m.html#a16270dabfb0f449a033dc28091504510ab45cffe084dd3d20d928bee85e7b0f21">rgw::IAM::Type::string</a></div><div class="ttdeci">@ string</div></div>
<div class="ttc" id="argw__admin_8cc_html_a313adbe2d817ca90ee002626049cdacf"><div class="ttname"><a href="rgw__admin_8cc.html#a313adbe2d817ca90ee002626049cdacf">sync_status</a></div><div class="ttdeci">static void sync_status(Formatter *formatter)</div><div class="ttdef"><b>Definition</b> <a href="rgw__admin_8cc_source.html#l02422">rgw_admin.cc:2422</a></div></div>
<div class="ttc" id="argw__admin_8cc_html_ab16e28e9c42b6a21c90152929eb41c23"><div class="ttname"><a href="rgw__admin_8cc.html#ab16e28e9c42b6a21c90152929eb41c23">flush_ss</a></div><div class="ttdeci">void flush_ss(stringstream &amp;ss, list&lt; string &gt; &amp;l)</div><div class="ttdef"><b>Definition</b> <a href="rgw__admin_8cc_source.html#l02093">rgw_admin.cc:2093</a></div></div>
<div class="ttc" id="argw__admin_8cc_html_abc5dd9e1ee4071fba1cbd66896f8200c"><div class="ttname"><a href="rgw__admin_8cc.html#abc5dd9e1ee4071fba1cbd66896f8200c">push_ss</a></div><div class="ttdeci">stringstream &amp; push_ss(stringstream &amp;ss, list&lt; string &gt; &amp;l, int tab=0)</div><div class="ttdef"><b>Definition</b> <a href="rgw__admin_8cc_source.html#l02101">rgw_admin.cc:2101</a></div></div>
<div class="ttc" id="astruct_r_g_w_services_html_a6a82305adde4d9b9667690ed2059a394"><div class="ttname"><a href="struct_r_g_w_services.html#a6a82305adde4d9b9667690ed2059a394">RGWServices::zone</a></div><div class="ttdeci">RGWSI_Zone * zone</div><div class="ttdef"><b>Definition</b> <a href="rgw__service_8h_source.html#l00143">rgw_service.h:143</a></div></div>
<div class="ttc" id="astructrgw__data__sync__info_html_a0fdb45e7336e71bedab27e1061d37a9ea1d71888534d89211833ef4b827b4df64"><div class="ttname"><a href="structrgw__data__sync__info.html#a0fdb45e7336e71bedab27e1061d37a9ea1d71888534d89211833ef4b827b4df64">rgw_data_sync_info::StateBuildingFullSyncMaps</a></div><div class="ttdeci">@ StateBuildingFullSyncMaps</div><div class="ttdef"><b>Definition</b> <a href="rgw__data__sync_8h_source.html#l00092">rgw_data_sync.h:92</a></div></div>
<div class="ttc" id="astructrgw__data__sync__info_html_a0fdb45e7336e71bedab27e1061d37a9eab3efba2e9dfa467c966bc03aa66cba9e"><div class="ttname"><a href="structrgw__data__sync__info.html#a0fdb45e7336e71bedab27e1061d37a9eab3efba2e9dfa467c966bc03aa66cba9e">rgw_data_sync_info::StateInit</a></div><div class="ttdeci">@ StateInit</div><div class="ttdef"><b>Definition</b> <a href="rgw__data__sync_8h_source.html#l00091">rgw_data_sync.h:91</a></div></div>
<div class="ttc" id="astructrgw__data__sync__info_html_a0fdb45e7336e71bedab27e1061d37a9eadd673254bf558ed4d311ca5d38c249f9"><div class="ttname"><a href="structrgw__data__sync__info.html#a0fdb45e7336e71bedab27e1061d37a9eadd673254bf558ed4d311ca5d38c249f9">rgw_data_sync_info::StateSync</a></div><div class="ttdeci">@ StateSync</div><div class="ttdef"><b>Definition</b> <a href="rgw__data__sync_8h_source.html#l00093">rgw_data_sync.h:93</a></div></div>
<div class="ttc" id="astructrgw__data__sync__marker_html_a59a56a0906b7ac5ed6c24d10c42efb87a6a54467d952da39231d4cc9bd3e450e9"><div class="ttname"><a href="structrgw__data__sync__marker.html#a59a56a0906b7ac5ed6c24d10c42efb87a6a54467d952da39231d4cc9bd3e450e9">rgw_data_sync_marker::IncrementalSync</a></div><div class="ttdeci">@ IncrementalSync</div><div class="ttdef"><b>Definition</b> <a href="rgw__data__sync_8h_source.html#l00161">rgw_data_sync.h:161</a></div></div>
<div class="ttc" id="astructrgw__data__sync__marker_html_a59a56a0906b7ac5ed6c24d10c42efb87aac932e31d5c0d2fafb4cef3804606e1a"><div class="ttname"><a href="structrgw__data__sync__marker.html#a59a56a0906b7ac5ed6c24d10c42efb87aac932e31d5c0d2fafb4cef3804606e1a">rgw_data_sync_marker::FullSync</a></div><div class="ttdeci">@ FullSync</div><div class="ttdef"><b>Definition</b> <a href="rgw__data__sync_8h_source.html#l00160">rgw_data_sync.h:160</a></div></div>
<div class="ttc" id="astructrgw__data__sync__status_html"><div class="ttname"><a href="structrgw__data__sync__status.html">rgw_data_sync_status</a></div><div class="ttdef"><b>Definition</b> <a href="rgw__data__sync_8h_source.html#l00234">rgw_data_sync.h:234</a></div></div>
<div class="ttc" id="astructrgw__datalog__entry_html"><div class="ttname"><a href="structrgw__datalog__entry.html">rgw_datalog_entry</a></div><div class="ttdef"><b>Definition</b> <a href="rgw__data__sync_8h_source.html#l00266">rgw_data_sync.h:266</a></div></div>
<div class="ttc" id="astructrgw__datalog__entry_html_a7b74a98170f176bfb7158c7bcb7dba55"><div class="ttname"><a href="structrgw__datalog__entry.html#a7b74a98170f176bfb7158c7bcb7dba55">rgw_datalog_entry::timestamp</a></div><div class="ttdeci">ceph::real_time timestamp</div><div class="ttdef"><b>Definition</b> <a href="rgw__data__sync_8h_source.html#l00268">rgw_data_sync.h:268</a></div></div>
<div class="ttc" id="astructrgw__datalog__shard__data_html"><div class="ttname"><a href="structrgw__datalog__shard__data.html">rgw_datalog_shard_data</a></div><div class="ttdef"><b>Definition</b> <a href="rgw__data__sync_8h_source.html#l00273">rgw_data_sync.h:273</a></div></div>
<div class="ttc" id="astructrgw__datalog__shard__data_html_a2bf239e14db2ae88a75dd5fe469cb532"><div class="ttname"><a href="structrgw__datalog__shard__data.html#a2bf239e14db2ae88a75dd5fe469cb532">rgw_datalog_shard_data::entries</a></div><div class="ttdeci">std::vector&lt; rgw_datalog_entry &gt; entries</div><div class="ttdef"><b>Definition</b> <a href="rgw__data__sync_8h_source.html#l00276">rgw_data_sync.h:276</a></div></div>
</div><!-- fragment --><div class="dynheader">
이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="rgw__admin_8cc_a72e671e3f52c5bce91c050a50dcbc75a_cgraph.png" border="0" usemap="#argw__admin_8cc_a72e671e3f52c5bce91c050a50dcbc75a_cgraph" alt=""/></div>
<map name="argw__admin_8cc_a72e671e3f52c5bce91c050a50dcbc75a_cgraph" id="argw__admin_8cc_a72e671e3f52c5bce91c050a50dcbc75a_cgraph">
<area shape="rect" title=" " alt="" coords="5,855,155,882"/>
<area shape="rect" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5" title=" " alt="" coords="1766,454,1808,481"/>
<area shape="poly" title=" " alt="" coords="80,855,90,741,112,562,129,468,149,381,172,308,186,280,201,258,238,216,274,184,310,159,347,142,387,131,431,124,537,121,1286,121,1388,114,1471,107,1510,108,1549,117,1591,133,1636,161,1670,190,1698,224,1722,262,1741,302,1769,378,1783,438,1778,439,1764,380,1737,304,1717,265,1694,227,1666,194,1633,165,1588,138,1547,122,1509,114,1471,112,1389,119,1286,126,537,126,432,130,388,136,349,147,312,164,277,188,242,220,205,261,191,282,177,310,154,382,134,469,118,563,95,742,85,855"/>
<area shape="rect" href="rgw__admin_8cc.html#ab16e28e9c42b6a21c90152929eb41c23" title=" " alt="" coords="1500,1755,1569,1782"/>
<area shape="poly" title=" " alt="" coords="84,882,87,1032,92,1148,102,1276,117,1405,138,1524,152,1577,167,1622,185,1660,205,1688,242,1723,278,1747,314,1762,352,1769,435,1769,537,1766,1030,1766,1485,1766,1485,1771,1030,1771,537,1771,435,1775,351,1774,313,1767,276,1752,239,1728,201,1692,180,1663,162,1624,146,1578,133,1525,111,1406,97,1276,87,1148,82,1032,79,882"/>
<area shape="rect" href="class_r_g_w_s_i___zone.html#af5de622b773633e08320d2ea30fce20b" title=" " alt="" coords="221,1958,383,1985"/>
<area shape="poly" title=" " alt="" coords="85,882,96,1086,121,1423,138,1598,158,1754,180,1873,192,1913,205,1938,215,1948,212,1951,201,1941,187,1915,175,1875,152,1755,132,1599,116,1423,91,1086,79,883"/>
<area shape="rect" href="class_r_g_w_data_sync_status_manager.html#a764ce37941de877e561259df11b17c40" title=" " alt="" coords="203,43,401,86"/>
<area shape="poly" title=" " alt="" coords="79,855,85,715,104,491,120,371,140,260,167,167,183,131,201,103,210,93,214,97,205,106,188,133,172,169,146,261,125,372,109,491,91,716,84,855"/>
<area shape="rect" href="rgw__admin_8cc.html#abc5dd9e1ee4071fba1cbd66896f8200c" title=" " alt="" coords="1250,1654,1320,1681"/>
<area shape="poly" title=" " alt="" coords="85,882,90,949,102,1058,127,1194,144,1267,166,1340,192,1412,223,1481,260,1545,302,1601,350,1648,406,1684,436,1697,468,1707,501,1713,537,1715,777,1715,906,1711,1034,1699,1234,1673,1234,1678,1035,1705,907,1716,777,1721,537,1721,501,1718,466,1712,434,1702,403,1689,347,1652,298,1604,255,1548,218,1483,187,1414,161,1342,139,1268,122,1195,97,1059,84,950,79,882"/>
<area shape="rect" href="class_r_g_w_data_sync_status_manager.html#a4684216d3677eceef89f14ce874d245f" title=" " alt="" coords="203,1326,401,1369"/>
<area shape="poly" title=" " alt="" coords="90,881,287,1311,282,1313,85,883"/>
<area shape="rect" href="class_r_g_w_data_sync_status_manager.html#ad03dec1feee37e716afa3e6b97b05c60" title=" " alt="" coords="676,234,875,277"/>
<area shape="poly" title=" " alt="" coords="80,854,89,749,111,587,127,502,147,425,172,362,186,338,201,320,251,283,308,256,368,237,430,226,492,221,553,221,661,231,661,236,553,227,493,227,431,232,369,243,310,261,254,287,204,324,190,341,176,364,152,426,132,503,116,587,95,749,85,855"/>
<area shape="rect" href="class_r_g_w_data_sync_status_manager.html#a896d0bd248f83318f306e477e67a2d65" title=" " alt="" coords="1184,315,1386,358"/>
<area shape="poly" title=" " alt="" coords="83,854,125,739,163,655,213,565,276,480,312,441,350,407,392,379,437,357,486,343,537,338,777,338,1168,335,1168,341,777,343,537,343,487,348,439,362,395,383,354,411,315,445,280,483,218,568,168,657,130,741,88,856"/>
<area shape="rect" href="class_r_g_w_data_sync_status_manager.html#a1e9f01ad9a9aa457c3783b3dfa4c07f0" title=" " alt="" coords="203,893,401,935"/>
<area shape="poly" title=" " alt="" coords="149,880,188,888,187,893,148,885"/>
<area shape="rect" href="rgw__admin_8cc.html#a313adbe2d817ca90ee002626049cdacf" title=" " alt="" coords="729,922,822,949"/>
<area shape="poly" title=" " alt="" coords="155,877,401,890,515,899,629,915,715,930,714,936,628,920,515,905,401,895,155,882"/>
<area shape="rect" href="classrgw_1_1sal_1_1_rados_store.html#abe4f0602b771d5549a02c0a326d6a832" title=" " alt="" coords="1702,1587,1872,1614"/>
<area shape="poly" title=" " alt="" coords="84,882,87,1044,102,1313,117,1456,138,1590,167,1701,185,1744,205,1778,240,1820,275,1853,310,1878,347,1895,387,1907,431,1914,537,1918,1030,1918,1207,1922,1281,1923,1348,1919,1413,1909,1480,1890,1553,1858,1633,1812,1659,1793,1682,1770,1722,1720,1752,1669,1772,1627,1777,1629,1756,1672,1726,1723,1686,1774,1662,1797,1636,1816,1555,1863,1482,1895,1415,1914,1349,1925,1281,1928,1207,1927,1030,1923,537,1923,430,1919,386,1912,345,1900,308,1883,272,1857,237,1824,200,1781,180,1747,162,1703,133,1591,112,1457,97,1313,82,1045,79,882"/>
<area shape="poly" title=" " alt="" coords="389,40,449,29,611,8,774,3,1286,3,1392,4,1436,6,1476,12,1515,24,1553,42,1593,67,1636,103,1672,141,1702,184,1726,231,1746,279,1772,369,1785,438,1779,439,1767,371,1741,281,1722,233,1698,187,1668,144,1633,106,1590,72,1551,46,1513,29,1475,18,1435,12,1391,9,1286,9,774,9,611,13,449,34,390,45"/>
<area shape="rect" href="classrgw_1_1sal_1_1_store.html#a959e7355bd4c432ddd0cd8fbab7e40c7" title=" " alt="" coords="473,43,604,86"/>
<area shape="poly" title=" " alt="" coords="401,62,458,62,458,67,401,67"/>
<area shape="poly" title=" " alt="" coords="1321,1672,1354,1682,1388,1697,1412,1716,1436,1734,1486,1754,1484,1759,1433,1739,1409,1720,1385,1701,1352,1687,1319,1677"/>
<area shape="poly" title=" " alt="" coords="401,1345,774,1345,1030,1345,1132,1348,1211,1351,1289,1345,1334,1335,1385,1319,1399,1313,1409,1304,1433,1287,1464,1278,1492,1274,1542,1275,1565,1275,1588,1271,1610,1260,1633,1241,1652,1217,1669,1183,1699,1097,1724,991,1744,875,1770,650,1781,496,1787,496,1775,651,1749,876,1729,992,1704,1098,1674,1186,1656,1219,1637,1245,1613,1265,1589,1276,1566,1280,1542,1280,1492,1279,1465,1283,1436,1292,1412,1309,1402,1317,1387,1324,1335,1340,1290,1350,1212,1356,1132,1353,1030,1350,774,1350,401,1350"/>
<area shape="rect" href="class_r_g_w_remote_data_log.html#a0ea09aa59ca21fd4fd5ba02afc95c4a4" title=" " alt="" coords="449,1537,628,1579"/>
<area shape="poly" title=" " alt="" coords="329,1367,504,1524,500,1528,326,1371"/>
<area shape="rect" href="class_r_g_w_coroutines_manager.html#a5938252866722d88fcb0b58d840ca37b" title=" " alt="" coords="693,1537,858,1579"/>
<area shape="poly" title=" " alt="" coords="629,1555,677,1555,677,1561,629,1561"/>
<area shape="rect" href="class_r_g_w_coroutines_manager.html#a38ec9d44810bfd9ad15dad3a30cb091a" title=" " alt="" coords="1691,1373,1883,1399"/>
<area shape="poly" title=" " alt="" coords="616,1577,677,1589,775,1596,874,1589,1006,1570,1134,1538,1182,1522,1309,1492,1408,1475,1508,1458,1634,1430,1729,1402,1730,1407,1635,1435,1509,1463,1409,1480,1310,1498,1184,1527,1136,1543,1007,1575,875,1594,775,1601,676,1594,615,1582"/>
<area shape="rect" href="class_r_g_w_h_t_t_p_manager.html#ad3b97916e94fd7dbbcd870b1bfceddf4" title=" " alt="" coords="1702,1907,1872,1934"/>
<area shape="poly" title=" " alt="" coords="577,1577,711,1654,807,1704,917,1758,1039,1811,1168,1861,1301,1904,1435,1937,1503,1945,1573,1946,1639,1941,1698,1934,1699,1939,1640,1947,1573,1951,1503,1950,1434,1942,1300,1909,1166,1866,1037,1816,915,1762,804,1709,708,1658,574,1582"/>
<area shape="rect" href="class_r_g_w_h_t_t_p_manager.html#a28da2691e647f536b1aa88a23cfb8309" title=" " alt="" coords="691,1486,860,1513"/>
<area shape="poly" title=" " alt="" coords="627,1533,703,1514,704,1519,628,1539"/>
<area shape="rect" href="class_r_g_w_h_t_t_p_manager.html#a3e3fd00dfa67812b4be7d3e5b80f126d" title=" " alt="" coords="940,1486,1118,1529"/>
<area shape="poly" title=" " alt="" coords="860,1499,924,1501,924,1507,860,1505"/>
<area shape="poly" title=" " alt="" coords="863,231,922,219,1080,194,1286,169,1390,162,1488,163,1572,174,1607,183,1636,197,1668,220,1695,249,1719,281,1738,316,1766,383,1782,438,1777,439,1761,385,1733,318,1714,284,1691,252,1664,224,1633,201,1605,189,1571,179,1488,168,1391,167,1286,174,1081,199,923,224,864,236"/>
<area shape="rect" href="class_r_g_w_remote_data_log.html#a9f19c1c5e5812c645d187daa4a30dd23" title=" " alt="" coords="939,234,1119,277"/>
<area shape="poly" title=" " alt="" coords="875,253,924,253,924,258,875,258"/>
<area shape="poly" title=" " alt="" coords="1034,277,1045,373,1071,522,1090,607,1116,695,1147,781,1185,863,1240,953,1293,1016,1355,1072,1436,1142,1491,1185,1537,1213,1584,1242,1637,1288,1651,1307,1659,1324,1668,1339,1684,1354,1700,1364,1698,1368,1681,1359,1664,1343,1655,1326,1647,1310,1633,1292,1581,1247,1535,1218,1488,1190,1433,1147,1352,1076,1290,1020,1236,956,1181,866,1142,783,1111,696,1085,608,1066,523,1040,374,1029,277"/>
<area shape="rect" href="class_r_g_w_remote_data_log.html#a8c47be64773374c277c2a83f595f9c3e" title=" " alt="" coords="1195,211,1374,254"/>
<area shape="poly" title=" " alt="" coords="1119,245,1179,239,1180,244,1119,250"/>
<area shape="rect" href="class_r_g_w_r_e_s_t_conn.html#a829921dcfe02e550a48544fba8d94c77" title=" " alt="" coords="1447,211,1622,254"/>
<area shape="poly" title=" " alt="" coords="1375,230,1432,230,1432,235,1375,235"/>
<area shape="poly" title=" " alt="" coords="1605,252,1636,270,1681,311,1720,357,1773,439,1769,442,1715,360,1677,315,1633,275,1602,257"/>
<area shape="poly" title=" " alt="" coords="1370,312,1430,302,1498,298,1568,303,1603,310,1636,321,1679,345,1716,376,1747,410,1770,439,1766,443,1743,413,1712,380,1676,349,1634,326,1601,315,1567,308,1498,303,1431,308,1371,317"/>
<area shape="rect" href="class_r_g_w_remote_data_log.html#ad0f10a47ac00d2b84a7ee68983d039a2" title=" " alt="" coords="1445,379,1624,422"/>
<area shape="poly" title=" " alt="" coords="1371,356,1435,372,1434,377,1370,361"/>
<area shape="poly" title=" " alt="" coords="1625,421,1637,432,1657,468,1670,513,1677,566,1679,624,1673,756,1660,897,1647,1037,1641,1168,1644,1225,1652,1277,1665,1320,1685,1355,1691,1361,1687,1365,1681,1358,1660,1323,1646,1278,1639,1226,1636,1168,1641,1037,1655,896,1668,755,1674,624,1672,566,1664,514,1652,470,1633,435,1621,424"/>
<area shape="poly" title=" " alt="" coords="330,890,488,779,607,703,749,621,907,540,1077,466,1165,434,1254,405,1344,382,1434,365,1490,355,1535,350,1580,352,1635,365,1672,380,1707,399,1762,441,1758,445,1704,404,1670,384,1634,370,1579,357,1536,355,1491,360,1435,370,1345,387,1255,411,1166,439,1079,471,909,545,751,626,610,708,491,784,334,894"/>
<area shape="rect" href="class_r_g_w_remote_data_log.html#ad7c62d2805330625048edb27c009b46d" title=" " alt="" coords="449,1406,628,1449"/>
<area shape="poly" title=" " alt="" coords="315,934,524,1391,519,1393,311,936"/>
<area shape="poly" title=" " alt="" coords="401,916,714,930,714,935,401,921"/>
<area shape="poly" title=" " alt="" coords="567,1447,617,1485,678,1522,689,1528,687,1533,675,1527,614,1489,564,1451"/>
<area shape="poly" title=" " alt="" coords="629,1425,1208,1425,1492,1424,1634,1421,1726,1401,1727,1407,1635,1426,1492,1429,1208,1431,629,1430"/>
<area shape="poly" title=" " alt="" coords="629,1429,936,1446,1071,1458,1115,1465,1136,1472,1154,1491,1166,1510,1173,1530,1176,1550,1173,1590,1164,1631,1155,1672,1151,1712,1160,1752,1170,1771,1185,1791,1219,1815,1270,1837,1332,1856,1403,1872,1553,1896,1687,1910,1686,1916,1552,1901,1402,1877,1331,1861,1268,1842,1216,1820,1181,1794,1165,1774,1155,1754,1146,1713,1150,1671,1159,1630,1168,1590,1170,1550,1167,1531,1161,1512,1150,1494,1134,1476,1114,1470,1071,1464,935,1452,629,1434"/>
<area shape="poly" title=" " alt="" coords="612,1447,715,1478,714,1483,611,1452"/>
<area shape="poly" title=" " alt="" coords="548,1404,759,962,763,964,553,1407"/>
<area shape="poly" title=" " alt="" coords="750,924,694,909,628,896,515,881,401,871,280,865,170,863,170,857,280,859,401,866,515,875,629,891,696,904,751,919"/>
<area shape="rect" href="class_r_g_w_s_i___zone.html#a73caac1a5db730b5558f5cee51fb892e" title=" " alt="" coords="947,1065,1111,1091"/>
<area shape="poly" title=" " alt="" coords="792,947,846,998,883,1026,924,1050,939,1057,937,1062,921,1055,880,1031,843,1002,788,951"/>
<area shape="rect" href="class_r_g_w_system_meta_obj.html#ab885e5d275a5396cc473703ab55f50b1" title=" " alt="" coords="934,1115,1124,1142"/>
<area shape="poly" title=" " alt="" coords="787,948,807,980,838,1021,877,1065,924,1101,934,1106,932,1111,921,1105,874,1069,834,1025,803,983,782,950"/>
<area shape="rect" href="rgw__admin_8cc.html#addb2515e11fb8fc09013757e769993e6" title=" " alt="" coords="958,830,1100,857"/>
<area shape="poly" title=" " alt="" coords="821,920,922,878,988,859,990,864,924,883,823,925"/>
<area shape="poly" title=" " alt="" coords="783,948,798,1003,826,1086,868,1181,895,1227,925,1269,952,1298,979,1319,1034,1345,1061,1358,1087,1374,1113,1396,1137,1428,1154,1466,1161,1500,1161,1533,1157,1565,1154,1596,1155,1626,1164,1658,1185,1691,1219,1719,1269,1746,1331,1769,1399,1787,1469,1800,1534,1806,1591,1803,1634,1791,1659,1776,1682,1758,1721,1713,1751,1667,1771,1627,1776,1629,1756,1669,1725,1716,1685,1761,1662,1781,1636,1796,1592,1808,1534,1811,1468,1805,1398,1793,1329,1774,1267,1751,1216,1724,1181,1694,1160,1660,1150,1627,1149,1596,1152,1564,1155,1533,1156,1501,1149,1467,1133,1431,1109,1400,1084,1378,1059,1362,1032,1350,977,1323,948,1302,921,1273,890,1230,864,1183,821,1088,793,1005,777,949"/>
<area shape="rect" href="class_r_g_w_system_meta_obj.html#a333abaa7960a2c63b4341d5f9ec500bf" title=" " alt="" coords="923,1166,1135,1193"/>
<area shape="poly" title=" " alt="" coords="784,948,802,989,831,1044,872,1103,897,1129,924,1152,932,1157,929,1161,921,1156,893,1133,868,1106,826,1047,797,991,779,950"/>
<area shape="rect" href="classrgw_1_1sal_1_1_zone.html#a9234806eedc8e3bc03f4b51073abe746" title=" " alt="" coords="965,1217,1093,1259"/>
<area shape="poly" title=" " alt="" coords="783,948,798,996,825,1065,867,1139,894,1173,924,1202,951,1219,949,1223,921,1207,890,1176,863,1142,821,1067,793,998,778,949"/>
<area shape="rect" href="classrgw_1_1sal_1_1_store.html#a7905b89b9f5def056e6b3379637037cc" title=" " alt="" coords="946,779,1112,806"/>
<area shape="poly" title=" " alt="" coords="788,919,843,868,880,840,921,815,937,809,939,814,924,820,883,844,846,873,792,923"/>
<area shape="rect" href="classrgw_1_1sal_1_1_zone.html#af387da06889ce1c43ccc37f64fc373a6" title=" " alt="" coords="965,881,1093,923"/>
<area shape="poly" title=" " alt="" coords="822,927,949,910,949,915,823,932"/>
<area shape="rect" href="classrgw_1_1sal_1_1_store.html#a3f47faa0a9863670b57ba81b229918f8" title=" " alt="" coords="967,947,1091,990"/>
<area shape="poly" title=" " alt="" coords="823,939,952,956,951,961,822,944"/>
<area shape="rect" href="rgw__admin_8cc.html#a034e61ce17b52c12f92c0fe2cf0cbf9a" title=" " alt="" coords="990,1014,1068,1041"/>
<area shape="poly" title=" " alt="" coords="804,947,859,973,924,999,975,1014,974,1019,922,1004,856,978,802,951"/>
<area shape="poly" title=" " alt="" coords="1099,829,1134,815,1185,784,1224,752,1255,719,1283,685,1310,651,1342,617,1381,585,1433,553,1483,536,1571,514,1750,472,1751,478,1572,519,1485,542,1435,558,1384,589,1345,621,1314,655,1287,688,1259,722,1228,756,1188,789,1136,820,1101,834"/>
<area shape="poly" title=" " alt="" coords="1101,845,1121,853,1137,867,1154,894,1165,929,1172,970,1174,1016,1171,1119,1162,1230,1152,1341,1149,1443,1152,1489,1158,1529,1169,1563,1185,1589,1207,1609,1230,1619,1254,1621,1279,1620,1332,1618,1360,1624,1388,1640,1406,1661,1414,1682,1420,1703,1436,1724,1460,1740,1486,1753,1484,1757,1457,1745,1432,1728,1416,1706,1409,1684,1401,1663,1385,1644,1358,1629,1331,1623,1279,1625,1254,1626,1229,1624,1204,1614,1181,1593,1164,1565,1153,1530,1146,1489,1144,1444,1147,1341,1157,1229,1166,1119,1169,1016,1166,971,1160,930,1149,897,1133,870,1118,858,1099,850"/>
<area shape="poly" title=" " alt="" coords="1101,845,1121,853,1137,867,1155,896,1167,933,1174,976,1177,1025,1173,1133,1163,1251,1153,1368,1149,1477,1152,1525,1158,1568,1169,1605,1185,1633,1207,1651,1235,1661,1233,1666,1205,1656,1181,1637,1164,1607,1153,1570,1146,1526,1144,1477,1148,1368,1158,1250,1168,1133,1171,1025,1169,977,1162,934,1150,898,1133,870,1118,858,1099,850"/>
<area shape="poly" title=" " alt="" coords="958,849,924,859,858,886,804,915,801,910,856,881,922,854,956,844"/>
<area shape="rect" href="classrgw_1_1sal_1_1_rados_zone.html#ad18d7553c6c28ae7215718f16e0ce679" title=" " alt="" coords="1208,1537,1361,1579"/>
<area shape="poly" title=" " alt="" coords="1102,845,1121,853,1137,867,1149,884,1158,905,1170,957,1175,1019,1177,1087,1177,1220,1179,1277,1186,1321,1203,1377,1225,1432,1267,1521,1262,1524,1220,1434,1198,1379,1180,1322,1174,1278,1171,1220,1172,1087,1170,1020,1164,958,1153,907,1144,886,1133,870,1118,858,1099,850"/>
<area shape="rect" href="class_r_g_w_meta_sync_status_manager.html#a16720f99e7f45e7c16f6a72acf0cae80" title=" " alt="" coords="1185,810,1385,853"/>
<area shape="poly" title=" " alt="" coords="1100,837,1169,834,1169,839,1100,843"/>
<area shape="rect" href="class_r_g_w_meta_sync_status_manager.html#a5b874bd603d866e6b588092efcaad4c3" title=" " alt="" coords="1434,446,1635,489"/>
<area shape="poly" title=" " alt="" coords="1100,836,1118,828,1133,816,1147,798,1156,781,1164,745,1162,709,1155,673,1148,636,1147,599,1156,563,1166,544,1181,527,1197,515,1220,505,1279,489,1349,478,1419,471,1419,476,1349,483,1280,494,1222,510,1200,519,1185,530,1171,548,1161,565,1152,600,1154,635,1160,672,1168,708,1170,746,1161,783,1151,801,1137,820,1121,832,1102,840"/>
<area shape="rect" href="class_r_g_w_meta_sync_status_manager.html#a5ba091b9ce8f9c059a3c6de80638e73f" title=" " alt="" coords="1185,1267,1385,1310"/>
<area shape="poly" title=" " alt="" coords="1101,845,1121,854,1137,867,1156,891,1168,916,1175,940,1178,965,1175,1013,1164,1061,1153,1108,1148,1156,1150,1180,1157,1205,1168,1229,1185,1254,1186,1255,1182,1259,1181,1257,1163,1232,1152,1206,1145,1181,1143,1156,1147,1108,1158,1059,1169,1012,1173,965,1170,941,1163,918,1151,894,1133,870,1118,858,1099,850"/>
<area shape="rect" href="class_r_g_w_meta_sync_status_manager.html#a01e0256f35bb9ea0a0684fe687c73463" title=" " alt="" coords="1183,1201,1386,1243"/>
<area shape="poly" title=" " alt="" coords="1102,846,1121,854,1137,867,1153,886,1163,906,1173,945,1172,984,1164,1023,1157,1062,1155,1101,1162,1140,1171,1160,1185,1180,1194,1189,1190,1193,1181,1184,1167,1163,1157,1142,1149,1101,1152,1061,1159,1022,1166,984,1168,946,1158,908,1148,889,1133,870,1118,858,1100,851"/>
<area shape="rect" href="class_r_g_w_s_i___zone.html#a0e9f0f7357c948c4d6af8df223740522" title=" " alt="" coords="1448,1638,1621,1681"/>
<area shape="poly" title=" " alt="" coords="1346,1577,1388,1595,1436,1623,1449,1629,1447,1634,1433,1628,1385,1600,1344,1582"/>
<area shape="poly" title=" " alt="" coords="1361,1577,1388,1596,1399,1609,1405,1622,1411,1647,1417,1671,1424,1681,1436,1690,1462,1704,1486,1713,1509,1717,1531,1716,1577,1707,1634,1690,1669,1677,1702,1659,1756,1622,1759,1626,1705,1664,1671,1682,1636,1695,1579,1712,1531,1722,1508,1722,1485,1718,1460,1709,1433,1695,1420,1684,1412,1673,1406,1648,1400,1623,1395,1612,1385,1600,1358,1582"/>
<area shape="poly" title=" " alt="" coords="1291,808,1310,764,1340,708,1381,650,1406,623,1433,600,1460,583,1484,572,1530,563,1577,557,1634,542,1697,513,1751,484,1753,489,1699,518,1636,547,1578,563,1531,568,1486,577,1462,587,1436,604,1409,627,1385,653,1345,711,1315,767,1296,811"/>
<area shape="poly" title=" " alt="" coords="1242,812,1178,784,1097,759,1053,752,1009,751,965,756,924,770,880,798,843,835,814,875,793,909,788,906,809,872,839,832,877,794,922,765,964,751,1009,745,1054,747,1098,754,1180,779,1244,807"/>
<area shape="poly" title=" " alt="" coords="1295,852,1337,993,1389,1188,1396,1224,1398,1257,1398,1313,1400,1339,1406,1365,1417,1392,1436,1422,1464,1453,1496,1480,1567,1525,1641,1558,1709,1580,1707,1585,1639,1563,1565,1530,1493,1484,1460,1456,1432,1425,1412,1394,1401,1366,1395,1339,1393,1313,1393,1257,1390,1225,1384,1189,1332,994,1290,854"/>
<area shape="rect" href="class_r_g_w_s_i___zone.html#afe763829ce716720925bc195a9cec1c3" title=" " alt="" coords="1683,1482,1891,1509"/>
<area shape="poly" title=" " alt="" coords="1294,852,1312,908,1341,985,1383,1070,1408,1110,1436,1148,1462,1174,1487,1193,1537,1217,1586,1241,1611,1261,1637,1288,1655,1320,1662,1349,1668,1378,1685,1410,1717,1444,1752,1471,1749,1475,1713,1448,1680,1413,1663,1380,1657,1351,1650,1322,1633,1291,1608,1265,1583,1246,1534,1221,1484,1197,1458,1178,1432,1152,1404,1113,1378,1072,1336,987,1307,910,1289,854"/>
<area shape="rect" href="class_r_g_w_rados.html#a37788b697bc88b3d2f6ef16257ca69b1" title=" " alt="" coords="1457,931,1612,974"/>
<area shape="poly" title=" " alt="" coords="1320,851,1373,884,1435,917,1449,923,1447,928,1433,922,1370,889,1317,855"/>
<area shape="rect" href="class_r_g_w_remote_meta_log.html#aa952316ea008fd8106a5fefe448618bb" title=" " alt="" coords="1447,665,1622,707"/>
<area shape="poly" title=" " alt="" coords="1308,807,1363,762,1433,717,1445,711,1447,716,1436,722,1366,767,1311,812"/>
<area shape="rect" href="class_r_g_w_s_i___zone.html#a0ade599544ff866a0e9292f49c1ad179" title=" " alt="" coords="1454,731,1615,774"/>
<area shape="poly" title=" " alt="" coords="1354,807,1449,776,1451,782,1356,812"/>
<area shape="rect" href="classrgw_1_1sal_1_1_rados_store.html#aca5c28bc0f22f3f963d0475b594350e1" title=" " alt="" coords="1463,798,1606,841"/>
<area shape="poly" title=" " alt="" coords="1385,824,1448,821,1448,826,1386,829"/>
<area shape="rect" href="class_r_g_w_remote_meta_log.html#a8ab8b3b9a62246c7c2b9e598fecf8d04" title=" " alt="" coords="1448,1587,1621,1614"/>
<area shape="poly" title=" " alt="" coords="1296,852,1340,992,1366,1089,1389,1188,1396,1274,1399,1385,1402,1441,1409,1493,1420,1536,1436,1567,1447,1577,1443,1581,1432,1570,1415,1538,1404,1494,1397,1442,1394,1385,1391,1274,1384,1189,1361,1090,1334,994,1291,854"/>
<area shape="rect" href="class_r_g_w_s_i___zone.html#a7f1e75d0c6d2ae5d2916e0ecbbc5e1ea" title=" " alt="" coords="1710,1302,1864,1345"/>
<area shape="poly" title=" " alt="" coords="1307,851,1364,912,1436,984,1491,1030,1537,1062,1582,1095,1637,1143,1707,1219,1762,1288,1758,1291,1703,1222,1633,1146,1579,1099,1534,1066,1488,1034,1433,988,1360,916,1303,855"/>
<area shape="poly" title=" " alt="" coords="1292,808,1345,696,1385,625,1432,556,1461,524,1492,496,1495,500,1465,528,1436,560,1390,628,1350,699,1297,811"/>
<area shape="rect" href="rgw__tools_8cc.html#a1b991fc581ae47229ff5e44c3a5e5aac" title=" " alt="" coords="1484,614,1585,641"/>
<area shape="poly" title=" " alt="" coords="1296,808,1317,773,1348,730,1387,687,1433,650,1468,635,1470,640,1436,655,1391,691,1352,734,1322,776,1300,811"/>
<area shape="rect" href="struct_r_g_w_meta_sync_env.html#ac372e8cc10cda802d7b2f33374a467ca" title=" " alt="" coords="1448,865,1621,907"/>
<area shape="poly" title=" " alt="" coords="1386,851,1433,861,1432,866,1385,856"/>
<area shape="poly" title=" " alt="" coords="1617,1612,1636,1624,1668,1653,1695,1687,1718,1724,1737,1762,1765,1834,1782,1891,1777,1892,1760,1836,1732,1764,1713,1727,1690,1690,1664,1657,1633,1628,1614,1617"/>
<area shape="poly" title=" " alt="" coords="1622,1598,1686,1598,1686,1603,1622,1603"/>
<area shape="poly" title=" " alt="" coords="1568,1584,1738,1512,1740,1517,1570,1589"/>
<area shape="poly" title=" " alt="" coords="1635,465,1750,465,1750,470,1635,470"/>
<area shape="poly" title=" " alt="" coords="1434,457,1375,454,1311,457,1246,467,1184,487,1111,527,1043,579,982,638,928,700,882,763,843,821,793,909,788,907,839,818,877,760,924,697,978,634,1040,575,1108,523,1182,482,1245,462,1311,451,1375,449,1434,451"/>
<area shape="poly" title=" " alt="" coords="1584,613,1633,593,1670,569,1705,542,1760,490,1764,494,1709,546,1673,573,1636,598,1586,618"/>
<area shape="poly" title=" " alt="" coords="1364,1264,1431,1239,1505,1202,1575,1154,1606,1125,1632,1092,1678,1015,1714,930,1741,843,1759,757,1772,675,1779,602,1783,496,1788,496,1784,602,1777,676,1765,758,1746,845,1719,932,1683,1017,1637,1095,1610,1128,1578,1158,1507,1207,1433,1244,1366,1269"/>
<area shape="rect" href="class_r_g_w_remote_meta_log.html#adf5f7b9c4c1a543098ca9d4fb51584e0" title=" " alt="" coords="1444,1369,1625,1411"/>
<area shape="poly" title=" " alt="" coords="1331,1308,1435,1354,1452,1360,1450,1365,1433,1359,1329,1313"/>
<area shape="poly" title=" " alt="" coords="1626,1386,1675,1385,1675,1390,1626,1391"/>
<area shape="poly" title=" " alt="" coords="1561,1410,1684,1518,1757,1576,1753,1580,1681,1523,1558,1414"/>
<area shape="poly" title=" " alt="" coords="1617,1365,1694,1345,1695,1350,1619,1371"/>
<area shape="poly" title=" " alt="" coords="1306,1198,1362,1147,1433,1092,1463,1074,1491,1061,1541,1045,1587,1026,1609,1009,1633,984,1674,923,1707,855,1733,785,1752,714,1774,586,1782,496,1787,496,1780,587,1757,716,1738,786,1712,857,1679,926,1637,988,1613,1013,1590,1030,1543,1050,1493,1066,1465,1078,1436,1096,1365,1151,1310,1202"/>
<area shape="rect" href="class_r_g_w_remote_meta_log.html#a6835924071933cde93d06155bcd32f01" title=" " alt="" coords="1444,1302,1625,1345"/>
<area shape="poly" title=" " alt="" coords="1356,1241,1387,1253,1477,1292,1475,1297,1385,1258,1355,1246"/>
<area shape="poly" title=" " alt="" coords="1624,1343,1716,1366,1714,1371,1623,1348"/>
<area shape="poly" title=" " alt="" coords="1622,1343,1637,1355,1652,1375,1661,1396,1665,1435,1667,1476,1673,1497,1685,1519,1714,1551,1748,1576,1745,1581,1711,1555,1680,1522,1668,1499,1662,1477,1660,1436,1656,1397,1648,1378,1633,1358,1619,1347"/>
<area shape="poly" title=" " alt="" coords="1626,1321,1694,1321,1694,1326,1626,1326"/>
</map>
</div>
<div class="dynheader">
이 함수를 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="rgw__admin_8cc_a72e671e3f52c5bce91c050a50dcbc75a_icgraph.png" border="0" usemap="#argw__admin_8cc_a72e671e3f52c5bce91c050a50dcbc75a_icgraph" alt=""/></div>
<map name="argw__admin_8cc_a72e671e3f52c5bce91c050a50dcbc75a_icgraph" id="argw__admin_8cc_a72e671e3f52c5bce91c050a50dcbc75a_icgraph">
<area shape="rect" title=" " alt="" coords="2205,571,2354,597"/>
<area shape="rect" href="rgw__admin_8cc.html#a313adbe2d817ca90ee002626049cdacf" title=" " alt="" coords="2064,571,2157,597"/>
<area shape="poly" title=" " alt="" coords="2189,596,2157,595,2157,589,2189,590"/>
<area shape="poly" title=" " alt="" coords="2172,573,2204,572,2204,578,2172,578"/>
<area shape="rect" href="class_r_g_w_period.html#a1b78df2d42f8148b6d94e9787cc55b0f" title=" " alt="" coords="1309,131,1450,157"/>
<area shape="poly" title=" " alt="" coords="2104,555,2096,466,2079,349,2067,291,2052,240,2035,198,2014,171,1981,147,1944,127,1905,111,1865,99,1781,87,1696,85,1614,92,1539,104,1424,133,1423,128,1538,99,1614,87,1696,80,1781,81,1866,94,1907,106,1946,122,1983,142,2018,167,2039,195,2057,238,2072,290,2084,348,2101,465,2110,555"/>
<area shape="rect" href="rgw__admin_8cc.html#a217dbf8b442f20279ea00b898af96f52" title=" " alt="" coords="5,640,55,667"/>
<area shape="poly" title=" " alt="" coords="2104,556,2096,511,2080,455,2054,399,2036,373,2015,351,1969,316,1927,291,1887,275,1847,267,1804,263,1758,262,1647,264,428,264,326,268,285,274,247,284,211,300,177,322,142,351,105,390,82,420,65,454,53,490,44,527,35,593,34,640,28,640,30,593,39,526,47,489,60,452,78,417,101,386,138,347,174,317,209,295,245,279,284,268,326,262,428,259,1647,259,1758,257,1805,257,1848,261,1889,270,1930,287,1972,312,2018,347,2040,370,2058,396,2085,453,2101,510,2109,555"/>
<area shape="rect" href="class_r_g_w_period.html#a789657c727994fc695ddf1248f678eac" title=" " alt="" coords="1309,916,1450,943"/>
<area shape="poly" title=" " alt="" coords="2104,613,2093,647,2075,686,2050,726,2018,760,1942,783,1778,828,1435,918,1434,913,1777,823,1941,778,2015,755,2046,723,2070,684,2088,645,2099,611"/>
<area shape="rect" href="rgw__admin_8cc.html#addb2515e11fb8fc09013757e769993e6" title=" " alt="" coords="1050,428,1192,455"/>
<area shape="poly" title=" " alt="" coords="2056,566,2015,549,1902,519,1784,496,1666,479,1551,467,1344,453,1193,449,1193,443,1344,448,1551,461,1666,473,1785,491,1903,514,2017,544,2058,561"/>
<area shape="rect" href="class_r_g_w_period.html#a962d1ba643a8dd2463b72c77188df35c" title=" " alt="" coords="1836,659,1987,701"/>
<area shape="poly" title=" " alt="" coords="2082,609,2052,630,2018,649,1989,661,1987,656,2015,644,2049,625,2079,604"/>
<area shape="rect" href="class_r_g_w_meta_sync_status_manager.html#a16720f99e7f45e7c16f6a72acf0cae80" title=" " alt="" coords="1279,541,1480,584"/>
<area shape="poly" title=" " alt="" coords="2048,570,2016,564,1881,550,1775,548,1533,557,1480,559,1480,554,1533,552,1775,543,1881,545,2017,559,2049,565"/>
<area shape="rect" href="rgw__zone_8cc.html#acbc9d0f3bd530587c7e7e64073d5bf2c" title=" " alt="" coords="1059,700,1183,727"/>
<area shape="poly" title=" " alt="" coords="2101,613,2070,668,2046,695,2018,716,1986,728,1947,738,1850,751,1736,756,1612,755,1368,741,1183,723,1184,718,1368,735,1612,749,1736,751,1850,746,1946,733,1984,723,2015,711,2043,691,2065,665,2096,611"/>
<area shape="rect" href="class_r_g_w_remote_data_log.html#aa781e10fae1b2aad769f12ae97692004" title=" " alt="" coords="1826,181,1997,224"/>
<area shape="poly" title=" " alt="" coords="2107,555,2104,492,2091,409,2079,365,2063,322,2042,281,2014,245,1991,227,1995,222,2018,241,2046,278,2068,320,2084,364,2096,408,2109,491,2112,555"/>
<area shape="rect" href="class_r_g_w_remote_data_log.html#ad7c62d2805330625048edb27c009b46d" title=" " alt="" coords="1822,877,2001,920"/>
<area shape="poly" title=" " alt="" coords="2110,613,2103,665,2088,731,2061,799,2042,832,2018,861,1994,879,1991,875,2014,857,2037,829,2056,797,2083,729,2098,664,2105,612"/>
<area shape="rect" href="class_r_g_w_data_sync_status_manager.html#a1e9f01ad9a9aa457c3783b3dfa4c07f0" title=" " alt="" coords="1547,984,1745,1027"/>
<area shape="poly" title=" " alt="" coords="2108,613,2099,657,2083,710,2056,764,2039,788,2018,810,1991,829,1966,840,1941,845,1917,846,1866,849,1838,855,1808,868,1766,895,1727,927,1668,985,1664,982,1723,923,1763,890,1806,863,1837,850,1865,843,1916,841,1940,839,1964,835,1989,825,2015,806,2035,785,2052,761,2078,708,2094,655,2103,612"/>
<area shape="rect" href="class_r_g_w_remote_meta_log.html#a0b1f50798e7338bb54bff5872318f785" title=" " alt="" coords="1821,592,2002,635"/>
<area shape="poly" title=" " alt="" coords="2049,596,2003,603,2002,597,2048,590"/>
<area shape="rect" href="class_r_g_w_meta_sync_status_manager.html#a5b874bd603d866e6b588092efcaad4c3" title=" " alt="" coords="1546,567,1746,609"/>
<area shape="poly" title=" " alt="" coords="2049,584,2016,583,1807,583,1747,585,1746,580,1807,577,2016,577,2049,578"/>
<area shape="rect" href="class_r_g_w_remote_bucket_manager.html#a25798d2aa486ddf8a666e96e9574790f" title=" " alt="" coords="1817,944,2006,987"/>
<area shape="poly" title=" " alt="" coords="2113,613,2111,678,2098,764,2087,809,2070,854,2047,896,2018,934,2004,946,2001,941,2014,930,2043,893,2065,852,2082,808,2093,763,2105,678,2107,613"/>
<area shape="rect" href="class_r_g_w_remote_meta_log.html#acda3cdc36d0f85d5292141bca4cb37a9" title=" " alt="" coords="1807,361,2016,388"/>
<area shape="poly" title=" " alt="" coords="2099,557,2087,523,2069,485,2045,446,2015,413,1996,400,1975,391,1978,386,1999,396,2018,409,2049,443,2074,482,2092,521,2104,555"/>
<area shape="rect" href="class_r_g_w_period.html#a9f872876d61c9bdc3413d4ebc3d9c806" title=" " alt="" coords="805,5,955,32"/>
<area shape="poly" title=" " alt="" coords="1308,129,936,35,937,30,1309,124"/>
<area shape="rect" href="class_r_g_w_period.html#a0bb4affb3673a6086cd2d6b2de0d0ca7" title=" " alt="" coords="1040,123,1202,165"/>
<area shape="poly" title=" " alt="" coords="1294,147,1203,147,1203,141,1294,141"/>
<area shape="rect" href="class_r_g_w_period.html#a858b78a44963a5743a561f45098cd32d" title=" " alt="" coords="593,68,708,95"/>
<area shape="poly" title=" " alt="" coords="814,39,703,70,702,65,813,34"/>
<area shape="rect" href="class_r_g_w_period.html#a732df12a248a940293ecab3f005c7c81" title=" " alt="" coords="802,56,958,99"/>
<area shape="poly" title=" " alt="" coords="1026,121,957,101,959,96,1028,115"/>
<area shape="rect" href="class_r_g_w_period.html#a171e0664b28ddedf9facc578d12c7a9a" title=" " alt="" coords="792,681,968,724"/>
<area shape="poly" title=" " alt="" coords="1107,180,893,682,888,680,1102,178"/>
<area shape="rect" href="class_r_g_w_period.html#a3ff0e67155215f85caaa4909c49b3b5f" title=" " alt="" coords="801,123,959,165"/>
<area shape="poly" title=" " alt="" coords="1025,147,959,147,959,141,1025,141"/>
<area shape="rect" href="class_r_g_w_period.html#ac2ee7a44ae93d4f27a9cb89fff99337c" title=" " alt="" coords="580,833,721,860"/>
<area shape="poly" title=" " alt="" coords="801,734,793,738,769,759,745,782,674,835,671,831,742,778,765,755,790,734,798,729"/>
<area shape="rect" href="class_r_g_w_op___period___post.html#abcff3a2b0a17526dc84c53af6949df85" title=" " alt="" coords="351,675,507,717"/>
<area shape="poly" title=" " alt="" coords="776,704,508,700,508,694,776,698"/>
<area shape="rect" href="rgw__admin_8cc.html#a693377846b7628a32c724cf0200e5a9e" title=" " alt="" coords="598,741,703,768"/>
<area shape="poly" title=" " alt="" coords="777,729,703,746,702,740,776,723"/>
<area shape="rect" href="class_r_g_w_period_puller.html#a926a489065e72d0f2b0fe48ac773bfa3" title=" " alt="" coords="575,635,726,661"/>
<area shape="poly" title=" " alt="" coords="776,681,709,665,710,659,777,675"/>
<area shape="rect" href="rgw__admin_8cc.html#aa84c5ba46881dc6ab82e752f5864a5d6" title=" " alt="" coords="376,1017,482,1044"/>
<area shape="poly" title=" " alt="" coords="607,870,582,886,559,906,544,929,537,951,529,973,511,997,476,1019,473,1015,508,993,524,971,532,949,539,927,555,902,579,882,604,866"/>
<area shape="poly" title=" " alt="" coords="615,826,461,720,464,716,618,822"/>
<area shape="poly" title=" " alt="" coords="360,1031,289,1025,213,1016,146,1000,119,990,101,978,84,954,70,918,49,827,36,733,30,668,35,667,41,733,55,826,75,916,89,951,105,974,122,986,147,995,214,1010,290,1020,361,1025"/>
<area shape="rect" href="rgw__admin_8cc.html#a4dd5fe9ff30e3225bca7a06c01dde2bd" title=" " alt="" coords="151,1039,253,1065"/>
<area shape="poly" title=" " alt="" coords="361,1040,254,1050,253,1045,360,1034"/>
<area shape="poly" title=" " alt="" coords="135,1044,117,1035,101,1022,84,993,69,951,48,846,35,740,30,667,35,667,41,739,54,845,75,950,88,991,105,1018,119,1031,137,1039"/>
<area shape="poly" title=" " alt="" coords="583,755,473,747,349,732,263,716,179,696,54,663,56,658,181,691,264,711,349,727,473,742,583,749"/>
<area shape="poly" title=" " alt="" coords="785,121,702,98,703,93,786,116"/>
<area shape="rect" href="class_r_g_w_period.html#aad876e2bf1fe7bd5c326dca3e5d06167" title=" " alt="" coords="1044,1013,1199,1056"/>
<area shape="poly" title=" " alt="" coords="1331,951,1275,974,1177,1015,1175,1010,1273,970,1329,946"/>
<area shape="rect" href="class_r_g_w_period.html#a9f31f8de41684b5f70a40eedf88385ac" title=" " alt="" coords="1044,916,1198,943"/>
<area shape="poly" title=" " alt="" coords="1294,932,1199,932,1199,927,1294,927"/>
<area shape="poly" title=" " alt="" coords="1065,1006,1037,984,1014,956,999,925,992,896,994,842,995,816,993,791,984,765,966,738,953,726,957,722,970,734,989,762,998,790,1000,816,999,842,998,895,1004,923,1018,953,1041,980,1068,1002"/>
<area shape="poly" title=" " alt="" coords="1073,1066,1024,1091,969,1109,854,1133,762,1143,717,1141,670,1135,557,1109,524,1097,493,1080,445,1047,448,1042,496,1076,526,1092,558,1104,671,1130,718,1136,762,1137,853,1128,967,1104,1022,1086,1071,1062"/>
<area shape="rect" href="class_r_g_w_period.html#a712625093a5b4aa41606a5bd88dba2d7" title=" " alt="" coords="813,1068,947,1095"/>
<area shape="poly" title=" " alt="" coords="1029,1055,948,1071,947,1066,1028,1050"/>
<area shape="poly" title=" " alt="" coords="860,1056,811,984,778,944,742,906,710,882,678,863,681,858,713,877,745,902,782,940,816,981,865,1053"/>
<area shape="rect" href="class_r_g_w_realm.html#a94df61b7090e87e6c429ba8817667e91" title=" " alt="" coords="583,1068,718,1095"/>
<area shape="poly" title=" " alt="" coords="797,1084,718,1084,718,1079,797,1079"/>
<area shape="poly" title=" " alt="" coords="599,1103,496,1131,433,1143,364,1150,294,1150,225,1140,159,1117,129,1100,101,1079,79,1048,62,1000,49,942,41,877,31,752,29,667,34,667,36,752,46,877,55,941,67,999,84,1046,105,1075,132,1096,162,1112,226,1134,294,1145,364,1145,432,1138,495,1126,597,1098"/>
<area shape="rect" href="class_r_g_w_s_i___zone.html#a205deedd36f60c1cbe8fb13b70fa497c" title=" " alt="" coords="349,940,509,983"/>
<area shape="poly" title=" " alt="" coords="610,1063,469,986,472,981,612,1058"/>
<area shape="rect" href="class_r_g_w_s_i___zone.html#ad23dec454ebb23b2404d687a81ae0d70" title=" " alt="" coords="124,937,280,964"/>
<area shape="poly" title=" " alt="" coords="334,960,280,957,280,952,334,954"/>
<area shape="poly" title=" " alt="" coords="1029,916,721,862,722,856,1029,911"/>
<area shape="poly" title=" " alt="" coords="1034,949,968,960,695,1000,483,1027,483,1022,695,994,968,955,1033,943"/>
<area shape="poly" title=" " alt="" coords="1080,953,1048,975,1018,1003,1009,1017,1003,1031,998,1059,992,1085,983,1098,969,1109,922,1135,872,1154,820,1168,766,1176,712,1179,657,1178,550,1166,449,1144,359,1117,232,1068,234,1063,361,1112,450,1139,551,1161,658,1173,712,1174,766,1171,819,1163,870,1149,920,1130,967,1104,979,1094,987,1083,993,1058,998,1030,1004,1015,1014,1000,1044,971,1077,948"/>
<area shape="poly" title=" " alt="" coords="1102,904,1014,740,1002,707,997,680,988,656,966,634,913,603,864,583,818,574,772,574,725,580,675,592,558,625,504,648,460,676,457,672,502,643,556,620,674,587,724,575,772,569,818,569,866,578,915,598,970,630,993,653,1002,678,1007,706,1018,738,1107,901"/>
<area shape="poly" title=" " alt="" coords="1072,912,967,870,692,771,693,766,969,866,1074,907"/>
<area shape="poly" title=" " alt="" coords="1102,903,1025,765,987,701,966,671,939,657,909,646,845,635,783,633,727,637,727,632,783,627,846,629,910,641,941,652,970,667,991,698,1029,762,1107,901"/>
<area shape="poly" title=" " alt="" coords="1086,953,1018,1003,995,1028,969,1052,931,1070,929,1065,967,1047,991,1025,1014,999,1083,949"/>
<area shape="poly" title=" " alt="" coords="1028,939,744,957,510,963,510,958,744,952,1028,934"/>
<area shape="rect" href="class_r_g_w_period.html#ac34e6f602944e47c4e1d4b39bc7b9ed7" title=" " alt="" coords="557,916,744,943"/>
<area shape="poly" title=" " alt="" coords="1029,932,744,932,744,927,1029,927"/>
<area shape="poly" title=" " alt="" coords="543,948,510,952,509,947,542,942"/>
<area shape="poly" title=" " alt="" coords="1208,430,1362,429,1565,440,1677,451,1792,468,1906,491,2017,520,2066,542,2102,568,2098,572,2063,547,2015,525,1905,496,1791,473,1677,457,1565,445,1362,434,1208,435"/>
<area shape="rect" href="class_r_g_w_meta_sync_c_r.html#afad7b38b095d66c0aea14d72c5b2505a" title=" " alt="" coords="1555,667,1737,693"/>
<area shape="poly" title=" " alt="" coords="1821,683,1737,683,1737,677,1821,677"/>
<area shape="poly" title=" " alt="" coords="1270,540,1226,532,1054,504,979,497,881,495,428,495,333,488,256,481,221,481,185,488,147,502,104,526,77,551,58,583,45,615,37,640,32,639,40,613,53,581,73,548,101,522,144,497,184,483,220,476,256,475,333,483,428,489,881,489,979,492,1055,499,1227,527,1271,535"/>
<area shape="poly" title=" " alt="" coords="1294,537,1273,525,1258,512,1248,499,1239,487,1225,476,1185,458,1187,453,1228,471,1243,484,1253,496,1262,508,1276,520,1297,532"/>
<area shape="rect" href="class_r_g_w_meta_sync_processor_thread.html#afc360f6d27adbc707c78067d8f789be1" title=" " alt="" coords="1016,541,1226,584"/>
<area shape="poly" title=" " alt="" coords="1264,565,1227,565,1227,560,1264,560"/>
<area shape="poly" title=" " alt="" coords="1329,594,1147,702,1145,697,1327,590"/>
<area shape="rect" href="class_r_g_w_period.html#af20e32f528fccfe8767df0541ed422af" title=" " alt="" coords="794,748,966,791"/>
<area shape="poly" title=" " alt="" coords="1046,733,967,752,966,747,1045,728"/>
<area shape="poly" title=" " alt="" coords="801,799,694,835,692,830,799,794"/>
<area shape="rect" href="class_r_g_w_data_sync_status_manager.html#a42ca31291a2adf642041ed34ce58095c" title=" " alt="" coords="103,181,301,224"/>
<area shape="poly" title=" " alt="" coords="1810,205,1381,205,649,205,301,205,301,200,649,200,1381,200,1810,200"/>
<area shape="poly" title=" " alt="" coords="114,235,105,244,88,276,73,323,52,441,40,560,35,640,29,639,35,559,47,440,68,322,83,274,101,241,110,231"/>
<area shape="poly" title=" " alt="" coords="1826,928,1808,934,1692,986,1690,981,1806,930,1824,923"/>
<area shape="poly" title=" " alt="" coords="1758,1027,1820,1033,1887,1032,1953,1021,1985,1011,2015,996,2073,955,2122,904,2164,845,2199,785,2227,726,2248,672,2272,597,2277,599,2253,674,2232,728,2204,787,2169,848,2126,907,2076,959,2018,1001,1987,1016,1954,1026,1887,1037,1820,1038,1758,1032"/>
<area shape="poly" title=" " alt="" coords="1607,1038,1523,1096,1468,1128,1406,1161,1340,1190,1269,1214,1196,1230,1123,1236,428,1236,328,1239,246,1237,209,1229,173,1214,137,1189,101,1154,89,1136,78,1114,61,1056,48,986,39,909,30,763,29,667,34,667,36,763,45,909,53,985,66,1055,83,1112,93,1134,105,1150,141,1185,176,1209,211,1224,247,1232,328,1234,428,1231,1122,1231,1195,1225,1268,1209,1338,1185,1404,1156,1466,1124,1520,1091,1604,1034"/>
<area shape="rect" href="class_r_g_w_op___d_a_t_a_log___status.html#a4f79dca41731b7246ffaef20a77180be" title=" " alt="" coords="1291,984,1468,1027"/>
<area shape="poly" title=" " alt="" coords="1531,1008,1469,1008,1469,1003,1531,1003"/>
<area shape="poly" title=" " alt="" coords="1806,606,1746,600,1747,595,1806,601"/>
<area shape="poly" title=" " alt="" coords="1530,597,1485,599,1353,605,1250,611,1147,611,1016,599,991,592,967,585,811,555,741,548,652,545,428,545,373,548,317,557,210,584,120,617,56,644,54,639,118,612,209,579,316,552,372,543,428,540,652,540,742,542,811,550,969,580,993,587,1016,593,1147,606,1250,606,1352,599,1485,593,1530,592"/>
<area shape="poly" title=" " alt="" coords="1575,563,1484,532,1326,489,1189,458,1190,453,1327,484,1485,527,1576,558"/>
<area shape="poly" title=" " alt="" coords="1530,580,1480,575,1480,570,1530,574"/>
<area shape="poly" title=" " alt="" coords="1569,617,1485,643,1323,680,1184,706,1183,701,1322,675,1484,637,1568,612"/>
<area shape="rect" href="class_r_g_w_meta_sync_status_manager.html#a2e6dcb3f153919994f8b9864c033210a" title=" " alt="" coords="1533,357,1759,384"/>
<area shape="poly" title=" " alt="" coords="1792,376,1759,375,1759,370,1792,370"/>
<area shape="poly" title=" " alt="" coords="1572,356,1484,340,1304,319,1122,315,428,315,372,317,324,324,283,337,247,355,213,378,179,407,105,484,77,524,57,568,36,640,31,639,52,566,72,522,101,481,175,403,209,374,244,350,281,332,323,319,371,312,428,309,1123,309,1304,314,1485,335,1573,351"/>
<area shape="rect" href="class_r_g_w_meta_sync_processor_thread.html#abe2acfcf6f22db63d007a86d6c389262" title=" " alt="" coords="1274,349,1485,392"/>
<area shape="poly" title=" " alt="" coords="1517,373,1485,373,1485,368,1517,368"/>
</map>
</div>

</div>
</div>
<a id="ac0d34a23b71e61b836ad1f30aea3fe0a" name="ac0d34a23b71e61b836ad1f30aea3fe0a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac0d34a23b71e61b836ad1f30aea3fe0a">&#9670;&#160;</a></span>get_hint_entities()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void get_hint_entities </td>
          <td>(</td>
          <td class="paramtype">const std::set&lt; <a class="el" href="structrgw__zone__id.html">rgw_zone_id</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>zones</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::set&lt; <a class="el" href="structrgw__bucket.html">rgw_bucket</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>buckets</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::set&lt; <a class="el" href="structrgw__sync__bucket__entity.html">rgw_sync_bucket_entity</a> &gt; *&#160;</td>
          <td class="paramname"><em>hint_entities</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition"><a class="el" href="rgw__admin_8cc_source.html">rgw_admin.cc</a> 파일의 <a class="el" href="rgw__admin_8cc_source.html#l02582">2582</a> 번째 라인에서 정의되었습니다.</p>
<div class="fragment"><div class="line"><span class="lineno"> 2584</span>{</div>
<div class="line"><span class="lineno"> 2585</span>  <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp; zone_id : zones) {</div>
<div class="line"><span class="lineno"> 2586</span>    <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp; b : buckets) {</div>
<div class="line"><span class="lineno"> 2587</span>      std::unique_ptr&lt;rgw::sal::Bucket&gt; hint_bucket;</div>
<div class="line"><span class="lineno"> 2588</span>      <span class="keywordtype">int</span> ret = <a class="code hl_function" href="rgw__admin_8cc.html#a0023a8779e3ab0d965d9acfb3eb72cac">init_bucket</a>(<span class="keyword">nullptr</span>, b, &amp;hint_bucket);</div>
<div class="line"><span class="lineno"> 2589</span>      <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno"> 2590</span>    ldpp_dout(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>(), 20) &lt;&lt; <span class="stringliteral">&quot;could not init bucket info for hint bucket=&quot;</span> &lt;&lt; b &lt;&lt; <span class="stringliteral">&quot; ... skipping&quot;</span> &lt;&lt; dendl;</div>
<div class="line"><span class="lineno"> 2591</span>    <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 2592</span>      }</div>
<div class="line"><span class="lineno"> 2593</span> </div>
<div class="line"><span class="lineno"> 2594</span>      hint_entities-&gt;insert(<a class="code hl_struct" href="structrgw__sync__bucket__entity.html">rgw_sync_bucket_entity</a>(zone_id, hint_bucket-&gt;get_key()));</div>
<div class="line"><span class="lineno"> 2595</span>    }</div>
<div class="line"><span class="lineno"> 2596</span>  }</div>
<div class="line"><span class="lineno"> 2597</span>}</div>
<div class="ttc" id="astructrgw__sync__bucket__entity_html"><div class="ttname"><a href="structrgw__sync__bucket__entity.html">rgw_sync_bucket_entity</a></div><div class="ttdef"><b>Definition</b> <a href="rgw__sync__policy_8h_source.html#l00073">rgw_sync_policy.h:73</a></div></div>
</div><!-- fragment --><div class="dynheader">
이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="rgw__admin_8cc_ac0d34a23b71e61b836ad1f30aea3fe0a_cgraph.png" border="0" usemap="#argw__admin_8cc_ac0d34a23b71e61b836ad1f30aea3fe0a_cgraph" alt=""/></div>
<map name="argw__admin_8cc_ac0d34a23b71e61b836ad1f30aea3fe0a_cgraph" id="argw__admin_8cc_ac0d34a23b71e61b836ad1f30aea3fe0a_cgraph">
<area shape="rect" title=" " alt="" coords="5,31,122,57"/>
<area shape="rect" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5" title=" " alt="" coords="347,5,389,32"/>
<area shape="poly" title=" " alt="" coords="122,37,331,19,331,24,122,42"/>
<area shape="rect" href="rgw__admin_8cc.html#a0023a8779e3ab0d965d9acfb3eb72cac" title=" " alt="" coords="170,56,254,83"/>
<area shape="poly" title=" " alt="" coords="122,51,155,57,154,62,122,57"/>
<area shape="poly" title=" " alt="" coords="254,53,331,28,332,33,255,58"/>
<area shape="rect" href="classrgw_1_1sal_1_1_store.html#a3308ce50125b19ccdf5ce7f69958bd67" title=" " alt="" coords="302,56,433,99"/>
<area shape="poly" title=" " alt="" coords="255,69,287,71,287,76,254,74"/>
</map>
</div>
<div class="dynheader">
이 함수를 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="rgw__admin_8cc_ac0d34a23b71e61b836ad1f30aea3fe0a_icgraph.png" border="0" usemap="#argw__admin_8cc_ac0d34a23b71e61b836ad1f30aea3fe0a_icgraph" alt=""/></div>
<map name="argw__admin_8cc_ac0d34a23b71e61b836ad1f30aea3fe0a_icgraph" id="argw__admin_8cc_ac0d34a23b71e61b836ad1f30aea3fe0a_icgraph">
<area shape="rect" title=" " alt="" coords="1153,280,1269,307"/>
<area shape="rect" href="rgw__admin_8cc.html#abfa871472fdef30cd489d5795df05b4d" title=" " alt="" coords="1029,280,1105,307"/>
<area shape="poly" title=" " alt="" coords="1138,296,1106,296,1106,291,1138,291"/>
<area shape="rect" href="structrgw__data__sync__status.html#a0efc3edb8a9d925394a5836f2e896def" title=" " alt="" coords="812,5,964,48"/>
<area shape="poly" title=" " alt="" coords="1060,265,1053,221,1038,166,1014,111,998,85,979,62,962,49,966,45,983,58,1003,82,1019,108,1043,165,1058,220,1065,264"/>
<area shape="rect" href="structrgw__meta__sync__status.html#ad88c1542f334a6deaabcf2cec315e335" title=" " alt="" coords="810,72,966,115"/>
<area shape="poly" title=" " alt="" coords="1056,266,1029,197,1007,161,979,129,963,117,966,113,982,125,1011,157,1034,195,1061,264"/>
<area shape="rect" href="structrgw__data__sync__status.html#a75f459b743f801688caa14ac8bc5744f" title=" " alt="" coords="812,139,964,181"/>
<area shape="poly" title=" " alt="" coords="1047,268,1018,231,979,195,960,184,962,180,982,191,1022,227,1051,265"/>
<area shape="rect" href="structrgw__data__sync__status.html#acd7ae109a107d8251f757ab43bcdd7f9" title=" " alt="" coords="812,205,964,248"/>
<area shape="poly" title=" " alt="" coords="1015,276,980,262,949,251,951,246,982,258,1017,271"/>
<area shape="rect" href="structrgw__data__sync__status.html#a3e37aa43047f24ad8b2d438d35d04ff2" title=" " alt="" coords="812,272,964,315"/>
<area shape="poly" title=" " alt="" coords="1013,296,964,296,964,291,1013,291"/>
<area shape="rect" href="structrgw__meta__sync__status.html#a551759a5fb384fcd3bd5ebb02844d3a0" title=" " alt="" coords="810,339,966,381"/>
<area shape="poly" title=" " alt="" coords="1017,315,982,329,951,341,949,336,980,324,1015,310"/>
<area shape="rect" href="class_r_g_w_remote_meta_log.html#a0964ba1cde7b10e005105faab2f1cfbc" title=" " alt="" coords="801,405,975,448"/>
<area shape="poly" title=" " alt="" coords="1051,321,1022,359,982,395,962,407,960,402,979,391,1018,356,1047,318"/>
<area shape="rect" href="rgw__admin_8cc.html#a217dbf8b442f20279ea00b898af96f52" title=" " alt="" coords="86,472,135,499"/>
<area shape="poly" title=" " alt="" coords="1063,323,1053,356,1038,395,1014,433,982,462,950,478,908,491,805,508,682,515,550,516,299,504,135,490,136,485,300,499,550,510,682,510,804,502,907,486,948,473,979,458,1010,429,1033,393,1048,355,1058,321"/>
<area shape="rect" href="class_r_g_w_remote_meta_log.html#a8d13af2ee432f0d8cebfa6524809ea51" title=" " alt="" coords="795,523,981,565"/>
<area shape="poly" title=" " alt="" coords="1064,323,1055,362,1039,411,1016,461,983,506,958,524,955,520,979,502,1011,459,1034,409,1050,361,1058,321"/>
<area shape="rect" href="class_r_g_w_meta_sync_status_manager.html#a54e018493477c2cff0cfb7e9dfffc781" title=" " alt="" coords="277,405,477,448"/>
<area shape="poly" title=" " alt="" coords="786,429,477,429,477,424,786,424"/>
<area shape="poly" title=" " alt="" coords="263,454,136,483,135,477,262,449"/>
<area shape="rect" href="class_r_g_w_remote_meta_log.html#acda3cdc36d0f85d5292141bca4cb37a9" title=" " alt="" coords="538,531,747,557"/>
<area shape="poly" title=" " alt="" coords="780,547,748,547,748,541,780,541"/>
<area shape="rect" href="class_r_g_w_meta_sync_status_manager.html#a2e6dcb3f153919994f8b9864c033210a" title=" " alt="" coords="264,531,490,557"/>
<area shape="poly" title=" " alt="" coords="523,547,490,547,490,541,523,541"/>
<area shape="poly" title=" " alt="" coords="297,529,135,493,136,488,298,524"/>
<area shape="rect" href="class_r_g_w_meta_sync_processor_thread.html#abe2acfcf6f22db63d007a86d6c389262" title=" " alt="" coords="5,523,216,565"/>
<area shape="poly" title=" " alt="" coords="248,547,216,547,216,541,248,541"/>
</map>
</div>

</div>
</div>
<a id="a12ea66a840022d0ede38215156d30852" name="a12ea66a840022d0ede38215156d30852"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a12ea66a840022d0ede38215156d30852">&#9670;&#160;</a></span>get_log_type()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="rgw__log__backing_8h.html#a8488e4c6d9298df81f48a34e80c81410">log_type</a> get_log_type </td>
          <td>(</td>
          <td class="paramtype">const string &amp;&#160;</td>
          <td class="paramname"><em>type_str</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition"><a class="el" href="rgw__admin_8cc_source.html">rgw_admin.cc</a> 파일의 <a class="el" href="rgw__admin_8cc_source.html#l01067">1067</a> 번째 라인에서 정의되었습니다.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1067</span>                                              {</div>
<div class="line"><span class="lineno"> 1068</span>  <span class="keywordflow">if</span> (strcasecmp(type_str.c_str(), <span class="stringliteral">&quot;fifo&quot;</span>) == 0)</div>
<div class="line"><span class="lineno"> 1069</span>    <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="rgw__log__backing_8h.html#a8488e4c6d9298df81f48a34e80c81410acf54937a2330ac17aa523bf7130911a3">log_type::fifo</a>;</div>
<div class="line"><span class="lineno"> 1070</span>  <span class="keywordflow">if</span> (strcasecmp(type_str.c_str(), <span class="stringliteral">&quot;omap&quot;</span>) == 0)</div>
<div class="line"><span class="lineno"> 1071</span>    <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="rgw__log__backing_8h.html#a8488e4c6d9298df81f48a34e80c81410a0d825ebc0b059b52dbdb378b7413299f">log_type::omap</a>;</div>
<div class="line"><span class="lineno"> 1072</span> </div>
<div class="line"><span class="lineno"> 1073</span>  <span class="keywordflow">return</span> <span class="keyword">static_cast&lt;</span><a class="code hl_enumeration" href="rgw__log__backing_8h.html#a8488e4c6d9298df81f48a34e80c81410">log_type</a><span class="keyword">&gt;</span>(0xff);</div>
<div class="line"><span class="lineno"> 1074</span>}</div>
<div class="ttc" id="argw__log__backing_8h_html_a8488e4c6d9298df81f48a34e80c81410"><div class="ttname"><a href="rgw__log__backing_8h.html#a8488e4c6d9298df81f48a34e80c81410">log_type</a></div><div class="ttdeci">log_type</div><div class="ttdef"><b>Definition</b> <a href="rgw__log__backing_8h_source.html#l00039">rgw_log_backing.h:39</a></div></div>
<div class="ttc" id="argw__log__backing_8h_html_a8488e4c6d9298df81f48a34e80c81410a0d825ebc0b059b52dbdb378b7413299f"><div class="ttname"><a href="rgw__log__backing_8h.html#a8488e4c6d9298df81f48a34e80c81410a0d825ebc0b059b52dbdb378b7413299f">log_type::omap</a></div><div class="ttdeci">@ omap</div></div>
<div class="ttc" id="argw__log__backing_8h_html_a8488e4c6d9298df81f48a34e80c81410acf54937a2330ac17aa523bf7130911a3"><div class="ttname"><a href="rgw__log__backing_8h.html#a8488e4c6d9298df81f48a34e80c81410acf54937a2330ac17aa523bf7130911a3">log_type::fifo</a></div><div class="ttdeci">@ fifo</div></div>
</div><!-- fragment --><div class="dynheader">
이 함수를 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="rgw__admin_8cc_a12ea66a840022d0ede38215156d30852_icgraph.png" border="0" usemap="#argw__admin_8cc_a12ea66a840022d0ede38215156d30852_icgraph" alt=""/></div>
<map name="argw__admin_8cc_a12ea66a840022d0ede38215156d30852_icgraph" id="argw__admin_8cc_a12ea66a840022d0ede38215156d30852_icgraph">
<area shape="rect" title=" " alt="" coords="103,5,198,32"/>
<area shape="rect" href="rgw__admin_8cc.html#a217dbf8b442f20279ea00b898af96f52" title=" " alt="" coords="5,5,55,32"/>
<area shape="poly" title=" " alt="" coords="87,21,55,21,55,16,87,16"/>
</map>
</div>

</div>
</div>
<a id="addb2515e11fb8fc09013757e769993e6" name="addb2515e11fb8fc09013757e769993e6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#addb2515e11fb8fc09013757e769993e6">&#9670;&#160;</a></span>get_md_sync_status()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void get_md_sync_status </td>
          <td>(</td>
          <td class="paramtype">list&lt; string &gt; &amp;&#160;</td>
          <td class="paramname"><em>status</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition"><a class="el" href="rgw__admin_8cc_source.html">rgw_admin.cc</a> 파일의 <a class="el" href="rgw__admin_8cc_source.html#l02110">2110</a> 번째 라인에서 정의되었습니다.</p>
<div class="fragment"><div class="line"><span class="lineno"> 2111</span>{</div>
<div class="line"><span class="lineno"> 2112</span>  <a class="code hl_class" href="class_r_g_w_meta_sync_status_manager.html">RGWMetaSyncStatusManager</a> sync(<span class="keyword">static_cast&lt;</span><a class="code hl_class" href="classrgw_1_1sal_1_1_rados_store.html">rgw::sal::RadosStore</a>*<span class="keyword">&gt;</span>(<a class="code hl_variable" href="rgw__admin_8cc.html#a6fdb26d64b14d837b60e83a6ca3e2863">store</a>), <span class="keyword">static_cast&lt;</span><a class="code hl_class" href="classrgw_1_1sal_1_1_rados_store.html">rgw::sal::RadosStore</a>*<span class="keyword">&gt;</span>(<a class="code hl_variable" href="rgw__admin_8cc.html#a6fdb26d64b14d837b60e83a6ca3e2863">store</a>)-&gt;svc()-&gt;rados-&gt;get_async_processor());</div>
<div class="line"><span class="lineno"> 2113</span> </div>
<div class="line"><span class="lineno"> 2114</span>  <span class="keywordtype">int</span> ret = sync.init(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>());</div>
<div class="line"><span class="lineno"> 2115</span>  <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno"> 2116</span>    status.push_back(<span class="keywordtype">string</span>(<span class="stringliteral">&quot;failed to retrieve sync info: sync.init() failed: &quot;</span>) + cpp_strerror(-ret));</div>
<div class="line"><span class="lineno"> 2117</span>    <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 2118</span>  }</div>
<div class="line"><span class="lineno"> 2119</span> </div>
<div class="line"><span class="lineno"> 2120</span>  <a class="code hl_struct" href="structrgw__meta__sync__status.html">rgw_meta_sync_status</a> <a class="code hl_function" href="rgw__admin_8cc.html#a313adbe2d817ca90ee002626049cdacf">sync_status</a>;</div>
<div class="line"><span class="lineno"> 2121</span>  ret = sync.read_sync_status(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>(), &amp;<a class="code hl_function" href="rgw__admin_8cc.html#a313adbe2d817ca90ee002626049cdacf">sync_status</a>);</div>
<div class="line"><span class="lineno"> 2122</span>  <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno"> 2123</span>    status.push_back(<span class="keywordtype">string</span>(<span class="stringliteral">&quot;failed to read sync status: &quot;</span>) + cpp_strerror(-ret));</div>
<div class="line"><span class="lineno"> 2124</span>    <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 2125</span>  }</div>
<div class="line"><span class="lineno"> 2126</span> </div>
<div class="line"><span class="lineno"> 2127</span>  <span class="keywordtype">string</span> status_str;</div>
<div class="line"><span class="lineno"> 2128</span>  <span class="keywordflow">switch</span> (<a class="code hl_function" href="rgw__admin_8cc.html#a313adbe2d817ca90ee002626049cdacf">sync_status</a>.sync_info.state) {</div>
<div class="line"><span class="lineno"> 2129</span>    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="structrgw__meta__sync__info.html#a550876307fd125825921e43e06b829a8a553431dd3492ee6bce48c25cc37f0971">rgw_meta_sync_info::StateInit</a>:</div>
<div class="line"><span class="lineno"> 2130</span>      status_str = <span class="stringliteral">&quot;init&quot;</span>;</div>
<div class="line"><span class="lineno"> 2131</span>      <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 2132</span>    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="structrgw__meta__sync__info.html#a550876307fd125825921e43e06b829a8a2d2ec081ab409d32ab805d82e3490852">rgw_meta_sync_info::StateBuildingFullSyncMaps</a>:</div>
<div class="line"><span class="lineno"> 2133</span>      status_str = <span class="stringliteral">&quot;preparing for full sync&quot;</span>;</div>
<div class="line"><span class="lineno"> 2134</span>      <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 2135</span>    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="structrgw__meta__sync__info.html#a550876307fd125825921e43e06b829a8aac4bfe7f6c7ccc7708aeebf977a54b54">rgw_meta_sync_info::StateSync</a>:</div>
<div class="line"><span class="lineno"> 2136</span>      status_str = <span class="stringliteral">&quot;syncing&quot;</span>;</div>
<div class="line"><span class="lineno"> 2137</span>      <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 2138</span>    <span class="keywordflow">default</span>:</div>
<div class="line"><span class="lineno"> 2139</span>      status_str = <span class="stringliteral">&quot;unknown&quot;</span>;</div>
<div class="line"><span class="lineno"> 2140</span>  }</div>
<div class="line"><span class="lineno"> 2141</span> </div>
<div class="line"><span class="lineno"> 2142</span>  status.push_back(status_str);</div>
<div class="line"><span class="lineno"> 2143</span> </div>
<div class="line"><span class="lineno"> 2144</span>  uint64_t full_total = 0;</div>
<div class="line"><span class="lineno"> 2145</span>  uint64_t full_complete = 0;</div>
<div class="line"><span class="lineno"> 2146</span> </div>
<div class="line"><span class="lineno"> 2147</span>  <span class="keywordtype">int</span> num_full = 0;</div>
<div class="line"><span class="lineno"> 2148</span>  <span class="keywordtype">int</span> num_inc = 0;</div>
<div class="line"><span class="lineno"> 2149</span>  <span class="keywordtype">int</span> total_shards = 0;</div>
<div class="line"><span class="lineno"> 2150</span>  set&lt;int&gt; shards_behind_set;</div>
<div class="line"><span class="lineno"> 2151</span> </div>
<div class="line"><span class="lineno"> 2152</span>  <span class="keywordflow">for</span> (<span class="keyword">auto</span> marker_iter : <a class="code hl_function" href="rgw__admin_8cc.html#a313adbe2d817ca90ee002626049cdacf">sync_status</a>.sync_markers) {</div>
<div class="line"><span class="lineno"> 2153</span>    full_total += marker_iter.second.total_entries;</div>
<div class="line"><span class="lineno"> 2154</span>    total_shards++;</div>
<div class="line"><span class="lineno"> 2155</span>    <span class="keywordflow">if</span> (marker_iter.second.state == <a class="code hl_enumvalue" href="structrgw__meta__sync__marker.html#a4ef54e8775f35240a47a40f5661ec9f4a8c66af4c8c288fbeb9218bc541d8f3a4">rgw_meta_sync_marker::SyncState::FullSync</a>) {</div>
<div class="line"><span class="lineno"> 2156</span>      num_full++;</div>
<div class="line"><span class="lineno"> 2157</span>      full_complete += marker_iter.second.pos;</div>
<div class="line"><span class="lineno"> 2158</span>      <span class="keywordtype">int</span> shard_id = marker_iter.first;</div>
<div class="line"><span class="lineno"> 2159</span>      shards_behind_set.insert(shard_id);</div>
<div class="line"><span class="lineno"> 2160</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 2161</span>      full_complete += marker_iter.second.total_entries;</div>
<div class="line"><span class="lineno"> 2162</span>    }</div>
<div class="line"><span class="lineno"> 2163</span>    <span class="keywordflow">if</span> (marker_iter.second.state == <a class="code hl_enumvalue" href="structrgw__meta__sync__marker.html#a4ef54e8775f35240a47a40f5661ec9f4a1686b75ebab3e59399660bd8ce415272">rgw_meta_sync_marker::SyncState::IncrementalSync</a>) {</div>
<div class="line"><span class="lineno"> 2164</span>      num_inc++;</div>
<div class="line"><span class="lineno"> 2165</span>    }</div>
<div class="line"><span class="lineno"> 2166</span>  }</div>
<div class="line"><span class="lineno"> 2167</span> </div>
<div class="line"><span class="lineno"> 2168</span>  stringstream ss;</div>
<div class="line"><span class="lineno"> 2169</span>  <a class="code hl_function" href="rgw__admin_8cc.html#abc5dd9e1ee4071fba1cbd66896f8200c">push_ss</a>(ss, status) &lt;&lt; <span class="stringliteral">&quot;full sync: &quot;</span> &lt;&lt; num_full &lt;&lt; <span class="stringliteral">&quot;/&quot;</span> &lt;&lt; total_shards &lt;&lt; <span class="stringliteral">&quot; shards&quot;</span>;</div>
<div class="line"><span class="lineno"> 2170</span> </div>
<div class="line"><span class="lineno"> 2171</span>  <span class="keywordflow">if</span> (num_full &gt; 0) {</div>
<div class="line"><span class="lineno"> 2172</span>    <a class="code hl_function" href="rgw__admin_8cc.html#abc5dd9e1ee4071fba1cbd66896f8200c">push_ss</a>(ss, status) &lt;&lt; <span class="stringliteral">&quot;full sync: &quot;</span> &lt;&lt; full_total - full_complete &lt;&lt; <span class="stringliteral">&quot; entries to sync&quot;</span>;</div>
<div class="line"><span class="lineno"> 2173</span>  }</div>
<div class="line"><span class="lineno"> 2174</span> </div>
<div class="line"><span class="lineno"> 2175</span>  <a class="code hl_function" href="rgw__admin_8cc.html#abc5dd9e1ee4071fba1cbd66896f8200c">push_ss</a>(ss, status) &lt;&lt; <span class="stringliteral">&quot;incremental sync: &quot;</span> &lt;&lt; num_inc &lt;&lt; <span class="stringliteral">&quot;/&quot;</span> &lt;&lt; total_shards &lt;&lt; <span class="stringliteral">&quot; shards&quot;</span>;</div>
<div class="line"><span class="lineno"> 2176</span> </div>
<div class="line"><span class="lineno"> 2177</span>  map&lt;int, RGWMetadataLogInfo&gt; master_shards_info;</div>
<div class="line"><span class="lineno"> 2178</span>  <span class="keywordtype">string</span> master_period = <span class="keyword">static_cast&lt;</span><a class="code hl_class" href="classrgw_1_1sal_1_1_rados_store.html">rgw::sal::RadosStore</a>*<span class="keyword">&gt;</span>(<a class="code hl_variable" href="rgw__admin_8cc.html#a6fdb26d64b14d837b60e83a6ca3e2863">store</a>)-&gt;svc()-&gt;<a class="code hl_variable" href="classrgw_1_1sal_1_1_rados_store.html#a0a94e58a4595ab519b4c3f89d33419fe">zone</a>-&gt;<a class="code hl_function" href="classrgw_1_1sal_1_1_rados_zone.html#ad18d7553c6c28ae7215718f16e0ce679">get_current_period_id</a>();</div>
<div class="line"><span class="lineno"> 2179</span> </div>
<div class="line"><span class="lineno"> 2180</span>  ret = sync.read_master_log_shards_info(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>(), master_period, &amp;master_shards_info);</div>
<div class="line"><span class="lineno"> 2181</span>  <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno"> 2182</span>    status.push_back(<span class="keywordtype">string</span>(<span class="stringliteral">&quot;failed to fetch master sync status: &quot;</span>) + cpp_strerror(-ret));</div>
<div class="line"><span class="lineno"> 2183</span>    <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 2184</span>  }</div>
<div class="line"><span class="lineno"> 2185</span> </div>
<div class="line"><span class="lineno"> 2186</span>  map&lt;int, string&gt; shards_behind;</div>
<div class="line"><span class="lineno"> 2187</span>  <span class="keywordflow">if</span> (<a class="code hl_function" href="rgw__admin_8cc.html#a313adbe2d817ca90ee002626049cdacf">sync_status</a>.sync_info.period != master_period) {</div>
<div class="line"><span class="lineno"> 2188</span>    status.push_back(<span class="keywordtype">string</span>(<span class="stringliteral">&quot;master is on a different period: master_period=&quot;</span> +</div>
<div class="line"><span class="lineno"> 2189</span>                            master_period + <span class="stringliteral">&quot; local_period=&quot;</span> + <a class="code hl_function" href="rgw__admin_8cc.html#a313adbe2d817ca90ee002626049cdacf">sync_status</a>.sync_info.period));</div>
<div class="line"><span class="lineno"> 2190</span>  } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 2191</span>    <span class="keywordflow">for</span> (<span class="keyword">auto</span> local_iter : <a class="code hl_function" href="rgw__admin_8cc.html#a313adbe2d817ca90ee002626049cdacf">sync_status</a>.sync_markers) {</div>
<div class="line"><span class="lineno"> 2192</span>      <span class="keywordtype">int</span> shard_id = local_iter.first;</div>
<div class="line"><span class="lineno"> 2193</span>      <span class="keyword">auto</span> iter = master_shards_info.find(shard_id);</div>
<div class="line"><span class="lineno"> 2194</span> </div>
<div class="line"><span class="lineno"> 2195</span>      <span class="keywordflow">if</span> (iter == master_shards_info.end()) {</div>
<div class="line"><span class="lineno"> 2196</span>        <span class="comment">/* huh? */</span></div>
<div class="line"><span class="lineno"> 2197</span>        derr &lt;&lt; <span class="stringliteral">&quot;ERROR: could not find remote sync shard status for shard_id=&quot;</span> &lt;&lt; shard_id &lt;&lt; dendl;</div>
<div class="line"><span class="lineno"> 2198</span>        <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 2199</span>      }</div>
<div class="line"><span class="lineno"> 2200</span>      <span class="keyword">auto</span> master_marker = iter-&gt;second.marker;</div>
<div class="line"><span class="lineno"> 2201</span>      <span class="keywordflow">if</span> (local_iter.second.state == <a class="code hl_enumvalue" href="structrgw__meta__sync__marker.html#a4ef54e8775f35240a47a40f5661ec9f4a1686b75ebab3e59399660bd8ce415272">rgw_meta_sync_marker::SyncState::IncrementalSync</a> &amp;&amp;</div>
<div class="line"><span class="lineno"> 2202</span>          master_marker &gt; local_iter.second.marker) {</div>
<div class="line"><span class="lineno"> 2203</span>        shards_behind[shard_id] = local_iter.second.marker;</div>
<div class="line"><span class="lineno"> 2204</span>        shards_behind_set.insert(shard_id);</div>
<div class="line"><span class="lineno"> 2205</span>      }</div>
<div class="line"><span class="lineno"> 2206</span>    }</div>
<div class="line"><span class="lineno"> 2207</span>  }</div>
<div class="line"><span class="lineno"> 2208</span> </div>
<div class="line"><span class="lineno"> 2209</span>  <span class="comment">// fetch remote log entries to determine the oldest change</span></div>
<div class="line"><span class="lineno"> 2210</span>  std::optional&lt;std::pair&lt;int, ceph::real_time&gt;&gt; oldest;</div>
<div class="line"><span class="lineno"> 2211</span>  <span class="keywordflow">if</span> (!shards_behind.empty()) {</div>
<div class="line"><span class="lineno"> 2212</span>    map&lt;int, rgw_mdlog_shard_data&gt; master_pos;</div>
<div class="line"><span class="lineno"> 2213</span>    ret = sync.read_master_log_shards_next(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>(), <a class="code hl_function" href="rgw__admin_8cc.html#a313adbe2d817ca90ee002626049cdacf">sync_status</a>.sync_info.period, shards_behind, &amp;master_pos);</div>
<div class="line"><span class="lineno"> 2214</span>    <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno"> 2215</span>      derr &lt;&lt; <span class="stringliteral">&quot;ERROR: failed to fetch master next positions (&quot;</span> &lt;&lt; cpp_strerror(-ret) &lt;&lt; <span class="stringliteral">&quot;)&quot;</span> &lt;&lt; dendl;</div>
<div class="line"><span class="lineno"> 2216</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 2217</span>      <span class="keywordflow">for</span> (<span class="keyword">auto</span> iter : master_pos) {</div>
<div class="line"><span class="lineno"> 2218</span>        <a class="code hl_struct" href="structrgw__mdlog__shard__data.html">rgw_mdlog_shard_data</a>&amp; shard_data = iter.second;</div>
<div class="line"><span class="lineno"> 2219</span> </div>
<div class="line"><span class="lineno"> 2220</span>        <span class="keywordflow">if</span> (shard_data.<a class="code hl_variable" href="structrgw__mdlog__shard__data.html#a0e9e60aa4aefa372448831525bbabb8d">entries</a>.empty()) {</div>
<div class="line"><span class="lineno"> 2221</span>          <span class="comment">// there aren&#39;t any entries in this shard, so we&#39;re not really behind</span></div>
<div class="line"><span class="lineno"> 2222</span>          shards_behind.erase(iter.first);</div>
<div class="line"><span class="lineno"> 2223</span>          shards_behind_set.erase(iter.first);</div>
<div class="line"><span class="lineno"> 2224</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 2225</span>          <a class="code hl_struct" href="structrgw__mdlog__entry.html">rgw_mdlog_entry</a>&amp; entry = shard_data.<a class="code hl_variable" href="structrgw__mdlog__shard__data.html#a0e9e60aa4aefa372448831525bbabb8d">entries</a>.front();</div>
<div class="line"><span class="lineno"> 2226</span>          <span class="keywordflow">if</span> (!oldest) {</div>
<div class="line"><span class="lineno"> 2227</span>            oldest.emplace(iter.first, entry.<a class="code hl_variable" href="structrgw__mdlog__entry.html#a61e00ec20a6a7c3ad481c1904b5a4ac1">timestamp</a>);</div>
<div class="line"><span class="lineno"> 2228</span>          } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!ceph::real_clock::is_zero(entry.<a class="code hl_variable" href="structrgw__mdlog__entry.html#a61e00ec20a6a7c3ad481c1904b5a4ac1">timestamp</a>) &amp;&amp; entry.<a class="code hl_variable" href="structrgw__mdlog__entry.html#a61e00ec20a6a7c3ad481c1904b5a4ac1">timestamp</a> &lt; oldest-&gt;second) {</div>
<div class="line"><span class="lineno"> 2229</span>            oldest.emplace(iter.first, entry.<a class="code hl_variable" href="structrgw__mdlog__entry.html#a61e00ec20a6a7c3ad481c1904b5a4ac1">timestamp</a>);</div>
<div class="line"><span class="lineno"> 2230</span>          }</div>
<div class="line"><span class="lineno"> 2231</span>        }</div>
<div class="line"><span class="lineno"> 2232</span>      }</div>
<div class="line"><span class="lineno"> 2233</span>    }</div>
<div class="line"><span class="lineno"> 2234</span>  }</div>
<div class="line"><span class="lineno"> 2235</span> </div>
<div class="line"><span class="lineno"> 2236</span>  <span class="keywordtype">int</span> total_behind = shards_behind.size() + (<a class="code hl_function" href="rgw__admin_8cc.html#a313adbe2d817ca90ee002626049cdacf">sync_status</a>.sync_info.num_shards - num_inc);</div>
<div class="line"><span class="lineno"> 2237</span>  <span class="keywordflow">if</span> (total_behind == 0) {</div>
<div class="line"><span class="lineno"> 2238</span>    <a class="code hl_function" href="rgw__admin_8cc.html#abc5dd9e1ee4071fba1cbd66896f8200c">push_ss</a>(ss, status) &lt;&lt; <span class="stringliteral">&quot;metadata is caught up with master&quot;</span>;</div>
<div class="line"><span class="lineno"> 2239</span>  } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 2240</span>    <a class="code hl_function" href="rgw__admin_8cc.html#abc5dd9e1ee4071fba1cbd66896f8200c">push_ss</a>(ss, status) &lt;&lt; <span class="stringliteral">&quot;metadata is behind on &quot;</span> &lt;&lt; total_behind &lt;&lt; <span class="stringliteral">&quot; shards&quot;</span>;</div>
<div class="line"><span class="lineno"> 2241</span>    <a class="code hl_function" href="rgw__admin_8cc.html#abc5dd9e1ee4071fba1cbd66896f8200c">push_ss</a>(ss, status) &lt;&lt; <span class="stringliteral">&quot;behind shards: &quot;</span> &lt;&lt; <span class="stringliteral">&quot;[&quot;</span> &lt;&lt; shards_behind_set &lt;&lt; <span class="stringliteral">&quot;]&quot;</span>;</div>
<div class="line"><span class="lineno"> 2242</span>    <span class="keywordflow">if</span> (oldest) {</div>
<div class="line"><span class="lineno"> 2243</span>      <a class="code hl_function" href="rgw__admin_8cc.html#abc5dd9e1ee4071fba1cbd66896f8200c">push_ss</a>(ss, status) &lt;&lt; <span class="stringliteral">&quot;oldest incremental change not applied: &quot;</span></div>
<div class="line"><span class="lineno"> 2244</span>          &lt;&lt; oldest-&gt;second &lt;&lt; <span class="stringliteral">&quot; [&quot;</span> &lt;&lt; oldest-&gt;first &lt;&lt; <span class="charliteral">&#39;]&#39;</span>;</div>
<div class="line"><span class="lineno"> 2245</span>    }</div>
<div class="line"><span class="lineno"> 2246</span>  }</div>
<div class="line"><span class="lineno"> 2247</span> </div>
<div class="line"><span class="lineno"> 2248</span>  <a class="code hl_function" href="rgw__admin_8cc.html#ab16e28e9c42b6a21c90152929eb41c23">flush_ss</a>(ss, status);</div>
<div class="line"><span class="lineno"> 2249</span>}</div>
<div class="ttc" id="aclass_r_g_w_meta_sync_status_manager_html"><div class="ttname"><a href="class_r_g_w_meta_sync_status_manager.html">RGWMetaSyncStatusManager</a></div><div class="ttdef"><b>Definition</b> <a href="rgw__sync_8h_source.html#l00247">rgw_sync.h:247</a></div></div>
<div class="ttc" id="aclassrgw_1_1sal_1_1_rados_zone_html_ad18d7553c6c28ae7215718f16e0ce679"><div class="ttname"><a href="classrgw_1_1sal_1_1_rados_zone.html#ad18d7553c6c28ae7215718f16e0ce679">rgw::sal::RadosZone::get_current_period_id</a></div><div class="ttdeci">virtual const std::string &amp; get_current_period_id() override</div><div class="ttdef"><b>Definition</b> <a href="rgw__sal__rados_8cc_source.html#l02815">rgw_sal_rados.cc:2815</a></div></div>
<div class="ttc" id="astructrgw__mdlog__entry_html"><div class="ttname"><a href="structrgw__mdlog__entry.html">rgw_mdlog_entry</a></div><div class="ttdef"><b>Definition</b> <a href="rgw__sync_8h_source.html#l00034">rgw_sync.h:34</a></div></div>
<div class="ttc" id="astructrgw__mdlog__entry_html_a61e00ec20a6a7c3ad481c1904b5a4ac1"><div class="ttname"><a href="structrgw__mdlog__entry.html#a61e00ec20a6a7c3ad481c1904b5a4ac1">rgw_mdlog_entry::timestamp</a></div><div class="ttdeci">ceph::real_time timestamp</div><div class="ttdef"><b>Definition</b> <a href="rgw__sync_8h_source.html#l00038">rgw_sync.h:38</a></div></div>
<div class="ttc" id="astructrgw__mdlog__shard__data_html"><div class="ttname"><a href="structrgw__mdlog__shard__data.html">rgw_mdlog_shard_data</a></div><div class="ttdef"><b>Definition</b> <a href="rgw__sync_8h_source.html#l00058">rgw_sync.h:58</a></div></div>
<div class="ttc" id="astructrgw__mdlog__shard__data_html_a0e9e60aa4aefa372448831525bbabb8d"><div class="ttname"><a href="structrgw__mdlog__shard__data.html#a0e9e60aa4aefa372448831525bbabb8d">rgw_mdlog_shard_data::entries</a></div><div class="ttdeci">std::vector&lt; rgw_mdlog_entry &gt; entries</div><div class="ttdef"><b>Definition</b> <a href="rgw__sync_8h_source.html#l00061">rgw_sync.h:61</a></div></div>
<div class="ttc" id="astructrgw__meta__sync__info_html_a550876307fd125825921e43e06b829a8a2d2ec081ab409d32ab805d82e3490852"><div class="ttname"><a href="structrgw__meta__sync__info.html#a550876307fd125825921e43e06b829a8a2d2ec081ab409d32ab805d82e3490852">rgw_meta_sync_info::StateBuildingFullSyncMaps</a></div><div class="ttdeci">@ StateBuildingFullSyncMaps</div><div class="ttdef"><b>Definition</b> <a href="rgw__meta__sync__status_8h_source.html#l00014">rgw_meta_sync_status.h:14</a></div></div>
<div class="ttc" id="astructrgw__meta__sync__info_html_a550876307fd125825921e43e06b829a8a553431dd3492ee6bce48c25cc37f0971"><div class="ttname"><a href="structrgw__meta__sync__info.html#a550876307fd125825921e43e06b829a8a553431dd3492ee6bce48c25cc37f0971">rgw_meta_sync_info::StateInit</a></div><div class="ttdeci">@ StateInit</div><div class="ttdef"><b>Definition</b> <a href="rgw__meta__sync__status_8h_source.html#l00013">rgw_meta_sync_status.h:13</a></div></div>
<div class="ttc" id="astructrgw__meta__sync__info_html_a550876307fd125825921e43e06b829a8aac4bfe7f6c7ccc7708aeebf977a54b54"><div class="ttname"><a href="structrgw__meta__sync__info.html#a550876307fd125825921e43e06b829a8aac4bfe7f6c7ccc7708aeebf977a54b54">rgw_meta_sync_info::StateSync</a></div><div class="ttdeci">@ StateSync</div><div class="ttdef"><b>Definition</b> <a href="rgw__meta__sync__status_8h_source.html#l00015">rgw_meta_sync_status.h:15</a></div></div>
<div class="ttc" id="astructrgw__meta__sync__marker_html_a4ef54e8775f35240a47a40f5661ec9f4a1686b75ebab3e59399660bd8ce415272"><div class="ttname"><a href="structrgw__meta__sync__marker.html#a4ef54e8775f35240a47a40f5661ec9f4a1686b75ebab3e59399660bd8ce415272">rgw_meta_sync_marker::IncrementalSync</a></div><div class="ttdeci">@ IncrementalSync</div><div class="ttdef"><b>Definition</b> <a href="rgw__meta__sync__status_8h_source.html#l00054">rgw_meta_sync_status.h:54</a></div></div>
<div class="ttc" id="astructrgw__meta__sync__marker_html_a4ef54e8775f35240a47a40f5661ec9f4a8c66af4c8c288fbeb9218bc541d8f3a4"><div class="ttname"><a href="structrgw__meta__sync__marker.html#a4ef54e8775f35240a47a40f5661ec9f4a8c66af4c8c288fbeb9218bc541d8f3a4">rgw_meta_sync_marker::FullSync</a></div><div class="ttdeci">@ FullSync</div><div class="ttdef"><b>Definition</b> <a href="rgw__meta__sync__status_8h_source.html#l00053">rgw_meta_sync_status.h:53</a></div></div>
<div class="ttc" id="astructrgw__meta__sync__status_html"><div class="ttname"><a href="structrgw__meta__sync__status.html">rgw_meta_sync_status</a></div><div class="ttdef"><b>Definition</b> <a href="rgw__meta__sync__status_8h_source.html#l00098">rgw_meta_sync_status.h:98</a></div></div>
</div><!-- fragment --><div class="dynheader">
이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="rgw__admin_8cc_addb2515e11fb8fc09013757e769993e6_cgraph.png" border="0" usemap="#argw__admin_8cc_addb2515e11fb8fc09013757e769993e6_cgraph" alt=""/></div>
<map name="argw__admin_8cc_addb2515e11fb8fc09013757e769993e6_cgraph" id="argw__admin_8cc_addb2515e11fb8fc09013757e769993e6_cgraph">
<area shape="rect" title=" " alt="" coords="5,753,148,779"/>
<area shape="rect" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5" title=" " alt="" coords="1715,1259,1758,1286"/>
<area shape="poly" title=" " alt="" coords="76,752,86,646,107,484,123,399,143,320,166,256,179,231,194,212,234,175,273,150,312,135,352,127,393,124,438,124,544,127,1299,127,1369,133,1428,148,1478,174,1519,208,1556,252,1589,303,1656,426,1670,458,1682,498,1702,598,1716,715,1726,841,1736,1082,1738,1244,1732,1244,1731,1082,1721,842,1711,716,1696,599,1677,500,1665,460,1651,428,1584,305,1551,255,1515,212,1475,178,1426,153,1368,138,1298,133,544,133,438,130,393,129,352,132,314,140,276,155,238,180,198,216,184,234,171,258,148,322,128,400,113,484,91,647,81,752"/>
<area shape="rect" href="rgw__admin_8cc.html#ab16e28e9c42b6a21c90152929eb41c23" title=" " alt="" coords="1702,66,1771,93"/>
<area shape="poly" title=" " alt="" coords="75,752,79,621,95,412,110,302,131,200,158,118,175,86,194,63,235,30,275,12,315,4,354,4,440,17,490,23,544,26,1299,26,1477,28,1555,35,1654,51,1687,60,1686,65,1653,57,1554,40,1477,33,1298,31,544,31,489,28,440,22,354,9,315,9,277,17,238,35,198,67,179,89,163,120,136,202,115,302,101,412,85,621,81,752"/>
<area shape="rect" href="classrgw_1_1sal_1_1_rados_zone.html#ad18d7553c6c28ae7215718f16e0ce679" title=" " alt="" coords="219,226,373,269"/>
<area shape="poly" title=" " alt="" coords="81,751,277,282,282,284,86,753"/>
<area shape="rect" href="class_r_g_w_meta_sync_status_manager.html#a16720f99e7f45e7c16f6a72acf0cae80" title=" " alt="" coords="196,658,396,701"/>
<area shape="poly" title=" " alt="" coords="112,750,225,704,227,709,114,755"/>
<area shape="rect" href="class_r_g_w_meta_sync_status_manager.html#a5b874bd603d866e6b588092efcaad4c3" title=" " alt="" coords="446,930,646,973"/>
<area shape="poly" title=" " alt="" coords="87,778,102,807,126,843,158,880,197,909,253,933,313,947,374,955,430,957,430,962,373,960,312,953,252,938,194,914,155,884,122,847,98,810,82,781"/>
<area shape="rect" href="rgw__admin_8cc.html#a313adbe2d817ca90ee002626049cdacf" title=" " alt="" coords="1001,867,1094,894"/>
<area shape="poly" title=" " alt="" coords="109,777,253,814,348,832,444,847,597,864,748,876,883,882,986,883,986,889,883,887,748,881,596,869,444,853,347,837,252,819,107,782"/>
<area shape="rect" href="rgw__admin_8cc.html#abc5dd9e1ee4071fba1cbd66896f8200c" title=" " alt="" coords="1517,66,1588,93"/>
<area shape="poly" title=" " alt="" coords="75,752,81,628,98,433,113,331,133,237,160,160,176,131,194,109,236,77,276,59,315,52,355,53,441,67,490,74,544,77,1049,77,1502,77,1502,82,1049,82,544,82,489,79,440,72,354,59,316,58,277,64,239,82,198,113,180,134,165,162,139,238,118,332,103,434,86,629,81,752"/>
<area shape="rect" href="class_r_g_w_meta_sync_status_manager.html#a5ba091b9ce8f9c059a3c6de80638e73f" title=" " alt="" coords="446,1275,646,1318"/>
<area shape="poly" title=" " alt="" coords="81,780,86,843,103,939,117,992,138,1046,164,1096,198,1142,249,1187,309,1223,371,1250,431,1270,430,1275,369,1255,306,1228,246,1191,194,1145,160,1099,133,1048,112,994,98,940,81,844,76,780"/>
<area shape="rect" href="class_r_g_w_meta_sync_status_manager.html#a01e0256f35bb9ea0a0684fe687c73463" title=" " alt="" coords="444,1187,647,1230"/>
<area shape="poly" title=" " alt="" coords="86,778,128,860,160,913,198,963,258,1030,310,1078,368,1119,445,1166,469,1178,466,1183,443,1171,365,1124,307,1082,255,1034,194,966,156,916,123,863,81,781"/>
<area shape="rect" href="class_r_g_w_s_i___zone.html#a0e9f0f7357c948c4d6af8df223740522" title=" " alt="" coords="459,167,632,210"/>
<area shape="poly" title=" " alt="" coords="372,227,443,210,444,215,374,232"/>
<area shape="rect" href="classrgw_1_1sal_1_1_rados_store.html#abe4f0602b771d5549a02c0a326d6a832" title=" " alt="" coords="1468,607,1637,634"/>
<area shape="poly" title=" " alt="" coords="373,252,606,280,755,301,912,327,1067,359,1207,396,1323,438,1369,461,1405,485,1418,499,1425,514,1430,544,1434,572,1441,586,1453,599,1456,601,1453,605,1450,603,1437,589,1429,574,1425,545,1420,516,1414,502,1402,489,1367,465,1321,443,1206,401,1065,364,911,333,754,306,605,285,373,257"/>
<area shape="rect" href="class_r_g_w_period.html#a2d8588f2db7c5bcf8d79bde99ac341c0" title=" " alt="" coords="733,171,866,198"/>
<area shape="poly" title=" " alt="" coords="633,185,717,183,717,189,633,190"/>
<area shape="poly" title=" " alt="" coords="303,701,317,758,343,835,362,876,385,915,413,952,446,983,482,1007,528,1031,641,1076,775,1115,919,1144,1065,1163,1200,1167,1261,1163,1316,1154,1363,1141,1402,1122,1414,1112,1420,1101,1425,1075,1430,1048,1437,1035,1450,1024,1504,996,1529,989,1554,986,1578,988,1603,995,1655,1024,1679,1046,1698,1073,1713,1102,1723,1133,1735,1194,1738,1244,1733,1244,1730,1195,1718,1135,1708,1104,1694,1075,1675,1049,1652,1028,1601,999,1577,993,1554,991,1530,994,1506,1001,1453,1028,1441,1038,1435,1050,1430,1076,1425,1103,1418,1116,1405,1127,1365,1146,1317,1159,1262,1168,1200,1172,1064,1168,919,1150,773,1120,639,1081,525,1036,479,1012,442,987,409,955,381,918,357,878,338,837,312,760,298,702"/>
<area shape="poly" title=" " alt="" coords="337,699,388,722,445,739,501,747,545,746,590,742,647,739,721,745,779,754,807,756,835,755,867,749,902,736,917,725,926,712,935,698,950,685,977,671,1002,664,1046,658,1091,653,1115,647,1142,634,1156,624,1164,612,1174,600,1190,590,1248,574,1295,574,1404,590,1466,601,1465,606,1403,595,1295,579,1248,580,1192,595,1177,604,1169,615,1159,627,1144,639,1117,652,1092,659,1047,664,1003,669,979,676,953,690,939,702,931,715,921,729,905,740,868,754,836,760,807,762,779,759,720,750,647,745,590,747,545,752,500,752,443,745,386,727,335,704"/>
<area shape="rect" href="class_r_g_w_s_i___zone.html#afe763829ce716720925bc195a9cec1c3" title=" " alt="" coords="695,699,904,726"/>
<area shape="poly" title=" " alt="" coords="396,669,517,665,583,667,648,673,740,692,739,697,647,678,582,672,517,671,396,674"/>
<area shape="rect" href="class_r_g_w_rados.html#a37788b697bc88b3d2f6ef16257ca69b1" title=" " alt="" coords="468,335,623,378"/>
<area shape="poly" title=" " alt="" coords="300,657,315,603,343,531,385,454,411,419,442,388,453,380,456,384,446,392,415,423,389,457,348,533,320,605,305,658"/>
<area shape="rect" href="class_r_g_w_remote_meta_log.html#aa952316ea008fd8106a5fefe448618bb" title=" " alt="" coords="459,402,633,445"/>
<area shape="poly" title=" " alt="" coords="303,656,323,614,353,560,393,503,416,477,442,455,448,451,451,455,446,459,420,481,397,507,357,563,327,616,308,659"/>
<area shape="rect" href="class_r_g_w_s_i___zone.html#a0ade599544ff866a0e9292f49c1ad179" title=" " alt="" coords="465,469,626,511"/>
<area shape="poly" title=" " alt="" coords="311,656,366,594,402,559,443,528,463,516,466,521,445,532,406,563,369,597,315,659"/>
<area shape="rect" href="classrgw_1_1sal_1_1_rados_store.html#aca5c28bc0f22f3f963d0475b594350e1" title=" " alt="" coords="976,531,1119,574"/>
<area shape="poly" title=" " alt="" coords="320,655,374,613,407,591,443,572,473,560,500,554,548,551,595,546,619,537,646,521,661,504,668,486,676,467,694,450,749,428,797,423,846,432,905,450,936,463,966,480,1015,519,1012,523,963,485,934,468,903,455,845,437,797,429,751,433,697,455,680,470,673,487,666,507,649,525,621,542,596,551,549,557,501,560,475,565,445,576,410,595,377,617,323,660"/>
<area shape="rect" href="class_r_g_w_remote_meta_log.html#a8ab8b3b9a62246c7c2b9e598fecf8d04" title=" " alt="" coords="459,586,632,613"/>
<area shape="poly" title=" " alt="" coords="363,655,443,629,485,615,487,620,445,634,365,660"/>
<area shape="rect" href="class_r_g_w_s_i___zone.html#a7f1e75d0c6d2ae5d2916e0ecbbc5e1ea" title=" " alt="" coords="970,1187,1125,1230"/>
<area shape="poly" title=" " alt="" coords="306,700,372,930,413,1052,431,1094,446,1116,483,1136,536,1149,598,1157,666,1162,800,1165,858,1168,904,1173,956,1183,955,1188,903,1178,858,1173,800,1171,666,1167,597,1163,535,1155,482,1141,442,1120,427,1097,408,1054,367,932,300,702"/>
<area shape="poly" title=" " alt="" coords="319,699,516,916,512,920,315,703"/>
<area shape="poly" title=" " alt="" coords="321,699,375,743,409,765,445,784,511,807,568,821,620,828,670,831,773,833,834,837,904,847,986,864,985,869,903,853,833,843,773,838,669,836,620,833,567,826,510,812,443,788,406,770,372,748,318,703"/>
<area shape="rect" href="rgw__tools_8cc.html#a1b991fc581ae47229ff5e44c3a5e5aac" title=" " alt="" coords="749,222,850,249"/>
<area shape="poly" title=" " alt="" coords="297,657,308,591,332,500,351,452,375,404,406,360,442,321,475,297,512,278,550,262,590,251,667,237,734,232,734,237,668,242,591,256,552,267,514,282,478,302,446,325,410,363,380,407,356,454,337,502,313,592,302,658"/>
<area shape="rect" href="struct_r_g_w_meta_sync_env.html#ac372e8cc10cda802d7b2f33374a467ca" title=" " alt="" coords="459,687,632,730"/>
<area shape="poly" title=" " alt="" coords="397,688,444,694,443,699,396,694"/>
<area shape="poly" title=" " alt="" coords="617,583,695,567,893,522,975,502,1052,488,1128,480,1209,483,1300,496,1404,523,1439,537,1472,556,1526,595,1523,599,1469,560,1437,542,1402,529,1299,501,1209,488,1129,486,1053,493,976,507,895,527,696,573,618,588"/>
<area shape="poly" title=" " alt="" coords="608,611,649,629,664,642,673,654,682,667,697,678,724,691,721,696,694,683,679,670,669,658,660,645,646,634,606,616"/>
<area shape="rect" href="class_r_g_w_sync_trace_manager.html#a7f4cee6527c941f3ecf5f253ba68b71b" title=" " alt="" coords="717,465,882,507"/>
<area shape="poly" title=" " alt="" coords="603,583,646,565,660,555,670,545,694,524,717,511,720,516,697,528,673,549,664,559,649,570,605,588"/>
<area shape="rect" href="class_r_g_w_remote_meta_log.html#ae33b63792d4f6633acc27b75e39de353" title=" " alt="" coords="713,582,886,625"/>
<area shape="poly" title=" " alt="" coords="633,598,697,599,697,604,633,603"/>
<area shape="rect" href="class_r_g_w_h_t_t_p_manager.html#ad3b97916e94fd7dbbcd870b1bfceddf4" title=" " alt="" coords="963,699,1132,726"/>
<area shape="poly" title=" " alt="" coords="601,611,696,634,965,693,963,698,695,639,600,616"/>
<area shape="poly" title=" " alt="" coords="886,583,960,568,961,573,887,588"/>
<area shape="rect" href="classrgw_1_1sal_1_1_rados_store.html#aabf846e99f9f01172f86ce5e7fb1ed5b" title=" " alt="" coords="963,598,1132,625"/>
<area shape="poly" title=" " alt="" coords="887,603,948,605,947,611,886,609"/>
<area shape="rect" href="struct_r_g_w_zone_group.html#aa36e0ee7c567e9284cb5f2af7fe1ff99" title=" " alt="" coords="1207,1390,1388,1433"/>
<area shape="poly" title=" " alt="" coords="1126,1226,1145,1240,1158,1257,1165,1273,1170,1306,1174,1338,1181,1354,1193,1369,1205,1380,1202,1384,1189,1373,1176,1356,1169,1339,1165,1307,1160,1275,1154,1259,1141,1244,1123,1231"/>
<area shape="poly" title=" " alt="" coords="560,972,602,1060,650,1174,661,1220,666,1257,674,1292,683,1309,697,1328,738,1371,776,1406,813,1433,850,1453,891,1468,936,1477,987,1482,1046,1483,1299,1483,1354,1486,1403,1492,1487,1505,1526,1506,1565,1501,1607,1486,1652,1458,1670,1443,1685,1425,1708,1382,1722,1338,1729,1301,1734,1302,1727,1340,1713,1384,1689,1427,1674,1447,1655,1463,1609,1490,1567,1506,1526,1512,1487,1510,1402,1498,1354,1491,1298,1489,1046,1489,986,1487,935,1482,889,1473,848,1458,810,1438,772,1410,734,1375,693,1332,678,1312,669,1294,660,1258,656,1221,645,1176,597,1062,555,974"/>
<area shape="rect" href="class_r_g_w_remote_meta_log.html#a0b1f50798e7338bb54bff5872318f785" title=" " alt="" coords="709,981,890,1023"/>
<area shape="poly" title=" " alt="" coords="647,969,694,978,693,983,646,974"/>
<area shape="poly" title=" " alt="" coords="646,940,769,927,903,909,985,892,987,898,904,914,770,933,646,946"/>
<area shape="poly" title=" " alt="" coords="819,978,875,919,950,853,1004,819,1051,799,1095,777,1117,760,1141,736,1151,722,1156,708,1161,680,1168,654,1176,641,1189,629,1225,610,1263,597,1302,590,1343,586,1420,590,1486,601,1486,606,1419,595,1343,592,1303,595,1264,602,1227,615,1193,634,1180,644,1173,656,1166,681,1161,710,1155,725,1145,740,1121,764,1098,782,1053,804,1007,824,953,857,879,923,822,982"/>
<area shape="poly" title=" " alt="" coords="807,979,849,875,901,737,912,693,915,656,924,621,934,603,950,584,961,575,964,579,954,588,939,606,929,623,921,656,917,694,906,739,854,877,812,981"/>
<area shape="poly" title=" " alt="" coords="805,979,824,924,855,849,897,765,950,686,978,656,1009,632,1012,636,982,660,954,689,901,768,860,851,829,926,810,981"/>
<area shape="poly" title=" " alt="" coords="805,979,823,931,853,867,895,801,921,770,950,743,969,730,972,735,953,747,925,773,900,804,858,870,828,933,810,981"/>
<area shape="poly" title=" " alt="" coords="828,1022,1011,1175,1007,1179,825,1026"/>
<area shape="rect" href="class_r_g_w_coroutines_manager.html#a5938252866722d88fcb0b58d840ca37b" title=" " alt="" coords="965,1019,1130,1062"/>
<area shape="poly" title=" " alt="" coords="891,1014,950,1023,949,1028,890,1019"/>
<area shape="rect" href="class_r_g_w_rados.html#aa782dda051e3748fd2097bb51acee85b" title=" " alt="" coords="955,918,1140,945"/>
<area shape="poly" title=" " alt="" coords="872,977,951,954,978,947,980,952,952,959,873,983"/>
<area shape="rect" href="class_r_g_w_coroutines_manager.html#a38ec9d44810bfd9ad15dad3a30cb091a" title=" " alt="" coords="952,1254,1143,1281"/>
<area shape="poly" title=" " alt="" coords="816,1022,889,1147,928,1208,953,1240,961,1245,958,1249,950,1244,924,1211,885,1150,811,1025"/>
<area shape="rect" href="class_r_g_w_h_t_t_p_manager.html#a28da2691e647f536b1aa88a23cfb8309" title=" " alt="" coords="963,969,1132,995"/>
<area shape="poly" title=" " alt="" coords="891,992,948,987,948,993,891,997"/>
<area shape="poly" title=" " alt="" coords="869,978,902,960,916,946,925,932,934,918,950,904,985,889,987,893,953,908,938,921,930,935,921,949,905,964,872,983"/>
<area shape="poly" title=" " alt="" coords="1001,876,762,859,604,846,444,829,294,804,163,779,164,774,295,799,444,823,604,841,763,854,1001,870"/>
<area shape="poly" title=" " alt="" coords="1063,865,1101,829,1141,781,1154,750,1160,721,1167,695,1176,682,1189,669,1209,658,1235,649,1302,635,1378,626,1452,621,1452,627,1378,632,1302,641,1236,654,1211,663,1193,673,1180,685,1172,697,1165,723,1160,751,1145,783,1105,832,1067,869"/>
<area shape="rect" href="class_r_g_w_s_i___zone.html#a73caac1a5db730b5558f5cee51fb892e" title=" " alt="" coords="1216,801,1379,827"/>
<area shape="poly" title=" " alt="" coords="1093,864,1190,837,1220,829,1222,834,1192,842,1095,869"/>
<area shape="rect" href="rgw__admin_8cc.html#a72e671e3f52c5bce91c050a50dcbc75a" title=" " alt="" coords="1223,1289,1372,1315"/>
<area shape="poly" title=" " alt="" coords="1095,892,1122,900,1145,916,1166,943,1177,969,1181,994,1182,1020,1180,1073,1184,1103,1193,1136,1232,1213,1273,1275,1268,1278,1227,1216,1189,1138,1179,1104,1175,1074,1176,1020,1176,995,1172,970,1161,946,1141,920,1119,905,1093,897"/>
<area shape="rect" href="class_r_g_w_system_meta_obj.html#ab885e5d275a5396cc473703ab55f50b1" title=" " alt="" coords="1202,851,1392,878"/>
<area shape="poly" title=" " alt="" coords="1094,875,1186,869,1187,874,1094,880"/>
<area shape="rect" href="class_r_g_w_system_meta_obj.html#a333abaa7960a2c63b4341d5f9ec500bf" title=" " alt="" coords="1191,902,1403,929"/>
<area shape="poly" title=" " alt="" coords="1094,884,1182,897,1181,902,1094,890"/>
<area shape="rect" href="classrgw_1_1sal_1_1_zone.html#a9234806eedc8e3bc03f4b51073abe746" title=" " alt="" coords="1233,953,1361,995"/>
<area shape="poly" title=" " alt="" coords="1095,887,1144,904,1169,921,1192,938,1220,950,1218,955,1190,943,1166,925,1142,908,1093,892"/>
<area shape="rect" href="classrgw_1_1sal_1_1_store.html#a7905b89b9f5def056e6b3379637037cc" title=" " alt="" coords="1214,1019,1380,1046"/>
<area shape="poly" title=" " alt="" coords="1095,882,1121,890,1145,904,1157,917,1164,930,1169,956,1175,982,1182,994,1193,1005,1201,1011,1198,1016,1189,1009,1177,997,1170,984,1164,957,1159,932,1152,920,1141,908,1119,895,1093,887"/>
<area shape="rect" href="classrgw_1_1sal_1_1_zone.html#af387da06889ce1c43ccc37f64fc373a6" title=" " alt="" coords="1233,1070,1361,1113"/>
<area shape="poly" title=" " alt="" coords="1095,881,1121,889,1145,904,1160,923,1168,943,1170,981,1172,1019,1179,1038,1193,1056,1220,1074,1217,1079,1189,1060,1174,1040,1167,1021,1165,982,1162,944,1155,926,1141,908,1119,894,1093,886"/>
<area shape="rect" href="classrgw_1_1sal_1_1_store.html#a3f47faa0a9863670b57ba81b229918f8" title=" " alt="" coords="1236,683,1359,726"/>
<area shape="poly" title=" " alt="" coords="1060,865,1131,791,1189,736,1220,721,1222,726,1193,740,1134,795,1063,869"/>
<area shape="rect" href="rgw__admin_8cc.html#a034e61ce17b52c12f92c0fe2cf0cbf9a" title=" " alt="" coords="1258,750,1336,777"/>
<area shape="poly" title=" " alt="" coords="1064,864,1118,826,1190,786,1242,770,1243,775,1192,791,1121,830,1068,869"/>
<area shape="poly" title=" " alt="" coords="1372,1294,1699,1272,1700,1278,1372,1300"/>
<area shape="poly" title=" " alt="" coords="1323,1286,1364,1258,1384,1239,1401,1218,1415,1192,1424,1169,1431,1125,1435,1080,1449,1025,1475,965,1501,915,1554,836,1604,756,1628,706,1651,645,1673,569,1691,490,1715,334,1727,200,1732,108,1737,108,1732,200,1720,335,1696,491,1678,570,1656,647,1633,708,1609,758,1558,839,1506,918,1480,967,1454,1027,1440,1081,1436,1126,1429,1170,1420,1194,1406,1221,1388,1243,1367,1262,1326,1290"/>
<area shape="poly" title=" " alt="" coords="1324,1286,1365,1258,1385,1239,1401,1218,1418,1186,1429,1158,1436,1105,1439,1050,1449,981,1499,790,1540,648,1545,649,1504,792,1454,983,1444,1051,1442,1106,1434,1159,1423,1188,1406,1221,1389,1243,1368,1262,1327,1290"/>
<area shape="poly" title=" " alt="" coords="1287,1290,1242,1216,1213,1166,1189,1114,1179,1080,1175,1050,1176,996,1176,971,1172,946,1161,922,1141,896,1126,884,1108,877,1110,872,1129,880,1145,892,1166,919,1177,945,1181,970,1182,996,1180,1049,1184,1079,1193,1112,1218,1164,1246,1214,1292,1287"/>
<area shape="rect" href="class_r_g_w_s_i___zone.html#af5de622b773633e08320d2ea30fce20b" title=" " alt="" coords="1472,1171,1633,1198"/>
<area shape="poly" title=" " alt="" coords="1364,1286,1402,1268,1417,1253,1425,1238,1434,1223,1450,1208,1459,1203,1462,1207,1453,1212,1438,1226,1429,1241,1421,1257,1405,1272,1367,1290"/>
<area shape="rect" href="class_r_g_w_data_sync_status_manager.html#a764ce37941de877e561259df11b17c40" title=" " alt="" coords="1453,1339,1652,1382"/>
<area shape="poly" title=" " alt="" coords="1359,1313,1442,1333,1441,1338,1358,1318"/>
<area shape="poly" title=" " alt="" coords="1307,1287,1354,1219,1380,1173,1401,1124,1422,1046,1434,980,1439,920,1439,863,1437,745,1440,676,1449,595,1472,451,1499,310,1542,107,1547,108,1504,311,1477,452,1454,596,1445,676,1443,745,1445,863,1444,920,1439,980,1427,1048,1406,1126,1385,1176,1359,1222,1312,1290"/>
<area shape="rect" href="class_r_g_w_data_sync_status_manager.html#a4684216d3677eceef89f14ce874d245f" title=" " alt="" coords="1453,1038,1652,1081"/>
<area shape="poly" title=" " alt="" coords="1371,1288,1387,1279,1401,1268,1417,1247,1424,1225,1425,1182,1426,1137,1433,1114,1449,1091,1451,1089,1455,1092,1453,1094,1438,1116,1431,1138,1430,1182,1430,1226,1422,1249,1405,1272,1390,1284,1373,1292"/>
<area shape="rect" href="class_r_g_w_data_sync_status_manager.html#ad03dec1feee37e716afa3e6b97b05c60" title=" " alt="" coords="1453,1105,1652,1147"/>
<area shape="poly" title=" " alt="" coords="1371,1286,1402,1268,1413,1255,1420,1242,1425,1214,1430,1186,1437,1172,1449,1157,1453,1155,1456,1159,1453,1161,1442,1174,1435,1188,1430,1215,1425,1244,1417,1258,1405,1272,1374,1291"/>
<area shape="rect" href="class_r_g_w_data_sync_status_manager.html#a896d0bd248f83318f306e477e67a2d65" title=" " alt="" coords="1451,1222,1654,1265"/>
<area shape="poly" title=" " alt="" coords="1358,1285,1441,1266,1442,1271,1359,1291"/>
<area shape="rect" href="class_r_g_w_data_sync_status_manager.html#a1e9f01ad9a9aa457c3783b3dfa4c07f0" title=" " alt="" coords="1453,1406,1652,1449"/>
<area shape="poly" title=" " alt="" coords="1367,1313,1405,1332,1421,1347,1430,1363,1438,1377,1453,1392,1459,1396,1456,1400,1450,1396,1434,1381,1425,1365,1417,1350,1402,1336,1364,1318"/>
<area shape="poly" title=" " alt="" coords="1611,1336,1652,1318,1701,1291,1703,1296,1655,1323,1614,1341"/>
<area shape="poly" title=" " alt="" coords="1588,77,1686,77,1686,82,1588,82"/>
<area shape="poly" title=" " alt="" coords="1639,1079,1655,1091,1686,1126,1708,1168,1723,1208,1732,1243,1727,1245,1718,1210,1703,1170,1681,1129,1652,1095,1636,1083"/>
<area shape="poly" title=" " alt="" coords="1636,1146,1655,1157,1677,1177,1696,1200,1724,1244,1720,1247,1692,1203,1673,1181,1652,1161,1633,1150"/>
<area shape="poly" title=" " alt="" coords="1654,1257,1700,1264,1700,1270,1654,1262"/>
<area shape="poly" title=" " alt="" coords="1634,1403,1652,1392,1674,1371,1693,1347,1721,1299,1725,1301,1698,1350,1678,1375,1655,1396,1637,1408"/>
<area shape="poly" title=" " alt="" coords="1485,1408,1403,1381,1370,1374,1340,1372,1286,1373,1261,1371,1237,1365,1213,1351,1189,1329,1169,1302,1156,1276,1148,1249,1145,1222,1151,1169,1164,1117,1177,1064,1182,1012,1180,986,1173,960,1160,934,1141,908,1126,896,1108,888,1110,883,1129,891,1145,904,1165,931,1178,958,1185,985,1187,1012,1182,1065,1169,1118,1156,1170,1151,1222,1153,1248,1161,1274,1173,1299,1193,1326,1216,1347,1239,1360,1262,1366,1286,1367,1340,1366,1370,1368,1404,1375,1486,1403"/>
<area shape="poly" title=" " alt="" coords="850,222,956,207,1024,201,1098,199,1176,203,1255,214,1332,234,1405,265,1459,297,1503,329,1538,362,1566,398,1589,438,1611,483,1656,594,1674,653,1689,731,1712,922,1728,1111,1736,1244,1731,1244,1723,1112,1707,923,1683,732,1668,654,1651,596,1606,485,1585,441,1561,401,1534,366,1499,333,1456,301,1402,270,1330,239,1254,219,1176,208,1098,205,1024,206,956,212,851,227"/>
<area shape="poly" title=" " alt="" coords="555,1318,570,1368,598,1434,617,1468,640,1500,666,1529,697,1553,743,1579,784,1593,823,1600,861,1600,943,1592,1046,1585,1299,1585,1354,1587,1404,1594,1490,1606,1529,1607,1568,1600,1609,1583,1652,1553,1666,1536,1679,1510,1701,1440,1718,1363,1728,1301,1734,1302,1723,1364,1706,1441,1684,1512,1670,1539,1655,1557,1611,1588,1570,1605,1530,1612,1489,1612,1403,1599,1354,1593,1298,1590,1046,1590,944,1597,861,1606,823,1605,783,1599,741,1583,694,1558,663,1533,636,1503,613,1470,593,1436,565,1370,550,1319"/>
<area shape="rect" href="class_r_g_w_remote_meta_log.html#adf5f7b9c4c1a543098ca9d4fb51584e0" title=" " alt="" coords="709,1275,890,1318"/>
<area shape="poly" title=" " alt="" coords="646,1294,693,1294,693,1299,646,1299"/>
<area shape="poly" title=" " alt="" coords="891,1303,1011,1305,1078,1300,1142,1290,1277,1238,1358,1201,1387,1185,1401,1174,1429,1128,1442,1086,1445,1046,1443,1006,1435,920,1437,872,1449,817,1467,768,1489,721,1532,646,1536,648,1494,723,1472,770,1454,819,1442,872,1440,920,1448,1006,1451,1046,1447,1087,1433,1130,1405,1177,1389,1190,1360,1206,1279,1243,1144,1295,1078,1306,1011,1310,891,1308"/>
<area shape="poly" title=" " alt="" coords="860,1272,951,1239,969,1233,970,1238,953,1244,862,1277"/>
<area shape="poly" title=" " alt="" coords="890,1283,936,1278,936,1283,891,1289"/>
<area shape="rect" href="class_r_g_w_remote_meta_log.html#af96d221b8d54d6036d12699790c80a48" title=" " alt="" coords="957,1355,1138,1398"/>
<area shape="poly" title=" " alt="" coords="869,1316,965,1347,963,1352,867,1321"/>
<area shape="poly" title=" " alt="" coords="609,1228,631,1243,649,1262,667,1295,673,1328,672,1359,668,1390,664,1419,665,1448,675,1476,697,1503,725,1519,764,1529,811,1535,863,1538,966,1536,1046,1534,1299,1534,1354,1537,1404,1543,1489,1555,1528,1555,1567,1548,1608,1532,1652,1503,1673,1482,1690,1458,1714,1402,1727,1347,1732,1301,1737,1302,1732,1348,1719,1404,1695,1460,1677,1485,1655,1507,1610,1536,1568,1553,1528,1560,1488,1560,1403,1548,1354,1542,1298,1539,1046,1539,966,1542,863,1543,811,1540,763,1534,723,1524,694,1507,670,1478,660,1449,659,1419,663,1389,667,1359,668,1328,662,1297,645,1265,627,1247,606,1233"/>
<area shape="rect" href="class_r_g_w_remote_meta_log.html#a6835924071933cde93d06155bcd32f01" title=" " alt="" coords="709,1187,890,1230"/>
<area shape="poly" title=" " alt="" coords="648,1206,693,1206,693,1211,648,1211"/>
<area shape="poly" title=" " alt="" coords="890,1185,951,1173,997,1169,1054,1168,1187,1167,1254,1164,1315,1157,1366,1144,1386,1134,1401,1123,1430,1088,1444,1054,1448,1020,1446,985,1437,908,1439,865,1449,817,1467,768,1490,721,1532,646,1537,649,1495,723,1472,770,1454,819,1444,865,1443,908,1451,985,1454,1020,1449,1056,1435,1091,1405,1127,1389,1139,1368,1149,1316,1162,1255,1170,1188,1173,1054,1173,997,1174,952,1178,891,1190"/>
<area shape="poly" title=" " alt="" coords="891,1206,955,1206,955,1211,891,1211"/>
<area shape="poly" title=" " alt="" coords="891,1228,974,1247,972,1252,890,1233"/>
</map>
</div>
<div class="dynheader">
이 함수를 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="rgw__admin_8cc_addb2515e11fb8fc09013757e769993e6_icgraph.png" border="0" usemap="#argw__admin_8cc_addb2515e11fb8fc09013757e769993e6_icgraph" alt=""/></div>
<map name="argw__admin_8cc_addb2515e11fb8fc09013757e769993e6_icgraph" id="argw__admin_8cc_addb2515e11fb8fc09013757e769993e6_icgraph">
<area shape="rect" title=" " alt="" coords="2205,997,2347,1024"/>
<area shape="rect" href="rgw__admin_8cc.html#a313adbe2d817ca90ee002626049cdacf" title=" " alt="" coords="2064,800,2157,827"/>
<area shape="poly" title=" " alt="" coords="2246,987,2176,904,2117,828,2122,825,2180,901,2250,984"/>
<area shape="poly" title=" " alt="" coords="2140,836,2210,919,2269,995,2265,999,2206,923,2136,840"/>
<area shape="rect" href="class_r_g_w_period.html#a1b78df2d42f8148b6d94e9787cc55b0f" title=" " alt="" coords="1309,285,1450,312"/>
<area shape="poly" title=" " alt="" coords="2105,784,2099,684,2083,549,2071,481,2056,421,2037,372,2014,341,1997,328,1973,318,1913,302,1839,292,1757,287,1589,288,1450,296,1450,290,1589,283,1758,282,1840,287,1914,297,1975,313,1999,324,2018,337,2042,370,2061,419,2076,480,2088,548,2104,683,2111,784"/>
<area shape="rect" href="rgw__admin_8cc.html#a217dbf8b442f20279ea00b898af96f52" title=" " alt="" coords="5,689,55,716"/>
<area shape="poly" title=" " alt="" coords="2095,787,2041,679,1999,609,1946,536,1884,469,1850,439,1814,413,1775,391,1734,374,1692,364,1647,360,428,360,390,363,354,371,320,385,286,402,225,447,171,501,124,557,87,611,41,690,36,687,82,608,120,554,167,497,221,443,284,398,317,380,353,366,390,358,428,355,1647,355,1693,358,1736,369,1777,386,1817,408,1853,435,1888,465,1951,533,2003,606,2046,676,2100,785"/>
<area shape="rect" href="class_r_g_w_period.html#a789657c727994fc695ddf1248f678eac" title=" " alt="" coords="1309,667,1450,693"/>
<area shape="poly" title=" " alt="" coords="2086,791,2054,762,2015,738,1941,713,1863,694,1784,681,1706,674,1562,670,1450,676,1450,670,1562,665,1706,669,1785,676,1864,689,1942,708,2017,734,2058,758,2089,787"/>
<area shape="rect" href="rgw__admin_8cc.html#a72e671e3f52c5bce91c050a50dcbc75a" title=" " alt="" coords="1305,729,1454,756"/>
<area shape="poly" title=" " alt="" coords="2049,804,2016,795,1861,771,1705,758,1455,750,1455,745,1705,753,1861,765,2017,789,2050,798"/>
<area shape="rect" href="class_r_g_w_period.html#a962d1ba643a8dd2463b72c77188df35c" title=" " alt="" coords="1836,792,1987,835"/>
<area shape="poly" title=" " alt="" coords="2049,816,1988,816,1988,811,2049,811"/>
<area shape="rect" href="class_r_g_w_meta_sync_status_manager.html#a16720f99e7f45e7c16f6a72acf0cae80" title=" " alt="" coords="1279,1136,1480,1179"/>
<area shape="poly" title=" " alt="" coords="2108,843,2096,913,2077,1002,2051,1085,2035,1116,2018,1137,1986,1159,1951,1177,1877,1203,1799,1217,1721,1221,1644,1217,1571,1208,1452,1182,1453,1177,1572,1202,1644,1212,1721,1216,1799,1212,1876,1198,1949,1173,1983,1155,2015,1133,2031,1113,2046,1083,2072,1001,2091,912,2103,842"/>
<area shape="rect" href="rgw__zone_8cc.html#acbc9d0f3bd530587c7e7e64073d5bf2c" title=" " alt="" coords="1059,1019,1183,1045"/>
<area shape="poly" title=" " alt="" coords="2100,842,2069,896,2046,923,2018,945,1987,960,1948,973,1852,994,1738,1010,1614,1021,1369,1032,1184,1035,1184,1030,1369,1027,1613,1016,1737,1004,1851,989,1946,968,1985,955,2015,940,2042,919,2065,893,2095,840"/>
<area shape="rect" href="class_r_g_w_remote_data_log.html#aa781e10fae1b2aad769f12ae97692004" title=" " alt="" coords="1826,29,1997,72"/>
<area shape="poly" title=" " alt="" coords="2105,785,2098,650,2083,458,2071,358,2055,265,2036,188,2014,132,1987,99,1953,75,1956,70,1990,95,2019,129,2042,186,2060,264,2076,357,2088,457,2104,650,2111,784"/>
<area shape="rect" href="class_r_g_w_remote_data_log.html#ad7c62d2805330625048edb27c009b46d" title=" " alt="" coords="1822,859,2001,901"/>
<area shape="poly" title=" " alt="" coords="2058,835,2017,849,1983,861,1981,856,2015,844,2056,830"/>
<area shape="rect" href="class_r_g_w_data_sync_status_manager.html#a1e9f01ad9a9aa457c3783b3dfa4c07f0" title=" " alt="" coords="1547,863,1745,905"/>
<area shape="poly" title=" " alt="" coords="2096,842,2064,882,2042,901,2017,916,1978,929,1937,937,1894,939,1853,938,1774,926,1708,908,1709,903,1775,921,1853,932,1894,934,1936,931,1977,924,2015,911,2039,897,2060,878,2092,838"/>
<area shape="rect" href="class_r_g_w_remote_meta_log.html#a0b1f50798e7338bb54bff5872318f785" title=" " alt="" coords="1821,1027,2002,1069"/>
<area shape="poly" title=" " alt="" coords="2105,843,2094,880,2077,924,2051,970,2018,1010,1991,1028,1988,1024,2015,1006,2047,967,2072,922,2089,878,2100,841"/>
<area shape="rect" href="class_r_g_w_meta_sync_status_manager.html#a5b874bd603d866e6b588092efcaad4c3" title=" " alt="" coords="1546,1077,1746,1120"/>
<area shape="poly" title=" " alt="" coords="2112,842,2107,896,2093,962,2081,996,2065,1029,2044,1059,2018,1083,1986,1103,1952,1117,1915,1126,1878,1131,1804,1131,1737,1123,1738,1118,1805,1126,1878,1126,1914,1121,1950,1112,1984,1098,2015,1079,2040,1055,2061,1026,2076,994,2088,961,2102,895,2106,842"/>
<area shape="rect" href="class_r_g_w_remote_bucket_manager.html#a25798d2aa486ddf8a666e96e9574790f" title=" " alt="" coords="1817,227,2006,269"/>
<area shape="poly" title=" " alt="" coords="2105,785,2097,677,2081,529,2069,454,2054,385,2036,329,2014,290,1993,272,1996,268,2018,286,2041,326,2059,384,2074,453,2086,528,2103,676,2110,784"/>
<area shape="rect" href="class_r_g_w_remote_meta_log.html#acda3cdc36d0f85d5292141bca4cb37a9" title=" " alt="" coords="1807,143,2016,169"/>
<area shape="poly" title=" " alt="" coords="2105,785,2098,664,2082,495,2070,409,2055,329,2036,263,2014,216,1987,190,1954,172,1957,168,1990,186,2018,213,2041,261,2060,328,2075,408,2087,495,2103,664,2111,784"/>
<area shape="rect" href="class_r_g_w_period.html#a9f872876d61c9bdc3413d4ebc3d9c806" title=" " alt="" coords="1046,193,1196,220"/>
<area shape="poly" title=" " alt="" coords="1324,282,1160,223,1162,218,1326,277"/>
<area shape="rect" href="class_r_g_w_period.html#a0bb4affb3673a6086cd2d6b2de0d0ca7" title=" " alt="" coords="1040,277,1202,320"/>
<area shape="poly" title=" " alt="" coords="1294,301,1203,301,1203,296,1294,296"/>
<area shape="rect" href="class_r_g_w_period.html#a858b78a44963a5743a561f45098cd32d" title=" " alt="" coords="593,189,708,216"/>
<area shape="poly" title=" " alt="" coords="1030,204,968,201,792,201,709,203,709,198,792,196,968,196,1030,198"/>
<area shape="rect" href="class_r_g_w_period.html#a732df12a248a940293ecab3f005c7c81" title=" " alt="" coords="802,277,958,320"/>
<area shape="poly" title=" " alt="" coords="1025,301,958,301,958,296,1025,296"/>
<area shape="rect" href="class_r_g_w_period.html#a171e0664b28ddedf9facc578d12c7a9a" title=" " alt="" coords="792,445,968,488"/>
<area shape="poly" title=" " alt="" coords="1078,331,914,447,911,443,1075,327"/>
<area shape="rect" href="class_r_g_w_period.html#a3ff0e67155215f85caaa4909c49b3b5f" title=" " alt="" coords="801,211,959,253"/>
<area shape="poly" title=" " alt="" coords="1026,275,959,256,960,251,1028,270"/>
<area shape="rect" href="class_r_g_w_period.html#ac2ee7a44ae93d4f27a9cb89fff99337c" title=" " alt="" coords="580,613,721,640"/>
<area shape="poly" title=" " alt="" coords="837,500,673,615,670,611,833,495"/>
<area shape="rect" href="class_r_g_w_op___period___post.html#abcff3a2b0a17526dc84c53af6949df85" title=" " alt="" coords="351,555,507,597"/>
<area shape="poly" title=" " alt="" coords="776,469,669,478,613,488,558,503,505,527,460,557,457,552,502,523,556,497,612,482,669,472,776,463"/>
<area shape="rect" href="rgw__admin_8cc.html#a693377846b7628a32c724cf0200e5a9e" title=" " alt="" coords="598,411,703,437"/>
<area shape="poly" title=" " alt="" coords="776,450,702,436,703,431,777,445"/>
<area shape="rect" href="class_r_g_w_period_puller.html#a926a489065e72d0f2b0fe48ac773bfa3" title=" " alt="" coords="575,512,726,539"/>
<area shape="poly" title=" " alt="" coords="780,495,706,514,705,509,779,490"/>
<area shape="rect" href="rgw__admin_8cc.html#aa84c5ba46881dc6ab82e752f5864a5d6" title=" " alt="" coords="376,715,482,741"/>
<area shape="poly" title=" " alt="" coords="576,648,558,654,499,686,451,716,448,712,496,681,556,650,574,643"/>
<area shape="poly" title=" " alt="" coords="574,612,507,597,508,591,575,607"/>
<area shape="poly" title=" " alt="" coords="360,726,55,707,55,702,361,721"/>
<area shape="rect" href="rgw__admin_8cc.html#a4dd5fe9ff30e3225bca7a06c01dde2bd" title=" " alt="" coords="151,765,253,792"/>
<area shape="poly" title=" " alt="" coords="362,746,254,770,253,765,360,740"/>
<area shape="poly" title=" " alt="" coords="135,762,101,749,49,719,52,714,104,744,137,757"/>
<area shape="poly" title=" " alt="" coords="598,446,483,489,350,545,181,627,57,692,54,687,179,622,348,540,481,484,596,441"/>
<area shape="poly" title=" " alt="" coords="785,223,708,213,709,207,786,217"/>
<area shape="rect" href="class_r_g_w_period.html#aad876e2bf1fe7bd5c326dca3e5d06167" title=" " alt="" coords="1044,616,1199,659"/>
<area shape="poly" title=" " alt="" coords="1293,669,1199,653,1200,648,1294,663"/>
<area shape="rect" href="class_r_g_w_period.html#a9f31f8de41684b5f70a40eedf88385ac" title=" " alt="" coords="1044,704,1198,731"/>
<area shape="poly" title=" " alt="" coords="1294,695,1199,709,1199,704,1293,690"/>
<area shape="poly" title=" " alt="" coords="1086,607,1032,558,967,509,933,491,936,486,969,504,1036,554,1090,603"/>
<area shape="poly" title=" " alt="" coords="1029,658,895,683,744,705,602,720,483,728,483,723,602,714,743,700,894,677,1028,653"/>
<area shape="rect" href="class_r_g_w_period.html#a712625093a5b4aa41606a5bd88dba2d7" title=" " alt="" coords="813,613,947,640"/>
<area shape="poly" title=" " alt="" coords="1028,636,947,632,948,627,1028,631"/>
<area shape="poly" title=" " alt="" coords="797,629,722,629,722,624,797,624"/>
<area shape="rect" href="class_r_g_w_realm.html#a94df61b7090e87e6c429ba8817667e91" title=" " alt="" coords="583,664,718,691"/>
<area shape="poly" title=" " alt="" coords="802,647,715,666,714,661,800,641"/>
<area shape="poly" title=" " alt="" coords="568,681,357,687,103,699,55,703,55,697,102,693,357,681,568,676"/>
<area shape="rect" href="class_r_g_w_s_i___zone.html#a205deedd36f60c1cbe8fb13b70fa497c" title=" " alt="" coords="349,808,509,851"/>
<area shape="poly" title=" " alt="" coords="619,702,463,810,460,805,615,698"/>
<area shape="rect" href="class_r_g_w_s_i___zone.html#ad23dec454ebb23b2404d687a81ae0d70" title=" " alt="" coords="124,816,280,843"/>
<area shape="poly" title=" " alt="" coords="334,832,280,832,280,827,334,827"/>
<area shape="poly" title=" " alt="" coords="1033,703,721,643,722,638,1034,698"/>
<area shape="poly" title=" " alt="" coords="1028,732,931,742,813,750,685,754,557,749,482,740,483,735,558,744,685,748,813,745,931,736,1028,726"/>
<area shape="poly" title=" " alt="" coords="1114,746,1096,795,1067,853,1025,911,999,936,969,956,882,997,801,1021,725,1028,651,1021,579,1000,506,966,429,920,347,865,332,849,323,834,315,820,300,806,277,795,253,788,254,783,279,790,302,802,319,816,328,831,336,846,351,861,432,916,508,961,581,995,653,1016,725,1023,800,1015,880,992,967,951,995,932,1021,907,1062,851,1091,792,1109,744"/>
<area shape="poly" title=" " alt="" coords="1060,700,1036,688,1014,673,999,654,991,635,983,618,967,604,931,590,882,580,758,571,624,570,508,574,508,569,624,565,758,565,882,575,932,585,969,599,987,615,996,633,1003,651,1018,669,1039,683,1062,695"/>
<area shape="poly" title=" " alt="" coords="1049,700,1030,688,1014,672,996,640,989,608,990,577,995,546,999,517,998,488,989,461,966,435,936,415,902,402,865,395,828,393,756,399,696,413,695,407,755,394,828,388,866,390,903,397,938,411,970,431,993,459,1003,487,1004,517,1000,547,996,577,994,608,1001,638,1018,669,1033,684,1052,695"/>
<area shape="poly" title=" " alt="" coords="1055,700,1033,688,1014,673,1002,657,996,642,992,612,986,584,979,572,966,559,939,543,910,530,847,516,784,512,727,516,726,510,784,507,848,510,912,525,942,538,970,555,983,568,991,582,997,611,1001,640,1007,655,1018,669,1036,684,1057,695"/>
<area shape="poly" title=" " alt="" coords="1068,701,917,643,919,638,1070,696"/>
<area shape="poly" title=" " alt="" coords="1052,738,968,756,718,796,510,823,509,818,717,791,968,751,1051,732"/>
<area shape="rect" href="class_r_g_w_period.html#ac34e6f602944e47c4e1d4b39bc7b9ed7" title=" " alt="" coords="557,900,744,927"/>
<area shape="poly" title=" " alt="" coords="1111,746,1091,788,1061,838,1020,887,996,907,969,924,935,937,898,946,824,950,754,942,697,930,698,925,755,937,824,944,898,941,933,932,967,919,993,903,1017,883,1057,835,1087,786,1107,744"/>
<area shape="poly" title=" " alt="" coords="598,897,487,854,489,849,600,892"/>
<area shape="poly" title=" " alt="" coords="1470,729,1581,727,1718,730,1868,742,2017,765,2062,779,2098,797,2096,802,2060,784,2016,771,1867,748,1718,736,1581,732,1470,735"/>
<area shape="rect" href="class_r_g_w_meta_sync_c_r.html#afad7b38b095d66c0aea14d72c5b2505a" title=" " alt="" coords="1555,800,1737,827"/>
<area shape="poly" title=" " alt="" coords="1821,816,1737,816,1737,811,1821,811"/>
<area shape="poly" title=" " alt="" coords="1434,1183,1481,1204,1533,1220,1596,1230,1645,1232,1759,1220,1875,1208,1965,1196,2008,1187,2052,1172,2100,1152,2155,1123,2189,1100,2220,1072,2262,1023,2267,1026,2223,1076,2193,1104,2158,1128,2102,1156,2054,1177,2009,1192,1966,1202,1875,1213,1759,1225,1645,1237,1595,1236,1532,1225,1479,1209,1432,1188"/>
<area shape="poly" title=" " alt="" coords="1274,1185,1227,1193,1055,1214,881,1219,428,1219,327,1219,285,1217,246,1212,209,1201,173,1183,137,1156,101,1119,82,1086,66,1038,54,981,45,918,34,798,29,716,34,716,39,797,50,918,60,980,72,1037,87,1084,105,1116,141,1152,176,1178,211,1196,247,1207,285,1212,327,1214,428,1213,881,1213,1054,1209,1226,1188,1273,1180"/>
<area shape="rect" href="class_r_g_w_meta_sync_processor_thread.html#afc360f6d27adbc707c78067d8f789be1" title=" " alt="" coords="1016,1136,1226,1179"/>
<area shape="poly" title=" " alt="" coords="1264,1160,1227,1160,1227,1155,1264,1155"/>
<area shape="poly" title=" " alt="" coords="1319,1131,1150,1048,1152,1043,1321,1126"/>
<area shape="rect" href="class_r_g_w_period.html#af20e32f528fccfe8767df0541ed422af" title=" " alt="" coords="794,867,966,909"/>
<area shape="poly" title=" " alt="" coords="1083,1013,916,912,919,908,1085,1008"/>
<area shape="poly" title=" " alt="" coords="854,855,789,748,777,720,770,696,761,675,742,654,720,641,723,637,745,650,766,672,775,694,782,718,794,745,859,852"/>
<area shape="rect" href="class_r_g_w_data_sync_status_manager.html#a42ca31291a2adf642041ed34ce58095c" title=" " alt="" coords="103,13,301,56"/>
<area shape="poly" title=" " alt="" coords="1810,40,1612,19,1496,11,1381,8,649,8,464,14,302,27,301,22,464,9,649,3,1381,3,1496,6,1612,14,1811,34"/>
<area shape="poly" title=" " alt="" coords="143,67,122,84,105,105,84,156,68,229,56,314,47,406,37,579,34,689,29,689,32,579,42,406,51,314,63,228,79,155,100,103,118,80,140,63"/>
<area shape="poly" title=" " alt="" coords="1806,884,1746,885,1745,880,1806,879"/>
<area shape="poly" title=" " alt="" coords="1532,910,1485,920,1353,944,1249,959,1147,978,1017,1009,993,1018,969,1027,881,1043,811,1050,652,1051,428,1051,370,1047,321,1038,280,1022,243,1000,209,973,176,939,101,856,75,821,55,781,32,717,37,716,60,779,79,818,105,853,179,936,213,969,246,996,282,1017,323,1033,371,1042,428,1045,652,1045,811,1044,880,1038,967,1021,991,1013,1015,1004,1146,972,1249,954,1352,938,1484,915,1531,905"/>
<area shape="poly" title=" " alt="" coords="1570,859,1531,841,1457,798,1399,759,1402,754,1460,793,1534,836,1572,854"/>
<area shape="rect" href="class_r_g_w_op___d_a_t_a_log___status.html#a4f79dca41731b7246ffaef20a77180be" title=" " alt="" coords="1291,863,1468,905"/>
<area shape="poly" title=" " alt="" coords="1531,887,1469,887,1469,881,1531,881"/>
<area shape="poly" title=" " alt="" coords="1806,1071,1747,1082,1746,1077,1805,1066"/>
<area shape="poly" title=" " alt="" coords="1741,1121,1802,1133,1872,1141,1945,1142,2016,1132,2087,1110,2154,1079,2253,1022,2256,1027,2156,1084,2089,1115,2017,1137,1945,1147,1872,1146,1802,1138,1740,1127"/>
<area shape="poly" title=" " alt="" coords="1530,1101,1123,1101,428,1101,330,1106,249,1107,212,1102,176,1090,139,1068,101,1035,84,1010,70,973,49,880,36,784,30,717,35,716,41,783,54,879,75,972,89,1008,105,1032,142,1064,178,1085,213,1097,249,1102,330,1100,428,1096,1123,1096,1530,1096"/>
<area shape="poly" title=" " alt="" coords="1532,1127,1480,1138,1479,1133,1530,1121"/>
<area shape="poly" title=" " alt="" coords="1530,1087,1184,1042,1184,1037,1531,1081"/>
<area shape="rect" href="class_r_g_w_meta_sync_status_manager.html#a2e6dcb3f153919994f8b9864c033210a" title=" " alt="" coords="1533,109,1759,136"/>
<area shape="poly" title=" " alt="" coords="1792,144,1757,139,1758,134,1792,138"/>
<area shape="poly" title=" " alt="" coords="1517,125,1123,125,428,125,368,129,318,139,275,155,238,179,204,209,172,246,105,340,91,369,78,411,57,515,35,689,30,689,52,514,73,410,86,367,100,337,168,242,200,205,235,174,273,151,317,134,368,123,428,120,1123,120,1517,120"/>
<area shape="rect" href="class_r_g_w_meta_sync_processor_thread.html#abe2acfcf6f22db63d007a86d6c389262" title=" " alt="" coords="1274,43,1485,85"/>
<area shape="poly" title=" " alt="" coords="1566,108,1479,88,1480,83,1567,103"/>
</map>
</div>

</div>
</div>
<a id="a0207f9061d3077f212971a63c082dde8" name="a0207f9061d3077f212971a63c082dde8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0207f9061d3077f212971a63c082dde8">&#9670;&#160;</a></span>get_remote_conn() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static boost::optional&lt; <a class="el" href="class_r_g_w_r_e_s_t_conn.html">RGWRESTConn</a> &gt; get_remote_conn </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classrgw_1_1sal_1_1_rados_store.html">rgw::sal::RadosStore</a> *&#160;</td>
          <td class="paramname"><em>store</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="struct_r_g_w_period_map.html">RGWPeriodMap</a> &amp;&#160;</td>
          <td class="paramname"><em>period_map</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>remote</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>search each zonegroup for a connection </p>

<p class="definition"><a class="el" href="rgw__admin_8cc_source.html">rgw_admin.cc</a> 파일의 <a class="el" href="rgw__admin_8cc_source.html#l01784">1784</a> 번째 라인에서 정의되었습니다.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1787</span>{</div>
<div class="line"><span class="lineno"> 1788</span>  boost::optional&lt;RGWRESTConn&gt; conn;</div>
<div class="line"><span class="lineno"> 1789</span>  <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span>&amp; zg : period_map.zonegroups) {</div>
<div class="line"><span class="lineno"> 1790</span>    conn = <a class="code hl_function" href="rgw__admin_8cc.html#a30b65084fc8065e4fcfc47abe3775e67">get_remote_conn</a>(<a class="code hl_variable" href="rgw__admin_8cc.html#a6fdb26d64b14d837b60e83a6ca3e2863">store</a>, zg.second, remote);</div>
<div class="line"><span class="lineno"> 1791</span>    <span class="keywordflow">if</span> (conn) {</div>
<div class="line"><span class="lineno"> 1792</span>      <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1793</span>    }</div>
<div class="line"><span class="lineno"> 1794</span>  }</div>
<div class="line"><span class="lineno"> 1795</span>  <span class="keywordflow">return</span> conn;</div>
<div class="line"><span class="lineno"> 1796</span>}</div>
</div><!-- fragment --><div class="dynheader">
이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="rgw__admin_8cc_a0207f9061d3077f212971a63c082dde8_cgraph.png" border="0" usemap="#argw__admin_8cc_a0207f9061d3077f212971a63c082dde8_cgraph" alt=""/></div>
<map name="argw__admin_8cc_a0207f9061d3077f212971a63c082dde8_cgraph" id="argw__admin_8cc_a0207f9061d3077f212971a63c082dde8_cgraph">
<area shape="rect" title="search each zonegroup for a connection" alt="" coords="5,31,127,57"/>
<area shape="rect" href="rgw__admin_8cc.html#a30b65084fc8065e4fcfc47abe3775e67" title="search for a matching zone/zonegroup id and return a connection if found" alt="" coords="175,31,296,57"/>
<area shape="poly" title=" " alt="" coords="127,41,159,41,159,47,127,47"/>
<area shape="rect" href="classrgw_1_1sal_1_1_store.html#aca84a6ff80011b26fcd2fa8526c1152e" title=" " alt="" coords="374,5,505,32"/>
<area shape="poly" title=" " alt="" coords="296,34,358,26,359,31,297,39"/>
<area shape="rect" href="class_r_g_w_system_meta_obj.html#ab885e5d275a5396cc473703ab55f50b1" title=" " alt="" coords="344,56,534,83"/>
<area shape="poly" title=" " alt="" coords="297,49,329,53,328,58,296,54"/>
</map>
</div>

</div>
</div>
<a id="a30b65084fc8065e4fcfc47abe3775e67" name="a30b65084fc8065e4fcfc47abe3775e67"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a30b65084fc8065e4fcfc47abe3775e67">&#9670;&#160;</a></span>get_remote_conn() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static boost::optional&lt; <a class="el" href="class_r_g_w_r_e_s_t_conn.html">RGWRESTConn</a> &gt; get_remote_conn </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classrgw_1_1sal_1_1_rados_store.html">rgw::sal::RadosStore</a> *&#160;</td>
          <td class="paramname"><em>store</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="struct_r_g_w_zone_group.html">RGWZoneGroup</a> &amp;&#160;</td>
          <td class="paramname"><em>zonegroup</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>remote</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>search for a matching zone/zonegroup id and return a connection if found </p>

<p class="definition"><a class="el" href="rgw__admin_8cc_source.html">rgw_admin.cc</a> 파일의 <a class="el" href="rgw__admin_8cc_source.html#l01764">1764</a> 번째 라인에서 정의되었습니다.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1767</span>{</div>
<div class="line"><span class="lineno"> 1768</span>  boost::optional&lt;RGWRESTConn&gt; conn;</div>
<div class="line"><span class="lineno"> 1769</span>  <span class="keywordflow">if</span> (remote == zonegroup.<a class="code hl_function" href="class_r_g_w_system_meta_obj.html#ab885e5d275a5396cc473703ab55f50b1">get_id</a>()) {</div>
<div class="line"><span class="lineno"> 1770</span>    conn.emplace(<a class="code hl_variable" href="rgw__admin_8cc.html#a6fdb26d64b14d837b60e83a6ca3e2863">store</a>-&gt;<a class="code hl_function" href="classrgw_1_1sal_1_1_store.html#aca84a6ff80011b26fcd2fa8526c1152e">ctx</a>(), <a class="code hl_variable" href="rgw__admin_8cc.html#a6fdb26d64b14d837b60e83a6ca3e2863">store</a>-&gt;svc()-&gt;zone, remote, zonegroup.<a class="code hl_variable" href="struct_r_g_w_zone_group.html#ab0ccf593fd4c0996c426f5c3ffad5afd">endpoints</a>, zonegroup.<a class="code hl_variable" href="struct_r_g_w_zone_group.html#a479ec66f60d809ad72f2b686b3f6543b">api_name</a>);</div>
<div class="line"><span class="lineno"> 1771</span>  } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 1772</span>    <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span>&amp; z : zonegroup.zones) {</div>
<div class="line"><span class="lineno"> 1773</span>      <span class="keyword">const</span> <span class="keyword">auto</span>&amp; zone = z.second;</div>
<div class="line"><span class="lineno"> 1774</span>      <span class="keywordflow">if</span> (remote == zone.id) {</div>
<div class="line"><span class="lineno"> 1775</span>        conn.emplace(<a class="code hl_variable" href="rgw__admin_8cc.html#a6fdb26d64b14d837b60e83a6ca3e2863">store</a>-&gt;<a class="code hl_function" href="classrgw_1_1sal_1_1_store.html#aca84a6ff80011b26fcd2fa8526c1152e">ctx</a>(), <a class="code hl_variable" href="rgw__admin_8cc.html#a6fdb26d64b14d837b60e83a6ca3e2863">store</a>-&gt;svc()-&gt;zone, remote, zone.endpoints, zonegroup.<a class="code hl_variable" href="struct_r_g_w_zone_group.html#a479ec66f60d809ad72f2b686b3f6543b">api_name</a>);</div>
<div class="line"><span class="lineno"> 1776</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1777</span>      }</div>
<div class="line"><span class="lineno"> 1778</span>    }</div>
<div class="line"><span class="lineno"> 1779</span>  }</div>
<div class="line"><span class="lineno"> 1780</span>  <span class="keywordflow">return</span> conn;</div>
<div class="line"><span class="lineno"> 1781</span>}</div>
<div class="ttc" id="aclassrgw_1_1sal_1_1_store_html_aca84a6ff80011b26fcd2fa8526c1152e"><div class="ttname"><a href="classrgw_1_1sal_1_1_store.html#aca84a6ff80011b26fcd2fa8526c1152e">rgw::sal::Store::ctx</a></div><div class="ttdeci">virtual CephContext * ctx(void)=0</div></div>
<div class="ttc" id="astruct_r_g_w_zone_group_html_a479ec66f60d809ad72f2b686b3f6543b"><div class="ttname"><a href="struct_r_g_w_zone_group.html#a479ec66f60d809ad72f2b686b3f6543b">RGWZoneGroup::api_name</a></div><div class="ttdeci">std::string api_name</div><div class="ttdef"><b>Definition</b> <a href="rgw__zone_8h_source.html#l00878">rgw_zone.h:878</a></div></div>
<div class="ttc" id="astruct_r_g_w_zone_group_html_ab0ccf593fd4c0996c426f5c3ffad5afd"><div class="ttname"><a href="struct_r_g_w_zone_group.html#ab0ccf593fd4c0996c426f5c3ffad5afd">RGWZoneGroup::endpoints</a></div><div class="ttdeci">std::list&lt; std::string &gt; endpoints</div><div class="ttdef"><b>Definition</b> <a href="rgw__zone_8h_source.html#l00879">rgw_zone.h:879</a></div></div>
</div><!-- fragment --><div class="dynheader">
이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="rgw__admin_8cc_a30b65084fc8065e4fcfc47abe3775e67_cgraph.png" border="0" usemap="#argw__admin_8cc_a30b65084fc8065e4fcfc47abe3775e67_cgraph" alt=""/></div>
<map name="argw__admin_8cc_a30b65084fc8065e4fcfc47abe3775e67_cgraph" id="argw__admin_8cc_a30b65084fc8065e4fcfc47abe3775e67_cgraph">
<area shape="rect" title="search for a matching zone/zonegroup id and return a connection if found" alt="" coords="5,31,127,57"/>
<area shape="rect" href="classrgw_1_1sal_1_1_store.html#aca84a6ff80011b26fcd2fa8526c1152e" title=" " alt="" coords="204,5,336,32"/>
<area shape="poly" title=" " alt="" coords="127,34,189,26,189,31,127,39"/>
<area shape="rect" href="class_r_g_w_system_meta_obj.html#ab885e5d275a5396cc473703ab55f50b1" title=" " alt="" coords="175,56,365,83"/>
<area shape="poly" title=" " alt="" coords="127,49,160,53,159,58,127,54"/>
</map>
</div>
<div class="dynheader">
이 함수를 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="rgw__admin_8cc_a30b65084fc8065e4fcfc47abe3775e67_icgraph.png" border="0" usemap="#argw__admin_8cc_a30b65084fc8065e4fcfc47abe3775e67_icgraph" alt=""/></div>
<map name="argw__admin_8cc_a30b65084fc8065e4fcfc47abe3775e67_icgraph" id="argw__admin_8cc_a30b65084fc8065e4fcfc47abe3775e67_icgraph">
<area shape="rect" title="search for a matching zone/zonegroup id and return a connection if found" alt="" coords="422,73,544,100"/>
<area shape="rect" href="rgw__admin_8cc.html#aa84c5ba46881dc6ab82e752f5864a5d6" title=" " alt="" coords="261,23,367,49"/>
<area shape="poly" title=" " alt="" coords="421,71,360,52,362,47,422,66"/>
<area shape="rect" href="rgw__admin_8cc.html#a217dbf8b442f20279ea00b898af96f52" title=" " alt="" coords="5,23,55,49"/>
<area shape="poly" title=" " alt="" coords="407,90,265,85,183,77,102,64,54,49,56,44,103,59,184,72,265,80,407,85"/>
<area shape="rect" href="rgw__admin_8cc.html#a0207f9061d3077f212971a63c082dde8" title="search each zonegroup for a connection" alt="" coords="253,124,374,151"/>
<area shape="poly" title=" " alt="" coords="422,107,362,126,360,121,421,102"/>
<area shape="poly" title=" " alt="" coords="249,21,205,13,154,8,103,13,56,28,54,23,102,8,154,3,205,8,250,16"/>
<area shape="rect" href="rgw__admin_8cc.html#a4dd5fe9ff30e3225bca7a06c01dde2bd" title=" " alt="" coords="103,23,205,49"/>
<area shape="poly" title=" " alt="" coords="245,39,205,39,205,33,245,33"/>
<area shape="poly" title=" " alt="" coords="87,39,55,39,55,33,87,33"/>
</map>
</div>

</div>
</div>
<a id="a266e1d9277daa7bcaf9f20a9f469f72e" name="a266e1d9277daa7bcaf9f20a9f469f72e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a266e1d9277daa7bcaf9f20a9f469f72e">&#9670;&#160;</a></span>get_tier_type()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const string &amp; get_tier_type </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classrgw_1_1sal_1_1_rados_store.html">rgw::sal::RadosStore</a> *&#160;</td>
          <td class="paramname"><em>store</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition"><a class="el" href="rgw__admin_8cc_source.html">rgw_admin.cc</a> 파일의 <a class="el" href="rgw__admin_8cc_source.html#l03020">3020</a> 번째 라인에서 정의되었습니다.</p>
<div class="fragment"><div class="line"><span class="lineno"> 3020</span>                                                     {</div>
<div class="line"><span class="lineno"> 3021</span>  <span class="keywordflow">return</span> <a class="code hl_variable" href="rgw__admin_8cc.html#a6fdb26d64b14d837b60e83a6ca3e2863">store</a>-&gt;svc()-&gt;zone-&gt;<a class="code hl_function" href="classrgw_1_1sal_1_1_store.html#a7905b89b9f5def056e6b3379637037cc">get_zone</a>().tier_type;</div>
<div class="line"><span class="lineno"> 3022</span>}</div>
</div><!-- fragment --><div class="dynheader">
이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="rgw__admin_8cc_a266e1d9277daa7bcaf9f20a9f469f72e_cgraph.png" border="0" usemap="#argw__admin_8cc_a266e1d9277daa7bcaf9f20a9f469f72e_cgraph" alt=""/></div>
<map name="argw__admin_8cc_a266e1d9277daa7bcaf9f20a9f469f72e_cgraph" id="argw__admin_8cc_a266e1d9277daa7bcaf9f20a9f469f72e_cgraph">
<area shape="rect" title=" " alt="" coords="5,5,102,32"/>
<area shape="rect" href="classrgw_1_1sal_1_1_store.html#a7905b89b9f5def056e6b3379637037cc" title=" " alt="" coords="150,5,316,32"/>
<area shape="poly" title=" " alt="" coords="102,16,134,16,134,21,102,21"/>
</map>
</div>
<div class="dynheader">
이 함수를 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="rgw__admin_8cc_a266e1d9277daa7bcaf9f20a9f469f72e_icgraph.png" border="0" usemap="#argw__admin_8cc_a266e1d9277daa7bcaf9f20a9f469f72e_icgraph" alt=""/></div>
<map name="argw__admin_8cc_a266e1d9277daa7bcaf9f20a9f469f72e_icgraph" id="argw__admin_8cc_a266e1d9277daa7bcaf9f20a9f469f72e_icgraph">
<area shape="rect" title=" " alt="" coords="103,5,199,32"/>
<area shape="rect" href="rgw__admin_8cc.html#a217dbf8b442f20279ea00b898af96f52" title=" " alt="" coords="5,5,55,32"/>
<area shape="poly" title=" " alt="" coords="87,21,55,21,55,16,87,16"/>
</map>
</div>

</div>
</div>
<a id="a0023a8779e3ab0d965d9acfb3eb72cac" name="a0023a8779e3ab0d965d9acfb3eb72cac"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0023a8779e3ab0d965d9acfb3eb72cac">&#9670;&#160;</a></span>init_bucket() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int init_bucket </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classrgw_1_1sal_1_1_user.html">rgw::sal::User</a> *&#160;</td>
          <td class="paramname"><em>user</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structrgw__bucket.html">rgw_bucket</a> &amp;&#160;</td>
          <td class="paramname"><em>b</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::unique_ptr&lt; <a class="el" href="classrgw_1_1sal_1_1_bucket.html">rgw::sal::Bucket</a> &gt; *&#160;</td>
          <td class="paramname"><em>bucket</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition"><a class="el" href="rgw__admin_8cc_source.html">rgw_admin.cc</a> 파일의 <a class="el" href="rgw__admin_8cc_source.html#l01172">1172</a> 번째 라인에서 정의되었습니다.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1174</span>{</div>
<div class="line"><span class="lineno"> 1175</span>  <span class="keywordflow">return</span> <a class="code hl_variable" href="rgw__admin_8cc.html#a6fdb26d64b14d837b60e83a6ca3e2863">store</a>-&gt;<a class="code hl_function" href="classrgw_1_1sal_1_1_store.html#a3308ce50125b19ccdf5ce7f69958bd67">get_bucket</a>(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>(), <span class="keyword">nullptr</span>, b, bucket, null_yield);</div>
<div class="line"><span class="lineno"> 1176</span>}</div>
<div class="ttc" id="aclassrgw_1_1sal_1_1_store_html_a3308ce50125b19ccdf5ce7f69958bd67"><div class="ttname"><a href="classrgw_1_1sal_1_1_store.html#a3308ce50125b19ccdf5ce7f69958bd67">rgw::sal::Store::get_bucket</a></div><div class="ttdeci">virtual int get_bucket(User *u, const RGWBucketInfo &amp;i, std::unique_ptr&lt; Bucket &gt; *bucket)=0</div></div>
</div><!-- fragment --><div class="dynheader">
이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="rgw__admin_8cc_a0023a8779e3ab0d965d9acfb3eb72cac_cgraph.png" border="0" usemap="#argw__admin_8cc_a0023a8779e3ab0d965d9acfb3eb72cac_cgraph" alt=""/></div>
<map name="argw__admin_8cc_a0023a8779e3ab0d965d9acfb3eb72cac_cgraph" id="argw__admin_8cc_a0023a8779e3ab0d965d9acfb3eb72cac_cgraph">
<area shape="rect" title=" " alt="" coords="5,35,90,61"/>
<area shape="rect" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5" title=" " alt="" coords="182,5,225,32"/>
<area shape="poly" title=" " alt="" coords="90,37,167,23,168,28,91,43"/>
<area shape="rect" href="classrgw_1_1sal_1_1_store.html#a3308ce50125b19ccdf5ce7f69958bd67" title=" " alt="" coords="138,56,269,99"/>
<area shape="poly" title=" " alt="" coords="91,53,123,60,122,65,90,59"/>
</map>
</div>
<div class="dynheader">
이 함수를 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="rgw__admin_8cc_a0023a8779e3ab0d965d9acfb3eb72cac_icgraph.png" border="0" usemap="#argw__admin_8cc_a0023a8779e3ab0d965d9acfb3eb72cac_icgraph" alt=""/></div>
<map name="argw__admin_8cc_a0023a8779e3ab0d965d9acfb3eb72cac_icgraph" id="argw__admin_8cc_a0023a8779e3ab0d965d9acfb3eb72cac_icgraph">
<area shape="rect" title=" " alt="" coords="1470,407,1555,434"/>
<area shape="rect" href="rgw__admin_8cc.html#a55572dc14e8b7410a92ba9515e0be5a1" title=" " alt="" coords="1262,159,1403,202"/>
<area shape="poly" title=" " alt="" coords="1503,393,1493,355,1476,310,1452,263,1420,222,1396,204,1399,200,1424,218,1457,260,1481,308,1498,353,1508,391"/>
<area shape="rect" href="rgw__admin_8cc.html#a217dbf8b442f20279ea00b898af96f52" title=" " alt="" coords="86,218,135,244"/>
<area shape="poly" title=" " alt="" coords="1509,392,1505,338,1493,271,1481,237,1466,204,1446,174,1421,149,1395,136,1360,128,1273,121,1113,124,641,124,534,126,451,132,369,147,264,172,194,196,136,222,134,217,192,191,263,167,367,142,450,127,534,121,641,119,1113,119,1273,116,1361,122,1397,131,1424,145,1450,171,1471,201,1486,235,1498,270,1510,338,1514,392"/>
<area shape="rect" href="rgw__admin_8cc.html#abce7136ad4dc905a78f722a66b7b6b4c" title=" " alt="" coords="301,210,453,252"/>
<area shape="poly" title=" " alt="" coords="1497,394,1467,344,1446,319,1421,299,1380,275,1343,258,1309,248,1275,242,1203,240,1113,242,887,242,454,236,454,230,887,236,1113,236,1204,235,1276,237,1310,243,1345,253,1382,270,1424,294,1450,315,1471,341,1501,391"/>
<area shape="rect" href="rgw__admin_8cc.html#a7987767bde42cfaa2fbc443042879153" title=" " alt="" coords="1029,276,1194,303"/>
<area shape="poly" title=" " alt="" coords="1490,397,1460,366,1421,339,1365,317,1305,303,1247,295,1194,291,1194,286,1247,290,1306,298,1366,312,1424,334,1463,362,1494,394"/>
<area shape="rect" href="structrgw__bucket.html#aded5ca6ab874fce1bd800814ce3f2ee9" title=" " alt="" coords="1260,428,1405,471"/>
<area shape="poly" title=" " alt="" coords="1455,432,1406,440,1405,435,1454,427"/>
<area shape="rect" href="structrgw__obj.html#aa160123e57ebfefda2d49b31019f5558" title=" " alt="" coords="1256,495,1408,538"/>
<area shape="poly" title=" " alt="" coords="1484,446,1424,485,1399,497,1397,492,1421,481,1481,441"/>
<area shape="rect" href="struct_r_g_w_bucket_ent.html#adac1282830f97414a766fda2418bbc70" title=" " alt="" coords="1246,562,1418,604"/>
<area shape="poly" title=" " alt="" coords="1501,449,1471,501,1449,528,1424,552,1406,563,1403,559,1421,548,1445,524,1466,498,1496,446"/>
<area shape="rect" href="struct_r_g_w_bucket_entry_point.html#ae39684c788759392d76b8582d57e9763" title=" " alt="" coords="1247,628,1418,671"/>
<area shape="poly" title=" " alt="" coords="1508,449,1498,487,1481,532,1457,578,1424,618,1408,630,1405,626,1420,614,1453,575,1477,530,1493,485,1503,448"/>
<area shape="rect" href="struct_r_g_w_bucket_info.html#a47d26bfdfe3d8dc9088730aac78531dd" title=" " alt="" coords="1246,695,1418,738"/>
<area shape="poly" title=" " alt="" coords="1512,449,1505,499,1491,562,1465,627,1446,658,1424,685,1410,697,1406,692,1420,681,1442,655,1460,625,1486,560,1500,498,1507,449"/>
<area shape="rect" href="class_r_g_w_obj_manifest.html#aea02ad8ab6ee5170361c8aa93a3406e6" title=" " alt="" coords="1242,762,1422,804"/>
<area shape="poly" title=" " alt="" coords="1514,449,1511,511,1499,591,1488,634,1472,676,1451,716,1424,752,1410,763,1407,759,1420,748,1447,713,1467,674,1483,632,1494,590,1506,510,1509,449"/>
<area shape="rect" href="struct_r_g_w_obj_manifest_part.html#a9f2a22c4d4f3d3aa5f5e09103730539c" title=" " alt="" coords="1247,828,1418,871"/>
<area shape="poly" title=" " alt="" coords="1511,450,1501,534,1483,643,1458,748,1442,789,1424,818,1411,830,1408,826,1420,815,1437,787,1452,746,1478,642,1495,533,1506,449"/>
<area shape="rect" href="rgw__admin_8cc.html#ac0d34a23b71e61b836ad1f30aea3fe0a" title=" " alt="" coords="1274,378,1390,404"/>
<area shape="poly" title=" " alt="" coords="1455,414,1391,403,1391,398,1455,408"/>
<area shape="rect" href="rgw__admin_8cc.html#abfa871472fdef30cd489d5795df05b4d" title=" " alt="" coords="1073,519,1150,546"/>
<area shape="poly" title=" " alt="" coords="1481,400,1453,382,1421,368,1371,354,1330,347,1290,350,1243,368,1220,382,1198,401,1163,443,1137,486,1121,520,1116,517,1132,484,1158,440,1194,397,1216,378,1241,363,1289,345,1330,342,1372,349,1423,363,1456,377,1484,395"/>
<area shape="rect" href="class_sync_policy_context.html#ad34fda16f55e92273b554249758b29e8" title=" " alt="" coords="298,7,456,34"/>
<area shape="poly" title=" " alt="" coords="1506,392,1496,314,1478,214,1453,121,1438,86,1420,62,1384,34,1349,18,1315,10,1281,8,1205,16,1113,23,887,23,456,23,456,18,887,18,1113,18,1205,11,1281,3,1316,4,1351,13,1386,30,1424,58,1442,83,1458,119,1483,213,1501,313,1511,391"/>
<area shape="rect" href="rgw__admin_8cc.html#a6170c4393a3e176d659471abf20e2329" title=" " alt="" coords="1290,895,1374,922"/>
<area shape="poly" title=" " alt="" coords="1512,450,1504,547,1488,677,1477,742,1463,802,1445,851,1424,885,1401,901,1375,908,1374,903,1399,896,1420,881,1440,849,1457,800,1472,741,1483,676,1499,546,1507,449"/>
<area shape="rect" href="rgw__admin_8cc.html#a4c2860d7471eb587fb90ca562186b7f7" title=" " alt="" coords="573,58,713,84"/>
<area shape="poly" title=" " alt="" coords="1505,392,1494,322,1476,235,1451,154,1437,124,1421,105,1397,91,1367,79,1289,61,1195,51,1091,48,881,54,713,67,713,61,880,49,1091,43,1195,46,1290,56,1369,74,1400,86,1424,101,1441,122,1456,152,1481,234,1499,321,1510,391"/>
<area shape="rect" href="rgw__admin_8cc.html#a1952ece8a97cc8cf04493a430fb3b6dd" title=" " alt="" coords="1042,163,1181,190"/>
<area shape="poly" title=" " alt="" coords="1246,181,1181,180,1181,175,1246,176"/>
<area shape="poly" title=" " alt="" coords="1027,176,882,173,692,174,479,182,264,200,194,213,136,227,135,222,193,207,263,195,479,176,692,168,882,168,1027,171"/>
<area shape="poly" title=" " alt="" coords="285,234,135,234,135,228,285,228"/>
<area shape="poly" title=" " alt="" coords="1013,295,868,297,681,295,472,286,263,267,193,255,135,240,136,235,194,249,264,262,473,281,681,290,868,292,1013,290"/>
<area shape="poly" title=" " alt="" coords="1260,411,1243,419,1207,443,1174,471,1126,521,1122,517,1170,467,1204,439,1241,414,1258,406"/>
<area shape="poly" title=" " alt="" coords="1057,522,795,451,527,376,263,292,135,243,137,238,265,287,529,371,796,446,1059,516"/>
<area shape="rect" href="structrgw__data__sync__status.html#a0efc3edb8a9d925394a5836f2e896def" title=" " alt="" coords="812,644,964,687"/>
<area shape="poly" title=" " alt="" coords="1086,559,1039,597,982,635,958,646,956,641,979,630,1036,593,1082,555"/>
<area shape="rect" href="structrgw__meta__sync__status.html#ad88c1542f334a6deaabcf2cec315e335" title=" " alt="" coords="810,711,966,754"/>
<area shape="poly" title=" " alt="" coords="1098,561,1052,630,1020,668,982,701,963,713,960,708,979,697,1016,664,1048,627,1093,558"/>
<area shape="rect" href="structrgw__data__sync__status.html#a75f459b743f801688caa14ac8bc5744f" title=" " alt="" coords="812,778,964,820"/>
<area shape="poly" title=" " alt="" coords="1104,561,1088,606,1062,661,1028,718,1006,744,982,768,965,779,962,775,979,764,1002,741,1023,715,1058,659,1083,604,1099,560"/>
<area shape="rect" href="structrgw__data__sync__status.html#acd7ae109a107d8251f757ab43bcdd7f9" title=" " alt="" coords="812,327,964,370"/>
<area shape="poly" title=" " alt="" coords="1091,508,1045,446,1014,413,979,384,959,372,962,368,982,380,1018,409,1049,442,1096,504"/>
<area shape="rect" href="structrgw__data__sync__status.html#a3e37aa43047f24ad8b2d438d35d04ff2" title=" " alt="" coords="812,394,964,436"/>
<area shape="poly" title=" " alt="" coords="1074,513,979,457,941,439,944,435,982,453,1077,508"/>
<area shape="rect" href="structrgw__meta__sync__status.html#a551759a5fb384fcd3bd5ebb02844d3a0" title=" " alt="" coords="810,511,966,554"/>
<area shape="poly" title=" " alt="" coords="1057,535,966,535,966,530,1057,530"/>
<area shape="rect" href="class_r_g_w_remote_meta_log.html#a0964ba1cde7b10e005105faab2f1cfbc" title=" " alt="" coords="801,578,975,620"/>
<area shape="poly" title=" " alt="" coords="1059,551,963,580,961,575,1057,546"/>
<area shape="rect" href="class_r_g_w_remote_meta_log.html#a8d13af2ee432f0d8cebfa6524809ea51" title=" " alt="" coords="795,844,981,887"/>
<area shape="poly" title=" " alt="" coords="1108,562,1095,618,1072,691,1035,767,1011,803,982,834,967,846,963,842,979,830,1007,800,1031,765,1067,689,1090,617,1103,560"/>
<area shape="rect" href="class_r_g_w_meta_sync_status_manager.html#a54e018493477c2cff0cfb7e9dfffc781" title=" " alt="" coords="543,551,743,594"/>
<area shape="poly" title=" " alt="" coords="785,591,743,586,744,581,786,585"/>
<area shape="poly" title=" " alt="" coords="527,575,462,568,393,553,325,530,292,514,262,495,230,466,202,434,178,398,158,361,128,293,113,245,118,244,133,291,162,359,182,395,206,430,234,463,265,490,295,509,327,525,394,548,463,562,527,569"/>
<area shape="rect" href="class_r_g_w_remote_meta_log.html#acda3cdc36d0f85d5292141bca4cb37a9" title=" " alt="" coords="538,722,747,748"/>
<area shape="poly" title=" " alt="" coords="806,840,794,835,719,791,661,751,664,747,722,786,797,830,808,835"/>
<area shape="rect" href="class_r_g_w_meta_sync_status_manager.html#a2e6dcb3f153919994f8b9864c033210a" title=" " alt="" coords="264,623,490,650"/>
<area shape="poly" title=" " alt="" coords="590,718,414,653,416,648,591,713"/>
<area shape="poly" title=" " alt="" coords="330,617,295,595,262,565,230,523,202,477,158,384,128,301,113,245,118,244,133,299,163,382,207,475,234,520,266,561,298,590,333,613"/>
<area shape="rect" href="class_r_g_w_meta_sync_processor_thread.html#abe2acfcf6f22db63d007a86d6c389262" title=" " alt="" coords="5,615,216,658"/>
<area shape="poly" title=" " alt="" coords="248,639,216,639,216,634,248,634"/>
<area shape="poly" title=" " alt="" coords="291,42,265,55,216,94,175,141,143,185,122,219,117,216,138,182,171,138,213,91,262,50,288,37"/>
<area shape="poly" title=" " alt="" coords="557,67,491,66,416,70,339,82,265,105,220,130,180,161,125,219,121,215,177,157,217,126,263,101,338,77,416,65,491,60,557,61"/>
</map>
</div>

</div>
</div>
<a id="a6170c4393a3e176d659471abf20e2329" name="a6170c4393a3e176d659471abf20e2329"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6170c4393a3e176d659471abf20e2329">&#9670;&#160;</a></span>init_bucket() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int init_bucket </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classrgw_1_1sal_1_1_user.html">rgw::sal::User</a> *&#160;</td>
          <td class="paramname"><em>user</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const string &amp;&#160;</td>
          <td class="paramname"><em>tenant_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const string &amp;&#160;</td>
          <td class="paramname"><em>bucket_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const string &amp;&#160;</td>
          <td class="paramname"><em>bucket_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::unique_ptr&lt; <a class="el" href="classrgw_1_1sal_1_1_bucket.html">rgw::sal::Bucket</a> &gt; *&#160;</td>
          <td class="paramname"><em>bucket</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition"><a class="el" href="rgw__admin_8cc_source.html">rgw_admin.cc</a> 파일의 <a class="el" href="rgw__admin_8cc_source.html#l01178">1178</a> 번째 라인에서 정의되었습니다.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1183</span>{</div>
<div class="line"><span class="lineno"> 1184</span>  <a class="code hl_struct" href="structrgw__bucket.html">rgw_bucket</a> b{tenant_name, bucket_name, bucket_id};</div>
<div class="line"><span class="lineno"> 1185</span>  <span class="keywordflow">return</span> <a class="code hl_function" href="rgw__admin_8cc.html#a0023a8779e3ab0d965d9acfb3eb72cac">init_bucket</a>(user, b, bucket);</div>
<div class="line"><span class="lineno"> 1186</span>}</div>
<div class="ttc" id="astructrgw__bucket_html"><div class="ttname"><a href="structrgw__bucket.html">rgw_bucket</a></div><div class="ttdef"><b>Definition</b> <a href="rgw__basic__types_8h_source.html#l00289">rgw_basic_types.h:289</a></div></div>
</div><!-- fragment --><div class="dynheader">
이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="rgw__admin_8cc_a6170c4393a3e176d659471abf20e2329_cgraph.png" border="0" usemap="#argw__admin_8cc_a6170c4393a3e176d659471abf20e2329_cgraph" alt=""/></div>
<map name="argw__admin_8cc_a6170c4393a3e176d659471abf20e2329_cgraph" id="argw__admin_8cc_a6170c4393a3e176d659471abf20e2329_cgraph">
<area shape="rect" title=" " alt="" coords="5,35,90,61"/>
<area shape="rect" href="rgw__admin_8cc.html#a0023a8779e3ab0d965d9acfb3eb72cac" title=" " alt="" coords="138,35,222,61"/>
<area shape="poly" title=" " alt="" coords="90,45,122,45,122,51,90,51"/>
<area shape="rect" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5" title=" " alt="" coords="315,5,357,32"/>
<area shape="poly" title=" " alt="" coords="222,37,299,23,300,28,223,43"/>
<area shape="rect" href="classrgw_1_1sal_1_1_store.html#a3308ce50125b19ccdf5ce7f69958bd67" title=" " alt="" coords="270,56,401,99"/>
<area shape="poly" title=" " alt="" coords="223,53,256,60,255,65,222,59"/>
</map>
</div>

</div>
</div>
<a id="a4c2860d7471eb587fb90ca562186b7f7" name="a4c2860d7471eb587fb90ca562186b7f7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4c2860d7471eb587fb90ca562186b7f7">&#9670;&#160;</a></span>init_bucket_for_sync()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int init_bucket_for_sync </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classrgw_1_1sal_1_1_user.html">rgw::sal::User</a> *&#160;</td>
          <td class="paramname"><em>user</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const string &amp;&#160;</td>
          <td class="paramname"><em>tenant</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const string &amp;&#160;</td>
          <td class="paramname"><em>bucket_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const string &amp;&#160;</td>
          <td class="paramname"><em>bucket_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::unique_ptr&lt; <a class="el" href="classrgw_1_1sal_1_1_bucket.html">rgw::sal::Bucket</a> &gt; *&#160;</td>
          <td class="paramname"><em>bucket</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition"><a class="el" href="rgw__admin_8cc_source.html">rgw_admin.cc</a> 파일의 <a class="el" href="rgw__admin_8cc_source.html#l02015">2015</a> 번째 라인에서 정의되었습니다.</p>
<div class="fragment"><div class="line"><span class="lineno"> 2019</span>{</div>
<div class="line"><span class="lineno"> 2020</span>  <span class="keywordtype">int</span> ret = <a class="code hl_function" href="rgw__admin_8cc.html#a0023a8779e3ab0d965d9acfb3eb72cac">init_bucket</a>(user, tenant, bucket_name, bucket_id, bucket);</div>
<div class="line"><span class="lineno"> 2021</span>  <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno"> 2022</span>    cerr &lt;&lt; <span class="stringliteral">&quot;ERROR: could not init bucket: &quot;</span> &lt;&lt; cpp_strerror(-ret) &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 2023</span>    <span class="keywordflow">return</span> ret;</div>
<div class="line"><span class="lineno"> 2024</span>  }</div>
<div class="line"><span class="lineno"> 2025</span> </div>
<div class="line"><span class="lineno"> 2026</span>  <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno"> 2027</span>}</div>
</div><!-- fragment --><div class="dynheader">
이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="rgw__admin_8cc_a4c2860d7471eb587fb90ca562186b7f7_cgraph.png" border="0" usemap="#argw__admin_8cc_a4c2860d7471eb587fb90ca562186b7f7_cgraph" alt=""/></div>
<map name="argw__admin_8cc_a4c2860d7471eb587fb90ca562186b7f7_cgraph" id="argw__admin_8cc_a4c2860d7471eb587fb90ca562186b7f7_cgraph">
<area shape="rect" title=" " alt="" coords="5,35,146,61"/>
<area shape="rect" href="rgw__admin_8cc.html#a0023a8779e3ab0d965d9acfb3eb72cac" title=" " alt="" coords="194,35,278,61"/>
<area shape="poly" title=" " alt="" coords="146,45,178,45,178,51,146,51"/>
<area shape="rect" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5" title=" " alt="" coords="371,5,413,32"/>
<area shape="poly" title=" " alt="" coords="278,37,355,23,356,28,279,43"/>
<area shape="rect" href="classrgw_1_1sal_1_1_store.html#a3308ce50125b19ccdf5ce7f69958bd67" title=" " alt="" coords="326,56,457,99"/>
<area shape="poly" title=" " alt="" coords="279,53,312,60,311,65,278,59"/>
</map>
</div>
<div class="dynheader">
이 함수를 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="rgw__admin_8cc_a4c2860d7471eb587fb90ca562186b7f7_icgraph.png" border="0" usemap="#argw__admin_8cc_a4c2860d7471eb587fb90ca562186b7f7_icgraph" alt=""/></div>
<map name="argw__admin_8cc_a4c2860d7471eb587fb90ca562186b7f7_icgraph" id="argw__admin_8cc_a4c2860d7471eb587fb90ca562186b7f7_icgraph">
<area shape="rect" title=" " alt="" coords="103,5,243,32"/>
<area shape="rect" href="rgw__admin_8cc.html#a217dbf8b442f20279ea00b898af96f52" title=" " alt="" coords="5,5,55,32"/>
<area shape="poly" title=" " alt="" coords="87,21,55,21,55,16,87,16"/>
</map>
</div>

</div>
</div>
<a id="af79477a91589c6c856ba9fa2b608e52d" name="af79477a91589c6c856ba9fa2b608e52d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af79477a91589c6c856ba9fa2b608e52d">&#9670;&#160;</a></span>init_optional_bucket()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void init_optional_bucket </td>
          <td>(</td>
          <td class="paramtype">std::optional&lt; <a class="el" href="structrgw__bucket.html">rgw_bucket</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>opt_bucket</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::optional&lt; string &gt; &amp;&#160;</td>
          <td class="paramname"><em>opt_tenant</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::optional&lt; string &gt; &amp;&#160;</td>
          <td class="paramname"><em>opt_bucket_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::optional&lt; string &gt; &amp;&#160;</td>
          <td class="paramname"><em>opt_bucket_id</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition"><a class="el" href="rgw__admin_8cc_source.html">rgw_admin.cc</a> 파일의 <a class="el" href="rgw__admin_8cc_source.html#l03062">3062</a> 번째 라인에서 정의되었습니다.</p>
<div class="fragment"><div class="line"><span class="lineno"> 3066</span>{</div>
<div class="line"><span class="lineno"> 3067</span>  <span class="keywordflow">if</span> (opt_tenant || opt_bucket_name || opt_bucket_id) {</div>
<div class="line"><span class="lineno"> 3068</span>    opt_bucket.emplace();</div>
<div class="line"><span class="lineno"> 3069</span>    <span class="keywordflow">if</span> (opt_tenant) {</div>
<div class="line"><span class="lineno"> 3070</span>      opt_bucket-&gt;tenant = *opt_tenant;</div>
<div class="line"><span class="lineno"> 3071</span>    }</div>
<div class="line"><span class="lineno"> 3072</span>    <span class="keywordflow">if</span> (opt_bucket_name) {</div>
<div class="line"><span class="lineno"> 3073</span>      opt_bucket-&gt;name = *opt_bucket_name;</div>
<div class="line"><span class="lineno"> 3074</span>    }</div>
<div class="line"><span class="lineno"> 3075</span>    <span class="keywordflow">if</span> (opt_bucket_id) {</div>
<div class="line"><span class="lineno"> 3076</span>      opt_bucket-&gt;bucket_id = *opt_bucket_id;</div>
<div class="line"><span class="lineno"> 3077</span>    }</div>
<div class="line"><span class="lineno"> 3078</span>  }</div>
<div class="line"><span class="lineno"> 3079</span>}</div>
</div><!-- fragment --><div class="dynheader">
이 함수를 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="rgw__admin_8cc_af79477a91589c6c856ba9fa2b608e52d_icgraph.png" border="0" usemap="#argw__admin_8cc_af79477a91589c6c856ba9fa2b608e52d_icgraph" alt=""/></div>
<map name="argw__admin_8cc_af79477a91589c6c856ba9fa2b608e52d_icgraph" id="argw__admin_8cc_af79477a91589c6c856ba9fa2b608e52d_icgraph">
<area shape="rect" title=" " alt="" coords="103,5,239,32"/>
<area shape="rect" href="rgw__admin_8cc.html#a217dbf8b442f20279ea00b898af96f52" title=" " alt="" coords="5,5,55,32"/>
<area shape="poly" title=" " alt="" coords="87,21,55,21,55,16,87,16"/>
</map>
</div>

</div>
</div>
<a id="abb0b9c6525eea74a787a3148b40ac040" name="abb0b9c6525eea74a787a3148b40ac040"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abb0b9c6525eea74a787a3148b40ac040">&#9670;&#160;</a></span>init_realm_param()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void init_realm_param </td>
          <td>(</td>
          <td class="paramtype">CephContext *&#160;</td>
          <td class="paramname"><em>cct</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string &amp;&#160;</td>
          <td class="paramname"><em>var</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::optional&lt; string &gt; &amp;&#160;</td>
          <td class="paramname"><em>opt_var</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const string &amp;&#160;</td>
          <td class="paramname"><em>conf_name</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition"><a class="el" href="rgw__admin_8cc_source.html">rgw_admin.cc</a> 파일의 <a class="el" href="rgw__admin_8cc_source.html#l03361">3361</a> 번째 라인에서 정의되었습니다.</p>
<div class="fragment"><div class="line"><span class="lineno"> 3362</span>{</div>
<div class="line"><span class="lineno"> 3363</span>  var = <a class="code hl_variable" href="cls__fifo__legacy_8cc.html#aa76801f7597f40e158b5f38b2e6466c5">cct</a>-&gt;_conf.get_val&lt;<span class="keywordtype">string</span>&gt;(conf_name);</div>
<div class="line"><span class="lineno"> 3364</span>  <span class="keywordflow">if</span> (!var.empty()) {</div>
<div class="line"><span class="lineno"> 3365</span>    opt_var = var;</div>
<div class="line"><span class="lineno"> 3366</span>  }</div>
<div class="line"><span class="lineno"> 3367</span>}</div>
<div class="ttc" id="acls__fifo__legacy_8cc_html_aa76801f7597f40e158b5f38b2e6466c5"><div class="ttname"><a href="cls__fifo__legacy_8cc.html#aa76801f7597f40e158b5f38b2e6466c5">cct</a></div><div class="ttdeci">CephContext * cct</div><div class="ttdef"><b>Definition</b> <a href="cls__fifo__legacy_8cc_source.html#l00247">cls_fifo_legacy.cc:247</a></div></div>
</div><!-- fragment --><div class="dynheader">
이 함수를 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="rgw__admin_8cc_abb0b9c6525eea74a787a3148b40ac040_icgraph.png" border="0" usemap="#argw__admin_8cc_abb0b9c6525eea74a787a3148b40ac040_icgraph" alt=""/></div>
<map name="argw__admin_8cc_abb0b9c6525eea74a787a3148b40ac040_icgraph" id="argw__admin_8cc_abb0b9c6525eea74a787a3148b40ac040_icgraph">
<area shape="rect" title=" " alt="" coords="103,5,223,32"/>
<area shape="rect" href="rgw__admin_8cc.html#a217dbf8b442f20279ea00b898af96f52" title=" " alt="" coords="5,5,55,32"/>
<area shape="poly" title=" " alt="" coords="87,21,55,21,55,16,87,16"/>
</map>
</div>

</div>
</div>
<a id="a217dbf8b442f20279ea00b898af96f52" name="a217dbf8b442f20279ea00b898af96f52"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a217dbf8b442f20279ea00b898af96f52">&#9670;&#160;</a></span>main()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int main </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>argc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char **&#160;</td>
          <td class="paramname"><em>argv</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition"><a class="el" href="rgw__admin_8cc_source.html">rgw_admin.cc</a> 파일의 <a class="el" href="rgw__admin_8cc_source.html#l03369">3369</a> 번째 라인에서 정의되었습니다.</p>
<div class="fragment"><div class="line"><span class="lineno"> 3370</span>{</div>
<div class="line"><span class="lineno"> 3371</span>  <span class="keyword">auto</span> <a class="code hl_variable" href="dbstore__tests_8cc.html#a3284f7a2d0ea04744ec7605cbacce0de">args</a> = argv_to_vec(argc, argv);</div>
<div class="line"><span class="lineno"> 3372</span>  <span class="keywordflow">if</span> (<a class="code hl_variable" href="dbstore__tests_8cc.html#a3284f7a2d0ea04744ec7605cbacce0de">args</a>.empty()) {</div>
<div class="line"><span class="lineno"> 3373</span>    cerr &lt;&lt; argv[0] &lt;&lt; <span class="stringliteral">&quot;: -h or --help for usage&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 3374</span>    exit(1);</div>
<div class="line"><span class="lineno"> 3375</span>  }</div>
<div class="line"><span class="lineno"> 3376</span>  <span class="keywordflow">if</span> (ceph_argparse_need_usage(<a class="code hl_variable" href="dbstore__tests_8cc.html#a3284f7a2d0ea04744ec7605cbacce0de">args</a>)) {</div>
<div class="line"><span class="lineno"> 3377</span>    <a class="code hl_function" href="rgw__admin_8cc.html#a2ef30c42cbc289d899a8be5d2d8f77d0">usage</a>();</div>
<div class="line"><span class="lineno"> 3378</span>    exit(0);</div>
<div class="line"><span class="lineno"> 3379</span>  }</div>
<div class="line"><span class="lineno"> 3380</span> </div>
<div class="line"><span class="lineno"> 3381</span>  <span class="keyword">auto</span> <a class="code hl_variable" href="cls__fifo__legacy_8cc.html#aa76801f7597f40e158b5f38b2e6466c5">cct</a> = global_init(NULL, <a class="code hl_variable" href="dbstore__tests_8cc.html#a3284f7a2d0ea04744ec7605cbacce0de">args</a>, CEPH_ENTITY_TYPE_CLIENT,</div>
<div class="line"><span class="lineno"> 3382</span>                         CODE_ENVIRONMENT_UTILITY, 0);</div>
<div class="line"><span class="lineno"> 3383</span> </div>
<div class="line"><span class="lineno"> 3384</span>  <span class="comment">// for region -&gt; zonegroup conversion (must happen before common_init_finish())</span></div>
<div class="line"><span class="lineno"> 3385</span>  <span class="keywordflow">if</span> (!g_conf()-&gt;rgw_region.empty() &amp;&amp; g_conf()-&gt;rgw_zonegroup.empty()) {</div>
<div class="line"><span class="lineno"> 3386</span>    g_conf().set_val_or_die(<span class="stringliteral">&quot;rgw_zonegroup&quot;</span>, g_conf()-&gt;rgw_region.c_str());</div>
<div class="line"><span class="lineno"> 3387</span>  }</div>
<div class="line"><span class="lineno"> 3388</span> </div>
<div class="line"><span class="lineno"> 3389</span>  <a class="code hl_struct" href="structrgw__user.html">rgw_user</a> user_id_arg;</div>
<div class="line"><span class="lineno"> 3390</span>  std::unique_ptr&lt;rgw::sal::User&gt; user;</div>
<div class="line"><span class="lineno"> 3391</span>  <span class="keywordtype">string</span> tenant;</div>
<div class="line"><span class="lineno"> 3392</span>  <span class="keywordtype">string</span> user_ns;</div>
<div class="line"><span class="lineno"> 3393</span>  <a class="code hl_struct" href="structrgw__user.html">rgw_user</a> new_user_id;</div>
<div class="line"><span class="lineno"> 3394</span>  std::string access_key, secret_key, user_email, display_name;</div>
<div class="line"><span class="lineno"> 3395</span>  std::string bucket_name, pool_name, <a class="code hl_typedef" href="namespacepicojson.html#a3e769a5e2dbffd9a9309e1dc2d67975b">object</a>;</div>
<div class="line"><span class="lineno"> 3396</span>  <a class="code hl_struct" href="structrgw__pool.html">rgw_pool</a> pool;</div>
<div class="line"><span class="lineno"> 3397</span>  std::string <a class="code hl_typedef" href="namespacejwt.html#ad1a72c1ea3d67e3d9bd554e26856523d">date</a>, subuser, access, format;</div>
<div class="line"><span class="lineno"> 3398</span>  std::string start_date, end_date;</div>
<div class="line"><span class="lineno"> 3399</span>  std::string key_type_str;</div>
<div class="line"><span class="lineno"> 3400</span>  std::string period_id, period_epoch, remote, url;</div>
<div class="line"><span class="lineno"> 3401</span>  std::optional&lt;string&gt; opt_region;</div>
<div class="line"><span class="lineno"> 3402</span>  std::string master_zone;</div>
<div class="line"><span class="lineno"> 3403</span>  std::string realm_name, realm_id, realm_new_name;</div>
<div class="line"><span class="lineno"> 3404</span>  std::optional&lt;string&gt; opt_realm_name, opt_realm_id;</div>
<div class="line"><span class="lineno"> 3405</span>  std::string zone_name, zone_id, zone_new_name;</div>
<div class="line"><span class="lineno"> 3406</span>  std::optional&lt;string&gt; opt_zone_name, opt_zone_id;</div>
<div class="line"><span class="lineno"> 3407</span>  std::string zonegroup_name, zonegroup_id, zonegroup_new_name;</div>
<div class="line"><span class="lineno"> 3408</span>  std::optional&lt;string&gt; opt_zonegroup_name, opt_zonegroup_id;</div>
<div class="line"><span class="lineno"> 3409</span>  std::string api_name;</div>
<div class="line"><span class="lineno"> 3410</span>  std::string role_name, path, assume_role_doc, policy_name, perm_policy_doc, path_prefix;</div>
<div class="line"><span class="lineno"> 3411</span>  std::string redirect_zone;</div>
<div class="line"><span class="lineno"> 3412</span>  <span class="keywordtype">bool</span> redirect_zone_set = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 3413</span>  list&lt;string&gt; endpoints;</div>
<div class="line"><span class="lineno"> 3414</span>  <span class="keywordtype">int</span> tmp_int;</div>
<div class="line"><span class="lineno"> 3415</span>  <span class="keywordtype">int</span> sync_from_all_specified = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 3416</span>  <span class="keywordtype">bool</span> sync_from_all = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 3417</span>  list&lt;string&gt; sync_from;</div>
<div class="line"><span class="lineno"> 3418</span>  list&lt;string&gt; sync_from_rm;</div>
<div class="line"><span class="lineno"> 3419</span>  <span class="keywordtype">int</span> is_master_int;</div>
<div class="line"><span class="lineno"> 3420</span>  <span class="keywordtype">int</span> set_default = 0;</div>
<div class="line"><span class="lineno"> 3421</span>  <span class="keywordtype">bool</span> is_master = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 3422</span>  <span class="keywordtype">bool</span> is_master_set = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 3423</span>  <span class="keywordtype">int</span> read_only_int;</div>
<div class="line"><span class="lineno"> 3424</span>  <span class="keywordtype">bool</span> read_only = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 3425</span>  <span class="keywordtype">int</span> is_read_only_set = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 3426</span>  <span class="keywordtype">int</span> commit = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 3427</span>  <span class="keywordtype">int</span> staging = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 3428</span>  <span class="keywordtype">int</span> key_type = <a class="code hl_enumvalue" href="rgw__user_8h.html#a58fd975b8b46e98348e859f0fc0eb868a74622046ed230e5463bd5840a622a1a7">KEY_TYPE_UNDEFINED</a>;</div>
<div class="line"><span class="lineno"> 3429</span>  std::unique_ptr&lt;rgw::sal::Bucket&gt; bucket;</div>
<div class="line"><span class="lineno"> 3430</span>  uint32_t perm_mask = 0;</div>
<div class="line"><span class="lineno"> 3431</span>  <a class="code hl_struct" href="struct_r_g_w_user_info.html">RGWUserInfo</a> info;</div>
<div class="line"><span class="lineno"> 3432</span>  <a class="code hl_enumeration" href="namespacergw__admin.html#a417a68fb93cf5a708aed0d343be0856f">OPT</a> opt_cmd = OPT::NO_CMD;</div>
<div class="line"><span class="lineno"> 3433</span>  <span class="keywordtype">int</span> gen_access_key = 0;</div>
<div class="line"><span class="lineno"> 3434</span>  <span class="keywordtype">int</span> gen_secret_key = 0;</div>
<div class="line"><span class="lineno"> 3435</span>  <span class="keywordtype">bool</span> set_perm = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 3436</span>  <span class="keywordtype">bool</span> set_temp_url_key = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 3437</span>  map&lt;int, string&gt; temp_url_keys;</div>
<div class="line"><span class="lineno"> 3438</span>  <span class="keywordtype">string</span> bucket_id;</div>
<div class="line"><span class="lineno"> 3439</span>  <span class="keywordtype">string</span> new_bucket_name;</div>
<div class="line"><span class="lineno"> 3440</span>  std::unique_ptr&lt;Formatter&gt; formatter;</div>
<div class="line"><span class="lineno"> 3441</span>  std::unique_ptr&lt;Formatter&gt; zone_formatter;</div>
<div class="line"><span class="lineno"> 3442</span>  <span class="keywordtype">int</span> purge_data = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 3443</span>  <span class="keywordtype">int</span> pretty_format = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 3444</span>  <span class="keywordtype">int</span> show_log_entries = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 3445</span>  <span class="keywordtype">int</span> show_log_sum = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 3446</span>  <span class="keywordtype">int</span> skip_zero_entries = <span class="keyword">false</span>;  <span class="comment">// log show</span></div>
<div class="line"><span class="lineno"> 3447</span>  <span class="keywordtype">int</span> purge_keys = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 3448</span>  <span class="keywordtype">int</span> yes_i_really_mean_it = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 3449</span>  <span class="keywordtype">int</span> delete_child_objects = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 3450</span>  <span class="keywordtype">int</span> fix = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 3451</span>  <span class="keywordtype">int</span> remove_bad = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 3452</span>  <span class="keywordtype">int</span> check_head_obj_locator = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 3453</span>  <span class="keywordtype">int</span> max_buckets = -1;</div>
<div class="line"><span class="lineno"> 3454</span>  <span class="keywordtype">bool</span> max_buckets_specified = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 3455</span>  map&lt;string, bool&gt; categories;</div>
<div class="line"><span class="lineno"> 3456</span>  <span class="keywordtype">string</span> caps;</div>
<div class="line"><span class="lineno"> 3457</span>  <span class="keywordtype">int</span> check_objects = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 3458</span>  <a class="code hl_struct" href="struct_r_g_w_bucket_admin_op_state.html">RGWBucketAdminOpState</a> bucket_op;</div>
<div class="line"><span class="lineno"> 3459</span>  <span class="keywordtype">string</span> infile;</div>
<div class="line"><span class="lineno"> 3460</span>  <span class="keywordtype">string</span> metadata_key;</div>
<div class="line"><span class="lineno"> 3461</span>  <a class="code hl_struct" href="struct_r_g_w_obj_version_tracker.html">RGWObjVersionTracker</a> objv_tracker;</div>
<div class="line"><span class="lineno"> 3462</span>  <span class="keywordtype">string</span> marker;</div>
<div class="line"><span class="lineno"> 3463</span>  <span class="keywordtype">string</span> start_marker;</div>
<div class="line"><span class="lineno"> 3464</span>  <span class="keywordtype">string</span> end_marker;</div>
<div class="line"><span class="lineno"> 3465</span>  <span class="keywordtype">int</span> max_entries = -1;</div>
<div class="line"><span class="lineno"> 3466</span>  <span class="keywordtype">bool</span> max_entries_specified = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 3467</span>  <span class="keywordtype">int</span> <a class="code hl_enumvalue" href="namespacergw_1_1dmclock.html#a6ed0c6ad7f7fc29a06f52a0070d21493a21232f297a57a5a743894a0e4a801fc3">admin</a> = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 3468</span>  <span class="keywordtype">bool</span> admin_specified = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 3469</span>  <span class="keywordtype">int</span> system = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 3470</span>  <span class="keywordtype">bool</span> system_specified = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 3471</span>  <span class="keywordtype">int</span> shard_id = -1;</div>
<div class="line"><span class="lineno"> 3472</span>  <span class="keywordtype">bool</span> specified_shard_id = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 3473</span>  <span class="keywordtype">string</span> <a class="code hl_enumeration" href="namespacergw_1_1dmclock.html#a6ed0c6ad7f7fc29a06f52a0070d21493">client_id</a>;</div>
<div class="line"><span class="lineno"> 3474</span>  <span class="keywordtype">string</span> op_id;</div>
<div class="line"><span class="lineno"> 3475</span>  <span class="keywordtype">string</span> op_mask_str;</div>
<div class="line"><span class="lineno"> 3476</span>  <span class="keywordtype">string</span> quota_scope;</div>
<div class="line"><span class="lineno"> 3477</span>  <span class="keywordtype">string</span> ratelimit_scope;</div>
<div class="line"><span class="lineno"> 3478</span>  <span class="keywordtype">string</span> object_version;</div>
<div class="line"><span class="lineno"> 3479</span>  <span class="keywordtype">string</span> placement_id;</div>
<div class="line"><span class="lineno"> 3480</span>  std::optional&lt;string&gt; opt_storage_class;</div>
<div class="line"><span class="lineno"> 3481</span>  list&lt;string&gt; tags;</div>
<div class="line"><span class="lineno"> 3482</span>  list&lt;string&gt; tags_add;</div>
<div class="line"><span class="lineno"> 3483</span>  list&lt;string&gt; tags_rm;</div>
<div class="line"><span class="lineno"> 3484</span>  <span class="keywordtype">int</span> placement_inline_data = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 3485</span>  <span class="keywordtype">bool</span> placement_inline_data_specified = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 3486</span> </div>
<div class="line"><span class="lineno"> 3487</span>  int64_t max_objects = -1;</div>
<div class="line"><span class="lineno"> 3488</span>  int64_t max_size = -1;</div>
<div class="line"><span class="lineno"> 3489</span>  int64_t max_read_ops = 0;</div>
<div class="line"><span class="lineno"> 3490</span>  int64_t max_write_ops = 0;</div>
<div class="line"><span class="lineno"> 3491</span>  int64_t max_read_bytes = 0;</div>
<div class="line"><span class="lineno"> 3492</span>  int64_t max_write_bytes = 0;</div>
<div class="line"><span class="lineno"> 3493</span>  <span class="keywordtype">bool</span> have_max_objects = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 3494</span>  <span class="keywordtype">bool</span> have_max_size = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 3495</span>  <span class="keywordtype">bool</span> have_max_write_ops = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 3496</span>  <span class="keywordtype">bool</span> have_max_read_ops = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 3497</span>  <span class="keywordtype">bool</span> have_max_write_bytes = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 3498</span>  <span class="keywordtype">bool</span> have_max_read_bytes = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 3499</span>  <span class="keywordtype">int</span> include_all = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 3500</span>  <span class="keywordtype">int</span> allow_unordered = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 3501</span> </div>
<div class="line"><span class="lineno"> 3502</span>  <span class="keywordtype">int</span> sync_stats = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 3503</span>  <span class="keywordtype">int</span> reset_stats = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 3504</span>  <span class="keywordtype">int</span> bypass_gc = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 3505</span>  <span class="keywordtype">int</span> warnings_only = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 3506</span>  <span class="keywordtype">int</span> inconsistent_index = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 3507</span> </div>
<div class="line"><span class="lineno"> 3508</span>  <span class="keywordtype">int</span> verbose = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 3509</span> </div>
<div class="line"><span class="lineno"> 3510</span>  <span class="keywordtype">int</span> extra_info = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 3511</span> </div>
<div class="line"><span class="lineno"> 3512</span>  uint64_t min_rewrite_size = 4 * 1024 * 1024;</div>
<div class="line"><span class="lineno"> 3513</span>  uint64_t max_rewrite_size = ULLONG_MAX;</div>
<div class="line"><span class="lineno"> 3514</span>  uint64_t min_rewrite_stripe_size = 0;</div>
<div class="line"><span class="lineno"> 3515</span> </div>
<div class="line"><span class="lineno"> 3516</span>  BIIndexType bi_index_type = BIIndexType::Plain;</div>
<div class="line"><span class="lineno"> 3517</span>  std::optional&lt;log_type&gt; opt_log_type;</div>
<div class="line"><span class="lineno"> 3518</span> </div>
<div class="line"><span class="lineno"> 3519</span>  <span class="keywordtype">string</span> job_id;</div>
<div class="line"><span class="lineno"> 3520</span>  <span class="keywordtype">int</span> num_shards = 0;</div>
<div class="line"><span class="lineno"> 3521</span>  <span class="keywordtype">bool</span> num_shards_specified = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 3522</span>  std::optional&lt;int&gt; bucket_index_max_shards;</div>
<div class="line"><span class="lineno"> 3523</span> </div>
<div class="line"><span class="lineno"> 3524</span>  <span class="keywordtype">int</span> max_concurrent_ios = 32;</div>
<div class="line"><span class="lineno"> 3525</span>  uint64_t orphan_stale_secs = (24 * 3600);</div>
<div class="line"><span class="lineno"> 3526</span>  <span class="keywordtype">int</span> <a class="code hl_namespace" href="namespacedetail.html">detail</a> = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 3527</span> </div>
<div class="line"><span class="lineno"> 3528</span>  std::string val;</div>
<div class="line"><span class="lineno"> 3529</span>  std::ostringstream errs;</div>
<div class="line"><span class="lineno"> 3530</span>  <span class="keywordtype">string</span> err;</div>
<div class="line"><span class="lineno"> 3531</span> </div>
<div class="line"><span class="lineno"> 3532</span>  <span class="keywordtype">string</span> source_zone_name;</div>
<div class="line"><span class="lineno"> 3533</span>  <a class="code hl_struct" href="structrgw__zone__id.html">rgw_zone_id</a> source_zone; <span class="comment">/* zone id */</span></div>
<div class="line"><span class="lineno"> 3534</span> </div>
<div class="line"><span class="lineno"> 3535</span>  <span class="keywordtype">string</span> tier_type;</div>
<div class="line"><span class="lineno"> 3536</span>  <span class="keywordtype">bool</span> tier_type_specified = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 3537</span> </div>
<div class="line"><span class="lineno"> 3538</span>  map&lt;string, string, ltstr_nocase&gt; tier_config_add;</div>
<div class="line"><span class="lineno"> 3539</span>  map&lt;string, string, ltstr_nocase&gt; tier_config_rm;</div>
<div class="line"><span class="lineno"> 3540</span> </div>
<div class="line"><span class="lineno"> 3541</span>  boost::optional&lt;string&gt; index_pool;</div>
<div class="line"><span class="lineno"> 3542</span>  boost::optional&lt;string&gt; data_pool;</div>
<div class="line"><span class="lineno"> 3543</span>  boost::optional&lt;string&gt; data_extra_pool;</div>
<div class="line"><span class="lineno"> 3544</span>  <a class="code hl_enumeration" href="namespacergw.html#a13434cf31df970719317d99dd0447389">rgw::BucketIndexType</a> placement_index_type = <a class="code hl_enumvalue" href="namespacergw.html#a13434cf31df970719317d99dd0447389a960b44c579bc2f6818d2daaf9e4c16f0">rgw::BucketIndexType::Normal</a>;</div>
<div class="line"><span class="lineno"> 3545</span>  <span class="keywordtype">bool</span> index_type_specified = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 3546</span> </div>
<div class="line"><span class="lineno"> 3547</span>  boost::optional&lt;std::string&gt; compression_type;</div>
<div class="line"><span class="lineno"> 3548</span> </div>
<div class="line"><span class="lineno"> 3549</span>  <span class="keywordtype">string</span> totp_serial;</div>
<div class="line"><span class="lineno"> 3550</span>  <span class="keywordtype">string</span> totp_seed;</div>
<div class="line"><span class="lineno"> 3551</span>  <span class="keywordtype">string</span> totp_seed_type = <span class="stringliteral">&quot;hex&quot;</span>;</div>
<div class="line"><span class="lineno"> 3552</span>  vector&lt;string&gt; totp_pin;</div>
<div class="line"><span class="lineno"> 3553</span>  <span class="keywordtype">int</span> totp_seconds = 0;</div>
<div class="line"><span class="lineno"> 3554</span>  <span class="keywordtype">int</span> totp_window = 0;</div>
<div class="line"><span class="lineno"> 3555</span>  <span class="keywordtype">int</span> trim_delay_ms = 0;</div>
<div class="line"><span class="lineno"> 3556</span> </div>
<div class="line"><span class="lineno"> 3557</span>  <span class="keywordtype">string</span> topic_name;</div>
<div class="line"><span class="lineno"> 3558</span>  <span class="keywordtype">string</span> sub_name;</div>
<div class="line"><span class="lineno"> 3559</span>  <span class="keywordtype">string</span> event_id;</div>
<div class="line"><span class="lineno"> 3560</span> </div>
<div class="line"><span class="lineno"> 3561</span>  std::optional&lt;std::string&gt; str_script_ctx;</div>
<div class="line"><span class="lineno"> 3562</span>  std::optional&lt;std::string&gt; script_package;</div>
<div class="line"><span class="lineno"> 3563</span>  <span class="keywordtype">int</span> allow_compilation = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 3564</span> </div>
<div class="line"><span class="lineno"> 3565</span>  std::optional&lt;string&gt; opt_group_id;</div>
<div class="line"><span class="lineno"> 3566</span>  std::optional&lt;string&gt; opt_status;</div>
<div class="line"><span class="lineno"> 3567</span>  std::optional&lt;string&gt; opt_flow_type;</div>
<div class="line"><span class="lineno"> 3568</span>  std::optional&lt;vector&lt;string&gt; &gt; opt_zone_names;</div>
<div class="line"><span class="lineno"> 3569</span>  std::optional&lt;vector&lt;rgw_zone_id&gt; &gt; opt_zone_ids;</div>
<div class="line"><span class="lineno"> 3570</span>  std::optional&lt;string&gt; opt_flow_id;</div>
<div class="line"><span class="lineno"> 3571</span>  std::optional&lt;string&gt; opt_source_zone_name;</div>
<div class="line"><span class="lineno"> 3572</span>  std::optional&lt;rgw_zone_id&gt; opt_source_zone_id;</div>
<div class="line"><span class="lineno"> 3573</span>  std::optional&lt;string&gt; opt_dest_zone_name;</div>
<div class="line"><span class="lineno"> 3574</span>  std::optional&lt;rgw_zone_id&gt; opt_dest_zone_id;</div>
<div class="line"><span class="lineno"> 3575</span>  std::optional&lt;vector&lt;string&gt; &gt; opt_source_zone_names;</div>
<div class="line"><span class="lineno"> 3576</span>  std::optional&lt;vector&lt;rgw_zone_id&gt; &gt; opt_source_zone_ids;</div>
<div class="line"><span class="lineno"> 3577</span>  std::optional&lt;vector&lt;string&gt; &gt; opt_dest_zone_names;</div>
<div class="line"><span class="lineno"> 3578</span>  std::optional&lt;vector&lt;rgw_zone_id&gt; &gt; opt_dest_zone_ids;</div>
<div class="line"><span class="lineno"> 3579</span>  std::optional&lt;string&gt; opt_pipe_id;</div>
<div class="line"><span class="lineno"> 3580</span>  std::optional&lt;rgw_bucket&gt; opt_bucket;</div>
<div class="line"><span class="lineno"> 3581</span>  std::optional&lt;string&gt; opt_tenant;</div>
<div class="line"><span class="lineno"> 3582</span>  std::optional&lt;string&gt; opt_bucket_name;</div>
<div class="line"><span class="lineno"> 3583</span>  std::optional&lt;string&gt; opt_bucket_id;</div>
<div class="line"><span class="lineno"> 3584</span>  std::optional&lt;rgw_bucket&gt; opt_source_bucket;</div>
<div class="line"><span class="lineno"> 3585</span>  std::optional&lt;string&gt; opt_source_tenant;</div>
<div class="line"><span class="lineno"> 3586</span>  std::optional&lt;string&gt; opt_source_bucket_name;</div>
<div class="line"><span class="lineno"> 3587</span>  std::optional&lt;string&gt; opt_source_bucket_id;</div>
<div class="line"><span class="lineno"> 3588</span>  std::optional&lt;rgw_bucket&gt; opt_dest_bucket;</div>
<div class="line"><span class="lineno"> 3589</span>  std::optional&lt;string&gt; opt_dest_tenant;</div>
<div class="line"><span class="lineno"> 3590</span>  std::optional&lt;string&gt; opt_dest_bucket_name;</div>
<div class="line"><span class="lineno"> 3591</span>  std::optional&lt;string&gt; opt_dest_bucket_id;</div>
<div class="line"><span class="lineno"> 3592</span>  std::optional&lt;string&gt; opt_effective_zone_name;</div>
<div class="line"><span class="lineno"> 3593</span>  std::optional&lt;rgw_zone_id&gt; opt_effective_zone_id;</div>
<div class="line"><span class="lineno"> 3594</span> </div>
<div class="line"><span class="lineno"> 3595</span>  std::optional&lt;string&gt; opt_prefix;</div>
<div class="line"><span class="lineno"> 3596</span>  std::optional&lt;string&gt; opt_prefix_rm;</div>
<div class="line"><span class="lineno"> 3597</span> </div>
<div class="line"><span class="lineno"> 3598</span>  std::optional&lt;int&gt; opt_priority;</div>
<div class="line"><span class="lineno"> 3599</span>  std::optional&lt;string&gt; opt_mode;</div>
<div class="line"><span class="lineno"> 3600</span>  std::optional&lt;rgw_user&gt; opt_dest_owner;</div>
<div class="line"><span class="lineno"> 3601</span>  ceph::timespan opt_retry_delay_ms = std::chrono::milliseconds(2000);</div>
<div class="line"><span class="lineno"> 3602</span>  ceph::timespan opt_timeout_sec = std::chrono::seconds(60);</div>
<div class="line"><span class="lineno"> 3603</span> </div>
<div class="line"><span class="lineno"> 3604</span>  <a class="code hl_class" href="class_simple_cmd.html">SimpleCmd</a> cmd(<a class="code hl_variable" href="rgw__admin_8cc.html#aaac958120d2ef3eda1862455254121e9">all_cmds</a>, <a class="code hl_variable" href="rgw__admin_8cc.html#a5e69901da81978961356b5eed1955990">cmd_aliases</a>);</div>
<div class="line"><span class="lineno"> 3605</span>  <span class="keywordtype">bool</span> raw_storage_op = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 3606</span> </div>
<div class="line"><span class="lineno"> 3607</span>  std::optional&lt;std::string&gt; rgw_obj_fs; <span class="comment">// radoslist field separator</span></div>
<div class="line"><span class="lineno"> 3608</span> </div>
<div class="line"><span class="lineno"> 3609</span>  <a class="code hl_function" href="rgw__admin_8cc.html#abb0b9c6525eea74a787a3148b40ac040">init_realm_param</a>(<a class="code hl_variable" href="cls__fifo__legacy_8cc.html#aa76801f7597f40e158b5f38b2e6466c5">cct</a>.get(), realm_id, opt_realm_id, <span class="stringliteral">&quot;rgw_realm_id&quot;</span>);</div>
<div class="line"><span class="lineno"> 3610</span>  <a class="code hl_function" href="rgw__admin_8cc.html#abb0b9c6525eea74a787a3148b40ac040">init_realm_param</a>(<a class="code hl_variable" href="cls__fifo__legacy_8cc.html#aa76801f7597f40e158b5f38b2e6466c5">cct</a>.get(), zonegroup_id, opt_zonegroup_id, <span class="stringliteral">&quot;rgw_zonegroup_id&quot;</span>);</div>
<div class="line"><span class="lineno"> 3611</span>  <a class="code hl_function" href="rgw__admin_8cc.html#abb0b9c6525eea74a787a3148b40ac040">init_realm_param</a>(<a class="code hl_variable" href="cls__fifo__legacy_8cc.html#aa76801f7597f40e158b5f38b2e6466c5">cct</a>.get(), zone_id, opt_zone_id, <span class="stringliteral">&quot;rgw_zone_id&quot;</span>);</div>
<div class="line"><span class="lineno"> 3612</span> </div>
<div class="line"><span class="lineno"> 3613</span>  <span class="keywordflow">for</span> (std::vector&lt;const char*&gt;::iterator i = <a class="code hl_variable" href="dbstore__tests_8cc.html#a3284f7a2d0ea04744ec7605cbacce0de">args</a>.begin(); i != <a class="code hl_variable" href="dbstore__tests_8cc.html#a3284f7a2d0ea04744ec7605cbacce0de">args</a>.end(); ) {</div>
<div class="line"><span class="lineno"> 3614</span>    <span class="keywordflow">if</span> (ceph_argparse_double_dash(<a class="code hl_variable" href="dbstore__tests_8cc.html#a3284f7a2d0ea04744ec7605cbacce0de">args</a>, i)) {</div>
<div class="line"><span class="lineno"> 3615</span>      <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 3616</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (ceph_argparse_witharg(<a class="code hl_variable" href="dbstore__tests_8cc.html#a3284f7a2d0ea04744ec7605cbacce0de">args</a>, i, &amp;val, <span class="stringliteral">&quot;-i&quot;</span>, <span class="stringliteral">&quot;--uid&quot;</span>, (<span class="keywordtype">char</span>*)NULL)) {</div>
<div class="line"><span class="lineno"> 3617</span>      user_id_arg.<a class="code hl_function" href="structrgw__user.html#a7e60b2dd070ae3af5cebb6c34946bac6">from_str</a>(val);</div>
<div class="line"><span class="lineno"> 3618</span>      <span class="keywordflow">if</span> (user_id_arg.<a class="code hl_function" href="structrgw__user.html#afd8a9e36c5a9f7773c13d903c3124e99">empty</a>()) {</div>
<div class="line"><span class="lineno"> 3619</span>        cerr &lt;&lt; <span class="stringliteral">&quot;no value for uid&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 3620</span>        exit(1);</div>
<div class="line"><span class="lineno"> 3621</span>      }</div>
<div class="line"><span class="lineno"> 3622</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (ceph_argparse_witharg(<a class="code hl_variable" href="dbstore__tests_8cc.html#a3284f7a2d0ea04744ec7605cbacce0de">args</a>, i, &amp;val, <span class="stringliteral">&quot;--new-uid&quot;</span>, (<span class="keywordtype">char</span>*)NULL)) {</div>
<div class="line"><span class="lineno"> 3623</span>      new_user_id.<a class="code hl_function" href="structrgw__user.html#a7e60b2dd070ae3af5cebb6c34946bac6">from_str</a>(val);</div>
<div class="line"><span class="lineno"> 3624</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (ceph_argparse_witharg(<a class="code hl_variable" href="dbstore__tests_8cc.html#a3284f7a2d0ea04744ec7605cbacce0de">args</a>, i, &amp;val, <span class="stringliteral">&quot;--tenant&quot;</span>, (<span class="keywordtype">char</span>*)NULL)) {</div>
<div class="line"><span class="lineno"> 3625</span>      tenant = val;</div>
<div class="line"><span class="lineno"> 3626</span>      opt_tenant = val;</div>
<div class="line"><span class="lineno"> 3627</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (ceph_argparse_witharg(<a class="code hl_variable" href="dbstore__tests_8cc.html#a3284f7a2d0ea04744ec7605cbacce0de">args</a>, i, &amp;val, <span class="stringliteral">&quot;--user_ns&quot;</span>, (<span class="keywordtype">char</span>*)NULL)) {</div>
<div class="line"><span class="lineno"> 3628</span>      user_ns = val;</div>
<div class="line"><span class="lineno"> 3629</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (ceph_argparse_witharg(<a class="code hl_variable" href="dbstore__tests_8cc.html#a3284f7a2d0ea04744ec7605cbacce0de">args</a>, i, &amp;val, <span class="stringliteral">&quot;--access-key&quot;</span>, (<span class="keywordtype">char</span>*)NULL)) {</div>
<div class="line"><span class="lineno"> 3630</span>      access_key = val;</div>
<div class="line"><span class="lineno"> 3631</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (ceph_argparse_witharg(<a class="code hl_variable" href="dbstore__tests_8cc.html#a3284f7a2d0ea04744ec7605cbacce0de">args</a>, i, &amp;val, <span class="stringliteral">&quot;--subuser&quot;</span>, (<span class="keywordtype">char</span>*)NULL)) {</div>
<div class="line"><span class="lineno"> 3632</span>      subuser = val;</div>
<div class="line"><span class="lineno"> 3633</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (ceph_argparse_witharg(<a class="code hl_variable" href="dbstore__tests_8cc.html#a3284f7a2d0ea04744ec7605cbacce0de">args</a>, i, &amp;val, <span class="stringliteral">&quot;--secret&quot;</span>, <span class="stringliteral">&quot;--secret-key&quot;</span>, (<span class="keywordtype">char</span>*)NULL)) {</div>
<div class="line"><span class="lineno"> 3634</span>      secret_key = val;</div>
<div class="line"><span class="lineno"> 3635</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (ceph_argparse_witharg(<a class="code hl_variable" href="dbstore__tests_8cc.html#a3284f7a2d0ea04744ec7605cbacce0de">args</a>, i, &amp;val, <span class="stringliteral">&quot;-e&quot;</span>, <span class="stringliteral">&quot;--email&quot;</span>, (<span class="keywordtype">char</span>*)NULL)) {</div>
<div class="line"><span class="lineno"> 3636</span>      user_email = val;</div>
<div class="line"><span class="lineno"> 3637</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (ceph_argparse_witharg(<a class="code hl_variable" href="dbstore__tests_8cc.html#a3284f7a2d0ea04744ec7605cbacce0de">args</a>, i, &amp;val, <span class="stringliteral">&quot;-n&quot;</span>, <span class="stringliteral">&quot;--display-name&quot;</span>, (<span class="keywordtype">char</span>*)NULL)) {</div>
<div class="line"><span class="lineno"> 3638</span>      display_name = val;</div>
<div class="line"><span class="lineno"> 3639</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (ceph_argparse_witharg(<a class="code hl_variable" href="dbstore__tests_8cc.html#a3284f7a2d0ea04744ec7605cbacce0de">args</a>, i, &amp;val, <span class="stringliteral">&quot;-b&quot;</span>, <span class="stringliteral">&quot;--bucket&quot;</span>, (<span class="keywordtype">char</span>*)NULL)) {</div>
<div class="line"><span class="lineno"> 3640</span>      bucket_name = val;</div>
<div class="line"><span class="lineno"> 3641</span>      opt_bucket_name = val;</div>
<div class="line"><span class="lineno"> 3642</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (ceph_argparse_witharg(<a class="code hl_variable" href="dbstore__tests_8cc.html#a3284f7a2d0ea04744ec7605cbacce0de">args</a>, i, &amp;val, <span class="stringliteral">&quot;-p&quot;</span>, <span class="stringliteral">&quot;--pool&quot;</span>, (<span class="keywordtype">char</span>*)NULL)) {</div>
<div class="line"><span class="lineno"> 3643</span>      pool_name = val;</div>
<div class="line"><span class="lineno"> 3644</span>      pool = <a class="code hl_struct" href="structrgw__pool.html">rgw_pool</a>(pool_name);</div>
<div class="line"><span class="lineno"> 3645</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (ceph_argparse_witharg(<a class="code hl_variable" href="dbstore__tests_8cc.html#a3284f7a2d0ea04744ec7605cbacce0de">args</a>, i, &amp;val, <span class="stringliteral">&quot;-o&quot;</span>, <span class="stringliteral">&quot;--object&quot;</span>, (<span class="keywordtype">char</span>*)NULL)) {</div>
<div class="line"><span class="lineno"> 3646</span>      <span class="keywordtype">object</span> = val;</div>
<div class="line"><span class="lineno"> 3647</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (ceph_argparse_witharg(<a class="code hl_variable" href="dbstore__tests_8cc.html#a3284f7a2d0ea04744ec7605cbacce0de">args</a>, i, &amp;val, <span class="stringliteral">&quot;--object-version&quot;</span>, (<span class="keywordtype">char</span>*)NULL)) {</div>
<div class="line"><span class="lineno"> 3648</span>      object_version = val;</div>
<div class="line"><span class="lineno"> 3649</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (ceph_argparse_witharg(<a class="code hl_variable" href="dbstore__tests_8cc.html#a3284f7a2d0ea04744ec7605cbacce0de">args</a>, i, &amp;val, <span class="stringliteral">&quot;--client-id&quot;</span>, (<span class="keywordtype">char</span>*)NULL)) {</div>
<div class="line"><span class="lineno"> 3650</span>      <a class="code hl_enumeration" href="namespacergw_1_1dmclock.html#a6ed0c6ad7f7fc29a06f52a0070d21493">client_id</a> = val;</div>
<div class="line"><span class="lineno"> 3651</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (ceph_argparse_witharg(<a class="code hl_variable" href="dbstore__tests_8cc.html#a3284f7a2d0ea04744ec7605cbacce0de">args</a>, i, &amp;val, <span class="stringliteral">&quot;--op-id&quot;</span>, (<span class="keywordtype">char</span>*)NULL)) {</div>
<div class="line"><span class="lineno"> 3652</span>      op_id = val;</div>
<div class="line"><span class="lineno"> 3653</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (ceph_argparse_witharg(<a class="code hl_variable" href="dbstore__tests_8cc.html#a3284f7a2d0ea04744ec7605cbacce0de">args</a>, i, &amp;val, <span class="stringliteral">&quot;--op-mask&quot;</span>, (<span class="keywordtype">char</span>*)NULL)) {</div>
<div class="line"><span class="lineno"> 3654</span>      op_mask_str = val;</div>
<div class="line"><span class="lineno"> 3655</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (ceph_argparse_witharg(<a class="code hl_variable" href="dbstore__tests_8cc.html#a3284f7a2d0ea04744ec7605cbacce0de">args</a>, i, &amp;val, <span class="stringliteral">&quot;--key-type&quot;</span>, (<span class="keywordtype">char</span>*)NULL)) {</div>
<div class="line"><span class="lineno"> 3656</span>      key_type_str = val;</div>
<div class="line"><span class="lineno"> 3657</span>      <span class="keywordflow">if</span> (key_type_str.compare(<span class="stringliteral">&quot;swift&quot;</span>) == 0) {</div>
<div class="line"><span class="lineno"> 3658</span>        key_type = <a class="code hl_enumvalue" href="rgw__user_8h.html#a58fd975b8b46e98348e859f0fc0eb868a551ef80e7ab3976bd5c5fe2cbdbc3f6f">KEY_TYPE_SWIFT</a>;</div>
<div class="line"><span class="lineno"> 3659</span>      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (key_type_str.compare(<span class="stringliteral">&quot;s3&quot;</span>) == 0) {</div>
<div class="line"><span class="lineno"> 3660</span>        key_type = <a class="code hl_enumvalue" href="rgw__user_8h.html#a58fd975b8b46e98348e859f0fc0eb868a31953ca249cd93e5f684714470db7bb0">KEY_TYPE_S3</a>;</div>
<div class="line"><span class="lineno"> 3661</span>      } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 3662</span>        cerr &lt;&lt; <span class="stringliteral">&quot;bad key type: &quot;</span> &lt;&lt; key_type_str &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 3663</span>        exit(1);</div>
<div class="line"><span class="lineno"> 3664</span>      }</div>
<div class="line"><span class="lineno"> 3665</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (ceph_argparse_witharg(<a class="code hl_variable" href="dbstore__tests_8cc.html#a3284f7a2d0ea04744ec7605cbacce0de">args</a>, i, &amp;val, <span class="stringliteral">&quot;--job-id&quot;</span>, (<span class="keywordtype">char</span>*)NULL)) {</div>
<div class="line"><span class="lineno"> 3666</span>      job_id = val;</div>
<div class="line"><span class="lineno"> 3667</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (ceph_argparse_binary_flag(<a class="code hl_variable" href="dbstore__tests_8cc.html#a3284f7a2d0ea04744ec7605cbacce0de">args</a>, i, &amp;gen_access_key, NULL, <span class="stringliteral">&quot;--gen-access-key&quot;</span>, (<span class="keywordtype">char</span>*)NULL)) {</div>
<div class="line"><span class="lineno"> 3668</span>      <span class="comment">// do nothing</span></div>
<div class="line"><span class="lineno"> 3669</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (ceph_argparse_binary_flag(<a class="code hl_variable" href="dbstore__tests_8cc.html#a3284f7a2d0ea04744ec7605cbacce0de">args</a>, i, &amp;gen_secret_key, NULL, <span class="stringliteral">&quot;--gen-secret&quot;</span>, (<span class="keywordtype">char</span>*)NULL)) {</div>
<div class="line"><span class="lineno"> 3670</span>      <span class="comment">// do nothing</span></div>
<div class="line"><span class="lineno"> 3671</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (ceph_argparse_binary_flag(<a class="code hl_variable" href="dbstore__tests_8cc.html#a3284f7a2d0ea04744ec7605cbacce0de">args</a>, i, &amp;show_log_entries, NULL, <span class="stringliteral">&quot;--show-log-entries&quot;</span>, (<span class="keywordtype">char</span>*)NULL)) {</div>
<div class="line"><span class="lineno"> 3672</span>      <span class="comment">// do nothing</span></div>
<div class="line"><span class="lineno"> 3673</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (ceph_argparse_binary_flag(<a class="code hl_variable" href="dbstore__tests_8cc.html#a3284f7a2d0ea04744ec7605cbacce0de">args</a>, i, &amp;show_log_sum, NULL, <span class="stringliteral">&quot;--show-log-sum&quot;</span>, (<span class="keywordtype">char</span>*)NULL)) {</div>
<div class="line"><span class="lineno"> 3674</span>      <span class="comment">// do nothing</span></div>
<div class="line"><span class="lineno"> 3675</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (ceph_argparse_binary_flag(<a class="code hl_variable" href="dbstore__tests_8cc.html#a3284f7a2d0ea04744ec7605cbacce0de">args</a>, i, &amp;skip_zero_entries, NULL, <span class="stringliteral">&quot;--skip-zero-entries&quot;</span>, (<span class="keywordtype">char</span>*)NULL)) {</div>
<div class="line"><span class="lineno"> 3676</span>      <span class="comment">// do nothing</span></div>
<div class="line"><span class="lineno"> 3677</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (ceph_argparse_binary_flag(<a class="code hl_variable" href="dbstore__tests_8cc.html#a3284f7a2d0ea04744ec7605cbacce0de">args</a>, i, &amp;admin, NULL, <span class="stringliteral">&quot;--admin&quot;</span>, (<span class="keywordtype">char</span>*)NULL)) {</div>
<div class="line"><span class="lineno"> 3678</span>      admin_specified = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 3679</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (ceph_argparse_binary_flag(<a class="code hl_variable" href="dbstore__tests_8cc.html#a3284f7a2d0ea04744ec7605cbacce0de">args</a>, i, &amp;system, NULL, <span class="stringliteral">&quot;--system&quot;</span>, (<span class="keywordtype">char</span>*)NULL)) {</div>
<div class="line"><span class="lineno"> 3680</span>      system_specified = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 3681</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (ceph_argparse_binary_flag(<a class="code hl_variable" href="dbstore__tests_8cc.html#a3284f7a2d0ea04744ec7605cbacce0de">args</a>, i, &amp;verbose, NULL, <span class="stringliteral">&quot;--verbose&quot;</span>, (<span class="keywordtype">char</span>*)NULL)) {</div>
<div class="line"><span class="lineno"> 3682</span>      <span class="comment">// do nothing</span></div>
<div class="line"><span class="lineno"> 3683</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (ceph_argparse_binary_flag(<a class="code hl_variable" href="dbstore__tests_8cc.html#a3284f7a2d0ea04744ec7605cbacce0de">args</a>, i, &amp;staging, NULL, <span class="stringliteral">&quot;--staging&quot;</span>, (<span class="keywordtype">char</span>*)NULL)) {</div>
<div class="line"><span class="lineno"> 3684</span>      <span class="comment">// do nothing</span></div>
<div class="line"><span class="lineno"> 3685</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (ceph_argparse_binary_flag(<a class="code hl_variable" href="dbstore__tests_8cc.html#a3284f7a2d0ea04744ec7605cbacce0de">args</a>, i, &amp;commit, NULL, <span class="stringliteral">&quot;--commit&quot;</span>, (<span class="keywordtype">char</span>*)NULL)) {</div>
<div class="line"><span class="lineno"> 3686</span>      <span class="comment">// do nothing</span></div>
<div class="line"><span class="lineno"> 3687</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (ceph_argparse_witharg(<a class="code hl_variable" href="dbstore__tests_8cc.html#a3284f7a2d0ea04744ec7605cbacce0de">args</a>, i, &amp;val, <span class="stringliteral">&quot;--min-rewrite-size&quot;</span>, (<span class="keywordtype">char</span>*)NULL)) {</div>
<div class="line"><span class="lineno"> 3688</span>      min_rewrite_size = (uint64_t)atoll(val.c_str());</div>
<div class="line"><span class="lineno"> 3689</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (ceph_argparse_witharg(<a class="code hl_variable" href="dbstore__tests_8cc.html#a3284f7a2d0ea04744ec7605cbacce0de">args</a>, i, &amp;val, <span class="stringliteral">&quot;--max-rewrite-size&quot;</span>, (<span class="keywordtype">char</span>*)NULL)) {</div>
<div class="line"><span class="lineno"> 3690</span>      max_rewrite_size = (uint64_t)atoll(val.c_str());</div>
<div class="line"><span class="lineno"> 3691</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (ceph_argparse_witharg(<a class="code hl_variable" href="dbstore__tests_8cc.html#a3284f7a2d0ea04744ec7605cbacce0de">args</a>, i, &amp;val, <span class="stringliteral">&quot;--min-rewrite-stripe-size&quot;</span>, (<span class="keywordtype">char</span>*)NULL)) {</div>
<div class="line"><span class="lineno"> 3692</span>      min_rewrite_stripe_size = (uint64_t)atoll(val.c_str());</div>
<div class="line"><span class="lineno"> 3693</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (ceph_argparse_witharg(<a class="code hl_variable" href="dbstore__tests_8cc.html#a3284f7a2d0ea04744ec7605cbacce0de">args</a>, i, &amp;val, <span class="stringliteral">&quot;--max-buckets&quot;</span>, (<span class="keywordtype">char</span>*)NULL)) {</div>
<div class="line"><span class="lineno"> 3694</span>      max_buckets = (int)strict_strtol(val.c_str(), 10, &amp;err);</div>
<div class="line"><span class="lineno"> 3695</span>      <span class="keywordflow">if</span> (!err.empty()) {</div>
<div class="line"><span class="lineno"> 3696</span>        cerr &lt;&lt; <span class="stringliteral">&quot;ERROR: failed to parse max buckets: &quot;</span> &lt;&lt; err &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 3697</span>        <span class="keywordflow">return</span> EINVAL;</div>
<div class="line"><span class="lineno"> 3698</span>      }</div>
<div class="line"><span class="lineno"> 3699</span>      max_buckets_specified = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 3700</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (ceph_argparse_witharg(<a class="code hl_variable" href="dbstore__tests_8cc.html#a3284f7a2d0ea04744ec7605cbacce0de">args</a>, i, &amp;val, <span class="stringliteral">&quot;--max-entries&quot;</span>, (<span class="keywordtype">char</span>*)NULL)) {</div>
<div class="line"><span class="lineno"> 3701</span>      max_entries = (int)strict_strtol(val.c_str(), 10, &amp;err);</div>
<div class="line"><span class="lineno"> 3702</span>      max_entries_specified = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 3703</span>      <span class="keywordflow">if</span> (!err.empty()) {</div>
<div class="line"><span class="lineno"> 3704</span>        cerr &lt;&lt; <span class="stringliteral">&quot;ERROR: failed to parse max entries: &quot;</span> &lt;&lt; err &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 3705</span>        <span class="keywordflow">return</span> EINVAL;</div>
<div class="line"><span class="lineno"> 3706</span>      }</div>
<div class="line"><span class="lineno"> 3707</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (ceph_argparse_witharg(<a class="code hl_variable" href="dbstore__tests_8cc.html#a3284f7a2d0ea04744ec7605cbacce0de">args</a>, i, &amp;val, <span class="stringliteral">&quot;--max-size&quot;</span>, (<span class="keywordtype">char</span>*)NULL)) {</div>
<div class="line"><span class="lineno"> 3708</span>      max_size = strict_iec_cast&lt;long long&gt;(val, &amp;err);</div>
<div class="line"><span class="lineno"> 3709</span>      <span class="keywordflow">if</span> (!err.empty()) {</div>
<div class="line"><span class="lineno"> 3710</span>        cerr &lt;&lt; <span class="stringliteral">&quot;ERROR: failed to parse max size: &quot;</span> &lt;&lt; err &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 3711</span>        <span class="keywordflow">return</span> EINVAL;</div>
<div class="line"><span class="lineno"> 3712</span>      }</div>
<div class="line"><span class="lineno"> 3713</span>      have_max_size = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 3714</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (ceph_argparse_witharg(<a class="code hl_variable" href="dbstore__tests_8cc.html#a3284f7a2d0ea04744ec7605cbacce0de">args</a>, i, &amp;val, <span class="stringliteral">&quot;--max-objects&quot;</span>, (<span class="keywordtype">char</span>*)NULL)) {</div>
<div class="line"><span class="lineno"> 3715</span>      max_objects = (int64_t)strict_strtoll(val.c_str(), 10, &amp;err);</div>
<div class="line"><span class="lineno"> 3716</span>      <span class="keywordflow">if</span> (!err.empty()) {</div>
<div class="line"><span class="lineno"> 3717</span>        cerr &lt;&lt; <span class="stringliteral">&quot;ERROR: failed to parse max objects: &quot;</span> &lt;&lt; err &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 3718</span>        <span class="keywordflow">return</span> EINVAL;</div>
<div class="line"><span class="lineno"> 3719</span>      }</div>
<div class="line"><span class="lineno"> 3720</span>      have_max_objects = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 3721</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (ceph_argparse_witharg(<a class="code hl_variable" href="dbstore__tests_8cc.html#a3284f7a2d0ea04744ec7605cbacce0de">args</a>, i, &amp;val, <span class="stringliteral">&quot;--max-read-ops&quot;</span>, (<span class="keywordtype">char</span>*)NULL)) {</div>
<div class="line"><span class="lineno"> 3722</span>      max_read_ops = (int64_t)strict_strtoll(val.c_str(), 10, &amp;err);</div>
<div class="line"><span class="lineno"> 3723</span>      <span class="keywordflow">if</span> (!err.empty()) {</div>
<div class="line"><span class="lineno"> 3724</span>        cerr &lt;&lt; <span class="stringliteral">&quot;ERROR: failed to parse max read requests: &quot;</span> &lt;&lt; err &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 3725</span>        <span class="keywordflow">return</span> EINVAL;</div>
<div class="line"><span class="lineno"> 3726</span>      }</div>
<div class="line"><span class="lineno"> 3727</span>      have_max_read_ops = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 3728</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (ceph_argparse_witharg(<a class="code hl_variable" href="dbstore__tests_8cc.html#a3284f7a2d0ea04744ec7605cbacce0de">args</a>, i, &amp;val, <span class="stringliteral">&quot;--max-write-ops&quot;</span>, (<span class="keywordtype">char</span>*)NULL)) {</div>
<div class="line"><span class="lineno"> 3729</span>      max_write_ops = (int64_t)strict_strtoll(val.c_str(), 10, &amp;err);</div>
<div class="line"><span class="lineno"> 3730</span>      <span class="keywordflow">if</span> (!err.empty()) {</div>
<div class="line"><span class="lineno"> 3731</span>        cerr &lt;&lt; <span class="stringliteral">&quot;ERROR: failed to parse max write requests: &quot;</span> &lt;&lt; err &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 3732</span>        <span class="keywordflow">return</span> EINVAL;</div>
<div class="line"><span class="lineno"> 3733</span>      }</div>
<div class="line"><span class="lineno"> 3734</span>      have_max_write_ops = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 3735</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (ceph_argparse_witharg(<a class="code hl_variable" href="dbstore__tests_8cc.html#a3284f7a2d0ea04744ec7605cbacce0de">args</a>, i, &amp;val, <span class="stringliteral">&quot;--max-read-bytes&quot;</span>, (<span class="keywordtype">char</span>*)NULL)) {</div>
<div class="line"><span class="lineno"> 3736</span>      max_read_bytes = (int64_t)strict_strtoll(val.c_str(), 10, &amp;err);</div>
<div class="line"><span class="lineno"> 3737</span>      <span class="keywordflow">if</span> (!err.empty()) {</div>
<div class="line"><span class="lineno"> 3738</span>        cerr &lt;&lt; <span class="stringliteral">&quot;ERROR: failed to parse max read bytes: &quot;</span> &lt;&lt; err &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 3739</span>        <span class="keywordflow">return</span> EINVAL;</div>
<div class="line"><span class="lineno"> 3740</span>      }</div>
<div class="line"><span class="lineno"> 3741</span>      have_max_read_bytes = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 3742</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (ceph_argparse_witharg(<a class="code hl_variable" href="dbstore__tests_8cc.html#a3284f7a2d0ea04744ec7605cbacce0de">args</a>, i, &amp;val, <span class="stringliteral">&quot;--max-write-bytes&quot;</span>, (<span class="keywordtype">char</span>*)NULL)) {</div>
<div class="line"><span class="lineno"> 3743</span>      max_write_bytes = (int64_t)strict_strtoll(val.c_str(), 10, &amp;err);</div>
<div class="line"><span class="lineno"> 3744</span>      <span class="keywordflow">if</span> (!err.empty()) {</div>
<div class="line"><span class="lineno"> 3745</span>        cerr &lt;&lt; <span class="stringliteral">&quot;ERROR: failed to parse max write bytes: &quot;</span> &lt;&lt; err &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 3746</span>        <span class="keywordflow">return</span> EINVAL;</div>
<div class="line"><span class="lineno"> 3747</span>      }</div>
<div class="line"><span class="lineno"> 3748</span>      have_max_write_bytes = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 3749</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (ceph_argparse_witharg(<a class="code hl_variable" href="dbstore__tests_8cc.html#a3284f7a2d0ea04744ec7605cbacce0de">args</a>, i, &amp;val, <span class="stringliteral">&quot;--date&quot;</span>, <span class="stringliteral">&quot;--time&quot;</span>, (<span class="keywordtype">char</span>*)NULL)) {</div>
<div class="line"><span class="lineno"> 3750</span>      <a class="code hl_typedef" href="namespacejwt.html#ad1a72c1ea3d67e3d9bd554e26856523d">date</a> = val;</div>
<div class="line"><span class="lineno"> 3751</span>      <span class="keywordflow">if</span> (end_date.empty())</div>
<div class="line"><span class="lineno"> 3752</span>        end_date = date;</div>
<div class="line"><span class="lineno"> 3753</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (ceph_argparse_witharg(<a class="code hl_variable" href="dbstore__tests_8cc.html#a3284f7a2d0ea04744ec7605cbacce0de">args</a>, i, &amp;val, <span class="stringliteral">&quot;--start-date&quot;</span>, <span class="stringliteral">&quot;--start-time&quot;</span>, (<span class="keywordtype">char</span>*)NULL)) {</div>
<div class="line"><span class="lineno"> 3754</span>      start_date = val;</div>
<div class="line"><span class="lineno"> 3755</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (ceph_argparse_witharg(<a class="code hl_variable" href="dbstore__tests_8cc.html#a3284f7a2d0ea04744ec7605cbacce0de">args</a>, i, &amp;val, <span class="stringliteral">&quot;--end-date&quot;</span>, <span class="stringliteral">&quot;--end-time&quot;</span>, (<span class="keywordtype">char</span>*)NULL)) {</div>
<div class="line"><span class="lineno"> 3756</span>      end_date = val;</div>
<div class="line"><span class="lineno"> 3757</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (ceph_argparse_witharg(<a class="code hl_variable" href="dbstore__tests_8cc.html#a3284f7a2d0ea04744ec7605cbacce0de">args</a>, i, &amp;val, <span class="stringliteral">&quot;--num-shards&quot;</span>, (<span class="keywordtype">char</span>*)NULL)) {</div>
<div class="line"><span class="lineno"> 3758</span>      num_shards = (int)strict_strtol(val.c_str(), 10, &amp;err);</div>
<div class="line"><span class="lineno"> 3759</span>      <span class="keywordflow">if</span> (!err.empty()) {</div>
<div class="line"><span class="lineno"> 3760</span>        cerr &lt;&lt; <span class="stringliteral">&quot;ERROR: failed to parse num shards: &quot;</span> &lt;&lt; err &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 3761</span>        <span class="keywordflow">return</span> EINVAL;</div>
<div class="line"><span class="lineno"> 3762</span>      }</div>
<div class="line"><span class="lineno"> 3763</span>      num_shards_specified = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 3764</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (ceph_argparse_witharg(<a class="code hl_variable" href="dbstore__tests_8cc.html#a3284f7a2d0ea04744ec7605cbacce0de">args</a>, i, &amp;val, <span class="stringliteral">&quot;--bucket-index-max-shards&quot;</span>, (<span class="keywordtype">char</span>*)NULL)) {</div>
<div class="line"><span class="lineno"> 3765</span>      bucket_index_max_shards = (int)strict_strtol(val.c_str(), 10, &amp;err);</div>
<div class="line"><span class="lineno"> 3766</span>      <span class="keywordflow">if</span> (!err.empty()) {</div>
<div class="line"><span class="lineno"> 3767</span>        cerr &lt;&lt; <span class="stringliteral">&quot;ERROR: failed to parse bucket-index-max-shards: &quot;</span> &lt;&lt; err &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 3768</span>        <span class="keywordflow">return</span> EINVAL;</div>
<div class="line"><span class="lineno"> 3769</span>      }</div>
<div class="line"><span class="lineno"> 3770</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (ceph_argparse_witharg(<a class="code hl_variable" href="dbstore__tests_8cc.html#a3284f7a2d0ea04744ec7605cbacce0de">args</a>, i, &amp;val, <span class="stringliteral">&quot;--max-concurrent-ios&quot;</span>, (<span class="keywordtype">char</span>*)NULL)) {</div>
<div class="line"><span class="lineno"> 3771</span>      max_concurrent_ios = (int)strict_strtol(val.c_str(), 10, &amp;err);</div>
<div class="line"><span class="lineno"> 3772</span>      <span class="keywordflow">if</span> (!err.empty()) {</div>
<div class="line"><span class="lineno"> 3773</span>        cerr &lt;&lt; <span class="stringliteral">&quot;ERROR: failed to parse max concurrent ios: &quot;</span> &lt;&lt; err &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 3774</span>        <span class="keywordflow">return</span> EINVAL;</div>
<div class="line"><span class="lineno"> 3775</span>      }</div>
<div class="line"><span class="lineno"> 3776</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (ceph_argparse_witharg(<a class="code hl_variable" href="dbstore__tests_8cc.html#a3284f7a2d0ea04744ec7605cbacce0de">args</a>, i, &amp;val, <span class="stringliteral">&quot;--orphan-stale-secs&quot;</span>, (<span class="keywordtype">char</span>*)NULL)) {</div>
<div class="line"><span class="lineno"> 3777</span>      orphan_stale_secs = (uint64_t)strict_strtoll(val.c_str(), 10, &amp;err);</div>
<div class="line"><span class="lineno"> 3778</span>      <span class="keywordflow">if</span> (!err.empty()) {</div>
<div class="line"><span class="lineno"> 3779</span>        cerr &lt;&lt; <span class="stringliteral">&quot;ERROR: failed to parse orphan stale secs: &quot;</span> &lt;&lt; err &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 3780</span>        <span class="keywordflow">return</span> EINVAL;</div>
<div class="line"><span class="lineno"> 3781</span>      }</div>
<div class="line"><span class="lineno"> 3782</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (ceph_argparse_witharg(<a class="code hl_variable" href="dbstore__tests_8cc.html#a3284f7a2d0ea04744ec7605cbacce0de">args</a>, i, &amp;val, <span class="stringliteral">&quot;--shard-id&quot;</span>, (<span class="keywordtype">char</span>*)NULL)) {</div>
<div class="line"><span class="lineno"> 3783</span>      shard_id = (int)strict_strtol(val.c_str(), 10, &amp;err);</div>
<div class="line"><span class="lineno"> 3784</span>      <span class="keywordflow">if</span> (!err.empty()) {</div>
<div class="line"><span class="lineno"> 3785</span>        cerr &lt;&lt; <span class="stringliteral">&quot;ERROR: failed to parse shard id: &quot;</span> &lt;&lt; err &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 3786</span>        <span class="keywordflow">return</span> EINVAL;</div>
<div class="line"><span class="lineno"> 3787</span>      }</div>
<div class="line"><span class="lineno"> 3788</span>      specified_shard_id = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 3789</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (ceph_argparse_witharg(<a class="code hl_variable" href="dbstore__tests_8cc.html#a3284f7a2d0ea04744ec7605cbacce0de">args</a>, i, &amp;val, <span class="stringliteral">&quot;--access&quot;</span>, (<span class="keywordtype">char</span>*)NULL)) {</div>
<div class="line"><span class="lineno"> 3790</span>      access = val;</div>
<div class="line"><span class="lineno"> 3791</span>      perm_mask = <a class="code hl_function" href="rgw__common_8cc.html#a8cd593f78844d5c2abb9a38c8cb3626a">rgw_str_to_perm</a>(access.c_str());</div>
<div class="line"><span class="lineno"> 3792</span>      set_perm = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 3793</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (ceph_argparse_witharg(<a class="code hl_variable" href="dbstore__tests_8cc.html#a3284f7a2d0ea04744ec7605cbacce0de">args</a>, i, &amp;val, <span class="stringliteral">&quot;--temp-url-key&quot;</span>, (<span class="keywordtype">char</span>*)NULL)) {</div>
<div class="line"><span class="lineno"> 3794</span>      temp_url_keys[0] = val;</div>
<div class="line"><span class="lineno"> 3795</span>      set_temp_url_key = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 3796</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (ceph_argparse_witharg(<a class="code hl_variable" href="dbstore__tests_8cc.html#a3284f7a2d0ea04744ec7605cbacce0de">args</a>, i, &amp;val, <span class="stringliteral">&quot;--temp-url-key2&quot;</span>, <span class="stringliteral">&quot;--temp-url-key-2&quot;</span>, (<span class="keywordtype">char</span>*)NULL)) {</div>
<div class="line"><span class="lineno"> 3797</span>      temp_url_keys[1] = val;</div>
<div class="line"><span class="lineno"> 3798</span>      set_temp_url_key = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 3799</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (ceph_argparse_witharg(<a class="code hl_variable" href="dbstore__tests_8cc.html#a3284f7a2d0ea04744ec7605cbacce0de">args</a>, i, &amp;val, <span class="stringliteral">&quot;--bucket-id&quot;</span>, (<span class="keywordtype">char</span>*)NULL)) {</div>
<div class="line"><span class="lineno"> 3800</span>      bucket_id = val;</div>
<div class="line"><span class="lineno"> 3801</span>      opt_bucket_id = val;</div>
<div class="line"><span class="lineno"> 3802</span>      <span class="keywordflow">if</span> (bucket_id.empty()) {</div>
<div class="line"><span class="lineno"> 3803</span>        cerr &lt;&lt; <span class="stringliteral">&quot;no value for bucket-id&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 3804</span>        exit(1);</div>
<div class="line"><span class="lineno"> 3805</span>      }</div>
<div class="line"><span class="lineno"> 3806</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (ceph_argparse_witharg(<a class="code hl_variable" href="dbstore__tests_8cc.html#a3284f7a2d0ea04744ec7605cbacce0de">args</a>, i, &amp;val, <span class="stringliteral">&quot;--bucket-new-name&quot;</span>, (<span class="keywordtype">char</span>*)NULL)) {</div>
<div class="line"><span class="lineno"> 3807</span>      new_bucket_name = val;</div>
<div class="line"><span class="lineno"> 3808</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (ceph_argparse_witharg(<a class="code hl_variable" href="dbstore__tests_8cc.html#a3284f7a2d0ea04744ec7605cbacce0de">args</a>, i, &amp;val, <span class="stringliteral">&quot;--format&quot;</span>, (<span class="keywordtype">char</span>*)NULL)) {</div>
<div class="line"><span class="lineno"> 3809</span>      format = val;</div>
<div class="line"><span class="lineno"> 3810</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (ceph_argparse_witharg(<a class="code hl_variable" href="dbstore__tests_8cc.html#a3284f7a2d0ea04744ec7605cbacce0de">args</a>, i, &amp;val, <span class="stringliteral">&quot;--categories&quot;</span>, (<span class="keywordtype">char</span>*)NULL)) {</div>
<div class="line"><span class="lineno"> 3811</span>      <span class="keywordtype">string</span> cat_str = val;</div>
<div class="line"><span class="lineno"> 3812</span>      list&lt;string&gt; cat_list;</div>
<div class="line"><span class="lineno"> 3813</span>      list&lt;string&gt;::iterator iter;</div>
<div class="line"><span class="lineno"> 3814</span>      get_str_list(cat_str, cat_list);</div>
<div class="line"><span class="lineno"> 3815</span>      <span class="keywordflow">for</span> (iter = cat_list.begin(); iter != cat_list.end(); ++iter) {</div>
<div class="line"><span class="lineno"> 3816</span>    categories[*iter] = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 3817</span>      }</div>
<div class="line"><span class="lineno"> 3818</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (ceph_argparse_binary_flag(<a class="code hl_variable" href="dbstore__tests_8cc.html#a3284f7a2d0ea04744ec7605cbacce0de">args</a>, i, &amp;delete_child_objects, NULL, <span class="stringliteral">&quot;--purge-objects&quot;</span>, (<span class="keywordtype">char</span>*)NULL)) {</div>
<div class="line"><span class="lineno"> 3819</span>      <span class="comment">// do nothing</span></div>
<div class="line"><span class="lineno"> 3820</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (ceph_argparse_binary_flag(<a class="code hl_variable" href="dbstore__tests_8cc.html#a3284f7a2d0ea04744ec7605cbacce0de">args</a>, i, &amp;pretty_format, NULL, <span class="stringliteral">&quot;--pretty-format&quot;</span>, (<span class="keywordtype">char</span>*)NULL)) {</div>
<div class="line"><span class="lineno"> 3821</span>      <span class="comment">// do nothing</span></div>
<div class="line"><span class="lineno"> 3822</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (ceph_argparse_binary_flag(<a class="code hl_variable" href="dbstore__tests_8cc.html#a3284f7a2d0ea04744ec7605cbacce0de">args</a>, i, &amp;purge_data, NULL, <span class="stringliteral">&quot;--purge-data&quot;</span>, (<span class="keywordtype">char</span>*)NULL)) {</div>
<div class="line"><span class="lineno"> 3823</span>      delete_child_objects = purge_data;</div>
<div class="line"><span class="lineno"> 3824</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (ceph_argparse_binary_flag(<a class="code hl_variable" href="dbstore__tests_8cc.html#a3284f7a2d0ea04744ec7605cbacce0de">args</a>, i, &amp;purge_keys, NULL, <span class="stringliteral">&quot;--purge-keys&quot;</span>, (<span class="keywordtype">char</span>*)NULL)) {</div>
<div class="line"><span class="lineno"> 3825</span>      <span class="comment">// do nothing</span></div>
<div class="line"><span class="lineno"> 3826</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (ceph_argparse_binary_flag(<a class="code hl_variable" href="dbstore__tests_8cc.html#a3284f7a2d0ea04744ec7605cbacce0de">args</a>, i, &amp;yes_i_really_mean_it, NULL, <span class="stringliteral">&quot;--yes-i-really-mean-it&quot;</span>, (<span class="keywordtype">char</span>*)NULL)) {</div>
<div class="line"><span class="lineno"> 3827</span>      <span class="comment">// do nothing</span></div>
<div class="line"><span class="lineno"> 3828</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (ceph_argparse_binary_flag(<a class="code hl_variable" href="dbstore__tests_8cc.html#a3284f7a2d0ea04744ec7605cbacce0de">args</a>, i, &amp;fix, NULL, <span class="stringliteral">&quot;--fix&quot;</span>, (<span class="keywordtype">char</span>*)NULL)) {</div>
<div class="line"><span class="lineno"> 3829</span>      <span class="comment">// do nothing</span></div>
<div class="line"><span class="lineno"> 3830</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (ceph_argparse_binary_flag(<a class="code hl_variable" href="dbstore__tests_8cc.html#a3284f7a2d0ea04744ec7605cbacce0de">args</a>, i, &amp;remove_bad, NULL, <span class="stringliteral">&quot;--remove-bad&quot;</span>, (<span class="keywordtype">char</span>*)NULL)) {</div>
<div class="line"><span class="lineno"> 3831</span>      <span class="comment">// do nothing</span></div>
<div class="line"><span class="lineno"> 3832</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (ceph_argparse_binary_flag(<a class="code hl_variable" href="dbstore__tests_8cc.html#a3284f7a2d0ea04744ec7605cbacce0de">args</a>, i, &amp;check_head_obj_locator, NULL, <span class="stringliteral">&quot;--check-head-obj-locator&quot;</span>, (<span class="keywordtype">char</span>*)NULL)) {</div>
<div class="line"><span class="lineno"> 3833</span>      <span class="comment">// do nothing</span></div>
<div class="line"><span class="lineno"> 3834</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (ceph_argparse_binary_flag(<a class="code hl_variable" href="dbstore__tests_8cc.html#a3284f7a2d0ea04744ec7605cbacce0de">args</a>, i, &amp;check_objects, NULL, <span class="stringliteral">&quot;--check-objects&quot;</span>, (<span class="keywordtype">char</span>*)NULL)) {</div>
<div class="line"><span class="lineno"> 3835</span>     <span class="comment">// do nothing</span></div>
<div class="line"><span class="lineno"> 3836</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (ceph_argparse_binary_flag(<a class="code hl_variable" href="dbstore__tests_8cc.html#a3284f7a2d0ea04744ec7605cbacce0de">args</a>, i, &amp;sync_stats, NULL, <span class="stringliteral">&quot;--sync-stats&quot;</span>, (<span class="keywordtype">char</span>*)NULL)) {</div>
<div class="line"><span class="lineno"> 3837</span>     <span class="comment">// do nothing</span></div>
<div class="line"><span class="lineno"> 3838</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (ceph_argparse_binary_flag(<a class="code hl_variable" href="dbstore__tests_8cc.html#a3284f7a2d0ea04744ec7605cbacce0de">args</a>, i, &amp;reset_stats, NULL, <span class="stringliteral">&quot;--reset-stats&quot;</span>, (<span class="keywordtype">char</span>*)NULL)) {</div>
<div class="line"><span class="lineno"> 3839</span>      <span class="comment">// do nothing</span></div>
<div class="line"><span class="lineno"> 3840</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (ceph_argparse_binary_flag(<a class="code hl_variable" href="dbstore__tests_8cc.html#a3284f7a2d0ea04744ec7605cbacce0de">args</a>, i, &amp;include_all, NULL, <span class="stringliteral">&quot;--include-all&quot;</span>, (<span class="keywordtype">char</span>*)NULL)) {</div>
<div class="line"><span class="lineno"> 3841</span>     <span class="comment">// do nothing</span></div>
<div class="line"><span class="lineno"> 3842</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (ceph_argparse_binary_flag(<a class="code hl_variable" href="dbstore__tests_8cc.html#a3284f7a2d0ea04744ec7605cbacce0de">args</a>, i, &amp;allow_unordered, NULL, <span class="stringliteral">&quot;--allow-unordered&quot;</span>, (<span class="keywordtype">char</span>*)NULL)) {</div>
<div class="line"><span class="lineno"> 3843</span>     <span class="comment">// do nothing</span></div>
<div class="line"><span class="lineno"> 3844</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (ceph_argparse_binary_flag(<a class="code hl_variable" href="dbstore__tests_8cc.html#a3284f7a2d0ea04744ec7605cbacce0de">args</a>, i, &amp;extra_info, NULL, <span class="stringliteral">&quot;--extra-info&quot;</span>, (<span class="keywordtype">char</span>*)NULL)) {</div>
<div class="line"><span class="lineno"> 3845</span>     <span class="comment">// do nothing</span></div>
<div class="line"><span class="lineno"> 3846</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (ceph_argparse_binary_flag(<a class="code hl_variable" href="dbstore__tests_8cc.html#a3284f7a2d0ea04744ec7605cbacce0de">args</a>, i, &amp;bypass_gc, NULL, <span class="stringliteral">&quot;--bypass-gc&quot;</span>, (<span class="keywordtype">char</span>*)NULL)) {</div>
<div class="line"><span class="lineno"> 3847</span>     <span class="comment">// do nothing</span></div>
<div class="line"><span class="lineno"> 3848</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (ceph_argparse_binary_flag(<a class="code hl_variable" href="dbstore__tests_8cc.html#a3284f7a2d0ea04744ec7605cbacce0de">args</a>, i, &amp;warnings_only, NULL, <span class="stringliteral">&quot;--warnings-only&quot;</span>, (<span class="keywordtype">char</span>*)NULL)) {</div>
<div class="line"><span class="lineno"> 3849</span>     <span class="comment">// do nothing</span></div>
<div class="line"><span class="lineno"> 3850</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (ceph_argparse_binary_flag(<a class="code hl_variable" href="dbstore__tests_8cc.html#a3284f7a2d0ea04744ec7605cbacce0de">args</a>, i, &amp;inconsistent_index, NULL, <span class="stringliteral">&quot;--inconsistent-index&quot;</span>, (<span class="keywordtype">char</span>*)NULL)) {</div>
<div class="line"><span class="lineno"> 3851</span>     <span class="comment">// do nothing</span></div>
<div class="line"><span class="lineno"> 3852</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (ceph_argparse_binary_flag(<a class="code hl_variable" href="dbstore__tests_8cc.html#a3284f7a2d0ea04744ec7605cbacce0de">args</a>, i, &amp;placement_inline_data, NULL, <span class="stringliteral">&quot;--placement-inline-data&quot;</span>, (<span class="keywordtype">char</span>*)NULL)) {</div>
<div class="line"><span class="lineno"> 3853</span>      placement_inline_data_specified = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 3854</span>     <span class="comment">// do nothing</span></div>
<div class="line"><span class="lineno"> 3855</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (ceph_argparse_witharg(<a class="code hl_variable" href="dbstore__tests_8cc.html#a3284f7a2d0ea04744ec7605cbacce0de">args</a>, i, &amp;val, <span class="stringliteral">&quot;--caps&quot;</span>, (<span class="keywordtype">char</span>*)NULL)) {</div>
<div class="line"><span class="lineno"> 3856</span>      caps = val;</div>
<div class="line"><span class="lineno"> 3857</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (ceph_argparse_witharg(<a class="code hl_variable" href="dbstore__tests_8cc.html#a3284f7a2d0ea04744ec7605cbacce0de">args</a>, i, &amp;val, <span class="stringliteral">&quot;--infile&quot;</span>, (<span class="keywordtype">char</span>*)NULL)) {</div>
<div class="line"><span class="lineno"> 3858</span>      infile = val;</div>
<div class="line"><span class="lineno"> 3859</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (ceph_argparse_witharg(<a class="code hl_variable" href="dbstore__tests_8cc.html#a3284f7a2d0ea04744ec7605cbacce0de">args</a>, i, &amp;val, <span class="stringliteral">&quot;--metadata-key&quot;</span>, (<span class="keywordtype">char</span>*)NULL)) {</div>
<div class="line"><span class="lineno"> 3860</span>      metadata_key = val;</div>
<div class="line"><span class="lineno"> 3861</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (ceph_argparse_witharg(<a class="code hl_variable" href="dbstore__tests_8cc.html#a3284f7a2d0ea04744ec7605cbacce0de">args</a>, i, &amp;val, <span class="stringliteral">&quot;--marker&quot;</span>, (<span class="keywordtype">char</span>*)NULL)) {</div>
<div class="line"><span class="lineno"> 3862</span>      marker = val;</div>
<div class="line"><span class="lineno"> 3863</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (ceph_argparse_witharg(<a class="code hl_variable" href="dbstore__tests_8cc.html#a3284f7a2d0ea04744ec7605cbacce0de">args</a>, i, &amp;val, <span class="stringliteral">&quot;--start-marker&quot;</span>, (<span class="keywordtype">char</span>*)NULL)) {</div>
<div class="line"><span class="lineno"> 3864</span>      start_marker = val;</div>
<div class="line"><span class="lineno"> 3865</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (ceph_argparse_witharg(<a class="code hl_variable" href="dbstore__tests_8cc.html#a3284f7a2d0ea04744ec7605cbacce0de">args</a>, i, &amp;val, <span class="stringliteral">&quot;--end-marker&quot;</span>, (<span class="keywordtype">char</span>*)NULL)) {</div>
<div class="line"><span class="lineno"> 3866</span>      end_marker = val;</div>
<div class="line"><span class="lineno"> 3867</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (ceph_argparse_witharg(<a class="code hl_variable" href="dbstore__tests_8cc.html#a3284f7a2d0ea04744ec7605cbacce0de">args</a>, i, &amp;val, <span class="stringliteral">&quot;--quota-scope&quot;</span>, (<span class="keywordtype">char</span>*)NULL)) {</div>
<div class="line"><span class="lineno"> 3868</span>      quota_scope = val;</div>
<div class="line"><span class="lineno"> 3869</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (ceph_argparse_witharg(<a class="code hl_variable" href="dbstore__tests_8cc.html#a3284f7a2d0ea04744ec7605cbacce0de">args</a>, i, &amp;val, <span class="stringliteral">&quot;--ratelimit-scope&quot;</span>, (<span class="keywordtype">char</span>*)NULL)) {</div>
<div class="line"><span class="lineno"> 3870</span>      ratelimit_scope = val;</div>
<div class="line"><span class="lineno"> 3871</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (ceph_argparse_witharg(<a class="code hl_variable" href="dbstore__tests_8cc.html#a3284f7a2d0ea04744ec7605cbacce0de">args</a>, i, &amp;val, <span class="stringliteral">&quot;--index-type&quot;</span>, (<span class="keywordtype">char</span>*)NULL)) {</div>
<div class="line"><span class="lineno"> 3872</span>      <span class="keywordtype">string</span> index_type_str = val;</div>
<div class="line"><span class="lineno"> 3873</span>      bi_index_type = <a class="code hl_function" href="rgw__admin_8cc.html#a4621ffbb2543bb657d8e5d45a38dcaa8">get_bi_index_type</a>(index_type_str);</div>
<div class="line"><span class="lineno"> 3874</span>      <span class="keywordflow">if</span> (bi_index_type == BIIndexType::Invalid) {</div>
<div class="line"><span class="lineno"> 3875</span>        cerr &lt;&lt; <span class="stringliteral">&quot;ERROR: invalid bucket index entry type&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 3876</span>        <span class="keywordflow">return</span> EINVAL;</div>
<div class="line"><span class="lineno"> 3877</span>      }</div>
<div class="line"><span class="lineno"> 3878</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (ceph_argparse_witharg(<a class="code hl_variable" href="dbstore__tests_8cc.html#a3284f7a2d0ea04744ec7605cbacce0de">args</a>, i, &amp;val, <span class="stringliteral">&quot;--log-type&quot;</span>, (<span class="keywordtype">char</span>*)NULL)) {</div>
<div class="line"><span class="lineno"> 3879</span>      <span class="keywordtype">string</span> log_type_str = val;</div>
<div class="line"><span class="lineno"> 3880</span>      <span class="keyword">auto</span> l = <a class="code hl_function" href="rgw__admin_8cc.html#a12ea66a840022d0ede38215156d30852">get_log_type</a>(log_type_str);</div>
<div class="line"><span class="lineno"> 3881</span>      <span class="keywordflow">if</span> (l == <span class="keyword">static_cast&lt;</span><a class="code hl_enumeration" href="rgw__log__backing_8h.html#a8488e4c6d9298df81f48a34e80c81410">log_type</a><span class="keyword">&gt;</span>(0xff)) {</div>
<div class="line"><span class="lineno"> 3882</span>        cerr &lt;&lt; <span class="stringliteral">&quot;ERROR: invalid log type&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 3883</span>        <span class="keywordflow">return</span> EINVAL;</div>
<div class="line"><span class="lineno"> 3884</span>      }</div>
<div class="line"><span class="lineno"> 3885</span>      opt_log_type = l;</div>
<div class="line"><span class="lineno"> 3886</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (ceph_argparse_binary_flag(<a class="code hl_variable" href="dbstore__tests_8cc.html#a3284f7a2d0ea04744ec7605cbacce0de">args</a>, i, &amp;is_master_int, NULL, <span class="stringliteral">&quot;--master&quot;</span>, (<span class="keywordtype">char</span>*)NULL)) {</div>
<div class="line"><span class="lineno"> 3887</span>      is_master = (bool)is_master_int;</div>
<div class="line"><span class="lineno"> 3888</span>      is_master_set = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 3889</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (ceph_argparse_binary_flag(<a class="code hl_variable" href="dbstore__tests_8cc.html#a3284f7a2d0ea04744ec7605cbacce0de">args</a>, i, &amp;set_default, NULL, <span class="stringliteral">&quot;--default&quot;</span>, (<span class="keywordtype">char</span>*)NULL)) {</div>
<div class="line"><span class="lineno"> 3890</span>      <span class="comment">/* do nothing */</span></div>
<div class="line"><span class="lineno"> 3891</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (ceph_argparse_witharg(<a class="code hl_variable" href="dbstore__tests_8cc.html#a3284f7a2d0ea04744ec7605cbacce0de">args</a>, i, &amp;val, <span class="stringliteral">&quot;--redirect-zone&quot;</span>, (<span class="keywordtype">char</span>*)NULL)) {</div>
<div class="line"><span class="lineno"> 3892</span>      redirect_zone = val;</div>
<div class="line"><span class="lineno"> 3893</span>      redirect_zone_set = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 3894</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (ceph_argparse_binary_flag(<a class="code hl_variable" href="dbstore__tests_8cc.html#a3284f7a2d0ea04744ec7605cbacce0de">args</a>, i, &amp;read_only_int, NULL, <span class="stringliteral">&quot;--read-only&quot;</span>, (<span class="keywordtype">char</span>*)NULL)) {</div>
<div class="line"><span class="lineno"> 3895</span>      read_only = (bool)read_only_int;</div>
<div class="line"><span class="lineno"> 3896</span>      is_read_only_set = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 3897</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (ceph_argparse_witharg(<a class="code hl_variable" href="dbstore__tests_8cc.html#a3284f7a2d0ea04744ec7605cbacce0de">args</a>, i, &amp;val, <span class="stringliteral">&quot;--master-zone&quot;</span>, (<span class="keywordtype">char</span>*)NULL)) {</div>
<div class="line"><span class="lineno"> 3898</span>      master_zone = val;</div>
<div class="line"><span class="lineno"> 3899</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (ceph_argparse_witharg(<a class="code hl_variable" href="dbstore__tests_8cc.html#a3284f7a2d0ea04744ec7605cbacce0de">args</a>, i, &amp;val, <span class="stringliteral">&quot;--period&quot;</span>, (<span class="keywordtype">char</span>*)NULL)) {</div>
<div class="line"><span class="lineno"> 3900</span>      period_id = val;</div>
<div class="line"><span class="lineno"> 3901</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (ceph_argparse_witharg(<a class="code hl_variable" href="dbstore__tests_8cc.html#a3284f7a2d0ea04744ec7605cbacce0de">args</a>, i, &amp;val, <span class="stringliteral">&quot;--epoch&quot;</span>, (<span class="keywordtype">char</span>*)NULL)) {</div>
<div class="line"><span class="lineno"> 3902</span>      period_epoch = val;</div>
<div class="line"><span class="lineno"> 3903</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (ceph_argparse_witharg(<a class="code hl_variable" href="dbstore__tests_8cc.html#a3284f7a2d0ea04744ec7605cbacce0de">args</a>, i, &amp;val, <span class="stringliteral">&quot;--remote&quot;</span>, (<span class="keywordtype">char</span>*)NULL)) {</div>
<div class="line"><span class="lineno"> 3904</span>      remote = val;</div>
<div class="line"><span class="lineno"> 3905</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (ceph_argparse_witharg(<a class="code hl_variable" href="dbstore__tests_8cc.html#a3284f7a2d0ea04744ec7605cbacce0de">args</a>, i, &amp;val, <span class="stringliteral">&quot;--url&quot;</span>, (<span class="keywordtype">char</span>*)NULL)) {</div>
<div class="line"><span class="lineno"> 3906</span>      url = val;</div>
<div class="line"><span class="lineno"> 3907</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (ceph_argparse_witharg(<a class="code hl_variable" href="dbstore__tests_8cc.html#a3284f7a2d0ea04744ec7605cbacce0de">args</a>, i, &amp;val, <span class="stringliteral">&quot;--region&quot;</span>, (<span class="keywordtype">char</span>*)NULL)) {</div>
<div class="line"><span class="lineno"> 3908</span>      opt_region = val;</div>
<div class="line"><span class="lineno"> 3909</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (ceph_argparse_witharg(<a class="code hl_variable" href="dbstore__tests_8cc.html#a3284f7a2d0ea04744ec7605cbacce0de">args</a>, i, &amp;val, <span class="stringliteral">&quot;--realm-id&quot;</span>, (<span class="keywordtype">char</span>*)NULL)) {</div>
<div class="line"><span class="lineno"> 3910</span>      realm_id = val;</div>
<div class="line"><span class="lineno"> 3911</span>      opt_realm_id = val;</div>
<div class="line"><span class="lineno"> 3912</span>      g_conf().set_val(<span class="stringliteral">&quot;rgw_realm_id&quot;</span>, val);</div>
<div class="line"><span class="lineno"> 3913</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (ceph_argparse_witharg(<a class="code hl_variable" href="dbstore__tests_8cc.html#a3284f7a2d0ea04744ec7605cbacce0de">args</a>, i, &amp;val, <span class="stringliteral">&quot;--realm-new-name&quot;</span>, (<span class="keywordtype">char</span>*)NULL)) {</div>
<div class="line"><span class="lineno"> 3914</span>      realm_new_name = val;</div>
<div class="line"><span class="lineno"> 3915</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (ceph_argparse_witharg(<a class="code hl_variable" href="dbstore__tests_8cc.html#a3284f7a2d0ea04744ec7605cbacce0de">args</a>, i, &amp;val, <span class="stringliteral">&quot;--zonegroup-id&quot;</span>, (<span class="keywordtype">char</span>*)NULL)) {</div>
<div class="line"><span class="lineno"> 3916</span>      zonegroup_id = val;</div>
<div class="line"><span class="lineno"> 3917</span>      opt_zonegroup_id = val;</div>
<div class="line"><span class="lineno"> 3918</span>      g_conf().set_val(<span class="stringliteral">&quot;rgw_zonegroup_id&quot;</span>, val);</div>
<div class="line"><span class="lineno"> 3919</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (ceph_argparse_witharg(<a class="code hl_variable" href="dbstore__tests_8cc.html#a3284f7a2d0ea04744ec7605cbacce0de">args</a>, i, &amp;val, <span class="stringliteral">&quot;--zonegroup-new-name&quot;</span>, (<span class="keywordtype">char</span>*)NULL)) {</div>
<div class="line"><span class="lineno"> 3920</span>      zonegroup_new_name = val;</div>
<div class="line"><span class="lineno"> 3921</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (ceph_argparse_witharg(<a class="code hl_variable" href="dbstore__tests_8cc.html#a3284f7a2d0ea04744ec7605cbacce0de">args</a>, i, &amp;val, <span class="stringliteral">&quot;--placement-id&quot;</span>, (<span class="keywordtype">char</span>*)NULL)) {</div>
<div class="line"><span class="lineno"> 3922</span>      placement_id = val;</div>
<div class="line"><span class="lineno"> 3923</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (ceph_argparse_witharg(<a class="code hl_variable" href="dbstore__tests_8cc.html#a3284f7a2d0ea04744ec7605cbacce0de">args</a>, i, &amp;val, <span class="stringliteral">&quot;--storage-class&quot;</span>, (<span class="keywordtype">char</span>*)NULL)) {</div>
<div class="line"><span class="lineno"> 3924</span>      opt_storage_class = val;</div>
<div class="line"><span class="lineno"> 3925</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (ceph_argparse_witharg(<a class="code hl_variable" href="dbstore__tests_8cc.html#a3284f7a2d0ea04744ec7605cbacce0de">args</a>, i, &amp;val, <span class="stringliteral">&quot;--tags&quot;</span>, (<span class="keywordtype">char</span>*)NULL)) {</div>
<div class="line"><span class="lineno"> 3926</span>      get_str_list(val, <span class="stringliteral">&quot;,&quot;</span>, tags);</div>
<div class="line"><span class="lineno"> 3927</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (ceph_argparse_witharg(<a class="code hl_variable" href="dbstore__tests_8cc.html#a3284f7a2d0ea04744ec7605cbacce0de">args</a>, i, &amp;val, <span class="stringliteral">&quot;--tags-add&quot;</span>, (<span class="keywordtype">char</span>*)NULL)) {</div>
<div class="line"><span class="lineno"> 3928</span>      get_str_list(val, <span class="stringliteral">&quot;,&quot;</span>, tags_add);</div>
<div class="line"><span class="lineno"> 3929</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (ceph_argparse_witharg(<a class="code hl_variable" href="dbstore__tests_8cc.html#a3284f7a2d0ea04744ec7605cbacce0de">args</a>, i, &amp;val, <span class="stringliteral">&quot;--tags-rm&quot;</span>, (<span class="keywordtype">char</span>*)NULL)) {</div>
<div class="line"><span class="lineno"> 3930</span>      get_str_list(val, <span class="stringliteral">&quot;,&quot;</span>, tags_rm);</div>
<div class="line"><span class="lineno"> 3931</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (ceph_argparse_witharg(<a class="code hl_variable" href="dbstore__tests_8cc.html#a3284f7a2d0ea04744ec7605cbacce0de">args</a>, i, &amp;val, <span class="stringliteral">&quot;--api-name&quot;</span>, (<span class="keywordtype">char</span>*)NULL)) {</div>
<div class="line"><span class="lineno"> 3932</span>      api_name = val;</div>
<div class="line"><span class="lineno"> 3933</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (ceph_argparse_witharg(<a class="code hl_variable" href="dbstore__tests_8cc.html#a3284f7a2d0ea04744ec7605cbacce0de">args</a>, i, &amp;val, <span class="stringliteral">&quot;--zone-id&quot;</span>, (<span class="keywordtype">char</span>*)NULL)) {</div>
<div class="line"><span class="lineno"> 3934</span>      zone_id = val;</div>
<div class="line"><span class="lineno"> 3935</span>      opt_zone_id = val;</div>
<div class="line"><span class="lineno"> 3936</span>      g_conf().set_val(<span class="stringliteral">&quot;rgw_zone_id&quot;</span>, val);</div>
<div class="line"><span class="lineno"> 3937</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (ceph_argparse_witharg(<a class="code hl_variable" href="dbstore__tests_8cc.html#a3284f7a2d0ea04744ec7605cbacce0de">args</a>, i, &amp;val, <span class="stringliteral">&quot;--zone-new-name&quot;</span>, (<span class="keywordtype">char</span>*)NULL)) {</div>
<div class="line"><span class="lineno"> 3938</span>      zone_new_name = val;</div>
<div class="line"><span class="lineno"> 3939</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (ceph_argparse_witharg(<a class="code hl_variable" href="dbstore__tests_8cc.html#a3284f7a2d0ea04744ec7605cbacce0de">args</a>, i, &amp;val, <span class="stringliteral">&quot;--endpoints&quot;</span>, (<span class="keywordtype">char</span>*)NULL)) {</div>
<div class="line"><span class="lineno"> 3940</span>      get_str_list(val, endpoints);</div>
<div class="line"><span class="lineno"> 3941</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (ceph_argparse_witharg(<a class="code hl_variable" href="dbstore__tests_8cc.html#a3284f7a2d0ea04744ec7605cbacce0de">args</a>, i, &amp;val, <span class="stringliteral">&quot;--sync-from&quot;</span>, (<span class="keywordtype">char</span>*)NULL)) {</div>
<div class="line"><span class="lineno"> 3942</span>      get_str_list(val, sync_from);</div>
<div class="line"><span class="lineno"> 3943</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (ceph_argparse_witharg(<a class="code hl_variable" href="dbstore__tests_8cc.html#a3284f7a2d0ea04744ec7605cbacce0de">args</a>, i, &amp;val, <span class="stringliteral">&quot;--sync-from-rm&quot;</span>, (<span class="keywordtype">char</span>*)NULL)) {</div>
<div class="line"><span class="lineno"> 3944</span>      get_str_list(val, sync_from_rm);</div>
<div class="line"><span class="lineno"> 3945</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (ceph_argparse_binary_flag(<a class="code hl_variable" href="dbstore__tests_8cc.html#a3284f7a2d0ea04744ec7605cbacce0de">args</a>, i, &amp;tmp_int, NULL, <span class="stringliteral">&quot;--sync-from-all&quot;</span>, (<span class="keywordtype">char</span>*)NULL)) {</div>
<div class="line"><span class="lineno"> 3946</span>      sync_from_all = (bool)tmp_int;</div>
<div class="line"><span class="lineno"> 3947</span>      sync_from_all_specified = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 3948</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (ceph_argparse_witharg(<a class="code hl_variable" href="dbstore__tests_8cc.html#a3284f7a2d0ea04744ec7605cbacce0de">args</a>, i, &amp;val, <span class="stringliteral">&quot;--source-zone&quot;</span>, (<span class="keywordtype">char</span>*)NULL)) {</div>
<div class="line"><span class="lineno"> 3949</span>      source_zone_name = val;</div>
<div class="line"><span class="lineno"> 3950</span>      opt_source_zone_name = val;</div>
<div class="line"><span class="lineno"> 3951</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (ceph_argparse_witharg(<a class="code hl_variable" href="dbstore__tests_8cc.html#a3284f7a2d0ea04744ec7605cbacce0de">args</a>, i, &amp;val, <span class="stringliteral">&quot;--source-zone-id&quot;</span>, (<span class="keywordtype">char</span>*)NULL)) {</div>
<div class="line"><span class="lineno"> 3952</span>      opt_source_zone_id = val;</div>
<div class="line"><span class="lineno"> 3953</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (ceph_argparse_witharg(<a class="code hl_variable" href="dbstore__tests_8cc.html#a3284f7a2d0ea04744ec7605cbacce0de">args</a>, i, &amp;val, <span class="stringliteral">&quot;--dest-zone&quot;</span>, (<span class="keywordtype">char</span>*)NULL)) {</div>
<div class="line"><span class="lineno"> 3954</span>      opt_dest_zone_name = val;</div>
<div class="line"><span class="lineno"> 3955</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (ceph_argparse_witharg(<a class="code hl_variable" href="dbstore__tests_8cc.html#a3284f7a2d0ea04744ec7605cbacce0de">args</a>, i, &amp;val, <span class="stringliteral">&quot;--dest-zone-id&quot;</span>, (<span class="keywordtype">char</span>*)NULL)) {</div>
<div class="line"><span class="lineno"> 3956</span>      opt_dest_zone_id = val;</div>
<div class="line"><span class="lineno"> 3957</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (ceph_argparse_witharg(<a class="code hl_variable" href="dbstore__tests_8cc.html#a3284f7a2d0ea04744ec7605cbacce0de">args</a>, i, &amp;val, <span class="stringliteral">&quot;--tier-type&quot;</span>, (<span class="keywordtype">char</span>*)NULL)) {</div>
<div class="line"><span class="lineno"> 3958</span>      tier_type = val;</div>
<div class="line"><span class="lineno"> 3959</span>      tier_type_specified = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 3960</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (ceph_argparse_witharg(<a class="code hl_variable" href="dbstore__tests_8cc.html#a3284f7a2d0ea04744ec7605cbacce0de">args</a>, i, &amp;val, <span class="stringliteral">&quot;--tier-config&quot;</span>, (<span class="keywordtype">char</span>*)NULL)) {</div>
<div class="line"><span class="lineno"> 3961</span>      <a class="code hl_function" href="rgw__admin_8cc.html#af3323dd65d10e63b537ecff33a279fdf">parse_tier_config_param</a>(val, tier_config_add);</div>
<div class="line"><span class="lineno"> 3962</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (ceph_argparse_witharg(<a class="code hl_variable" href="dbstore__tests_8cc.html#a3284f7a2d0ea04744ec7605cbacce0de">args</a>, i, &amp;val, <span class="stringliteral">&quot;--tier-config-rm&quot;</span>, (<span class="keywordtype">char</span>*)NULL)) {</div>
<div class="line"><span class="lineno"> 3963</span>      <a class="code hl_function" href="rgw__admin_8cc.html#af3323dd65d10e63b537ecff33a279fdf">parse_tier_config_param</a>(val, tier_config_rm);</div>
<div class="line"><span class="lineno"> 3964</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (ceph_argparse_witharg(<a class="code hl_variable" href="dbstore__tests_8cc.html#a3284f7a2d0ea04744ec7605cbacce0de">args</a>, i, &amp;val, <span class="stringliteral">&quot;--index-pool&quot;</span>, (<span class="keywordtype">char</span>*)NULL)) {</div>
<div class="line"><span class="lineno"> 3965</span>      index_pool = val;</div>
<div class="line"><span class="lineno"> 3966</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (ceph_argparse_witharg(<a class="code hl_variable" href="dbstore__tests_8cc.html#a3284f7a2d0ea04744ec7605cbacce0de">args</a>, i, &amp;val, <span class="stringliteral">&quot;--data-pool&quot;</span>, (<span class="keywordtype">char</span>*)NULL)) {</div>
<div class="line"><span class="lineno"> 3967</span>      data_pool = val;</div>
<div class="line"><span class="lineno"> 3968</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (ceph_argparse_witharg(<a class="code hl_variable" href="dbstore__tests_8cc.html#a3284f7a2d0ea04744ec7605cbacce0de">args</a>, i, &amp;val, <span class="stringliteral">&quot;--data-extra-pool&quot;</span>, (<span class="keywordtype">char</span>*)NULL)) {</div>
<div class="line"><span class="lineno"> 3969</span>      data_extra_pool = val;</div>
<div class="line"><span class="lineno"> 3970</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (ceph_argparse_witharg(<a class="code hl_variable" href="dbstore__tests_8cc.html#a3284f7a2d0ea04744ec7605cbacce0de">args</a>, i, &amp;val, <span class="stringliteral">&quot;--placement-index-type&quot;</span>, (<span class="keywordtype">char</span>*)NULL)) {</div>
<div class="line"><span class="lineno"> 3971</span>      <span class="keywordflow">if</span> (val == <span class="stringliteral">&quot;normal&quot;</span>) {</div>
<div class="line"><span class="lineno"> 3972</span>        placement_index_type = <a class="code hl_enumvalue" href="namespacergw.html#a13434cf31df970719317d99dd0447389a960b44c579bc2f6818d2daaf9e4c16f0">rgw::BucketIndexType::Normal</a>;</div>
<div class="line"><span class="lineno"> 3973</span>      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (val == <span class="stringliteral">&quot;indexless&quot;</span>) {</div>
<div class="line"><span class="lineno"> 3974</span>        placement_index_type = <a class="code hl_enumvalue" href="namespacergw.html#a13434cf31df970719317d99dd0447389a57c64e607324a2d97aeeb8df0c85626d">rgw::BucketIndexType::Indexless</a>;</div>
<div class="line"><span class="lineno"> 3975</span>      } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 3976</span>        placement_index_type = (<a class="code hl_enumeration" href="namespacergw.html#a13434cf31df970719317d99dd0447389">rgw::BucketIndexType</a>)strict_strtol(val.c_str(), 10, &amp;err);</div>
<div class="line"><span class="lineno"> 3977</span>        <span class="keywordflow">if</span> (!err.empty()) {</div>
<div class="line"><span class="lineno"> 3978</span>          cerr &lt;&lt; <span class="stringliteral">&quot;ERROR: failed to parse index type index: &quot;</span> &lt;&lt; err &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 3979</span>          <span class="keywordflow">return</span> EINVAL;</div>
<div class="line"><span class="lineno"> 3980</span>        }</div>
<div class="line"><span class="lineno"> 3981</span>      }</div>
<div class="line"><span class="lineno"> 3982</span>      index_type_specified = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 3983</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (ceph_argparse_witharg(<a class="code hl_variable" href="dbstore__tests_8cc.html#a3284f7a2d0ea04744ec7605cbacce0de">args</a>, i, &amp;val, <span class="stringliteral">&quot;--compression&quot;</span>, (<span class="keywordtype">char</span>*)NULL)) {</div>
<div class="line"><span class="lineno"> 3984</span>      compression_type = val;</div>
<div class="line"><span class="lineno"> 3985</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (ceph_argparse_witharg(<a class="code hl_variable" href="dbstore__tests_8cc.html#a3284f7a2d0ea04744ec7605cbacce0de">args</a>, i, &amp;val, <span class="stringliteral">&quot;--role-name&quot;</span>, (<span class="keywordtype">char</span>*)NULL)) {</div>
<div class="line"><span class="lineno"> 3986</span>      role_name = val;</div>
<div class="line"><span class="lineno"> 3987</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (ceph_argparse_witharg(<a class="code hl_variable" href="dbstore__tests_8cc.html#a3284f7a2d0ea04744ec7605cbacce0de">args</a>, i, &amp;val, <span class="stringliteral">&quot;--path&quot;</span>, (<span class="keywordtype">char</span>*)NULL)) {</div>
<div class="line"><span class="lineno"> 3988</span>      path = val;</div>
<div class="line"><span class="lineno"> 3989</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (ceph_argparse_witharg(<a class="code hl_variable" href="dbstore__tests_8cc.html#a3284f7a2d0ea04744ec7605cbacce0de">args</a>, i, &amp;val, <span class="stringliteral">&quot;--assume-role-policy-doc&quot;</span>, (<span class="keywordtype">char</span>*)NULL)) {</div>
<div class="line"><span class="lineno"> 3990</span>      assume_role_doc = val;</div>
<div class="line"><span class="lineno"> 3991</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (ceph_argparse_witharg(<a class="code hl_variable" href="dbstore__tests_8cc.html#a3284f7a2d0ea04744ec7605cbacce0de">args</a>, i, &amp;val, <span class="stringliteral">&quot;--policy-name&quot;</span>, (<span class="keywordtype">char</span>*)NULL)) {</div>
<div class="line"><span class="lineno"> 3992</span>      policy_name = val;</div>
<div class="line"><span class="lineno"> 3993</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (ceph_argparse_witharg(<a class="code hl_variable" href="dbstore__tests_8cc.html#a3284f7a2d0ea04744ec7605cbacce0de">args</a>, i, &amp;val, <span class="stringliteral">&quot;--policy-doc&quot;</span>, (<span class="keywordtype">char</span>*)NULL)) {</div>
<div class="line"><span class="lineno"> 3994</span>      perm_policy_doc = val;</div>
<div class="line"><span class="lineno"> 3995</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (ceph_argparse_witharg(<a class="code hl_variable" href="dbstore__tests_8cc.html#a3284f7a2d0ea04744ec7605cbacce0de">args</a>, i, &amp;val, <span class="stringliteral">&quot;--path-prefix&quot;</span>, (<span class="keywordtype">char</span>*)NULL)) {</div>
<div class="line"><span class="lineno"> 3996</span>      path_prefix = val;</div>
<div class="line"><span class="lineno"> 3997</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (ceph_argparse_witharg(<a class="code hl_variable" href="dbstore__tests_8cc.html#a3284f7a2d0ea04744ec7605cbacce0de">args</a>, i, &amp;val, <span class="stringliteral">&quot;--totp-serial&quot;</span>, (<span class="keywordtype">char</span>*)NULL)) {</div>
<div class="line"><span class="lineno"> 3998</span>      totp_serial = val;</div>
<div class="line"><span class="lineno"> 3999</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (ceph_argparse_witharg(<a class="code hl_variable" href="dbstore__tests_8cc.html#a3284f7a2d0ea04744ec7605cbacce0de">args</a>, i, &amp;val, <span class="stringliteral">&quot;--totp-pin&quot;</span>, (<span class="keywordtype">char</span>*)NULL)) {</div>
<div class="line"><span class="lineno"> 4000</span>      totp_pin.push_back(val);</div>
<div class="line"><span class="lineno"> 4001</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (ceph_argparse_witharg(<a class="code hl_variable" href="dbstore__tests_8cc.html#a3284f7a2d0ea04744ec7605cbacce0de">args</a>, i, &amp;val, <span class="stringliteral">&quot;--totp-seed&quot;</span>, (<span class="keywordtype">char</span>*)NULL)) {</div>
<div class="line"><span class="lineno"> 4002</span>      totp_seed = val;</div>
<div class="line"><span class="lineno"> 4003</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (ceph_argparse_witharg(<a class="code hl_variable" href="dbstore__tests_8cc.html#a3284f7a2d0ea04744ec7605cbacce0de">args</a>, i, &amp;val, <span class="stringliteral">&quot;--totp-seed-type&quot;</span>, (<span class="keywordtype">char</span>*)NULL)) {</div>
<div class="line"><span class="lineno"> 4004</span>      totp_seed_type = val;</div>
<div class="line"><span class="lineno"> 4005</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (ceph_argparse_witharg(<a class="code hl_variable" href="dbstore__tests_8cc.html#a3284f7a2d0ea04744ec7605cbacce0de">args</a>, i, &amp;val, <span class="stringliteral">&quot;--totp-seconds&quot;</span>, (<span class="keywordtype">char</span>*)NULL)) {</div>
<div class="line"><span class="lineno"> 4006</span>      totp_seconds = atoi(val.c_str());</div>
<div class="line"><span class="lineno"> 4007</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (ceph_argparse_witharg(<a class="code hl_variable" href="dbstore__tests_8cc.html#a3284f7a2d0ea04744ec7605cbacce0de">args</a>, i, &amp;val, <span class="stringliteral">&quot;--totp-window&quot;</span>, (<span class="keywordtype">char</span>*)NULL)) {</div>
<div class="line"><span class="lineno"> 4008</span>      totp_window = atoi(val.c_str());</div>
<div class="line"><span class="lineno"> 4009</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (ceph_argparse_witharg(<a class="code hl_variable" href="dbstore__tests_8cc.html#a3284f7a2d0ea04744ec7605cbacce0de">args</a>, i, &amp;val, <span class="stringliteral">&quot;--trim-delay-ms&quot;</span>, (<span class="keywordtype">char</span>*)NULL)) {</div>
<div class="line"><span class="lineno"> 4010</span>      trim_delay_ms = atoi(val.c_str());</div>
<div class="line"><span class="lineno"> 4011</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (ceph_argparse_witharg(<a class="code hl_variable" href="dbstore__tests_8cc.html#a3284f7a2d0ea04744ec7605cbacce0de">args</a>, i, &amp;val, <span class="stringliteral">&quot;--topic&quot;</span>, (<span class="keywordtype">char</span>*)NULL)) {</div>
<div class="line"><span class="lineno"> 4012</span>      topic_name = val;</div>
<div class="line"><span class="lineno"> 4013</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (ceph_argparse_witharg(<a class="code hl_variable" href="dbstore__tests_8cc.html#a3284f7a2d0ea04744ec7605cbacce0de">args</a>, i, &amp;val, <span class="stringliteral">&quot;--subscription&quot;</span>, (<span class="keywordtype">char</span>*)NULL)) {</div>
<div class="line"><span class="lineno"> 4014</span>      sub_name = val;</div>
<div class="line"><span class="lineno"> 4015</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (ceph_argparse_witharg(<a class="code hl_variable" href="dbstore__tests_8cc.html#a3284f7a2d0ea04744ec7605cbacce0de">args</a>, i, &amp;val, <span class="stringliteral">&quot;--event-id&quot;</span>, (<span class="keywordtype">char</span>*)NULL)) {</div>
<div class="line"><span class="lineno"> 4016</span>      event_id = val;</div>
<div class="line"><span class="lineno"> 4017</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (ceph_argparse_witharg(<a class="code hl_variable" href="dbstore__tests_8cc.html#a3284f7a2d0ea04744ec7605cbacce0de">args</a>, i, &amp;val, <span class="stringliteral">&quot;--group-id&quot;</span>, (<span class="keywordtype">char</span>*)NULL)) {</div>
<div class="line"><span class="lineno"> 4018</span>      opt_group_id = val;</div>
<div class="line"><span class="lineno"> 4019</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (ceph_argparse_witharg(<a class="code hl_variable" href="dbstore__tests_8cc.html#a3284f7a2d0ea04744ec7605cbacce0de">args</a>, i, &amp;val, <span class="stringliteral">&quot;--status&quot;</span>, (<span class="keywordtype">char</span>*)NULL)) {</div>
<div class="line"><span class="lineno"> 4020</span>      opt_status = val;</div>
<div class="line"><span class="lineno"> 4021</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (ceph_argparse_witharg(<a class="code hl_variable" href="dbstore__tests_8cc.html#a3284f7a2d0ea04744ec7605cbacce0de">args</a>, i, &amp;val, <span class="stringliteral">&quot;--flow-type&quot;</span>, (<span class="keywordtype">char</span>*)NULL)) {</div>
<div class="line"><span class="lineno"> 4022</span>      opt_flow_type = val;</div>
<div class="line"><span class="lineno"> 4023</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (ceph_argparse_witharg(<a class="code hl_variable" href="dbstore__tests_8cc.html#a3284f7a2d0ea04744ec7605cbacce0de">args</a>, i, &amp;val, <span class="stringliteral">&quot;--zones&quot;</span>, <span class="stringliteral">&quot;--zone-names&quot;</span>, (<span class="keywordtype">char</span>*)NULL)) {</div>
<div class="line"><span class="lineno"> 4024</span>      vector&lt;string&gt; v;</div>
<div class="line"><span class="lineno"> 4025</span>      <a class="code hl_function" href="namespacergw_1_1auth_1_1s3.html#a7c0fc27ad98410d070dc5bd0a675529b">get_str_vec</a>(val, v);</div>
<div class="line"><span class="lineno"> 4026</span>      opt_zone_names = std::move(v);</div>
<div class="line"><span class="lineno"> 4027</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (ceph_argparse_witharg(<a class="code hl_variable" href="dbstore__tests_8cc.html#a3284f7a2d0ea04744ec7605cbacce0de">args</a>, i, &amp;val, <span class="stringliteral">&quot;--zone-ids&quot;</span>, (<span class="keywordtype">char</span>*)NULL)) {</div>
<div class="line"><span class="lineno"> 4028</span>      opt_zone_ids = <a class="code hl_function" href="rgw__admin_8cc.html#a9a0d9e9a1fa47ab694cdf7f78d2f7112">zone_ids_from_str</a>(val);</div>
<div class="line"><span class="lineno"> 4029</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (ceph_argparse_witharg(<a class="code hl_variable" href="dbstore__tests_8cc.html#a3284f7a2d0ea04744ec7605cbacce0de">args</a>, i, &amp;val, <span class="stringliteral">&quot;--source-zones&quot;</span>, <span class="stringliteral">&quot;--source-zone-names&quot;</span>, (<span class="keywordtype">char</span>*)NULL)) {</div>
<div class="line"><span class="lineno"> 4030</span>      vector&lt;string&gt; v;</div>
<div class="line"><span class="lineno"> 4031</span>      <a class="code hl_function" href="namespacergw_1_1auth_1_1s3.html#a7c0fc27ad98410d070dc5bd0a675529b">get_str_vec</a>(val, v);</div>
<div class="line"><span class="lineno"> 4032</span>      opt_source_zone_names = std::move(v);</div>
<div class="line"><span class="lineno"> 4033</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (ceph_argparse_witharg(<a class="code hl_variable" href="dbstore__tests_8cc.html#a3284f7a2d0ea04744ec7605cbacce0de">args</a>, i, &amp;val, <span class="stringliteral">&quot;--source-zone-ids&quot;</span>, (<span class="keywordtype">char</span>*)NULL)) {</div>
<div class="line"><span class="lineno"> 4034</span>      opt_source_zone_ids = <a class="code hl_function" href="rgw__admin_8cc.html#a9a0d9e9a1fa47ab694cdf7f78d2f7112">zone_ids_from_str</a>(val);</div>
<div class="line"><span class="lineno"> 4035</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (ceph_argparse_witharg(<a class="code hl_variable" href="dbstore__tests_8cc.html#a3284f7a2d0ea04744ec7605cbacce0de">args</a>, i, &amp;val, <span class="stringliteral">&quot;--dest-zones&quot;</span>, <span class="stringliteral">&quot;--dest-zone-names&quot;</span>, (<span class="keywordtype">char</span>*)NULL)) {</div>
<div class="line"><span class="lineno"> 4036</span>      vector&lt;string&gt; v;</div>
<div class="line"><span class="lineno"> 4037</span>      <a class="code hl_function" href="namespacergw_1_1auth_1_1s3.html#a7c0fc27ad98410d070dc5bd0a675529b">get_str_vec</a>(val, v);</div>
<div class="line"><span class="lineno"> 4038</span>      opt_dest_zone_names = std::move(v);</div>
<div class="line"><span class="lineno"> 4039</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (ceph_argparse_witharg(<a class="code hl_variable" href="dbstore__tests_8cc.html#a3284f7a2d0ea04744ec7605cbacce0de">args</a>, i, &amp;val, <span class="stringliteral">&quot;--dest-zone-ids&quot;</span>, (<span class="keywordtype">char</span>*)NULL)) {</div>
<div class="line"><span class="lineno"> 4040</span>      opt_dest_zone_ids = <a class="code hl_function" href="rgw__admin_8cc.html#a9a0d9e9a1fa47ab694cdf7f78d2f7112">zone_ids_from_str</a>(val);</div>
<div class="line"><span class="lineno"> 4041</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (ceph_argparse_witharg(<a class="code hl_variable" href="dbstore__tests_8cc.html#a3284f7a2d0ea04744ec7605cbacce0de">args</a>, i, &amp;val, <span class="stringliteral">&quot;--flow-id&quot;</span>, (<span class="keywordtype">char</span>*)NULL)) {</div>
<div class="line"><span class="lineno"> 4042</span>      opt_flow_id = val;</div>
<div class="line"><span class="lineno"> 4043</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (ceph_argparse_witharg(<a class="code hl_variable" href="dbstore__tests_8cc.html#a3284f7a2d0ea04744ec7605cbacce0de">args</a>, i, &amp;val, <span class="stringliteral">&quot;--pipe-id&quot;</span>, (<span class="keywordtype">char</span>*)NULL)) {</div>
<div class="line"><span class="lineno"> 4044</span>      opt_pipe_id = val;</div>
<div class="line"><span class="lineno"> 4045</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (ceph_argparse_witharg(<a class="code hl_variable" href="dbstore__tests_8cc.html#a3284f7a2d0ea04744ec7605cbacce0de">args</a>, i, &amp;val, <span class="stringliteral">&quot;--source-tenant&quot;</span>, (<span class="keywordtype">char</span>*)NULL)) {</div>
<div class="line"><span class="lineno"> 4046</span>      opt_source_tenant = val;</div>
<div class="line"><span class="lineno"> 4047</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (ceph_argparse_witharg(<a class="code hl_variable" href="dbstore__tests_8cc.html#a3284f7a2d0ea04744ec7605cbacce0de">args</a>, i, &amp;val, <span class="stringliteral">&quot;--source-bucket&quot;</span>, (<span class="keywordtype">char</span>*)NULL)) {</div>
<div class="line"><span class="lineno"> 4048</span>      opt_source_bucket_name = val;</div>
<div class="line"><span class="lineno"> 4049</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (ceph_argparse_witharg(<a class="code hl_variable" href="dbstore__tests_8cc.html#a3284f7a2d0ea04744ec7605cbacce0de">args</a>, i, &amp;val, <span class="stringliteral">&quot;--source-bucket-id&quot;</span>, (<span class="keywordtype">char</span>*)NULL)) {</div>
<div class="line"><span class="lineno"> 4050</span>      opt_source_bucket_id = val;</div>
<div class="line"><span class="lineno"> 4051</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (ceph_argparse_witharg(<a class="code hl_variable" href="dbstore__tests_8cc.html#a3284f7a2d0ea04744ec7605cbacce0de">args</a>, i, &amp;val, <span class="stringliteral">&quot;--dest-tenant&quot;</span>, (<span class="keywordtype">char</span>*)NULL)) {</div>
<div class="line"><span class="lineno"> 4052</span>      opt_dest_tenant = val;</div>
<div class="line"><span class="lineno"> 4053</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (ceph_argparse_witharg(<a class="code hl_variable" href="dbstore__tests_8cc.html#a3284f7a2d0ea04744ec7605cbacce0de">args</a>, i, &amp;val, <span class="stringliteral">&quot;--dest-bucket&quot;</span>, (<span class="keywordtype">char</span>*)NULL)) {</div>
<div class="line"><span class="lineno"> 4054</span>      opt_dest_bucket_name = val;</div>
<div class="line"><span class="lineno"> 4055</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (ceph_argparse_witharg(<a class="code hl_variable" href="dbstore__tests_8cc.html#a3284f7a2d0ea04744ec7605cbacce0de">args</a>, i, &amp;val, <span class="stringliteral">&quot;--dest-bucket-id&quot;</span>, (<span class="keywordtype">char</span>*)NULL)) {</div>
<div class="line"><span class="lineno"> 4056</span>      opt_dest_bucket_id = val;</div>
<div class="line"><span class="lineno"> 4057</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (ceph_argparse_witharg(<a class="code hl_variable" href="dbstore__tests_8cc.html#a3284f7a2d0ea04744ec7605cbacce0de">args</a>, i, &amp;val, <span class="stringliteral">&quot;--effective-zone-name&quot;</span>, <span class="stringliteral">&quot;--effective-zone&quot;</span>, (<span class="keywordtype">char</span>*)NULL)) {</div>
<div class="line"><span class="lineno"> 4058</span>      opt_effective_zone_name = val;</div>
<div class="line"><span class="lineno"> 4059</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (ceph_argparse_witharg(<a class="code hl_variable" href="dbstore__tests_8cc.html#a3284f7a2d0ea04744ec7605cbacce0de">args</a>, i, &amp;val, <span class="stringliteral">&quot;--effective-zone-id&quot;</span>, (<span class="keywordtype">char</span>*)NULL)) {</div>
<div class="line"><span class="lineno"> 4060</span>      opt_effective_zone_id = <a class="code hl_struct" href="structrgw__zone__id.html">rgw_zone_id</a>(val);</div>
<div class="line"><span class="lineno"> 4061</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (ceph_argparse_witharg(<a class="code hl_variable" href="dbstore__tests_8cc.html#a3284f7a2d0ea04744ec7605cbacce0de">args</a>, i, &amp;val, <span class="stringliteral">&quot;--prefix&quot;</span>, (<span class="keywordtype">char</span>*)NULL)) {</div>
<div class="line"><span class="lineno"> 4062</span>      opt_prefix = val;</div>
<div class="line"><span class="lineno"> 4063</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (ceph_argparse_witharg(<a class="code hl_variable" href="dbstore__tests_8cc.html#a3284f7a2d0ea04744ec7605cbacce0de">args</a>, i, &amp;val, <span class="stringliteral">&quot;--prefix-rm&quot;</span>, (<span class="keywordtype">char</span>*)NULL)) {</div>
<div class="line"><span class="lineno"> 4064</span>      opt_prefix_rm = val;</div>
<div class="line"><span class="lineno"> 4065</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (ceph_argparse_witharg(<a class="code hl_variable" href="dbstore__tests_8cc.html#a3284f7a2d0ea04744ec7605cbacce0de">args</a>, i, &amp;val, <span class="stringliteral">&quot;--priority&quot;</span>, (<span class="keywordtype">char</span>*)NULL)) {</div>
<div class="line"><span class="lineno"> 4066</span>      opt_priority = atoi(val.c_str());</div>
<div class="line"><span class="lineno"> 4067</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (ceph_argparse_witharg(<a class="code hl_variable" href="dbstore__tests_8cc.html#a3284f7a2d0ea04744ec7605cbacce0de">args</a>, i, &amp;val, <span class="stringliteral">&quot;--mode&quot;</span>, (<span class="keywordtype">char</span>*)NULL)) {</div>
<div class="line"><span class="lineno"> 4068</span>      opt_mode = val;</div>
<div class="line"><span class="lineno"> 4069</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (ceph_argparse_witharg(<a class="code hl_variable" href="dbstore__tests_8cc.html#a3284f7a2d0ea04744ec7605cbacce0de">args</a>, i, &amp;val, <span class="stringliteral">&quot;--dest-owner&quot;</span>, (<span class="keywordtype">char</span>*)NULL)) {</div>
<div class="line"><span class="lineno"> 4070</span>      opt_dest_owner.emplace(val);</div>
<div class="line"><span class="lineno"> 4071</span>      opt_dest_owner = val;</div>
<div class="line"><span class="lineno"> 4072</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (ceph_argparse_witharg(<a class="code hl_variable" href="dbstore__tests_8cc.html#a3284f7a2d0ea04744ec7605cbacce0de">args</a>, i, &amp;val, <span class="stringliteral">&quot;--retry-delay-ms&quot;</span>, (<span class="keywordtype">char</span>*)NULL)) {</div>
<div class="line"><span class="lineno"> 4073</span>      opt_retry_delay_ms = std::chrono::milliseconds(atoi(val.c_str()));</div>
<div class="line"><span class="lineno"> 4074</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (ceph_argparse_witharg(<a class="code hl_variable" href="dbstore__tests_8cc.html#a3284f7a2d0ea04744ec7605cbacce0de">args</a>, i, &amp;val, <span class="stringliteral">&quot;--timeout-sec&quot;</span>, (<span class="keywordtype">char</span>*)NULL)) {</div>
<div class="line"><span class="lineno"> 4075</span>      opt_timeout_sec = std::chrono::seconds(atoi(val.c_str()));</div>
<div class="line"><span class="lineno"> 4076</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (ceph_argparse_binary_flag(<a class="code hl_variable" href="dbstore__tests_8cc.html#a3284f7a2d0ea04744ec7605cbacce0de">args</a>, i, &amp;<a class="code hl_namespace" href="namespacedetail.html">detail</a>, NULL, <span class="stringliteral">&quot;--detail&quot;</span>, (<span class="keywordtype">char</span>*)NULL)) {</div>
<div class="line"><span class="lineno"> 4077</span>      <span class="comment">// do nothing</span></div>
<div class="line"><span class="lineno"> 4078</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (ceph_argparse_witharg(<a class="code hl_variable" href="dbstore__tests_8cc.html#a3284f7a2d0ea04744ec7605cbacce0de">args</a>, i, &amp;val, <span class="stringliteral">&quot;--context&quot;</span>, (<span class="keywordtype">char</span>*)NULL)) {</div>
<div class="line"><span class="lineno"> 4079</span>      str_script_ctx = val;</div>
<div class="line"><span class="lineno"> 4080</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (ceph_argparse_witharg(<a class="code hl_variable" href="dbstore__tests_8cc.html#a3284f7a2d0ea04744ec7605cbacce0de">args</a>, i, &amp;val, <span class="stringliteral">&quot;--package&quot;</span>, (<span class="keywordtype">char</span>*)NULL)) {</div>
<div class="line"><span class="lineno"> 4081</span>      script_package = val;</div>
<div class="line"><span class="lineno"> 4082</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (ceph_argparse_binary_flag(<a class="code hl_variable" href="dbstore__tests_8cc.html#a3284f7a2d0ea04744ec7605cbacce0de">args</a>, i, &amp;allow_compilation, NULL, <span class="stringliteral">&quot;--allow-compilation&quot;</span>, (<span class="keywordtype">char</span>*)NULL)) {</div>
<div class="line"><span class="lineno"> 4083</span>      <span class="comment">// do nothing</span></div>
<div class="line"><span class="lineno"> 4084</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (ceph_argparse_witharg(<a class="code hl_variable" href="dbstore__tests_8cc.html#a3284f7a2d0ea04744ec7605cbacce0de">args</a>, i, &amp;val, <span class="stringliteral">&quot;--rgw-obj-fs&quot;</span>, (<span class="keywordtype">char</span>*)NULL)) {</div>
<div class="line"><span class="lineno"> 4085</span>      rgw_obj_fs = val;</div>
<div class="line"><span class="lineno"> 4086</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strncmp(*i, <span class="stringliteral">&quot;-&quot;</span>, 1) == 0) {</div>
<div class="line"><span class="lineno"> 4087</span>      cerr &lt;&lt; <span class="stringliteral">&quot;ERROR: invalid flag &quot;</span> &lt;&lt; *i &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 4088</span>      <span class="keywordflow">return</span> EINVAL;</div>
<div class="line"><span class="lineno"> 4089</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 4090</span>      ++i;</div>
<div class="line"><span class="lineno"> 4091</span>    }</div>
<div class="line"><span class="lineno"> 4092</span>  }</div>
<div class="line"><span class="lineno"> 4093</span> </div>
<div class="line"><span class="lineno"> 4094</span>  <span class="comment">/* common_init_finish needs to be called after g_conf().set_val() */</span></div>
<div class="line"><span class="lineno"> 4095</span>  common_init_finish(g_ceph_context);</div>
<div class="line"><span class="lineno"> 4096</span> </div>
<div class="line"><span class="lineno"> 4097</span>  <span class="keywordflow">if</span> (<a class="code hl_variable" href="dbstore__tests_8cc.html#a3284f7a2d0ea04744ec7605cbacce0de">args</a>.empty()) {</div>
<div class="line"><span class="lineno"> 4098</span>    <a class="code hl_function" href="rgw__admin_8cc.html#a2ef30c42cbc289d899a8be5d2d8f77d0">usage</a>();</div>
<div class="line"><span class="lineno"> 4099</span>    exit(1);</div>
<div class="line"><span class="lineno"> 4100</span>  }</div>
<div class="line"><span class="lineno"> 4101</span>  <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 4102</span>    std::vector&lt;string&gt; extra_args;</div>
<div class="line"><span class="lineno"> 4103</span>    std::vector&lt;string&gt; expected;</div>
<div class="line"><span class="lineno"> 4104</span> </div>
<div class="line"><span class="lineno"> 4105</span>    std::any _opt_cmd;</div>
<div class="line"><span class="lineno"> 4106</span> </div>
<div class="line"><span class="lineno"> 4107</span>    <span class="keywordflow">if</span> (!cmd.find_command(<a class="code hl_variable" href="dbstore__tests_8cc.html#a3284f7a2d0ea04744ec7605cbacce0de">args</a>, &amp;_opt_cmd, &amp;extra_args, &amp;err, &amp;expected)) {</div>
<div class="line"><span class="lineno"> 4108</span>      <span class="keywordflow">if</span> (!expected.empty()) {</div>
<div class="line"><span class="lineno"> 4109</span>        cerr &lt;&lt; err &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 4110</span>        cerr &lt;&lt; <span class="stringliteral">&quot;Expected one of the following:&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 4111</span>        <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp; exp : expected) {</div>
<div class="line"><span class="lineno"> 4112</span>          <span class="keywordflow">if</span> (exp == <span class="stringliteral">&quot;*&quot;</span> || exp == <span class="stringliteral">&quot;[*]&quot;</span>) {</div>
<div class="line"><span class="lineno"> 4113</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 4114</span>          }</div>
<div class="line"><span class="lineno"> 4115</span>          cerr &lt;&lt; <span class="stringliteral">&quot;  &quot;</span> &lt;&lt; exp &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 4116</span>        }</div>
<div class="line"><span class="lineno"> 4117</span>      } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 4118</span>        cerr &lt;&lt; <span class="stringliteral">&quot;Command not found:&quot;</span>;</div>
<div class="line"><span class="lineno"> 4119</span>        <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp; arg : <a class="code hl_variable" href="dbstore__tests_8cc.html#a3284f7a2d0ea04744ec7605cbacce0de">args</a>) {</div>
<div class="line"><span class="lineno"> 4120</span>          cerr &lt;&lt; <span class="stringliteral">&quot; &quot;</span> &lt;&lt; arg;</div>
<div class="line"><span class="lineno"> 4121</span>        }</div>
<div class="line"><span class="lineno"> 4122</span>        cerr &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 4123</span>      }</div>
<div class="line"><span class="lineno"> 4124</span>      exit(1);</div>
<div class="line"><span class="lineno"> 4125</span>    }</div>
<div class="line"><span class="lineno"> 4126</span> </div>
<div class="line"><span class="lineno"> 4127</span>    opt_cmd = std::any_cast&lt;OPT&gt;(_opt_cmd);</div>
<div class="line"><span class="lineno"> 4128</span> </div>
<div class="line"><span class="lineno"> 4129</span>    <span class="comment">/* some commands may have an optional extra param */</span></div>
<div class="line"><span class="lineno"> 4130</span>    <span class="keywordflow">if</span> (!extra_args.empty()) {</div>
<div class="line"><span class="lineno"> 4131</span>      <span class="keywordflow">switch</span> (opt_cmd) {</div>
<div class="line"><span class="lineno"> 4132</span>        <span class="keywordflow">case</span> OPT::METADATA_GET:</div>
<div class="line"><span class="lineno"> 4133</span>        <span class="keywordflow">case</span> OPT::METADATA_PUT:</div>
<div class="line"><span class="lineno"> 4134</span>        <span class="keywordflow">case</span> OPT::METADATA_RM:</div>
<div class="line"><span class="lineno"> 4135</span>        <span class="keywordflow">case</span> OPT::METADATA_LIST:</div>
<div class="line"><span class="lineno"> 4136</span>          metadata_key = extra_args[0];</div>
<div class="line"><span class="lineno"> 4137</span>          <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 4138</span>        <span class="keywordflow">default</span>:</div>
<div class="line"><span class="lineno"> 4139</span>          <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 4140</span>      }</div>
<div class="line"><span class="lineno"> 4141</span>    }</div>
<div class="line"><span class="lineno"> 4142</span> </div>
<div class="line"><span class="lineno"> 4143</span>    <span class="comment">// not a raw op if &#39;period update&#39; needs to commit to master</span></div>
<div class="line"><span class="lineno"> 4144</span>    <span class="keywordtype">bool</span> raw_period_update = opt_cmd == OPT::PERIOD_UPDATE &amp;&amp; !commit;</div>
<div class="line"><span class="lineno"> 4145</span>    <span class="comment">// not a raw op if &#39;period pull&#39; needs to read zone/period configuration</span></div>
<div class="line"><span class="lineno"> 4146</span>    <span class="keywordtype">bool</span> raw_period_pull = opt_cmd == OPT::PERIOD_PULL &amp;&amp; !url.empty();</div>
<div class="line"><span class="lineno"> 4147</span> </div>
<div class="line"><span class="lineno"> 4148</span>    std::set&lt;OPT&gt; raw_storage_ops_list = {OPT::ZONEGROUP_ADD, OPT::ZONEGROUP_CREATE,</div>
<div class="line"><span class="lineno"> 4149</span>             OPT::ZONEGROUP_DELETE,</div>
<div class="line"><span class="lineno"> 4150</span>             OPT::ZONEGROUP_GET, OPT::ZONEGROUP_LIST,</div>
<div class="line"><span class="lineno"> 4151</span>             OPT::ZONEGROUP_SET, OPT::ZONEGROUP_DEFAULT,</div>
<div class="line"><span class="lineno"> 4152</span>             OPT::ZONEGROUP_RENAME, OPT::ZONEGROUP_MODIFY,</div>
<div class="line"><span class="lineno"> 4153</span>             OPT::ZONEGROUP_REMOVE,</div>
<div class="line"><span class="lineno"> 4154</span>             OPT::ZONEGROUP_PLACEMENT_ADD, OPT::ZONEGROUP_PLACEMENT_RM,</div>
<div class="line"><span class="lineno"> 4155</span>             OPT::ZONEGROUP_PLACEMENT_MODIFY, OPT::ZONEGROUP_PLACEMENT_LIST,</div>
<div class="line"><span class="lineno"> 4156</span>             OPT::ZONEGROUP_PLACEMENT_GET,</div>
<div class="line"><span class="lineno"> 4157</span>             OPT::ZONEGROUP_PLACEMENT_DEFAULT,</div>
<div class="line"><span class="lineno"> 4158</span>             OPT::ZONE_CREATE, OPT::ZONE_DELETE,</div>
<div class="line"><span class="lineno"> 4159</span>             OPT::ZONE_GET, OPT::ZONE_SET, OPT::ZONE_RENAME,</div>
<div class="line"><span class="lineno"> 4160</span>             OPT::ZONE_LIST, OPT::ZONE_MODIFY, OPT::ZONE_DEFAULT,</div>
<div class="line"><span class="lineno"> 4161</span>             OPT::ZONE_PLACEMENT_ADD, OPT::ZONE_PLACEMENT_RM,</div>
<div class="line"><span class="lineno"> 4162</span>             OPT::ZONE_PLACEMENT_MODIFY, OPT::ZONE_PLACEMENT_LIST,</div>
<div class="line"><span class="lineno"> 4163</span>             OPT::ZONE_PLACEMENT_GET,</div>
<div class="line"><span class="lineno"> 4164</span>             OPT::REALM_CREATE,</div>
<div class="line"><span class="lineno"> 4165</span>             OPT::PERIOD_DELETE, OPT::PERIOD_GET,</div>
<div class="line"><span class="lineno"> 4166</span>             OPT::PERIOD_GET_CURRENT, OPT::PERIOD_LIST,</div>
<div class="line"><span class="lineno"> 4167</span>             OPT::GLOBAL_QUOTA_GET, OPT::GLOBAL_QUOTA_SET,</div>
<div class="line"><span class="lineno"> 4168</span>             OPT::GLOBAL_QUOTA_ENABLE, OPT::GLOBAL_QUOTA_DISABLE,</div>
<div class="line"><span class="lineno"> 4169</span>       OPT::GLOBAL_RATELIMIT_GET, OPT::GLOBAL_RATELIMIT_SET,</div>
<div class="line"><span class="lineno"> 4170</span>             OPT::GLOBAL_RATELIMIT_ENABLE, OPT::GLOBAL_RATELIMIT_DISABLE,</div>
<div class="line"><span class="lineno"> 4171</span>             OPT::REALM_DELETE, OPT::REALM_GET, OPT::REALM_LIST,</div>
<div class="line"><span class="lineno"> 4172</span>             OPT::REALM_LIST_PERIODS,</div>
<div class="line"><span class="lineno"> 4173</span>             OPT::REALM_GET_DEFAULT,</div>
<div class="line"><span class="lineno"> 4174</span>             OPT::REALM_RENAME, OPT::REALM_SET,</div>
<div class="line"><span class="lineno"> 4175</span>             OPT::REALM_DEFAULT, OPT::REALM_PULL};</div>
<div class="line"><span class="lineno"> 4176</span> </div>
<div class="line"><span class="lineno"> 4177</span>    std::set&lt;OPT&gt; readonly_ops_list = {</div>
<div class="line"><span class="lineno"> 4178</span>                         OPT::USER_INFO,</div>
<div class="line"><span class="lineno"> 4179</span>             OPT::USER_STATS,</div>
<div class="line"><span class="lineno"> 4180</span>             OPT::BUCKETS_LIST,</div>
<div class="line"><span class="lineno"> 4181</span>             OPT::BUCKET_LIMIT_CHECK,</div>
<div class="line"><span class="lineno"> 4182</span>             OPT::BUCKET_STATS,</div>
<div class="line"><span class="lineno"> 4183</span>             OPT::BUCKET_SYNC_CHECKPOINT,</div>
<div class="line"><span class="lineno"> 4184</span>             OPT::BUCKET_SYNC_INFO,</div>
<div class="line"><span class="lineno"> 4185</span>             OPT::BUCKET_SYNC_STATUS,</div>
<div class="line"><span class="lineno"> 4186</span>             OPT::BUCKET_SYNC_MARKERS,</div>
<div class="line"><span class="lineno"> 4187</span>             OPT::LOG_LIST,</div>
<div class="line"><span class="lineno"> 4188</span>             OPT::LOG_SHOW,</div>
<div class="line"><span class="lineno"> 4189</span>             OPT::USAGE_SHOW,</div>
<div class="line"><span class="lineno"> 4190</span>             OPT::OBJECT_STAT,</div>
<div class="line"><span class="lineno"> 4191</span>             OPT::BI_GET,</div>
<div class="line"><span class="lineno"> 4192</span>             OPT::BI_LIST,</div>
<div class="line"><span class="lineno"> 4193</span>             OPT::OLH_GET,</div>
<div class="line"><span class="lineno"> 4194</span>             OPT::OLH_READLOG,</div>
<div class="line"><span class="lineno"> 4195</span>             OPT::GC_LIST,</div>
<div class="line"><span class="lineno"> 4196</span>             OPT::LC_LIST,</div>
<div class="line"><span class="lineno"> 4197</span>             OPT::ORPHANS_LIST_JOBS,</div>
<div class="line"><span class="lineno"> 4198</span>             OPT::ZONEGROUP_GET,</div>
<div class="line"><span class="lineno"> 4199</span>             OPT::ZONEGROUP_LIST,</div>
<div class="line"><span class="lineno"> 4200</span>             OPT::ZONEGROUP_PLACEMENT_LIST,</div>
<div class="line"><span class="lineno"> 4201</span>             OPT::ZONEGROUP_PLACEMENT_GET,</div>
<div class="line"><span class="lineno"> 4202</span>             OPT::ZONE_GET,</div>
<div class="line"><span class="lineno"> 4203</span>             OPT::ZONE_LIST,</div>
<div class="line"><span class="lineno"> 4204</span>             OPT::ZONE_PLACEMENT_LIST,</div>
<div class="line"><span class="lineno"> 4205</span>             OPT::ZONE_PLACEMENT_GET,</div>
<div class="line"><span class="lineno"> 4206</span>             OPT::METADATA_GET,</div>
<div class="line"><span class="lineno"> 4207</span>             OPT::METADATA_LIST,</div>
<div class="line"><span class="lineno"> 4208</span>             OPT::METADATA_SYNC_STATUS,</div>
<div class="line"><span class="lineno"> 4209</span>             OPT::MDLOG_LIST,</div>
<div class="line"><span class="lineno"> 4210</span>             OPT::MDLOG_STATUS,</div>
<div class="line"><span class="lineno"> 4211</span>             OPT::SYNC_ERROR_LIST,</div>
<div class="line"><span class="lineno"> 4212</span>             OPT::SYNC_GROUP_GET,</div>
<div class="line"><span class="lineno"> 4213</span>             OPT::SYNC_POLICY_GET,</div>
<div class="line"><span class="lineno"> 4214</span>             OPT::BILOG_LIST,</div>
<div class="line"><span class="lineno"> 4215</span>             OPT::BILOG_STATUS,</div>
<div class="line"><span class="lineno"> 4216</span>             OPT::DATA_SYNC_STATUS,</div>
<div class="line"><span class="lineno"> 4217</span>             OPT::DATALOG_LIST,</div>
<div class="line"><span class="lineno"> 4218</span>             OPT::DATALOG_STATUS,</div>
<div class="line"><span class="lineno"> 4219</span>             OPT::REALM_GET,</div>
<div class="line"><span class="lineno"> 4220</span>             OPT::REALM_GET_DEFAULT,</div>
<div class="line"><span class="lineno"> 4221</span>             OPT::REALM_LIST,</div>
<div class="line"><span class="lineno"> 4222</span>             OPT::REALM_LIST_PERIODS,</div>
<div class="line"><span class="lineno"> 4223</span>             OPT::PERIOD_GET,</div>
<div class="line"><span class="lineno"> 4224</span>             OPT::PERIOD_GET_CURRENT,</div>
<div class="line"><span class="lineno"> 4225</span>             OPT::PERIOD_LIST,</div>
<div class="line"><span class="lineno"> 4226</span>             OPT::GLOBAL_QUOTA_GET,</div>
<div class="line"><span class="lineno"> 4227</span>       OPT::GLOBAL_RATELIMIT_GET,</div>
<div class="line"><span class="lineno"> 4228</span>             OPT::SYNC_INFO,</div>
<div class="line"><span class="lineno"> 4229</span>             OPT::SYNC_STATUS,</div>
<div class="line"><span class="lineno"> 4230</span>             OPT::ROLE_GET,</div>
<div class="line"><span class="lineno"> 4231</span>             OPT::ROLE_LIST,</div>
<div class="line"><span class="lineno"> 4232</span>             OPT::ROLE_POLICY_LIST,</div>
<div class="line"><span class="lineno"> 4233</span>             OPT::ROLE_POLICY_GET,</div>
<div class="line"><span class="lineno"> 4234</span>             OPT::RESHARD_LIST,</div>
<div class="line"><span class="lineno"> 4235</span>             OPT::RESHARD_STATUS,</div>
<div class="line"><span class="lineno"> 4236</span>             OPT::PUBSUB_TOPICS_LIST,</div>
<div class="line"><span class="lineno"> 4237</span>             OPT::PUBSUB_TOPIC_GET,</div>
<div class="line"><span class="lineno"> 4238</span>             OPT::PUBSUB_SUB_GET,</div>
<div class="line"><span class="lineno"> 4239</span>             OPT::PUBSUB_SUB_PULL,</div>
<div class="line"><span class="lineno"> 4240</span>             OPT::SCRIPT_GET,</div>
<div class="line"><span class="lineno"> 4241</span>    };</div>
<div class="line"><span class="lineno"> 4242</span> </div>
<div class="line"><span class="lineno"> 4243</span>    std::set&lt;OPT&gt; gc_ops_list = {</div>
<div class="line"><span class="lineno"> 4244</span>             OPT::GC_LIST,</div>
<div class="line"><span class="lineno"> 4245</span>             OPT::GC_PROCESS,</div>
<div class="line"><span class="lineno"> 4246</span>             OPT::OBJECT_RM,</div>
<div class="line"><span class="lineno"> 4247</span>             OPT::BUCKET_RM,  <span class="comment">// --purge-objects</span></div>
<div class="line"><span class="lineno"> 4248</span>             OPT::USER_RM,    <span class="comment">// --purge-data</span></div>
<div class="line"><span class="lineno"> 4249</span>             OPT::OBJECTS_EXPIRE,</div>
<div class="line"><span class="lineno"> 4250</span>             OPT::OBJECTS_EXPIRE_STALE_RM,</div>
<div class="line"><span class="lineno"> 4251</span>             OPT::LC_PROCESS,</div>
<div class="line"><span class="lineno"> 4252</span>       OPT::BUCKET_SYNC_RUN,</div>
<div class="line"><span class="lineno"> 4253</span>       OPT::DATA_SYNC_RUN,</div>
<div class="line"><span class="lineno"> 4254</span>       OPT::BUCKET_REWRITE,</div>
<div class="line"><span class="lineno"> 4255</span>       OPT::OBJECT_REWRITE</div>
<div class="line"><span class="lineno"> 4256</span>    };</div>
<div class="line"><span class="lineno"> 4257</span> </div>
<div class="line"><span class="lineno"> 4258</span>    raw_storage_op = (raw_storage_ops_list.find(opt_cmd) != raw_storage_ops_list.end() ||</div>
<div class="line"><span class="lineno"> 4259</span>               raw_period_update || raw_period_pull);</div>
<div class="line"><span class="lineno"> 4260</span>    <span class="keywordtype">bool</span> need_cache = readonly_ops_list.find(opt_cmd) == readonly_ops_list.end();</div>
<div class="line"><span class="lineno"> 4261</span>    <span class="keywordtype">bool</span> need_gc = (gc_ops_list.find(opt_cmd) != gc_ops_list.end()) &amp;&amp; !bypass_gc;</div>
<div class="line"><span class="lineno"> 4262</span> </div>
<div class="line"><span class="lineno"> 4263</span>    <span class="keywordflow">if</span> (raw_storage_op) {</div>
<div class="line"><span class="lineno"> 4264</span>      <a class="code hl_variable" href="rgw__admin_8cc.html#a6fdb26d64b14d837b60e83a6ca3e2863">store</a> = <a class="code hl_function" href="class_store_manager.html#a171a189a3a4c6bfc91b3948b04e2c14b">StoreManager::get_raw_storage</a>(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>(), g_ceph_context, <span class="stringliteral">&quot;rados&quot;</span>);</div>
<div class="line"><span class="lineno"> 4265</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 4266</span>      <a class="code hl_variable" href="rgw__admin_8cc.html#a6fdb26d64b14d837b60e83a6ca3e2863">store</a> = <a class="code hl_function" href="class_store_manager.html#a6016d182f49b4faa12cd67e0d1e0f90b">StoreManager::get_storage</a>(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>(), g_ceph_context, <span class="stringliteral">&quot;rados&quot;</span>, <span class="keyword">false</span>, <span class="keyword">false</span>, <span class="keyword">false</span>,</div>
<div class="line"><span class="lineno"> 4267</span>                       <span class="keyword">false</span>, <span class="keyword">false</span>,</div>
<div class="line"><span class="lineno"> 4268</span>                       need_cache &amp;&amp; g_conf()-&gt;rgw_cache_enabled, need_gc);</div>
<div class="line"><span class="lineno"> 4269</span>    }</div>
<div class="line"><span class="lineno"> 4270</span>    <span class="keywordflow">if</span> (!<a class="code hl_variable" href="rgw__admin_8cc.html#a6fdb26d64b14d837b60e83a6ca3e2863">store</a>) {</div>
<div class="line"><span class="lineno"> 4271</span>      cerr &lt;&lt; <span class="stringliteral">&quot;couldn&#39;t init storage provider&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 4272</span>      <span class="keywordflow">return</span> 5; <span class="comment">//EIO</span></div>
<div class="line"><span class="lineno"> 4273</span>    }</div>
<div class="line"><span class="lineno"> 4274</span> </div>
<div class="line"><span class="lineno"> 4275</span>    <span class="comment">/* Needs to be after the store is initialized.  Note, user could be empty here. */</span></div>
<div class="line"><span class="lineno"> 4276</span>    user = <a class="code hl_variable" href="rgw__admin_8cc.html#a6fdb26d64b14d837b60e83a6ca3e2863">store</a>-&gt;<a class="code hl_function" href="classrgw_1_1sal_1_1_store.html#a583f96473bf50c30d8fcca23b63de948">get_user</a>(user_id_arg);</div>
<div class="line"><span class="lineno"> 4277</span> </div>
<div class="line"><span class="lineno"> 4278</span>    <a class="code hl_function" href="rgw__admin_8cc.html#af79477a91589c6c856ba9fa2b608e52d">init_optional_bucket</a>(opt_bucket, opt_tenant,</div>
<div class="line"><span class="lineno"> 4279</span>                         opt_bucket_name, opt_bucket_id);</div>
<div class="line"><span class="lineno"> 4280</span>    <a class="code hl_function" href="rgw__admin_8cc.html#af79477a91589c6c856ba9fa2b608e52d">init_optional_bucket</a>(opt_source_bucket, opt_source_tenant,</div>
<div class="line"><span class="lineno"> 4281</span>                         opt_source_bucket_name, opt_source_bucket_id);</div>
<div class="line"><span class="lineno"> 4282</span>    <a class="code hl_function" href="rgw__admin_8cc.html#af79477a91589c6c856ba9fa2b608e52d">init_optional_bucket</a>(opt_dest_bucket, opt_dest_tenant,</div>
<div class="line"><span class="lineno"> 4283</span>                         opt_dest_bucket_name, opt_dest_bucket_id);</div>
<div class="line"><span class="lineno"> 4284</span> </div>
<div class="line"><span class="lineno"> 4285</span>    <span class="keywordflow">if</span> (tenant.empty()) {</div>
<div class="line"><span class="lineno"> 4286</span>      tenant = user-&gt;get_tenant();</div>
<div class="line"><span class="lineno"> 4287</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 4288</span>      <span class="keywordflow">if</span> (<a class="code hl_function" href="classrgw_1_1sal_1_1_user.html#a96e608798e4a45601e3d9f223bdbcb9b">rgw::sal::User::empty</a>(user) &amp;&amp; opt_cmd != OPT::ROLE_CREATE</div>
<div class="line"><span class="lineno"> 4289</span>                          &amp;&amp; opt_cmd != OPT::ROLE_DELETE</div>
<div class="line"><span class="lineno"> 4290</span>                          &amp;&amp; opt_cmd != OPT::ROLE_GET</div>
<div class="line"><span class="lineno"> 4291</span>                          &amp;&amp; opt_cmd != OPT::ROLE_MODIFY</div>
<div class="line"><span class="lineno"> 4292</span>                          &amp;&amp; opt_cmd != OPT::ROLE_LIST</div>
<div class="line"><span class="lineno"> 4293</span>                          &amp;&amp; opt_cmd != OPT::ROLE_POLICY_PUT</div>
<div class="line"><span class="lineno"> 4294</span>                          &amp;&amp; opt_cmd != OPT::ROLE_POLICY_LIST</div>
<div class="line"><span class="lineno"> 4295</span>                          &amp;&amp; opt_cmd != OPT::ROLE_POLICY_GET</div>
<div class="line"><span class="lineno"> 4296</span>                          &amp;&amp; opt_cmd != OPT::ROLE_POLICY_DELETE</div>
<div class="line"><span class="lineno"> 4297</span>                          &amp;&amp; opt_cmd != OPT::RESHARD_ADD</div>
<div class="line"><span class="lineno"> 4298</span>                          &amp;&amp; opt_cmd != OPT::RESHARD_CANCEL</div>
<div class="line"><span class="lineno"> 4299</span>                          &amp;&amp; opt_cmd != OPT::RESHARD_STATUS) {</div>
<div class="line"><span class="lineno"> 4300</span>        cerr &lt;&lt; <span class="stringliteral">&quot;ERROR: --tenant is set, but there&#39;s no user ID&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 4301</span>        <span class="keywordflow">return</span> EINVAL;</div>
<div class="line"><span class="lineno"> 4302</span>      }</div>
<div class="line"><span class="lineno"> 4303</span>      user-&gt;set_tenant(tenant);</div>
<div class="line"><span class="lineno"> 4304</span>    }</div>
<div class="line"><span class="lineno"> 4305</span>    <span class="keywordflow">if</span> (user_ns.empty()) {</div>
<div class="line"><span class="lineno"> 4306</span>      user_ns = user-&gt;get_id().ns;</div>
<div class="line"><span class="lineno"> 4307</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 4308</span>      user-&gt;set_ns(user_ns);</div>
<div class="line"><span class="lineno"> 4309</span>    }</div>
<div class="line"><span class="lineno"> 4310</span> </div>
<div class="line"><span class="lineno"> 4311</span>    <span class="keywordflow">if</span> (!new_user_id.<a class="code hl_function" href="structrgw__user.html#afd8a9e36c5a9f7773c13d903c3124e99">empty</a>() &amp;&amp; !tenant.empty()) {</div>
<div class="line"><span class="lineno"> 4312</span>      new_user_id.<a class="code hl_variable" href="structrgw__user.html#a2bf13ba0bf6b95ba5a0832e2ba1370e0">tenant</a> = tenant;</div>
<div class="line"><span class="lineno"> 4313</span>    }</div>
<div class="line"><span class="lineno"> 4314</span> </div>
<div class="line"><span class="lineno"> 4315</span>    <span class="comment">/* check key parameter conflict */</span></div>
<div class="line"><span class="lineno"> 4316</span>    <span class="keywordflow">if</span> ((!access_key.empty()) &amp;&amp; gen_access_key) {</div>
<div class="line"><span class="lineno"> 4317</span>        cerr &lt;&lt; <span class="stringliteral">&quot;ERROR: key parameter conflict, --access-key &amp; --gen-access-key&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 4318</span>        <span class="keywordflow">return</span> EINVAL;</div>
<div class="line"><span class="lineno"> 4319</span>    }</div>
<div class="line"><span class="lineno"> 4320</span>    <span class="keywordflow">if</span> ((!secret_key.empty()) &amp;&amp; gen_secret_key) {</div>
<div class="line"><span class="lineno"> 4321</span>        cerr &lt;&lt; <span class="stringliteral">&quot;ERROR: key parameter conflict, --secret &amp; --gen-secret&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 4322</span>        <span class="keywordflow">return</span> EINVAL;</div>
<div class="line"><span class="lineno"> 4323</span>    }</div>
<div class="line"><span class="lineno"> 4324</span>  }</div>
<div class="line"><span class="lineno"> 4325</span> </div>
<div class="line"><span class="lineno"> 4326</span>  <span class="comment">// default to pretty json</span></div>
<div class="line"><span class="lineno"> 4327</span>  <span class="keywordflow">if</span> (format.empty()) {</div>
<div class="line"><span class="lineno"> 4328</span>    format = <span class="stringliteral">&quot;json&quot;</span>;</div>
<div class="line"><span class="lineno"> 4329</span>    pretty_format = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 4330</span>  }</div>
<div class="line"><span class="lineno"> 4331</span> </div>
<div class="line"><span class="lineno"> 4332</span>  <span class="keywordflow">if</span> (format ==  <span class="stringliteral">&quot;xml&quot;</span>)</div>
<div class="line"><span class="lineno"> 4333</span>    formatter = make_unique&lt;XMLFormatter&gt;(<span class="keyword">new</span> XMLFormatter(pretty_format));</div>
<div class="line"><span class="lineno"> 4334</span>  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (format == <span class="stringliteral">&quot;json&quot;</span>)</div>
<div class="line"><span class="lineno"> 4335</span>    formatter = make_unique&lt;JSONFormatter&gt;(<span class="keyword">new</span> JSONFormatter(pretty_format));</div>
<div class="line"><span class="lineno"> 4336</span>  <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 4337</span>    cerr &lt;&lt; <span class="stringliteral">&quot;unrecognized format: &quot;</span> &lt;&lt; format &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 4338</span>    exit(1);</div>
<div class="line"><span class="lineno"> 4339</span>  }</div>
<div class="line"><span class="lineno"> 4340</span> </div>
<div class="line"><span class="lineno"> 4341</span>  zone_formatter = std::make_unique&lt;JSONFormatter_PrettyZone&gt;(pretty_format);</div>
<div class="line"><span class="lineno"> 4342</span> </div>
<div class="line"><span class="lineno"> 4343</span>  realm_name = g_conf()-&gt;rgw_realm;</div>
<div class="line"><span class="lineno"> 4344</span>  zone_name = g_conf()-&gt;rgw_zone;</div>
<div class="line"><span class="lineno"> 4345</span>  zonegroup_name = g_conf()-&gt;rgw_zonegroup;</div>
<div class="line"><span class="lineno"> 4346</span> </div>
<div class="line"><span class="lineno"> 4347</span>  <span class="keywordflow">if</span> (!realm_name.empty()) {</div>
<div class="line"><span class="lineno"> 4348</span>    opt_realm_name = realm_name;</div>
<div class="line"><span class="lineno"> 4349</span>  }</div>
<div class="line"><span class="lineno"> 4350</span> </div>
<div class="line"><span class="lineno"> 4351</span>  <span class="keywordflow">if</span> (!zone_name.empty()) {</div>
<div class="line"><span class="lineno"> 4352</span>    opt_zone_name = zone_name;</div>
<div class="line"><span class="lineno"> 4353</span>  }</div>
<div class="line"><span class="lineno"> 4354</span> </div>
<div class="line"><span class="lineno"> 4355</span>  <span class="keywordflow">if</span> (!zonegroup_name.empty()) {</div>
<div class="line"><span class="lineno"> 4356</span>    opt_zonegroup_name = zonegroup_name;</div>
<div class="line"><span class="lineno"> 4357</span>  }</div>
<div class="line"><span class="lineno"> 4358</span> </div>
<div class="line"><span class="lineno"> 4359</span>  <a class="code hl_class" href="class_r_g_w_stream_flusher.html">RGWStreamFlusher</a> stream_flusher(formatter.get(), cout);</div>
<div class="line"><span class="lineno"> 4360</span> </div>
<div class="line"><span class="lineno"> 4361</span>  <a class="code hl_struct" href="struct_r_g_w_user_admin_op_state.html">RGWUserAdminOpState</a> user_op(<a class="code hl_variable" href="rgw__admin_8cc.html#a6fdb26d64b14d837b60e83a6ca3e2863">store</a>);</div>
<div class="line"><span class="lineno"> 4362</span>  <span class="keywordflow">if</span> (!user_email.empty()) {</div>
<div class="line"><span class="lineno"> 4363</span>    user_op.user_email_specified=<span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 4364</span>  }</div>
<div class="line"><span class="lineno"> 4365</span> </div>
<div class="line"><span class="lineno"> 4366</span>  <span class="keywordflow">if</span> (!source_zone_name.empty()) {</div>
<div class="line"><span class="lineno"> 4367</span>    <span class="keywordflow">if</span> (!<span class="keyword">static_cast&lt;</span><a class="code hl_class" href="classrgw_1_1sal_1_1_rados_store.html">rgw::sal::RadosStore</a>*<span class="keyword">&gt;</span>(<a class="code hl_variable" href="rgw__admin_8cc.html#a6fdb26d64b14d837b60e83a6ca3e2863">store</a>)-&gt;svc()-&gt;zone-&gt;find_zone_id_by_name(source_zone_name, &amp;source_zone)) {</div>
<div class="line"><span class="lineno"> 4368</span>      cerr &lt;&lt; <span class="stringliteral">&quot;WARNING: cannot find source zone id for name=&quot;</span> &lt;&lt; source_zone_name &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 4369</span>      source_zone = source_zone_name;</div>
<div class="line"><span class="lineno"> 4370</span>    }</div>
<div class="line"><span class="lineno"> 4371</span>  }</div>
<div class="line"><span class="lineno"> 4372</span> </div>
<div class="line"><span class="lineno"> 4373</span>  <a class="code hl_function" href="rgw__http__client_8cc.html#a99e7929435a1446aca9e7214927d4f54">rgw_http_client_init</a>(g_ceph_context);</div>
<div class="line"><span class="lineno"> 4374</span> </div>
<div class="line"><span class="lineno"> 4375</span>  <span class="keyword">struct </span>rgw_curl_setup {</div>
<div class="line"><span class="lineno"> 4376</span>    rgw_curl_setup() {</div>
<div class="line"><span class="lineno"> 4377</span>      <a class="code hl_function" href="namespacergw_1_1curl.html#a378cf539682b5c46738a91f945387388">rgw::curl::setup_curl</a>(boost::none);</div>
<div class="line"><span class="lineno"> 4378</span>    }</div>
<div class="line"><span class="lineno"> 4379</span>    ~rgw_curl_setup() {</div>
<div class="line"><span class="lineno"> 4380</span>      <a class="code hl_function" href="namespacergw_1_1curl.html#af0bd4d38ae1eb18d7985014eb13ce24b">rgw::curl::cleanup_curl</a>();</div>
<div class="line"><span class="lineno"> 4381</span>    }</div>
<div class="line"><span class="lineno"> 4382</span>  } curl_cleanup;</div>
<div class="line"><span class="lineno"> 4383</span> </div>
<div class="line"><span class="lineno"> 4384</span>  oath_init();</div>
<div class="line"><span class="lineno"> 4385</span> </div>
<div class="line"><span class="lineno"> 4386</span>  <a class="code hl_class" href="class_store_destructor.html">StoreDestructor</a> store_destructor(<span class="keyword">static_cast&lt;</span><a class="code hl_class" href="classrgw_1_1sal_1_1_rados_store.html">rgw::sal::RadosStore</a>*<span class="keyword">&gt;</span>(<a class="code hl_variable" href="rgw__admin_8cc.html#a6fdb26d64b14d837b60e83a6ca3e2863">store</a>));</div>
<div class="line"><span class="lineno"> 4387</span> </div>
<div class="line"><span class="lineno"> 4388</span>  <span class="keywordflow">if</span> (raw_storage_op) {</div>
<div class="line"><span class="lineno"> 4389</span>    <a class="code hl_function" href="rgw__admin_8cc.html#a33812c768aaef292f4ee9a7dbfb1e6dd">try_to_resolve_local_entities</a>(realm_id, realm_name,</div>
<div class="line"><span class="lineno"> 4390</span>                                  zonegroup_id, zonegroup_name,</div>
<div class="line"><span class="lineno"> 4391</span>                                  zone_id, zone_name);</div>
<div class="line"><span class="lineno"> 4392</span> </div>
<div class="line"><span class="lineno"> 4393</span> </div>
<div class="line"><span class="lineno"> 4394</span>    <span class="keywordflow">switch</span> (opt_cmd) {</div>
<div class="line"><span class="lineno"> 4395</span>    <span class="keywordflow">case</span> OPT::PERIOD_DELETE:</div>
<div class="line"><span class="lineno"> 4396</span>      {</div>
<div class="line"><span class="lineno"> 4397</span>    <span class="keywordflow">if</span> (period_id.empty()) {</div>
<div class="line"><span class="lineno"> 4398</span>      cerr &lt;&lt; <span class="stringliteral">&quot;missing period id&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 4399</span>      <span class="keywordflow">return</span> EINVAL;</div>
<div class="line"><span class="lineno"> 4400</span>    }</div>
<div class="line"><span class="lineno"> 4401</span>    <a class="code hl_class" href="class_r_g_w_period.html">RGWPeriod</a> period(period_id);</div>
<div class="line"><span class="lineno"> 4402</span>    <span class="keywordtype">int</span> ret = period.init(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>(), g_ceph_context, <span class="keyword">static_cast&lt;</span><a class="code hl_class" href="classrgw_1_1sal_1_1_rados_store.html">rgw::sal::RadosStore</a>*<span class="keyword">&gt;</span>(<a class="code hl_variable" href="rgw__admin_8cc.html#a6fdb26d64b14d837b60e83a6ca3e2863">store</a>)-&gt;svc()-&gt;sysobj, null_yield);</div>
<div class="line"><span class="lineno"> 4403</span>    <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno"> 4404</span>      cerr &lt;&lt; <span class="stringliteral">&quot;period.init failed: &quot;</span> &lt;&lt; cpp_strerror(-ret) &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 4405</span>      <span class="keywordflow">return</span> -ret;</div>
<div class="line"><span class="lineno"> 4406</span>    }</div>
<div class="line"><span class="lineno"> 4407</span>    ret = period.delete_obj(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>(), null_yield);</div>
<div class="line"><span class="lineno"> 4408</span>    <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno"> 4409</span>      cerr &lt;&lt; <span class="stringliteral">&quot;ERROR: couldn&#39;t delete period: &quot;</span> &lt;&lt; cpp_strerror(-ret) &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 4410</span>      <span class="keywordflow">return</span> -ret;</div>
<div class="line"><span class="lineno"> 4411</span>    }</div>
<div class="line"><span class="lineno"> 4412</span> </div>
<div class="line"><span class="lineno"> 4413</span>      }</div>
<div class="line"><span class="lineno"> 4414</span>      <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 4415</span>    <span class="keywordflow">case</span> OPT::PERIOD_GET:</div>
<div class="line"><span class="lineno"> 4416</span>      {</div>
<div class="line"><span class="lineno"> 4417</span>    epoch_t epoch = 0;</div>
<div class="line"><span class="lineno"> 4418</span>    <span class="keywordflow">if</span> (!period_epoch.empty()) {</div>
<div class="line"><span class="lineno"> 4419</span>      epoch = atoi(period_epoch.c_str());</div>
<div class="line"><span class="lineno"> 4420</span>    }</div>
<div class="line"><span class="lineno"> 4421</span>        <span class="keywordflow">if</span> (staging) {</div>
<div class="line"><span class="lineno"> 4422</span>          <a class="code hl_class" href="class_r_g_w_realm.html">RGWRealm</a> realm(realm_id, realm_name);</div>
<div class="line"><span class="lineno"> 4423</span>          <span class="keywordtype">int</span> ret = realm.init(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>(), g_ceph_context, <span class="keyword">static_cast&lt;</span><a class="code hl_class" href="classrgw_1_1sal_1_1_rados_store.html">rgw::sal::RadosStore</a>*<span class="keyword">&gt;</span>(<a class="code hl_variable" href="rgw__admin_8cc.html#a6fdb26d64b14d837b60e83a6ca3e2863">store</a>)-&gt;svc()-&gt;sysobj, null_yield);</div>
<div class="line"><span class="lineno"> 4424</span>          <span class="keywordflow">if</span> (ret &lt; 0 ) {</div>
<div class="line"><span class="lineno"> 4425</span>            cerr &lt;&lt; <span class="stringliteral">&quot;Error initializing realm &quot;</span> &lt;&lt; cpp_strerror(-ret) &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 4426</span>            <span class="keywordflow">return</span> -ret;</div>
<div class="line"><span class="lineno"> 4427</span>          }</div>
<div class="line"><span class="lineno"> 4428</span>          realm_id = realm.get_id();</div>
<div class="line"><span class="lineno"> 4429</span>          realm_name = realm.get_name();</div>
<div class="line"><span class="lineno"> 4430</span>          period_id = <a class="code hl_function" href="class_r_g_w_period.html#abc1527dee0d6211fc4caeabf0af3a46a">RGWPeriod::get_staging_id</a>(realm_id);</div>
<div class="line"><span class="lineno"> 4431</span>          epoch = 1;</div>
<div class="line"><span class="lineno"> 4432</span>        }</div>
<div class="line"><span class="lineno"> 4433</span>    <a class="code hl_class" href="class_r_g_w_period.html">RGWPeriod</a> period(period_id, epoch);</div>
<div class="line"><span class="lineno"> 4434</span>    <span class="keywordtype">int</span> ret = period.init(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>(), g_ceph_context, <span class="keyword">static_cast&lt;</span><a class="code hl_class" href="classrgw_1_1sal_1_1_rados_store.html">rgw::sal::RadosStore</a>*<span class="keyword">&gt;</span>(<a class="code hl_variable" href="rgw__admin_8cc.html#a6fdb26d64b14d837b60e83a6ca3e2863">store</a>)-&gt;svc()-&gt;sysobj, realm_id,</div>
<div class="line"><span class="lineno"> 4435</span>                  null_yield, realm_name);</div>
<div class="line"><span class="lineno"> 4436</span>    <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno"> 4437</span>      cerr &lt;&lt; <span class="stringliteral">&quot;period init failed: &quot;</span> &lt;&lt; cpp_strerror(-ret) &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 4438</span>      <span class="keywordflow">return</span> -ret;</div>
<div class="line"><span class="lineno"> 4439</span>    }</div>
<div class="line"><span class="lineno"> 4440</span>    <a class="code hl_function" href="rgw__admin_8cc.html#ab596b9e1a1fc78e98a4d13a66578b658">encode_json</a>(<span class="stringliteral">&quot;period&quot;</span>, period, formatter.get());</div>
<div class="line"><span class="lineno"> 4441</span>    formatter-&gt;flush(cout);</div>
<div class="line"><span class="lineno"> 4442</span>      }</div>
<div class="line"><span class="lineno"> 4443</span>      <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 4444</span>    <span class="keywordflow">case</span> OPT::PERIOD_GET_CURRENT:</div>
<div class="line"><span class="lineno"> 4445</span>      {</div>
<div class="line"><span class="lineno"> 4446</span>        <span class="keywordtype">int</span> ret = <a class="code hl_function" href="rgw__admin_8cc.html#a925d03f534fd8c7fe90e906e741a925b">read_current_period_id</a>(<span class="keyword">static_cast&lt;</span><a class="code hl_class" href="classrgw_1_1sal_1_1_rados_store.html">rgw::sal::RadosStore</a>*<span class="keyword">&gt;</span>(<a class="code hl_variable" href="rgw__admin_8cc.html#a6fdb26d64b14d837b60e83a6ca3e2863">store</a>), realm_id, realm_name, &amp;period_id);</div>
<div class="line"><span class="lineno"> 4447</span>    <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno"> 4448</span>      <span class="keywordflow">return</span> -ret;</div>
<div class="line"><span class="lineno"> 4449</span>    }</div>
<div class="line"><span class="lineno"> 4450</span>    formatter-&gt;open_object_section(<span class="stringliteral">&quot;period_get_current&quot;</span>);</div>
<div class="line"><span class="lineno"> 4451</span>    <a class="code hl_function" href="rgw__admin_8cc.html#ab596b9e1a1fc78e98a4d13a66578b658">encode_json</a>(<span class="stringliteral">&quot;current_period&quot;</span>, period_id, formatter.get());</div>
<div class="line"><span class="lineno"> 4452</span>    formatter-&gt;close_section();</div>
<div class="line"><span class="lineno"> 4453</span>    formatter-&gt;flush(cout);</div>
<div class="line"><span class="lineno"> 4454</span>      }</div>
<div class="line"><span class="lineno"> 4455</span>      <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 4456</span>    <span class="keywordflow">case</span> OPT::PERIOD_LIST:</div>
<div class="line"><span class="lineno"> 4457</span>      {</div>
<div class="line"><span class="lineno"> 4458</span>    list&lt;string&gt; periods;</div>
<div class="line"><span class="lineno"> 4459</span>    <span class="keywordtype">int</span> ret = <span class="keyword">static_cast&lt;</span><a class="code hl_class" href="classrgw_1_1sal_1_1_rados_store.html">rgw::sal::RadosStore</a>*<span class="keyword">&gt;</span>(<a class="code hl_variable" href="rgw__admin_8cc.html#a6fdb26d64b14d837b60e83a6ca3e2863">store</a>)-&gt;svc()-&gt;<a class="code hl_variable" href="classrgw_1_1sal_1_1_rados_store.html#a0a94e58a4595ab519b4c3f89d33419fe">zone</a>-&gt;list_periods(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>(), periods);</div>
<div class="line"><span class="lineno"> 4460</span>    <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno"> 4461</span>      cerr &lt;&lt; <span class="stringliteral">&quot;failed to list periods: &quot;</span> &lt;&lt; cpp_strerror(-ret) &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 4462</span>      <span class="keywordflow">return</span> -ret;</div>
<div class="line"><span class="lineno"> 4463</span>    }</div>
<div class="line"><span class="lineno"> 4464</span>    formatter-&gt;open_object_section(<span class="stringliteral">&quot;periods_list&quot;</span>);</div>
<div class="line"><span class="lineno"> 4465</span>    <a class="code hl_function" href="rgw__admin_8cc.html#ab596b9e1a1fc78e98a4d13a66578b658">encode_json</a>(<span class="stringliteral">&quot;periods&quot;</span>, periods, formatter.get());</div>
<div class="line"><span class="lineno"> 4466</span>    formatter-&gt;close_section();</div>
<div class="line"><span class="lineno"> 4467</span>    formatter-&gt;flush(cout);</div>
<div class="line"><span class="lineno"> 4468</span>      }</div>
<div class="line"><span class="lineno"> 4469</span>      <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 4470</span>    <span class="keywordflow">case</span> OPT::PERIOD_UPDATE:</div>
<div class="line"><span class="lineno"> 4471</span>      {</div>
<div class="line"><span class="lineno"> 4472</span>        <span class="keywordtype">int</span> ret = <a class="code hl_function" href="rgw__admin_8cc.html#a4dd5fe9ff30e3225bca7a06c01dde2bd">update_period</a>(realm_id, realm_name, period_id, period_epoch,</div>
<div class="line"><span class="lineno"> 4473</span>                                commit, remote, url, opt_region,</div>
<div class="line"><span class="lineno"> 4474</span>                                access_key, secret_key,</div>
<div class="line"><span class="lineno"> 4475</span>                                formatter.get(), yes_i_really_mean_it);</div>
<div class="line"><span class="lineno"> 4476</span>    <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno"> 4477</span>      <span class="keywordflow">return</span> -ret;</div>
<div class="line"><span class="lineno"> 4478</span>    }</div>
<div class="line"><span class="lineno"> 4479</span>      }</div>
<div class="line"><span class="lineno"> 4480</span>      <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 4481</span>    <span class="keywordflow">case</span> OPT::PERIOD_PULL:</div>
<div class="line"><span class="lineno"> 4482</span>      {</div>
<div class="line"><span class="lineno"> 4483</span>        boost::optional&lt;RGWRESTConn&gt; conn;</div>
<div class="line"><span class="lineno"> 4484</span>        <a class="code hl_class" href="class_r_g_w_r_e_s_t_conn.html">RGWRESTConn</a> *remote_conn = <span class="keyword">nullptr</span>;</div>
<div class="line"><span class="lineno"> 4485</span>        <span class="keywordflow">if</span> (url.empty()) {</div>
<div class="line"><span class="lineno"> 4486</span>          <span class="comment">// load current period for endpoints</span></div>
<div class="line"><span class="lineno"> 4487</span>          <a class="code hl_class" href="class_r_g_w_realm.html">RGWRealm</a> realm(realm_id, realm_name);</div>
<div class="line"><span class="lineno"> 4488</span>          <span class="keywordtype">int</span> ret = realm.init(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>(), g_ceph_context, <span class="keyword">static_cast&lt;</span><a class="code hl_class" href="classrgw_1_1sal_1_1_rados_store.html">rgw::sal::RadosStore</a>*<span class="keyword">&gt;</span>(<a class="code hl_variable" href="rgw__admin_8cc.html#a6fdb26d64b14d837b60e83a6ca3e2863">store</a>)-&gt;svc()-&gt;sysobj, null_yield);</div>
<div class="line"><span class="lineno"> 4489</span>          <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno"> 4490</span>            cerr &lt;&lt; <span class="stringliteral">&quot;failed to init realm: &quot;</span> &lt;&lt; cpp_strerror(-ret) &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 4491</span>            <span class="keywordflow">return</span> -ret;</div>
<div class="line"><span class="lineno"> 4492</span>          }</div>
<div class="line"><span class="lineno"> 4493</span>          <a class="code hl_class" href="class_r_g_w_period.html">RGWPeriod</a> current_period(realm.get_current_period());</div>
<div class="line"><span class="lineno"> 4494</span>          ret = current_period.init(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>(), g_ceph_context, <span class="keyword">static_cast&lt;</span><a class="code hl_class" href="classrgw_1_1sal_1_1_rados_store.html">rgw::sal::RadosStore</a>*<span class="keyword">&gt;</span>(<a class="code hl_variable" href="rgw__admin_8cc.html#a6fdb26d64b14d837b60e83a6ca3e2863">store</a>)-&gt;svc()-&gt;sysobj, null_yield);</div>
<div class="line"><span class="lineno"> 4495</span>          <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno"> 4496</span>            cerr &lt;&lt; <span class="stringliteral">&quot;failed to init current period: &quot;</span> &lt;&lt; cpp_strerror(-ret) &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 4497</span>            <span class="keywordflow">return</span> -ret;</div>
<div class="line"><span class="lineno"> 4498</span>          }</div>
<div class="line"><span class="lineno"> 4499</span>          <span class="keywordflow">if</span> (remote.empty()) {</div>
<div class="line"><span class="lineno"> 4500</span>            <span class="comment">// use realm master zone as remote</span></div>
<div class="line"><span class="lineno"> 4501</span>            remote = current_period.get_master_zone().id;</div>
<div class="line"><span class="lineno"> 4502</span>          }</div>
<div class="line"><span class="lineno"> 4503</span>          conn = <a class="code hl_function" href="rgw__admin_8cc.html#a30b65084fc8065e4fcfc47abe3775e67">get_remote_conn</a>(<span class="keyword">static_cast&lt;</span><a class="code hl_class" href="classrgw_1_1sal_1_1_rados_store.html">rgw::sal::RadosStore</a>*<span class="keyword">&gt;</span>(<a class="code hl_variable" href="rgw__admin_8cc.html#a6fdb26d64b14d837b60e83a6ca3e2863">store</a>), current_period.get_map(), remote);</div>
<div class="line"><span class="lineno"> 4504</span>          <span class="keywordflow">if</span> (!conn) {</div>
<div class="line"><span class="lineno"> 4505</span>            cerr &lt;&lt; <span class="stringliteral">&quot;failed to find a zone or zonegroup for remote &quot;</span></div>
<div class="line"><span class="lineno"> 4506</span>                &lt;&lt; remote &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 4507</span>            <span class="keywordflow">return</span> -ENOENT;</div>
<div class="line"><span class="lineno"> 4508</span>          }</div>
<div class="line"><span class="lineno"> 4509</span>          remote_conn = &amp;*conn;</div>
<div class="line"><span class="lineno"> 4510</span>        }</div>
<div class="line"><span class="lineno"> 4511</span> </div>
<div class="line"><span class="lineno"> 4512</span>        <a class="code hl_class" href="class_r_g_w_period.html">RGWPeriod</a> period;</div>
<div class="line"><span class="lineno"> 4513</span>        <span class="keywordtype">int</span> ret = <a class="code hl_function" href="rgw__admin_8cc.html#a693377846b7628a32c724cf0200e5a9e">do_period_pull</a>(remote_conn, url, opt_region,</div>
<div class="line"><span class="lineno"> 4514</span>                                 access_key, secret_key,</div>
<div class="line"><span class="lineno"> 4515</span>                                 realm_id, realm_name, period_id, period_epoch,</div>
<div class="line"><span class="lineno"> 4516</span>                                 &amp;period);</div>
<div class="line"><span class="lineno"> 4517</span>        <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno"> 4518</span>          cerr &lt;&lt; <span class="stringliteral">&quot;period pull failed: &quot;</span> &lt;&lt; cpp_strerror(-ret) &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 4519</span>          <span class="keywordflow">return</span> -ret;</div>
<div class="line"><span class="lineno"> 4520</span>        }</div>
<div class="line"><span class="lineno"> 4521</span> </div>
<div class="line"><span class="lineno"> 4522</span>        <a class="code hl_function" href="rgw__admin_8cc.html#ab596b9e1a1fc78e98a4d13a66578b658">encode_json</a>(<span class="stringliteral">&quot;period&quot;</span>, period, formatter.get());</div>
<div class="line"><span class="lineno"> 4523</span>        formatter-&gt;flush(cout);</div>
<div class="line"><span class="lineno"> 4524</span>      }</div>
<div class="line"><span class="lineno"> 4525</span>      <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 4526</span>    <span class="keywordflow">case</span> OPT::GLOBAL_RATELIMIT_GET:</div>
<div class="line"><span class="lineno"> 4527</span>    <span class="keywordflow">case</span> OPT::GLOBAL_RATELIMIT_SET:</div>
<div class="line"><span class="lineno"> 4528</span>    <span class="keywordflow">case</span> OPT::GLOBAL_RATELIMIT_ENABLE:</div>
<div class="line"><span class="lineno"> 4529</span>    <span class="keywordflow">case</span> OPT::GLOBAL_RATELIMIT_DISABLE:</div>
<div class="line"><span class="lineno"> 4530</span>      {</div>
<div class="line"><span class="lineno"> 4531</span>        <span class="keywordflow">if</span> (realm_id.empty()) {</div>
<div class="line"><span class="lineno"> 4532</span>          <a class="code hl_class" href="class_r_g_w_realm.html">RGWRealm</a> realm(g_ceph_context, <span class="keyword">static_cast&lt;</span><a class="code hl_class" href="classrgw_1_1sal_1_1_rados_store.html">rgw::sal::RadosStore</a>*<span class="keyword">&gt;</span>(<a class="code hl_variable" href="rgw__admin_8cc.html#a6fdb26d64b14d837b60e83a6ca3e2863">store</a>)-&gt;svc()-&gt;sysobj);</div>
<div class="line"><span class="lineno"> 4533</span>          <span class="keywordflow">if</span> (!realm_name.empty()) {</div>
<div class="line"><span class="lineno"> 4534</span>            <span class="comment">// look up realm_id for the given realm_name</span></div>
<div class="line"><span class="lineno"> 4535</span>            <span class="keywordtype">int</span> ret = realm.read_id(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>(), realm_name, realm_id, null_yield);</div>
<div class="line"><span class="lineno"> 4536</span>            <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno"> 4537</span>              cerr &lt;&lt; <span class="stringliteral">&quot;ERROR: failed to read realm for &quot;</span> &lt;&lt; realm_name</div>
<div class="line"><span class="lineno"> 4538</span>                  &lt;&lt; <span class="stringliteral">&quot;: &quot;</span> &lt;&lt; cpp_strerror(-ret) &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 4539</span>              <span class="keywordflow">return</span> -ret;</div>
<div class="line"><span class="lineno"> 4540</span>            }</div>
<div class="line"><span class="lineno"> 4541</span>          } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 4542</span>            <span class="comment">// use default realm_id when none is given</span></div>
<div class="line"><span class="lineno"> 4543</span>            <span class="keywordtype">int</span> ret = realm.read_default_id(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>(), realm_id, null_yield);</div>
<div class="line"><span class="lineno"> 4544</span>            <span class="keywordflow">if</span> (ret &lt; 0 &amp;&amp; ret != -ENOENT) { <span class="comment">// on ENOENT, use empty realm_id</span></div>
<div class="line"><span class="lineno"> 4545</span>              cerr &lt;&lt; <span class="stringliteral">&quot;ERROR: failed to read default realm: &quot;</span></div>
<div class="line"><span class="lineno"> 4546</span>                  &lt;&lt; cpp_strerror(-ret) &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 4547</span>              <span class="keywordflow">return</span> -ret;</div>
<div class="line"><span class="lineno"> 4548</span>            }</div>
<div class="line"><span class="lineno"> 4549</span>          }</div>
<div class="line"><span class="lineno"> 4550</span>        }</div>
<div class="line"><span class="lineno"> 4551</span> </div>
<div class="line"><span class="lineno"> 4552</span>        <a class="code hl_struct" href="struct_r_g_w_period_config.html">RGWPeriodConfig</a> period_config;</div>
<div class="line"><span class="lineno"> 4553</span>        <span class="keywordtype">int</span> ret = period_config.<a class="code hl_function" href="struct_r_g_w_period_config.html#a5b691415ee5c66b16b412028814bfac8">read</a>(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>(), <span class="keyword">static_cast&lt;</span><a class="code hl_class" href="classrgw_1_1sal_1_1_rados_store.html">rgw::sal::RadosStore</a>*<span class="keyword">&gt;</span>(<a class="code hl_variable" href="rgw__admin_8cc.html#a6fdb26d64b14d837b60e83a6ca3e2863">store</a>)-&gt;svc()-&gt;sysobj, realm_id, null_yield);</div>
<div class="line"><span class="lineno"> 4554</span>        <span class="keywordflow">if</span> (ret &lt; 0 &amp;&amp; ret != -ENOENT) {</div>
<div class="line"><span class="lineno"> 4555</span>          cerr &lt;&lt; <span class="stringliteral">&quot;ERROR: failed to read period config: &quot;</span></div>
<div class="line"><span class="lineno"> 4556</span>              &lt;&lt; cpp_strerror(-ret) &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 4557</span>          <span class="keywordflow">return</span> -ret;</div>
<div class="line"><span class="lineno"> 4558</span>        }</div>
<div class="line"><span class="lineno"> 4559</span>        <span class="keywordtype">bool</span> ratelimit_configured = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 4560</span>        formatter-&gt;open_object_section(<span class="stringliteral">&quot;period_config&quot;</span>);</div>
<div class="line"><span class="lineno"> 4561</span>        <span class="keywordflow">if</span> (ratelimit_scope == <span class="stringliteral">&quot;bucket&quot;</span>) {</div>
<div class="line"><span class="lineno"> 4562</span>          ratelimit_configured = <a class="code hl_function" href="rgw__admin_8cc.html#abb9e0ffbf36a71fe5f3a9320495c0228">set_ratelimit_info</a>(period_config.<a class="code hl_variable" href="struct_r_g_w_period_config.html#a128354bfe22b568e806308aeb4c97318">bucket_ratelimit</a>, opt_cmd,</div>
<div class="line"><span class="lineno"> 4563</span>                         max_read_ops, max_write_ops,</div>
<div class="line"><span class="lineno"> 4564</span>                         max_read_bytes, max_write_bytes,</div>
<div class="line"><span class="lineno"> 4565</span>                         have_max_read_ops, have_max_write_ops,</div>
<div class="line"><span class="lineno"> 4566</span>                         have_max_read_bytes, have_max_write_bytes);</div>
<div class="line"><span class="lineno"> 4567</span>          <a class="code hl_function" href="rgw__admin_8cc.html#ab596b9e1a1fc78e98a4d13a66578b658">encode_json</a>(<span class="stringliteral">&quot;bucket_ratelimit&quot;</span>, period_config.<a class="code hl_variable" href="struct_r_g_w_period_config.html#a128354bfe22b568e806308aeb4c97318">bucket_ratelimit</a>, formatter.get());</div>
<div class="line"><span class="lineno"> 4568</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (ratelimit_scope == <span class="stringliteral">&quot;user&quot;</span>) {</div>
<div class="line"><span class="lineno"> 4569</span>          ratelimit_configured = <a class="code hl_function" href="rgw__admin_8cc.html#abb9e0ffbf36a71fe5f3a9320495c0228">set_ratelimit_info</a>(period_config.<a class="code hl_variable" href="struct_r_g_w_period_config.html#a0a88bf0485fd37baf40f6dc7d7e3ec40">user_ratelimit</a>, opt_cmd,</div>
<div class="line"><span class="lineno"> 4570</span>                         max_read_ops, max_write_ops,</div>
<div class="line"><span class="lineno"> 4571</span>                         max_read_bytes, max_write_bytes,</div>
<div class="line"><span class="lineno"> 4572</span>                         have_max_read_ops, have_max_write_ops,</div>
<div class="line"><span class="lineno"> 4573</span>                         have_max_read_bytes, have_max_write_bytes);</div>
<div class="line"><span class="lineno"> 4574</span>          <a class="code hl_function" href="rgw__admin_8cc.html#ab596b9e1a1fc78e98a4d13a66578b658">encode_json</a>(<span class="stringliteral">&quot;user_ratelimit&quot;</span>, period_config.<a class="code hl_variable" href="struct_r_g_w_period_config.html#a0a88bf0485fd37baf40f6dc7d7e3ec40">user_ratelimit</a>, formatter.get());</div>
<div class="line"><span class="lineno"> 4575</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (ratelimit_scope == <span class="stringliteral">&quot;anonymous&quot;</span>) {</div>
<div class="line"><span class="lineno"> 4576</span>          ratelimit_configured = <a class="code hl_function" href="rgw__admin_8cc.html#abb9e0ffbf36a71fe5f3a9320495c0228">set_ratelimit_info</a>(period_config.<a class="code hl_variable" href="struct_r_g_w_period_config.html#a1f8dfa16ce942937ff864ca28243f511">anon_ratelimit</a>, opt_cmd,</div>
<div class="line"><span class="lineno"> 4577</span>                         max_read_ops, max_write_ops,</div>
<div class="line"><span class="lineno"> 4578</span>                         max_read_bytes, max_write_bytes,</div>
<div class="line"><span class="lineno"> 4579</span>                         have_max_read_ops, have_max_write_ops,</div>
<div class="line"><span class="lineno"> 4580</span>                         have_max_read_bytes, have_max_write_bytes);</div>
<div class="line"><span class="lineno"> 4581</span>          <a class="code hl_function" href="rgw__admin_8cc.html#ab596b9e1a1fc78e98a4d13a66578b658">encode_json</a>(<span class="stringliteral">&quot;anonymous_ratelimit&quot;</span>, period_config.<a class="code hl_variable" href="struct_r_g_w_period_config.html#a1f8dfa16ce942937ff864ca28243f511">anon_ratelimit</a>, formatter.get());</div>
<div class="line"><span class="lineno"> 4582</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (ratelimit_scope.empty() &amp;&amp; opt_cmd == OPT::GLOBAL_RATELIMIT_GET) {</div>
<div class="line"><span class="lineno"> 4583</span>          <span class="comment">// if no scope is given for GET, print both</span></div>
<div class="line"><span class="lineno"> 4584</span>          <a class="code hl_function" href="rgw__admin_8cc.html#ab596b9e1a1fc78e98a4d13a66578b658">encode_json</a>(<span class="stringliteral">&quot;bucket_ratelimit&quot;</span>, period_config.<a class="code hl_variable" href="struct_r_g_w_period_config.html#a128354bfe22b568e806308aeb4c97318">bucket_ratelimit</a>, formatter.get());</div>
<div class="line"><span class="lineno"> 4585</span>          <a class="code hl_function" href="rgw__admin_8cc.html#ab596b9e1a1fc78e98a4d13a66578b658">encode_json</a>(<span class="stringliteral">&quot;user_ratelimit&quot;</span>, period_config.<a class="code hl_variable" href="struct_r_g_w_period_config.html#a0a88bf0485fd37baf40f6dc7d7e3ec40">user_ratelimit</a>, formatter.get());</div>
<div class="line"><span class="lineno"> 4586</span>          <a class="code hl_function" href="rgw__admin_8cc.html#ab596b9e1a1fc78e98a4d13a66578b658">encode_json</a>(<span class="stringliteral">&quot;anonymous_ratelimit&quot;</span>, period_config.<a class="code hl_variable" href="struct_r_g_w_period_config.html#a1f8dfa16ce942937ff864ca28243f511">anon_ratelimit</a>, formatter.get());</div>
<div class="line"><span class="lineno"> 4587</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 4588</span>          cerr &lt;&lt; <span class="stringliteral">&quot;ERROR: invalid rate limit scope specification. Please specify &quot;</span></div>
<div class="line"><span class="lineno"> 4589</span>              <span class="stringliteral">&quot;either --ratelimit-scope=bucket, or --ratelimit-scope=user or --ratelimit-scope=anonymous&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 4590</span>          <span class="keywordflow">return</span> EINVAL;</div>
<div class="line"><span class="lineno"> 4591</span>        }</div>
<div class="line"><span class="lineno"> 4592</span>        <span class="keywordflow">if</span> (!ratelimit_configured) {</div>
<div class="line"><span class="lineno"> 4593</span>          cerr &lt;&lt; <span class="stringliteral">&quot;ERROR: no rate limit values have been specified&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 4594</span>          <span class="keywordflow">return</span> EINVAL;</div>
<div class="line"><span class="lineno"> 4595</span>        }</div>
<div class="line"><span class="lineno"> 4596</span> </div>
<div class="line"><span class="lineno"> 4597</span>        formatter-&gt;close_section();</div>
<div class="line"><span class="lineno"> 4598</span> </div>
<div class="line"><span class="lineno"> 4599</span>        <span class="keywordflow">if</span> (opt_cmd != OPT::GLOBAL_RATELIMIT_GET) {</div>
<div class="line"><span class="lineno"> 4600</span>          <span class="comment">// write the modified period config</span></div>
<div class="line"><span class="lineno"> 4601</span>          ret = period_config.<a class="code hl_function" href="struct_r_g_w_period_config.html#ab672b7ea4acf92ac20639cd743ae1e3a">write</a>(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>(), <span class="keyword">static_cast&lt;</span><a class="code hl_class" href="classrgw_1_1sal_1_1_rados_store.html">rgw::sal::RadosStore</a>*<span class="keyword">&gt;</span>(<a class="code hl_variable" href="rgw__admin_8cc.html#a6fdb26d64b14d837b60e83a6ca3e2863">store</a>)-&gt;svc()-&gt;sysobj, realm_id, null_yield);</div>
<div class="line"><span class="lineno"> 4602</span>          <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno"> 4603</span>            cerr &lt;&lt; <span class="stringliteral">&quot;ERROR: failed to write period config: &quot;</span></div>
<div class="line"><span class="lineno"> 4604</span>                &lt;&lt; cpp_strerror(-ret) &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 4605</span>            <span class="keywordflow">return</span> -ret;</div>
<div class="line"><span class="lineno"> 4606</span>          }</div>
<div class="line"><span class="lineno"> 4607</span>          <span class="keywordflow">if</span> (!realm_id.empty()) {</div>
<div class="line"><span class="lineno"> 4608</span>            cout &lt;&lt; <span class="stringliteral">&quot;Global ratelimit changes saved. Use &#39;period update&#39; to apply &quot;</span></div>
<div class="line"><span class="lineno"> 4609</span>                <span class="stringliteral">&quot;them to the staging period, and &#39;period commit&#39; to commit the &quot;</span></div>
<div class="line"><span class="lineno"> 4610</span>                <span class="stringliteral">&quot;new period.&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 4611</span>          } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 4612</span>            cout &lt;&lt; <span class="stringliteral">&quot;Global ratelimit changes saved. They will take effect as &quot;</span></div>
<div class="line"><span class="lineno"> 4613</span>                <span class="stringliteral">&quot;the gateways are restarted.&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 4614</span>          }</div>
<div class="line"><span class="lineno"> 4615</span>        }</div>
<div class="line"><span class="lineno"> 4616</span> </div>
<div class="line"><span class="lineno"> 4617</span>        formatter-&gt;flush(cout);</div>
<div class="line"><span class="lineno"> 4618</span>      }</div>
<div class="line"><span class="lineno"> 4619</span>      <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 4620</span>    <span class="keywordflow">case</span> OPT::GLOBAL_QUOTA_GET:</div>
<div class="line"><span class="lineno"> 4621</span>    <span class="keywordflow">case</span> OPT::GLOBAL_QUOTA_SET:</div>
<div class="line"><span class="lineno"> 4622</span>    <span class="keywordflow">case</span> OPT::GLOBAL_QUOTA_ENABLE:</div>
<div class="line"><span class="lineno"> 4623</span>    <span class="keywordflow">case</span> OPT::GLOBAL_QUOTA_DISABLE:</div>
<div class="line"><span class="lineno"> 4624</span>      {</div>
<div class="line"><span class="lineno"> 4625</span>        <span class="keywordflow">if</span> (realm_id.empty()) {</div>
<div class="line"><span class="lineno"> 4626</span>          <a class="code hl_class" href="class_r_g_w_realm.html">RGWRealm</a> realm(g_ceph_context, <span class="keyword">static_cast&lt;</span><a class="code hl_class" href="classrgw_1_1sal_1_1_rados_store.html">rgw::sal::RadosStore</a>*<span class="keyword">&gt;</span>(<a class="code hl_variable" href="rgw__admin_8cc.html#a6fdb26d64b14d837b60e83a6ca3e2863">store</a>)-&gt;svc()-&gt;sysobj);</div>
<div class="line"><span class="lineno"> 4627</span>          <span class="keywordflow">if</span> (!realm_name.empty()) {</div>
<div class="line"><span class="lineno"> 4628</span>            <span class="comment">// look up realm_id for the given realm_name</span></div>
<div class="line"><span class="lineno"> 4629</span>            <span class="keywordtype">int</span> ret = realm.read_id(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>(), realm_name, realm_id, null_yield);</div>
<div class="line"><span class="lineno"> 4630</span>            <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno"> 4631</span>              cerr &lt;&lt; <span class="stringliteral">&quot;ERROR: failed to read realm for &quot;</span> &lt;&lt; realm_name</div>
<div class="line"><span class="lineno"> 4632</span>                  &lt;&lt; <span class="stringliteral">&quot;: &quot;</span> &lt;&lt; cpp_strerror(-ret) &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 4633</span>              <span class="keywordflow">return</span> -ret;</div>
<div class="line"><span class="lineno"> 4634</span>            }</div>
<div class="line"><span class="lineno"> 4635</span>          } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 4636</span>            <span class="comment">// use default realm_id when none is given</span></div>
<div class="line"><span class="lineno"> 4637</span>            <span class="keywordtype">int</span> ret = realm.read_default_id(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>(), realm_id, null_yield);</div>
<div class="line"><span class="lineno"> 4638</span>            <span class="keywordflow">if</span> (ret &lt; 0 &amp;&amp; ret != -ENOENT) { <span class="comment">// on ENOENT, use empty realm_id</span></div>
<div class="line"><span class="lineno"> 4639</span>              cerr &lt;&lt; <span class="stringliteral">&quot;ERROR: failed to read default realm: &quot;</span></div>
<div class="line"><span class="lineno"> 4640</span>                  &lt;&lt; cpp_strerror(-ret) &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 4641</span>              <span class="keywordflow">return</span> -ret;</div>
<div class="line"><span class="lineno"> 4642</span>            }</div>
<div class="line"><span class="lineno"> 4643</span>          }</div>
<div class="line"><span class="lineno"> 4644</span>        }</div>
<div class="line"><span class="lineno"> 4645</span> </div>
<div class="line"><span class="lineno"> 4646</span>        <a class="code hl_struct" href="struct_r_g_w_period_config.html">RGWPeriodConfig</a> period_config;</div>
<div class="line"><span class="lineno"> 4647</span>        <span class="keywordtype">int</span> ret = period_config.<a class="code hl_function" href="struct_r_g_w_period_config.html#a5b691415ee5c66b16b412028814bfac8">read</a>(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>(), <span class="keyword">static_cast&lt;</span><a class="code hl_class" href="classrgw_1_1sal_1_1_rados_store.html">rgw::sal::RadosStore</a>*<span class="keyword">&gt;</span>(<a class="code hl_variable" href="rgw__admin_8cc.html#a6fdb26d64b14d837b60e83a6ca3e2863">store</a>)-&gt;svc()-&gt;sysobj, realm_id, null_yield);</div>
<div class="line"><span class="lineno"> 4648</span>        <span class="keywordflow">if</span> (ret &lt; 0 &amp;&amp; ret != -ENOENT) {</div>
<div class="line"><span class="lineno"> 4649</span>          cerr &lt;&lt; <span class="stringliteral">&quot;ERROR: failed to read period config: &quot;</span></div>
<div class="line"><span class="lineno"> 4650</span>              &lt;&lt; cpp_strerror(-ret) &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 4651</span>          <span class="keywordflow">return</span> -ret;</div>
<div class="line"><span class="lineno"> 4652</span>        }</div>
<div class="line"><span class="lineno"> 4653</span> </div>
<div class="line"><span class="lineno"> 4654</span>        formatter-&gt;open_object_section(<span class="stringliteral">&quot;period_config&quot;</span>);</div>
<div class="line"><span class="lineno"> 4655</span>        <span class="keywordflow">if</span> (quota_scope == <span class="stringliteral">&quot;bucket&quot;</span>) {</div>
<div class="line"><span class="lineno"> 4656</span>          <a class="code hl_function" href="rgw__admin_8cc.html#a47785697389493a3eba737404eaab01b">set_quota_info</a>(period_config.<a class="code hl_variable" href="struct_r_g_w_period_config.html#adc006e520b4894981b76b005b1785745">bucket_quota</a>, opt_cmd,</div>
<div class="line"><span class="lineno"> 4657</span>                         max_size, max_objects,</div>
<div class="line"><span class="lineno"> 4658</span>                         have_max_size, have_max_objects);</div>
<div class="line"><span class="lineno"> 4659</span>          <a class="code hl_function" href="rgw__admin_8cc.html#ab596b9e1a1fc78e98a4d13a66578b658">encode_json</a>(<span class="stringliteral">&quot;bucket quota&quot;</span>, period_config.<a class="code hl_variable" href="struct_r_g_w_period_config.html#adc006e520b4894981b76b005b1785745">bucket_quota</a>, formatter.get());</div>
<div class="line"><span class="lineno"> 4660</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (quota_scope == <span class="stringliteral">&quot;user&quot;</span>) {</div>
<div class="line"><span class="lineno"> 4661</span>          <a class="code hl_function" href="rgw__admin_8cc.html#a47785697389493a3eba737404eaab01b">set_quota_info</a>(period_config.<a class="code hl_variable" href="struct_r_g_w_period_config.html#a611b8462bba038a39aa6ad83093be670">user_quota</a>, opt_cmd,</div>
<div class="line"><span class="lineno"> 4662</span>                         max_size, max_objects,</div>
<div class="line"><span class="lineno"> 4663</span>                         have_max_size, have_max_objects);</div>
<div class="line"><span class="lineno"> 4664</span>          <a class="code hl_function" href="rgw__admin_8cc.html#ab596b9e1a1fc78e98a4d13a66578b658">encode_json</a>(<span class="stringliteral">&quot;user quota&quot;</span>, period_config.<a class="code hl_variable" href="struct_r_g_w_period_config.html#a611b8462bba038a39aa6ad83093be670">user_quota</a>, formatter.get());</div>
<div class="line"><span class="lineno"> 4665</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (quota_scope.empty() &amp;&amp; opt_cmd == OPT::GLOBAL_QUOTA_GET) {</div>
<div class="line"><span class="lineno"> 4666</span>          <span class="comment">// if no scope is given for GET, print both</span></div>
<div class="line"><span class="lineno"> 4667</span>          <a class="code hl_function" href="rgw__admin_8cc.html#ab596b9e1a1fc78e98a4d13a66578b658">encode_json</a>(<span class="stringliteral">&quot;bucket quota&quot;</span>, period_config.<a class="code hl_variable" href="struct_r_g_w_period_config.html#adc006e520b4894981b76b005b1785745">bucket_quota</a>, formatter.get());</div>
<div class="line"><span class="lineno"> 4668</span>          <a class="code hl_function" href="rgw__admin_8cc.html#ab596b9e1a1fc78e98a4d13a66578b658">encode_json</a>(<span class="stringliteral">&quot;user quota&quot;</span>, period_config.<a class="code hl_variable" href="struct_r_g_w_period_config.html#a611b8462bba038a39aa6ad83093be670">user_quota</a>, formatter.get());</div>
<div class="line"><span class="lineno"> 4669</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 4670</span>          cerr &lt;&lt; <span class="stringliteral">&quot;ERROR: invalid quota scope specification. Please specify &quot;</span></div>
<div class="line"><span class="lineno"> 4671</span>              <span class="stringliteral">&quot;either --quota-scope=bucket, or --quota-scope=user&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 4672</span>          <span class="keywordflow">return</span> EINVAL;</div>
<div class="line"><span class="lineno"> 4673</span>        }</div>
<div class="line"><span class="lineno"> 4674</span>        formatter-&gt;close_section();</div>
<div class="line"><span class="lineno"> 4675</span> </div>
<div class="line"><span class="lineno"> 4676</span>        <span class="keywordflow">if</span> (opt_cmd != OPT::GLOBAL_QUOTA_GET) {</div>
<div class="line"><span class="lineno"> 4677</span>          <span class="comment">// write the modified period config</span></div>
<div class="line"><span class="lineno"> 4678</span>          ret = period_config.<a class="code hl_function" href="struct_r_g_w_period_config.html#ab672b7ea4acf92ac20639cd743ae1e3a">write</a>(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>(), <span class="keyword">static_cast&lt;</span><a class="code hl_class" href="classrgw_1_1sal_1_1_rados_store.html">rgw::sal::RadosStore</a>*<span class="keyword">&gt;</span>(<a class="code hl_variable" href="rgw__admin_8cc.html#a6fdb26d64b14d837b60e83a6ca3e2863">store</a>)-&gt;svc()-&gt;sysobj, realm_id, null_yield);</div>
<div class="line"><span class="lineno"> 4679</span>          <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno"> 4680</span>            cerr &lt;&lt; <span class="stringliteral">&quot;ERROR: failed to write period config: &quot;</span></div>
<div class="line"><span class="lineno"> 4681</span>                &lt;&lt; cpp_strerror(-ret) &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 4682</span>            <span class="keywordflow">return</span> -ret;</div>
<div class="line"><span class="lineno"> 4683</span>          }</div>
<div class="line"><span class="lineno"> 4684</span>          <span class="keywordflow">if</span> (!realm_id.empty()) {</div>
<div class="line"><span class="lineno"> 4685</span>            cout &lt;&lt; <span class="stringliteral">&quot;Global quota changes saved. Use &#39;period update&#39; to apply &quot;</span></div>
<div class="line"><span class="lineno"> 4686</span>                <span class="stringliteral">&quot;them to the staging period, and &#39;period commit&#39; to commit the &quot;</span></div>
<div class="line"><span class="lineno"> 4687</span>                <span class="stringliteral">&quot;new period.&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 4688</span>          } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 4689</span>            cout &lt;&lt; <span class="stringliteral">&quot;Global quota changes saved. They will take effect as &quot;</span></div>
<div class="line"><span class="lineno"> 4690</span>                <span class="stringliteral">&quot;the gateways are restarted.&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 4691</span>          }</div>
<div class="line"><span class="lineno"> 4692</span>        }</div>
<div class="line"><span class="lineno"> 4693</span> </div>
<div class="line"><span class="lineno"> 4694</span>        formatter-&gt;flush(cout);</div>
<div class="line"><span class="lineno"> 4695</span>      }</div>
<div class="line"><span class="lineno"> 4696</span>      <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 4697</span>    <span class="keywordflow">case</span> OPT::REALM_CREATE:</div>
<div class="line"><span class="lineno"> 4698</span>      {</div>
<div class="line"><span class="lineno"> 4699</span>    <span class="keywordflow">if</span> (realm_name.empty()) {</div>
<div class="line"><span class="lineno"> 4700</span>      cerr &lt;&lt; <span class="stringliteral">&quot;missing realm name&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 4701</span>      <span class="keywordflow">return</span> EINVAL;</div>
<div class="line"><span class="lineno"> 4702</span>    }</div>
<div class="line"><span class="lineno"> 4703</span> </div>
<div class="line"><span class="lineno"> 4704</span>    <a class="code hl_class" href="class_r_g_w_realm.html">RGWRealm</a> realm(realm_name, g_ceph_context, <span class="keyword">static_cast&lt;</span><a class="code hl_class" href="classrgw_1_1sal_1_1_rados_store.html">rgw::sal::RadosStore</a>*<span class="keyword">&gt;</span>(<a class="code hl_variable" href="rgw__admin_8cc.html#a6fdb26d64b14d837b60e83a6ca3e2863">store</a>)-&gt;svc()-&gt;sysobj);</div>
<div class="line"><span class="lineno"> 4705</span>    <span class="keywordtype">int</span> ret = realm.create(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>(), null_yield);</div>
<div class="line"><span class="lineno"> 4706</span>    <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno"> 4707</span>      cerr &lt;&lt; <span class="stringliteral">&quot;ERROR: couldn&#39;t create realm &quot;</span> &lt;&lt; realm_name &lt;&lt; <span class="stringliteral">&quot;: &quot;</span> &lt;&lt; cpp_strerror(-ret) &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 4708</span>      <span class="keywordflow">return</span> -ret;</div>
<div class="line"><span class="lineno"> 4709</span>    }</div>
<div class="line"><span class="lineno"> 4710</span> </div>
<div class="line"><span class="lineno"> 4711</span>        <span class="keywordflow">if</span> (set_default) {</div>
<div class="line"><span class="lineno"> 4712</span>          ret = realm.set_as_default(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>(), null_yield);</div>
<div class="line"><span class="lineno"> 4713</span>          <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno"> 4714</span>            cerr &lt;&lt; <span class="stringliteral">&quot;failed to set realm &quot;</span> &lt;&lt; realm_name &lt;&lt; <span class="stringliteral">&quot; as default: &quot;</span> &lt;&lt; cpp_strerror(-ret) &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 4715</span>          }</div>
<div class="line"><span class="lineno"> 4716</span>        }</div>
<div class="line"><span class="lineno"> 4717</span> </div>
<div class="line"><span class="lineno"> 4718</span>    <a class="code hl_function" href="rgw__admin_8cc.html#ab596b9e1a1fc78e98a4d13a66578b658">encode_json</a>(<span class="stringliteral">&quot;realm&quot;</span>, realm, formatter.get());</div>
<div class="line"><span class="lineno"> 4719</span>    formatter-&gt;flush(cout);</div>
<div class="line"><span class="lineno"> 4720</span>      }</div>
<div class="line"><span class="lineno"> 4721</span>      <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 4722</span>    <span class="keywordflow">case</span> OPT::REALM_DELETE:</div>
<div class="line"><span class="lineno"> 4723</span>      {</div>
<div class="line"><span class="lineno"> 4724</span>    <span class="keywordflow">if</span> (<a class="code hl_function" href="rgw__admin_8cc.html#a7768f24487752988851b23b71c20024f">empty_opt</a>(opt_realm_name) &amp;&amp; <a class="code hl_function" href="rgw__admin_8cc.html#a7768f24487752988851b23b71c20024f">empty_opt</a>(opt_realm_id)) {</div>
<div class="line"><span class="lineno"> 4725</span>      cerr &lt;&lt; <span class="stringliteral">&quot;missing realm name or id&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 4726</span>      <span class="keywordflow">return</span> EINVAL;</div>
<div class="line"><span class="lineno"> 4727</span>    }</div>
<div class="line"><span class="lineno"> 4728</span>    <a class="code hl_class" href="class_r_g_w_realm.html">RGWRealm</a> realm(<a class="code hl_function" href="rgw__admin_8cc.html#a1a84845aea98042ae470c1245cadb7f9">safe_opt</a>(opt_realm_id), <a class="code hl_function" href="rgw__admin_8cc.html#a1a84845aea98042ae470c1245cadb7f9">safe_opt</a>(opt_realm_name));</div>
<div class="line"><span class="lineno"> 4729</span>    <span class="keywordtype">int</span> ret = realm.init(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>(), g_ceph_context, <span class="keyword">static_cast&lt;</span><a class="code hl_class" href="classrgw_1_1sal_1_1_rados_store.html">rgw::sal::RadosStore</a>*<span class="keyword">&gt;</span>(<a class="code hl_variable" href="rgw__admin_8cc.html#a6fdb26d64b14d837b60e83a6ca3e2863">store</a>)-&gt;svc()-&gt;sysobj, null_yield);</div>
<div class="line"><span class="lineno"> 4730</span>    <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno"> 4731</span>      cerr &lt;&lt; <span class="stringliteral">&quot;realm.init failed: &quot;</span> &lt;&lt; cpp_strerror(-ret) &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 4732</span>      <span class="keywordflow">return</span> -ret;</div>
<div class="line"><span class="lineno"> 4733</span>    }</div>
<div class="line"><span class="lineno"> 4734</span>    ret = realm.delete_obj(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>(), null_yield);</div>
<div class="line"><span class="lineno"> 4735</span>    <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno"> 4736</span>      cerr &lt;&lt; <span class="stringliteral">&quot;ERROR: couldn&#39;t : &quot;</span> &lt;&lt; cpp_strerror(-ret) &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 4737</span>      <span class="keywordflow">return</span> -ret;</div>
<div class="line"><span class="lineno"> 4738</span>    }</div>
<div class="line"><span class="lineno"> 4739</span> </div>
<div class="line"><span class="lineno"> 4740</span>      }</div>
<div class="line"><span class="lineno"> 4741</span>      <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 4742</span>    <span class="keywordflow">case</span> OPT::REALM_GET:</div>
<div class="line"><span class="lineno"> 4743</span>      {</div>
<div class="line"><span class="lineno"> 4744</span>    <a class="code hl_class" href="class_r_g_w_realm.html">RGWRealm</a> realm(realm_id, realm_name);</div>
<div class="line"><span class="lineno"> 4745</span>    <span class="keywordtype">int</span> ret = realm.init(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>(), g_ceph_context, <span class="keyword">static_cast&lt;</span><a class="code hl_class" href="classrgw_1_1sal_1_1_rados_store.html">rgw::sal::RadosStore</a>*<span class="keyword">&gt;</span>(<a class="code hl_variable" href="rgw__admin_8cc.html#a6fdb26d64b14d837b60e83a6ca3e2863">store</a>)-&gt;svc()-&gt;sysobj, null_yield);</div>
<div class="line"><span class="lineno"> 4746</span>    <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno"> 4747</span>      <span class="keywordflow">if</span> (ret == -ENOENT &amp;&amp; realm_name.empty() &amp;&amp; realm_id.empty()) {</div>
<div class="line"><span class="lineno"> 4748</span>        cerr &lt;&lt; <span class="stringliteral">&quot;missing realm name or id, or default realm not found&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 4749</span>      } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 4750</span>        cerr &lt;&lt; <span class="stringliteral">&quot;realm.init failed: &quot;</span> &lt;&lt; cpp_strerror(-ret) &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 4751</span>          }</div>
<div class="line"><span class="lineno"> 4752</span>      <span class="keywordflow">return</span> -ret;</div>
<div class="line"><span class="lineno"> 4753</span>    }</div>
<div class="line"><span class="lineno"> 4754</span>    <a class="code hl_function" href="rgw__admin_8cc.html#ab596b9e1a1fc78e98a4d13a66578b658">encode_json</a>(<span class="stringliteral">&quot;realm&quot;</span>, realm, formatter.get());</div>
<div class="line"><span class="lineno"> 4755</span>    formatter-&gt;flush(cout);</div>
<div class="line"><span class="lineno"> 4756</span>      }</div>
<div class="line"><span class="lineno"> 4757</span>      <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 4758</span>    <span class="keywordflow">case</span> OPT::REALM_GET_DEFAULT:</div>
<div class="line"><span class="lineno"> 4759</span>      {</div>
<div class="line"><span class="lineno"> 4760</span>    <a class="code hl_class" href="class_r_g_w_realm.html">RGWRealm</a> realm(g_ceph_context, <span class="keyword">static_cast&lt;</span><a class="code hl_class" href="classrgw_1_1sal_1_1_rados_store.html">rgw::sal::RadosStore</a>*<span class="keyword">&gt;</span>(<a class="code hl_variable" href="rgw__admin_8cc.html#a6fdb26d64b14d837b60e83a6ca3e2863">store</a>)-&gt;svc()-&gt;sysobj);</div>
<div class="line"><span class="lineno"> 4761</span>    <span class="keywordtype">string</span> default_id;</div>
<div class="line"><span class="lineno"> 4762</span>    <span class="keywordtype">int</span> ret = realm.read_default_id(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>(), default_id, null_yield);</div>
<div class="line"><span class="lineno"> 4763</span>    <span class="keywordflow">if</span> (ret == -ENOENT) {</div>
<div class="line"><span class="lineno"> 4764</span>      cout &lt;&lt; <span class="stringliteral">&quot;No default realm is set&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 4765</span>      <span class="keywordflow">return</span> -ret;</div>
<div class="line"><span class="lineno"> 4766</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno"> 4767</span>      cerr &lt;&lt; <span class="stringliteral">&quot;Error reading default realm: &quot;</span> &lt;&lt; cpp_strerror(-ret) &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 4768</span>      <span class="keywordflow">return</span> -ret;</div>
<div class="line"><span class="lineno"> 4769</span>    }</div>
<div class="line"><span class="lineno"> 4770</span>    cout &lt;&lt; <span class="stringliteral">&quot;default realm: &quot;</span> &lt;&lt; default_id &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 4771</span>      }</div>
<div class="line"><span class="lineno"> 4772</span>      <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 4773</span>    <span class="keywordflow">case</span> OPT::REALM_LIST:</div>
<div class="line"><span class="lineno"> 4774</span>      {</div>
<div class="line"><span class="lineno"> 4775</span>    <a class="code hl_class" href="class_r_g_w_realm.html">RGWRealm</a> realm(g_ceph_context, <span class="keyword">static_cast&lt;</span><a class="code hl_class" href="classrgw_1_1sal_1_1_rados_store.html">rgw::sal::RadosStore</a>*<span class="keyword">&gt;</span>(<a class="code hl_variable" href="rgw__admin_8cc.html#a6fdb26d64b14d837b60e83a6ca3e2863">store</a>)-&gt;svc()-&gt;sysobj);</div>
<div class="line"><span class="lineno"> 4776</span>    <span class="keywordtype">string</span> default_id;</div>
<div class="line"><span class="lineno"> 4777</span>    <span class="keywordtype">int</span> ret = realm.read_default_id(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>(), default_id, null_yield);</div>
<div class="line"><span class="lineno"> 4778</span>    <span class="keywordflow">if</span> (ret &lt; 0 &amp;&amp; ret != -ENOENT) {</div>
<div class="line"><span class="lineno"> 4779</span>      cerr &lt;&lt; <span class="stringliteral">&quot;could not determine default realm: &quot;</span> &lt;&lt; cpp_strerror(-ret) &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 4780</span>    }</div>
<div class="line"><span class="lineno"> 4781</span>    list&lt;string&gt; realms;</div>
<div class="line"><span class="lineno"> 4782</span>    ret = <span class="keyword">static_cast&lt;</span><a class="code hl_class" href="classrgw_1_1sal_1_1_rados_store.html">rgw::sal::RadosStore</a>*<span class="keyword">&gt;</span>(<a class="code hl_variable" href="rgw__admin_8cc.html#a6fdb26d64b14d837b60e83a6ca3e2863">store</a>)-&gt;svc()-&gt;<a class="code hl_variable" href="classrgw_1_1sal_1_1_rados_store.html#a0a94e58a4595ab519b4c3f89d33419fe">zone</a>-&gt;list_realms(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>(), realms);</div>
<div class="line"><span class="lineno"> 4783</span>    <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno"> 4784</span>      cerr &lt;&lt; <span class="stringliteral">&quot;failed to list realms: &quot;</span> &lt;&lt; cpp_strerror(-ret) &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 4785</span>      <span class="keywordflow">return</span> -ret;</div>
<div class="line"><span class="lineno"> 4786</span>    }</div>
<div class="line"><span class="lineno"> 4787</span>    formatter-&gt;open_object_section(<span class="stringliteral">&quot;realms_list&quot;</span>);</div>
<div class="line"><span class="lineno"> 4788</span>    <a class="code hl_function" href="rgw__admin_8cc.html#ab596b9e1a1fc78e98a4d13a66578b658">encode_json</a>(<span class="stringliteral">&quot;default_info&quot;</span>, default_id, formatter.get());</div>
<div class="line"><span class="lineno"> 4789</span>    <a class="code hl_function" href="rgw__admin_8cc.html#ab596b9e1a1fc78e98a4d13a66578b658">encode_json</a>(<span class="stringliteral">&quot;realms&quot;</span>, realms, formatter.get());</div>
<div class="line"><span class="lineno"> 4790</span>    formatter-&gt;close_section();</div>
<div class="line"><span class="lineno"> 4791</span>    formatter-&gt;flush(cout);</div>
<div class="line"><span class="lineno"> 4792</span>      }</div>
<div class="line"><span class="lineno"> 4793</span>      <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 4794</span>    <span class="keywordflow">case</span> OPT::REALM_LIST_PERIODS:</div>
<div class="line"><span class="lineno"> 4795</span>      {</div>
<div class="line"><span class="lineno"> 4796</span>        <span class="keywordtype">int</span> ret = <a class="code hl_function" href="rgw__admin_8cc.html#a925d03f534fd8c7fe90e906e741a925b">read_current_period_id</a>(<span class="keyword">static_cast&lt;</span><a class="code hl_class" href="classrgw_1_1sal_1_1_rados_store.html">rgw::sal::RadosStore</a>*<span class="keyword">&gt;</span>(<a class="code hl_variable" href="rgw__admin_8cc.html#a6fdb26d64b14d837b60e83a6ca3e2863">store</a>), realm_id, realm_name, &amp;period_id);</div>
<div class="line"><span class="lineno"> 4797</span>    <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno"> 4798</span>      <span class="keywordflow">return</span> -ret;</div>
<div class="line"><span class="lineno"> 4799</span>    }</div>
<div class="line"><span class="lineno"> 4800</span>    list&lt;string&gt; periods;</div>
<div class="line"><span class="lineno"> 4801</span>    ret = <span class="keyword">static_cast&lt;</span><a class="code hl_class" href="classrgw_1_1sal_1_1_rados_store.html">rgw::sal::RadosStore</a>*<span class="keyword">&gt;</span>(<a class="code hl_variable" href="rgw__admin_8cc.html#a6fdb26d64b14d837b60e83a6ca3e2863">store</a>)-&gt;svc()-&gt;<a class="code hl_variable" href="classrgw_1_1sal_1_1_rados_store.html#a0a94e58a4595ab519b4c3f89d33419fe">zone</a>-&gt;list_periods(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>(), period_id, periods, null_yield);</div>
<div class="line"><span class="lineno"> 4802</span>    <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno"> 4803</span>      cerr &lt;&lt; <span class="stringliteral">&quot;list periods failed: &quot;</span> &lt;&lt; cpp_strerror(-ret) &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 4804</span>      <span class="keywordflow">return</span> -ret;</div>
<div class="line"><span class="lineno"> 4805</span>    }</div>
<div class="line"><span class="lineno"> 4806</span>    formatter-&gt;open_object_section(<span class="stringliteral">&quot;realm_periods_list&quot;</span>);</div>
<div class="line"><span class="lineno"> 4807</span>    <a class="code hl_function" href="rgw__admin_8cc.html#ab596b9e1a1fc78e98a4d13a66578b658">encode_json</a>(<span class="stringliteral">&quot;current_period&quot;</span>, period_id, formatter.get());</div>
<div class="line"><span class="lineno"> 4808</span>    <a class="code hl_function" href="rgw__admin_8cc.html#ab596b9e1a1fc78e98a4d13a66578b658">encode_json</a>(<span class="stringliteral">&quot;periods&quot;</span>, periods, formatter.get());</div>
<div class="line"><span class="lineno"> 4809</span>    formatter-&gt;close_section();</div>
<div class="line"><span class="lineno"> 4810</span>    formatter-&gt;flush(cout);</div>
<div class="line"><span class="lineno"> 4811</span>      }</div>
<div class="line"><span class="lineno"> 4812</span>      <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 4813</span> </div>
<div class="line"><span class="lineno"> 4814</span>    <span class="keywordflow">case</span> OPT::REALM_RENAME:</div>
<div class="line"><span class="lineno"> 4815</span>      {</div>
<div class="line"><span class="lineno"> 4816</span>    <a class="code hl_class" href="class_r_g_w_realm.html">RGWRealm</a> realm(realm_id, realm_name);</div>
<div class="line"><span class="lineno"> 4817</span>    <span class="keywordflow">if</span> (realm_new_name.empty()) {</div>
<div class="line"><span class="lineno"> 4818</span>      cerr &lt;&lt; <span class="stringliteral">&quot;missing realm new name&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 4819</span>      <span class="keywordflow">return</span> EINVAL;</div>
<div class="line"><span class="lineno"> 4820</span>    }</div>
<div class="line"><span class="lineno"> 4821</span>    <span class="keywordflow">if</span> (realm_name.empty() &amp;&amp; realm_id.empty()) {</div>
<div class="line"><span class="lineno"> 4822</span>      cerr &lt;&lt; <span class="stringliteral">&quot;missing realm name or id&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 4823</span>      <span class="keywordflow">return</span> EINVAL;</div>
<div class="line"><span class="lineno"> 4824</span>    }</div>
<div class="line"><span class="lineno"> 4825</span>    <span class="keywordtype">int</span> ret = realm.init(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>(), g_ceph_context, <span class="keyword">static_cast&lt;</span><a class="code hl_class" href="classrgw_1_1sal_1_1_rados_store.html">rgw::sal::RadosStore</a>*<span class="keyword">&gt;</span>(<a class="code hl_variable" href="rgw__admin_8cc.html#a6fdb26d64b14d837b60e83a6ca3e2863">store</a>)-&gt;svc()-&gt;sysobj, null_yield);</div>
<div class="line"><span class="lineno"> 4826</span>    <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno"> 4827</span>      cerr &lt;&lt; <span class="stringliteral">&quot;realm.init failed: &quot;</span> &lt;&lt; cpp_strerror(-ret) &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 4828</span>      <span class="keywordflow">return</span> -ret;</div>
<div class="line"><span class="lineno"> 4829</span>    }</div>
<div class="line"><span class="lineno"> 4830</span>    ret = realm.rename(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>(), realm_new_name, null_yield);</div>
<div class="line"><span class="lineno"> 4831</span>    <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno"> 4832</span>      cerr &lt;&lt; <span class="stringliteral">&quot;realm.rename failed: &quot;</span> &lt;&lt; cpp_strerror(-ret) &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 4833</span>      <span class="keywordflow">return</span> -ret;</div>
<div class="line"><span class="lineno"> 4834</span>    }</div>
<div class="line"><span class="lineno"> 4835</span>        cout &lt;&lt; <span class="stringliteral">&quot;Realm name updated. Note that this change only applies to &quot;</span></div>
<div class="line"><span class="lineno"> 4836</span>            <span class="stringliteral">&quot;the current cluster, so this command must be run separately &quot;</span></div>
<div class="line"><span class="lineno"> 4837</span>            <span class="stringliteral">&quot;on each of the realm&#39;s other clusters.&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 4838</span>      }</div>
<div class="line"><span class="lineno"> 4839</span>      <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 4840</span>    <span class="keywordflow">case</span> OPT::REALM_SET:</div>
<div class="line"><span class="lineno"> 4841</span>      {</div>
<div class="line"><span class="lineno"> 4842</span>    <span class="keywordflow">if</span> (realm_id.empty() &amp;&amp; realm_name.empty()) {</div>
<div class="line"><span class="lineno"> 4843</span>      cerr &lt;&lt; <span class="stringliteral">&quot;no realm name or id provided&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 4844</span>      <span class="keywordflow">return</span> EINVAL;</div>
<div class="line"><span class="lineno"> 4845</span>    }</div>
<div class="line"><span class="lineno"> 4846</span>    <a class="code hl_class" href="class_r_g_w_realm.html">RGWRealm</a> realm(realm_id, realm_name);</div>
<div class="line"><span class="lineno"> 4847</span>    <span class="keywordtype">bool</span> new_realm = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 4848</span>    <span class="keywordtype">int</span> ret = realm.init(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>(), g_ceph_context, <span class="keyword">static_cast&lt;</span><a class="code hl_class" href="classrgw_1_1sal_1_1_rados_store.html">rgw::sal::RadosStore</a>*<span class="keyword">&gt;</span>(<a class="code hl_variable" href="rgw__admin_8cc.html#a6fdb26d64b14d837b60e83a6ca3e2863">store</a>)-&gt;svc()-&gt;sysobj, null_yield);</div>
<div class="line"><span class="lineno"> 4849</span>    <span class="keywordflow">if</span> (ret &lt; 0 &amp;&amp; ret != -ENOENT) {</div>
<div class="line"><span class="lineno"> 4850</span>      cerr &lt;&lt; <span class="stringliteral">&quot;failed to init realm: &quot;</span> &lt;&lt; cpp_strerror(-ret) &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 4851</span>      <span class="keywordflow">return</span> -ret;</div>
<div class="line"><span class="lineno"> 4852</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (ret == -ENOENT) {</div>
<div class="line"><span class="lineno"> 4853</span>      new_realm = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 4854</span>    }</div>
<div class="line"><span class="lineno"> 4855</span>    ret = <a class="code hl_function" href="rgw__admin_8cc.html#a33c98984a0812f3128d874042ee17c68">read_decode_json</a>(infile, realm);</div>
<div class="line"><span class="lineno"> 4856</span>    <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno"> 4857</span>      <span class="keywordflow">return</span> 1;</div>
<div class="line"><span class="lineno"> 4858</span>    }</div>
<div class="line"><span class="lineno"> 4859</span>    <span class="keywordflow">if</span> (!realm_name.empty() &amp;&amp; realm.get_name() != realm_name) {</div>
<div class="line"><span class="lineno"> 4860</span>      cerr &lt;&lt; <span class="stringliteral">&quot;mismatch between --rgw-realm &quot;</span> &lt;&lt; realm_name &lt;&lt; <span class="stringliteral">&quot; and json input file name &quot;</span> &lt;&lt;</div>
<div class="line"><span class="lineno"> 4861</span>        realm.get_name() &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 4862</span>      <span class="keywordflow">return</span> EINVAL;</div>
<div class="line"><span class="lineno"> 4863</span>    }</div>
<div class="line"><span class="lineno"> 4864</span>    <span class="comment">/* new realm */</span></div>
<div class="line"><span class="lineno"> 4865</span>    <span class="keywordflow">if</span> (new_realm) {</div>
<div class="line"><span class="lineno"> 4866</span>      cout &lt;&lt; <span class="stringliteral">&quot;clearing period and epoch for new realm&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 4867</span>      realm.clear_current_period_and_epoch();</div>
<div class="line"><span class="lineno"> 4868</span>      ret = realm.create(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>(), null_yield);</div>
<div class="line"><span class="lineno"> 4869</span>      <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno"> 4870</span>        cerr &lt;&lt; <span class="stringliteral">&quot;ERROR: couldn&#39;t create new realm: &quot;</span> &lt;&lt; cpp_strerror(-ret) &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 4871</span>        <span class="keywordflow">return</span> 1;</div>
<div class="line"><span class="lineno"> 4872</span>      }</div>
<div class="line"><span class="lineno"> 4873</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 4874</span>      ret = realm.update(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>(), null_yield);</div>
<div class="line"><span class="lineno"> 4875</span>      <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno"> 4876</span>        cerr &lt;&lt; <span class="stringliteral">&quot;ERROR: couldn&#39;t store realm info: &quot;</span> &lt;&lt; cpp_strerror(-ret) &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 4877</span>        <span class="keywordflow">return</span> 1;</div>
<div class="line"><span class="lineno"> 4878</span>      }</div>
<div class="line"><span class="lineno"> 4879</span>    }</div>
<div class="line"><span class="lineno"> 4880</span> </div>
<div class="line"><span class="lineno"> 4881</span>        <span class="keywordflow">if</span> (set_default) {</div>
<div class="line"><span class="lineno"> 4882</span>          ret = realm.set_as_default(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>(), null_yield);</div>
<div class="line"><span class="lineno"> 4883</span>          <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno"> 4884</span>            cerr &lt;&lt; <span class="stringliteral">&quot;failed to set realm &quot;</span> &lt;&lt; realm_name &lt;&lt; <span class="stringliteral">&quot; as default: &quot;</span> &lt;&lt; cpp_strerror(-ret) &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 4885</span>          }</div>
<div class="line"><span class="lineno"> 4886</span>        }</div>
<div class="line"><span class="lineno"> 4887</span>    <a class="code hl_function" href="rgw__admin_8cc.html#ab596b9e1a1fc78e98a4d13a66578b658">encode_json</a>(<span class="stringliteral">&quot;realm&quot;</span>, realm, formatter.get());</div>
<div class="line"><span class="lineno"> 4888</span>    formatter-&gt;flush(cout);</div>
<div class="line"><span class="lineno"> 4889</span>      }</div>
<div class="line"><span class="lineno"> 4890</span>      <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 4891</span> </div>
<div class="line"><span class="lineno"> 4892</span>    <span class="keywordflow">case</span> OPT::REALM_DEFAULT:</div>
<div class="line"><span class="lineno"> 4893</span>      {</div>
<div class="line"><span class="lineno"> 4894</span>    <a class="code hl_class" href="class_r_g_w_realm.html">RGWRealm</a> realm(realm_id, realm_name);</div>
<div class="line"><span class="lineno"> 4895</span>    <span class="keywordtype">int</span> ret = realm.init(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>(), g_ceph_context, <span class="keyword">static_cast&lt;</span><a class="code hl_class" href="classrgw_1_1sal_1_1_rados_store.html">rgw::sal::RadosStore</a>*<span class="keyword">&gt;</span>(<a class="code hl_variable" href="rgw__admin_8cc.html#a6fdb26d64b14d837b60e83a6ca3e2863">store</a>)-&gt;svc()-&gt;sysobj, null_yield);</div>
<div class="line"><span class="lineno"> 4896</span>    <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno"> 4897</span>      cerr &lt;&lt; <span class="stringliteral">&quot;failed to init realm: &quot;</span> &lt;&lt; cpp_strerror(-ret) &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 4898</span>      <span class="keywordflow">return</span> -ret;</div>
<div class="line"><span class="lineno"> 4899</span>    }</div>
<div class="line"><span class="lineno"> 4900</span>    ret = realm.set_as_default(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>(), null_yield);</div>
<div class="line"><span class="lineno"> 4901</span>    <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno"> 4902</span>      cerr &lt;&lt; <span class="stringliteral">&quot;failed to set realm as default: &quot;</span> &lt;&lt; cpp_strerror(-ret) &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 4903</span>      <span class="keywordflow">return</span> -ret;</div>
<div class="line"><span class="lineno"> 4904</span>    }</div>
<div class="line"><span class="lineno"> 4905</span>      }</div>
<div class="line"><span class="lineno"> 4906</span>      <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 4907</span>    <span class="keywordflow">case</span> OPT::REALM_PULL:</div>
<div class="line"><span class="lineno"> 4908</span>      {</div>
<div class="line"><span class="lineno"> 4909</span>        <span class="keywordflow">if</span> (url.empty()) {</div>
<div class="line"><span class="lineno"> 4910</span>          cerr &lt;&lt; <span class="stringliteral">&quot;A --url must be provided.&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 4911</span>          <span class="keywordflow">return</span> EINVAL;</div>
<div class="line"><span class="lineno"> 4912</span>        }</div>
<div class="line"><span class="lineno"> 4913</span>        <a class="code hl_class" href="class_r_g_w_env.html">RGWEnv</a> <a class="code hl_variable" href="namespacegtest.html#aa341a0cb52b74c0879a269b35e8f323c">env</a>;</div>
<div class="line"><span class="lineno"> 4914</span>        <a class="code hl_struct" href="structreq__info.html">req_info</a> info(g_ceph_context, &amp;env);</div>
<div class="line"><span class="lineno"> 4915</span>        info.method = <span class="stringliteral">&quot;GET&quot;</span>;</div>
<div class="line"><span class="lineno"> 4916</span>        info.request_uri = <span class="stringliteral">&quot;/admin/realm&quot;</span>;</div>
<div class="line"><span class="lineno"> 4917</span> </div>
<div class="line"><span class="lineno"> 4918</span>        map&lt;string, string&gt; &amp;params = info.args.get_params();</div>
<div class="line"><span class="lineno"> 4919</span>        <span class="keywordflow">if</span> (!realm_id.empty())</div>
<div class="line"><span class="lineno"> 4920</span>          params[<span class="stringliteral">&quot;id&quot;</span>] = realm_id;</div>
<div class="line"><span class="lineno"> 4921</span>        <span class="keywordflow">if</span> (!realm_name.empty())</div>
<div class="line"><span class="lineno"> 4922</span>          params[<span class="stringliteral">&quot;name&quot;</span>] = realm_name;</div>
<div class="line"><span class="lineno"> 4923</span> </div>
<div class="line"><span class="lineno"> 4924</span>        bufferlist bl;</div>
<div class="line"><span class="lineno"> 4925</span>        JSONParser p;</div>
<div class="line"><span class="lineno"> 4926</span>        <span class="keywordtype">int</span> ret = <a class="code hl_function" href="rgw__admin_8cc.html#ab91eb7d099ca1e0e21208450550a3a1a">send_to_url</a>(url, opt_region, access_key, secret_key, info, bl, p);</div>
<div class="line"><span class="lineno"> 4927</span>        <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno"> 4928</span>          cerr &lt;&lt; <span class="stringliteral">&quot;request failed: &quot;</span> &lt;&lt; cpp_strerror(-ret) &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 4929</span>          <span class="keywordflow">if</span> (ret == -EACCES) {</div>
<div class="line"><span class="lineno"> 4930</span>            cerr &lt;&lt; <span class="stringliteral">&quot;If the realm has been changed on the master zone, the &quot;</span></div>
<div class="line"><span class="lineno"> 4931</span>                <span class="stringliteral">&quot;master zone&#39;s gateway may need to be restarted to recognize &quot;</span></div>
<div class="line"><span class="lineno"> 4932</span>                <span class="stringliteral">&quot;this user.&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 4933</span>          }</div>
<div class="line"><span class="lineno"> 4934</span>          <span class="keywordflow">return</span> -ret;</div>
<div class="line"><span class="lineno"> 4935</span>        }</div>
<div class="line"><span class="lineno"> 4936</span>        <a class="code hl_class" href="class_r_g_w_realm.html">RGWRealm</a> realm;</div>
<div class="line"><span class="lineno"> 4937</span>        realm.<a class="code hl_function" href="class_r_g_w_system_meta_obj.html#a23150c4c841a29335f5a93ede8f8ecb6">init</a>(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>(), g_ceph_context, <span class="keyword">static_cast&lt;</span><a class="code hl_class" href="classrgw_1_1sal_1_1_rados_store.html">rgw::sal::RadosStore</a>*<span class="keyword">&gt;</span>(<a class="code hl_variable" href="rgw__admin_8cc.html#a6fdb26d64b14d837b60e83a6ca3e2863">store</a>)-&gt;svc()-&gt;sysobj, null_yield, <span class="keyword">false</span>);</div>
<div class="line"><span class="lineno"> 4938</span>        <span class="keywordflow">try</span> {</div>
<div class="line"><span class="lineno"> 4939</span>          <a class="code hl_function" href="rgw__basic__types_8cc.html#a83dfe8268c0c76ff6ceaf083ad129d5c">decode_json_obj</a>(realm, &amp;p);</div>
<div class="line"><span class="lineno"> 4940</span>        } <span class="keywordflow">catch</span> (<span class="keyword">const</span> JSONDecoder::err&amp; e) {</div>
<div class="line"><span class="lineno"> 4941</span>          cerr &lt;&lt; <span class="stringliteral">&quot;failed to decode JSON response: &quot;</span> &lt;&lt; e.what() &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 4942</span>          <span class="keywordflow">return</span> EINVAL;</div>
<div class="line"><span class="lineno"> 4943</span>        }</div>
<div class="line"><span class="lineno"> 4944</span>        <a class="code hl_class" href="class_r_g_w_period.html">RGWPeriod</a> period;</div>
<div class="line"><span class="lineno"> 4945</span>        <span class="keyword">auto</span>&amp; current_period = realm.<a class="code hl_function" href="class_r_g_w_realm.html#a9ca0c2bccfc8424322b838456c610c63">get_current_period</a>();</div>
<div class="line"><span class="lineno"> 4946</span>        <span class="keywordflow">if</span> (!current_period.empty()) {</div>
<div class="line"><span class="lineno"> 4947</span>          <span class="comment">// pull the latest epoch of the realm&#39;s current period</span></div>
<div class="line"><span class="lineno"> 4948</span>          ret = <a class="code hl_function" href="rgw__admin_8cc.html#a693377846b7628a32c724cf0200e5a9e">do_period_pull</a>(<span class="keyword">nullptr</span>, url, opt_region,</div>
<div class="line"><span class="lineno"> 4949</span>                               access_key, secret_key,</div>
<div class="line"><span class="lineno"> 4950</span>                               realm_id, realm_name, current_period, <span class="stringliteral">&quot;&quot;</span>,</div>
<div class="line"><span class="lineno"> 4951</span>                               &amp;period);</div>
<div class="line"><span class="lineno"> 4952</span>          <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno"> 4953</span>            cerr &lt;&lt; <span class="stringliteral">&quot;could not fetch period &quot;</span> &lt;&lt; current_period &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 4954</span>            <span class="keywordflow">return</span> -ret;</div>
<div class="line"><span class="lineno"> 4955</span>          }</div>
<div class="line"><span class="lineno"> 4956</span>        }</div>
<div class="line"><span class="lineno"> 4957</span>        ret = realm.<a class="code hl_function" href="class_r_g_w_realm.html#a94df61b7090e87e6c429ba8817667e91">create</a>(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>(), null_yield, <span class="keyword">false</span>);</div>
<div class="line"><span class="lineno"> 4958</span>        <span class="keywordflow">if</span> (ret &lt; 0 &amp;&amp; ret != -EEXIST) {</div>
<div class="line"><span class="lineno"> 4959</span>          cerr &lt;&lt; <span class="stringliteral">&quot;Error storing realm &quot;</span> &lt;&lt; realm.<a class="code hl_function" href="class_r_g_w_system_meta_obj.html#ab885e5d275a5396cc473703ab55f50b1">get_id</a>() &lt;&lt; <span class="stringliteral">&quot;: &quot;</span></div>
<div class="line"><span class="lineno"> 4960</span>            &lt;&lt; cpp_strerror(ret) &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 4961</span>          <span class="keywordflow">return</span> -ret;</div>
<div class="line"><span class="lineno"> 4962</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (ret ==-EEXIST) {</div>
<div class="line"><span class="lineno"> 4963</span>      ret = realm.<a class="code hl_function" href="class_r_g_w_system_meta_obj.html#a46efaf2ad6f9749afa8e02054ac600e7">update</a>(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>(), null_yield);</div>
<div class="line"><span class="lineno"> 4964</span>      <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno"> 4965</span>        cerr &lt;&lt; <span class="stringliteral">&quot;Error storing realm &quot;</span> &lt;&lt; realm.<a class="code hl_function" href="class_r_g_w_system_meta_obj.html#ab885e5d275a5396cc473703ab55f50b1">get_id</a>() &lt;&lt; <span class="stringliteral">&quot;: &quot;</span></div>
<div class="line"><span class="lineno"> 4966</span>         &lt;&lt; cpp_strerror(ret) &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 4967</span>      }</div>
<div class="line"><span class="lineno"> 4968</span>    }</div>
<div class="line"><span class="lineno"> 4969</span> </div>
<div class="line"><span class="lineno"> 4970</span>        <span class="keywordflow">if</span> (set_default) {</div>
<div class="line"><span class="lineno"> 4971</span>          ret = realm.<a class="code hl_function" href="class_r_g_w_system_meta_obj.html#a9cd057bc60874d0ec66297afc202ce52">set_as_default</a>(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>(), null_yield);</div>
<div class="line"><span class="lineno"> 4972</span>          <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno"> 4973</span>            cerr &lt;&lt; <span class="stringliteral">&quot;failed to set realm &quot;</span> &lt;&lt; realm_name &lt;&lt; <span class="stringliteral">&quot; as default: &quot;</span> &lt;&lt; cpp_strerror(-ret) &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 4974</span>          }</div>
<div class="line"><span class="lineno"> 4975</span>        }</div>
<div class="line"><span class="lineno"> 4976</span> </div>
<div class="line"><span class="lineno"> 4977</span>        <a class="code hl_function" href="rgw__admin_8cc.html#ab596b9e1a1fc78e98a4d13a66578b658">encode_json</a>(<span class="stringliteral">&quot;realm&quot;</span>, realm, formatter.get());</div>
<div class="line"><span class="lineno"> 4978</span>        formatter-&gt;flush(cout);</div>
<div class="line"><span class="lineno"> 4979</span>      }</div>
<div class="line"><span class="lineno"> 4980</span>      <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 4981</span> </div>
<div class="line"><span class="lineno"> 4982</span>    <span class="keywordflow">case</span> OPT::ZONEGROUP_ADD:</div>
<div class="line"><span class="lineno"> 4983</span>      {</div>
<div class="line"><span class="lineno"> 4984</span>    <span class="keywordflow">if</span> (zonegroup_id.empty() &amp;&amp; zonegroup_name.empty()) {</div>
<div class="line"><span class="lineno"> 4985</span>      cerr &lt;&lt; <span class="stringliteral">&quot;no zonegroup name or id provided&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 4986</span>      <span class="keywordflow">return</span> EINVAL;</div>
<div class="line"><span class="lineno"> 4987</span>    }</div>
<div class="line"><span class="lineno"> 4988</span> </div>
<div class="line"><span class="lineno"> 4989</span>    <a class="code hl_struct" href="struct_r_g_w_zone_group.html">RGWZoneGroup</a> zonegroup(zonegroup_id,zonegroup_name);</div>
<div class="line"><span class="lineno"> 4990</span>    <span class="keywordtype">int</span> ret = zonegroup.init(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>(), g_ceph_context, <span class="keyword">static_cast&lt;</span><a class="code hl_class" href="classrgw_1_1sal_1_1_rados_store.html">rgw::sal::RadosStore</a>*<span class="keyword">&gt;</span>(<a class="code hl_variable" href="rgw__admin_8cc.html#a6fdb26d64b14d837b60e83a6ca3e2863">store</a>)-&gt;svc()-&gt;sysobj, null_yield);</div>
<div class="line"><span class="lineno"> 4991</span>    <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno"> 4992</span>      cerr &lt;&lt; <span class="stringliteral">&quot;failed to initialize zonegroup &quot;</span> &lt;&lt; zonegroup_name &lt;&lt; <span class="stringliteral">&quot; id &quot;</span> &lt;&lt; zonegroup_id &lt;&lt; <span class="stringliteral">&quot;: &quot;</span></div>
<div class="line"><span class="lineno"> 4993</span>           &lt;&lt; cpp_strerror(-ret) &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 4994</span>      <span class="keywordflow">return</span> -ret;</div>
<div class="line"><span class="lineno"> 4995</span>    }</div>
<div class="line"><span class="lineno"> 4996</span>    <a class="code hl_struct" href="struct_r_g_w_zone_params.html">RGWZoneParams</a> zone(zone_id, zone_name);</div>
<div class="line"><span class="lineno"> 4997</span>    ret = zone.init(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>(), g_ceph_context, <span class="keyword">static_cast&lt;</span><a class="code hl_class" href="classrgw_1_1sal_1_1_rados_store.html">rgw::sal::RadosStore</a>*<span class="keyword">&gt;</span>(<a class="code hl_variable" href="rgw__admin_8cc.html#a6fdb26d64b14d837b60e83a6ca3e2863">store</a>)-&gt;svc()-&gt;sysobj, null_yield);</div>
<div class="line"><span class="lineno"> 4998</span>    <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno"> 4999</span>      cerr &lt;&lt; <span class="stringliteral">&quot;unable to initialize zone: &quot;</span> &lt;&lt; cpp_strerror(-ret) &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 5000</span>      <span class="keywordflow">return</span> -ret;</div>
<div class="line"><span class="lineno"> 5001</span>    }</div>
<div class="line"><span class="lineno"> 5002</span>        <span class="keywordflow">if</span> (zone.realm_id != zonegroup.realm_id) {</div>
<div class="line"><span class="lineno"> 5003</span>          zone.realm_id = zonegroup.realm_id;</div>
<div class="line"><span class="lineno"> 5004</span>          ret = zone.update(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>(), null_yield);</div>
<div class="line"><span class="lineno"> 5005</span>          <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno"> 5006</span>            cerr &lt;&lt; <span class="stringliteral">&quot;failed to save zone info: &quot;</span> &lt;&lt; cpp_strerror(-ret) &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 5007</span>            <span class="keywordflow">return</span> -ret;</div>
<div class="line"><span class="lineno"> 5008</span>          }</div>
<div class="line"><span class="lineno"> 5009</span>        }</div>
<div class="line"><span class="lineno"> 5010</span> </div>
<div class="line"><span class="lineno"> 5011</span>        <span class="keywordtype">string</span> *ptier_type = (tier_type_specified ? &amp;tier_type : <span class="keyword">nullptr</span>);</div>
<div class="line"><span class="lineno"> 5012</span> </div>
<div class="line"><span class="lineno"> 5013</span>        <span class="keywordflow">for</span> (<span class="keyword">auto</span> a : tier_config_add) {</div>
<div class="line"><span class="lineno"> 5014</span>          <span class="keywordtype">int</span> <a class="code hl_variable" href="rgw__aio_8cc.html#ae38055824c6eac64615832ad9d888539">r</a> = zone.tier_config.set(a.first, a.second);</div>
<div class="line"><span class="lineno"> 5015</span>          <span class="keywordflow">if</span> (<a class="code hl_variable" href="rgw__aio_8cc.html#ae38055824c6eac64615832ad9d888539">r</a> &lt; 0) {</div>
<div class="line"><span class="lineno"> 5016</span>            cerr &lt;&lt; <span class="stringliteral">&quot;ERROR: failed to set configurable: &quot;</span> &lt;&lt; a &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 5017</span>            <span class="keywordflow">return</span> EINVAL;</div>
<div class="line"><span class="lineno"> 5018</span>          }</div>
<div class="line"><span class="lineno"> 5019</span>        }</div>
<div class="line"><span class="lineno"> 5020</span> </div>
<div class="line"><span class="lineno"> 5021</span>        <span class="keywordtype">bool</span> *psync_from_all = (sync_from_all_specified ? &amp;sync_from_all : <span class="keyword">nullptr</span>);</div>
<div class="line"><span class="lineno"> 5022</span>        <span class="keywordtype">string</span> *predirect_zone = (redirect_zone_set ? &amp;redirect_zone : <span class="keyword">nullptr</span>);</div>
<div class="line"><span class="lineno"> 5023</span> </div>
<div class="line"><span class="lineno"> 5024</span>        ret = zonegroup.add_zone(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>(), zone,</div>
<div class="line"><span class="lineno"> 5025</span>                                 (is_master_set ? &amp;is_master : NULL),</div>
<div class="line"><span class="lineno"> 5026</span>                                 (is_read_only_set ? &amp;read_only : NULL),</div>
<div class="line"><span class="lineno"> 5027</span>                                 endpoints, ptier_type,</div>
<div class="line"><span class="lineno"> 5028</span>                                 psync_from_all, sync_from, sync_from_rm,</div>
<div class="line"><span class="lineno"> 5029</span>                                 predirect_zone, bucket_index_max_shards,</div>
<div class="line"><span class="lineno"> 5030</span>                 static_cast&lt;<a class="code hl_namespace" href="namespacergw.html">rgw</a>::sal::RadosStore*&gt;(<a class="code hl_variable" href="rgw__admin_8cc.html#a6fdb26d64b14d837b60e83a6ca3e2863">store</a>)-&gt;svc()-&gt;sync_modules-&gt;get_manager(),</div>
<div class="line"><span class="lineno"> 5031</span>                 null_yield);</div>
<div class="line"><span class="lineno"> 5032</span>    <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno"> 5033</span>      cerr &lt;&lt; <span class="stringliteral">&quot;failed to add zone &quot;</span> &lt;&lt; zone_name &lt;&lt; <span class="stringliteral">&quot; to zonegroup &quot;</span> &lt;&lt; zonegroup.get_name() &lt;&lt; <span class="stringliteral">&quot;: &quot;</span></div>
<div class="line"><span class="lineno"> 5034</span>           &lt;&lt; cpp_strerror(-ret) &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 5035</span>      <span class="keywordflow">return</span> -ret;</div>
<div class="line"><span class="lineno"> 5036</span>    }</div>
<div class="line"><span class="lineno"> 5037</span> </div>
<div class="line"><span class="lineno"> 5038</span>        <a class="code hl_function" href="rgw__admin_8cc.html#ab596b9e1a1fc78e98a4d13a66578b658">encode_json</a>(<span class="stringliteral">&quot;zonegroup&quot;</span>, zonegroup, formatter.get());</div>
<div class="line"><span class="lineno"> 5039</span>        formatter-&gt;flush(cout);</div>
<div class="line"><span class="lineno"> 5040</span>      }</div>
<div class="line"><span class="lineno"> 5041</span>      <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 5042</span>    <span class="keywordflow">case</span> OPT::ZONEGROUP_CREATE:</div>
<div class="line"><span class="lineno"> 5043</span>      {</div>
<div class="line"><span class="lineno"> 5044</span>    <span class="keywordflow">if</span> (zonegroup_name.empty()) {</div>
<div class="line"><span class="lineno"> 5045</span>      cerr &lt;&lt; <span class="stringliteral">&quot;Missing zonegroup name&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 5046</span>      <span class="keywordflow">return</span> EINVAL;</div>
<div class="line"><span class="lineno"> 5047</span>    }</div>
<div class="line"><span class="lineno"> 5048</span>    <a class="code hl_class" href="class_r_g_w_realm.html">RGWRealm</a> realm(realm_id, realm_name);</div>
<div class="line"><span class="lineno"> 5049</span>    <span class="keywordtype">int</span> ret = realm.<a class="code hl_function" href="class_r_g_w_system_meta_obj.html#a23150c4c841a29335f5a93ede8f8ecb6">init</a>(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>(), g_ceph_context, <span class="keyword">static_cast&lt;</span><a class="code hl_class" href="classrgw_1_1sal_1_1_rados_store.html">rgw::sal::RadosStore</a>*<span class="keyword">&gt;</span>(<a class="code hl_variable" href="rgw__admin_8cc.html#a6fdb26d64b14d837b60e83a6ca3e2863">store</a>)-&gt;svc()-&gt;sysobj, null_yield);</div>
<div class="line"><span class="lineno"> 5050</span>    <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno"> 5051</span>      cerr &lt;&lt; <span class="stringliteral">&quot;failed to init realm: &quot;</span> &lt;&lt; cpp_strerror(-ret) &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 5052</span>      <span class="keywordflow">return</span> -ret;</div>
<div class="line"><span class="lineno"> 5053</span>    }</div>
<div class="line"><span class="lineno"> 5054</span> </div>
<div class="line"><span class="lineno"> 5055</span>    <a class="code hl_struct" href="struct_r_g_w_zone_group.html">RGWZoneGroup</a> zonegroup(zonegroup_name, is_master, g_ceph_context, <span class="keyword">static_cast&lt;</span><a class="code hl_class" href="classrgw_1_1sal_1_1_rados_store.html">rgw::sal::RadosStore</a>*<span class="keyword">&gt;</span>(<a class="code hl_variable" href="rgw__admin_8cc.html#a6fdb26d64b14d837b60e83a6ca3e2863">store</a>)-&gt;svc()-&gt;sysobj, realm.<a class="code hl_function" href="class_r_g_w_system_meta_obj.html#ab885e5d275a5396cc473703ab55f50b1">get_id</a>(), endpoints);</div>
<div class="line"><span class="lineno"> 5056</span>        zonegroup.api_name = (api_name.empty() ? zonegroup_name : api_name);</div>
<div class="line"><span class="lineno"> 5057</span>    ret = zonegroup.create(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>(), null_yield);</div>
<div class="line"><span class="lineno"> 5058</span>    <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno"> 5059</span>      cerr &lt;&lt; <span class="stringliteral">&quot;failed to create zonegroup &quot;</span> &lt;&lt; zonegroup_name &lt;&lt; <span class="stringliteral">&quot;: &quot;</span> &lt;&lt; cpp_strerror(-ret) &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 5060</span>      <span class="keywordflow">return</span> -ret;</div>
<div class="line"><span class="lineno"> 5061</span>    }</div>
<div class="line"><span class="lineno"> 5062</span> </div>
<div class="line"><span class="lineno"> 5063</span>        <span class="keywordflow">if</span> (set_default) {</div>
<div class="line"><span class="lineno"> 5064</span>          ret = zonegroup.set_as_default(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>(), null_yield);</div>
<div class="line"><span class="lineno"> 5065</span>          <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno"> 5066</span>            cerr &lt;&lt; <span class="stringliteral">&quot;failed to set zonegroup &quot;</span> &lt;&lt; zonegroup_name &lt;&lt; <span class="stringliteral">&quot; as default: &quot;</span> &lt;&lt; cpp_strerror(-ret) &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 5067</span>          }</div>
<div class="line"><span class="lineno"> 5068</span>        }</div>
<div class="line"><span class="lineno"> 5069</span> </div>
<div class="line"><span class="lineno"> 5070</span>    <a class="code hl_function" href="rgw__admin_8cc.html#ab596b9e1a1fc78e98a4d13a66578b658">encode_json</a>(<span class="stringliteral">&quot;zonegroup&quot;</span>, zonegroup, formatter.get());</div>
<div class="line"><span class="lineno"> 5071</span>    formatter-&gt;flush(cout);</div>
<div class="line"><span class="lineno"> 5072</span>      }</div>
<div class="line"><span class="lineno"> 5073</span>      <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 5074</span>    <span class="keywordflow">case</span> OPT::ZONEGROUP_DEFAULT:</div>
<div class="line"><span class="lineno"> 5075</span>      {</div>
<div class="line"><span class="lineno"> 5076</span>    <span class="keywordflow">if</span> (zonegroup_id.empty() &amp;&amp; zonegroup_name.empty()) {</div>
<div class="line"><span class="lineno"> 5077</span>      cerr &lt;&lt; <span class="stringliteral">&quot;no zonegroup name or id provided&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 5078</span>      <span class="keywordflow">return</span> EINVAL;</div>
<div class="line"><span class="lineno"> 5079</span>    }</div>
<div class="line"><span class="lineno"> 5080</span> </div>
<div class="line"><span class="lineno"> 5081</span>    <a class="code hl_struct" href="struct_r_g_w_zone_group.html">RGWZoneGroup</a> zonegroup(zonegroup_id, zonegroup_name);</div>
<div class="line"><span class="lineno"> 5082</span>    <span class="keywordtype">int</span> ret = zonegroup.init(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>(), g_ceph_context, <span class="keyword">static_cast&lt;</span><a class="code hl_class" href="classrgw_1_1sal_1_1_rados_store.html">rgw::sal::RadosStore</a>*<span class="keyword">&gt;</span>(<a class="code hl_variable" href="rgw__admin_8cc.html#a6fdb26d64b14d837b60e83a6ca3e2863">store</a>)-&gt;svc()-&gt;sysobj, null_yield);</div>
<div class="line"><span class="lineno"> 5083</span>    <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno"> 5084</span>      cerr &lt;&lt; <span class="stringliteral">&quot;failed to init zonegroup: &quot;</span> &lt;&lt; cpp_strerror(-ret) &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 5085</span>      <span class="keywordflow">return</span> -ret;</div>
<div class="line"><span class="lineno"> 5086</span>    }</div>
<div class="line"><span class="lineno"> 5087</span> </div>
<div class="line"><span class="lineno"> 5088</span>    ret = zonegroup.set_as_default(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>(), null_yield);</div>
<div class="line"><span class="lineno"> 5089</span>    <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno"> 5090</span>      cerr &lt;&lt; <span class="stringliteral">&quot;failed to set zonegroup as default: &quot;</span> &lt;&lt; cpp_strerror(-ret) &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 5091</span>      <span class="keywordflow">return</span> -ret;</div>
<div class="line"><span class="lineno"> 5092</span>    }</div>
<div class="line"><span class="lineno"> 5093</span>      }</div>
<div class="line"><span class="lineno"> 5094</span>      <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 5095</span>    <span class="keywordflow">case</span> OPT::ZONEGROUP_DELETE:</div>
<div class="line"><span class="lineno"> 5096</span>      {</div>
<div class="line"><span class="lineno"> 5097</span>    <span class="keywordflow">if</span> (<a class="code hl_function" href="rgw__admin_8cc.html#a7768f24487752988851b23b71c20024f">empty_opt</a>(opt_zonegroup_id) &amp;&amp; <a class="code hl_function" href="rgw__admin_8cc.html#a7768f24487752988851b23b71c20024f">empty_opt</a>(opt_zonegroup_name)) {</div>
<div class="line"><span class="lineno"> 5098</span>      cerr &lt;&lt; <span class="stringliteral">&quot;no zonegroup name or id provided&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 5099</span>      <span class="keywordflow">return</span> EINVAL;</div>
<div class="line"><span class="lineno"> 5100</span>    }</div>
<div class="line"><span class="lineno"> 5101</span>    <a class="code hl_struct" href="struct_r_g_w_zone_group.html">RGWZoneGroup</a> zonegroup(<a class="code hl_function" href="rgw__admin_8cc.html#a1a84845aea98042ae470c1245cadb7f9">safe_opt</a>(opt_zonegroup_id), <a class="code hl_function" href="rgw__admin_8cc.html#a1a84845aea98042ae470c1245cadb7f9">safe_opt</a>(opt_zonegroup_name));</div>
<div class="line"><span class="lineno"> 5102</span>    <span class="keywordtype">int</span> ret = zonegroup.init(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>(), g_ceph_context, <span class="keyword">static_cast&lt;</span><a class="code hl_class" href="classrgw_1_1sal_1_1_rados_store.html">rgw::sal::RadosStore</a>*<span class="keyword">&gt;</span>(<a class="code hl_variable" href="rgw__admin_8cc.html#a6fdb26d64b14d837b60e83a6ca3e2863">store</a>)-&gt;svc()-&gt;sysobj,</div>
<div class="line"><span class="lineno"> 5103</span>                 null_yield);</div>
<div class="line"><span class="lineno"> 5104</span>    <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno"> 5105</span>      cerr &lt;&lt; <span class="stringliteral">&quot;failed to init zonegroup: &quot;</span> &lt;&lt; cpp_strerror(-ret) &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 5106</span>      <span class="keywordflow">return</span> -ret;</div>
<div class="line"><span class="lineno"> 5107</span>    }</div>
<div class="line"><span class="lineno"> 5108</span>    ret = zonegroup.delete_obj(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>(), null_yield);</div>
<div class="line"><span class="lineno"> 5109</span>    <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno"> 5110</span>      cerr &lt;&lt; <span class="stringliteral">&quot;ERROR: couldn&#39;t delete zonegroup: &quot;</span> &lt;&lt; cpp_strerror(-ret) &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 5111</span>      <span class="keywordflow">return</span> -ret;</div>
<div class="line"><span class="lineno"> 5112</span>    }</div>
<div class="line"><span class="lineno"> 5113</span>      }</div>
<div class="line"><span class="lineno"> 5114</span>      <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 5115</span>    <span class="keywordflow">case</span> OPT::ZONEGROUP_GET:</div>
<div class="line"><span class="lineno"> 5116</span>      {</div>
<div class="line"><span class="lineno"> 5117</span>    <a class="code hl_struct" href="struct_r_g_w_zone_group.html">RGWZoneGroup</a> zonegroup(zonegroup_id, zonegroup_name);</div>
<div class="line"><span class="lineno"> 5118</span>    <span class="keywordtype">int</span> ret = zonegroup.init(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>(), g_ceph_context, <span class="keyword">static_cast&lt;</span><a class="code hl_class" href="classrgw_1_1sal_1_1_rados_store.html">rgw::sal::RadosStore</a>*<span class="keyword">&gt;</span>(<a class="code hl_variable" href="rgw__admin_8cc.html#a6fdb26d64b14d837b60e83a6ca3e2863">store</a>)-&gt;svc()-&gt;sysobj, null_yield);</div>
<div class="line"><span class="lineno"> 5119</span>    <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno"> 5120</span>      cerr &lt;&lt; <span class="stringliteral">&quot;failed to init zonegroup: &quot;</span> &lt;&lt; cpp_strerror(-ret) &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 5121</span>      <span class="keywordflow">return</span> -ret;</div>
<div class="line"><span class="lineno"> 5122</span>    }</div>
<div class="line"><span class="lineno"> 5123</span> </div>
<div class="line"><span class="lineno"> 5124</span>    <a class="code hl_function" href="rgw__admin_8cc.html#ab596b9e1a1fc78e98a4d13a66578b658">encode_json</a>(<span class="stringliteral">&quot;zonegroup&quot;</span>, zonegroup, formatter.get());</div>
<div class="line"><span class="lineno"> 5125</span>    formatter-&gt;flush(cout);</div>
<div class="line"><span class="lineno"> 5126</span>      }</div>
<div class="line"><span class="lineno"> 5127</span>      <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 5128</span>    <span class="keywordflow">case</span> OPT::ZONEGROUP_LIST:</div>
<div class="line"><span class="lineno"> 5129</span>      {</div>
<div class="line"><span class="lineno"> 5130</span>    <a class="code hl_struct" href="struct_r_g_w_zone_group.html">RGWZoneGroup</a> zonegroup;</div>
<div class="line"><span class="lineno"> 5131</span>    <span class="keywordtype">int</span> ret = zonegroup.<a class="code hl_function" href="class_r_g_w_system_meta_obj.html#a23150c4c841a29335f5a93ede8f8ecb6">init</a>(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>(), g_ceph_context, <span class="keyword">static_cast&lt;</span><a class="code hl_class" href="classrgw_1_1sal_1_1_rados_store.html">rgw::sal::RadosStore</a>*<span class="keyword">&gt;</span>(<a class="code hl_variable" href="rgw__admin_8cc.html#a6fdb26d64b14d837b60e83a6ca3e2863">store</a>)-&gt;svc()-&gt;sysobj,</div>
<div class="line"><span class="lineno"> 5132</span>                 null_yield, <span class="keyword">false</span>);</div>
<div class="line"><span class="lineno"> 5133</span>    <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno"> 5134</span>      cerr &lt;&lt; <span class="stringliteral">&quot;failed to init zonegroup: &quot;</span> &lt;&lt; cpp_strerror(-ret) &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 5135</span>      <span class="keywordflow">return</span> -ret;</div>
<div class="line"><span class="lineno"> 5136</span>    }</div>
<div class="line"><span class="lineno"> 5137</span> </div>
<div class="line"><span class="lineno"> 5138</span>    list&lt;string&gt; zonegroups;</div>
<div class="line"><span class="lineno"> 5139</span>    ret = <span class="keyword">static_cast&lt;</span><a class="code hl_class" href="classrgw_1_1sal_1_1_rados_store.html">rgw::sal::RadosStore</a>*<span class="keyword">&gt;</span>(<a class="code hl_variable" href="rgw__admin_8cc.html#a6fdb26d64b14d837b60e83a6ca3e2863">store</a>)-&gt;svc()-&gt;<a class="code hl_variable" href="classrgw_1_1sal_1_1_rados_store.html#a0a94e58a4595ab519b4c3f89d33419fe">zone</a>-&gt;list_zonegroups(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>(), zonegroups);</div>
<div class="line"><span class="lineno"> 5140</span>    <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno"> 5141</span>      cerr &lt;&lt; <span class="stringliteral">&quot;failed to list zonegroups: &quot;</span> &lt;&lt; cpp_strerror(-ret) &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 5142</span>      <span class="keywordflow">return</span> -ret;</div>
<div class="line"><span class="lineno"> 5143</span>    }</div>
<div class="line"><span class="lineno"> 5144</span>    <span class="keywordtype">string</span> default_zonegroup;</div>
<div class="line"><span class="lineno"> 5145</span>    ret = zonegroup.<a class="code hl_function" href="struct_r_g_w_zone_group.html#a1e5ebc12a1a4e2403c0b2983abfc9ed4">read_default_id</a>(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>(), default_zonegroup, null_yield);</div>
<div class="line"><span class="lineno"> 5146</span>    <span class="keywordflow">if</span> (ret &lt; 0 &amp;&amp; ret != -ENOENT) {</div>
<div class="line"><span class="lineno"> 5147</span>      cerr &lt;&lt; <span class="stringliteral">&quot;could not determine default zonegroup: &quot;</span> &lt;&lt; cpp_strerror(-ret) &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 5148</span>    }</div>
<div class="line"><span class="lineno"> 5149</span>    formatter-&gt;open_object_section(<span class="stringliteral">&quot;zonegroups_list&quot;</span>);</div>
<div class="line"><span class="lineno"> 5150</span>    <a class="code hl_function" href="rgw__admin_8cc.html#ab596b9e1a1fc78e98a4d13a66578b658">encode_json</a>(<span class="stringliteral">&quot;default_info&quot;</span>, default_zonegroup, formatter.get());</div>
<div class="line"><span class="lineno"> 5151</span>    <a class="code hl_function" href="rgw__admin_8cc.html#ab596b9e1a1fc78e98a4d13a66578b658">encode_json</a>(<span class="stringliteral">&quot;zonegroups&quot;</span>, zonegroups, formatter.get());</div>
<div class="line"><span class="lineno"> 5152</span>    formatter-&gt;close_section();</div>
<div class="line"><span class="lineno"> 5153</span>    formatter-&gt;flush(cout);</div>
<div class="line"><span class="lineno"> 5154</span>      }</div>
<div class="line"><span class="lineno"> 5155</span>      <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 5156</span>    <span class="keywordflow">case</span> OPT::ZONEGROUP_MODIFY:</div>
<div class="line"><span class="lineno"> 5157</span>      {</div>
<div class="line"><span class="lineno"> 5158</span>    <a class="code hl_struct" href="struct_r_g_w_zone_group.html">RGWZoneGroup</a> zonegroup(zonegroup_id, zonegroup_name);</div>
<div class="line"><span class="lineno"> 5159</span>    <span class="keywordtype">int</span> ret = zonegroup.<a class="code hl_function" href="class_r_g_w_system_meta_obj.html#a23150c4c841a29335f5a93ede8f8ecb6">init</a>(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>(), g_ceph_context, <span class="keyword">static_cast&lt;</span><a class="code hl_class" href="classrgw_1_1sal_1_1_rados_store.html">rgw::sal::RadosStore</a>*<span class="keyword">&gt;</span>(<a class="code hl_variable" href="rgw__admin_8cc.html#a6fdb26d64b14d837b60e83a6ca3e2863">store</a>)-&gt;svc()-&gt;sysobj, null_yield);</div>
<div class="line"><span class="lineno"> 5160</span>    <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno"> 5161</span>      cerr &lt;&lt; <span class="stringliteral">&quot;failed to init zonegroup: &quot;</span> &lt;&lt; cpp_strerror(-ret) &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 5162</span>      <span class="keywordflow">return</span> -ret;</div>
<div class="line"><span class="lineno"> 5163</span>    }</div>
<div class="line"><span class="lineno"> 5164</span> </div>
<div class="line"><span class="lineno"> 5165</span>        <span class="keywordtype">bool</span> need_update = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 5166</span> </div>
<div class="line"><span class="lineno"> 5167</span>        <span class="keywordflow">if</span> (!master_zone.empty()) {</div>
<div class="line"><span class="lineno"> 5168</span>          zonegroup.<a class="code hl_variable" href="struct_r_g_w_zone_group.html#a108e6398565c872ff53e39d9eab78988">master_zone</a> = master_zone;</div>
<div class="line"><span class="lineno"> 5169</span>          need_update = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 5170</span>        }</div>
<div class="line"><span class="lineno"> 5171</span> </div>
<div class="line"><span class="lineno"> 5172</span>    <span class="keywordflow">if</span> (is_master_set) {</div>
<div class="line"><span class="lineno"> 5173</span>      zonegroup.<a class="code hl_function" href="struct_r_g_w_zone_group.html#ab1ad8d122bba341c6cdbf9f89d2d2c29">update_master</a>(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>(), is_master, null_yield);</div>
<div class="line"><span class="lineno"> 5174</span>          need_update = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 5175</span>        }</div>
<div class="line"><span class="lineno"> 5176</span> </div>
<div class="line"><span class="lineno"> 5177</span>        <span class="keywordflow">if</span> (!endpoints.empty()) {</div>
<div class="line"><span class="lineno"> 5178</span>          zonegroup.<a class="code hl_variable" href="struct_r_g_w_zone_group.html#ab0ccf593fd4c0996c426f5c3ffad5afd">endpoints</a> = endpoints;</div>
<div class="line"><span class="lineno"> 5179</span>          need_update = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 5180</span>        }</div>
<div class="line"><span class="lineno"> 5181</span> </div>
<div class="line"><span class="lineno"> 5182</span>        <span class="keywordflow">if</span> (!api_name.empty()) {</div>
<div class="line"><span class="lineno"> 5183</span>          zonegroup.<a class="code hl_variable" href="struct_r_g_w_zone_group.html#a479ec66f60d809ad72f2b686b3f6543b">api_name</a> = api_name;</div>
<div class="line"><span class="lineno"> 5184</span>          need_update = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 5185</span>        }</div>
<div class="line"><span class="lineno"> 5186</span> </div>
<div class="line"><span class="lineno"> 5187</span>        <span class="keywordflow">if</span> (!realm_id.empty()) {</div>
<div class="line"><span class="lineno"> 5188</span>          zonegroup.<a class="code hl_variable" href="struct_r_g_w_zone_group.html#af6d3161acb453e11bca21eb9a36a3b9d">realm_id</a> = realm_id;</div>
<div class="line"><span class="lineno"> 5189</span>          need_update = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 5190</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!realm_name.empty()) {</div>
<div class="line"><span class="lineno"> 5191</span>          <span class="comment">// get realm id from name</span></div>
<div class="line"><span class="lineno"> 5192</span>          <a class="code hl_class" href="class_r_g_w_realm.html">RGWRealm</a> realm{g_ceph_context, <span class="keyword">static_cast&lt;</span><a class="code hl_class" href="classrgw_1_1sal_1_1_rados_store.html">rgw::sal::RadosStore</a>*<span class="keyword">&gt;</span>(<a class="code hl_variable" href="rgw__admin_8cc.html#a6fdb26d64b14d837b60e83a6ca3e2863">store</a>)-&gt;svc()-&gt;sysobj};</div>
<div class="line"><span class="lineno"> 5193</span>          ret = realm.<a class="code hl_function" href="class_r_g_w_realm.html#ab3b9b6a166d26f18f7aab617d35d57cd">read_id</a>(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>(), realm_name, zonegroup.<a class="code hl_variable" href="struct_r_g_w_zone_group.html#af6d3161acb453e11bca21eb9a36a3b9d">realm_id</a>, null_yield);</div>
<div class="line"><span class="lineno"> 5194</span>          <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno"> 5195</span>            cerr &lt;&lt; <span class="stringliteral">&quot;failed to find realm by name &quot;</span> &lt;&lt; realm_name &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 5196</span>            <span class="keywordflow">return</span> -ret;</div>
<div class="line"><span class="lineno"> 5197</span>          }</div>
<div class="line"><span class="lineno"> 5198</span>          need_update = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 5199</span>        }</div>
<div class="line"><span class="lineno"> 5200</span> </div>
<div class="line"><span class="lineno"> 5201</span>        <span class="keywordflow">if</span> (bucket_index_max_shards) {</div>
<div class="line"><span class="lineno"> 5202</span>          <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp; [name, zone] : zonegroup.zones) {</div>
<div class="line"><span class="lineno"> 5203</span>            zone.bucket_index_max_shards = *bucket_index_max_shards;</div>
<div class="line"><span class="lineno"> 5204</span>          }</div>
<div class="line"><span class="lineno"> 5205</span>          need_update = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 5206</span>        }</div>
<div class="line"><span class="lineno"> 5207</span> </div>
<div class="line"><span class="lineno"> 5208</span>        <span class="keywordflow">if</span> (need_update) {</div>
<div class="line"><span class="lineno"> 5209</span>      ret = zonegroup.<a class="code hl_function" href="class_r_g_w_system_meta_obj.html#a46efaf2ad6f9749afa8e02054ac600e7">update</a>(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>(), null_yield);</div>
<div class="line"><span class="lineno"> 5210</span>      <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno"> 5211</span>        cerr &lt;&lt; <span class="stringliteral">&quot;failed to update zonegroup: &quot;</span> &lt;&lt; cpp_strerror(-ret) &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 5212</span>        <span class="keywordflow">return</span> -ret;</div>
<div class="line"><span class="lineno"> 5213</span>      }</div>
<div class="line"><span class="lineno"> 5214</span>    }</div>
<div class="line"><span class="lineno"> 5215</span> </div>
<div class="line"><span class="lineno"> 5216</span>        <span class="keywordflow">if</span> (set_default) {</div>
<div class="line"><span class="lineno"> 5217</span>          ret = zonegroup.<a class="code hl_function" href="struct_r_g_w_zone_group.html#a2a813fd7041d774595576f9221315c7f">set_as_default</a>(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>(), null_yield);</div>
<div class="line"><span class="lineno"> 5218</span>          <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno"> 5219</span>            cerr &lt;&lt; <span class="stringliteral">&quot;failed to set zonegroup &quot;</span> &lt;&lt; zonegroup_name &lt;&lt; <span class="stringliteral">&quot; as default: &quot;</span> &lt;&lt; cpp_strerror(-ret) &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 5220</span>          }</div>
<div class="line"><span class="lineno"> 5221</span>        }</div>
<div class="line"><span class="lineno"> 5222</span> </div>
<div class="line"><span class="lineno"> 5223</span>        <a class="code hl_function" href="rgw__admin_8cc.html#ab596b9e1a1fc78e98a4d13a66578b658">encode_json</a>(<span class="stringliteral">&quot;zonegroup&quot;</span>, zonegroup, formatter.get());</div>
<div class="line"><span class="lineno"> 5224</span>        formatter-&gt;flush(cout);</div>
<div class="line"><span class="lineno"> 5225</span>      }</div>
<div class="line"><span class="lineno"> 5226</span>      <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 5227</span>    <span class="keywordflow">case</span> OPT::ZONEGROUP_SET:</div>
<div class="line"><span class="lineno"> 5228</span>      {</div>
<div class="line"><span class="lineno"> 5229</span>    <a class="code hl_class" href="class_r_g_w_realm.html">RGWRealm</a> realm(realm_id, realm_name);</div>
<div class="line"><span class="lineno"> 5230</span>    <span class="keywordtype">int</span> ret = realm.<a class="code hl_function" href="class_r_g_w_system_meta_obj.html#a23150c4c841a29335f5a93ede8f8ecb6">init</a>(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>(), g_ceph_context, <span class="keyword">static_cast&lt;</span><a class="code hl_class" href="classrgw_1_1sal_1_1_rados_store.html">rgw::sal::RadosStore</a>*<span class="keyword">&gt;</span>(<a class="code hl_variable" href="rgw__admin_8cc.html#a6fdb26d64b14d837b60e83a6ca3e2863">store</a>)-&gt;svc()-&gt;sysobj, null_yield);</div>
<div class="line"><span class="lineno"> 5231</span>    <span class="keywordtype">bool</span> default_realm_not_exist = (ret == -ENOENT &amp;&amp; realm_id.empty() &amp;&amp; realm_name.empty());</div>
<div class="line"><span class="lineno"> 5232</span> </div>
<div class="line"><span class="lineno"> 5233</span>    <span class="keywordflow">if</span> (ret &lt; 0 &amp;&amp; !default_realm_not_exist ) {</div>
<div class="line"><span class="lineno"> 5234</span>      cerr &lt;&lt; <span class="stringliteral">&quot;failed to init realm: &quot;</span> &lt;&lt; cpp_strerror(-ret) &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 5235</span>      <span class="keywordflow">return</span> -ret;</div>
<div class="line"><span class="lineno"> 5236</span>    }</div>
<div class="line"><span class="lineno"> 5237</span> </div>
<div class="line"><span class="lineno"> 5238</span>    <a class="code hl_struct" href="struct_r_g_w_zone_group.html">RGWZoneGroup</a> zonegroup;</div>
<div class="line"><span class="lineno"> 5239</span>    ret = zonegroup.<a class="code hl_function" href="class_r_g_w_system_meta_obj.html#a23150c4c841a29335f5a93ede8f8ecb6">init</a>(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>(), g_ceph_context, <span class="keyword">static_cast&lt;</span><a class="code hl_class" href="classrgw_1_1sal_1_1_rados_store.html">rgw::sal::RadosStore</a>*<span class="keyword">&gt;</span>(<a class="code hl_variable" href="rgw__admin_8cc.html#a6fdb26d64b14d837b60e83a6ca3e2863">store</a>)-&gt;svc()-&gt;sysobj,</div>
<div class="line"><span class="lineno"> 5240</span>                 null_yield, <span class="keyword">false</span>);</div>
<div class="line"><span class="lineno"> 5241</span>    <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno"> 5242</span>      cerr &lt;&lt; <span class="stringliteral">&quot;failed to init zonegroup: &quot;</span> &lt;&lt; cpp_strerror(-ret) &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 5243</span>      <span class="keywordflow">return</span> -ret;</div>
<div class="line"><span class="lineno"> 5244</span>    }</div>
<div class="line"><span class="lineno"> 5245</span>    ret = <a class="code hl_function" href="rgw__admin_8cc.html#a33c98984a0812f3128d874042ee17c68">read_decode_json</a>(infile, zonegroup);</div>
<div class="line"><span class="lineno"> 5246</span>    <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno"> 5247</span>      <span class="keywordflow">return</span> 1;</div>
<div class="line"><span class="lineno"> 5248</span>    }</div>
<div class="line"><span class="lineno"> 5249</span>    <span class="keywordflow">if</span> (zonegroup.<a class="code hl_variable" href="struct_r_g_w_zone_group.html#af6d3161acb453e11bca21eb9a36a3b9d">realm_id</a>.empty() &amp;&amp; !default_realm_not_exist) {</div>
<div class="line"><span class="lineno"> 5250</span>      zonegroup.<a class="code hl_variable" href="struct_r_g_w_zone_group.html#af6d3161acb453e11bca21eb9a36a3b9d">realm_id</a> = realm.<a class="code hl_function" href="class_r_g_w_system_meta_obj.html#ab885e5d275a5396cc473703ab55f50b1">get_id</a>();</div>
<div class="line"><span class="lineno"> 5251</span>    }</div>
<div class="line"><span class="lineno"> 5252</span>    ret = zonegroup.<a class="code hl_function" href="class_r_g_w_system_meta_obj.html#af793223c08439ee871d2b2076ab72e6e">create</a>(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>(), null_yield);</div>
<div class="line"><span class="lineno"> 5253</span>    <span class="keywordflow">if</span> (ret &lt; 0 &amp;&amp; ret != -EEXIST) {</div>
<div class="line"><span class="lineno"> 5254</span>      cerr &lt;&lt; <span class="stringliteral">&quot;ERROR: couldn&#39;t create zonegroup info: &quot;</span> &lt;&lt; cpp_strerror(-ret) &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 5255</span>      <span class="keywordflow">return</span> 1;</div>
<div class="line"><span class="lineno"> 5256</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (ret == -EEXIST) {</div>
<div class="line"><span class="lineno"> 5257</span>      ret = zonegroup.<a class="code hl_function" href="class_r_g_w_system_meta_obj.html#a46efaf2ad6f9749afa8e02054ac600e7">update</a>(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>(), null_yield);</div>
<div class="line"><span class="lineno"> 5258</span>      <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno"> 5259</span>        cerr &lt;&lt; <span class="stringliteral">&quot;ERROR: couldn&#39;t store zonegroup info: &quot;</span> &lt;&lt; cpp_strerror(-ret) &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 5260</span>        <span class="keywordflow">return</span> 1;</div>
<div class="line"><span class="lineno"> 5261</span>      }</div>
<div class="line"><span class="lineno"> 5262</span>    }</div>
<div class="line"><span class="lineno"> 5263</span> </div>
<div class="line"><span class="lineno"> 5264</span>        <span class="keywordflow">if</span> (set_default) {</div>
<div class="line"><span class="lineno"> 5265</span>          ret = zonegroup.<a class="code hl_function" href="struct_r_g_w_zone_group.html#a2a813fd7041d774595576f9221315c7f">set_as_default</a>(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>(), null_yield);</div>
<div class="line"><span class="lineno"> 5266</span>          <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno"> 5267</span>            cerr &lt;&lt; <span class="stringliteral">&quot;failed to set zonegroup &quot;</span> &lt;&lt; zonegroup_name &lt;&lt; <span class="stringliteral">&quot; as default: &quot;</span> &lt;&lt; cpp_strerror(-ret) &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 5268</span>          }</div>
<div class="line"><span class="lineno"> 5269</span>        }</div>
<div class="line"><span class="lineno"> 5270</span> </div>
<div class="line"><span class="lineno"> 5271</span>    <a class="code hl_function" href="rgw__admin_8cc.html#ab596b9e1a1fc78e98a4d13a66578b658">encode_json</a>(<span class="stringliteral">&quot;zonegroup&quot;</span>, zonegroup, formatter.get());</div>
<div class="line"><span class="lineno"> 5272</span>    formatter-&gt;flush(cout);</div>
<div class="line"><span class="lineno"> 5273</span>      }</div>
<div class="line"><span class="lineno"> 5274</span>      <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 5275</span>    <span class="keywordflow">case</span> OPT::ZONEGROUP_REMOVE:</div>
<div class="line"><span class="lineno"> 5276</span>      {</div>
<div class="line"><span class="lineno"> 5277</span>        <a class="code hl_struct" href="struct_r_g_w_zone_group.html">RGWZoneGroup</a> zonegroup(zonegroup_id, zonegroup_name);</div>
<div class="line"><span class="lineno"> 5278</span>        <span class="keywordtype">int</span> ret = zonegroup.<a class="code hl_function" href="class_r_g_w_system_meta_obj.html#a23150c4c841a29335f5a93ede8f8ecb6">init</a>(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>(), g_ceph_context, <span class="keyword">static_cast&lt;</span><a class="code hl_class" href="classrgw_1_1sal_1_1_rados_store.html">rgw::sal::RadosStore</a>*<span class="keyword">&gt;</span>(<a class="code hl_variable" href="rgw__admin_8cc.html#a6fdb26d64b14d837b60e83a6ca3e2863">store</a>)-&gt;svc()-&gt;sysobj, null_yield);</div>
<div class="line"><span class="lineno"> 5279</span>        <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno"> 5280</span>          cerr &lt;&lt; <span class="stringliteral">&quot;failed to init zonegroup: &quot;</span> &lt;&lt; cpp_strerror(-ret) &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 5281</span>          <span class="keywordflow">return</span> -ret;</div>
<div class="line"><span class="lineno"> 5282</span>        }</div>
<div class="line"><span class="lineno"> 5283</span> </div>
<div class="line"><span class="lineno"> 5284</span>        <span class="keywordflow">if</span> (zone_id.empty()) {</div>
<div class="line"><span class="lineno"> 5285</span>          <span class="keywordflow">if</span> (zone_name.empty()) {</div>
<div class="line"><span class="lineno"> 5286</span>            cerr &lt;&lt; <span class="stringliteral">&quot;no --zone-id or --rgw-zone name provided&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 5287</span>            <span class="keywordflow">return</span> EINVAL;</div>
<div class="line"><span class="lineno"> 5288</span>          }</div>
<div class="line"><span class="lineno"> 5289</span>          <span class="comment">// look up zone id by name</span></div>
<div class="line"><span class="lineno"> 5290</span>          <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp; z : zonegroup.zones) {</div>
<div class="line"><span class="lineno"> 5291</span>            <span class="keywordflow">if</span> (zone_name == z.second.name) {</div>
<div class="line"><span class="lineno"> 5292</span>              zone_id = z.second.id;</div>
<div class="line"><span class="lineno"> 5293</span>              <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 5294</span>            }</div>
<div class="line"><span class="lineno"> 5295</span>          }</div>
<div class="line"><span class="lineno"> 5296</span>          <span class="keywordflow">if</span> (zone_id.empty()) {</div>
<div class="line"><span class="lineno"> 5297</span>            cerr &lt;&lt; <span class="stringliteral">&quot;zone name &quot;</span> &lt;&lt; zone_name &lt;&lt; <span class="stringliteral">&quot; not found in zonegroup &quot;</span></div>
<div class="line"><span class="lineno"> 5298</span>                &lt;&lt; zonegroup.<a class="code hl_function" href="class_r_g_w_system_meta_obj.html#a333abaa7960a2c63b4341d5f9ec500bf">get_name</a>() &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 5299</span>            <span class="keywordflow">return</span> ENOENT;</div>
<div class="line"><span class="lineno"> 5300</span>          }</div>
<div class="line"><span class="lineno"> 5301</span>        }</div>
<div class="line"><span class="lineno"> 5302</span> </div>
<div class="line"><span class="lineno"> 5303</span>        ret = zonegroup.<a class="code hl_function" href="struct_r_g_w_zone_group.html#a906a88c47910e467ca19aba0c97c0cb2">remove_zone</a>(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>(), zone_id, null_yield);</div>
<div class="line"><span class="lineno"> 5304</span>        <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno"> 5305</span>          cerr &lt;&lt; <span class="stringliteral">&quot;failed to remove zone: &quot;</span> &lt;&lt; cpp_strerror(-ret) &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 5306</span>          <span class="keywordflow">return</span> -ret;</div>
<div class="line"><span class="lineno"> 5307</span>        }</div>
<div class="line"><span class="lineno"> 5308</span> </div>
<div class="line"><span class="lineno"> 5309</span>        <a class="code hl_function" href="rgw__admin_8cc.html#ab596b9e1a1fc78e98a4d13a66578b658">encode_json</a>(<span class="stringliteral">&quot;zonegroup&quot;</span>, zonegroup, formatter.get());</div>
<div class="line"><span class="lineno"> 5310</span>        formatter-&gt;flush(cout);</div>
<div class="line"><span class="lineno"> 5311</span>      }</div>
<div class="line"><span class="lineno"> 5312</span>      <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 5313</span>    <span class="keywordflow">case</span> OPT::ZONEGROUP_RENAME:</div>
<div class="line"><span class="lineno"> 5314</span>      {</div>
<div class="line"><span class="lineno"> 5315</span>    <span class="keywordflow">if</span> (zonegroup_new_name.empty()) {</div>
<div class="line"><span class="lineno"> 5316</span>      cerr &lt;&lt; <span class="stringliteral">&quot; missing zonegroup new name&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 5317</span>      <span class="keywordflow">return</span> EINVAL;</div>
<div class="line"><span class="lineno"> 5318</span>    }</div>
<div class="line"><span class="lineno"> 5319</span>    <span class="keywordflow">if</span> (zonegroup_id.empty() &amp;&amp; zonegroup_name.empty()) {</div>
<div class="line"><span class="lineno"> 5320</span>      cerr &lt;&lt; <span class="stringliteral">&quot;no zonegroup name or id provided&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 5321</span>      <span class="keywordflow">return</span> EINVAL;</div>
<div class="line"><span class="lineno"> 5322</span>    }</div>
<div class="line"><span class="lineno"> 5323</span>    <a class="code hl_struct" href="struct_r_g_w_zone_group.html">RGWZoneGroup</a> zonegroup(zonegroup_id, zonegroup_name);</div>
<div class="line"><span class="lineno"> 5324</span>    <span class="keywordtype">int</span> ret = zonegroup.<a class="code hl_function" href="class_r_g_w_system_meta_obj.html#a23150c4c841a29335f5a93ede8f8ecb6">init</a>(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>(), g_ceph_context, <span class="keyword">static_cast&lt;</span><a class="code hl_class" href="classrgw_1_1sal_1_1_rados_store.html">rgw::sal::RadosStore</a>*<span class="keyword">&gt;</span>(<a class="code hl_variable" href="rgw__admin_8cc.html#a6fdb26d64b14d837b60e83a6ca3e2863">store</a>)-&gt;svc()-&gt;sysobj, null_yield);</div>
<div class="line"><span class="lineno"> 5325</span>    <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno"> 5326</span>      cerr &lt;&lt; <span class="stringliteral">&quot;failed to init zonegroup: &quot;</span> &lt;&lt; cpp_strerror(-ret) &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 5327</span>      <span class="keywordflow">return</span> -ret;</div>
<div class="line"><span class="lineno"> 5328</span>    }</div>
<div class="line"><span class="lineno"> 5329</span>    ret = zonegroup.<a class="code hl_function" href="class_r_g_w_system_meta_obj.html#a6f88d8c7748b20ddcfbbdf27ca10802b">rename</a>(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>(), zonegroup_new_name, null_yield);</div>
<div class="line"><span class="lineno"> 5330</span>    <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno"> 5331</span>      cerr &lt;&lt; <span class="stringliteral">&quot;failed to rename zonegroup: &quot;</span> &lt;&lt; cpp_strerror(-ret) &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 5332</span>      <span class="keywordflow">return</span> -ret;</div>
<div class="line"><span class="lineno"> 5333</span>    }</div>
<div class="line"><span class="lineno"> 5334</span>      }</div>
<div class="line"><span class="lineno"> 5335</span>      <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 5336</span>    <span class="keywordflow">case</span> OPT::ZONEGROUP_PLACEMENT_LIST:</div>
<div class="line"><span class="lineno"> 5337</span>      {</div>
<div class="line"><span class="lineno"> 5338</span>    <a class="code hl_struct" href="struct_r_g_w_zone_group.html">RGWZoneGroup</a> zonegroup(zonegroup_id, zonegroup_name);</div>
<div class="line"><span class="lineno"> 5339</span>    <span class="keywordtype">int</span> ret = zonegroup.<a class="code hl_function" href="class_r_g_w_system_meta_obj.html#a23150c4c841a29335f5a93ede8f8ecb6">init</a>(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>(), g_ceph_context, <span class="keyword">static_cast&lt;</span><a class="code hl_class" href="classrgw_1_1sal_1_1_rados_store.html">rgw::sal::RadosStore</a>*<span class="keyword">&gt;</span>(<a class="code hl_variable" href="rgw__admin_8cc.html#a6fdb26d64b14d837b60e83a6ca3e2863">store</a>)-&gt;svc()-&gt;sysobj,</div>
<div class="line"><span class="lineno"> 5340</span>                 null_yield);</div>
<div class="line"><span class="lineno"> 5341</span>    <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno"> 5342</span>      cerr &lt;&lt; <span class="stringliteral">&quot;failed to init zonegroup: &quot;</span> &lt;&lt; cpp_strerror(-ret) &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 5343</span>      <span class="keywordflow">return</span> -ret;</div>
<div class="line"><span class="lineno"> 5344</span>    }</div>
<div class="line"><span class="lineno"> 5345</span> </div>
<div class="line"><span class="lineno"> 5346</span>    <a class="code hl_function" href="rgw__admin_8cc.html#ab596b9e1a1fc78e98a4d13a66578b658">encode_json</a>(<span class="stringliteral">&quot;placement_targets&quot;</span>, zonegroup.<a class="code hl_variable" href="struct_r_g_w_zone_group.html#aa90bd8c3e48f6c8ec8c1224f25ed0c13">placement_targets</a>, formatter.get());</div>
<div class="line"><span class="lineno"> 5347</span>    formatter-&gt;flush(cout);</div>
<div class="line"><span class="lineno"> 5348</span>      }</div>
<div class="line"><span class="lineno"> 5349</span>      <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 5350</span>    <span class="keywordflow">case</span> OPT::ZONEGROUP_PLACEMENT_GET:</div>
<div class="line"><span class="lineno"> 5351</span>      {</div>
<div class="line"><span class="lineno"> 5352</span>    <span class="keywordflow">if</span> (placement_id.empty()) {</div>
<div class="line"><span class="lineno"> 5353</span>      cerr &lt;&lt; <span class="stringliteral">&quot;ERROR: --placement-id not specified&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 5354</span>      <span class="keywordflow">return</span> EINVAL;</div>
<div class="line"><span class="lineno"> 5355</span>    }</div>
<div class="line"><span class="lineno"> 5356</span> </div>
<div class="line"><span class="lineno"> 5357</span>    <a class="code hl_struct" href="struct_r_g_w_zone_group.html">RGWZoneGroup</a> zonegroup(zonegroup_id, zonegroup_name);</div>
<div class="line"><span class="lineno"> 5358</span>    <span class="keywordtype">int</span> ret = zonegroup.<a class="code hl_function" href="class_r_g_w_system_meta_obj.html#a23150c4c841a29335f5a93ede8f8ecb6">init</a>(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>(), g_ceph_context, <span class="keyword">static_cast&lt;</span><a class="code hl_class" href="classrgw_1_1sal_1_1_rados_store.html">rgw::sal::RadosStore</a>*<span class="keyword">&gt;</span>(<a class="code hl_variable" href="rgw__admin_8cc.html#a6fdb26d64b14d837b60e83a6ca3e2863">store</a>)-&gt;svc()-&gt;sysobj, null_yield);</div>
<div class="line"><span class="lineno"> 5359</span>    <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno"> 5360</span>      cerr &lt;&lt; <span class="stringliteral">&quot;failed to init zonegroup: &quot;</span> &lt;&lt; cpp_strerror(-ret) &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 5361</span>      <span class="keywordflow">return</span> -ret;</div>
<div class="line"><span class="lineno"> 5362</span>    }</div>
<div class="line"><span class="lineno"> 5363</span> </div>
<div class="line"><span class="lineno"> 5364</span>    <span class="keyword">auto</span> p = zonegroup.<a class="code hl_variable" href="struct_r_g_w_zone_group.html#aa90bd8c3e48f6c8ec8c1224f25ed0c13">placement_targets</a>.find(placement_id);</div>
<div class="line"><span class="lineno"> 5365</span>    <span class="keywordflow">if</span> (p == zonegroup.<a class="code hl_variable" href="struct_r_g_w_zone_group.html#aa90bd8c3e48f6c8ec8c1224f25ed0c13">placement_targets</a>.end()) {</div>
<div class="line"><span class="lineno"> 5366</span>      cerr &lt;&lt; <span class="stringliteral">&quot;failed to find a zonegroup placement target named &#39;&quot;</span> &lt;&lt; placement_id &lt;&lt; <span class="stringliteral">&quot;&#39;&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 5367</span>      <span class="keywordflow">return</span> -ENOENT;</div>
<div class="line"><span class="lineno"> 5368</span>    }</div>
<div class="line"><span class="lineno"> 5369</span>    <a class="code hl_function" href="rgw__admin_8cc.html#ab596b9e1a1fc78e98a4d13a66578b658">encode_json</a>(<span class="stringliteral">&quot;placement_targets&quot;</span>, p-&gt;second, formatter.get());</div>
<div class="line"><span class="lineno"> 5370</span>    formatter-&gt;flush(cout);</div>
<div class="line"><span class="lineno"> 5371</span>      }</div>
<div class="line"><span class="lineno"> 5372</span>      <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 5373</span>    <span class="keywordflow">case</span> OPT::ZONEGROUP_PLACEMENT_ADD:</div>
<div class="line"><span class="lineno"> 5374</span>    <span class="keywordflow">case</span> OPT::ZONEGROUP_PLACEMENT_MODIFY:</div>
<div class="line"><span class="lineno"> 5375</span>    <span class="keywordflow">case</span> OPT::ZONEGROUP_PLACEMENT_RM:</div>
<div class="line"><span class="lineno"> 5376</span>    <span class="keywordflow">case</span> OPT::ZONEGROUP_PLACEMENT_DEFAULT:</div>
<div class="line"><span class="lineno"> 5377</span>      {</div>
<div class="line"><span class="lineno"> 5378</span>    <span class="keywordflow">if</span> (placement_id.empty()) {</div>
<div class="line"><span class="lineno"> 5379</span>      cerr &lt;&lt; <span class="stringliteral">&quot;ERROR: --placement-id not specified&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 5380</span>      <span class="keywordflow">return</span> EINVAL;</div>
<div class="line"><span class="lineno"> 5381</span>    }</div>
<div class="line"><span class="lineno"> 5382</span> </div>
<div class="line"><span class="lineno"> 5383</span>    <a class="code hl_struct" href="structrgw__placement__rule.html">rgw_placement_rule</a> rule;</div>
<div class="line"><span class="lineno"> 5384</span>    rule.<a class="code hl_function" href="structrgw__placement__rule.html#ab8f43c24be065225c6274437bc679442">from_str</a>(placement_id);</div>
<div class="line"><span class="lineno"> 5385</span> </div>
<div class="line"><span class="lineno"> 5386</span>    <span class="keywordflow">if</span> (!rule.<a class="code hl_variable" href="structrgw__placement__rule.html#a43e8f586d87191d507d4960dfa1a94c9">storage_class</a>.empty() &amp;&amp; opt_storage_class &amp;&amp;</div>
<div class="line"><span class="lineno"> 5387</span>        rule.<a class="code hl_variable" href="structrgw__placement__rule.html#a43e8f586d87191d507d4960dfa1a94c9">storage_class</a> != *opt_storage_class) {</div>
<div class="line"><span class="lineno"> 5388</span>      cerr &lt;&lt; <span class="stringliteral">&quot;ERROR: provided contradicting storage class configuration&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 5389</span>      <span class="keywordflow">return</span> EINVAL;</div>
<div class="line"><span class="lineno"> 5390</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (rule.<a class="code hl_variable" href="structrgw__placement__rule.html#a43e8f586d87191d507d4960dfa1a94c9">storage_class</a>.empty()) {</div>
<div class="line"><span class="lineno"> 5391</span>      rule.<a class="code hl_variable" href="structrgw__placement__rule.html#a43e8f586d87191d507d4960dfa1a94c9">storage_class</a> = opt_storage_class.value_or(<span class="keywordtype">string</span>());</div>
<div class="line"><span class="lineno"> 5392</span>    }</div>
<div class="line"><span class="lineno"> 5393</span> </div>
<div class="line"><span class="lineno"> 5394</span>    <a class="code hl_struct" href="struct_r_g_w_zone_group.html">RGWZoneGroup</a> zonegroup(zonegroup_id, zonegroup_name);</div>
<div class="line"><span class="lineno"> 5395</span>    <span class="keywordtype">int</span> ret = zonegroup.<a class="code hl_function" href="class_r_g_w_system_meta_obj.html#a23150c4c841a29335f5a93ede8f8ecb6">init</a>(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>(), g_ceph_context, <span class="keyword">static_cast&lt;</span><a class="code hl_class" href="classrgw_1_1sal_1_1_rados_store.html">rgw::sal::RadosStore</a>*<span class="keyword">&gt;</span>(<a class="code hl_variable" href="rgw__admin_8cc.html#a6fdb26d64b14d837b60e83a6ca3e2863">store</a>)-&gt;svc()-&gt;sysobj, null_yield);</div>
<div class="line"><span class="lineno"> 5396</span>    <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno"> 5397</span>      cerr &lt;&lt; <span class="stringliteral">&quot;failed to init zonegroup: &quot;</span> &lt;&lt; cpp_strerror(-ret) &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 5398</span>      <span class="keywordflow">return</span> -ret;</div>
<div class="line"><span class="lineno"> 5399</span>    }</div>
<div class="line"><span class="lineno"> 5400</span> </div>
<div class="line"><span class="lineno"> 5401</span>    <span class="keywordflow">if</span> (opt_cmd == OPT::ZONEGROUP_PLACEMENT_ADD ||</div>
<div class="line"><span class="lineno"> 5402</span>      opt_cmd == OPT::ZONEGROUP_PLACEMENT_MODIFY) {</div>
<div class="line"><span class="lineno"> 5403</span>      <a class="code hl_struct" href="struct_r_g_w_zone_group_placement_target.html">RGWZoneGroupPlacementTarget</a>&amp; target = zonegroup.<a class="code hl_variable" href="struct_r_g_w_zone_group.html#aa90bd8c3e48f6c8ec8c1224f25ed0c13">placement_targets</a>[placement_id];</div>
<div class="line"><span class="lineno"> 5404</span>      <span class="keywordflow">if</span> (!tags.empty()) {</div>
<div class="line"><span class="lineno"> 5405</span>        target.<a class="code hl_variable" href="struct_r_g_w_zone_group_placement_target.html#add3bb2a043b061f190a2a595be986dc2">tags</a>.clear();</div>
<div class="line"><span class="lineno"> 5406</span>        <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp; t : tags) {</div>
<div class="line"><span class="lineno"> 5407</span>          target.<a class="code hl_variable" href="struct_r_g_w_zone_group_placement_target.html#add3bb2a043b061f190a2a595be986dc2">tags</a>.insert(t);</div>
<div class="line"><span class="lineno"> 5408</span>        }</div>
<div class="line"><span class="lineno"> 5409</span>      }</div>
<div class="line"><span class="lineno"> 5410</span> </div>
<div class="line"><span class="lineno"> 5411</span>      target.<a class="code hl_variable" href="struct_r_g_w_zone_group_placement_target.html#aa9b68f5f132a5ef5e45bceafb1ba5ef4">name</a> = placement_id;</div>
<div class="line"><span class="lineno"> 5412</span>      <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp; t : tags_rm) {</div>
<div class="line"><span class="lineno"> 5413</span>        target.<a class="code hl_variable" href="struct_r_g_w_zone_group_placement_target.html#add3bb2a043b061f190a2a595be986dc2">tags</a>.erase(t);</div>
<div class="line"><span class="lineno"> 5414</span>      }</div>
<div class="line"><span class="lineno"> 5415</span>      <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp; t : tags_add) {</div>
<div class="line"><span class="lineno"> 5416</span>        target.<a class="code hl_variable" href="struct_r_g_w_zone_group_placement_target.html#add3bb2a043b061f190a2a595be986dc2">tags</a>.insert(t);</div>
<div class="line"><span class="lineno"> 5417</span>      }</div>
<div class="line"><span class="lineno"> 5418</span>      target.<a class="code hl_variable" href="struct_r_g_w_zone_group_placement_target.html#ae0bc34b48de2affe35284d843e7db08c">storage_classes</a>.insert(rule.<a class="code hl_function" href="structrgw__placement__rule.html#ade3a653da947d97aa1b77bbe521c0182">get_storage_class</a>());</div>
<div class="line"><span class="lineno"> 5419</span> </div>
<div class="line"><span class="lineno"> 5420</span>      <span class="comment">/* Tier options */</span></div>
<div class="line"><span class="lineno"> 5421</span>      <span class="keywordtype">bool</span> tier_class = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 5422</span>      std::string storage_class = rule.<a class="code hl_function" href="structrgw__placement__rule.html#ade3a653da947d97aa1b77bbe521c0182">get_storage_class</a>();</div>
<div class="line"><span class="lineno"> 5423</span>      <a class="code hl_struct" href="struct_r_g_w_zone_group_placement_tier.html">RGWZoneGroupPlacementTier</a> t{storage_class};</div>
<div class="line"><span class="lineno"> 5424</span>      <a class="code hl_struct" href="struct_r_g_w_zone_group_placement_tier.html">RGWZoneGroupPlacementTier</a> *pt = &amp;t;</div>
<div class="line"><span class="lineno"> 5425</span> </div>
<div class="line"><span class="lineno"> 5426</span>      <span class="keyword">auto</span> ptiter = target.<a class="code hl_variable" href="struct_r_g_w_zone_group_placement_target.html#aeab8441daa4783945e26fa66cd576ce8">tier_targets</a>.find(storage_class);</div>
<div class="line"><span class="lineno"> 5427</span>      <span class="keywordflow">if</span> (ptiter != target.<a class="code hl_variable" href="struct_r_g_w_zone_group_placement_target.html#aeab8441daa4783945e26fa66cd576ce8">tier_targets</a>.end()) {</div>
<div class="line"><span class="lineno"> 5428</span>        pt = &amp;ptiter-&gt;second;</div>
<div class="line"><span class="lineno"> 5429</span>        tier_class = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 5430</span>      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (tier_type_specified) {</div>
<div class="line"><span class="lineno"> 5431</span>        <span class="keywordflow">if</span> (tier_type == <span class="stringliteral">&quot;cloud-s3&quot;</span>) {</div>
<div class="line"><span class="lineno"> 5432</span>          <span class="comment">/* we support only cloud-s3 tier-type for now.</span></div>
<div class="line"><span class="lineno"> 5433</span><span class="comment">           * Once set cant be reset. */</span></div>
<div class="line"><span class="lineno"> 5434</span>          tier_class = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 5435</span>          pt-&gt;<a class="code hl_variable" href="struct_r_g_w_zone_group_placement_tier.html#a901f0740d425d341f5e4c9a37c81acf3">tier_type</a> = tier_type;</div>
<div class="line"><span class="lineno"> 5436</span>          pt-&gt;<a class="code hl_variable" href="struct_r_g_w_zone_group_placement_tier.html#abfdbf27417b933d760786715e168cdaa">storage_class</a> = storage_class;</div>
<div class="line"><span class="lineno"> 5437</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 5438</span>          cerr &lt;&lt; <span class="stringliteral">&quot;ERROR: Invalid tier-type specified&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 5439</span>          <span class="keywordflow">return</span> EINVAL;</div>
<div class="line"><span class="lineno"> 5440</span>        }</div>
<div class="line"><span class="lineno"> 5441</span>      }</div>
<div class="line"><span class="lineno"> 5442</span> </div>
<div class="line"><span class="lineno"> 5443</span>      <span class="keywordflow">if</span> (tier_class) {</div>
<div class="line"><span class="lineno"> 5444</span>        <span class="keywordflow">if</span> (tier_config_add.size() &gt; 0) {</div>
<div class="line"><span class="lineno"> 5445</span>          JSONFormattable tconfig;</div>
<div class="line"><span class="lineno"> 5446</span>          <span class="keywordflow">for</span> (<span class="keyword">auto</span> add : tier_config_add) {</div>
<div class="line"><span class="lineno"> 5447</span>            <span class="keywordtype">int</span> <a class="code hl_variable" href="rgw__aio_8cc.html#ae38055824c6eac64615832ad9d888539">r</a> = tconfig.set(add.first, add.second);</div>
<div class="line"><span class="lineno"> 5448</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="rgw__aio_8cc.html#ae38055824c6eac64615832ad9d888539">r</a> &lt; 0) {</div>
<div class="line"><span class="lineno"> 5449</span>              cerr &lt;&lt; <span class="stringliteral">&quot;ERROR: failed to set configurable: &quot;</span> &lt;&lt; add &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 5450</span>              <span class="keywordflow">return</span> EINVAL;</div>
<div class="line"><span class="lineno"> 5451</span>            }</div>
<div class="line"><span class="lineno"> 5452</span>          }</div>
<div class="line"><span class="lineno"> 5453</span>          <span class="keywordtype">int</span> <a class="code hl_variable" href="rgw__aio_8cc.html#ae38055824c6eac64615832ad9d888539">r</a> = pt-&gt;<a class="code hl_function" href="struct_r_g_w_zone_group_placement_tier.html#af7bf04aea9433723b560a3f985468b01">update_params</a>(tconfig);</div>
<div class="line"><span class="lineno"> 5454</span>          <span class="keywordflow">if</span> (<a class="code hl_variable" href="rgw__aio_8cc.html#ae38055824c6eac64615832ad9d888539">r</a> &lt; 0) {</div>
<div class="line"><span class="lineno"> 5455</span>            cerr &lt;&lt; <span class="stringliteral">&quot;ERROR: failed to update tier_config options&quot;</span>&lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 5456</span>          }</div>
<div class="line"><span class="lineno"> 5457</span>        }</div>
<div class="line"><span class="lineno"> 5458</span>        <span class="keywordflow">if</span> (tier_config_rm.size() &gt; 0) {</div>
<div class="line"><span class="lineno"> 5459</span>          JSONFormattable tconfig;</div>
<div class="line"><span class="lineno"> 5460</span>          <span class="keywordflow">for</span> (<span class="keyword">auto</span> add : tier_config_rm) {</div>
<div class="line"><span class="lineno"> 5461</span>            <span class="keywordtype">int</span> <a class="code hl_variable" href="rgw__aio_8cc.html#ae38055824c6eac64615832ad9d888539">r</a> = tconfig.set(add.first, add.second);</div>
<div class="line"><span class="lineno"> 5462</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="rgw__aio_8cc.html#ae38055824c6eac64615832ad9d888539">r</a> &lt; 0) {</div>
<div class="line"><span class="lineno"> 5463</span>              cerr &lt;&lt; <span class="stringliteral">&quot;ERROR: failed to set configurable: &quot;</span> &lt;&lt; add &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 5464</span>              <span class="keywordflow">return</span> EINVAL;</div>
<div class="line"><span class="lineno"> 5465</span>            }</div>
<div class="line"><span class="lineno"> 5466</span>          }</div>
<div class="line"><span class="lineno"> 5467</span>          <span class="keywordtype">int</span> <a class="code hl_variable" href="rgw__aio_8cc.html#ae38055824c6eac64615832ad9d888539">r</a> = pt-&gt;<a class="code hl_function" href="struct_r_g_w_zone_group_placement_tier.html#a9803c8954ff3d7579f938d6de3d4189e">clear_params</a>(tconfig);</div>
<div class="line"><span class="lineno"> 5468</span>          <span class="keywordflow">if</span> (<a class="code hl_variable" href="rgw__aio_8cc.html#ae38055824c6eac64615832ad9d888539">r</a> &lt; 0) {</div>
<div class="line"><span class="lineno"> 5469</span>            cerr &lt;&lt; <span class="stringliteral">&quot;ERROR: failed to update tier_config options&quot;</span>&lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 5470</span>          }</div>
<div class="line"><span class="lineno"> 5471</span>        }</div>
<div class="line"><span class="lineno"> 5472</span> </div>
<div class="line"><span class="lineno"> 5473</span>        target.<a class="code hl_variable" href="struct_r_g_w_zone_group_placement_target.html#aeab8441daa4783945e26fa66cd576ce8">tier_targets</a>.emplace(std::make_pair(storage_class, *pt));</div>
<div class="line"><span class="lineno"> 5474</span>      }</div>
<div class="line"><span class="lineno"> 5475</span> </div>
<div class="line"><span class="lineno"> 5476</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (opt_cmd == OPT::ZONEGROUP_PLACEMENT_RM) {</div>
<div class="line"><span class="lineno"> 5477</span>      <span class="keywordflow">if</span> (!opt_storage_class || opt_storage_class-&gt;empty()) {</div>
<div class="line"><span class="lineno"> 5478</span>        zonegroup.<a class="code hl_variable" href="struct_r_g_w_zone_group.html#aa90bd8c3e48f6c8ec8c1224f25ed0c13">placement_targets</a>.erase(placement_id);</div>
<div class="line"><span class="lineno"> 5479</span>      } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 5480</span>        <span class="keyword">auto</span> iter = zonegroup.<a class="code hl_variable" href="struct_r_g_w_zone_group.html#aa90bd8c3e48f6c8ec8c1224f25ed0c13">placement_targets</a>.find(placement_id);</div>
<div class="line"><span class="lineno"> 5481</span>        <span class="keywordflow">if</span> (iter != zonegroup.<a class="code hl_variable" href="struct_r_g_w_zone_group.html#aa90bd8c3e48f6c8ec8c1224f25ed0c13">placement_targets</a>.end()) {</div>
<div class="line"><span class="lineno"> 5482</span>          <a class="code hl_struct" href="struct_r_g_w_zone_group_placement_target.html">RGWZoneGroupPlacementTarget</a>&amp; info = zonegroup.<a class="code hl_variable" href="struct_r_g_w_zone_group.html#aa90bd8c3e48f6c8ec8c1224f25ed0c13">placement_targets</a>[placement_id];</div>
<div class="line"><span class="lineno"> 5483</span>          info.<a class="code hl_variable" href="struct_r_g_w_zone_group_placement_target.html#ae0bc34b48de2affe35284d843e7db08c">storage_classes</a>.erase(*opt_storage_class);</div>
<div class="line"><span class="lineno"> 5484</span> </div>
<div class="line"><span class="lineno"> 5485</span>          <span class="keyword">auto</span> ptiter = info.<a class="code hl_variable" href="struct_r_g_w_zone_group_placement_target.html#aeab8441daa4783945e26fa66cd576ce8">tier_targets</a>.find(*opt_storage_class);</div>
<div class="line"><span class="lineno"> 5486</span>          <span class="keywordflow">if</span> (ptiter != info.<a class="code hl_variable" href="struct_r_g_w_zone_group_placement_target.html#aeab8441daa4783945e26fa66cd576ce8">tier_targets</a>.end()) {</div>
<div class="line"><span class="lineno"> 5487</span>            info.<a class="code hl_variable" href="struct_r_g_w_zone_group_placement_target.html#aeab8441daa4783945e26fa66cd576ce8">tier_targets</a>.erase(ptiter);</div>
<div class="line"><span class="lineno"> 5488</span>          }</div>
<div class="line"><span class="lineno"> 5489</span>        }</div>
<div class="line"><span class="lineno"> 5490</span>      }</div>
<div class="line"><span class="lineno"> 5491</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (opt_cmd == OPT::ZONEGROUP_PLACEMENT_DEFAULT) {</div>
<div class="line"><span class="lineno"> 5492</span>      <span class="keywordflow">if</span> (!zonegroup.<a class="code hl_variable" href="struct_r_g_w_zone_group.html#aa90bd8c3e48f6c8ec8c1224f25ed0c13">placement_targets</a>.count(placement_id)) {</div>
<div class="line"><span class="lineno"> 5493</span>        cerr &lt;&lt; <span class="stringliteral">&quot;failed to find a zonegroup placement target named &#39;&quot;</span></div>
<div class="line"><span class="lineno"> 5494</span>             &lt;&lt; placement_id &lt;&lt; <span class="stringliteral">&quot;&#39;&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 5495</span>        <span class="keywordflow">return</span> -ENOENT;</div>
<div class="line"><span class="lineno"> 5496</span>      }</div>
<div class="line"><span class="lineno"> 5497</span>      zonegroup.<a class="code hl_variable" href="struct_r_g_w_zone_group.html#ae70064f1bcc3da076c2ca3c900da9749">default_placement</a> = rule;</div>
<div class="line"><span class="lineno"> 5498</span>    }</div>
<div class="line"><span class="lineno"> 5499</span> </div>
<div class="line"><span class="lineno"> 5500</span>    zonegroup.<a class="code hl_function" href="struct_r_g_w_zone_group.html#aff6e497e07fd6e98992ef55f133749dc">post_process_params</a>(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>(), null_yield);</div>
<div class="line"><span class="lineno"> 5501</span>    ret = zonegroup.<a class="code hl_function" href="class_r_g_w_system_meta_obj.html#a46efaf2ad6f9749afa8e02054ac600e7">update</a>(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>(), null_yield);</div>
<div class="line"><span class="lineno"> 5502</span>    <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno"> 5503</span>      cerr &lt;&lt; <span class="stringliteral">&quot;failed to update zonegroup: &quot;</span> &lt;&lt; cpp_strerror(-ret) &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 5504</span>      <span class="keywordflow">return</span> -ret;</div>
<div class="line"><span class="lineno"> 5505</span>    }</div>
<div class="line"><span class="lineno"> 5506</span> </div>
<div class="line"><span class="lineno"> 5507</span>    <a class="code hl_function" href="rgw__admin_8cc.html#ab596b9e1a1fc78e98a4d13a66578b658">encode_json</a>(<span class="stringliteral">&quot;placement_targets&quot;</span>, zonegroup.<a class="code hl_variable" href="struct_r_g_w_zone_group.html#aa90bd8c3e48f6c8ec8c1224f25ed0c13">placement_targets</a>, formatter.get());</div>
<div class="line"><span class="lineno"> 5508</span>    formatter-&gt;flush(cout);</div>
<div class="line"><span class="lineno"> 5509</span>      }</div>
<div class="line"><span class="lineno"> 5510</span>      <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 5511</span>    <span class="keywordflow">case</span> OPT::ZONE_CREATE:</div>
<div class="line"><span class="lineno"> 5512</span>      {</div>
<div class="line"><span class="lineno"> 5513</span>        <span class="keywordflow">if</span> (zone_name.empty()) {</div>
<div class="line"><span class="lineno"> 5514</span>      cerr &lt;&lt; <span class="stringliteral">&quot;zone name not provided&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 5515</span>      <span class="keywordflow">return</span> EINVAL;</div>
<div class="line"><span class="lineno"> 5516</span>        }</div>
<div class="line"><span class="lineno"> 5517</span>    <span class="keywordtype">int</span> ret;</div>
<div class="line"><span class="lineno"> 5518</span>    <a class="code hl_struct" href="struct_r_g_w_zone_group.html">RGWZoneGroup</a> zonegroup(zonegroup_id, zonegroup_name);</div>
<div class="line"><span class="lineno"> 5519</span>    <span class="comment">/* if the user didn&#39;t provide zonegroup info , create stand alone zone */</span></div>
<div class="line"><span class="lineno"> 5520</span>    <span class="keywordflow">if</span> (!zonegroup_id.empty() || !zonegroup_name.empty()) {</div>
<div class="line"><span class="lineno"> 5521</span>      ret = zonegroup.<a class="code hl_function" href="class_r_g_w_system_meta_obj.html#a23150c4c841a29335f5a93ede8f8ecb6">init</a>(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>(), g_ceph_context, <span class="keyword">static_cast&lt;</span><a class="code hl_class" href="classrgw_1_1sal_1_1_rados_store.html">rgw::sal::RadosStore</a>*<span class="keyword">&gt;</span>(<a class="code hl_variable" href="rgw__admin_8cc.html#a6fdb26d64b14d837b60e83a6ca3e2863">store</a>)-&gt;svc()-&gt;sysobj, null_yield);</div>
<div class="line"><span class="lineno"> 5522</span>      <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno"> 5523</span>        cerr &lt;&lt; <span class="stringliteral">&quot;unable to initialize zonegroup &quot;</span> &lt;&lt; zonegroup_name &lt;&lt; <span class="stringliteral">&quot;: &quot;</span> &lt;&lt; cpp_strerror(-ret) &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 5524</span>        <span class="keywordflow">return</span> -ret;</div>
<div class="line"><span class="lineno"> 5525</span>      }</div>
<div class="line"><span class="lineno"> 5526</span>      <span class="keywordflow">if</span> (realm_id.empty() &amp;&amp; realm_name.empty()) {</div>
<div class="line"><span class="lineno"> 5527</span>        realm_id = zonegroup.<a class="code hl_variable" href="struct_r_g_w_zone_group.html#af6d3161acb453e11bca21eb9a36a3b9d">realm_id</a>;</div>
<div class="line"><span class="lineno"> 5528</span>      }</div>
<div class="line"><span class="lineno"> 5529</span>    }</div>
<div class="line"><span class="lineno"> 5530</span> </div>
<div class="line"><span class="lineno"> 5531</span>    <a class="code hl_struct" href="struct_r_g_w_zone_params.html">RGWZoneParams</a> zone(zone_id, zone_name);</div>
<div class="line"><span class="lineno"> 5532</span>    ret = zone.init(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>(), g_ceph_context, <span class="keyword">static_cast&lt;</span><a class="code hl_class" href="classrgw_1_1sal_1_1_rados_store.html">rgw::sal::RadosStore</a>*<span class="keyword">&gt;</span>(<a class="code hl_variable" href="rgw__admin_8cc.html#a6fdb26d64b14d837b60e83a6ca3e2863">store</a>)-&gt;svc()-&gt;sysobj, null_yield, <span class="keyword">false</span>);</div>
<div class="line"><span class="lineno"> 5533</span>    <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno"> 5534</span>      cerr &lt;&lt; <span class="stringliteral">&quot;unable to initialize zone: &quot;</span> &lt;&lt; cpp_strerror(-ret) &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 5535</span>      <span class="keywordflow">return</span> -ret;</div>
<div class="line"><span class="lineno"> 5536</span>    }</div>
<div class="line"><span class="lineno"> 5537</span> </div>
<div class="line"><span class="lineno"> 5538</span>        zone.system_key.id = access_key;</div>
<div class="line"><span class="lineno"> 5539</span>        zone.system_key.key = secret_key;</div>
<div class="line"><span class="lineno"> 5540</span>    zone.realm_id = realm_id;</div>
<div class="line"><span class="lineno"> 5541</span>        <span class="keywordflow">for</span> (<span class="keyword">auto</span> a : tier_config_add) {</div>
<div class="line"><span class="lineno"> 5542</span>          <span class="keywordtype">int</span> <a class="code hl_variable" href="rgw__aio_8cc.html#ae38055824c6eac64615832ad9d888539">r</a> = zone.tier_config.set(a.first, a.second);</div>
<div class="line"><span class="lineno"> 5543</span>          <span class="keywordflow">if</span> (<a class="code hl_variable" href="rgw__aio_8cc.html#ae38055824c6eac64615832ad9d888539">r</a> &lt; 0) {</div>
<div class="line"><span class="lineno"> 5544</span>            cerr &lt;&lt; <span class="stringliteral">&quot;ERROR: failed to set configurable: &quot;</span> &lt;&lt; a &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 5545</span>            <span class="keywordflow">return</span> EINVAL;</div>
<div class="line"><span class="lineno"> 5546</span>          }</div>
<div class="line"><span class="lineno"> 5547</span>        }</div>
<div class="line"><span class="lineno"> 5548</span> </div>
<div class="line"><span class="lineno"> 5549</span>    ret = zone.create(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>(), null_yield);</div>
<div class="line"><span class="lineno"> 5550</span>    <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno"> 5551</span>      cerr &lt;&lt; <span class="stringliteral">&quot;failed to create zone &quot;</span> &lt;&lt; zone_name &lt;&lt; <span class="stringliteral">&quot;: &quot;</span> &lt;&lt; cpp_strerror(-ret) &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 5552</span>      <span class="keywordflow">return</span> -ret;</div>
<div class="line"><span class="lineno"> 5553</span>    }</div>
<div class="line"><span class="lineno"> 5554</span> </div>
<div class="line"><span class="lineno"> 5555</span>    <span class="keywordflow">if</span> (!zonegroup_id.empty() || !zonegroup_name.empty()) {</div>
<div class="line"><span class="lineno"> 5556</span>          <span class="keywordtype">string</span> *ptier_type = (tier_type_specified ? &amp;tier_type : <span class="keyword">nullptr</span>);</div>
<div class="line"><span class="lineno"> 5557</span>          <span class="keywordtype">bool</span> *psync_from_all = (sync_from_all_specified ? &amp;sync_from_all : <span class="keyword">nullptr</span>);</div>
<div class="line"><span class="lineno"> 5558</span>          <span class="keywordtype">string</span> *predirect_zone = (redirect_zone_set ? &amp;redirect_zone : <span class="keyword">nullptr</span>);</div>
<div class="line"><span class="lineno"> 5559</span>      ret = zonegroup.<a class="code hl_function" href="struct_r_g_w_zone_group.html#aac075750ea26510b0685dc7410c8330c">add_zone</a>(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>(), zone,</div>
<div class="line"><span class="lineno"> 5560</span>                                   (is_master_set ? &amp;is_master : NULL),</div>
<div class="line"><span class="lineno"> 5561</span>                                   (is_read_only_set ? &amp;read_only : NULL),</div>
<div class="line"><span class="lineno"> 5562</span>                                   endpoints,</div>
<div class="line"><span class="lineno"> 5563</span>                                   ptier_type,</div>
<div class="line"><span class="lineno"> 5564</span>                                   psync_from_all,</div>
<div class="line"><span class="lineno"> 5565</span>                                   sync_from, sync_from_rm,</div>
<div class="line"><span class="lineno"> 5566</span>                                   predirect_zone, bucket_index_max_shards,</div>
<div class="line"><span class="lineno"> 5567</span>                   static_cast&lt;<a class="code hl_namespace" href="namespacergw.html">rgw</a>::sal::RadosStore*&gt;(<a class="code hl_variable" href="rgw__admin_8cc.html#a6fdb26d64b14d837b60e83a6ca3e2863">store</a>)-&gt;svc()-&gt;sync_modules-&gt;get_manager(),</div>
<div class="line"><span class="lineno"> 5568</span>                   null_yield);</div>
<div class="line"><span class="lineno"> 5569</span>      <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno"> 5570</span>        cerr &lt;&lt; <span class="stringliteral">&quot;failed to add zone &quot;</span> &lt;&lt; zone_name &lt;&lt; <span class="stringliteral">&quot; to zonegroup &quot;</span> &lt;&lt; zonegroup.<a class="code hl_function" href="class_r_g_w_system_meta_obj.html#a333abaa7960a2c63b4341d5f9ec500bf">get_name</a>()</div>
<div class="line"><span class="lineno"> 5571</span>         &lt;&lt; <span class="stringliteral">&quot;: &quot;</span> &lt;&lt; cpp_strerror(-ret) &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 5572</span>        <span class="keywordflow">return</span> -ret;</div>
<div class="line"><span class="lineno"> 5573</span>      }</div>
<div class="line"><span class="lineno"> 5574</span>    }</div>
<div class="line"><span class="lineno"> 5575</span> </div>
<div class="line"><span class="lineno"> 5576</span>        <span class="keywordflow">if</span> (set_default) {</div>
<div class="line"><span class="lineno"> 5577</span>          ret = zone.set_as_default(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>(), null_yield);</div>
<div class="line"><span class="lineno"> 5578</span>          <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno"> 5579</span>            cerr &lt;&lt; <span class="stringliteral">&quot;failed to set zone &quot;</span> &lt;&lt; zone_name &lt;&lt; <span class="stringliteral">&quot; as default: &quot;</span> &lt;&lt; cpp_strerror(-ret) &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 5580</span>          }</div>
<div class="line"><span class="lineno"> 5581</span>        }</div>
<div class="line"><span class="lineno"> 5582</span> </div>
<div class="line"><span class="lineno"> 5583</span>    <a class="code hl_function" href="rgw__admin_8cc.html#ab596b9e1a1fc78e98a4d13a66578b658">encode_json</a>(<span class="stringliteral">&quot;zone&quot;</span>, zone, formatter.get());</div>
<div class="line"><span class="lineno"> 5584</span>    formatter-&gt;flush(cout);</div>
<div class="line"><span class="lineno"> 5585</span>      }</div>
<div class="line"><span class="lineno"> 5586</span>      <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 5587</span>    <span class="keywordflow">case</span> OPT::ZONE_DEFAULT:</div>
<div class="line"><span class="lineno"> 5588</span>      {</div>
<div class="line"><span class="lineno"> 5589</span>    <span class="keywordflow">if</span> (zone_id.empty() &amp;&amp; zone_name.empty()) {</div>
<div class="line"><span class="lineno"> 5590</span>      cerr &lt;&lt; <span class="stringliteral">&quot;no zone name or id provided&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 5591</span>      <span class="keywordflow">return</span> EINVAL;</div>
<div class="line"><span class="lineno"> 5592</span>    }</div>
<div class="line"><span class="lineno"> 5593</span>    <a class="code hl_struct" href="struct_r_g_w_zone_params.html">RGWZoneParams</a> zone(zone_id, zone_name);</div>
<div class="line"><span class="lineno"> 5594</span>    <span class="keywordtype">int</span> ret = zone.init(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>(), g_ceph_context, <span class="keyword">static_cast&lt;</span><a class="code hl_class" href="classrgw_1_1sal_1_1_rados_store.html">rgw::sal::RadosStore</a>*<span class="keyword">&gt;</span>(<a class="code hl_variable" href="rgw__admin_8cc.html#a6fdb26d64b14d837b60e83a6ca3e2863">store</a>)-&gt;svc()-&gt;sysobj, null_yield);</div>
<div class="line"><span class="lineno"> 5595</span>    <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno"> 5596</span>      cerr &lt;&lt; <span class="stringliteral">&quot;unable to initialize zone: &quot;</span> &lt;&lt; cpp_strerror(-ret) &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 5597</span>      <span class="keywordflow">return</span> -ret;</div>
<div class="line"><span class="lineno"> 5598</span>    }</div>
<div class="line"><span class="lineno"> 5599</span>    ret = zone.set_as_default(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>(), null_yield);</div>
<div class="line"><span class="lineno"> 5600</span>    <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno"> 5601</span>      cerr &lt;&lt; <span class="stringliteral">&quot;failed to set zone as default: &quot;</span> &lt;&lt; cpp_strerror(-ret) &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 5602</span>      <span class="keywordflow">return</span> -ret;</div>
<div class="line"><span class="lineno"> 5603</span>    }</div>
<div class="line"><span class="lineno"> 5604</span>      }</div>
<div class="line"><span class="lineno"> 5605</span>      <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 5606</span>    <span class="keywordflow">case</span> OPT::ZONE_DELETE:</div>
<div class="line"><span class="lineno"> 5607</span>      {</div>
<div class="line"><span class="lineno"> 5608</span>    <span class="keywordflow">if</span> (<a class="code hl_function" href="rgw__admin_8cc.html#a7768f24487752988851b23b71c20024f">empty_opt</a>(opt_zone_id) &amp;&amp; <a class="code hl_function" href="rgw__admin_8cc.html#a7768f24487752988851b23b71c20024f">empty_opt</a>(opt_zone_name)) {</div>
<div class="line"><span class="lineno"> 5609</span>      cerr &lt;&lt; <span class="stringliteral">&quot;no zone name or id provided&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 5610</span>      <span class="keywordflow">return</span> EINVAL;</div>
<div class="line"><span class="lineno"> 5611</span>    }</div>
<div class="line"><span class="lineno"> 5612</span>    <a class="code hl_struct" href="struct_r_g_w_zone_params.html">RGWZoneParams</a> zone(<a class="code hl_function" href="rgw__admin_8cc.html#a1a84845aea98042ae470c1245cadb7f9">safe_opt</a>(opt_zone_id), <a class="code hl_function" href="rgw__admin_8cc.html#a1a84845aea98042ae470c1245cadb7f9">safe_opt</a>(opt_zone_name));</div>
<div class="line"><span class="lineno"> 5613</span>    <span class="keywordtype">int</span> ret = zone.init(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>(), g_ceph_context, <span class="keyword">static_cast&lt;</span><a class="code hl_class" href="classrgw_1_1sal_1_1_rados_store.html">rgw::sal::RadosStore</a>*<span class="keyword">&gt;</span>(<a class="code hl_variable" href="rgw__admin_8cc.html#a6fdb26d64b14d837b60e83a6ca3e2863">store</a>)-&gt;svc()-&gt;sysobj, null_yield);</div>
<div class="line"><span class="lineno"> 5614</span>    <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno"> 5615</span>      cerr &lt;&lt; <span class="stringliteral">&quot;unable to initialize zone: &quot;</span> &lt;&lt; cpp_strerror(-ret) &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 5616</span>      <span class="keywordflow">return</span> -ret;</div>
<div class="line"><span class="lineno"> 5617</span>    }</div>
<div class="line"><span class="lineno"> 5618</span> </div>
<div class="line"><span class="lineno"> 5619</span>        list&lt;string&gt; zonegroups;</div>
<div class="line"><span class="lineno"> 5620</span>    ret = <span class="keyword">static_cast&lt;</span><a class="code hl_class" href="classrgw_1_1sal_1_1_rados_store.html">rgw::sal::RadosStore</a>*<span class="keyword">&gt;</span>(<a class="code hl_variable" href="rgw__admin_8cc.html#a6fdb26d64b14d837b60e83a6ca3e2863">store</a>)-&gt;svc()-&gt;<a class="code hl_variable" href="classrgw_1_1sal_1_1_rados_store.html#a0a94e58a4595ab519b4c3f89d33419fe">zone</a>-&gt;list_zonegroups(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>(), zonegroups);</div>
<div class="line"><span class="lineno"> 5621</span>    <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno"> 5622</span>      cerr &lt;&lt; <span class="stringliteral">&quot;failed to list zonegroups: &quot;</span> &lt;&lt; cpp_strerror(-ret) &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 5623</span>      <span class="keywordflow">return</span> -ret;</div>
<div class="line"><span class="lineno"> 5624</span>    }</div>
<div class="line"><span class="lineno"> 5625</span> </div>
<div class="line"><span class="lineno"> 5626</span>        <span class="keywordflow">for</span> (list&lt;string&gt;::iterator iter = zonegroups.begin(); iter != zonegroups.end(); ++iter) {</div>
<div class="line"><span class="lineno"> 5627</span>          <a class="code hl_struct" href="struct_r_g_w_zone_group.html">RGWZoneGroup</a> zonegroup(<span class="keywordtype">string</span>(), *iter);</div>
<div class="line"><span class="lineno"> 5628</span>          <span class="keywordtype">int</span> ret = zonegroup.<a class="code hl_function" href="class_r_g_w_system_meta_obj.html#a23150c4c841a29335f5a93ede8f8ecb6">init</a>(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>(), g_ceph_context, <span class="keyword">static_cast&lt;</span><a class="code hl_class" href="classrgw_1_1sal_1_1_rados_store.html">rgw::sal::RadosStore</a>*<span class="keyword">&gt;</span>(<a class="code hl_variable" href="rgw__admin_8cc.html#a6fdb26d64b14d837b60e83a6ca3e2863">store</a>)-&gt;svc()-&gt;sysobj, null_yield);</div>
<div class="line"><span class="lineno"> 5629</span>          <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno"> 5630</span>            cerr &lt;&lt; <span class="stringliteral">&quot;WARNING: failed to initialize zonegroup &quot;</span> &lt;&lt; zonegroup_name &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 5631</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 5632</span>          }</div>
<div class="line"><span class="lineno"> 5633</span>          ret = zonegroup.<a class="code hl_function" href="struct_r_g_w_zone_group.html#a906a88c47910e467ca19aba0c97c0cb2">remove_zone</a>(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>(), zone.get_id(), null_yield);</div>
<div class="line"><span class="lineno"> 5634</span>          <span class="keywordflow">if</span> (ret &lt; 0 &amp;&amp; ret != -ENOENT) {</div>
<div class="line"><span class="lineno"> 5635</span>            cerr &lt;&lt; <span class="stringliteral">&quot;failed to remove zone &quot;</span> &lt;&lt; zone.get_name() &lt;&lt; <span class="stringliteral">&quot; from zonegroup &quot;</span> &lt;&lt; zonegroup.<a class="code hl_function" href="class_r_g_w_system_meta_obj.html#a333abaa7960a2c63b4341d5f9ec500bf">get_name</a>() &lt;&lt; <span class="stringliteral">&quot;: &quot;</span></div>
<div class="line"><span class="lineno"> 5636</span>              &lt;&lt; cpp_strerror(-ret) &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 5637</span>          }</div>
<div class="line"><span class="lineno"> 5638</span>        }</div>
<div class="line"><span class="lineno"> 5639</span> </div>
<div class="line"><span class="lineno"> 5640</span>    ret = zone.delete_obj(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>(), null_yield);</div>
<div class="line"><span class="lineno"> 5641</span>    <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno"> 5642</span>      cerr &lt;&lt; <span class="stringliteral">&quot;failed to delete zone &quot;</span> &lt;&lt; zone.get_name() &lt;&lt; <span class="stringliteral">&quot;: &quot;</span> &lt;&lt; cpp_strerror(-ret) &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 5643</span>      <span class="keywordflow">return</span> -ret;</div>
<div class="line"><span class="lineno"> 5644</span>    }</div>
<div class="line"><span class="lineno"> 5645</span>      }</div>
<div class="line"><span class="lineno"> 5646</span>      <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 5647</span>    <span class="keywordflow">case</span> OPT::ZONE_GET:</div>
<div class="line"><span class="lineno"> 5648</span>      {</div>
<div class="line"><span class="lineno"> 5649</span>    <a class="code hl_struct" href="struct_r_g_w_zone_params.html">RGWZoneParams</a> zone(zone_id, zone_name);</div>
<div class="line"><span class="lineno"> 5650</span>    <span class="keywordtype">int</span> ret = zone.init(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>(), g_ceph_context, <span class="keyword">static_cast&lt;</span><a class="code hl_class" href="classrgw_1_1sal_1_1_rados_store.html">rgw::sal::RadosStore</a>*<span class="keyword">&gt;</span>(<a class="code hl_variable" href="rgw__admin_8cc.html#a6fdb26d64b14d837b60e83a6ca3e2863">store</a>)-&gt;svc()-&gt;sysobj, null_yield);</div>
<div class="line"><span class="lineno"> 5651</span>    <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno"> 5652</span>      cerr &lt;&lt; <span class="stringliteral">&quot;unable to initialize zone: &quot;</span> &lt;&lt; cpp_strerror(-ret) &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 5653</span>      <span class="keywordflow">return</span> -ret;</div>
<div class="line"><span class="lineno"> 5654</span>    }</div>
<div class="line"><span class="lineno"> 5655</span>    <a class="code hl_function" href="rgw__admin_8cc.html#ab596b9e1a1fc78e98a4d13a66578b658">encode_json</a>(<span class="stringliteral">&quot;zone&quot;</span>, zone, formatter.get());</div>
<div class="line"><span class="lineno"> 5656</span>    formatter-&gt;flush(cout);</div>
<div class="line"><span class="lineno"> 5657</span>      }</div>
<div class="line"><span class="lineno"> 5658</span>      <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 5659</span>    <span class="keywordflow">case</span> OPT::ZONE_SET:</div>
<div class="line"><span class="lineno"> 5660</span>      {</div>
<div class="line"><span class="lineno"> 5661</span>    <a class="code hl_struct" href="struct_r_g_w_zone_params.html">RGWZoneParams</a> zone(zone_name);</div>
<div class="line"><span class="lineno"> 5662</span>    <span class="keywordtype">int</span> ret = zone.init(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>(), g_ceph_context, <span class="keyword">static_cast&lt;</span><a class="code hl_class" href="classrgw_1_1sal_1_1_rados_store.html">rgw::sal::RadosStore</a>*<span class="keyword">&gt;</span>(<a class="code hl_variable" href="rgw__admin_8cc.html#a6fdb26d64b14d837b60e83a6ca3e2863">store</a>)-&gt;svc()-&gt;sysobj, null_yield,</div>
<div class="line"><span class="lineno"> 5663</span>                <span class="keyword">false</span>);</div>
<div class="line"><span class="lineno"> 5664</span>    <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno"> 5665</span>      <span class="keywordflow">return</span> -ret;</div>
<div class="line"><span class="lineno"> 5666</span>    }</div>
<div class="line"><span class="lineno"> 5667</span> </div>
<div class="line"><span class="lineno"> 5668</span>        ret = zone.read(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>(), null_yield);</div>
<div class="line"><span class="lineno"> 5669</span>        <span class="keywordflow">if</span> (ret &lt; 0 &amp;&amp; ret != -ENOENT) {</div>
<div class="line"><span class="lineno"> 5670</span>      cerr &lt;&lt; <span class="stringliteral">&quot;zone.read() returned ret=&quot;</span> &lt;&lt; ret &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 5671</span>          <span class="keywordflow">return</span> -ret;</div>
<div class="line"><span class="lineno"> 5672</span>        }</div>
<div class="line"><span class="lineno"> 5673</span> </div>
<div class="line"><span class="lineno"> 5674</span>        <span class="keywordtype">string</span> orig_id = zone.get_id();</div>
<div class="line"><span class="lineno"> 5675</span> </div>
<div class="line"><span class="lineno"> 5676</span>    ret = <a class="code hl_function" href="rgw__admin_8cc.html#a33c98984a0812f3128d874042ee17c68">read_decode_json</a>(infile, zone);</div>
<div class="line"><span class="lineno"> 5677</span>    <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno"> 5678</span>      <span class="keywordflow">return</span> 1;</div>
<div class="line"><span class="lineno"> 5679</span>    }</div>
<div class="line"><span class="lineno"> 5680</span> </div>
<div class="line"><span class="lineno"> 5681</span>    <span class="keywordflow">if</span>(zone.realm_id.empty()) {</div>
<div class="line"><span class="lineno"> 5682</span>      <a class="code hl_class" href="class_r_g_w_realm.html">RGWRealm</a> realm(realm_id, realm_name);</div>
<div class="line"><span class="lineno"> 5683</span>      <span class="keywordtype">int</span> ret = realm.<a class="code hl_function" href="class_r_g_w_system_meta_obj.html#a23150c4c841a29335f5a93ede8f8ecb6">init</a>(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>(), g_ceph_context, <span class="keyword">static_cast&lt;</span><a class="code hl_class" href="classrgw_1_1sal_1_1_rados_store.html">rgw::sal::RadosStore</a>*<span class="keyword">&gt;</span>(<a class="code hl_variable" href="rgw__admin_8cc.html#a6fdb26d64b14d837b60e83a6ca3e2863">store</a>)-&gt;svc()-&gt;sysobj, null_yield);</div>
<div class="line"><span class="lineno"> 5684</span>      <span class="keywordflow">if</span> (ret &lt; 0 &amp;&amp; ret != -ENOENT) {</div>
<div class="line"><span class="lineno"> 5685</span>        cerr &lt;&lt; <span class="stringliteral">&quot;failed to init realm: &quot;</span> &lt;&lt; cpp_strerror(-ret) &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 5686</span>        <span class="keywordflow">return</span> -ret;</div>
<div class="line"><span class="lineno"> 5687</span>      }</div>
<div class="line"><span class="lineno"> 5688</span>      zone.realm_id = realm.<a class="code hl_function" href="class_r_g_w_system_meta_obj.html#ab885e5d275a5396cc473703ab55f50b1">get_id</a>();</div>
<div class="line"><span class="lineno"> 5689</span>    }</div>
<div class="line"><span class="lineno"> 5690</span> </div>
<div class="line"><span class="lineno"> 5691</span>    <span class="keywordflow">if</span>( !zone_name.empty() &amp;&amp; !zone.get_name().empty() &amp;&amp; zone.get_name() != zone_name) {</div>
<div class="line"><span class="lineno"> 5692</span>      cerr &lt;&lt; <span class="stringliteral">&quot;Error: zone name &quot;</span> &lt;&lt; zone_name &lt;&lt; <span class="stringliteral">&quot; is different than the zone name &quot;</span> &lt;&lt; zone.get_name() &lt;&lt; <span class="stringliteral">&quot; in the provided json &quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 5693</span>      <span class="keywordflow">return</span> EINVAL;</div>
<div class="line"><span class="lineno"> 5694</span>    }</div>
<div class="line"><span class="lineno"> 5695</span> </div>
<div class="line"><span class="lineno"> 5696</span>        <span class="keywordflow">if</span> (zone.get_name().empty()) {</div>
<div class="line"><span class="lineno"> 5697</span>          zone.set_name(zone_name);</div>
<div class="line"><span class="lineno"> 5698</span>          <span class="keywordflow">if</span> (zone.get_name().empty()) {</div>
<div class="line"><span class="lineno"> 5699</span>            cerr &lt;&lt; <span class="stringliteral">&quot;no zone name specified&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 5700</span>            <span class="keywordflow">return</span> EINVAL;</div>
<div class="line"><span class="lineno"> 5701</span>          }</div>
<div class="line"><span class="lineno"> 5702</span>        }</div>
<div class="line"><span class="lineno"> 5703</span> </div>
<div class="line"><span class="lineno"> 5704</span>        zone_name = zone.get_name();</div>
<div class="line"><span class="lineno"> 5705</span> </div>
<div class="line"><span class="lineno"> 5706</span>        <span class="keywordflow">if</span> (zone.get_id().empty()) {</div>
<div class="line"><span class="lineno"> 5707</span>          zone.set_id(orig_id);</div>
<div class="line"><span class="lineno"> 5708</span>        }</div>
<div class="line"><span class="lineno"> 5709</span> </div>
<div class="line"><span class="lineno"> 5710</span>    <span class="keywordflow">if</span> (zone.get_id().empty()) {</div>
<div class="line"><span class="lineno"> 5711</span>      cerr &lt;&lt; <span class="stringliteral">&quot;no zone name id the json provided, assuming old format&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 5712</span>      <span class="keywordflow">if</span> (zone_name.empty()) {</div>
<div class="line"><span class="lineno"> 5713</span>        cerr &lt;&lt; <span class="stringliteral">&quot;missing zone name&quot;</span>  &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 5714</span>        <span class="keywordflow">return</span> EINVAL;</div>
<div class="line"><span class="lineno"> 5715</span>      }</div>
<div class="line"><span class="lineno"> 5716</span>      zone.set_name(zone_name);</div>
<div class="line"><span class="lineno"> 5717</span>      zone.set_id(zone_name);</div>
<div class="line"><span class="lineno"> 5718</span>    }</div>
<div class="line"><span class="lineno"> 5719</span> </div>
<div class="line"><span class="lineno"> 5720</span>    cerr &lt;&lt; <span class="stringliteral">&quot;zone id &quot;</span> &lt;&lt; zone.get_id();</div>
<div class="line"><span class="lineno"> 5721</span>    ret = zone.fix_pool_names(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>(), null_yield);</div>
<div class="line"><span class="lineno"> 5722</span>    <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno"> 5723</span>      cerr &lt;&lt; <span class="stringliteral">&quot;ERROR: couldn&#39;t fix zone: &quot;</span> &lt;&lt; cpp_strerror(-ret) &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 5724</span>      <span class="keywordflow">return</span> -ret;</div>
<div class="line"><span class="lineno"> 5725</span>    }</div>
<div class="line"><span class="lineno"> 5726</span>    ret = zone.write(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>(), <span class="keyword">false</span>, null_yield);</div>
<div class="line"><span class="lineno"> 5727</span>    <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno"> 5728</span>      cerr &lt;&lt; <span class="stringliteral">&quot;ERROR: couldn&#39;t create zone: &quot;</span> &lt;&lt; cpp_strerror(-ret) &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 5729</span>      <span class="keywordflow">return</span> 1;</div>
<div class="line"><span class="lineno"> 5730</span>    }</div>
<div class="line"><span class="lineno"> 5731</span> </div>
<div class="line"><span class="lineno"> 5732</span>        <span class="keywordflow">if</span> (set_default) {</div>
<div class="line"><span class="lineno"> 5733</span>          ret = zone.set_as_default(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>(), null_yield);</div>
<div class="line"><span class="lineno"> 5734</span>          <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno"> 5735</span>            cerr &lt;&lt; <span class="stringliteral">&quot;failed to set zone &quot;</span> &lt;&lt; zone_name &lt;&lt; <span class="stringliteral">&quot; as default: &quot;</span> &lt;&lt; cpp_strerror(-ret) &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 5736</span>          }</div>
<div class="line"><span class="lineno"> 5737</span>        }</div>
<div class="line"><span class="lineno"> 5738</span> </div>
<div class="line"><span class="lineno"> 5739</span>    <a class="code hl_function" href="rgw__admin_8cc.html#ab596b9e1a1fc78e98a4d13a66578b658">encode_json</a>(<span class="stringliteral">&quot;zone&quot;</span>, zone, formatter.get());</div>
<div class="line"><span class="lineno"> 5740</span>    formatter-&gt;flush(cout);</div>
<div class="line"><span class="lineno"> 5741</span>      }</div>
<div class="line"><span class="lineno"> 5742</span>      <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 5743</span>    <span class="keywordflow">case</span> OPT::ZONE_LIST:</div>
<div class="line"><span class="lineno"> 5744</span>      {</div>
<div class="line"><span class="lineno"> 5745</span>    list&lt;string&gt; zones;</div>
<div class="line"><span class="lineno"> 5746</span>    <span class="keywordtype">int</span> ret = <span class="keyword">static_cast&lt;</span><a class="code hl_class" href="classrgw_1_1sal_1_1_rados_store.html">rgw::sal::RadosStore</a>*<span class="keyword">&gt;</span>(<a class="code hl_variable" href="rgw__admin_8cc.html#a6fdb26d64b14d837b60e83a6ca3e2863">store</a>)-&gt;svc()-&gt;<a class="code hl_variable" href="classrgw_1_1sal_1_1_rados_store.html#a0a94e58a4595ab519b4c3f89d33419fe">zone</a>-&gt;list_zones(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>(), zones);</div>
<div class="line"><span class="lineno"> 5747</span>    <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno"> 5748</span>      cerr &lt;&lt; <span class="stringliteral">&quot;failed to list zones: &quot;</span> &lt;&lt; cpp_strerror(-ret) &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 5749</span>      <span class="keywordflow">return</span> -ret;</div>
<div class="line"><span class="lineno"> 5750</span>    }</div>
<div class="line"><span class="lineno"> 5751</span> </div>
<div class="line"><span class="lineno"> 5752</span>    <a class="code hl_struct" href="struct_r_g_w_zone_params.html">RGWZoneParams</a> zone;</div>
<div class="line"><span class="lineno"> 5753</span>    ret = zone.<a class="code hl_function" href="struct_r_g_w_zone_params.html#a84e418e67fee30c72c959daba3b6fa46">init</a>(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>(), g_ceph_context, <span class="keyword">static_cast&lt;</span><a class="code hl_class" href="classrgw_1_1sal_1_1_rados_store.html">rgw::sal::RadosStore</a>*<span class="keyword">&gt;</span>(<a class="code hl_variable" href="rgw__admin_8cc.html#a6fdb26d64b14d837b60e83a6ca3e2863">store</a>)-&gt;svc()-&gt;sysobj, null_yield, <span class="keyword">false</span>);</div>
<div class="line"><span class="lineno"> 5754</span>    <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno"> 5755</span>      cerr &lt;&lt; <span class="stringliteral">&quot;failed to init zone: &quot;</span> &lt;&lt; cpp_strerror(-ret) &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 5756</span>      <span class="keywordflow">return</span> -ret;</div>
<div class="line"><span class="lineno"> 5757</span>    }</div>
<div class="line"><span class="lineno"> 5758</span>    <span class="keywordtype">string</span> default_zone;</div>
<div class="line"><span class="lineno"> 5759</span>    ret = zone.<a class="code hl_function" href="struct_r_g_w_zone_params.html#a0d4ac5a1accca6b21eade2b412928dcf">read_default_id</a>(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>(), default_zone, null_yield);</div>
<div class="line"><span class="lineno"> 5760</span>    <span class="keywordflow">if</span> (ret &lt; 0 &amp;&amp; ret != -ENOENT) {</div>
<div class="line"><span class="lineno"> 5761</span>      cerr &lt;&lt; <span class="stringliteral">&quot;could not determine default zone: &quot;</span> &lt;&lt; cpp_strerror(-ret) &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 5762</span>    }</div>
<div class="line"><span class="lineno"> 5763</span>    formatter-&gt;open_object_section(<span class="stringliteral">&quot;zones_list&quot;</span>);</div>
<div class="line"><span class="lineno"> 5764</span>    <a class="code hl_function" href="rgw__admin_8cc.html#ab596b9e1a1fc78e98a4d13a66578b658">encode_json</a>(<span class="stringliteral">&quot;default_info&quot;</span>, default_zone, formatter.get());</div>
<div class="line"><span class="lineno"> 5765</span>    <a class="code hl_function" href="rgw__admin_8cc.html#ab596b9e1a1fc78e98a4d13a66578b658">encode_json</a>(<span class="stringliteral">&quot;zones&quot;</span>, zones, formatter.get());</div>
<div class="line"><span class="lineno"> 5766</span>    formatter-&gt;close_section();</div>
<div class="line"><span class="lineno"> 5767</span>    formatter-&gt;flush(cout);</div>
<div class="line"><span class="lineno"> 5768</span>      }</div>
<div class="line"><span class="lineno"> 5769</span>      <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 5770</span>    <span class="keywordflow">case</span> OPT::ZONE_MODIFY:</div>
<div class="line"><span class="lineno"> 5771</span>      {</div>
<div class="line"><span class="lineno"> 5772</span>    <a class="code hl_struct" href="struct_r_g_w_zone_params.html">RGWZoneParams</a> zone(zone_id, zone_name);</div>
<div class="line"><span class="lineno"> 5773</span>    <span class="keywordtype">int</span> ret = zone.<a class="code hl_function" href="struct_r_g_w_zone_params.html#a84e418e67fee30c72c959daba3b6fa46">init</a>(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>(), g_ceph_context, <span class="keyword">static_cast&lt;</span><a class="code hl_class" href="classrgw_1_1sal_1_1_rados_store.html">rgw::sal::RadosStore</a>*<span class="keyword">&gt;</span>(<a class="code hl_variable" href="rgw__admin_8cc.html#a6fdb26d64b14d837b60e83a6ca3e2863">store</a>)-&gt;svc()-&gt;sysobj, null_yield);</div>
<div class="line"><span class="lineno"> 5774</span>        <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno"> 5775</span>      cerr &lt;&lt; <span class="stringliteral">&quot;failed to init zone: &quot;</span> &lt;&lt; cpp_strerror(-ret) &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 5776</span>      <span class="keywordflow">return</span> -ret;</div>
<div class="line"><span class="lineno"> 5777</span>    }</div>
<div class="line"><span class="lineno"> 5778</span> </div>
<div class="line"><span class="lineno"> 5779</span>        <span class="keywordtype">bool</span> need_zone_update = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 5780</span>        <span class="keywordflow">if</span> (!access_key.empty()) {</div>
<div class="line"><span class="lineno"> 5781</span>          zone.<a class="code hl_variable" href="struct_r_g_w_zone_params.html#aaa9f6d00da36efbf11bb2580b1fe2f9a">system_key</a>.<a class="code hl_variable" href="struct_r_g_w_access_key.html#afc0fb2f1a8b33e7361e0221f4355c36b">id</a> = access_key;</div>
<div class="line"><span class="lineno"> 5782</span>          need_zone_update = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 5783</span>        }</div>
<div class="line"><span class="lineno"> 5784</span> </div>
<div class="line"><span class="lineno"> 5785</span>        <span class="keywordflow">if</span> (!secret_key.empty()) {</div>
<div class="line"><span class="lineno"> 5786</span>          zone.<a class="code hl_variable" href="struct_r_g_w_zone_params.html#aaa9f6d00da36efbf11bb2580b1fe2f9a">system_key</a>.<a class="code hl_variable" href="struct_r_g_w_access_key.html#a6c58c9a7d8ec2e863c266d74ed432d70">key</a> = secret_key;</div>
<div class="line"><span class="lineno"> 5787</span>          need_zone_update = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 5788</span>        }</div>
<div class="line"><span class="lineno"> 5789</span> </div>
<div class="line"><span class="lineno"> 5790</span>        <span class="keywordflow">if</span> (!realm_id.empty()) {</div>
<div class="line"><span class="lineno"> 5791</span>          zone.<a class="code hl_variable" href="struct_r_g_w_zone_params.html#ab2c1ad2606b5bc3704a2ee1168849a33">realm_id</a> = realm_id;</div>
<div class="line"><span class="lineno"> 5792</span>          need_zone_update = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 5793</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!realm_name.empty()) {</div>
<div class="line"><span class="lineno"> 5794</span>          <span class="comment">// get realm id from name</span></div>
<div class="line"><span class="lineno"> 5795</span>          <a class="code hl_class" href="class_r_g_w_realm.html">RGWRealm</a> realm{g_ceph_context, <span class="keyword">static_cast&lt;</span><a class="code hl_class" href="classrgw_1_1sal_1_1_rados_store.html">rgw::sal::RadosStore</a>*<span class="keyword">&gt;</span>(<a class="code hl_variable" href="rgw__admin_8cc.html#a6fdb26d64b14d837b60e83a6ca3e2863">store</a>)-&gt;svc()-&gt;sysobj};</div>
<div class="line"><span class="lineno"> 5796</span>          ret = realm.<a class="code hl_function" href="class_r_g_w_realm.html#ab3b9b6a166d26f18f7aab617d35d57cd">read_id</a>(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>(), realm_name, zone.<a class="code hl_variable" href="struct_r_g_w_zone_params.html#ab2c1ad2606b5bc3704a2ee1168849a33">realm_id</a>, null_yield);</div>
<div class="line"><span class="lineno"> 5797</span>          <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno"> 5798</span>            cerr &lt;&lt; <span class="stringliteral">&quot;failed to find realm by name &quot;</span> &lt;&lt; realm_name &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 5799</span>            <span class="keywordflow">return</span> -ret;</div>
<div class="line"><span class="lineno"> 5800</span>          }</div>
<div class="line"><span class="lineno"> 5801</span>          need_zone_update = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 5802</span>        }</div>
<div class="line"><span class="lineno"> 5803</span> </div>
<div class="line"><span class="lineno"> 5804</span>        <span class="keywordflow">if</span> (tier_config_add.size() &gt; 0) {</div>
<div class="line"><span class="lineno"> 5805</span>          <span class="keywordflow">for</span> (<span class="keyword">auto</span> add : tier_config_add) {</div>
<div class="line"><span class="lineno"> 5806</span>            <span class="keywordtype">int</span> <a class="code hl_variable" href="rgw__aio_8cc.html#ae38055824c6eac64615832ad9d888539">r</a> = zone.<a class="code hl_variable" href="struct_r_g_w_zone_params.html#aaa4b1a0fe8d9405a9b75907d8717a365">tier_config</a>.set(add.first, add.second);</div>
<div class="line"><span class="lineno"> 5807</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="rgw__aio_8cc.html#ae38055824c6eac64615832ad9d888539">r</a> &lt; 0) {</div>
<div class="line"><span class="lineno"> 5808</span>              cerr &lt;&lt; <span class="stringliteral">&quot;ERROR: failed to set configurable: &quot;</span> &lt;&lt; add &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 5809</span>              <span class="keywordflow">return</span> EINVAL;</div>
<div class="line"><span class="lineno"> 5810</span>            }</div>
<div class="line"><span class="lineno"> 5811</span>          }</div>
<div class="line"><span class="lineno"> 5812</span>          need_zone_update = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 5813</span>        }</div>
<div class="line"><span class="lineno"> 5814</span> </div>
<div class="line"><span class="lineno"> 5815</span>        <span class="keywordflow">for</span> (<span class="keyword">auto</span> rm : tier_config_rm) {</div>
<div class="line"><span class="lineno"> 5816</span>          <span class="keywordflow">if</span> (!rm.first.empty()) { <span class="comment">/* otherwise will remove the entire config */</span></div>
<div class="line"><span class="lineno"> 5817</span>            zone.<a class="code hl_variable" href="struct_r_g_w_zone_params.html#aaa4b1a0fe8d9405a9b75907d8717a365">tier_config</a>.erase(rm.first);</div>
<div class="line"><span class="lineno"> 5818</span>            need_zone_update = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 5819</span>          }</div>
<div class="line"><span class="lineno"> 5820</span>        }</div>
<div class="line"><span class="lineno"> 5821</span> </div>
<div class="line"><span class="lineno"> 5822</span>        <span class="keywordflow">if</span> (need_zone_update) {</div>
<div class="line"><span class="lineno"> 5823</span>          ret = zone.<a class="code hl_function" href="class_r_g_w_system_meta_obj.html#a46efaf2ad6f9749afa8e02054ac600e7">update</a>(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>(), null_yield);</div>
<div class="line"><span class="lineno"> 5824</span>          <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno"> 5825</span>            cerr &lt;&lt; <span class="stringliteral">&quot;failed to save zone info: &quot;</span> &lt;&lt; cpp_strerror(-ret) &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 5826</span>            <span class="keywordflow">return</span> -ret;</div>
<div class="line"><span class="lineno"> 5827</span>          }</div>
<div class="line"><span class="lineno"> 5828</span>        }</div>
<div class="line"><span class="lineno"> 5829</span> </div>
<div class="line"><span class="lineno"> 5830</span>    <a class="code hl_struct" href="struct_r_g_w_zone_group.html">RGWZoneGroup</a> zonegroup(zonegroup_id, zonegroup_name);</div>
<div class="line"><span class="lineno"> 5831</span>    ret = zonegroup.<a class="code hl_function" href="class_r_g_w_system_meta_obj.html#a23150c4c841a29335f5a93ede8f8ecb6">init</a>(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>(), g_ceph_context, <span class="keyword">static_cast&lt;</span><a class="code hl_class" href="classrgw_1_1sal_1_1_rados_store.html">rgw::sal::RadosStore</a>*<span class="keyword">&gt;</span>(<a class="code hl_variable" href="rgw__admin_8cc.html#a6fdb26d64b14d837b60e83a6ca3e2863">store</a>)-&gt;svc()-&gt;sysobj, null_yield);</div>
<div class="line"><span class="lineno"> 5832</span>    <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno"> 5833</span>      cerr &lt;&lt; <span class="stringliteral">&quot;failed to init zonegroup: &quot;</span> &lt;&lt; cpp_strerror(-ret) &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 5834</span>      <span class="keywordflow">return</span> -ret;</div>
<div class="line"><span class="lineno"> 5835</span>    }</div>
<div class="line"><span class="lineno"> 5836</span>        <span class="keywordtype">string</span> *ptier_type = (tier_type_specified ? &amp;tier_type : <span class="keyword">nullptr</span>);</div>
<div class="line"><span class="lineno"> 5837</span> </div>
<div class="line"><span class="lineno"> 5838</span>        <span class="keywordtype">bool</span> *psync_from_all = (sync_from_all_specified ? &amp;sync_from_all : <span class="keyword">nullptr</span>);</div>
<div class="line"><span class="lineno"> 5839</span>        <span class="keywordtype">string</span> *predirect_zone = (redirect_zone_set ? &amp;redirect_zone : <span class="keyword">nullptr</span>);</div>
<div class="line"><span class="lineno"> 5840</span> </div>
<div class="line"><span class="lineno"> 5841</span>        ret = zonegroup.<a class="code hl_function" href="struct_r_g_w_zone_group.html#aac075750ea26510b0685dc7410c8330c">add_zone</a>(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>(), zone,</div>
<div class="line"><span class="lineno"> 5842</span>                                 (is_master_set ? &amp;is_master : NULL),</div>
<div class="line"><span class="lineno"> 5843</span>                                 (is_read_only_set ? &amp;read_only : NULL),</div>
<div class="line"><span class="lineno"> 5844</span>                                 endpoints, ptier_type,</div>
<div class="line"><span class="lineno"> 5845</span>                                 psync_from_all, sync_from, sync_from_rm,</div>
<div class="line"><span class="lineno"> 5846</span>                                 predirect_zone, bucket_index_max_shards,</div>
<div class="line"><span class="lineno"> 5847</span>                 static_cast&lt;<a class="code hl_namespace" href="namespacergw.html">rgw</a>::sal::RadosStore*&gt;(<a class="code hl_variable" href="rgw__admin_8cc.html#a6fdb26d64b14d837b60e83a6ca3e2863">store</a>)-&gt;svc()-&gt;sync_modules-&gt;get_manager(),</div>
<div class="line"><span class="lineno"> 5848</span>                 null_yield);</div>
<div class="line"><span class="lineno"> 5849</span>    <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno"> 5850</span>      cerr &lt;&lt; <span class="stringliteral">&quot;failed to update zonegroup: &quot;</span> &lt;&lt; cpp_strerror(-ret) &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 5851</span>      <span class="keywordflow">return</span> -ret;</div>
<div class="line"><span class="lineno"> 5852</span>    }</div>
<div class="line"><span class="lineno"> 5853</span> </div>
<div class="line"><span class="lineno"> 5854</span>    ret = zonegroup.<a class="code hl_function" href="class_r_g_w_system_meta_obj.html#a46efaf2ad6f9749afa8e02054ac600e7">update</a>(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>(), null_yield);</div>
<div class="line"><span class="lineno"> 5855</span>    <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno"> 5856</span>      cerr &lt;&lt; <span class="stringliteral">&quot;failed to update zonegroup: &quot;</span> &lt;&lt; cpp_strerror(-ret) &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 5857</span>      <span class="keywordflow">return</span> -ret;</div>
<div class="line"><span class="lineno"> 5858</span>    }</div>
<div class="line"><span class="lineno"> 5859</span> </div>
<div class="line"><span class="lineno"> 5860</span>        <span class="keywordflow">if</span> (set_default) {</div>
<div class="line"><span class="lineno"> 5861</span>          ret = zone.<a class="code hl_function" href="struct_r_g_w_zone_params.html#abe32f69ad5c2c3e7602e6dcde3344009">set_as_default</a>(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>(), null_yield);</div>
<div class="line"><span class="lineno"> 5862</span>          <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno"> 5863</span>            cerr &lt;&lt; <span class="stringliteral">&quot;failed to set zone &quot;</span> &lt;&lt; zone_name &lt;&lt; <span class="stringliteral">&quot; as default: &quot;</span> &lt;&lt; cpp_strerror(-ret) &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 5864</span>          }</div>
<div class="line"><span class="lineno"> 5865</span>        }</div>
<div class="line"><span class="lineno"> 5866</span> </div>
<div class="line"><span class="lineno"> 5867</span>        <a class="code hl_function" href="rgw__admin_8cc.html#ab596b9e1a1fc78e98a4d13a66578b658">encode_json</a>(<span class="stringliteral">&quot;zone&quot;</span>, zone, formatter.get());</div>
<div class="line"><span class="lineno"> 5868</span>        formatter-&gt;flush(cout);</div>
<div class="line"><span class="lineno"> 5869</span>      }</div>
<div class="line"><span class="lineno"> 5870</span>      <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 5871</span>    <span class="keywordflow">case</span> OPT::ZONE_RENAME:</div>
<div class="line"><span class="lineno"> 5872</span>      {</div>
<div class="line"><span class="lineno"> 5873</span>    <span class="keywordflow">if</span> (zone_new_name.empty()) {</div>
<div class="line"><span class="lineno"> 5874</span>      cerr &lt;&lt; <span class="stringliteral">&quot; missing zone new name&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 5875</span>      <span class="keywordflow">return</span> EINVAL;</div>
<div class="line"><span class="lineno"> 5876</span>    }</div>
<div class="line"><span class="lineno"> 5877</span>    <span class="keywordflow">if</span> (zone_id.empty() &amp;&amp; zone_name.empty()) {</div>
<div class="line"><span class="lineno"> 5878</span>      cerr &lt;&lt; <span class="stringliteral">&quot;no zone name or id provided&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 5879</span>      <span class="keywordflow">return</span> EINVAL;</div>
<div class="line"><span class="lineno"> 5880</span>    }</div>
<div class="line"><span class="lineno"> 5881</span>    <a class="code hl_struct" href="struct_r_g_w_zone_params.html">RGWZoneParams</a> zone(zone_id,zone_name);</div>
<div class="line"><span class="lineno"> 5882</span>    <span class="keywordtype">int</span> ret = zone.<a class="code hl_function" href="struct_r_g_w_zone_params.html#a84e418e67fee30c72c959daba3b6fa46">init</a>(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>(), g_ceph_context, <span class="keyword">static_cast&lt;</span><a class="code hl_class" href="classrgw_1_1sal_1_1_rados_store.html">rgw::sal::RadosStore</a>*<span class="keyword">&gt;</span>(<a class="code hl_variable" href="rgw__admin_8cc.html#a6fdb26d64b14d837b60e83a6ca3e2863">store</a>)-&gt;svc()-&gt;sysobj, null_yield);</div>
<div class="line"><span class="lineno"> 5883</span>    <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno"> 5884</span>      cerr &lt;&lt; <span class="stringliteral">&quot;unable to initialize zone: &quot;</span> &lt;&lt; cpp_strerror(-ret) &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 5885</span>      <span class="keywordflow">return</span> -ret;</div>
<div class="line"><span class="lineno"> 5886</span>    }</div>
<div class="line"><span class="lineno"> 5887</span>    ret = zone.<a class="code hl_function" href="class_r_g_w_system_meta_obj.html#a6f88d8c7748b20ddcfbbdf27ca10802b">rename</a>(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>(), zone_new_name, null_yield);</div>
<div class="line"><span class="lineno"> 5888</span>    <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno"> 5889</span>      cerr &lt;&lt; <span class="stringliteral">&quot;failed to rename zone &quot;</span> &lt;&lt; zone_name &lt;&lt; <span class="stringliteral">&quot; to &quot;</span> &lt;&lt; zone_new_name &lt;&lt; <span class="stringliteral">&quot;: &quot;</span> &lt;&lt; cpp_strerror(-ret)</div>
<div class="line"><span class="lineno"> 5890</span>           &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 5891</span>      <span class="keywordflow">return</span> -ret;</div>
<div class="line"><span class="lineno"> 5892</span>    }</div>
<div class="line"><span class="lineno"> 5893</span>    <a class="code hl_struct" href="struct_r_g_w_zone_group.html">RGWZoneGroup</a> zonegroup(zonegroup_id, zonegroup_name);</div>
<div class="line"><span class="lineno"> 5894</span>    ret = zonegroup.<a class="code hl_function" href="class_r_g_w_system_meta_obj.html#a23150c4c841a29335f5a93ede8f8ecb6">init</a>(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>(), g_ceph_context, <span class="keyword">static_cast&lt;</span><a class="code hl_class" href="classrgw_1_1sal_1_1_rados_store.html">rgw::sal::RadosStore</a>*<span class="keyword">&gt;</span>(<a class="code hl_variable" href="rgw__admin_8cc.html#a6fdb26d64b14d837b60e83a6ca3e2863">store</a>)-&gt;svc()-&gt;sysobj, null_yield);</div>
<div class="line"><span class="lineno"> 5895</span>    <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno"> 5896</span>      cerr &lt;&lt; <span class="stringliteral">&quot;WARNING: failed to initialize zonegroup &quot;</span> &lt;&lt; zonegroup_name &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 5897</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 5898</span>      ret = zonegroup.<a class="code hl_function" href="struct_r_g_w_zone_group.html#a8ad68e561ebbb8b2409f23ea91b1b2cb">rename_zone</a>(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>(), zone, null_yield);</div>
<div class="line"><span class="lineno"> 5899</span>      <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno"> 5900</span>        cerr &lt;&lt; <span class="stringliteral">&quot;Error in zonegroup rename for &quot;</span> &lt;&lt; zone_name &lt;&lt; <span class="stringliteral">&quot;: &quot;</span> &lt;&lt; cpp_strerror(-ret) &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 5901</span>        <span class="keywordflow">return</span> -ret;</div>
<div class="line"><span class="lineno"> 5902</span>      }</div>
<div class="line"><span class="lineno"> 5903</span>    }</div>
<div class="line"><span class="lineno"> 5904</span>      }</div>
<div class="line"><span class="lineno"> 5905</span>      <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 5906</span>    <span class="keywordflow">case</span> OPT::ZONE_PLACEMENT_ADD:</div>
<div class="line"><span class="lineno"> 5907</span>    <span class="keywordflow">case</span> OPT::ZONE_PLACEMENT_MODIFY:</div>
<div class="line"><span class="lineno"> 5908</span>    <span class="keywordflow">case</span> OPT::ZONE_PLACEMENT_RM:</div>
<div class="line"><span class="lineno"> 5909</span>      {</div>
<div class="line"><span class="lineno"> 5910</span>        <span class="keywordflow">if</span> (placement_id.empty()) {</div>
<div class="line"><span class="lineno"> 5911</span>          cerr &lt;&lt; <span class="stringliteral">&quot;ERROR: --placement-id not specified&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 5912</span>          <span class="keywordflow">return</span> EINVAL;</div>
<div class="line"><span class="lineno"> 5913</span>        }</div>
<div class="line"><span class="lineno"> 5914</span>        <span class="comment">// validate compression type</span></div>
<div class="line"><span class="lineno"> 5915</span>        <span class="keywordflow">if</span> (compression_type &amp;&amp; *compression_type != <span class="stringliteral">&quot;random&quot;</span></div>
<div class="line"><span class="lineno"> 5916</span>            &amp;&amp; !Compressor::get_comp_alg_type(*compression_type)) {</div>
<div class="line"><span class="lineno"> 5917</span>          std::cerr &lt;&lt; <span class="stringliteral">&quot;Unrecognized compression type&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 5918</span>          <span class="keywordflow">return</span> EINVAL;</div>
<div class="line"><span class="lineno"> 5919</span>        }</div>
<div class="line"><span class="lineno"> 5920</span> </div>
<div class="line"><span class="lineno"> 5921</span>    <a class="code hl_struct" href="struct_r_g_w_zone_params.html">RGWZoneParams</a> zone(zone_id, zone_name);</div>
<div class="line"><span class="lineno"> 5922</span>    <span class="keywordtype">int</span> ret = zone.<a class="code hl_function" href="struct_r_g_w_zone_params.html#a84e418e67fee30c72c959daba3b6fa46">init</a>(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>(), g_ceph_context, <span class="keyword">static_cast&lt;</span><a class="code hl_class" href="classrgw_1_1sal_1_1_rados_store.html">rgw::sal::RadosStore</a>*<span class="keyword">&gt;</span>(<a class="code hl_variable" href="rgw__admin_8cc.html#a6fdb26d64b14d837b60e83a6ca3e2863">store</a>)-&gt;svc()-&gt;sysobj, null_yield);</div>
<div class="line"><span class="lineno"> 5923</span>        <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno"> 5924</span>      cerr &lt;&lt; <span class="stringliteral">&quot;failed to init zone: &quot;</span> &lt;&lt; cpp_strerror(-ret) &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 5925</span>      <span class="keywordflow">return</span> -ret;</div>
<div class="line"><span class="lineno"> 5926</span>    }</div>
<div class="line"><span class="lineno"> 5927</span> </div>
<div class="line"><span class="lineno"> 5928</span>        <span class="keywordflow">if</span> (opt_cmd == OPT::ZONE_PLACEMENT_ADD ||</div>
<div class="line"><span class="lineno"> 5929</span>        opt_cmd == OPT::ZONE_PLACEMENT_MODIFY) {</div>
<div class="line"><span class="lineno"> 5930</span>      <a class="code hl_struct" href="struct_r_g_w_zone_group.html">RGWZoneGroup</a> zonegroup(zonegroup_id, zonegroup_name);</div>
<div class="line"><span class="lineno"> 5931</span>      ret = zonegroup.<a class="code hl_function" href="class_r_g_w_system_meta_obj.html#a23150c4c841a29335f5a93ede8f8ecb6">init</a>(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>(), g_ceph_context, <span class="keyword">static_cast&lt;</span><a class="code hl_class" href="classrgw_1_1sal_1_1_rados_store.html">rgw::sal::RadosStore</a>*<span class="keyword">&gt;</span>(<a class="code hl_variable" href="rgw__admin_8cc.html#a6fdb26d64b14d837b60e83a6ca3e2863">store</a>)-&gt;svc()-&gt;sysobj, null_yield);</div>
<div class="line"><span class="lineno"> 5932</span>      <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno"> 5933</span>        cerr &lt;&lt; <span class="stringliteral">&quot;failed to init zonegroup: &quot;</span> &lt;&lt; cpp_strerror(-ret) &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 5934</span>        <span class="keywordflow">return</span> -ret;</div>
<div class="line"><span class="lineno"> 5935</span>      }</div>
<div class="line"><span class="lineno"> 5936</span> </div>
<div class="line"><span class="lineno"> 5937</span>      <span class="keyword">auto</span> ptiter = zonegroup.<a class="code hl_variable" href="struct_r_g_w_zone_group.html#aa90bd8c3e48f6c8ec8c1224f25ed0c13">placement_targets</a>.find(placement_id);</div>
<div class="line"><span class="lineno"> 5938</span>      <span class="keywordflow">if</span> (ptiter == zonegroup.<a class="code hl_variable" href="struct_r_g_w_zone_group.html#aa90bd8c3e48f6c8ec8c1224f25ed0c13">placement_targets</a>.end()) {</div>
<div class="line"><span class="lineno"> 5939</span>        cerr &lt;&lt; <span class="stringliteral">&quot;ERROR: placement id &#39;&quot;</span> &lt;&lt; placement_id &lt;&lt; <span class="stringliteral">&quot;&#39; is not configured in zonegroup placement targets&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 5940</span>        <span class="keywordflow">return</span> EINVAL;</div>
<div class="line"><span class="lineno"> 5941</span>      }</div>
<div class="line"><span class="lineno"> 5942</span> </div>
<div class="line"><span class="lineno"> 5943</span>      <span class="keywordtype">string</span> storage_class = <a class="code hl_function" href="structrgw__placement__rule.html#a6373fadd1b6927e011b643e171aa93f0">rgw_placement_rule::get_canonical_storage_class</a>(opt_storage_class.value_or(<span class="keywordtype">string</span>()));</div>
<div class="line"><span class="lineno"> 5944</span>      <span class="keywordflow">if</span> (ptiter-&gt;second.storage_classes.find(storage_class) == ptiter-&gt;second.storage_classes.end()) {</div>
<div class="line"><span class="lineno"> 5945</span>        cerr &lt;&lt; <span class="stringliteral">&quot;ERROR: storage class &#39;&quot;</span> &lt;&lt; storage_class &lt;&lt; <span class="stringliteral">&quot;&#39; is not defined in zonegroup &#39;&quot;</span> &lt;&lt; placement_id &lt;&lt; <span class="stringliteral">&quot;&#39; placement target&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 5946</span>        <span class="keywordflow">return</span> EINVAL;</div>
<div class="line"><span class="lineno"> 5947</span>      }</div>
<div class="line"><span class="lineno"> 5948</span>      <span class="keywordflow">if</span> (ptiter-&gt;second.tier_targets.find(storage_class) != ptiter-&gt;second.tier_targets.end()) {</div>
<div class="line"><span class="lineno"> 5949</span>        cerr &lt;&lt; <span class="stringliteral">&quot;ERROR: storage class &#39;&quot;</span> &lt;&lt; storage_class &lt;&lt; <span class="stringliteral">&quot;&#39; is of tier type in zonegroup &#39;&quot;</span> &lt;&lt; placement_id &lt;&lt; <span class="stringliteral">&quot;&#39; placement target&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 5950</span>        <span class="keywordflow">return</span> EINVAL;</div>
<div class="line"><span class="lineno"> 5951</span>      }</div>
<div class="line"><span class="lineno"> 5952</span> </div>
<div class="line"><span class="lineno"> 5953</span>          <a class="code hl_struct" href="struct_r_g_w_zone_placement_info.html">RGWZonePlacementInfo</a>&amp; info = zone.<a class="code hl_variable" href="struct_r_g_w_zone_params.html#ade56ea590a8f14b59a3ebd3b0a6d0946">placement_pools</a>[placement_id];</div>
<div class="line"><span class="lineno"> 5954</span> </div>
<div class="line"><span class="lineno"> 5955</span>      <span class="keywordtype">string</span> opt_index_pool = index_pool.value_or(<span class="keywordtype">string</span>());</div>
<div class="line"><span class="lineno"> 5956</span>      <span class="keywordtype">string</span> opt_data_pool = data_pool.value_or(<span class="keywordtype">string</span>());</div>
<div class="line"><span class="lineno"> 5957</span> </div>
<div class="line"><span class="lineno"> 5958</span>      <span class="keywordflow">if</span> (!opt_index_pool.empty()) {</div>
<div class="line"><span class="lineno"> 5959</span>        info.<a class="code hl_variable" href="struct_r_g_w_zone_placement_info.html#a03919ed0da8df50359a5bfe5dcfb5996">index_pool</a> = opt_index_pool;</div>
<div class="line"><span class="lineno"> 5960</span>      }</div>
<div class="line"><span class="lineno"> 5961</span> </div>
<div class="line"><span class="lineno"> 5962</span>      <span class="keywordflow">if</span> (info.<a class="code hl_variable" href="struct_r_g_w_zone_placement_info.html#a03919ed0da8df50359a5bfe5dcfb5996">index_pool</a>.<a class="code hl_function" href="structrgw__pool.html#aad5fd29bcd53c86af2608e581ee5a3c4">empty</a>()) {</div>
<div class="line"><span class="lineno"> 5963</span>            cerr &lt;&lt; <span class="stringliteral">&quot;ERROR: index pool not configured, need to specify --index-pool&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 5964</span>            <span class="keywordflow">return</span> EINVAL;</div>
<div class="line"><span class="lineno"> 5965</span>      }</div>
<div class="line"><span class="lineno"> 5966</span> </div>
<div class="line"><span class="lineno"> 5967</span>      <span class="keywordflow">if</span> (opt_data_pool.empty()) {</div>
<div class="line"><span class="lineno"> 5968</span>        <span class="keyword">const</span> <a class="code hl_struct" href="struct_r_g_w_zone_storage_class.html">RGWZoneStorageClass</a> *porig_sc{<span class="keyword">nullptr</span>};</div>
<div class="line"><span class="lineno"> 5969</span>        <span class="keywordflow">if</span> (info.<a class="code hl_variable" href="struct_r_g_w_zone_placement_info.html#ab7730340bc5222fd9f0d225feed5252d">storage_classes</a>.<a class="code hl_function" href="class_r_g_w_zone_storage_classes.html#a636b50775327447999d3783f716cb416">find</a>(storage_class, &amp;porig_sc)) {</div>
<div class="line"><span class="lineno"> 5970</span>          <span class="keywordflow">if</span> (porig_sc-&gt;data_pool) {</div>
<div class="line"><span class="lineno"> 5971</span>        opt_data_pool = porig_sc-&gt;<a class="code hl_variable" href="struct_r_g_w_zone_storage_class.html#a4eeae29b04acc19b4efd42e45de64be1">data_pool</a>-&gt;to_str();</div>
<div class="line"><span class="lineno"> 5972</span>          }</div>
<div class="line"><span class="lineno"> 5973</span>        }</div>
<div class="line"><span class="lineno"> 5974</span>        <span class="keywordflow">if</span> (opt_data_pool.empty()) {</div>
<div class="line"><span class="lineno"> 5975</span>          cerr &lt;&lt; <span class="stringliteral">&quot;ERROR: data pool not configured, need to specify --data-pool&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 5976</span>          <span class="keywordflow">return</span> EINVAL;</div>
<div class="line"><span class="lineno"> 5977</span>        }</div>
<div class="line"><span class="lineno"> 5978</span>      }</div>
<div class="line"><span class="lineno"> 5979</span> </div>
<div class="line"><span class="lineno"> 5980</span>          <a class="code hl_struct" href="structrgw__pool.html">rgw_pool</a> dp = opt_data_pool;</div>
<div class="line"><span class="lineno"> 5981</span>          info.<a class="code hl_variable" href="struct_r_g_w_zone_placement_info.html#ab7730340bc5222fd9f0d225feed5252d">storage_classes</a>.<a class="code hl_function" href="class_r_g_w_zone_storage_classes.html#aac7733484c65766bdfb00f02389a0ea1">set_storage_class</a>(storage_class, &amp;dp, compression_type.get_ptr());</div>
<div class="line"><span class="lineno"> 5982</span> </div>
<div class="line"><span class="lineno"> 5983</span>          <span class="keywordflow">if</span> (data_extra_pool) {</div>
<div class="line"><span class="lineno"> 5984</span>            info.<a class="code hl_variable" href="struct_r_g_w_zone_placement_info.html#a95f054ab014236b918efbcd1db65b910">data_extra_pool</a> = *data_extra_pool;</div>
<div class="line"><span class="lineno"> 5985</span>          }</div>
<div class="line"><span class="lineno"> 5986</span>          <span class="keywordflow">if</span> (index_type_specified) {</div>
<div class="line"><span class="lineno"> 5987</span>        info.<a class="code hl_variable" href="struct_r_g_w_zone_placement_info.html#a09bc1e1b7f260f6731105ee3a3fb30d7">index_type</a> = placement_index_type;</div>
<div class="line"><span class="lineno"> 5988</span>          }</div>
<div class="line"><span class="lineno"> 5989</span>          <span class="keywordflow">if</span> (placement_inline_data_specified) {</div>
<div class="line"><span class="lineno"> 5990</span>            info.<a class="code hl_variable" href="struct_r_g_w_zone_placement_info.html#a702863bcc74164cdb110b3fbf62756fb">inline_data</a> = placement_inline_data;</div>
<div class="line"><span class="lineno"> 5991</span>          }</div>
<div class="line"><span class="lineno"> 5992</span> </div>
<div class="line"><span class="lineno"> 5993</span>          ret = <a class="code hl_function" href="rgw__admin_8cc.html#a07d3841128712f85bb571720d6b18321">check_pool_support_omap</a>(info.<a class="code hl_function" href="struct_r_g_w_zone_placement_info.html#aff6b6370da49e52624e2b287760c479a">get_data_extra_pool</a>());</div>
<div class="line"><span class="lineno"> 5994</span>          <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno"> 5995</span>             cerr &lt;&lt; <span class="stringliteral">&quot;ERROR: the data extra (non-ec) pool &#39;&quot;</span> &lt;&lt; info.<a class="code hl_function" href="struct_r_g_w_zone_placement_info.html#aff6b6370da49e52624e2b287760c479a">get_data_extra_pool</a>() </div>
<div class="line"><span class="lineno"> 5996</span>                 &lt;&lt; <span class="stringliteral">&quot;&#39; does not support omap&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 5997</span>             <span class="keywordflow">return</span> ret;</div>
<div class="line"><span class="lineno"> 5998</span>          }</div>
<div class="line"><span class="lineno"> 5999</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (opt_cmd == OPT::ZONE_PLACEMENT_RM) {</div>
<div class="line"><span class="lineno"> 6000</span>          <span class="keywordflow">if</span> (!opt_storage_class ||</div>
<div class="line"><span class="lineno"> 6001</span>              opt_storage_class-&gt;empty()) {</div>
<div class="line"><span class="lineno"> 6002</span>            zone.<a class="code hl_variable" href="struct_r_g_w_zone_params.html#ade56ea590a8f14b59a3ebd3b0a6d0946">placement_pools</a>.erase(placement_id);</div>
<div class="line"><span class="lineno"> 6003</span>          } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 6004</span>            <span class="keyword">auto</span> iter = zone.<a class="code hl_variable" href="struct_r_g_w_zone_params.html#ade56ea590a8f14b59a3ebd3b0a6d0946">placement_pools</a>.find(placement_id);</div>
<div class="line"><span class="lineno"> 6005</span>            <span class="keywordflow">if</span> (iter != zone.<a class="code hl_variable" href="struct_r_g_w_zone_params.html#ade56ea590a8f14b59a3ebd3b0a6d0946">placement_pools</a>.end()) {</div>
<div class="line"><span class="lineno"> 6006</span>              <a class="code hl_struct" href="struct_r_g_w_zone_placement_info.html">RGWZonePlacementInfo</a>&amp; info = zone.<a class="code hl_variable" href="struct_r_g_w_zone_params.html#ade56ea590a8f14b59a3ebd3b0a6d0946">placement_pools</a>[placement_id];</div>
<div class="line"><span class="lineno"> 6007</span>              info.<a class="code hl_variable" href="struct_r_g_w_zone_placement_info.html#ab7730340bc5222fd9f0d225feed5252d">storage_classes</a>.<a class="code hl_function" href="class_r_g_w_zone_storage_classes.html#a5f023fd084eb18c051f90a7a2e1dd874">remove_storage_class</a>(*opt_storage_class);</div>
<div class="line"><span class="lineno"> 6008</span>            }</div>
<div class="line"><span class="lineno"> 6009</span>          }</div>
<div class="line"><span class="lineno"> 6010</span>        }</div>
<div class="line"><span class="lineno"> 6011</span> </div>
<div class="line"><span class="lineno"> 6012</span>        ret = zone.<a class="code hl_function" href="class_r_g_w_system_meta_obj.html#a46efaf2ad6f9749afa8e02054ac600e7">update</a>(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>(), null_yield);</div>
<div class="line"><span class="lineno"> 6013</span>        <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno"> 6014</span>          cerr &lt;&lt; <span class="stringliteral">&quot;failed to save zone info: &quot;</span> &lt;&lt; cpp_strerror(-ret) &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 6015</span>          <span class="keywordflow">return</span> -ret;</div>
<div class="line"><span class="lineno"> 6016</span>        }</div>
<div class="line"><span class="lineno"> 6017</span> </div>
<div class="line"><span class="lineno"> 6018</span>        <a class="code hl_function" href="rgw__admin_8cc.html#ab596b9e1a1fc78e98a4d13a66578b658">encode_json</a>(<span class="stringliteral">&quot;zone&quot;</span>, zone, formatter.get());</div>
<div class="line"><span class="lineno"> 6019</span>        formatter-&gt;flush(cout);</div>
<div class="line"><span class="lineno"> 6020</span>      }</div>
<div class="line"><span class="lineno"> 6021</span>      <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 6022</span>    <span class="keywordflow">case</span> OPT::ZONE_PLACEMENT_LIST:</div>
<div class="line"><span class="lineno"> 6023</span>      {</div>
<div class="line"><span class="lineno"> 6024</span>    <a class="code hl_struct" href="struct_r_g_w_zone_params.html">RGWZoneParams</a> zone(zone_id, zone_name);</div>
<div class="line"><span class="lineno"> 6025</span>    <span class="keywordtype">int</span> ret = zone.<a class="code hl_function" href="struct_r_g_w_zone_params.html#a84e418e67fee30c72c959daba3b6fa46">init</a>(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>(), g_ceph_context, <span class="keyword">static_cast&lt;</span><a class="code hl_class" href="classrgw_1_1sal_1_1_rados_store.html">rgw::sal::RadosStore</a>*<span class="keyword">&gt;</span>(<a class="code hl_variable" href="rgw__admin_8cc.html#a6fdb26d64b14d837b60e83a6ca3e2863">store</a>)-&gt;svc()-&gt;sysobj, null_yield);</div>
<div class="line"><span class="lineno"> 6026</span>    <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno"> 6027</span>      cerr &lt;&lt; <span class="stringliteral">&quot;unable to initialize zone: &quot;</span> &lt;&lt; cpp_strerror(-ret) &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 6028</span>      <span class="keywordflow">return</span> -ret;</div>
<div class="line"><span class="lineno"> 6029</span>    }</div>
<div class="line"><span class="lineno"> 6030</span>    <a class="code hl_function" href="rgw__admin_8cc.html#ab596b9e1a1fc78e98a4d13a66578b658">encode_json</a>(<span class="stringliteral">&quot;placement_pools&quot;</span>, zone.<a class="code hl_variable" href="struct_r_g_w_zone_params.html#ade56ea590a8f14b59a3ebd3b0a6d0946">placement_pools</a>, formatter.get());</div>
<div class="line"><span class="lineno"> 6031</span>    formatter-&gt;flush(cout);</div>
<div class="line"><span class="lineno"> 6032</span>      }</div>
<div class="line"><span class="lineno"> 6033</span>      <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 6034</span>    <span class="keywordflow">case</span> OPT::ZONE_PLACEMENT_GET:</div>
<div class="line"><span class="lineno"> 6035</span>      {</div>
<div class="line"><span class="lineno"> 6036</span>    <span class="keywordflow">if</span> (placement_id.empty()) {</div>
<div class="line"><span class="lineno"> 6037</span>      cerr &lt;&lt; <span class="stringliteral">&quot;ERROR: --placement-id not specified&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 6038</span>      <span class="keywordflow">return</span> EINVAL;</div>
<div class="line"><span class="lineno"> 6039</span>    }</div>
<div class="line"><span class="lineno"> 6040</span> </div>
<div class="line"><span class="lineno"> 6041</span>    <a class="code hl_struct" href="struct_r_g_w_zone_params.html">RGWZoneParams</a> zone(zone_id, zone_name);</div>
<div class="line"><span class="lineno"> 6042</span>    <span class="keywordtype">int</span> ret = zone.<a class="code hl_function" href="struct_r_g_w_zone_params.html#a84e418e67fee30c72c959daba3b6fa46">init</a>(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>(), g_ceph_context, <span class="keyword">static_cast&lt;</span><a class="code hl_class" href="classrgw_1_1sal_1_1_rados_store.html">rgw::sal::RadosStore</a>*<span class="keyword">&gt;</span>(<a class="code hl_variable" href="rgw__admin_8cc.html#a6fdb26d64b14d837b60e83a6ca3e2863">store</a>)-&gt;svc()-&gt;sysobj, null_yield);</div>
<div class="line"><span class="lineno"> 6043</span>    <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno"> 6044</span>      cerr &lt;&lt; <span class="stringliteral">&quot;unable to initialize zone: &quot;</span> &lt;&lt; cpp_strerror(-ret) &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 6045</span>      <span class="keywordflow">return</span> -ret;</div>
<div class="line"><span class="lineno"> 6046</span>    }</div>
<div class="line"><span class="lineno"> 6047</span>    <span class="keyword">auto</span> p = zone.<a class="code hl_variable" href="struct_r_g_w_zone_params.html#ade56ea590a8f14b59a3ebd3b0a6d0946">placement_pools</a>.find(placement_id);</div>
<div class="line"><span class="lineno"> 6048</span>    <span class="keywordflow">if</span> (p == zone.<a class="code hl_variable" href="struct_r_g_w_zone_params.html#ade56ea590a8f14b59a3ebd3b0a6d0946">placement_pools</a>.end()) {</div>
<div class="line"><span class="lineno"> 6049</span>      cerr &lt;&lt; <span class="stringliteral">&quot;ERROR: zone placement target &#39;&quot;</span> &lt;&lt; placement_id &lt;&lt; <span class="stringliteral">&quot;&#39; not found&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 6050</span>      <span class="keywordflow">return</span> -ENOENT;</div>
<div class="line"><span class="lineno"> 6051</span>    }</div>
<div class="line"><span class="lineno"> 6052</span>    <a class="code hl_function" href="rgw__admin_8cc.html#ab596b9e1a1fc78e98a4d13a66578b658">encode_json</a>(<span class="stringliteral">&quot;placement_pools&quot;</span>, p-&gt;second, formatter.get());</div>
<div class="line"><span class="lineno"> 6053</span>    formatter-&gt;flush(cout);</div>
<div class="line"><span class="lineno"> 6054</span>      }</div>
<div class="line"><span class="lineno"> 6055</span>    <span class="keywordflow">default</span>:</div>
<div class="line"><span class="lineno"> 6056</span>      <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 6057</span>    }</div>
<div class="line"><span class="lineno"> 6058</span>    <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno"> 6059</span>  }</div>
<div class="line"><span class="lineno"> 6060</span> </div>
<div class="line"><span class="lineno"> 6061</span>  <a class="code hl_function" href="rgw__admin_8cc.html#a33febd2fe0e966d847c7beab7e0d80e2">resolve_zone_id_opt</a>(opt_effective_zone_name, opt_effective_zone_id);</div>
<div class="line"><span class="lineno"> 6062</span>  <a class="code hl_function" href="rgw__admin_8cc.html#a33febd2fe0e966d847c7beab7e0d80e2">resolve_zone_id_opt</a>(opt_source_zone_name, opt_source_zone_id);</div>
<div class="line"><span class="lineno"> 6063</span>  <a class="code hl_function" href="rgw__admin_8cc.html#a33febd2fe0e966d847c7beab7e0d80e2">resolve_zone_id_opt</a>(opt_dest_zone_name, opt_dest_zone_id);</div>
<div class="line"><span class="lineno"> 6064</span>  <a class="code hl_function" href="rgw__admin_8cc.html#a1cd3093171a87f32bc690211a3f2a403">resolve_zone_ids_opt</a>(opt_zone_names, opt_zone_ids);</div>
<div class="line"><span class="lineno"> 6065</span>  <a class="code hl_function" href="rgw__admin_8cc.html#a1cd3093171a87f32bc690211a3f2a403">resolve_zone_ids_opt</a>(opt_source_zone_names, opt_source_zone_ids);</div>
<div class="line"><span class="lineno"> 6066</span>  <a class="code hl_function" href="rgw__admin_8cc.html#a1cd3093171a87f32bc690211a3f2a403">resolve_zone_ids_opt</a>(opt_dest_zone_names, opt_dest_zone_ids);</div>
<div class="line"><span class="lineno"> 6067</span> </div>
<div class="line"><span class="lineno"> 6068</span>  <span class="keywordtype">bool</span> non_master_cmd = (!<a class="code hl_variable" href="rgw__admin_8cc.html#a6fdb26d64b14d837b60e83a6ca3e2863">store</a>-&gt;<a class="code hl_function" href="classrgw_1_1sal_1_1_store.html#a3f47faa0a9863670b57ba81b229918f8">is_meta_master</a>() &amp;&amp; !yes_i_really_mean_it);</div>
<div class="line"><span class="lineno"> 6069</span>  std::set&lt;OPT&gt; non_master_ops_list = {OPT::USER_CREATE, OPT::USER_RM, </div>
<div class="line"><span class="lineno"> 6070</span>                                        OPT::USER_MODIFY, OPT::USER_ENABLE,</div>
<div class="line"><span class="lineno"> 6071</span>                                        OPT::USER_SUSPEND, OPT::SUBUSER_CREATE,</div>
<div class="line"><span class="lineno"> 6072</span>                                        OPT::SUBUSER_MODIFY, OPT::SUBUSER_RM,</div>
<div class="line"><span class="lineno"> 6073</span>                                        OPT::BUCKET_LINK, OPT::BUCKET_UNLINK,</div>
<div class="line"><span class="lineno"> 6074</span>                                        OPT::BUCKET_RESHARD, OPT::BUCKET_RM,</div>
<div class="line"><span class="lineno"> 6075</span>                                        OPT::BUCKET_CHOWN, OPT::METADATA_PUT,</div>
<div class="line"><span class="lineno"> 6076</span>                                        OPT::METADATA_RM, OPT::RESHARD_CANCEL,</div>
<div class="line"><span class="lineno"> 6077</span>                                        OPT::RESHARD_ADD, OPT::MFA_CREATE,</div>
<div class="line"><span class="lineno"> 6078</span>                                        OPT::MFA_REMOVE, OPT::MFA_RESYNC,</div>
<div class="line"><span class="lineno"> 6079</span>                                        OPT::CAPS_ADD, OPT::CAPS_RM,</div>
<div class="line"><span class="lineno"> 6080</span>                                        OPT::ROLE_CREATE, OPT::ROLE_DELETE,</div>
<div class="line"><span class="lineno"> 6081</span>                                        OPT::ROLE_POLICY_PUT, OPT::ROLE_POLICY_DELETE};</div>
<div class="line"><span class="lineno"> 6082</span> </div>
<div class="line"><span class="lineno"> 6083</span>  <span class="keywordtype">bool</span> print_warning_message = (non_master_ops_list.find(opt_cmd) != non_master_ops_list.end() &amp;&amp;</div>
<div class="line"><span class="lineno"> 6084</span>                                non_master_cmd);</div>
<div class="line"><span class="lineno"> 6085</span> </div>
<div class="line"><span class="lineno"> 6086</span>  <span class="keywordflow">if</span> (print_warning_message) {</div>
<div class="line"><span class="lineno"> 6087</span>      cerr &lt;&lt; <span class="stringliteral">&quot;Please run the command on master zone. Performing this operation on non-master zone leads to inconsistent metadata between zones&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 6088</span>      cerr &lt;&lt; <span class="stringliteral">&quot;Are you sure you want to go ahead? (requires --yes-i-really-mean-it)&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 6089</span>      <span class="keywordflow">return</span> EINVAL;</div>
<div class="line"><span class="lineno"> 6090</span>  }</div>
<div class="line"><span class="lineno"> 6091</span> </div>
<div class="line"><span class="lineno"> 6092</span>  <span class="keywordflow">if</span> (!<a class="code hl_function" href="classrgw_1_1sal_1_1_user.html#a96e608798e4a45601e3d9f223bdbcb9b">rgw::sal::User::empty</a>(user)) {</div>
<div class="line"><span class="lineno"> 6093</span>    user_op.set_user_id(user-&gt;get_id());</div>
<div class="line"><span class="lineno"> 6094</span>    bucket_op.<a class="code hl_function" href="struct_r_g_w_bucket_admin_op_state.html#a9c765ae4b3683bf03cb02da7c86ace55">set_user_id</a>(user-&gt;get_id());</div>
<div class="line"><span class="lineno"> 6095</span>  }</div>
<div class="line"><span class="lineno"> 6096</span> </div>
<div class="line"><span class="lineno"> 6097</span>  <span class="keywordflow">if</span> (!display_name.empty())</div>
<div class="line"><span class="lineno"> 6098</span>    user_op.set_display_name(display_name);</div>
<div class="line"><span class="lineno"> 6099</span> </div>
<div class="line"><span class="lineno"> 6100</span>  <span class="keywordflow">if</span> (!user_email.empty())</div>
<div class="line"><span class="lineno"> 6101</span>    user_op.set_user_email(user_email);</div>
<div class="line"><span class="lineno"> 6102</span> </div>
<div class="line"><span class="lineno"> 6103</span>  <span class="keywordflow">if</span> (!<a class="code hl_function" href="classrgw_1_1sal_1_1_user.html#a96e608798e4a45601e3d9f223bdbcb9b">rgw::sal::User::empty</a>(user)) {</div>
<div class="line"><span class="lineno"> 6104</span>    user_op.set_new_user_id(new_user_id);</div>
<div class="line"><span class="lineno"> 6105</span>  }</div>
<div class="line"><span class="lineno"> 6106</span> </div>
<div class="line"><span class="lineno"> 6107</span>  <span class="keywordflow">if</span> (!access_key.empty())</div>
<div class="line"><span class="lineno"> 6108</span>    user_op.set_access_key(access_key);</div>
<div class="line"><span class="lineno"> 6109</span> </div>
<div class="line"><span class="lineno"> 6110</span>  <span class="keywordflow">if</span> (!secret_key.empty())</div>
<div class="line"><span class="lineno"> 6111</span>    user_op.set_secret_key(secret_key);</div>
<div class="line"><span class="lineno"> 6112</span> </div>
<div class="line"><span class="lineno"> 6113</span>  <span class="keywordflow">if</span> (!subuser.empty())</div>
<div class="line"><span class="lineno"> 6114</span>    user_op.set_subuser(subuser);</div>
<div class="line"><span class="lineno"> 6115</span> </div>
<div class="line"><span class="lineno"> 6116</span>  <span class="keywordflow">if</span> (!caps.empty())</div>
<div class="line"><span class="lineno"> 6117</span>    user_op.set_caps(caps);</div>
<div class="line"><span class="lineno"> 6118</span> </div>
<div class="line"><span class="lineno"> 6119</span>  user_op.set_purge_data(purge_data);</div>
<div class="line"><span class="lineno"> 6120</span> </div>
<div class="line"><span class="lineno"> 6121</span>  <span class="keywordflow">if</span> (purge_keys)</div>
<div class="line"><span class="lineno"> 6122</span>    user_op.set_purge_keys();</div>
<div class="line"><span class="lineno"> 6123</span> </div>
<div class="line"><span class="lineno"> 6124</span>  <span class="keywordflow">if</span> (gen_access_key)</div>
<div class="line"><span class="lineno"> 6125</span>    user_op.set_generate_key();</div>
<div class="line"><span class="lineno"> 6126</span> </div>
<div class="line"><span class="lineno"> 6127</span>  <span class="keywordflow">if</span> (gen_secret_key)</div>
<div class="line"><span class="lineno"> 6128</span>    user_op.set_gen_secret(); <span class="comment">// assume that a key pair should be created</span></div>
<div class="line"><span class="lineno"> 6129</span> </div>
<div class="line"><span class="lineno"> 6130</span>  <span class="keywordflow">if</span> (max_buckets_specified)</div>
<div class="line"><span class="lineno"> 6131</span>    user_op.set_max_buckets(max_buckets);</div>
<div class="line"><span class="lineno"> 6132</span> </div>
<div class="line"><span class="lineno"> 6133</span>  <span class="keywordflow">if</span> (admin_specified)</div>
<div class="line"><span class="lineno"> 6134</span>     user_op.set_admin(admin);</div>
<div class="line"><span class="lineno"> 6135</span> </div>
<div class="line"><span class="lineno"> 6136</span>  <span class="keywordflow">if</span> (system_specified)</div>
<div class="line"><span class="lineno"> 6137</span>    user_op.set_system(system);</div>
<div class="line"><span class="lineno"> 6138</span> </div>
<div class="line"><span class="lineno"> 6139</span>  <span class="keywordflow">if</span> (set_perm)</div>
<div class="line"><span class="lineno"> 6140</span>    user_op.set_perm(perm_mask);</div>
<div class="line"><span class="lineno"> 6141</span> </div>
<div class="line"><span class="lineno"> 6142</span>  <span class="keywordflow">if</span> (set_temp_url_key) {</div>
<div class="line"><span class="lineno"> 6143</span>    map&lt;int, string&gt;::iterator iter = temp_url_keys.begin();</div>
<div class="line"><span class="lineno"> 6144</span>    <span class="keywordflow">for</span> (; iter != temp_url_keys.end(); ++iter) {</div>
<div class="line"><span class="lineno"> 6145</span>      user_op.set_temp_url_key(iter-&gt;second, iter-&gt;first);</div>
<div class="line"><span class="lineno"> 6146</span>    }</div>
<div class="line"><span class="lineno"> 6147</span>  }</div>
<div class="line"><span class="lineno"> 6148</span> </div>
<div class="line"><span class="lineno"> 6149</span>  <span class="keywordflow">if</span> (!op_mask_str.empty()) {</div>
<div class="line"><span class="lineno"> 6150</span>    uint32_t op_mask;</div>
<div class="line"><span class="lineno"> 6151</span>    <span class="keywordtype">int</span> ret = <a class="code hl_function" href="rgw__common_8cc.html#a74268496b85bc5523143be596c98aaa2">rgw_parse_op_type_list</a>(op_mask_str, &amp;op_mask);</div>
<div class="line"><span class="lineno"> 6152</span>    <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno"> 6153</span>      cerr &lt;&lt; <span class="stringliteral">&quot;failed to parse op_mask: &quot;</span> &lt;&lt; cpp_strerror(-ret) &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 6154</span>      <span class="keywordflow">return</span> -ret;</div>
<div class="line"><span class="lineno"> 6155</span>    }</div>
<div class="line"><span class="lineno"> 6156</span> </div>
<div class="line"><span class="lineno"> 6157</span>    user_op.set_op_mask(op_mask);</div>
<div class="line"><span class="lineno"> 6158</span>  }</div>
<div class="line"><span class="lineno"> 6159</span> </div>
<div class="line"><span class="lineno"> 6160</span>  <span class="keywordflow">if</span> (key_type != <a class="code hl_enumvalue" href="rgw__user_8h.html#a58fd975b8b46e98348e859f0fc0eb868a74622046ed230e5463bd5840a622a1a7">KEY_TYPE_UNDEFINED</a>)</div>
<div class="line"><span class="lineno"> 6161</span>    user_op.set_key_type(key_type);</div>
<div class="line"><span class="lineno"> 6162</span> </div>
<div class="line"><span class="lineno"> 6163</span>  <span class="comment">// set suspension operation parameters</span></div>
<div class="line"><span class="lineno"> 6164</span>  <span class="keywordflow">if</span> (opt_cmd == OPT::USER_ENABLE)</div>
<div class="line"><span class="lineno"> 6165</span>    user_op.set_suspension(<span class="keyword">false</span>);</div>
<div class="line"><span class="lineno"> 6166</span>  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (opt_cmd == OPT::USER_SUSPEND)</div>
<div class="line"><span class="lineno"> 6167</span>    user_op.set_suspension(<span class="keyword">true</span>);</div>
<div class="line"><span class="lineno"> 6168</span> </div>
<div class="line"><span class="lineno"> 6169</span>  <span class="keywordflow">if</span> (!placement_id.empty() ||</div>
<div class="line"><span class="lineno"> 6170</span>      (opt_storage_class &amp;&amp; !opt_storage_class-&gt;empty())) {</div>
<div class="line"><span class="lineno"> 6171</span>    <a class="code hl_struct" href="structrgw__placement__rule.html">rgw_placement_rule</a> target_rule;</div>
<div class="line"><span class="lineno"> 6172</span>    target_rule.<a class="code hl_variable" href="structrgw__placement__rule.html#ac2879ebdfe80cff9a539d8a72035629a">name</a> = placement_id;</div>
<div class="line"><span class="lineno"> 6173</span>    target_rule.<a class="code hl_variable" href="structrgw__placement__rule.html#a43e8f586d87191d507d4960dfa1a94c9">storage_class</a> = *opt_storage_class;</div>
<div class="line"><span class="lineno"> 6174</span>    <span class="keywordflow">if</span> (!<a class="code hl_variable" href="rgw__admin_8cc.html#a6fdb26d64b14d837b60e83a6ca3e2863">store</a>-&gt;<a class="code hl_function" href="classrgw_1_1sal_1_1_store.html#a7905b89b9f5def056e6b3379637037cc">get_zone</a>()-&gt;<a class="code hl_function" href="classrgw_1_1sal_1_1_zone.html#aad5682df06309df9be7bc8fdab823b50">get_params</a>().<a class="code hl_function" href="struct_r_g_w_zone_params.html#adbbba8774f3afe6a9409b55bc9903f1d">valid_placement</a>(target_rule)) {</div>
<div class="line"><span class="lineno"> 6175</span>      cerr &lt;&lt; <span class="stringliteral">&quot;NOTICE: invalid dest placement: &quot;</span> &lt;&lt; target_rule.<a class="code hl_function" href="structrgw__placement__rule.html#acef93222a366da8a9c67303abe46822d">to_str</a>() &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 6176</span>      <span class="keywordflow">return</span> EINVAL;</div>
<div class="line"><span class="lineno"> 6177</span>    }</div>
<div class="line"><span class="lineno"> 6178</span>    user_op.set_default_placement(target_rule);</div>
<div class="line"><span class="lineno"> 6179</span>  }</div>
<div class="line"><span class="lineno"> 6180</span> </div>
<div class="line"><span class="lineno"> 6181</span>  <span class="keywordflow">if</span> (!tags.empty()) {</div>
<div class="line"><span class="lineno"> 6182</span>    user_op.set_placement_tags(tags);</div>
<div class="line"><span class="lineno"> 6183</span>  }</div>
<div class="line"><span class="lineno"> 6184</span> </div>
<div class="line"><span class="lineno"> 6185</span>  <span class="comment">// RGWUser to use for user operations</span></div>
<div class="line"><span class="lineno"> 6186</span>  <a class="code hl_class" href="class_r_g_w_user.html">RGWUser</a> ruser;</div>
<div class="line"><span class="lineno"> 6187</span>  <span class="keywordtype">int</span> ret = 0;</div>
<div class="line"><span class="lineno"> 6188</span>  <span class="keywordflow">if</span> (!(<a class="code hl_function" href="classrgw_1_1sal_1_1_user.html#a96e608798e4a45601e3d9f223bdbcb9b">rgw::sal::User::empty</a>(user) &amp;&amp; access_key.empty()) || !subuser.empty()) {</div>
<div class="line"><span class="lineno"> 6189</span>    ret = ruser.<a class="code hl_function" href="class_r_g_w_user.html#a7776a18daac664ad89c79259e5f9d079">init</a>(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>(), <a class="code hl_variable" href="rgw__admin_8cc.html#a6fdb26d64b14d837b60e83a6ca3e2863">store</a>, user_op, null_yield);</div>
<div class="line"><span class="lineno"> 6190</span>    <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno"> 6191</span>      cerr &lt;&lt; <span class="stringliteral">&quot;user.init failed: &quot;</span> &lt;&lt; cpp_strerror(-ret) &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 6192</span>      <span class="keywordflow">return</span> -ret;</div>
<div class="line"><span class="lineno"> 6193</span>    }</div>
<div class="line"><span class="lineno"> 6194</span>  }</div>
<div class="line"><span class="lineno"> 6195</span> </div>
<div class="line"><span class="lineno"> 6196</span>  <span class="comment">/* populate bucket operation */</span></div>
<div class="line"><span class="lineno"> 6197</span>  bucket_op.<a class="code hl_function" href="struct_r_g_w_bucket_admin_op_state.html#a3bbce2f4eaffec09a27fcc1b7b7029eb">set_bucket_name</a>(bucket_name);</div>
<div class="line"><span class="lineno"> 6198</span>  bucket_op.<a class="code hl_function" href="struct_r_g_w_bucket_admin_op_state.html#af06adc40d4c413f82ae5e73c581b9820">set_object</a>(<span class="keywordtype">object</span>);</div>
<div class="line"><span class="lineno"> 6199</span>  bucket_op.<a class="code hl_function" href="struct_r_g_w_bucket_admin_op_state.html#a138dd0c60a11abf41e7ad07c437eb0f3">set_check_objects</a>(check_objects);</div>
<div class="line"><span class="lineno"> 6200</span>  bucket_op.<a class="code hl_function" href="struct_r_g_w_bucket_admin_op_state.html#a524e1bb6006ef905c4ed16e84a78d30d">set_delete_children</a>(delete_child_objects);</div>
<div class="line"><span class="lineno"> 6201</span>  bucket_op.<a class="code hl_function" href="struct_r_g_w_bucket_admin_op_state.html#a7af4d522462dedec9a83592dd483f9d8">set_fix_index</a>(fix);</div>
<div class="line"><span class="lineno"> 6202</span>  bucket_op.<a class="code hl_function" href="struct_r_g_w_bucket_admin_op_state.html#a1bb3ad1228d3a129bd55ad61393e0ad9">set_max_aio</a>(max_concurrent_ios);</div>
<div class="line"><span class="lineno"> 6203</span> </div>
<div class="line"><span class="lineno"> 6204</span>  <span class="comment">// required to gather errors from operations</span></div>
<div class="line"><span class="lineno"> 6205</span>  std::string err_msg;</div>
<div class="line"><span class="lineno"> 6206</span> </div>
<div class="line"><span class="lineno"> 6207</span>  <span class="keywordtype">bool</span> output_user_info = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 6208</span> </div>
<div class="line"><span class="lineno"> 6209</span>  <span class="keywordflow">switch</span> (opt_cmd) {</div>
<div class="line"><span class="lineno"> 6210</span>  <span class="keywordflow">case</span> OPT::USER_INFO:</div>
<div class="line"><span class="lineno"> 6211</span>    <span class="keywordflow">if</span> (<a class="code hl_function" href="classrgw_1_1sal_1_1_user.html#a96e608798e4a45601e3d9f223bdbcb9b">rgw::sal::User::empty</a>(user) &amp;&amp; access_key.empty()) {</div>
<div class="line"><span class="lineno"> 6212</span>      cerr &lt;&lt; <span class="stringliteral">&quot;ERROR: --uid or --access-key required&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 6213</span>      <span class="keywordflow">return</span> EINVAL;</div>
<div class="line"><span class="lineno"> 6214</span>    }</div>
<div class="line"><span class="lineno"> 6215</span>    <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 6216</span>  <span class="keywordflow">case</span> OPT::USER_CREATE:</div>
<div class="line"><span class="lineno"> 6217</span>    <span class="keywordflow">if</span> (!user_op.has_existing_user()) {</div>
<div class="line"><span class="lineno"> 6218</span>      user_op.set_generate_key(); <span class="comment">// generate a new key by default</span></div>
<div class="line"><span class="lineno"> 6219</span>    }</div>
<div class="line"><span class="lineno"> 6220</span>    ret = ruser.<a class="code hl_function" href="class_r_g_w_user.html#a0332f74ac2a2fc1cf134d22030b2b2d3">add</a>(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>(), user_op, null_yield, &amp;err_msg);</div>
<div class="line"><span class="lineno"> 6221</span>    <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno"> 6222</span>      cerr &lt;&lt; <span class="stringliteral">&quot;could not create user: &quot;</span> &lt;&lt; err_msg &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 6223</span>      <span class="keywordflow">if</span> (ret == -<a class="code hl_define" href="rgw__common_8h.html#a83c5a5cf21542d8d58d10798891265a5">ERR_INVALID_TENANT_NAME</a>)</div>
<div class="line"><span class="lineno"> 6224</span>    ret = -EINVAL;</div>
<div class="line"><span class="lineno"> 6225</span> </div>
<div class="line"><span class="lineno"> 6226</span>      <span class="keywordflow">return</span> -ret;</div>
<div class="line"><span class="lineno"> 6227</span>    }</div>
<div class="line"><span class="lineno"> 6228</span>    <span class="keywordflow">if</span> (!subuser.empty()) {</div>
<div class="line"><span class="lineno"> 6229</span>      ret = ruser.<a class="code hl_variable" href="class_r_g_w_user.html#ac1a440c0648dd3306c5ff29a5f9f1b05">subusers</a>.<a class="code hl_function" href="class_r_g_w_sub_user_pool.html#ab49488747d359993ada4003b4dc8a98c">add</a>(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>(),user_op, null_yield, &amp;err_msg);</div>
<div class="line"><span class="lineno"> 6230</span>      <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno"> 6231</span>        cerr &lt;&lt; <span class="stringliteral">&quot;could not create subuser: &quot;</span> &lt;&lt; err_msg &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 6232</span>        <span class="keywordflow">return</span> -ret;</div>
<div class="line"><span class="lineno"> 6233</span>      }</div>
<div class="line"><span class="lineno"> 6234</span>    }</div>
<div class="line"><span class="lineno"> 6235</span>    <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 6236</span>  <span class="keywordflow">case</span> OPT::USER_RM:</div>
<div class="line"><span class="lineno"> 6237</span>    ret = ruser.<a class="code hl_function" href="class_r_g_w_user.html#a53783d3615c9e7ac231fe4cfa06f43a3">remove</a>(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>(), user_op, null_yield, &amp;err_msg);</div>
<div class="line"><span class="lineno"> 6238</span>    <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno"> 6239</span>      cerr &lt;&lt; <span class="stringliteral">&quot;could not remove user: &quot;</span> &lt;&lt; err_msg &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 6240</span>      <span class="keywordflow">return</span> -ret;</div>
<div class="line"><span class="lineno"> 6241</span>    }</div>
<div class="line"><span class="lineno"> 6242</span> </div>
<div class="line"><span class="lineno"> 6243</span>    output_user_info = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 6244</span>    <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 6245</span>  <span class="keywordflow">case</span> OPT::USER_RENAME:</div>
<div class="line"><span class="lineno"> 6246</span>    <span class="keywordflow">if</span> (yes_i_really_mean_it) {</div>
<div class="line"><span class="lineno"> 6247</span>      user_op.set_overwrite_new_user(<span class="keyword">true</span>);</div>
<div class="line"><span class="lineno"> 6248</span>    }</div>
<div class="line"><span class="lineno"> 6249</span>    ret = ruser.<a class="code hl_function" href="class_r_g_w_user.html#ab317e43168187e087dfa6baf4662af9a">rename</a>(user_op, null_yield, <a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>(), &amp;err_msg);</div>
<div class="line"><span class="lineno"> 6250</span>    <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno"> 6251</span>      <span class="keywordflow">if</span> (ret == -EEXIST) {</div>
<div class="line"><span class="lineno"> 6252</span>        err_msg += <span class="stringliteral">&quot;. to overwrite this user, add --yes-i-really-mean-it&quot;</span>;</div>
<div class="line"><span class="lineno"> 6253</span>      }</div>
<div class="line"><span class="lineno"> 6254</span>      cerr &lt;&lt; <span class="stringliteral">&quot;could not rename user: &quot;</span> &lt;&lt; err_msg &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 6255</span>      <span class="keywordflow">return</span> -ret;</div>
<div class="line"><span class="lineno"> 6256</span>    }</div>
<div class="line"><span class="lineno"> 6257</span> </div>
<div class="line"><span class="lineno"> 6258</span>    <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 6259</span>  <span class="keywordflow">case</span> OPT::USER_ENABLE:</div>
<div class="line"><span class="lineno"> 6260</span>  <span class="keywordflow">case</span> OPT::USER_SUSPEND:</div>
<div class="line"><span class="lineno"> 6261</span>  <span class="keywordflow">case</span> OPT::USER_MODIFY:</div>
<div class="line"><span class="lineno"> 6262</span>    ret = ruser.<a class="code hl_function" href="class_r_g_w_user.html#a986f339b0dcd99bc46671bf22e45c280">modify</a>(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>(), user_op, null_yield, &amp;err_msg);</div>
<div class="line"><span class="lineno"> 6263</span>    <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno"> 6264</span>      cerr &lt;&lt; <span class="stringliteral">&quot;could not modify user: &quot;</span> &lt;&lt; err_msg &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 6265</span>      <span class="keywordflow">return</span> -ret;</div>
<div class="line"><span class="lineno"> 6266</span>    }</div>
<div class="line"><span class="lineno"> 6267</span> </div>
<div class="line"><span class="lineno"> 6268</span>    <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 6269</span>  <span class="keywordflow">case</span> OPT::SUBUSER_CREATE:</div>
<div class="line"><span class="lineno"> 6270</span>    ret = ruser.<a class="code hl_variable" href="class_r_g_w_user.html#ac1a440c0648dd3306c5ff29a5f9f1b05">subusers</a>.<a class="code hl_function" href="class_r_g_w_sub_user_pool.html#ab49488747d359993ada4003b4dc8a98c">add</a>(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>(), user_op, null_yield, &amp;err_msg);</div>
<div class="line"><span class="lineno"> 6271</span>    <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno"> 6272</span>      cerr &lt;&lt; <span class="stringliteral">&quot;could not create subuser: &quot;</span> &lt;&lt; err_msg &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 6273</span>      <span class="keywordflow">return</span> -ret;</div>
<div class="line"><span class="lineno"> 6274</span>    }</div>
<div class="line"><span class="lineno"> 6275</span> </div>
<div class="line"><span class="lineno"> 6276</span>    <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 6277</span>  <span class="keywordflow">case</span> OPT::SUBUSER_MODIFY:</div>
<div class="line"><span class="lineno"> 6278</span>    ret = ruser.<a class="code hl_variable" href="class_r_g_w_user.html#ac1a440c0648dd3306c5ff29a5f9f1b05">subusers</a>.<a class="code hl_function" href="class_r_g_w_sub_user_pool.html#a7497c6d0dfccfe81dd08610860740061">modify</a>(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>(), user_op, null_yield, &amp;err_msg);</div>
<div class="line"><span class="lineno"> 6279</span>    <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno"> 6280</span>      cerr &lt;&lt; <span class="stringliteral">&quot;could not modify subuser: &quot;</span> &lt;&lt; err_msg &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 6281</span>      <span class="keywordflow">return</span> -ret;</div>
<div class="line"><span class="lineno"> 6282</span>    }</div>
<div class="line"><span class="lineno"> 6283</span> </div>
<div class="line"><span class="lineno"> 6284</span>    <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 6285</span>  <span class="keywordflow">case</span> OPT::SUBUSER_RM:</div>
<div class="line"><span class="lineno"> 6286</span>    ret = ruser.<a class="code hl_variable" href="class_r_g_w_user.html#ac1a440c0648dd3306c5ff29a5f9f1b05">subusers</a>.<a class="code hl_function" href="class_r_g_w_sub_user_pool.html#afb96a658032bb873177c27cbad77e821">remove</a>(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>(), user_op, null_yield, &amp;err_msg);</div>
<div class="line"><span class="lineno"> 6287</span>    <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno"> 6288</span>      cerr &lt;&lt; <span class="stringliteral">&quot;could not remove subuser: &quot;</span> &lt;&lt; err_msg &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 6289</span>      <span class="keywordflow">return</span> -ret;</div>
<div class="line"><span class="lineno"> 6290</span>    }</div>
<div class="line"><span class="lineno"> 6291</span> </div>
<div class="line"><span class="lineno"> 6292</span>    <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 6293</span>  <span class="keywordflow">case</span> OPT::CAPS_ADD:</div>
<div class="line"><span class="lineno"> 6294</span>    ret = ruser.<a class="code hl_variable" href="class_r_g_w_user.html#a45beb007a2a6b08c5796115dd9e64133">caps</a>.<a class="code hl_function" href="class_r_g_w_user_cap_pool.html#a217d4dae65ab9ce238c8428846a03087">add</a>(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>(), user_op, null_yield, &amp;err_msg);</div>
<div class="line"><span class="lineno"> 6295</span>    <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno"> 6296</span>      cerr &lt;&lt; <span class="stringliteral">&quot;could not add caps: &quot;</span> &lt;&lt; err_msg &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 6297</span>      <span class="keywordflow">return</span> -ret;</div>
<div class="line"><span class="lineno"> 6298</span>    }</div>
<div class="line"><span class="lineno"> 6299</span> </div>
<div class="line"><span class="lineno"> 6300</span>    <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 6301</span>  <span class="keywordflow">case</span> OPT::CAPS_RM:</div>
<div class="line"><span class="lineno"> 6302</span>    ret = ruser.<a class="code hl_variable" href="class_r_g_w_user.html#a45beb007a2a6b08c5796115dd9e64133">caps</a>.<a class="code hl_function" href="class_r_g_w_user_cap_pool.html#af5d464c955ad622da16c9b54eba06b41">remove</a>(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>(), user_op, null_yield, &amp;err_msg);</div>
<div class="line"><span class="lineno"> 6303</span>    <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno"> 6304</span>      cerr &lt;&lt; <span class="stringliteral">&quot;could not remove caps: &quot;</span> &lt;&lt; err_msg &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 6305</span>      <span class="keywordflow">return</span> -ret;</div>
<div class="line"><span class="lineno"> 6306</span>    }</div>
<div class="line"><span class="lineno"> 6307</span> </div>
<div class="line"><span class="lineno"> 6308</span>    <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 6309</span>  <span class="keywordflow">case</span> OPT::KEY_CREATE:</div>
<div class="line"><span class="lineno"> 6310</span>    ret = ruser.<a class="code hl_variable" href="class_r_g_w_user.html#a4bdd5e67da0422d6921eb9269556d7bb">keys</a>.<a class="code hl_function" href="class_r_g_w_access_key_pool.html#aaf2c2052b7273c8ae055f55835440e20">add</a>(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>(), user_op, null_yield, &amp;err_msg);</div>
<div class="line"><span class="lineno"> 6311</span>    <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno"> 6312</span>      cerr &lt;&lt; <span class="stringliteral">&quot;could not create key: &quot;</span> &lt;&lt; err_msg &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 6313</span>      <span class="keywordflow">return</span> -ret;</div>
<div class="line"><span class="lineno"> 6314</span>    }</div>
<div class="line"><span class="lineno"> 6315</span> </div>
<div class="line"><span class="lineno"> 6316</span>    <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 6317</span>  <span class="keywordflow">case</span> OPT::KEY_RM:</div>
<div class="line"><span class="lineno"> 6318</span>    ret = ruser.<a class="code hl_variable" href="class_r_g_w_user.html#a4bdd5e67da0422d6921eb9269556d7bb">keys</a>.<a class="code hl_function" href="class_r_g_w_access_key_pool.html#a70773c71fd9f1c3eefb1141b67ca40e7">remove</a>(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>(), user_op, null_yield, &amp;err_msg);</div>
<div class="line"><span class="lineno"> 6319</span>    <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno"> 6320</span>      cerr &lt;&lt; <span class="stringliteral">&quot;could not remove key: &quot;</span> &lt;&lt; err_msg &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 6321</span>      <span class="keywordflow">return</span> -ret;</div>
<div class="line"><span class="lineno"> 6322</span>    }</div>
<div class="line"><span class="lineno"> 6323</span>    <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 6324</span>  <span class="keywordflow">case</span> OPT::PERIOD_PUSH:</div>
<div class="line"><span class="lineno"> 6325</span>    {</div>
<div class="line"><span class="lineno"> 6326</span>      <a class="code hl_class" href="class_r_g_w_env.html">RGWEnv</a> <a class="code hl_variable" href="namespacegtest.html#aa341a0cb52b74c0879a269b35e8f323c">env</a>;</div>
<div class="line"><span class="lineno"> 6327</span>      <a class="code hl_struct" href="structreq__info.html">req_info</a> info(g_ceph_context, &amp;env);</div>
<div class="line"><span class="lineno"> 6328</span>      info.method = <span class="stringliteral">&quot;POST&quot;</span>;</div>
<div class="line"><span class="lineno"> 6329</span>      info.request_uri = <span class="stringliteral">&quot;/admin/realm/period&quot;</span>;</div>
<div class="line"><span class="lineno"> 6330</span> </div>
<div class="line"><span class="lineno"> 6331</span>      map&lt;string, string&gt; &amp;params = info.args.get_params();</div>
<div class="line"><span class="lineno"> 6332</span>      <span class="keywordflow">if</span> (!realm_id.empty())</div>
<div class="line"><span class="lineno"> 6333</span>        params[<span class="stringliteral">&quot;realm_id&quot;</span>] = realm_id;</div>
<div class="line"><span class="lineno"> 6334</span>      <span class="keywordflow">if</span> (!realm_name.empty())</div>
<div class="line"><span class="lineno"> 6335</span>        params[<span class="stringliteral">&quot;realm_name&quot;</span>] = realm_name;</div>
<div class="line"><span class="lineno"> 6336</span>      <span class="keywordflow">if</span> (!period_id.empty())</div>
<div class="line"><span class="lineno"> 6337</span>        params[<span class="stringliteral">&quot;period_id&quot;</span>] = period_id;</div>
<div class="line"><span class="lineno"> 6338</span>      <span class="keywordflow">if</span> (!period_epoch.empty())</div>
<div class="line"><span class="lineno"> 6339</span>        params[<span class="stringliteral">&quot;epoch&quot;</span>] = period_epoch;</div>
<div class="line"><span class="lineno"> 6340</span> </div>
<div class="line"><span class="lineno"> 6341</span>      <span class="comment">// load the period</span></div>
<div class="line"><span class="lineno"> 6342</span>      <a class="code hl_class" href="class_r_g_w_period.html">RGWPeriod</a> period(period_id);</div>
<div class="line"><span class="lineno"> 6343</span>      <span class="keywordtype">int</span> ret = period.<a class="code hl_function" href="class_r_g_w_period.html#aa5e1b5147ab3f01311c33cc73927d1c2">init</a>(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>(), g_ceph_context, <span class="keyword">static_cast&lt;</span><a class="code hl_class" href="classrgw_1_1sal_1_1_rados_store.html">rgw::sal::RadosStore</a>*<span class="keyword">&gt;</span>(<a class="code hl_variable" href="rgw__admin_8cc.html#a6fdb26d64b14d837b60e83a6ca3e2863">store</a>)-&gt;svc()-&gt;sysobj, null_yield);</div>
<div class="line"><span class="lineno"> 6344</span>      <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno"> 6345</span>        cerr &lt;&lt; <span class="stringliteral">&quot;period init failed: &quot;</span> &lt;&lt; cpp_strerror(-ret) &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 6346</span>        <span class="keywordflow">return</span> -ret;</div>
<div class="line"><span class="lineno"> 6347</span>      }</div>
<div class="line"><span class="lineno"> 6348</span>      <span class="comment">// json format into a bufferlist</span></div>
<div class="line"><span class="lineno"> 6349</span>      JSONFormatter jf(<span class="keyword">false</span>);</div>
<div class="line"><span class="lineno"> 6350</span>      <a class="code hl_function" href="rgw__admin_8cc.html#ab596b9e1a1fc78e98a4d13a66578b658">encode_json</a>(<span class="stringliteral">&quot;period&quot;</span>, period, &amp;jf);</div>
<div class="line"><span class="lineno"> 6351</span>      bufferlist bl;</div>
<div class="line"><span class="lineno"> 6352</span>      jf.flush(bl);</div>
<div class="line"><span class="lineno"> 6353</span> </div>
<div class="line"><span class="lineno"> 6354</span>      JSONParser p;</div>
<div class="line"><span class="lineno"> 6355</span>      ret = <a class="code hl_function" href="rgw__admin_8cc.html#aff0d5161d67f7441b3696da1f415130d">send_to_remote_or_url</a>(<span class="keyword">nullptr</span>, url, opt_region,</div>
<div class="line"><span class="lineno"> 6356</span>                                  access_key, secret_key,</div>
<div class="line"><span class="lineno"> 6357</span>                                  info, bl, p);</div>
<div class="line"><span class="lineno"> 6358</span>      <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno"> 6359</span>        cerr &lt;&lt; <span class="stringliteral">&quot;request failed: &quot;</span> &lt;&lt; cpp_strerror(-ret) &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 6360</span>        <span class="keywordflow">return</span> -ret;</div>
<div class="line"><span class="lineno"> 6361</span>      }</div>
<div class="line"><span class="lineno"> 6362</span>    }</div>
<div class="line"><span class="lineno"> 6363</span>    <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno"> 6364</span>  <span class="keywordflow">case</span> OPT::PERIOD_UPDATE:</div>
<div class="line"><span class="lineno"> 6365</span>    {</div>
<div class="line"><span class="lineno"> 6366</span>      <span class="keywordtype">int</span> ret = <a class="code hl_function" href="rgw__admin_8cc.html#a4dd5fe9ff30e3225bca7a06c01dde2bd">update_period</a>(realm_id, realm_name, period_id, period_epoch,</div>
<div class="line"><span class="lineno"> 6367</span>                              commit, remote, url, opt_region,</div>
<div class="line"><span class="lineno"> 6368</span>                              access_key, secret_key,</div>
<div class="line"><span class="lineno"> 6369</span>                              formatter.get(), yes_i_really_mean_it);</div>
<div class="line"><span class="lineno"> 6370</span>      <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno"> 6371</span>    <span class="keywordflow">return</span> -ret;</div>
<div class="line"><span class="lineno"> 6372</span>      }</div>
<div class="line"><span class="lineno"> 6373</span>    }</div>
<div class="line"><span class="lineno"> 6374</span>    <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno"> 6375</span>  <span class="keywordflow">case</span> OPT::PERIOD_COMMIT:</div>
<div class="line"><span class="lineno"> 6376</span>    {</div>
<div class="line"><span class="lineno"> 6377</span>      <span class="comment">// read realm and staging period</span></div>
<div class="line"><span class="lineno"> 6378</span>      <a class="code hl_class" href="class_r_g_w_realm.html">RGWRealm</a> realm(realm_id, realm_name);</div>
<div class="line"><span class="lineno"> 6379</span>      <span class="keywordtype">int</span> ret = realm.<a class="code hl_function" href="class_r_g_w_system_meta_obj.html#a23150c4c841a29335f5a93ede8f8ecb6">init</a>(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>(), g_ceph_context, <span class="keyword">static_cast&lt;</span><a class="code hl_class" href="classrgw_1_1sal_1_1_rados_store.html">rgw::sal::RadosStore</a>*<span class="keyword">&gt;</span>(<a class="code hl_variable" href="rgw__admin_8cc.html#a6fdb26d64b14d837b60e83a6ca3e2863">store</a>)-&gt;svc()-&gt;sysobj, null_yield);</div>
<div class="line"><span class="lineno"> 6380</span>      <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno"> 6381</span>        cerr &lt;&lt; <span class="stringliteral">&quot;Error initializing realm: &quot;</span> &lt;&lt; cpp_strerror(-ret) &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 6382</span>        <span class="keywordflow">return</span> -ret;</div>
<div class="line"><span class="lineno"> 6383</span>      }</div>
<div class="line"><span class="lineno"> 6384</span>      <a class="code hl_class" href="class_r_g_w_period.html">RGWPeriod</a> period(<a class="code hl_function" href="class_r_g_w_period.html#abc1527dee0d6211fc4caeabf0af3a46a">RGWPeriod::get_staging_id</a>(realm.<a class="code hl_function" href="class_r_g_w_system_meta_obj.html#ab885e5d275a5396cc473703ab55f50b1">get_id</a>()), 1);</div>
<div class="line"><span class="lineno"> 6385</span>      ret = period.<a class="code hl_function" href="class_r_g_w_period.html#aa5e1b5147ab3f01311c33cc73927d1c2">init</a>(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>(), g_ceph_context, <span class="keyword">static_cast&lt;</span><a class="code hl_class" href="classrgw_1_1sal_1_1_rados_store.html">rgw::sal::RadosStore</a>*<span class="keyword">&gt;</span>(<a class="code hl_variable" href="rgw__admin_8cc.html#a6fdb26d64b14d837b60e83a6ca3e2863">store</a>)-&gt;svc()-&gt;sysobj, realm.<a class="code hl_function" href="class_r_g_w_system_meta_obj.html#ab885e5d275a5396cc473703ab55f50b1">get_id</a>(), null_yield);</div>
<div class="line"><span class="lineno"> 6386</span>      <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno"> 6387</span>        cerr &lt;&lt; <span class="stringliteral">&quot;period init failed: &quot;</span> &lt;&lt; cpp_strerror(-ret) &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 6388</span>        <span class="keywordflow">return</span> -ret;</div>
<div class="line"><span class="lineno"> 6389</span>      }</div>
<div class="line"><span class="lineno"> 6390</span>      ret = <a class="code hl_function" href="rgw__admin_8cc.html#aa84c5ba46881dc6ab82e752f5864a5d6">commit_period</a>(realm, period, remote, url, opt_region, access_key, secret_key,</div>
<div class="line"><span class="lineno"> 6391</span>                          yes_i_really_mean_it);</div>
<div class="line"><span class="lineno"> 6392</span>      <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno"> 6393</span>        cerr &lt;&lt; <span class="stringliteral">&quot;failed to commit period: &quot;</span> &lt;&lt; cpp_strerror(-ret) &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 6394</span>        <span class="keywordflow">return</span> -ret;</div>
<div class="line"><span class="lineno"> 6395</span>      }</div>
<div class="line"><span class="lineno"> 6396</span> </div>
<div class="line"><span class="lineno"> 6397</span>      <a class="code hl_function" href="rgw__admin_8cc.html#ab596b9e1a1fc78e98a4d13a66578b658">encode_json</a>(<span class="stringliteral">&quot;period&quot;</span>, period, formatter.get());</div>
<div class="line"><span class="lineno"> 6398</span>      formatter-&gt;flush(cout);</div>
<div class="line"><span class="lineno"> 6399</span>    }</div>
<div class="line"><span class="lineno"> 6400</span>    <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno"> 6401</span>  <span class="keywordflow">case</span> OPT::ROLE_CREATE:</div>
<div class="line"><span class="lineno"> 6402</span>    {</div>
<div class="line"><span class="lineno"> 6403</span>      <span class="keywordflow">if</span> (role_name.empty()) {</div>
<div class="line"><span class="lineno"> 6404</span>        cerr &lt;&lt; <span class="stringliteral">&quot;ERROR: role name is empty&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 6405</span>        <span class="keywordflow">return</span> -EINVAL;</div>
<div class="line"><span class="lineno"> 6406</span>      }</div>
<div class="line"><span class="lineno"> 6407</span> </div>
<div class="line"><span class="lineno"> 6408</span>      <span class="keywordflow">if</span> (assume_role_doc.empty()) {</div>
<div class="line"><span class="lineno"> 6409</span>        cerr &lt;&lt; <span class="stringliteral">&quot;ERROR: assume role policy document is empty&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 6410</span>        <span class="keywordflow">return</span> -EINVAL;</div>
<div class="line"><span class="lineno"> 6411</span>      }</div>
<div class="line"><span class="lineno"> 6412</span>      bufferlist bl = bufferlist::static_from_string(assume_role_doc);</div>
<div class="line"><span class="lineno"> 6413</span>      <span class="keywordflow">try</span> {</div>
<div class="line"><span class="lineno"> 6414</span>        <span class="keyword">const</span> <a class="code hl_struct" href="structrgw_1_1_i_a_m_1_1_policy.html">rgw::IAM::Policy</a> p(g_ceph_context, tenant, bl);</div>
<div class="line"><span class="lineno"> 6415</span>      } <span class="keywordflow">catch</span> (<a class="code hl_struct" href="structrgw_1_1_i_a_m_1_1_policy_parse_exception.html">rgw::IAM::PolicyParseException</a>&amp; e) {</div>
<div class="line"><span class="lineno"> 6416</span>        cerr &lt;&lt; <span class="stringliteral">&quot;failed to parse policy: &quot;</span> &lt;&lt; e.<a class="code hl_function" href="structrgw_1_1_i_a_m_1_1_policy_parse_exception.html#a1411a1c03c0530daeb1beaefa4324f9b">what</a>() &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 6417</span>        <span class="keywordflow">return</span> -EINVAL;</div>
<div class="line"><span class="lineno"> 6418</span>      }</div>
<div class="line"><span class="lineno"> 6419</span>      std::unique_ptr&lt;rgw::sal::RGWRole&gt; role = <a class="code hl_variable" href="rgw__admin_8cc.html#a6fdb26d64b14d837b60e83a6ca3e2863">store</a>-&gt;<a class="code hl_function" href="classrgw_1_1sal_1_1_store.html#af3e1a304b9f14912cf7f1151700d84bf">get_role</a>(role_name, tenant, path, assume_role_doc);</div>
<div class="line"><span class="lineno"> 6420</span>      ret = role-&gt;create(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>(), <span class="keyword">true</span>, <span class="stringliteral">&quot;&quot;</span>, null_yield);</div>
<div class="line"><span class="lineno"> 6421</span>      <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno"> 6422</span>        <span class="keywordflow">return</span> -ret;</div>
<div class="line"><span class="lineno"> 6423</span>      }</div>
<div class="line"><span class="lineno"> 6424</span>      <a class="code hl_function" href="rgw__admin_8cc.html#ad4505e23f8adf8af749407b1b8edede4">show_role_info</a>(role.get(), formatter.get());</div>
<div class="line"><span class="lineno"> 6425</span>      <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno"> 6426</span>    }</div>
<div class="line"><span class="lineno"> 6427</span>  <span class="keywordflow">case</span> OPT::ROLE_DELETE:</div>
<div class="line"><span class="lineno"> 6428</span>    {</div>
<div class="line"><span class="lineno"> 6429</span>      <span class="keywordflow">if</span> (role_name.empty()) {</div>
<div class="line"><span class="lineno"> 6430</span>        cerr &lt;&lt; <span class="stringliteral">&quot;ERROR: empty role name&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 6431</span>        <span class="keywordflow">return</span> -EINVAL;</div>
<div class="line"><span class="lineno"> 6432</span>      }</div>
<div class="line"><span class="lineno"> 6433</span>      std::unique_ptr&lt;rgw::sal::RGWRole&gt; role = <a class="code hl_variable" href="rgw__admin_8cc.html#a6fdb26d64b14d837b60e83a6ca3e2863">store</a>-&gt;<a class="code hl_function" href="classrgw_1_1sal_1_1_store.html#af3e1a304b9f14912cf7f1151700d84bf">get_role</a>(role_name, tenant);</div>
<div class="line"><span class="lineno"> 6434</span>      ret = role-&gt;delete_obj(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>(), null_yield);</div>
<div class="line"><span class="lineno"> 6435</span>      <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno"> 6436</span>        <span class="keywordflow">return</span> -ret;</div>
<div class="line"><span class="lineno"> 6437</span>      }</div>
<div class="line"><span class="lineno"> 6438</span>      cout &lt;&lt; <span class="stringliteral">&quot;role: &quot;</span> &lt;&lt; role_name &lt;&lt; <span class="stringliteral">&quot; successfully deleted&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 6439</span>      <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno"> 6440</span>    }</div>
<div class="line"><span class="lineno"> 6441</span>  <span class="keywordflow">case</span> OPT::ROLE_GET:</div>
<div class="line"><span class="lineno"> 6442</span>    {</div>
<div class="line"><span class="lineno"> 6443</span>      <span class="keywordflow">if</span> (role_name.empty()) {</div>
<div class="line"><span class="lineno"> 6444</span>        cerr &lt;&lt; <span class="stringliteral">&quot;ERROR: empty role name&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 6445</span>        <span class="keywordflow">return</span> -EINVAL;</div>
<div class="line"><span class="lineno"> 6446</span>      }</div>
<div class="line"><span class="lineno"> 6447</span>      std::unique_ptr&lt;rgw::sal::RGWRole&gt; role = <a class="code hl_variable" href="rgw__admin_8cc.html#a6fdb26d64b14d837b60e83a6ca3e2863">store</a>-&gt;<a class="code hl_function" href="classrgw_1_1sal_1_1_store.html#af3e1a304b9f14912cf7f1151700d84bf">get_role</a>(role_name, tenant);</div>
<div class="line"><span class="lineno"> 6448</span>      ret = role-&gt;get(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>(), null_yield);</div>
<div class="line"><span class="lineno"> 6449</span>      <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno"> 6450</span>        <span class="keywordflow">return</span> -ret;</div>
<div class="line"><span class="lineno"> 6451</span>      }</div>
<div class="line"><span class="lineno"> 6452</span>      <a class="code hl_function" href="rgw__admin_8cc.html#ad4505e23f8adf8af749407b1b8edede4">show_role_info</a>(role.get(), formatter.get());</div>
<div class="line"><span class="lineno"> 6453</span>      <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno"> 6454</span>    }</div>
<div class="line"><span class="lineno"> 6455</span>  <span class="keywordflow">case</span> OPT::ROLE_MODIFY:</div>
<div class="line"><span class="lineno"> 6456</span>    {</div>
<div class="line"><span class="lineno"> 6457</span>      <span class="keywordflow">if</span> (role_name.empty()) {</div>
<div class="line"><span class="lineno"> 6458</span>        cerr &lt;&lt; <span class="stringliteral">&quot;ERROR: role name is empty&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 6459</span>        <span class="keywordflow">return</span> -EINVAL;</div>
<div class="line"><span class="lineno"> 6460</span>      }</div>
<div class="line"><span class="lineno"> 6461</span> </div>
<div class="line"><span class="lineno"> 6462</span>      <span class="keywordflow">if</span> (assume_role_doc.empty()) {</div>
<div class="line"><span class="lineno"> 6463</span>        cerr &lt;&lt; <span class="stringliteral">&quot;ERROR: assume role policy document is empty&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 6464</span>        <span class="keywordflow">return</span> -EINVAL;</div>
<div class="line"><span class="lineno"> 6465</span>      }</div>
<div class="line"><span class="lineno"> 6466</span> </div>
<div class="line"><span class="lineno"> 6467</span>      bufferlist bl = bufferlist::static_from_string(assume_role_doc);</div>
<div class="line"><span class="lineno"> 6468</span>      <span class="keywordflow">try</span> {</div>
<div class="line"><span class="lineno"> 6469</span>        <span class="keyword">const</span> <a class="code hl_struct" href="structrgw_1_1_i_a_m_1_1_policy.html">rgw::IAM::Policy</a> p(g_ceph_context, tenant, bl);</div>
<div class="line"><span class="lineno"> 6470</span>      } <span class="keywordflow">catch</span> (<a class="code hl_struct" href="structrgw_1_1_i_a_m_1_1_policy_parse_exception.html">rgw::IAM::PolicyParseException</a>&amp; e) {</div>
<div class="line"><span class="lineno"> 6471</span>        cerr &lt;&lt; <span class="stringliteral">&quot;failed to parse policy: &quot;</span> &lt;&lt; e.<a class="code hl_function" href="structrgw_1_1_i_a_m_1_1_policy_parse_exception.html#a1411a1c03c0530daeb1beaefa4324f9b">what</a>() &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 6472</span>        <span class="keywordflow">return</span> -EINVAL;</div>
<div class="line"><span class="lineno"> 6473</span>      }</div>
<div class="line"><span class="lineno"> 6474</span> </div>
<div class="line"><span class="lineno"> 6475</span>      std::unique_ptr&lt;rgw::sal::RGWRole&gt; role = <a class="code hl_variable" href="rgw__admin_8cc.html#a6fdb26d64b14d837b60e83a6ca3e2863">store</a>-&gt;<a class="code hl_function" href="classrgw_1_1sal_1_1_store.html#af3e1a304b9f14912cf7f1151700d84bf">get_role</a>(role_name, tenant);</div>
<div class="line"><span class="lineno"> 6476</span>      ret = role-&gt;get(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>(), null_yield);</div>
<div class="line"><span class="lineno"> 6477</span>      <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno"> 6478</span>        <span class="keywordflow">return</span> -ret;</div>
<div class="line"><span class="lineno"> 6479</span>      }</div>
<div class="line"><span class="lineno"> 6480</span>      role-&gt;update_trust_policy(assume_role_doc);</div>
<div class="line"><span class="lineno"> 6481</span>      ret = role-&gt;update(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>(), null_yield);</div>
<div class="line"><span class="lineno"> 6482</span>      <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno"> 6483</span>        <span class="keywordflow">return</span> -ret;</div>
<div class="line"><span class="lineno"> 6484</span>      }</div>
<div class="line"><span class="lineno"> 6485</span>      cout &lt;&lt; <span class="stringliteral">&quot;Assume role policy document updated successfully for role: &quot;</span> &lt;&lt; role_name &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 6486</span>      <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno"> 6487</span>    }</div>
<div class="line"><span class="lineno"> 6488</span>  <span class="keywordflow">case</span> OPT::ROLE_LIST:</div>
<div class="line"><span class="lineno"> 6489</span>    {</div>
<div class="line"><span class="lineno"> 6490</span>      vector&lt;std::unique_ptr&lt;rgw::sal::RGWRole&gt;&gt; result;</div>
<div class="line"><span class="lineno"> 6491</span>      ret = <a class="code hl_variable" href="rgw__admin_8cc.html#a6fdb26d64b14d837b60e83a6ca3e2863">store</a>-&gt;<a class="code hl_function" href="classrgw_1_1sal_1_1_store.html#a2bf7ed8113c1ca38657367c70c7e4f5b">get_roles</a>(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>(), null_yield, path_prefix, tenant, result);</div>
<div class="line"><span class="lineno"> 6492</span>      <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno"> 6493</span>        <span class="keywordflow">return</span> -ret;</div>
<div class="line"><span class="lineno"> 6494</span>      }</div>
<div class="line"><span class="lineno"> 6495</span>      <a class="code hl_function" href="rgw__admin_8cc.html#a1cef36570411312985736b706edeb5b2">show_roles_info</a>(result, formatter.get());</div>
<div class="line"><span class="lineno"> 6496</span>      <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno"> 6497</span>    }</div>
<div class="line"><span class="lineno"> 6498</span>  <span class="keywordflow">case</span> OPT::ROLE_POLICY_PUT:</div>
<div class="line"><span class="lineno"> 6499</span>    {</div>
<div class="line"><span class="lineno"> 6500</span>      <span class="keywordflow">if</span> (role_name.empty()) {</div>
<div class="line"><span class="lineno"> 6501</span>        cerr &lt;&lt; <span class="stringliteral">&quot;role name is empty&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 6502</span>        <span class="keywordflow">return</span> -EINVAL;</div>
<div class="line"><span class="lineno"> 6503</span>      }</div>
<div class="line"><span class="lineno"> 6504</span> </div>
<div class="line"><span class="lineno"> 6505</span>      <span class="keywordflow">if</span> (policy_name.empty()) {</div>
<div class="line"><span class="lineno"> 6506</span>        cerr &lt;&lt; <span class="stringliteral">&quot;policy name is empty&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 6507</span>        <span class="keywordflow">return</span> -EINVAL;</div>
<div class="line"><span class="lineno"> 6508</span>      }</div>
<div class="line"><span class="lineno"> 6509</span> </div>
<div class="line"><span class="lineno"> 6510</span>      <span class="keywordflow">if</span> (perm_policy_doc.empty()) {</div>
<div class="line"><span class="lineno"> 6511</span>        cerr &lt;&lt; <span class="stringliteral">&quot;permission policy document is empty&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 6512</span>        <span class="keywordflow">return</span> -EINVAL;</div>
<div class="line"><span class="lineno"> 6513</span>      }</div>
<div class="line"><span class="lineno"> 6514</span> </div>
<div class="line"><span class="lineno"> 6515</span>      bufferlist bl = bufferlist::static_from_string(perm_policy_doc);</div>
<div class="line"><span class="lineno"> 6516</span>      <span class="keywordflow">try</span> {</div>
<div class="line"><span class="lineno"> 6517</span>        <span class="keyword">const</span> <a class="code hl_struct" href="structrgw_1_1_i_a_m_1_1_policy.html">rgw::IAM::Policy</a> p(g_ceph_context, tenant, bl);</div>
<div class="line"><span class="lineno"> 6518</span>      } <span class="keywordflow">catch</span> (<a class="code hl_struct" href="structrgw_1_1_i_a_m_1_1_policy_parse_exception.html">rgw::IAM::PolicyParseException</a>&amp; e) {</div>
<div class="line"><span class="lineno"> 6519</span>        cerr &lt;&lt; <span class="stringliteral">&quot;failed to parse perm policy: &quot;</span> &lt;&lt; e.<a class="code hl_function" href="structrgw_1_1_i_a_m_1_1_policy_parse_exception.html#a1411a1c03c0530daeb1beaefa4324f9b">what</a>() &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 6520</span>        <span class="keywordflow">return</span> -EINVAL;</div>
<div class="line"><span class="lineno"> 6521</span>      }</div>
<div class="line"><span class="lineno"> 6522</span> </div>
<div class="line"><span class="lineno"> 6523</span>      std::unique_ptr&lt;rgw::sal::RGWRole&gt; role = <a class="code hl_variable" href="rgw__admin_8cc.html#a6fdb26d64b14d837b60e83a6ca3e2863">store</a>-&gt;<a class="code hl_function" href="classrgw_1_1sal_1_1_store.html#af3e1a304b9f14912cf7f1151700d84bf">get_role</a>(role_name, tenant);</div>
<div class="line"><span class="lineno"> 6524</span>      ret = role-&gt;get(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>(), null_yield);</div>
<div class="line"><span class="lineno"> 6525</span>      <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno"> 6526</span>        <span class="keywordflow">return</span> -ret;</div>
<div class="line"><span class="lineno"> 6527</span>      }</div>
<div class="line"><span class="lineno"> 6528</span>      role-&gt;set_perm_policy(policy_name, perm_policy_doc);</div>
<div class="line"><span class="lineno"> 6529</span>      ret = role-&gt;update(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>(), null_yield);</div>
<div class="line"><span class="lineno"> 6530</span>      <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno"> 6531</span>        <span class="keywordflow">return</span> -ret;</div>
<div class="line"><span class="lineno"> 6532</span>      }</div>
<div class="line"><span class="lineno"> 6533</span>      cout &lt;&lt; <span class="stringliteral">&quot;Permission policy attached successfully&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 6534</span>      <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno"> 6535</span>    }</div>
<div class="line"><span class="lineno"> 6536</span>  <span class="keywordflow">case</span> OPT::ROLE_POLICY_LIST:</div>
<div class="line"><span class="lineno"> 6537</span>    {</div>
<div class="line"><span class="lineno"> 6538</span>      <span class="keywordflow">if</span> (role_name.empty()) {</div>
<div class="line"><span class="lineno"> 6539</span>        cerr &lt;&lt; <span class="stringliteral">&quot;ERROR: Role name is empty&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 6540</span>        <span class="keywordflow">return</span> -EINVAL;</div>
<div class="line"><span class="lineno"> 6541</span>      }</div>
<div class="line"><span class="lineno"> 6542</span>      std::unique_ptr&lt;rgw::sal::RGWRole&gt; role = <a class="code hl_variable" href="rgw__admin_8cc.html#a6fdb26d64b14d837b60e83a6ca3e2863">store</a>-&gt;<a class="code hl_function" href="classrgw_1_1sal_1_1_store.html#af3e1a304b9f14912cf7f1151700d84bf">get_role</a>(role_name, tenant);</div>
<div class="line"><span class="lineno"> 6543</span>      ret = role-&gt;get(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>(), null_yield);</div>
<div class="line"><span class="lineno"> 6544</span>      <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno"> 6545</span>        <span class="keywordflow">return</span> -ret;</div>
<div class="line"><span class="lineno"> 6546</span>      }</div>
<div class="line"><span class="lineno"> 6547</span>      std::vector&lt;string&gt; policy_names = role-&gt;get_role_policy_names();</div>
<div class="line"><span class="lineno"> 6548</span>      <a class="code hl_function" href="rgw__admin_8cc.html#ac0f52a9c50ded977fa7b5273f6797c80">show_policy_names</a>(policy_names, formatter.get());</div>
<div class="line"><span class="lineno"> 6549</span>      <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno"> 6550</span>    }</div>
<div class="line"><span class="lineno"> 6551</span>  <span class="keywordflow">case</span> OPT::ROLE_POLICY_GET:</div>
<div class="line"><span class="lineno"> 6552</span>    {</div>
<div class="line"><span class="lineno"> 6553</span>      <span class="keywordflow">if</span> (role_name.empty()) {</div>
<div class="line"><span class="lineno"> 6554</span>        cerr &lt;&lt; <span class="stringliteral">&quot;ERROR: role name is empty&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 6555</span>        <span class="keywordflow">return</span> -EINVAL;</div>
<div class="line"><span class="lineno"> 6556</span>      }</div>
<div class="line"><span class="lineno"> 6557</span> </div>
<div class="line"><span class="lineno"> 6558</span>      <span class="keywordflow">if</span> (policy_name.empty()) {</div>
<div class="line"><span class="lineno"> 6559</span>        cerr &lt;&lt; <span class="stringliteral">&quot;ERROR: policy name is empty&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 6560</span>        <span class="keywordflow">return</span> -EINVAL;</div>
<div class="line"><span class="lineno"> 6561</span>      }</div>
<div class="line"><span class="lineno"> 6562</span>      std::unique_ptr&lt;rgw::sal::RGWRole&gt; role = <a class="code hl_variable" href="rgw__admin_8cc.html#a6fdb26d64b14d837b60e83a6ca3e2863">store</a>-&gt;<a class="code hl_function" href="classrgw_1_1sal_1_1_store.html#af3e1a304b9f14912cf7f1151700d84bf">get_role</a>(role_name, tenant);</div>
<div class="line"><span class="lineno"> 6563</span>      <span class="keywordtype">int</span> ret = role-&gt;get(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>(), null_yield);</div>
<div class="line"><span class="lineno"> 6564</span>      <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno"> 6565</span>        <span class="keywordflow">return</span> -ret;</div>
<div class="line"><span class="lineno"> 6566</span>      }</div>
<div class="line"><span class="lineno"> 6567</span>      <span class="keywordtype">string</span> perm_policy;</div>
<div class="line"><span class="lineno"> 6568</span>      ret = role-&gt;get_role_policy(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>(), policy_name, perm_policy);</div>
<div class="line"><span class="lineno"> 6569</span>      <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno"> 6570</span>        <span class="keywordflow">return</span> -ret;</div>
<div class="line"><span class="lineno"> 6571</span>      }</div>
<div class="line"><span class="lineno"> 6572</span>      <a class="code hl_function" href="rgw__admin_8cc.html#adbb575f10b45b26660cb6ce9931cce22">show_perm_policy</a>(perm_policy, formatter.get());</div>
<div class="line"><span class="lineno"> 6573</span>      <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno"> 6574</span>    }</div>
<div class="line"><span class="lineno"> 6575</span>  <span class="keywordflow">case</span> OPT::ROLE_POLICY_DELETE:</div>
<div class="line"><span class="lineno"> 6576</span>    {</div>
<div class="line"><span class="lineno"> 6577</span>      <span class="keywordflow">if</span> (role_name.empty()) {</div>
<div class="line"><span class="lineno"> 6578</span>        cerr &lt;&lt; <span class="stringliteral">&quot;ERROR: role name is empty&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 6579</span>        <span class="keywordflow">return</span> -EINVAL;</div>
<div class="line"><span class="lineno"> 6580</span>      }</div>
<div class="line"><span class="lineno"> 6581</span> </div>
<div class="line"><span class="lineno"> 6582</span>      <span class="keywordflow">if</span> (policy_name.empty()) {</div>
<div class="line"><span class="lineno"> 6583</span>        cerr &lt;&lt; <span class="stringliteral">&quot;ERROR: policy name is empty&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 6584</span>        <span class="keywordflow">return</span> -EINVAL;</div>
<div class="line"><span class="lineno"> 6585</span>      }</div>
<div class="line"><span class="lineno"> 6586</span>      std::unique_ptr&lt;rgw::sal::RGWRole&gt; role = <a class="code hl_variable" href="rgw__admin_8cc.html#a6fdb26d64b14d837b60e83a6ca3e2863">store</a>-&gt;<a class="code hl_function" href="classrgw_1_1sal_1_1_store.html#af3e1a304b9f14912cf7f1151700d84bf">get_role</a>(role_name, tenant);</div>
<div class="line"><span class="lineno"> 6587</span>      ret = role-&gt;get(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>(), null_yield);</div>
<div class="line"><span class="lineno"> 6588</span>      <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno"> 6589</span>        <span class="keywordflow">return</span> -ret;</div>
<div class="line"><span class="lineno"> 6590</span>      }</div>
<div class="line"><span class="lineno"> 6591</span>      ret = role-&gt;delete_policy(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>(), policy_name);</div>
<div class="line"><span class="lineno"> 6592</span>      <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno"> 6593</span>        <span class="keywordflow">return</span> -ret;</div>
<div class="line"><span class="lineno"> 6594</span>      }</div>
<div class="line"><span class="lineno"> 6595</span>      ret = role-&gt;update(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>(), null_yield);</div>
<div class="line"><span class="lineno"> 6596</span>      <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno"> 6597</span>        <span class="keywordflow">return</span> -ret;</div>
<div class="line"><span class="lineno"> 6598</span>      }</div>
<div class="line"><span class="lineno"> 6599</span>      cout &lt;&lt; <span class="stringliteral">&quot;Policy: &quot;</span> &lt;&lt; policy_name &lt;&lt; <span class="stringliteral">&quot; successfully deleted for role: &quot;</span></div>
<div class="line"><span class="lineno"> 6600</span>           &lt;&lt; role_name &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 6601</span>      <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno"> 6602</span>  }</div>
<div class="line"><span class="lineno"> 6603</span>  <span class="keywordflow">default</span>:</div>
<div class="line"><span class="lineno"> 6604</span>    output_user_info = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 6605</span>  }</div>
<div class="line"><span class="lineno"> 6606</span> </div>
<div class="line"><span class="lineno"> 6607</span>  <span class="comment">// output the result of a user operation</span></div>
<div class="line"><span class="lineno"> 6608</span>  <span class="keywordflow">if</span> (output_user_info) {</div>
<div class="line"><span class="lineno"> 6609</span>    ret = ruser.<a class="code hl_function" href="class_r_g_w_user.html#a85668532c0205302e0a177c16d5ffe6c">info</a>(info, &amp;err_msg);</div>
<div class="line"><span class="lineno"> 6610</span>    <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno"> 6611</span>      cerr &lt;&lt; <span class="stringliteral">&quot;could not fetch user info: &quot;</span> &lt;&lt; err_msg &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 6612</span>      <span class="keywordflow">return</span> -ret;</div>
<div class="line"><span class="lineno"> 6613</span>    }</div>
<div class="line"><span class="lineno"> 6614</span>    <a class="code hl_function" href="rgw__admin_8cc.html#afddd1cc4dd7fba052586690f4af8a601">show_user_info</a>(info, formatter.get());</div>
<div class="line"><span class="lineno"> 6615</span>  }</div>
<div class="line"><span class="lineno"> 6616</span> </div>
<div class="line"><span class="lineno"> 6617</span>  <span class="keywordflow">if</span> (opt_cmd == OPT::POLICY) {</div>
<div class="line"><span class="lineno"> 6618</span>    <span class="keywordflow">if</span> (format == <span class="stringliteral">&quot;xml&quot;</span>) {</div>
<div class="line"><span class="lineno"> 6619</span>      <span class="keywordtype">int</span> ret = <a class="code hl_function" href="class_r_g_w_bucket_admin_op.html#a8d4da016b5837aa9c0b07dc8fe138800">RGWBucketAdminOp::dump_s3_policy</a>(<a class="code hl_variable" href="rgw__admin_8cc.html#a6fdb26d64b14d837b60e83a6ca3e2863">store</a>, bucket_op, cout, <a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>());</div>
<div class="line"><span class="lineno"> 6620</span>      <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno"> 6621</span>        cerr &lt;&lt; <span class="stringliteral">&quot;ERROR: failed to get policy: &quot;</span> &lt;&lt; cpp_strerror(-ret) &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 6622</span>        <span class="keywordflow">return</span> -ret;</div>
<div class="line"><span class="lineno"> 6623</span>      }</div>
<div class="line"><span class="lineno"> 6624</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 6625</span>      <span class="keywordtype">int</span> ret = <a class="code hl_function" href="class_r_g_w_bucket_admin_op.html#acb44975cc3102b4163e03195256ce642">RGWBucketAdminOp::get_policy</a>(<a class="code hl_variable" href="rgw__admin_8cc.html#a6fdb26d64b14d837b60e83a6ca3e2863">store</a>, bucket_op, stream_flusher, <a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>());</div>
<div class="line"><span class="lineno"> 6626</span>      <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno"> 6627</span>        cerr &lt;&lt; <span class="stringliteral">&quot;ERROR: failed to get policy: &quot;</span> &lt;&lt; cpp_strerror(-ret) &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 6628</span>        <span class="keywordflow">return</span> -ret;</div>
<div class="line"><span class="lineno"> 6629</span>      }</div>
<div class="line"><span class="lineno"> 6630</span>    }</div>
<div class="line"><span class="lineno"> 6631</span>  }</div>
<div class="line"><span class="lineno"> 6632</span> </div>
<div class="line"><span class="lineno"> 6633</span>  <span class="keywordflow">if</span> (opt_cmd == OPT::BUCKET_LIMIT_CHECK) {</div>
<div class="line"><span class="lineno"> 6634</span>    <span class="keywordtype">void</span> *handle;</div>
<div class="line"><span class="lineno"> 6635</span>    std::list&lt;std::string&gt; user_ids;</div>
<div class="line"><span class="lineno"> 6636</span>    metadata_key = <span class="stringliteral">&quot;user&quot;</span>;</div>
<div class="line"><span class="lineno"> 6637</span>    <span class="keywordtype">int</span> max = 1000;</div>
<div class="line"><span class="lineno"> 6638</span> </div>
<div class="line"><span class="lineno"> 6639</span>    <span class="keywordtype">bool</span> truncated;</div>
<div class="line"><span class="lineno"> 6640</span> </div>
<div class="line"><span class="lineno"> 6641</span>    <span class="keywordflow">if</span> (!<a class="code hl_function" href="classrgw_1_1sal_1_1_user.html#a96e608798e4a45601e3d9f223bdbcb9b">rgw::sal::User::empty</a>(user)) {</div>
<div class="line"><span class="lineno"> 6642</span>      user_ids.push_back(user-&gt;get_id().id);</div>
<div class="line"><span class="lineno"> 6643</span>      ret =</div>
<div class="line"><span class="lineno"> 6644</span>    <a class="code hl_function" href="class_r_g_w_bucket_admin_op.html#a1b15dac6563cd148257d6e0ded726bc1">RGWBucketAdminOp::limit_check</a>(<a class="code hl_variable" href="rgw__admin_8cc.html#a6fdb26d64b14d837b60e83a6ca3e2863">store</a>, bucket_op, user_ids, stream_flusher,</div>
<div class="line"><span class="lineno"> 6645</span>                      null_yield, <a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>(), warnings_only);</div>
<div class="line"><span class="lineno"> 6646</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 6647</span>      <span class="comment">/* list users in groups of max-keys, then perform user-bucket</span></div>
<div class="line"><span class="lineno"> 6648</span><span class="comment">       * limit-check on each group */</span></div>
<div class="line"><span class="lineno"> 6649</span>     ret = <a class="code hl_variable" href="rgw__admin_8cc.html#a6fdb26d64b14d837b60e83a6ca3e2863">store</a>-&gt;<a class="code hl_function" href="classrgw_1_1sal_1_1_store.html#abf1d7c4cb44101b210905378cba4996c">meta_list_keys_init</a>(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>(), metadata_key, <span class="keywordtype">string</span>(), &amp;handle);</div>
<div class="line"><span class="lineno"> 6650</span>      <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno"> 6651</span>    cerr &lt;&lt; <span class="stringliteral">&quot;ERROR: buckets limit check can&#39;t get user metadata_key: &quot;</span></div>
<div class="line"><span class="lineno"> 6652</span>         &lt;&lt; cpp_strerror(-ret) &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 6653</span>    <span class="keywordflow">return</span> -ret;</div>
<div class="line"><span class="lineno"> 6654</span>      }</div>
<div class="line"><span class="lineno"> 6655</span> </div>
<div class="line"><span class="lineno"> 6656</span>      <span class="keywordflow">do</span> {</div>
<div class="line"><span class="lineno"> 6657</span>    ret = <a class="code hl_variable" href="rgw__admin_8cc.html#a6fdb26d64b14d837b60e83a6ca3e2863">store</a>-&gt;<a class="code hl_function" href="classrgw_1_1sal_1_1_store.html#aa62a988d794ce85c15622a9f40a91876">meta_list_keys_next</a>(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>(), handle, max, user_ids,</div>
<div class="line"><span class="lineno"> 6658</span>                          &amp;truncated);</div>
<div class="line"><span class="lineno"> 6659</span>    <span class="keywordflow">if</span> (ret &lt; 0 &amp;&amp; ret != -ENOENT) {</div>
<div class="line"><span class="lineno"> 6660</span>      cerr &lt;&lt; <span class="stringliteral">&quot;ERROR: buckets limit check lists_keys_next(): &quot;</span></div>
<div class="line"><span class="lineno"> 6661</span>           &lt;&lt; cpp_strerror(-ret) &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 6662</span>      <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 6663</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 6664</span>      <span class="comment">/* ok, do the limit checks for this group */</span></div>
<div class="line"><span class="lineno"> 6665</span>      ret =</div>
<div class="line"><span class="lineno"> 6666</span>        <a class="code hl_function" href="class_r_g_w_bucket_admin_op.html#a1b15dac6563cd148257d6e0ded726bc1">RGWBucketAdminOp::limit_check</a>(<a class="code hl_variable" href="rgw__admin_8cc.html#a6fdb26d64b14d837b60e83a6ca3e2863">store</a>, bucket_op, user_ids, stream_flusher,</div>
<div class="line"><span class="lineno"> 6667</span>                      null_yield, <a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>(), warnings_only);</div>
<div class="line"><span class="lineno"> 6668</span>      <span class="keywordflow">if</span> (ret &lt; 0)</div>
<div class="line"><span class="lineno"> 6669</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 6670</span>    }</div>
<div class="line"><span class="lineno"> 6671</span>    user_ids.clear();</div>
<div class="line"><span class="lineno"> 6672</span>      } <span class="keywordflow">while</span> (truncated);</div>
<div class="line"><span class="lineno"> 6673</span>      <a class="code hl_variable" href="rgw__admin_8cc.html#a6fdb26d64b14d837b60e83a6ca3e2863">store</a>-&gt;<a class="code hl_function" href="classrgw_1_1sal_1_1_store.html#afe7cd14febe2f66e06aa51aee73d0a6d">meta_list_keys_complete</a>(handle);</div>
<div class="line"><span class="lineno"> 6674</span>    }</div>
<div class="line"><span class="lineno"> 6675</span>    <span class="keywordflow">return</span> -ret;</div>
<div class="line"><span class="lineno"> 6676</span>  } <span class="comment">/* OPT::BUCKET_LIMIT_CHECK */</span></div>
<div class="line"><span class="lineno"> 6677</span> </div>
<div class="line"><span class="lineno"> 6678</span>  <span class="keywordflow">if</span> (opt_cmd == OPT::BUCKETS_LIST) {</div>
<div class="line"><span class="lineno"> 6679</span>    <span class="keywordflow">if</span> (bucket_name.empty()) {</div>
<div class="line"><span class="lineno"> 6680</span>      <span class="keywordflow">if</span> (!<a class="code hl_function" href="classrgw_1_1sal_1_1_user.html#a96e608798e4a45601e3d9f223bdbcb9b">rgw::sal::User::empty</a>(user)) {</div>
<div class="line"><span class="lineno"> 6681</span>        <span class="keywordflow">if</span> (!user_op.has_existing_user()) {</div>
<div class="line"><span class="lineno"> 6682</span>          cerr &lt;&lt; <span class="stringliteral">&quot;ERROR: could not find user: &quot;</span> &lt;&lt; user &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 6683</span>          <span class="keywordflow">return</span> -ENOENT;</div>
<div class="line"><span class="lineno"> 6684</span>        }</div>
<div class="line"><span class="lineno"> 6685</span>      }</div>
<div class="line"><span class="lineno"> 6686</span>      <a class="code hl_function" href="class_r_g_w_bucket_admin_op.html#a0e3804b9e2f41e5844eeddff41c8dd8d">RGWBucketAdminOp::info</a>(<a class="code hl_variable" href="rgw__admin_8cc.html#a6fdb26d64b14d837b60e83a6ca3e2863">store</a>, bucket_op, stream_flusher, null_yield, <a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>());</div>
<div class="line"><span class="lineno"> 6687</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 6688</span>      <span class="keywordtype">int</span> ret = <a class="code hl_function" href="rgw__admin_8cc.html#a0023a8779e3ab0d965d9acfb3eb72cac">init_bucket</a>(user.get(), tenant, bucket_name, bucket_id, &amp;bucket);</div>
<div class="line"><span class="lineno"> 6689</span>      <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno"> 6690</span>        cerr &lt;&lt; <span class="stringliteral">&quot;ERROR: could not init bucket: &quot;</span> &lt;&lt; cpp_strerror(-ret) &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 6691</span>        <span class="keywordflow">return</span> -ret;</div>
<div class="line"><span class="lineno"> 6692</span>      }</div>
<div class="line"><span class="lineno"> 6693</span>      formatter-&gt;open_array_section(<span class="stringliteral">&quot;entries&quot;</span>);</div>
<div class="line"><span class="lineno"> 6694</span> </div>
<div class="line"><span class="lineno"> 6695</span>      <span class="keywordtype">int</span> <a class="code hl_enumvalue" href="namespacergw_1_1dmclock.html#a6ed0c6ad7f7fc29a06f52a0070d21493ae2942a04780e223b215eb8b663cf5353">count</a> = 0;</div>
<div class="line"><span class="lineno"> 6696</span> </div>
<div class="line"><span class="lineno"> 6697</span>      <span class="keyword">static</span> <span class="keyword">constexpr</span> <span class="keywordtype">int</span> MAX_PAGINATE_SIZE = 10000;</div>
<div class="line"><span class="lineno"> 6698</span>      <span class="keyword">static</span> <span class="keyword">constexpr</span> <span class="keywordtype">int</span> DEFAULT_MAX_ENTRIES = 1000;</div>
<div class="line"><span class="lineno"> 6699</span> </div>
<div class="line"><span class="lineno"> 6700</span>      <span class="keywordflow">if</span> (max_entries &lt; 0) {</div>
<div class="line"><span class="lineno"> 6701</span>    max_entries = DEFAULT_MAX_ENTRIES;</div>
<div class="line"><span class="lineno"> 6702</span>      }</div>
<div class="line"><span class="lineno"> 6703</span>      <span class="keyword">const</span> <span class="keywordtype">int</span> paginate_size = std::min(max_entries, MAX_PAGINATE_SIZE);</div>
<div class="line"><span class="lineno"> 6704</span> </div>
<div class="line"><span class="lineno"> 6705</span>      <span class="keywordtype">string</span> prefix;</div>
<div class="line"><span class="lineno"> 6706</span>      <span class="keywordtype">string</span> delim;</div>
<div class="line"><span class="lineno"> 6707</span>      <span class="keywordtype">string</span> ns;</div>
<div class="line"><span class="lineno"> 6708</span> </div>
<div class="line"><span class="lineno"> 6709</span>      <a class="code hl_struct" href="structrgw_1_1sal_1_1_bucket_1_1_list_params.html">rgw::sal::Bucket::ListParams</a> params;</div>
<div class="line"><span class="lineno"> 6710</span>      <a class="code hl_struct" href="structrgw_1_1sal_1_1_bucket_1_1_list_results.html">rgw::sal::Bucket::ListResults</a> results;</div>
<div class="line"><span class="lineno"> 6711</span> </div>
<div class="line"><span class="lineno"> 6712</span>      params.<a class="code hl_variable" href="structrgw_1_1sal_1_1_bucket_1_1_list_params.html#adb0883ba21530e4181ef90c7bfea71d4">prefix</a> = prefix;</div>
<div class="line"><span class="lineno"> 6713</span>      params.<a class="code hl_variable" href="structrgw_1_1sal_1_1_bucket_1_1_list_params.html#a6f6d8cc1c26ac1403bfcf8e2227caf75">delim</a> = delim;</div>
<div class="line"><span class="lineno"> 6714</span>      params.<a class="code hl_variable" href="structrgw_1_1sal_1_1_bucket_1_1_list_params.html#a2e087cec40a890b114cbc7c58c2507b0">marker</a> = <a class="code hl_struct" href="structrgw__obj__key.html">rgw_obj_key</a>(marker);</div>
<div class="line"><span class="lineno"> 6715</span>      params.<a class="code hl_variable" href="structrgw_1_1sal_1_1_bucket_1_1_list_params.html#a000855edc6e4474b7f9a1ea943512779">ns</a> = ns;</div>
<div class="line"><span class="lineno"> 6716</span>      params.<a class="code hl_variable" href="structrgw_1_1sal_1_1_bucket_1_1_list_params.html#aeff439ae8aa6d07d0057122ceca00a10">enforce_ns</a> = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 6717</span>      params.<a class="code hl_variable" href="structrgw_1_1sal_1_1_bucket_1_1_list_params.html#a3e5357a4fcc9044dc97ee55896d886ac">list_versions</a> = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 6718</span>      params.<a class="code hl_variable" href="structrgw_1_1sal_1_1_bucket_1_1_list_params.html#a78317932ae255789bd3114d546bf7d78">allow_unordered</a> = bool(allow_unordered);</div>
<div class="line"><span class="lineno"> 6719</span> </div>
<div class="line"><span class="lineno"> 6720</span>      <span class="keywordflow">do</span> {</div>
<div class="line"><span class="lineno"> 6721</span>        <span class="keyword">const</span> <span class="keywordtype">int</span> remaining = max_entries - <a class="code hl_enumvalue" href="namespacergw_1_1dmclock.html#a6ed0c6ad7f7fc29a06f52a0070d21493ae2942a04780e223b215eb8b663cf5353">count</a>;</div>
<div class="line"><span class="lineno"> 6722</span>    ret = bucket-&gt;list(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>(), params, std::min(remaining, paginate_size), results,</div>
<div class="line"><span class="lineno"> 6723</span>               null_yield);</div>
<div class="line"><span class="lineno"> 6724</span>        <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno"> 6725</span>          cerr &lt;&lt; <span class="stringliteral">&quot;ERROR: store-&gt;list_objects(): &quot;</span> &lt;&lt; cpp_strerror(-ret) &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 6726</span>          <span class="keywordflow">return</span> -ret;</div>
<div class="line"><span class="lineno"> 6727</span>        }</div>
<div class="line"><span class="lineno"> 6728</span> </div>
<div class="line"><span class="lineno"> 6729</span>        <a class="code hl_enumvalue" href="namespacergw_1_1dmclock.html#a6ed0c6ad7f7fc29a06f52a0070d21493ae2942a04780e223b215eb8b663cf5353">count</a> += results.<a class="code hl_variable" href="structrgw_1_1sal_1_1_bucket_1_1_list_results.html#ad2d05625f45090ae48961cca1ac235c1">objs</a>.size();</div>
<div class="line"><span class="lineno"> 6730</span> </div>
<div class="line"><span class="lineno"> 6731</span>        <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span>&amp; entry : results.objs) {</div>
<div class="line"><span class="lineno"> 6732</span>          <a class="code hl_function" href="rgw__admin_8cc.html#ab596b9e1a1fc78e98a4d13a66578b658">encode_json</a>(<span class="stringliteral">&quot;entry&quot;</span>, entry, formatter.get());</div>
<div class="line"><span class="lineno"> 6733</span>        }</div>
<div class="line"><span class="lineno"> 6734</span>        formatter-&gt;flush(cout);</div>
<div class="line"><span class="lineno"> 6735</span>      } <span class="keywordflow">while</span> (results.<a class="code hl_variable" href="structrgw_1_1sal_1_1_bucket_1_1_list_results.html#a5b9a541d2f6fe22f99cbaa279c8d12e4">is_truncated</a> &amp;&amp; count &lt; max_entries);</div>
<div class="line"><span class="lineno"> 6736</span> </div>
<div class="line"><span class="lineno"> 6737</span>      formatter-&gt;close_section();</div>
<div class="line"><span class="lineno"> 6738</span>      formatter-&gt;flush(cout);</div>
<div class="line"><span class="lineno"> 6739</span>    } <span class="comment">/* have bucket_name */</span></div>
<div class="line"><span class="lineno"> 6740</span>  } <span class="comment">/* OPT::BUCKETS_LIST */</span></div>
<div class="line"><span class="lineno"> 6741</span> </div>
<div class="line"><span class="lineno"> 6742</span>  <span class="keywordflow">if</span> (opt_cmd == OPT::BUCKET_RADOS_LIST) {</div>
<div class="line"><span class="lineno"> 6743</span>    <a class="code hl_class" href="class_r_g_w_rados_list.html">RGWRadosList</a> lister(<span class="keyword">static_cast&lt;</span><a class="code hl_class" href="classrgw_1_1sal_1_1_rados_store.html">rgw::sal::RadosStore</a>*<span class="keyword">&gt;</span>(<a class="code hl_variable" href="rgw__admin_8cc.html#a6fdb26d64b14d837b60e83a6ca3e2863">store</a>),</div>
<div class="line"><span class="lineno"> 6744</span>            max_concurrent_ios, orphan_stale_secs, tenant);</div>
<div class="line"><span class="lineno"> 6745</span>    <span class="keywordflow">if</span> (rgw_obj_fs) {</div>
<div class="line"><span class="lineno"> 6746</span>      lister.set_field_separator(*rgw_obj_fs);</div>
<div class="line"><span class="lineno"> 6747</span>    }</div>
<div class="line"><span class="lineno"> 6748</span> </div>
<div class="line"><span class="lineno"> 6749</span>    <span class="keywordflow">if</span> (bucket_name.empty()) {</div>
<div class="line"><span class="lineno"> 6750</span>      ret = lister.run(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>());</div>
<div class="line"><span class="lineno"> 6751</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 6752</span>      ret = lister.run(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>(), bucket_name);</div>
<div class="line"><span class="lineno"> 6753</span>    }</div>
<div class="line"><span class="lineno"> 6754</span> </div>
<div class="line"><span class="lineno"> 6755</span>    <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno"> 6756</span>      std::cerr &lt;&lt;</div>
<div class="line"><span class="lineno"> 6757</span>    <span class="stringliteral">&quot;ERROR: bucket radoslist failed to finish before &quot;</span> &lt;&lt;</div>
<div class="line"><span class="lineno"> 6758</span>    <span class="stringliteral">&quot;encountering error: &quot;</span> &lt;&lt; cpp_strerror(-ret) &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 6759</span>      std::cerr &lt;&lt; <span class="stringliteral">&quot;************************************&quot;</span></div>
<div class="line"><span class="lineno"> 6760</span>    <span class="stringliteral">&quot;************************************&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 6761</span>      std::cerr &lt;&lt; <span class="stringliteral">&quot;WARNING: THE RESULTS ARE NOT RELIABLE AND SHOULD NOT &quot;</span> &lt;&lt;</div>
<div class="line"><span class="lineno"> 6762</span>    <span class="stringliteral">&quot;BE USED IN DELETING ORPHANS&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 6763</span>      std::cerr &lt;&lt; <span class="stringliteral">&quot;************************************&quot;</span></div>
<div class="line"><span class="lineno"> 6764</span>    <span class="stringliteral">&quot;************************************&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 6765</span>      <span class="keywordflow">return</span> -ret;</div>
<div class="line"><span class="lineno"> 6766</span>    }</div>
<div class="line"><span class="lineno"> 6767</span>  }</div>
<div class="line"><span class="lineno"> 6768</span> </div>
<div class="line"><span class="lineno"> 6769</span>  <span class="keywordflow">if</span> (opt_cmd == OPT::BUCKET_STATS) {</div>
<div class="line"><span class="lineno"> 6770</span>    <span class="keywordflow">if</span> (bucket_name.empty() &amp;&amp; !bucket_id.empty()) {</div>
<div class="line"><span class="lineno"> 6771</span>      <a class="code hl_struct" href="structrgw__bucket.html">rgw_bucket</a> bucket;</div>
<div class="line"><span class="lineno"> 6772</span>      <span class="keywordflow">if</span> (!<a class="code hl_function" href="rgw__bucket_8cc.html#a1d7fea81f32bb284c17954156a4d3c76">rgw_find_bucket_by_id</a>(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>(), <a class="code hl_variable" href="rgw__admin_8cc.html#a6fdb26d64b14d837b60e83a6ca3e2863">store</a>-&gt;<a class="code hl_function" href="classrgw_1_1sal_1_1_store.html#aca84a6ff80011b26fcd2fa8526c1152e">ctx</a>(), <a class="code hl_variable" href="rgw__admin_8cc.html#a6fdb26d64b14d837b60e83a6ca3e2863">store</a>, marker, bucket_id, &amp;bucket)) {</div>
<div class="line"><span class="lineno"> 6773</span>        cerr &lt;&lt; <span class="stringliteral">&quot;failure: no such bucket id&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 6774</span>        <span class="keywordflow">return</span> -ENOENT;</div>
<div class="line"><span class="lineno"> 6775</span>      }</div>
<div class="line"><span class="lineno"> 6776</span>      bucket_op.<a class="code hl_function" href="struct_r_g_w_bucket_admin_op_state.html#a0a5c3bdb546c673c77e7231470b2129d">set_tenant</a>(bucket.<a class="code hl_variable" href="structrgw__bucket.html#ac2d65e02c9242ad2ea2ad31da15d8836">tenant</a>);</div>
<div class="line"><span class="lineno"> 6777</span>      bucket_op.<a class="code hl_function" href="struct_r_g_w_bucket_admin_op_state.html#a3bbce2f4eaffec09a27fcc1b7b7029eb">set_bucket_name</a>(bucket.<a class="code hl_variable" href="structrgw__bucket.html#a32d3529f5b0c53051c856a7abe867a6b">name</a>);</div>
<div class="line"><span class="lineno"> 6778</span>    }</div>
<div class="line"><span class="lineno"> 6779</span>    bucket_op.<a class="code hl_function" href="struct_r_g_w_bucket_admin_op_state.html#a059ec3bac7c695c20c8c806b7acf691f">set_fetch_stats</a>(<span class="keyword">true</span>);</div>
<div class="line"><span class="lineno"> 6780</span> </div>
<div class="line"><span class="lineno"> 6781</span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="rgw__aio_8cc.html#ae38055824c6eac64615832ad9d888539">r</a> = <a class="code hl_function" href="class_r_g_w_bucket_admin_op.html#a0e3804b9e2f41e5844eeddff41c8dd8d">RGWBucketAdminOp::info</a>(<a class="code hl_variable" href="rgw__admin_8cc.html#a6fdb26d64b14d837b60e83a6ca3e2863">store</a>, bucket_op, stream_flusher, null_yield, <a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>());</div>
<div class="line"><span class="lineno"> 6782</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="rgw__aio_8cc.html#ae38055824c6eac64615832ad9d888539">r</a> &lt; 0) {</div>
<div class="line"><span class="lineno"> 6783</span>      cerr &lt;&lt; <span class="stringliteral">&quot;failure: &quot;</span> &lt;&lt; cpp_strerror(-<a class="code hl_variable" href="rgw__aio_8cc.html#ae38055824c6eac64615832ad9d888539">r</a>) &lt;&lt; <span class="stringliteral">&quot;: &quot;</span> &lt;&lt; err &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 6784</span>      <span class="keywordflow">return</span> -<a class="code hl_variable" href="rgw__aio_8cc.html#ae38055824c6eac64615832ad9d888539">r</a>;</div>
<div class="line"><span class="lineno"> 6785</span>    }</div>
<div class="line"><span class="lineno"> 6786</span>  }</div>
<div class="line"><span class="lineno"> 6787</span> </div>
<div class="line"><span class="lineno"> 6788</span>  <span class="keywordflow">if</span> (opt_cmd == OPT::BUCKET_LINK) {</div>
<div class="line"><span class="lineno"> 6789</span>    bucket_op.<a class="code hl_function" href="struct_r_g_w_bucket_admin_op_state.html#ad24a7ab4b8687d501e371e323b7d7d07">set_bucket_id</a>(bucket_id);</div>
<div class="line"><span class="lineno"> 6790</span>    bucket_op.<a class="code hl_function" href="struct_r_g_w_bucket_admin_op_state.html#a52b9401ffb62a66e2c3156fed208719d">set_new_bucket_name</a>(new_bucket_name);</div>
<div class="line"><span class="lineno"> 6791</span>    <span class="keywordtype">string</span> err;</div>
<div class="line"><span class="lineno"> 6792</span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="rgw__aio_8cc.html#ae38055824c6eac64615832ad9d888539">r</a> = <a class="code hl_function" href="class_r_g_w_bucket_admin_op.html#ac036e624f7e32b53fb51cd477a373d99">RGWBucketAdminOp::link</a>(<a class="code hl_variable" href="rgw__admin_8cc.html#a6fdb26d64b14d837b60e83a6ca3e2863">store</a>, bucket_op, <a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>(), &amp;err);</div>
<div class="line"><span class="lineno"> 6793</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="rgw__aio_8cc.html#ae38055824c6eac64615832ad9d888539">r</a> &lt; 0) {</div>
<div class="line"><span class="lineno"> 6794</span>      cerr &lt;&lt; <span class="stringliteral">&quot;failure: &quot;</span> &lt;&lt; cpp_strerror(-<a class="code hl_variable" href="rgw__aio_8cc.html#ae38055824c6eac64615832ad9d888539">r</a>) &lt;&lt; <span class="stringliteral">&quot;: &quot;</span> &lt;&lt; err &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 6795</span>      <span class="keywordflow">return</span> -<a class="code hl_variable" href="rgw__aio_8cc.html#ae38055824c6eac64615832ad9d888539">r</a>;</div>
<div class="line"><span class="lineno"> 6796</span>    }</div>
<div class="line"><span class="lineno"> 6797</span>  }</div>
<div class="line"><span class="lineno"> 6798</span> </div>
<div class="line"><span class="lineno"> 6799</span>  <span class="keywordflow">if</span> (opt_cmd == OPT::BUCKET_UNLINK) {</div>
<div class="line"><span class="lineno"> 6800</span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="rgw__aio_8cc.html#ae38055824c6eac64615832ad9d888539">r</a> = <a class="code hl_function" href="class_r_g_w_bucket_admin_op.html#a508e0a7310f48a1eaf665f5c3cfbf96d">RGWBucketAdminOp::unlink</a>(<a class="code hl_variable" href="rgw__admin_8cc.html#a6fdb26d64b14d837b60e83a6ca3e2863">store</a>, bucket_op, <a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>());</div>
<div class="line"><span class="lineno"> 6801</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="rgw__aio_8cc.html#ae38055824c6eac64615832ad9d888539">r</a> &lt; 0) {</div>
<div class="line"><span class="lineno"> 6802</span>      cerr &lt;&lt; <span class="stringliteral">&quot;failure: &quot;</span> &lt;&lt; cpp_strerror(-<a class="code hl_variable" href="rgw__aio_8cc.html#ae38055824c6eac64615832ad9d888539">r</a>) &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 6803</span>      <span class="keywordflow">return</span> -<a class="code hl_variable" href="rgw__aio_8cc.html#ae38055824c6eac64615832ad9d888539">r</a>;</div>
<div class="line"><span class="lineno"> 6804</span>    }</div>
<div class="line"><span class="lineno"> 6805</span>  }</div>
<div class="line"><span class="lineno"> 6806</span> </div>
<div class="line"><span class="lineno"> 6807</span>  <span class="keywordflow">if</span> (opt_cmd == OPT::BUCKET_CHOWN) {</div>
<div class="line"><span class="lineno"> 6808</span>    <span class="keywordflow">if</span> (bucket_name.empty()) {</div>
<div class="line"><span class="lineno"> 6809</span>      cerr &lt;&lt; <span class="stringliteral">&quot;ERROR: bucket name not specified&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 6810</span>      <span class="keywordflow">return</span> EINVAL;</div>
<div class="line"><span class="lineno"> 6811</span>    }</div>
<div class="line"><span class="lineno"> 6812</span> </div>
<div class="line"><span class="lineno"> 6813</span>    bucket_op.<a class="code hl_function" href="struct_r_g_w_bucket_admin_op_state.html#a3bbce2f4eaffec09a27fcc1b7b7029eb">set_bucket_name</a>(bucket_name);</div>
<div class="line"><span class="lineno"> 6814</span>    bucket_op.<a class="code hl_function" href="struct_r_g_w_bucket_admin_op_state.html#a52b9401ffb62a66e2c3156fed208719d">set_new_bucket_name</a>(new_bucket_name);</div>
<div class="line"><span class="lineno"> 6815</span>    <span class="keywordtype">string</span> err;</div>
<div class="line"><span class="lineno"> 6816</span>    <span class="keywordtype">string</span> marker;</div>
<div class="line"><span class="lineno"> 6817</span> </div>
<div class="line"><span class="lineno"> 6818</span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="rgw__aio_8cc.html#ae38055824c6eac64615832ad9d888539">r</a> = <a class="code hl_function" href="class_r_g_w_bucket_admin_op.html#aa9f67ed78c841dd9665750f67c0b75c6">RGWBucketAdminOp::chown</a>(<a class="code hl_variable" href="rgw__admin_8cc.html#a6fdb26d64b14d837b60e83a6ca3e2863">store</a>, bucket_op, marker, <a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>(), &amp;err);</div>
<div class="line"><span class="lineno"> 6819</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="rgw__aio_8cc.html#ae38055824c6eac64615832ad9d888539">r</a> &lt; 0) {</div>
<div class="line"><span class="lineno"> 6820</span>      cerr &lt;&lt; <span class="stringliteral">&quot;failure: &quot;</span> &lt;&lt; cpp_strerror(-<a class="code hl_variable" href="rgw__aio_8cc.html#ae38055824c6eac64615832ad9d888539">r</a>) &lt;&lt; <span class="stringliteral">&quot;: &quot;</span> &lt;&lt; err &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 6821</span>      <span class="keywordflow">return</span> -<a class="code hl_variable" href="rgw__aio_8cc.html#ae38055824c6eac64615832ad9d888539">r</a>;</div>
<div class="line"><span class="lineno"> 6822</span>    }</div>
<div class="line"><span class="lineno"> 6823</span>  }</div>
<div class="line"><span class="lineno"> 6824</span> </div>
<div class="line"><span class="lineno"> 6825</span>  <span class="keywordflow">if</span> (opt_cmd == OPT::LOG_LIST) {</div>
<div class="line"><span class="lineno"> 6826</span>    <span class="comment">// filter by date?</span></div>
<div class="line"><span class="lineno"> 6827</span>    <span class="keywordflow">if</span> (<a class="code hl_typedef" href="namespacejwt.html#ad1a72c1ea3d67e3d9bd554e26856523d">date</a>.size() &amp;&amp; <a class="code hl_typedef" href="namespacejwt.html#ad1a72c1ea3d67e3d9bd554e26856523d">date</a>.size() != 10) {</div>
<div class="line"><span class="lineno"> 6828</span>      cerr &lt;&lt; <span class="stringliteral">&quot;bad date format for &#39;&quot;</span> &lt;&lt; <a class="code hl_typedef" href="namespacejwt.html#ad1a72c1ea3d67e3d9bd554e26856523d">date</a> &lt;&lt; <span class="stringliteral">&quot;&#39;, expect YYYY-MM-DD&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 6829</span>      <span class="keywordflow">return</span> EINVAL;</div>
<div class="line"><span class="lineno"> 6830</span>    }</div>
<div class="line"><span class="lineno"> 6831</span> </div>
<div class="line"><span class="lineno"> 6832</span>    formatter-&gt;reset();</div>
<div class="line"><span class="lineno"> 6833</span>    formatter-&gt;open_array_section(<span class="stringliteral">&quot;logs&quot;</span>);</div>
<div class="line"><span class="lineno"> 6834</span>    <a class="code hl_typedef" href="rgw__common_8h.html#a4a95f97ed31b39286a86480bece78a63">RGWAccessHandle</a> <a class="code hl_variable" href="cls__fifo__legacy_8cc.html#a68310108dc1113b2ef0e243d11e5b10d">h</a>;</div>
<div class="line"><span class="lineno"> 6835</span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="rgw__aio_8cc.html#ae38055824c6eac64615832ad9d888539">r</a> = <span class="keyword">static_cast&lt;</span><a class="code hl_class" href="classrgw_1_1sal_1_1_rados_store.html">rgw::sal::RadosStore</a>*<span class="keyword">&gt;</span>(<a class="code hl_variable" href="rgw__admin_8cc.html#a6fdb26d64b14d837b60e83a6ca3e2863">store</a>)-&gt;getRados()-&gt;log_list_init(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>(), <a class="code hl_typedef" href="namespacejwt.html#ad1a72c1ea3d67e3d9bd554e26856523d">date</a>, &amp;<a class="code hl_variable" href="cls__fifo__legacy_8cc.html#a68310108dc1113b2ef0e243d11e5b10d">h</a>);</div>
<div class="line"><span class="lineno"> 6836</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="rgw__aio_8cc.html#ae38055824c6eac64615832ad9d888539">r</a> == -ENOENT) {</div>
<div class="line"><span class="lineno"> 6837</span>      <span class="comment">// no logs.</span></div>
<div class="line"><span class="lineno"> 6838</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 6839</span>      <span class="keywordflow">if</span> (<a class="code hl_variable" href="rgw__aio_8cc.html#ae38055824c6eac64615832ad9d888539">r</a> &lt; 0) {</div>
<div class="line"><span class="lineno"> 6840</span>        cerr &lt;&lt; <span class="stringliteral">&quot;log list: error &quot;</span> &lt;&lt; <a class="code hl_variable" href="rgw__aio_8cc.html#ae38055824c6eac64615832ad9d888539">r</a> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 6841</span>        <span class="keywordflow">return</span> -<a class="code hl_variable" href="rgw__aio_8cc.html#ae38055824c6eac64615832ad9d888539">r</a>;</div>
<div class="line"><span class="lineno"> 6842</span>      }</div>
<div class="line"><span class="lineno"> 6843</span>      <span class="keywordflow">while</span> (<span class="keyword">true</span>) {</div>
<div class="line"><span class="lineno"> 6844</span>        <span class="keywordtype">string</span> name;</div>
<div class="line"><span class="lineno"> 6845</span>        <span class="keywordtype">int</span> <a class="code hl_variable" href="rgw__aio_8cc.html#ae38055824c6eac64615832ad9d888539">r</a> = <span class="keyword">static_cast&lt;</span><a class="code hl_class" href="classrgw_1_1sal_1_1_rados_store.html">rgw::sal::RadosStore</a>*<span class="keyword">&gt;</span>(<a class="code hl_variable" href="rgw__admin_8cc.html#a6fdb26d64b14d837b60e83a6ca3e2863">store</a>)-&gt;getRados()-&gt;log_list_next(<a class="code hl_variable" href="cls__fifo__legacy_8cc.html#a68310108dc1113b2ef0e243d11e5b10d">h</a>, &amp;name);</div>
<div class="line"><span class="lineno"> 6846</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="rgw__aio_8cc.html#ae38055824c6eac64615832ad9d888539">r</a> == -ENOENT)</div>
<div class="line"><span class="lineno"> 6847</span>          <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 6848</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="rgw__aio_8cc.html#ae38055824c6eac64615832ad9d888539">r</a> &lt; 0) {</div>
<div class="line"><span class="lineno"> 6849</span>          cerr &lt;&lt; <span class="stringliteral">&quot;log list: error &quot;</span> &lt;&lt; <a class="code hl_variable" href="rgw__aio_8cc.html#ae38055824c6eac64615832ad9d888539">r</a> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 6850</span>          <span class="keywordflow">return</span> -<a class="code hl_variable" href="rgw__aio_8cc.html#ae38055824c6eac64615832ad9d888539">r</a>;</div>
<div class="line"><span class="lineno"> 6851</span>        }</div>
<div class="line"><span class="lineno"> 6852</span>        formatter-&gt;dump_string(<span class="stringliteral">&quot;object&quot;</span>, name);</div>
<div class="line"><span class="lineno"> 6853</span>      }</div>
<div class="line"><span class="lineno"> 6854</span>    }</div>
<div class="line"><span class="lineno"> 6855</span>    formatter-&gt;close_section();</div>
<div class="line"><span class="lineno"> 6856</span>    formatter-&gt;flush(cout);</div>
<div class="line"><span class="lineno"> 6857</span>    cout &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 6858</span>  }</div>
<div class="line"><span class="lineno"> 6859</span> </div>
<div class="line"><span class="lineno"> 6860</span>  <span class="keywordflow">if</span> (opt_cmd == OPT::LOG_SHOW || opt_cmd == OPT::LOG_RM) {</div>
<div class="line"><span class="lineno"> 6861</span>    <span class="keywordflow">if</span> (<span class="keywordtype">object</span>.<a class="code hl_enumvalue" href="rgw__crypt_8cc.html#adde527b14a1813b09f5f168c2e92775caa2e4822a98337283e39f7b60acf85ec9">empty</a>() &amp;&amp; (<a class="code hl_typedef" href="namespacejwt.html#ad1a72c1ea3d67e3d9bd554e26856523d">date</a>.empty() || bucket_name.empty() || bucket_id.empty())) {</div>
<div class="line"><span class="lineno"> 6862</span>      cerr &lt;&lt; <span class="stringliteral">&quot;specify an object or a date, bucket and bucket-id&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 6863</span>      exit(1);</div>
<div class="line"><span class="lineno"> 6864</span>    }</div>
<div class="line"><span class="lineno"> 6865</span> </div>
<div class="line"><span class="lineno"> 6866</span>    <span class="keywordtype">string</span> oid;</div>
<div class="line"><span class="lineno"> 6867</span>    <span class="keywordflow">if</span> (!<span class="keywordtype">object</span>.<a class="code hl_enumvalue" href="rgw__crypt_8cc.html#adde527b14a1813b09f5f168c2e92775caa2e4822a98337283e39f7b60acf85ec9">empty</a>()) {</div>
<div class="line"><span class="lineno"> 6868</span>      oid = <a class="code hl_typedef" href="namespacepicojson.html#a3e769a5e2dbffd9a9309e1dc2d67975b">object</a>;</div>
<div class="line"><span class="lineno"> 6869</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 6870</span>      oid = <a class="code hl_typedef" href="namespacejwt.html#ad1a72c1ea3d67e3d9bd554e26856523d">date</a>;</div>
<div class="line"><span class="lineno"> 6871</span>      oid += <span class="stringliteral">&quot;-&quot;</span>;</div>
<div class="line"><span class="lineno"> 6872</span>      oid += bucket_id;</div>
<div class="line"><span class="lineno"> 6873</span>      oid += <span class="stringliteral">&quot;-&quot;</span>;</div>
<div class="line"><span class="lineno"> 6874</span>      oid += bucket_name;</div>
<div class="line"><span class="lineno"> 6875</span>    }</div>
<div class="line"><span class="lineno"> 6876</span> </div>
<div class="line"><span class="lineno"> 6877</span>    <span class="keywordflow">if</span> (opt_cmd == OPT::LOG_SHOW) {</div>
<div class="line"><span class="lineno"> 6878</span>      <a class="code hl_typedef" href="rgw__common_8h.html#a4a95f97ed31b39286a86480bece78a63">RGWAccessHandle</a> <a class="code hl_variable" href="cls__fifo__legacy_8cc.html#a68310108dc1113b2ef0e243d11e5b10d">h</a>;</div>
<div class="line"><span class="lineno"> 6879</span> </div>
<div class="line"><span class="lineno"> 6880</span>      <span class="keywordtype">int</span> <a class="code hl_variable" href="rgw__aio_8cc.html#ae38055824c6eac64615832ad9d888539">r</a> = <span class="keyword">static_cast&lt;</span><a class="code hl_class" href="classrgw_1_1sal_1_1_rados_store.html">rgw::sal::RadosStore</a>*<span class="keyword">&gt;</span>(<a class="code hl_variable" href="rgw__admin_8cc.html#a6fdb26d64b14d837b60e83a6ca3e2863">store</a>)-&gt;getRados()-&gt;log_show_init(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>(), oid, &amp;<a class="code hl_variable" href="cls__fifo__legacy_8cc.html#a68310108dc1113b2ef0e243d11e5b10d">h</a>);</div>
<div class="line"><span class="lineno"> 6881</span>      <span class="keywordflow">if</span> (<a class="code hl_variable" href="rgw__aio_8cc.html#ae38055824c6eac64615832ad9d888539">r</a> &lt; 0) {</div>
<div class="line"><span class="lineno"> 6882</span>    cerr &lt;&lt; <span class="stringliteral">&quot;error opening log &quot;</span> &lt;&lt; oid &lt;&lt; <span class="stringliteral">&quot;: &quot;</span> &lt;&lt; cpp_strerror(-<a class="code hl_variable" href="rgw__aio_8cc.html#ae38055824c6eac64615832ad9d888539">r</a>) &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 6883</span>    <span class="keywordflow">return</span> -<a class="code hl_variable" href="rgw__aio_8cc.html#ae38055824c6eac64615832ad9d888539">r</a>;</div>
<div class="line"><span class="lineno"> 6884</span>      }</div>
<div class="line"><span class="lineno"> 6885</span> </div>
<div class="line"><span class="lineno"> 6886</span>      formatter-&gt;reset();</div>
<div class="line"><span class="lineno"> 6887</span>      formatter-&gt;open_object_section(<span class="stringliteral">&quot;log&quot;</span>);</div>
<div class="line"><span class="lineno"> 6888</span> </div>
<div class="line"><span class="lineno"> 6889</span>      <span class="keyword">struct </span><a class="code hl_struct" href="structrgw__log__entry.html">rgw_log_entry</a> entry;</div>
<div class="line"><span class="lineno"> 6890</span> </div>
<div class="line"><span class="lineno"> 6891</span>      <span class="comment">// peek at first entry to get bucket metadata</span></div>
<div class="line"><span class="lineno"> 6892</span>      <a class="code hl_variable" href="rgw__aio_8cc.html#ae38055824c6eac64615832ad9d888539">r</a> = <span class="keyword">static_cast&lt;</span><a class="code hl_class" href="classrgw_1_1sal_1_1_rados_store.html">rgw::sal::RadosStore</a>*<span class="keyword">&gt;</span>(<a class="code hl_variable" href="rgw__admin_8cc.html#a6fdb26d64b14d837b60e83a6ca3e2863">store</a>)-&gt;getRados()-&gt;log_show_next(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>(), <a class="code hl_variable" href="cls__fifo__legacy_8cc.html#a68310108dc1113b2ef0e243d11e5b10d">h</a>, &amp;entry);</div>
<div class="line"><span class="lineno"> 6893</span>      <span class="keywordflow">if</span> (<a class="code hl_variable" href="rgw__aio_8cc.html#ae38055824c6eac64615832ad9d888539">r</a> &lt; 0) {</div>
<div class="line"><span class="lineno"> 6894</span>    cerr &lt;&lt; <span class="stringliteral">&quot;error reading log &quot;</span> &lt;&lt; oid &lt;&lt; <span class="stringliteral">&quot;: &quot;</span> &lt;&lt; cpp_strerror(-<a class="code hl_variable" href="rgw__aio_8cc.html#ae38055824c6eac64615832ad9d888539">r</a>) &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 6895</span>    <span class="keywordflow">return</span> -<a class="code hl_variable" href="rgw__aio_8cc.html#ae38055824c6eac64615832ad9d888539">r</a>;</div>
<div class="line"><span class="lineno"> 6896</span>      }</div>
<div class="line"><span class="lineno"> 6897</span>      formatter-&gt;dump_string(<span class="stringliteral">&quot;bucket_id&quot;</span>, entry.bucket_id);</div>
<div class="line"><span class="lineno"> 6898</span>      formatter-&gt;dump_string(<span class="stringliteral">&quot;bucket_owner&quot;</span>, entry.bucket_owner.to_str());</div>
<div class="line"><span class="lineno"> 6899</span>      formatter-&gt;dump_string(<span class="stringliteral">&quot;bucket&quot;</span>, entry.bucket);</div>
<div class="line"><span class="lineno"> 6900</span> </div>
<div class="line"><span class="lineno"> 6901</span>      uint64_t agg_time = 0;</div>
<div class="line"><span class="lineno"> 6902</span>      uint64_t agg_bytes_sent = 0;</div>
<div class="line"><span class="lineno"> 6903</span>      uint64_t agg_bytes_received = 0;</div>
<div class="line"><span class="lineno"> 6904</span>      uint64_t total_entries = 0;</div>
<div class="line"><span class="lineno"> 6905</span> </div>
<div class="line"><span class="lineno"> 6906</span>      <span class="keywordflow">if</span> (show_log_entries)</div>
<div class="line"><span class="lineno"> 6907</span>        formatter-&gt;open_array_section(<span class="stringliteral">&quot;log_entries&quot;</span>);</div>
<div class="line"><span class="lineno"> 6908</span> </div>
<div class="line"><span class="lineno"> 6909</span>      <span class="keywordflow">do</span> {</div>
<div class="line"><span class="lineno"> 6910</span>        <span class="keyword">using namespace </span>std::chrono;</div>
<div class="line"><span class="lineno"> 6911</span>        uint64_t <a class="code hl_variable" href="structrgw__log__entry.html#a9be048e2579dfc3256b78fdb8abc9b0a">total_time</a> = duration_cast&lt;milliseconds&gt;(entry.total_time).count();</div>
<div class="line"><span class="lineno"> 6912</span> </div>
<div class="line"><span class="lineno"> 6913</span>        agg_time += <a class="code hl_variable" href="structrgw__log__entry.html#a9be048e2579dfc3256b78fdb8abc9b0a">total_time</a>;</div>
<div class="line"><span class="lineno"> 6914</span>        agg_bytes_sent += entry.bytes_sent;</div>
<div class="line"><span class="lineno"> 6915</span>        agg_bytes_received += entry.bytes_received;</div>
<div class="line"><span class="lineno"> 6916</span>        total_entries++;</div>
<div class="line"><span class="lineno"> 6917</span> </div>
<div class="line"><span class="lineno"> 6918</span>        <span class="keywordflow">if</span> (skip_zero_entries &amp;&amp; entry.bytes_sent == 0 &amp;&amp;</div>
<div class="line"><span class="lineno"> 6919</span>            entry.bytes_received == 0)</div>
<div class="line"><span class="lineno"> 6920</span>          <span class="keywordflow">goto</span> next;</div>
<div class="line"><span class="lineno"> 6921</span> </div>
<div class="line"><span class="lineno"> 6922</span>        <span class="keywordflow">if</span> (show_log_entries) {</div>
<div class="line"><span class="lineno"> 6923</span> </div>
<div class="line"><span class="lineno"> 6924</span>      <a class="code hl_function" href="rgw__log_8cc.html#a3acc9edd02c915a7b5ffe4e340176045">rgw_format_ops_log_entry</a>(entry, formatter.get());</div>
<div class="line"><span class="lineno"> 6925</span>      formatter-&gt;flush(cout);</div>
<div class="line"><span class="lineno"> 6926</span>        }</div>
<div class="line"><span class="lineno"> 6927</span>next:</div>
<div class="line"><span class="lineno"> 6928</span>    <a class="code hl_variable" href="rgw__aio_8cc.html#ae38055824c6eac64615832ad9d888539">r</a> = <span class="keyword">static_cast&lt;</span><a class="code hl_class" href="classrgw_1_1sal_1_1_rados_store.html">rgw::sal::RadosStore</a>*<span class="keyword">&gt;</span>(<a class="code hl_variable" href="rgw__admin_8cc.html#a6fdb26d64b14d837b60e83a6ca3e2863">store</a>)-&gt;getRados()-&gt;log_show_next(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>(), <a class="code hl_variable" href="cls__fifo__legacy_8cc.html#a68310108dc1113b2ef0e243d11e5b10d">h</a>, &amp;entry);</div>
<div class="line"><span class="lineno"> 6929</span>      } <span class="keywordflow">while</span> (<a class="code hl_variable" href="rgw__aio_8cc.html#ae38055824c6eac64615832ad9d888539">r</a> &gt; 0);</div>
<div class="line"><span class="lineno"> 6930</span> </div>
<div class="line"><span class="lineno"> 6931</span>      <span class="keywordflow">if</span> (<a class="code hl_variable" href="rgw__aio_8cc.html#ae38055824c6eac64615832ad9d888539">r</a> &lt; 0) {</div>
<div class="line"><span class="lineno"> 6932</span>        cerr &lt;&lt; <span class="stringliteral">&quot;error reading log &quot;</span> &lt;&lt; oid &lt;&lt; <span class="stringliteral">&quot;: &quot;</span> &lt;&lt; cpp_strerror(-<a class="code hl_variable" href="rgw__aio_8cc.html#ae38055824c6eac64615832ad9d888539">r</a>) &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 6933</span>    <span class="keywordflow">return</span> -<a class="code hl_variable" href="rgw__aio_8cc.html#ae38055824c6eac64615832ad9d888539">r</a>;</div>
<div class="line"><span class="lineno"> 6934</span>      }</div>
<div class="line"><span class="lineno"> 6935</span>      <span class="keywordflow">if</span> (show_log_entries)</div>
<div class="line"><span class="lineno"> 6936</span>        formatter-&gt;close_section();</div>
<div class="line"><span class="lineno"> 6937</span> </div>
<div class="line"><span class="lineno"> 6938</span>      <span class="keywordflow">if</span> (show_log_sum) {</div>
<div class="line"><span class="lineno"> 6939</span>        formatter-&gt;open_object_section(<span class="stringliteral">&quot;log_sum&quot;</span>);</div>
<div class="line"><span class="lineno"> 6940</span>    formatter-&gt;dump_int(<span class="stringliteral">&quot;bytes_sent&quot;</span>, agg_bytes_sent);</div>
<div class="line"><span class="lineno"> 6941</span>    formatter-&gt;dump_int(<span class="stringliteral">&quot;bytes_received&quot;</span>, agg_bytes_received);</div>
<div class="line"><span class="lineno"> 6942</span>    formatter-&gt;dump_int(<span class="stringliteral">&quot;total_time&quot;</span>, agg_time);</div>
<div class="line"><span class="lineno"> 6943</span>    formatter-&gt;dump_int(<span class="stringliteral">&quot;total_entries&quot;</span>, total_entries);</div>
<div class="line"><span class="lineno"> 6944</span>        formatter-&gt;close_section();</div>
<div class="line"><span class="lineno"> 6945</span>      }</div>
<div class="line"><span class="lineno"> 6946</span>      formatter-&gt;close_section();</div>
<div class="line"><span class="lineno"> 6947</span>      formatter-&gt;flush(cout);</div>
<div class="line"><span class="lineno"> 6948</span>      cout &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 6949</span>    }</div>
<div class="line"><span class="lineno"> 6950</span>    <span class="keywordflow">if</span> (opt_cmd == OPT::LOG_RM) {</div>
<div class="line"><span class="lineno"> 6951</span>      <span class="keywordtype">int</span> <a class="code hl_variable" href="rgw__aio_8cc.html#ae38055824c6eac64615832ad9d888539">r</a> = <span class="keyword">static_cast&lt;</span><a class="code hl_class" href="classrgw_1_1sal_1_1_rados_store.html">rgw::sal::RadosStore</a>*<span class="keyword">&gt;</span>(<a class="code hl_variable" href="rgw__admin_8cc.html#a6fdb26d64b14d837b60e83a6ca3e2863">store</a>)-&gt;getRados()-&gt;log_remove(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>(), oid);</div>
<div class="line"><span class="lineno"> 6952</span>      <span class="keywordflow">if</span> (<a class="code hl_variable" href="rgw__aio_8cc.html#ae38055824c6eac64615832ad9d888539">r</a> &lt; 0) {</div>
<div class="line"><span class="lineno"> 6953</span>    cerr &lt;&lt; <span class="stringliteral">&quot;error removing log &quot;</span> &lt;&lt; oid &lt;&lt; <span class="stringliteral">&quot;: &quot;</span> &lt;&lt; cpp_strerror(-<a class="code hl_variable" href="rgw__aio_8cc.html#ae38055824c6eac64615832ad9d888539">r</a>) &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 6954</span>    <span class="keywordflow">return</span> -<a class="code hl_variable" href="rgw__aio_8cc.html#ae38055824c6eac64615832ad9d888539">r</a>;</div>
<div class="line"><span class="lineno"> 6955</span>      }</div>
<div class="line"><span class="lineno"> 6956</span>    }</div>
<div class="line"><span class="lineno"> 6957</span>  }</div>
<div class="line"><span class="lineno"> 6958</span> </div>
<div class="line"><span class="lineno"> 6959</span>  <span class="keywordflow">if</span> (opt_cmd == OPT::POOL_ADD) {</div>
<div class="line"><span class="lineno"> 6960</span>    <span class="keywordflow">if</span> (pool_name.empty()) {</div>
<div class="line"><span class="lineno"> 6961</span>      cerr &lt;&lt; <span class="stringliteral">&quot;need to specify pool to add!&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 6962</span>      exit(1);</div>
<div class="line"><span class="lineno"> 6963</span>    }</div>
<div class="line"><span class="lineno"> 6964</span> </div>
<div class="line"><span class="lineno"> 6965</span>    <span class="keywordtype">int</span> ret = <span class="keyword">static_cast&lt;</span><a class="code hl_class" href="classrgw_1_1sal_1_1_rados_store.html">rgw::sal::RadosStore</a>*<span class="keyword">&gt;</span>(<a class="code hl_variable" href="rgw__admin_8cc.html#a6fdb26d64b14d837b60e83a6ca3e2863">store</a>)-&gt;svc()-&gt;<a class="code hl_variable" href="classrgw_1_1sal_1_1_rados_store.html#a0a94e58a4595ab519b4c3f89d33419fe">zone</a>-&gt;add_bucket_placement(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>(), pool, null_yield);</div>
<div class="line"><span class="lineno"> 6966</span>    <span class="keywordflow">if</span> (ret &lt; 0)</div>
<div class="line"><span class="lineno"> 6967</span>      cerr &lt;&lt; <span class="stringliteral">&quot;failed to add bucket placement: &quot;</span> &lt;&lt; cpp_strerror(-ret) &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 6968</span>  }</div>
<div class="line"><span class="lineno"> 6969</span> </div>
<div class="line"><span class="lineno"> 6970</span>  <span class="keywordflow">if</span> (opt_cmd == OPT::POOL_RM) {</div>
<div class="line"><span class="lineno"> 6971</span>    <span class="keywordflow">if</span> (pool_name.empty()) {</div>
<div class="line"><span class="lineno"> 6972</span>      cerr &lt;&lt; <span class="stringliteral">&quot;need to specify pool to remove!&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 6973</span>      exit(1);</div>
<div class="line"><span class="lineno"> 6974</span>    }</div>
<div class="line"><span class="lineno"> 6975</span> </div>
<div class="line"><span class="lineno"> 6976</span>    <span class="keywordtype">int</span> ret = <span class="keyword">static_cast&lt;</span><a class="code hl_class" href="classrgw_1_1sal_1_1_rados_store.html">rgw::sal::RadosStore</a>*<span class="keyword">&gt;</span>(<a class="code hl_variable" href="rgw__admin_8cc.html#a6fdb26d64b14d837b60e83a6ca3e2863">store</a>)-&gt;svc()-&gt;<a class="code hl_variable" href="classrgw_1_1sal_1_1_rados_store.html#a0a94e58a4595ab519b4c3f89d33419fe">zone</a>-&gt;remove_bucket_placement(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>(), pool, null_yield);</div>
<div class="line"><span class="lineno"> 6977</span>    <span class="keywordflow">if</span> (ret &lt; 0)</div>
<div class="line"><span class="lineno"> 6978</span>      cerr &lt;&lt; <span class="stringliteral">&quot;failed to remove bucket placement: &quot;</span> &lt;&lt; cpp_strerror(-ret) &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 6979</span>  }</div>
<div class="line"><span class="lineno"> 6980</span> </div>
<div class="line"><span class="lineno"> 6981</span>  <span class="keywordflow">if</span> (opt_cmd == OPT::POOLS_LIST) {</div>
<div class="line"><span class="lineno"> 6982</span>    set&lt;rgw_pool&gt; pools;</div>
<div class="line"><span class="lineno"> 6983</span>    <span class="keywordtype">int</span> ret = <span class="keyword">static_cast&lt;</span><a class="code hl_class" href="classrgw_1_1sal_1_1_rados_store.html">rgw::sal::RadosStore</a>*<span class="keyword">&gt;</span>(<a class="code hl_variable" href="rgw__admin_8cc.html#a6fdb26d64b14d837b60e83a6ca3e2863">store</a>)-&gt;svc()-&gt;<a class="code hl_variable" href="classrgw_1_1sal_1_1_rados_store.html#a0a94e58a4595ab519b4c3f89d33419fe">zone</a>-&gt;list_placement_set(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>(), pools, null_yield);</div>
<div class="line"><span class="lineno"> 6984</span>    <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno"> 6985</span>      cerr &lt;&lt; <span class="stringliteral">&quot;could not list placement set: &quot;</span> &lt;&lt; cpp_strerror(-ret) &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 6986</span>      <span class="keywordflow">return</span> -ret;</div>
<div class="line"><span class="lineno"> 6987</span>    }</div>
<div class="line"><span class="lineno"> 6988</span>    formatter-&gt;reset();</div>
<div class="line"><span class="lineno"> 6989</span>    formatter-&gt;open_array_section(<span class="stringliteral">&quot;pools&quot;</span>);</div>
<div class="line"><span class="lineno"> 6990</span>    <span class="keywordflow">for</span> (<span class="keyword">auto</span> siter = pools.begin(); siter != pools.end(); ++siter) {</div>
<div class="line"><span class="lineno"> 6991</span>      formatter-&gt;open_object_section(<span class="stringliteral">&quot;pool&quot;</span>);</div>
<div class="line"><span class="lineno"> 6992</span>      formatter-&gt;dump_string(<span class="stringliteral">&quot;name&quot;</span>,  siter-&gt;to_str());</div>
<div class="line"><span class="lineno"> 6993</span>      formatter-&gt;close_section();</div>
<div class="line"><span class="lineno"> 6994</span>    }</div>
<div class="line"><span class="lineno"> 6995</span>    formatter-&gt;close_section();</div>
<div class="line"><span class="lineno"> 6996</span>    formatter-&gt;flush(cout);</div>
<div class="line"><span class="lineno"> 6997</span>    cout &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 6998</span>  }</div>
<div class="line"><span class="lineno"> 6999</span> </div>
<div class="line"><span class="lineno"> 7000</span>  <span class="keywordflow">if</span> (opt_cmd == OPT::USAGE_SHOW) {</div>
<div class="line"><span class="lineno"> 7001</span>    uint64_t start_epoch = 0;</div>
<div class="line"><span class="lineno"> 7002</span>    uint64_t end_epoch = (uint64_t)-1;</div>
<div class="line"><span class="lineno"> 7003</span> </div>
<div class="line"><span class="lineno"> 7004</span>    <span class="keywordtype">int</span> ret;</div>
<div class="line"><span class="lineno"> 7005</span> </div>
<div class="line"><span class="lineno"> 7006</span>    <span class="keywordflow">if</span> (!start_date.empty()) {</div>
<div class="line"><span class="lineno"> 7007</span>      ret = utime_t::parse_date(start_date, &amp;start_epoch, NULL);</div>
<div class="line"><span class="lineno"> 7008</span>      <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno"> 7009</span>        cerr &lt;&lt; <span class="stringliteral">&quot;ERROR: failed to parse start date&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 7010</span>        <span class="keywordflow">return</span> 1;</div>
<div class="line"><span class="lineno"> 7011</span>      }</div>
<div class="line"><span class="lineno"> 7012</span>    }</div>
<div class="line"><span class="lineno"> 7013</span>    <span class="keywordflow">if</span> (!end_date.empty()) {</div>
<div class="line"><span class="lineno"> 7014</span>      ret = utime_t::parse_date(end_date, &amp;end_epoch, NULL);</div>
<div class="line"><span class="lineno"> 7015</span>      <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno"> 7016</span>        cerr &lt;&lt; <span class="stringliteral">&quot;ERROR: failed to parse end date&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 7017</span>        <span class="keywordflow">return</span> 1;</div>
<div class="line"><span class="lineno"> 7018</span>      }</div>
<div class="line"><span class="lineno"> 7019</span>    }</div>
<div class="line"><span class="lineno"> 7020</span> </div>
<div class="line"><span class="lineno"> 7021</span> </div>
<div class="line"><span class="lineno"> 7022</span>    <span class="keywordflow">if</span> (!bucket_name.empty()) {</div>
<div class="line"><span class="lineno"> 7023</span>      <span class="keywordtype">int</span> ret = <a class="code hl_function" href="rgw__admin_8cc.html#a0023a8779e3ab0d965d9acfb3eb72cac">init_bucket</a>(<a class="code hl_variable" href="structrgw__log__entry.html#a35ae5bdbb5f60664f0a367d5c3ad9efe">user</a>.get(), tenant, bucket_name, <a class="code hl_variable" href="structrgw__log__entry.html#ade138581b4da0c38466f03c320bdd1ee">bucket_id</a>, &amp;<a class="code hl_variable" href="structrgw__log__entry.html#abe38126b4342e5e27a847c7850bb58d4">bucket</a>);</div>
<div class="line"><span class="lineno"> 7024</span>      <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno"> 7025</span>    cerr &lt;&lt; <span class="stringliteral">&quot;ERROR: could not init bucket: &quot;</span> &lt;&lt; cpp_strerror(-ret) &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 7026</span>    <span class="keywordflow">return</span> -ret;</div>
<div class="line"><span class="lineno"> 7027</span>      }</div>
<div class="line"><span class="lineno"> 7028</span>    }</div>
<div class="line"><span class="lineno"> 7029</span>    ret = <a class="code hl_function" href="class_r_g_w_usage.html#a4db8133d74a06eeb306079d785e1c0c7">RGWUsage::show</a>(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>(), <a class="code hl_variable" href="rgw__admin_8cc.html#a6fdb26d64b14d837b60e83a6ca3e2863">store</a>, <a class="code hl_variable" href="structrgw__log__entry.html#a35ae5bdbb5f60664f0a367d5c3ad9efe">user</a>.get(), <a class="code hl_variable" href="structrgw__log__entry.html#abe38126b4342e5e27a847c7850bb58d4">bucket</a>.get(), start_epoch,</div>
<div class="line"><span class="lineno"> 7030</span>             end_epoch, show_log_entries, show_log_sum, &amp;categories,</div>
<div class="line"><span class="lineno"> 7031</span>             stream_flusher);</div>
<div class="line"><span class="lineno"> 7032</span>    <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno"> 7033</span>      cerr &lt;&lt; <span class="stringliteral">&quot;ERROR: failed to show usage&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 7034</span>      <span class="keywordflow">return</span> 1;</div>
<div class="line"><span class="lineno"> 7035</span>    }</div>
<div class="line"><span class="lineno"> 7036</span>  }</div>
<div class="line"><span class="lineno"> 7037</span> </div>
<div class="line"><span class="lineno"> 7038</span>  <span class="keywordflow">if</span> (opt_cmd == OPT::USAGE_TRIM) {</div>
<div class="line"><span class="lineno"> 7039</span>    <span class="keywordflow">if</span> (<a class="code hl_function" href="classrgw_1_1sal_1_1_user.html#a96e608798e4a45601e3d9f223bdbcb9b">rgw::sal::User::empty</a>(<a class="code hl_variable" href="structrgw__log__entry.html#a35ae5bdbb5f60664f0a367d5c3ad9efe">user</a>) &amp;&amp; bucket_name.empty() &amp;&amp;</div>
<div class="line"><span class="lineno"> 7040</span>    start_date.empty() &amp;&amp; end_date.empty() &amp;&amp; !yes_i_really_mean_it) {</div>
<div class="line"><span class="lineno"> 7041</span>      cerr &lt;&lt; <span class="stringliteral">&quot;usage trim without user/date/bucket specified will remove *all* users data&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 7042</span>      cerr &lt;&lt; <span class="stringliteral">&quot;do you really mean it? (requires --yes-i-really-mean-it)&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 7043</span>      <span class="keywordflow">return</span> 1;</div>
<div class="line"><span class="lineno"> 7044</span>    }</div>
<div class="line"><span class="lineno"> 7045</span>    <span class="keywordtype">int</span> ret;</div>
<div class="line"><span class="lineno"> 7046</span>    uint64_t start_epoch = 0;</div>
<div class="line"><span class="lineno"> 7047</span>    uint64_t end_epoch = (uint64_t)-1;</div>
<div class="line"><span class="lineno"> 7048</span> </div>
<div class="line"><span class="lineno"> 7049</span> </div>
<div class="line"><span class="lineno"> 7050</span>    <span class="keywordflow">if</span> (!start_date.empty()) {</div>
<div class="line"><span class="lineno"> 7051</span>      ret = utime_t::parse_date(start_date, &amp;start_epoch, NULL);</div>
<div class="line"><span class="lineno"> 7052</span>      <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno"> 7053</span>        cerr &lt;&lt; <span class="stringliteral">&quot;ERROR: failed to parse start date&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 7054</span>        <span class="keywordflow">return</span> 1;</div>
<div class="line"><span class="lineno"> 7055</span>      }</div>
<div class="line"><span class="lineno"> 7056</span>    }</div>
<div class="line"><span class="lineno"> 7057</span> </div>
<div class="line"><span class="lineno"> 7058</span>    <span class="keywordflow">if</span> (!end_date.empty()) {</div>
<div class="line"><span class="lineno"> 7059</span>      ret = utime_t::parse_date(end_date, &amp;end_epoch, NULL);</div>
<div class="line"><span class="lineno"> 7060</span>      <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno"> 7061</span>        cerr &lt;&lt; <span class="stringliteral">&quot;ERROR: failed to parse end date&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 7062</span>        <span class="keywordflow">return</span> 1;</div>
<div class="line"><span class="lineno"> 7063</span>      }</div>
<div class="line"><span class="lineno"> 7064</span>    }</div>
<div class="line"><span class="lineno"> 7065</span> </div>
<div class="line"><span class="lineno"> 7066</span>    <span class="keywordflow">if</span> (!bucket_name.empty()) {</div>
<div class="line"><span class="lineno"> 7067</span>      <span class="keywordtype">int</span> ret = <a class="code hl_function" href="rgw__admin_8cc.html#a0023a8779e3ab0d965d9acfb3eb72cac">init_bucket</a>(<a class="code hl_variable" href="structrgw__log__entry.html#a35ae5bdbb5f60664f0a367d5c3ad9efe">user</a>.get(), tenant, bucket_name, <a class="code hl_variable" href="structrgw__log__entry.html#ade138581b4da0c38466f03c320bdd1ee">bucket_id</a>, &amp;<a class="code hl_variable" href="structrgw__log__entry.html#abe38126b4342e5e27a847c7850bb58d4">bucket</a>);</div>
<div class="line"><span class="lineno"> 7068</span>      <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno"> 7069</span>    cerr &lt;&lt; <span class="stringliteral">&quot;ERROR: could not init bucket: &quot;</span> &lt;&lt; cpp_strerror(-ret) &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 7070</span>    <span class="keywordflow">return</span> -ret;</div>
<div class="line"><span class="lineno"> 7071</span>      }</div>
<div class="line"><span class="lineno"> 7072</span>    }</div>
<div class="line"><span class="lineno"> 7073</span>    ret = <a class="code hl_function" href="class_r_g_w_usage.html#a3438c318855fdc63365b18ef648fad7a">RGWUsage::trim</a>(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>(), <a class="code hl_variable" href="rgw__admin_8cc.html#a6fdb26d64b14d837b60e83a6ca3e2863">store</a>, <a class="code hl_variable" href="structrgw__log__entry.html#a35ae5bdbb5f60664f0a367d5c3ad9efe">user</a>.get(), <a class="code hl_variable" href="structrgw__log__entry.html#abe38126b4342e5e27a847c7850bb58d4">bucket</a>.get(), start_epoch, end_epoch);</div>
<div class="line"><span class="lineno"> 7074</span>    <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno"> 7075</span>      cerr &lt;&lt; <span class="stringliteral">&quot;ERROR: read_usage() returned ret=&quot;</span> &lt;&lt; ret &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 7076</span>      <span class="keywordflow">return</span> 1;</div>
<div class="line"><span class="lineno"> 7077</span>    }</div>
<div class="line"><span class="lineno"> 7078</span>  }</div>
<div class="line"><span class="lineno"> 7079</span> </div>
<div class="line"><span class="lineno"> 7080</span>  <span class="keywordflow">if</span> (opt_cmd == OPT::USAGE_CLEAR) {</div>
<div class="line"><span class="lineno"> 7081</span>    <span class="keywordflow">if</span> (!yes_i_really_mean_it) {</div>
<div class="line"><span class="lineno"> 7082</span>      cerr &lt;&lt; <span class="stringliteral">&quot;usage clear would remove *all* users usage data for all time&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 7083</span>      cerr &lt;&lt; <span class="stringliteral">&quot;do you really mean it? (requires --yes-i-really-mean-it)&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 7084</span>      <span class="keywordflow">return</span> 1;</div>
<div class="line"><span class="lineno"> 7085</span>    }</div>
<div class="line"><span class="lineno"> 7086</span> </div>
<div class="line"><span class="lineno"> 7087</span>    ret = <a class="code hl_function" href="class_r_g_w_usage.html#a2bbc6a7ed6975ada96b71b916e3da494">RGWUsage::clear</a>(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>(), <a class="code hl_variable" href="rgw__admin_8cc.html#a6fdb26d64b14d837b60e83a6ca3e2863">store</a>);</div>
<div class="line"><span class="lineno"> 7088</span>    <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno"> 7089</span>      <span class="keywordflow">return</span> ret;</div>
<div class="line"><span class="lineno"> 7090</span>    }</div>
<div class="line"><span class="lineno"> 7091</span>  }</div>
<div class="line"><span class="lineno"> 7092</span> </div>
<div class="line"><span class="lineno"> 7093</span> </div>
<div class="line"><span class="lineno"> 7094</span>  <span class="keywordflow">if</span> (opt_cmd == OPT::OLH_GET || opt_cmd == OPT::OLH_READLOG) {</div>
<div class="line"><span class="lineno"> 7095</span>    <span class="keywordflow">if</span> (bucket_name.empty()) {</div>
<div class="line"><span class="lineno"> 7096</span>      cerr &lt;&lt; <span class="stringliteral">&quot;ERROR: bucket not specified&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 7097</span>      <span class="keywordflow">return</span> EINVAL;</div>
<div class="line"><span class="lineno"> 7098</span>    }</div>
<div class="line"><span class="lineno"> 7099</span>    <span class="keywordflow">if</span> (<span class="keywordtype">object</span>.<a class="code hl_enumvalue" href="rgw__crypt_8cc.html#adde527b14a1813b09f5f168c2e92775caa2e4822a98337283e39f7b60acf85ec9">empty</a>()) {</div>
<div class="line"><span class="lineno"> 7100</span>      cerr &lt;&lt; <span class="stringliteral">&quot;ERROR: object not specified&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 7101</span>      <span class="keywordflow">return</span> EINVAL;</div>
<div class="line"><span class="lineno"> 7102</span>    }</div>
<div class="line"><span class="lineno"> 7103</span>  }</div>
<div class="line"><span class="lineno"> 7104</span> </div>
<div class="line"><span class="lineno"> 7105</span>  <span class="keywordflow">if</span> (opt_cmd == OPT::OLH_GET) {</div>
<div class="line"><span class="lineno"> 7106</span>    <span class="keywordtype">int</span> ret = <a class="code hl_function" href="rgw__admin_8cc.html#a0023a8779e3ab0d965d9acfb3eb72cac">init_bucket</a>(<a class="code hl_variable" href="structrgw__log__entry.html#a35ae5bdbb5f60664f0a367d5c3ad9efe">user</a>.get(), tenant, bucket_name, <a class="code hl_variable" href="structrgw__log__entry.html#ade138581b4da0c38466f03c320bdd1ee">bucket_id</a>, &amp;<a class="code hl_variable" href="structrgw__log__entry.html#abe38126b4342e5e27a847c7850bb58d4">bucket</a>);</div>
<div class="line"><span class="lineno"> 7107</span>    <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno"> 7108</span>      cerr &lt;&lt; <span class="stringliteral">&quot;ERROR: could not init bucket: &quot;</span> &lt;&lt; cpp_strerror(-ret) &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 7109</span>      <span class="keywordflow">return</span> -ret;</div>
<div class="line"><span class="lineno"> 7110</span>    }</div>
<div class="line"><span class="lineno"> 7111</span>    <a class="code hl_struct" href="struct_r_g_w_o_l_h_info.html">RGWOLHInfo</a> olh;</div>
<div class="line"><span class="lineno"> 7112</span>    <a class="code hl_struct" href="structrgw__obj.html">rgw_obj</a> <a class="code hl_variable" href="structrgw__log__entry.html#af11afc5005ffd6df74f530ac1e34a545">obj</a>(<a class="code hl_variable" href="structrgw__log__entry.html#abe38126b4342e5e27a847c7850bb58d4">bucket</a>-&gt;get_key(), <span class="keywordtype">object</span>);</div>
<div class="line"><span class="lineno"> 7113</span>    ret = <span class="keyword">static_cast&lt;</span><a class="code hl_class" href="classrgw_1_1sal_1_1_rados_store.html">rgw::sal::RadosStore</a>*<span class="keyword">&gt;</span>(<a class="code hl_variable" href="rgw__admin_8cc.html#a6fdb26d64b14d837b60e83a6ca3e2863">store</a>)-&gt;getRados()-&gt;get_olh(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>(), <a class="code hl_variable" href="structrgw__log__entry.html#abe38126b4342e5e27a847c7850bb58d4">bucket</a>-&gt;get_info(), <a class="code hl_variable" href="structrgw__log__entry.html#af11afc5005ffd6df74f530ac1e34a545">obj</a>, &amp;olh);</div>
<div class="line"><span class="lineno"> 7114</span>    <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno"> 7115</span>      cerr &lt;&lt; <span class="stringliteral">&quot;ERROR: failed reading olh: &quot;</span> &lt;&lt; cpp_strerror(-ret) &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 7116</span>      <span class="keywordflow">return</span> -ret;</div>
<div class="line"><span class="lineno"> 7117</span>    }</div>
<div class="line"><span class="lineno"> 7118</span>    <a class="code hl_function" href="rgw__admin_8cc.html#ab596b9e1a1fc78e98a4d13a66578b658">encode_json</a>(<span class="stringliteral">&quot;olh&quot;</span>, olh, formatter.get());</div>
<div class="line"><span class="lineno"> 7119</span>    formatter-&gt;flush(cout);</div>
<div class="line"><span class="lineno"> 7120</span>  }</div>
<div class="line"><span class="lineno"> 7121</span> </div>
<div class="line"><span class="lineno"> 7122</span>  <span class="keywordflow">if</span> (opt_cmd == OPT::OLH_READLOG) {</div>
<div class="line"><span class="lineno"> 7123</span>    <span class="keywordtype">int</span> ret = <a class="code hl_function" href="rgw__admin_8cc.html#a0023a8779e3ab0d965d9acfb3eb72cac">init_bucket</a>(<a class="code hl_variable" href="structrgw__log__entry.html#a35ae5bdbb5f60664f0a367d5c3ad9efe">user</a>.get(), tenant, bucket_name, <a class="code hl_variable" href="structrgw__log__entry.html#ade138581b4da0c38466f03c320bdd1ee">bucket_id</a>, &amp;<a class="code hl_variable" href="structrgw__log__entry.html#abe38126b4342e5e27a847c7850bb58d4">bucket</a>);</div>
<div class="line"><span class="lineno"> 7124</span>    <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno"> 7125</span>      cerr &lt;&lt; <span class="stringliteral">&quot;ERROR: could not init bucket: &quot;</span> &lt;&lt; cpp_strerror(-ret) &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 7126</span>      <span class="keywordflow">return</span> -ret;</div>
<div class="line"><span class="lineno"> 7127</span>    }</div>
<div class="line"><span class="lineno"> 7128</span>    map&lt;uint64_t, vector&lt;rgw_bucket_olh_log_entry&gt; &gt; log;</div>
<div class="line"><span class="lineno"> 7129</span>    <span class="keywordtype">bool</span> is_truncated;</div>
<div class="line"><span class="lineno"> 7130</span> </div>
<div class="line"><span class="lineno"> 7131</span>    <a class="code hl_class" href="class_r_g_w_object_ctx.html">RGWObjectCtx</a> rctx(<a class="code hl_variable" href="rgw__admin_8cc.html#a6fdb26d64b14d837b60e83a6ca3e2863">store</a>);</div>
<div class="line"><span class="lineno"> 7132</span>    std::unique_ptr&lt;rgw::sal::Object&gt; <a class="code hl_variable" href="structrgw__log__entry.html#af11afc5005ffd6df74f530ac1e34a545">obj</a> = <a class="code hl_variable" href="structrgw__log__entry.html#abe38126b4342e5e27a847c7850bb58d4">bucket</a>-&gt;get_object(<span class="keywordtype">object</span>);</div>
<div class="line"><span class="lineno"> 7133</span> </div>
<div class="line"><span class="lineno"> 7134</span>    <a class="code hl_struct" href="struct_r_g_w_obj_state.html">RGWObjState</a> *state;</div>
<div class="line"><span class="lineno"> 7135</span> </div>
<div class="line"><span class="lineno"> 7136</span>    ret = <a class="code hl_variable" href="structrgw__log__entry.html#af11afc5005ffd6df74f530ac1e34a545">obj</a>-&gt;get_obj_state(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>(), &amp;rctx, &amp;state, null_yield);</div>
<div class="line"><span class="lineno"> 7137</span>    <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno"> 7138</span>      <span class="keywordflow">return</span> -ret;</div>
<div class="line"><span class="lineno"> 7139</span>    }</div>
<div class="line"><span class="lineno"> 7140</span> </div>
<div class="line"><span class="lineno"> 7141</span>    ret = <span class="keyword">static_cast&lt;</span><a class="code hl_class" href="classrgw_1_1sal_1_1_rados_store.html">rgw::sal::RadosStore</a>*<span class="keyword">&gt;</span>(<a class="code hl_variable" href="rgw__admin_8cc.html#a6fdb26d64b14d837b60e83a6ca3e2863">store</a>)-&gt;getRados()-&gt;bucket_index_read_olh_log(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>(), <a class="code hl_variable" href="structrgw__log__entry.html#abe38126b4342e5e27a847c7850bb58d4">bucket</a>-&gt;get_info(), *state, <a class="code hl_variable" href="structrgw__log__entry.html#af11afc5005ffd6df74f530ac1e34a545">obj</a>-&gt;get_obj(), 0, &amp;log, &amp;is_truncated);</div>
<div class="line"><span class="lineno"> 7142</span>    <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno"> 7143</span>      cerr &lt;&lt; <span class="stringliteral">&quot;ERROR: failed reading olh: &quot;</span> &lt;&lt; cpp_strerror(-ret) &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 7144</span>      <span class="keywordflow">return</span> -ret;</div>
<div class="line"><span class="lineno"> 7145</span>    }</div>
<div class="line"><span class="lineno"> 7146</span>    formatter-&gt;open_object_section(<span class="stringliteral">&quot;result&quot;</span>);</div>
<div class="line"><span class="lineno"> 7147</span>    <a class="code hl_function" href="rgw__admin_8cc.html#ab596b9e1a1fc78e98a4d13a66578b658">encode_json</a>(<span class="stringliteral">&quot;is_truncated&quot;</span>, is_truncated, formatter.get());</div>
<div class="line"><span class="lineno"> 7148</span>    <a class="code hl_function" href="rgw__admin_8cc.html#ab596b9e1a1fc78e98a4d13a66578b658">encode_json</a>(<span class="stringliteral">&quot;log&quot;</span>, log, formatter.get());</div>
<div class="line"><span class="lineno"> 7149</span>    formatter-&gt;close_section();</div>
<div class="line"><span class="lineno"> 7150</span>    formatter-&gt;flush(cout);</div>
<div class="line"><span class="lineno"> 7151</span>  }</div>
<div class="line"><span class="lineno"> 7152</span> </div>
<div class="line"><span class="lineno"> 7153</span>  <span class="keywordflow">if</span> (opt_cmd == OPT::BI_GET) {</div>
<div class="line"><span class="lineno"> 7154</span>    <span class="keywordflow">if</span> (bucket_name.empty()) {</div>
<div class="line"><span class="lineno"> 7155</span>      cerr &lt;&lt; <span class="stringliteral">&quot;ERROR: bucket name not specified&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 7156</span>      <span class="keywordflow">return</span> EINVAL;</div>
<div class="line"><span class="lineno"> 7157</span>    }</div>
<div class="line"><span class="lineno"> 7158</span>    <span class="keywordflow">if</span> (<span class="keywordtype">object</span>.<a class="code hl_enumvalue" href="rgw__crypt_8cc.html#adde527b14a1813b09f5f168c2e92775caa2e4822a98337283e39f7b60acf85ec9">empty</a>()) {</div>
<div class="line"><span class="lineno"> 7159</span>      cerr &lt;&lt; <span class="stringliteral">&quot;ERROR: object not specified&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 7160</span>      <span class="keywordflow">return</span> EINVAL;</div>
<div class="line"><span class="lineno"> 7161</span>    }</div>
<div class="line"><span class="lineno"> 7162</span>    <span class="keywordtype">int</span> ret = <a class="code hl_function" href="rgw__admin_8cc.html#a0023a8779e3ab0d965d9acfb3eb72cac">init_bucket</a>(<a class="code hl_variable" href="structrgw__log__entry.html#a35ae5bdbb5f60664f0a367d5c3ad9efe">user</a>.get(), tenant, bucket_name, <a class="code hl_variable" href="structrgw__log__entry.html#ade138581b4da0c38466f03c320bdd1ee">bucket_id</a>, &amp;<a class="code hl_variable" href="structrgw__log__entry.html#abe38126b4342e5e27a847c7850bb58d4">bucket</a>);</div>
<div class="line"><span class="lineno"> 7163</span>    <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno"> 7164</span>      cerr &lt;&lt; <span class="stringliteral">&quot;ERROR: could not init bucket: &quot;</span> &lt;&lt; cpp_strerror(-ret) &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 7165</span>      <span class="keywordflow">return</span> -ret;</div>
<div class="line"><span class="lineno"> 7166</span>    }</div>
<div class="line"><span class="lineno"> 7167</span>    <a class="code hl_struct" href="structrgw__obj.html">rgw_obj</a> <a class="code hl_variable" href="structrgw__log__entry.html#af11afc5005ffd6df74f530ac1e34a545">obj</a>(<a class="code hl_variable" href="structrgw__log__entry.html#abe38126b4342e5e27a847c7850bb58d4">bucket</a>-&gt;get_key(), <span class="keywordtype">object</span>);</div>
<div class="line"><span class="lineno"> 7168</span>    <span class="keywordflow">if</span> (!object_version.empty()) {</div>
<div class="line"><span class="lineno"> 7169</span>      <a class="code hl_variable" href="structrgw__log__entry.html#af11afc5005ffd6df74f530ac1e34a545">obj</a>.key.<a class="code hl_function" href="structrgw__obj__key.html#a87cc67fcbd9c25864aeeb9a5f39a12dc">set_instance</a>(object_version);</div>
<div class="line"><span class="lineno"> 7170</span>    }</div>
<div class="line"><span class="lineno"> 7171</span> </div>
<div class="line"><span class="lineno"> 7172</span>    rgw_cls_bi_entry entry;</div>
<div class="line"><span class="lineno"> 7173</span> </div>
<div class="line"><span class="lineno"> 7174</span>    ret = <span class="keyword">static_cast&lt;</span><a class="code hl_class" href="classrgw_1_1sal_1_1_rados_store.html">rgw::sal::RadosStore</a>*<span class="keyword">&gt;</span>(<a class="code hl_variable" href="rgw__admin_8cc.html#a6fdb26d64b14d837b60e83a6ca3e2863">store</a>)-&gt;getRados()-&gt;bi_get(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>(), <a class="code hl_variable" href="structrgw__log__entry.html#abe38126b4342e5e27a847c7850bb58d4">bucket</a>-&gt;get_info(), <a class="code hl_variable" href="structrgw__log__entry.html#af11afc5005ffd6df74f530ac1e34a545">obj</a>, bi_index_type, &amp;entry);</div>
<div class="line"><span class="lineno"> 7175</span>    <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno"> 7176</span>      cerr &lt;&lt; <span class="stringliteral">&quot;ERROR: bi_get(): &quot;</span> &lt;&lt; cpp_strerror(-ret) &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 7177</span>      <span class="keywordflow">return</span> -ret;</div>
<div class="line"><span class="lineno"> 7178</span>    }</div>
<div class="line"><span class="lineno"> 7179</span> </div>
<div class="line"><span class="lineno"> 7180</span>    <a class="code hl_function" href="rgw__admin_8cc.html#ab596b9e1a1fc78e98a4d13a66578b658">encode_json</a>(<span class="stringliteral">&quot;entry&quot;</span>, entry, formatter.get());</div>
<div class="line"><span class="lineno"> 7181</span>    formatter-&gt;flush(cout);</div>
<div class="line"><span class="lineno"> 7182</span>  }</div>
<div class="line"><span class="lineno"> 7183</span> </div>
<div class="line"><span class="lineno"> 7184</span>  <span class="keywordflow">if</span> (opt_cmd == OPT::BI_PUT) {</div>
<div class="line"><span class="lineno"> 7185</span>    <span class="keywordflow">if</span> (bucket_name.empty()) {</div>
<div class="line"><span class="lineno"> 7186</span>      cerr &lt;&lt; <span class="stringliteral">&quot;ERROR: bucket name not specified&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 7187</span>      <span class="keywordflow">return</span> EINVAL;</div>
<div class="line"><span class="lineno"> 7188</span>    }</div>
<div class="line"><span class="lineno"> 7189</span>    <span class="keywordtype">int</span> ret = <a class="code hl_function" href="rgw__admin_8cc.html#a0023a8779e3ab0d965d9acfb3eb72cac">init_bucket</a>(<a class="code hl_variable" href="structrgw__log__entry.html#a35ae5bdbb5f60664f0a367d5c3ad9efe">user</a>.get(), tenant, bucket_name, <a class="code hl_variable" href="structrgw__log__entry.html#ade138581b4da0c38466f03c320bdd1ee">bucket_id</a>, &amp;<a class="code hl_variable" href="structrgw__log__entry.html#abe38126b4342e5e27a847c7850bb58d4">bucket</a>);</div>
<div class="line"><span class="lineno"> 7190</span>    <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno"> 7191</span>      cerr &lt;&lt; <span class="stringliteral">&quot;ERROR: could not init bucket: &quot;</span> &lt;&lt; cpp_strerror(-ret) &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 7192</span>      <span class="keywordflow">return</span> -ret;</div>
<div class="line"><span class="lineno"> 7193</span>    }</div>
<div class="line"><span class="lineno"> 7194</span> </div>
<div class="line"><span class="lineno"> 7195</span>    rgw_cls_bi_entry entry;</div>
<div class="line"><span class="lineno"> 7196</span>    cls_rgw_obj_key key;</div>
<div class="line"><span class="lineno"> 7197</span>    ret = <a class="code hl_function" href="rgw__admin_8cc.html#a33c98984a0812f3128d874042ee17c68">read_decode_json</a>(infile, entry, &amp;key);</div>
<div class="line"><span class="lineno"> 7198</span>    <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno"> 7199</span>      <span class="keywordflow">return</span> 1;</div>
<div class="line"><span class="lineno"> 7200</span>    }</div>
<div class="line"><span class="lineno"> 7201</span> </div>
<div class="line"><span class="lineno"> 7202</span>    <a class="code hl_struct" href="structrgw__obj.html">rgw_obj</a> <a class="code hl_variable" href="structrgw__log__entry.html#af11afc5005ffd6df74f530ac1e34a545">obj</a>(<a class="code hl_variable" href="structrgw__log__entry.html#abe38126b4342e5e27a847c7850bb58d4">bucket</a>-&gt;get_key(), key);</div>
<div class="line"><span class="lineno"> 7203</span> </div>
<div class="line"><span class="lineno"> 7204</span>    ret = <span class="keyword">static_cast&lt;</span><a class="code hl_class" href="classrgw_1_1sal_1_1_rados_store.html">rgw::sal::RadosStore</a>*<span class="keyword">&gt;</span>(<a class="code hl_variable" href="rgw__admin_8cc.html#a6fdb26d64b14d837b60e83a6ca3e2863">store</a>)-&gt;getRados()-&gt;bi_put(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>(), <a class="code hl_variable" href="structrgw__log__entry.html#abe38126b4342e5e27a847c7850bb58d4">bucket</a>-&gt;get_key(), <a class="code hl_variable" href="structrgw__log__entry.html#af11afc5005ffd6df74f530ac1e34a545">obj</a>, entry);</div>
<div class="line"><span class="lineno"> 7205</span>    <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno"> 7206</span>      cerr &lt;&lt; <span class="stringliteral">&quot;ERROR: bi_put(): &quot;</span> &lt;&lt; cpp_strerror(-ret) &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 7207</span>      <span class="keywordflow">return</span> -ret;</div>
<div class="line"><span class="lineno"> 7208</span>    }</div>
<div class="line"><span class="lineno"> 7209</span>  }</div>
<div class="line"><span class="lineno"> 7210</span> </div>
<div class="line"><span class="lineno"> 7211</span>  <span class="keywordflow">if</span> (opt_cmd == OPT::BI_LIST) {</div>
<div class="line"><span class="lineno"> 7212</span>    <span class="keywordflow">if</span> (bucket_name.empty()) {</div>
<div class="line"><span class="lineno"> 7213</span>      cerr &lt;&lt; <span class="stringliteral">&quot;ERROR: bucket name not specified&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 7214</span>      <span class="keywordflow">return</span> EINVAL;</div>
<div class="line"><span class="lineno"> 7215</span>    }</div>
<div class="line"><span class="lineno"> 7216</span>    <span class="keywordtype">int</span> ret = <a class="code hl_function" href="rgw__admin_8cc.html#a0023a8779e3ab0d965d9acfb3eb72cac">init_bucket</a>(<a class="code hl_variable" href="structrgw__log__entry.html#a35ae5bdbb5f60664f0a367d5c3ad9efe">user</a>.get(), tenant, bucket_name, <a class="code hl_variable" href="structrgw__log__entry.html#ade138581b4da0c38466f03c320bdd1ee">bucket_id</a>, &amp;<a class="code hl_variable" href="structrgw__log__entry.html#abe38126b4342e5e27a847c7850bb58d4">bucket</a>);</div>
<div class="line"><span class="lineno"> 7217</span>    <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno"> 7218</span>      cerr &lt;&lt; <span class="stringliteral">&quot;ERROR: could not init bucket: &quot;</span> &lt;&lt; cpp_strerror(-ret) &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 7219</span>      <span class="keywordflow">return</span> -ret;</div>
<div class="line"><span class="lineno"> 7220</span>    }</div>
<div class="line"><span class="lineno"> 7221</span> </div>
<div class="line"><span class="lineno"> 7222</span>    list&lt;rgw_cls_bi_entry&gt; <a class="code hl_variable" href="cls__fifo__legacy_8cc.html#a0341b0ec09e77f9d6274d5b1517f7711">entries</a>;</div>
<div class="line"><span class="lineno"> 7223</span>    <span class="keywordtype">bool</span> is_truncated;</div>
<div class="line"><span class="lineno"> 7224</span>    <span class="keywordflow">if</span> (max_entries &lt; 0) {</div>
<div class="line"><span class="lineno"> 7225</span>      max_entries = 1000;</div>
<div class="line"><span class="lineno"> 7226</span>    }</div>
<div class="line"><span class="lineno"> 7227</span> </div>
<div class="line"><span class="lineno"> 7228</span>    <span class="keywordtype">int</span> max_shards = (<a class="code hl_variable" href="structrgw__log__entry.html#abe38126b4342e5e27a847c7850bb58d4">bucket</a>-&gt;get_info().layout.current_index.layout.normal.num_shards &gt; 0 ? <a class="code hl_variable" href="structrgw__log__entry.html#abe38126b4342e5e27a847c7850bb58d4">bucket</a>-&gt;get_info().layout.current_index.layout.normal.num_shards : 1);</div>
<div class="line"><span class="lineno"> 7229</span> </div>
<div class="line"><span class="lineno"> 7230</span>    formatter-&gt;open_array_section(<span class="stringliteral">&quot;entries&quot;</span>);</div>
<div class="line"><span class="lineno"> 7231</span> </div>
<div class="line"><span class="lineno"> 7232</span>    <span class="keywordtype">int</span> i = (specified_shard_id ? shard_id : 0);</div>
<div class="line"><span class="lineno"> 7233</span>    <span class="keywordflow">for</span> (; i &lt; max_shards; i++) {</div>
<div class="line"><span class="lineno"> 7234</span>      <a class="code hl_struct" href="struct_r_g_w_rados_1_1_bucket_shard.html">RGWRados::BucketShard</a> bs(<span class="keyword">static_cast&lt;</span><a class="code hl_class" href="classrgw_1_1sal_1_1_rados_store.html">rgw::sal::RadosStore</a>*<span class="keyword">&gt;</span>(<a class="code hl_variable" href="rgw__admin_8cc.html#a6fdb26d64b14d837b60e83a6ca3e2863">store</a>)-&gt;getRados());</div>
<div class="line"><span class="lineno"> 7235</span>      <span class="keywordtype">int</span> shard_id = (<a class="code hl_variable" href="structrgw__log__entry.html#abe38126b4342e5e27a847c7850bb58d4">bucket</a>-&gt;get_info().layout.current_index.layout.normal.num_shards &gt; 0  ? i : -1);</div>
<div class="line"><span class="lineno"> 7236</span> </div>
<div class="line"><span class="lineno"> 7237</span>      <span class="keywordtype">int</span> ret = bs.init(<a class="code hl_variable" href="structrgw__log__entry.html#abe38126b4342e5e27a847c7850bb58d4">bucket</a>-&gt;get_key(), shard_id, <a class="code hl_variable" href="structrgw__log__entry.html#abe38126b4342e5e27a847c7850bb58d4">bucket</a>-&gt;get_info().layout.current_index, <span class="keyword">nullptr</span> <span class="comment">/* no RGWBucketInfo */</span>, <a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>());</div>
<div class="line"><span class="lineno"> 7238</span>      marker.clear();</div>
<div class="line"><span class="lineno"> 7239</span> </div>
<div class="line"><span class="lineno"> 7240</span>      <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno"> 7241</span>        cerr &lt;&lt; <span class="stringliteral">&quot;ERROR: bs.init(bucket=&quot;</span> &lt;&lt; <a class="code hl_variable" href="structrgw__log__entry.html#abe38126b4342e5e27a847c7850bb58d4">bucket</a> &lt;&lt; <span class="stringliteral">&quot;, shard=&quot;</span> &lt;&lt; shard_id &lt;&lt; <span class="stringliteral">&quot;): &quot;</span> &lt;&lt; cpp_strerror(-ret) &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 7242</span>        <span class="keywordflow">return</span> -ret;</div>
<div class="line"><span class="lineno"> 7243</span>      }</div>
<div class="line"><span class="lineno"> 7244</span> </div>
<div class="line"><span class="lineno"> 7245</span>      <span class="keywordflow">do</span> {</div>
<div class="line"><span class="lineno"> 7246</span>        <a class="code hl_variable" href="cls__fifo__legacy_8cc.html#a0341b0ec09e77f9d6274d5b1517f7711">entries</a>.clear();</div>
<div class="line"><span class="lineno"> 7247</span>    <span class="comment">// if object is specified, we use that as a filter to only retrieve some some entries</span></div>
<div class="line"><span class="lineno"> 7248</span>        ret = <span class="keyword">static_cast&lt;</span><a class="code hl_class" href="classrgw_1_1sal_1_1_rados_store.html">rgw::sal::RadosStore</a>*<span class="keyword">&gt;</span>(<a class="code hl_variable" href="rgw__admin_8cc.html#a6fdb26d64b14d837b60e83a6ca3e2863">store</a>)-&gt;getRados()-&gt;bi_list(bs, <span class="keywordtype">object</span>, marker, max_entries, &amp;<a class="code hl_variable" href="cls__fifo__legacy_8cc.html#a0341b0ec09e77f9d6274d5b1517f7711">entries</a>, &amp;is_truncated);</div>
<div class="line"><span class="lineno"> 7249</span>        <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno"> 7250</span>          cerr &lt;&lt; <span class="stringliteral">&quot;ERROR: bi_list(): &quot;</span> &lt;&lt; cpp_strerror(-ret) &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 7251</span>          <span class="keywordflow">return</span> -ret;</div>
<div class="line"><span class="lineno"> 7252</span>        }</div>
<div class="line"><span class="lineno"> 7253</span> </div>
<div class="line"><span class="lineno"> 7254</span>        list&lt;rgw_cls_bi_entry&gt;::iterator iter;</div>
<div class="line"><span class="lineno"> 7255</span>        <span class="keywordflow">for</span> (iter = <a class="code hl_variable" href="cls__fifo__legacy_8cc.html#a0341b0ec09e77f9d6274d5b1517f7711">entries</a>.begin(); iter != <a class="code hl_variable" href="cls__fifo__legacy_8cc.html#a0341b0ec09e77f9d6274d5b1517f7711">entries</a>.end(); ++iter) {</div>
<div class="line"><span class="lineno"> 7256</span>          rgw_cls_bi_entry&amp; entry = *iter;</div>
<div class="line"><span class="lineno"> 7257</span>          <a class="code hl_function" href="rgw__admin_8cc.html#ab596b9e1a1fc78e98a4d13a66578b658">encode_json</a>(<span class="stringliteral">&quot;entry&quot;</span>, entry, formatter.get());</div>
<div class="line"><span class="lineno"> 7258</span>          marker = entry.idx;</div>
<div class="line"><span class="lineno"> 7259</span>        }</div>
<div class="line"><span class="lineno"> 7260</span>        formatter-&gt;flush(cout);</div>
<div class="line"><span class="lineno"> 7261</span>      } <span class="keywordflow">while</span> (is_truncated);</div>
<div class="line"><span class="lineno"> 7262</span>      formatter-&gt;flush(cout);</div>
<div class="line"><span class="lineno"> 7263</span> </div>
<div class="line"><span class="lineno"> 7264</span>      <span class="keywordflow">if</span> (specified_shard_id)</div>
<div class="line"><span class="lineno"> 7265</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 7266</span>    }</div>
<div class="line"><span class="lineno"> 7267</span>    formatter-&gt;close_section();</div>
<div class="line"><span class="lineno"> 7268</span>    formatter-&gt;flush(cout);</div>
<div class="line"><span class="lineno"> 7269</span>  }</div>
<div class="line"><span class="lineno"> 7270</span> </div>
<div class="line"><span class="lineno"> 7271</span>  <span class="keywordflow">if</span> (opt_cmd == OPT::BI_PURGE) {</div>
<div class="line"><span class="lineno"> 7272</span>    <span class="keywordflow">if</span> (bucket_name.empty()) {</div>
<div class="line"><span class="lineno"> 7273</span>      cerr &lt;&lt; <span class="stringliteral">&quot;ERROR: bucket name not specified&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 7274</span>      <span class="keywordflow">return</span> EINVAL;</div>
<div class="line"><span class="lineno"> 7275</span>    }</div>
<div class="line"><span class="lineno"> 7276</span>    <span class="keywordtype">int</span> ret = <a class="code hl_function" href="rgw__admin_8cc.html#a0023a8779e3ab0d965d9acfb3eb72cac">init_bucket</a>(<a class="code hl_variable" href="structrgw__log__entry.html#a35ae5bdbb5f60664f0a367d5c3ad9efe">user</a>.get(), tenant, bucket_name, <a class="code hl_variable" href="structrgw__log__entry.html#ade138581b4da0c38466f03c320bdd1ee">bucket_id</a>, &amp;<a class="code hl_variable" href="structrgw__log__entry.html#abe38126b4342e5e27a847c7850bb58d4">bucket</a>);</div>
<div class="line"><span class="lineno"> 7277</span>    <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno"> 7278</span>      cerr &lt;&lt; <span class="stringliteral">&quot;ERROR: could not init bucket: &quot;</span> &lt;&lt; cpp_strerror(-ret) &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 7279</span>      <span class="keywordflow">return</span> -ret;</div>
<div class="line"><span class="lineno"> 7280</span>    }</div>
<div class="line"><span class="lineno"> 7281</span> </div>
<div class="line"><span class="lineno"> 7282</span>    std::unique_ptr&lt;rgw::sal::Bucket&gt; cur_bucket;</div>
<div class="line"><span class="lineno"> 7283</span>    ret = <a class="code hl_function" href="rgw__admin_8cc.html#a0023a8779e3ab0d965d9acfb3eb72cac">init_bucket</a>(<a class="code hl_variable" href="structrgw__log__entry.html#a35ae5bdbb5f60664f0a367d5c3ad9efe">user</a>.get(), tenant, bucket_name, <span class="keywordtype">string</span>(), &amp;cur_bucket);</div>
<div class="line"><span class="lineno"> 7284</span>    <span class="keywordflow">if</span> (ret == -ENOENT) {</div>
<div class="line"><span class="lineno"> 7285</span>      <span class="comment">// no bucket entrypoint</span></div>
<div class="line"><span class="lineno"> 7286</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno"> 7287</span>      cerr &lt;&lt; <span class="stringliteral">&quot;ERROR: could not init current bucket info for bucket_name=&quot;</span> &lt;&lt; bucket_name &lt;&lt; <span class="stringliteral">&quot;: &quot;</span> &lt;&lt; cpp_strerror(-ret) &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 7288</span>      <span class="keywordflow">return</span> -ret;</div>
<div class="line"><span class="lineno"> 7289</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (cur_bucket-&gt;get_bucket_id() == <a class="code hl_variable" href="structrgw__log__entry.html#abe38126b4342e5e27a847c7850bb58d4">bucket</a>-&gt;get_bucket_id() &amp;&amp;</div>
<div class="line"><span class="lineno"> 7290</span>               !yes_i_really_mean_it) {</div>
<div class="line"><span class="lineno"> 7291</span>      cerr &lt;&lt; <span class="stringliteral">&quot;specified bucket instance points to a current bucket instance&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 7292</span>      cerr &lt;&lt; <span class="stringliteral">&quot;do you really mean it? (requires --yes-i-really-mean-it)&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 7293</span>      <span class="keywordflow">return</span> EINVAL;</div>
<div class="line"><span class="lineno"> 7294</span>    }</div>
<div class="line"><span class="lineno"> 7295</span> </div>
<div class="line"><span class="lineno"> 7296</span>    ret = <a class="code hl_variable" href="structrgw__log__entry.html#abe38126b4342e5e27a847c7850bb58d4">bucket</a>-&gt;purge_instance(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>());</div>
<div class="line"><span class="lineno"> 7297</span>    <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno"> 7298</span>      <span class="keywordflow">return</span> -ret;</div>
<div class="line"><span class="lineno"> 7299</span>    }</div>
<div class="line"><span class="lineno"> 7300</span>  }</div>
<div class="line"><span class="lineno"> 7301</span> </div>
<div class="line"><span class="lineno"> 7302</span>  <span class="keywordflow">if</span> (opt_cmd == OPT::OBJECT_PUT) {</div>
<div class="line"><span class="lineno"> 7303</span>    <span class="keywordflow">if</span> (bucket_name.empty()) {</div>
<div class="line"><span class="lineno"> 7304</span>      cerr &lt;&lt; <span class="stringliteral">&quot;ERROR: bucket not specified&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 7305</span>      <span class="keywordflow">return</span> EINVAL;</div>
<div class="line"><span class="lineno"> 7306</span>    }</div>
<div class="line"><span class="lineno"> 7307</span>    <span class="keywordflow">if</span> (<span class="keywordtype">object</span>.<a class="code hl_enumvalue" href="rgw__crypt_8cc.html#adde527b14a1813b09f5f168c2e92775caa2e4822a98337283e39f7b60acf85ec9">empty</a>()) {</div>
<div class="line"><span class="lineno"> 7308</span>      cerr &lt;&lt; <span class="stringliteral">&quot;ERROR: object not specified&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 7309</span>      <span class="keywordflow">return</span> EINVAL;</div>
<div class="line"><span class="lineno"> 7310</span>    }</div>
<div class="line"><span class="lineno"> 7311</span> </div>
<div class="line"><span class="lineno"> 7312</span>    <a class="code hl_class" href="class_r_g_w_data_access.html">RGWDataAccess</a> data_access(<a class="code hl_variable" href="rgw__admin_8cc.html#a6fdb26d64b14d837b60e83a6ca3e2863">store</a>);</div>
<div class="line"><span class="lineno"> 7313</span>    <a class="code hl_struct" href="structrgw__obj__key.html">rgw_obj_key</a> key(<span class="keywordtype">object</span>, object_version);</div>
<div class="line"><span class="lineno"> 7314</span> </div>
<div class="line"><span class="lineno"> 7315</span>    <a class="code hl_typedef" href="class_r_g_w_data_access.html#a111204bb0879434a2ae00e2eca9ec026">RGWDataAccess::BucketRef</a> b;</div>
<div class="line"><span class="lineno"> 7316</span>    <a class="code hl_typedef" href="class_r_g_w_data_access.html#a6f874ede980b3f18e64db1a7abb7b4ef">RGWDataAccess::ObjectRef</a> <a class="code hl_variable" href="structrgw__log__entry.html#af11afc5005ffd6df74f530ac1e34a545">obj</a>;</div>
<div class="line"><span class="lineno"> 7317</span> </div>
<div class="line"><span class="lineno"> 7318</span>    <span class="keywordtype">int</span> ret = data_access.get_bucket(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>(), tenant, bucket_name, <a class="code hl_variable" href="structrgw__log__entry.html#ade138581b4da0c38466f03c320bdd1ee">bucket_id</a>, &amp;b, null_yield);</div>
<div class="line"><span class="lineno"> 7319</span>    <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno"> 7320</span>      cerr &lt;&lt; <span class="stringliteral">&quot;ERROR: failed to init bucket: &quot;</span> &lt;&lt; cpp_strerror(-ret) &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 7321</span>      <span class="keywordflow">return</span> -ret;</div>
<div class="line"><span class="lineno"> 7322</span>    }</div>
<div class="line"><span class="lineno"> 7323</span> </div>
<div class="line"><span class="lineno"> 7324</span>    ret = b-&gt;get_object(key, &amp;<a class="code hl_variable" href="structrgw__log__entry.html#af11afc5005ffd6df74f530ac1e34a545">obj</a>);</div>
<div class="line"><span class="lineno"> 7325</span>    <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno"> 7326</span>      cerr &lt;&lt; <span class="stringliteral">&quot;ERROR: failed to get object: &quot;</span> &lt;&lt; cpp_strerror(-ret) &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 7327</span>      <span class="keywordflow">return</span> -ret;</div>
<div class="line"><span class="lineno"> 7328</span>    }</div>
<div class="line"><span class="lineno"> 7329</span> </div>
<div class="line"><span class="lineno"> 7330</span>    bufferlist bl;</div>
<div class="line"><span class="lineno"> 7331</span>    ret = <a class="code hl_function" href="rgw__admin_8cc.html#a4370c2bc6e6412e65a17072ecebfc3b6">read_input</a>(infile, bl);</div>
<div class="line"><span class="lineno"> 7332</span>    <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno"> 7333</span>      cerr &lt;&lt; <span class="stringliteral">&quot;ERROR: failed to read input: &quot;</span> &lt;&lt; cpp_strerror(-ret) &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 7334</span>    }</div>
<div class="line"><span class="lineno"> 7335</span> </div>
<div class="line"><span class="lineno"> 7336</span>    map&lt;string, bufferlist&gt; attrs;</div>
<div class="line"><span class="lineno"> 7337</span>    ret = <a class="code hl_variable" href="structrgw__log__entry.html#af11afc5005ffd6df74f530ac1e34a545">obj</a>-&gt;put(bl, attrs, <a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>(), null_yield);</div>
<div class="line"><span class="lineno"> 7338</span>    <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno"> 7339</span>      cerr &lt;&lt; <span class="stringliteral">&quot;ERROR: put object returned error: &quot;</span> &lt;&lt; cpp_strerror(-ret) &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 7340</span>    }</div>
<div class="line"><span class="lineno"> 7341</span>  }</div>
<div class="line"><span class="lineno"> 7342</span> </div>
<div class="line"><span class="lineno"> 7343</span>  <span class="keywordflow">if</span> (opt_cmd == OPT::OBJECT_RM) {</div>
<div class="line"><span class="lineno"> 7344</span>    <span class="keywordtype">int</span> ret = <a class="code hl_function" href="rgw__admin_8cc.html#a0023a8779e3ab0d965d9acfb3eb72cac">init_bucket</a>(<a class="code hl_variable" href="structrgw__log__entry.html#a35ae5bdbb5f60664f0a367d5c3ad9efe">user</a>.get(), tenant, bucket_name, <a class="code hl_variable" href="structrgw__log__entry.html#ade138581b4da0c38466f03c320bdd1ee">bucket_id</a>, &amp;<a class="code hl_variable" href="structrgw__log__entry.html#abe38126b4342e5e27a847c7850bb58d4">bucket</a>);</div>
<div class="line"><span class="lineno"> 7345</span>    <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno"> 7346</span>      cerr &lt;&lt; <span class="stringliteral">&quot;ERROR: could not init bucket: &quot;</span> &lt;&lt; cpp_strerror(-ret) &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 7347</span>      <span class="keywordflow">return</span> -ret;</div>
<div class="line"><span class="lineno"> 7348</span>    }</div>
<div class="line"><span class="lineno"> 7349</span>    <a class="code hl_struct" href="structrgw__obj__key.html">rgw_obj_key</a> key(<span class="keywordtype">object</span>, object_version);</div>
<div class="line"><span class="lineno"> 7350</span>    ret = <a class="code hl_function" href="rgw__bucket_8cc.html#a8735d4afd71679718d85762ef4d135b0">rgw_remove_object</a>(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>(), <a class="code hl_variable" href="rgw__admin_8cc.html#a6fdb26d64b14d837b60e83a6ca3e2863">store</a>, <a class="code hl_variable" href="structrgw__log__entry.html#abe38126b4342e5e27a847c7850bb58d4">bucket</a>.get(), key);</div>
<div class="line"><span class="lineno"> 7351</span> </div>
<div class="line"><span class="lineno"> 7352</span>    <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno"> 7353</span>      cerr &lt;&lt; <span class="stringliteral">&quot;ERROR: object remove returned: &quot;</span> &lt;&lt; cpp_strerror(-ret) &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 7354</span>      <span class="keywordflow">return</span> -ret;</div>
<div class="line"><span class="lineno"> 7355</span>    }</div>
<div class="line"><span class="lineno"> 7356</span>  }</div>
<div class="line"><span class="lineno"> 7357</span> </div>
<div class="line"><span class="lineno"> 7358</span>  <span class="keywordflow">if</span> (opt_cmd == OPT::OBJECT_REWRITE) {</div>
<div class="line"><span class="lineno"> 7359</span>    <span class="keywordflow">if</span> (bucket_name.empty()) {</div>
<div class="line"><span class="lineno"> 7360</span>      cerr &lt;&lt; <span class="stringliteral">&quot;ERROR: bucket not specified&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 7361</span>      <span class="keywordflow">return</span> EINVAL;</div>
<div class="line"><span class="lineno"> 7362</span>    }</div>
<div class="line"><span class="lineno"> 7363</span>    <span class="keywordflow">if</span> (<span class="keywordtype">object</span>.<a class="code hl_enumvalue" href="rgw__crypt_8cc.html#adde527b14a1813b09f5f168c2e92775caa2e4822a98337283e39f7b60acf85ec9">empty</a>()) {</div>
<div class="line"><span class="lineno"> 7364</span>      cerr &lt;&lt; <span class="stringliteral">&quot;ERROR: object not specified&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 7365</span>      <span class="keywordflow">return</span> EINVAL;</div>
<div class="line"><span class="lineno"> 7366</span>    }</div>
<div class="line"><span class="lineno"> 7367</span> </div>
<div class="line"><span class="lineno"> 7368</span>    <span class="keywordtype">int</span> ret = <a class="code hl_function" href="rgw__admin_8cc.html#a0023a8779e3ab0d965d9acfb3eb72cac">init_bucket</a>(<a class="code hl_variable" href="structrgw__log__entry.html#a35ae5bdbb5f60664f0a367d5c3ad9efe">user</a>.get(), tenant, bucket_name, <a class="code hl_variable" href="structrgw__log__entry.html#ade138581b4da0c38466f03c320bdd1ee">bucket_id</a>, &amp;<a class="code hl_variable" href="structrgw__log__entry.html#abe38126b4342e5e27a847c7850bb58d4">bucket</a>);</div>
<div class="line"><span class="lineno"> 7369</span>    <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno"> 7370</span>      cerr &lt;&lt; <span class="stringliteral">&quot;ERROR: could not init bucket: &quot;</span> &lt;&lt; cpp_strerror(-ret) &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 7371</span>      <span class="keywordflow">return</span> -ret;</div>
<div class="line"><span class="lineno"> 7372</span>    }</div>
<div class="line"><span class="lineno"> 7373</span> </div>
<div class="line"><span class="lineno"> 7374</span>    std::unique_ptr&lt;rgw::sal::Object&gt; <a class="code hl_variable" href="structrgw__log__entry.html#af11afc5005ffd6df74f530ac1e34a545">obj</a> = <a class="code hl_variable" href="structrgw__log__entry.html#abe38126b4342e5e27a847c7850bb58d4">bucket</a>-&gt;get_object(<span class="keywordtype">object</span>);</div>
<div class="line"><span class="lineno"> 7375</span>    <a class="code hl_variable" href="structrgw__log__entry.html#af11afc5005ffd6df74f530ac1e34a545">obj</a>-&gt;<a class="code hl_function" href="structrgw__obj__key.html#a87cc67fcbd9c25864aeeb9a5f39a12dc">set_instance</a>(object_version);</div>
<div class="line"><span class="lineno"> 7376</span>    <span class="keywordtype">bool</span> need_rewrite = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 7377</span>    <span class="keywordflow">if</span> (min_rewrite_stripe_size &gt; 0) {</div>
<div class="line"><span class="lineno"> 7378</span>      ret = <a class="code hl_function" href="rgw__admin_8cc.html#aa274fe37d51829df1fbc452da59dfdfa">check_min_obj_stripe_size</a>(<a class="code hl_variable" href="rgw__admin_8cc.html#a6fdb26d64b14d837b60e83a6ca3e2863">store</a>, <a class="code hl_variable" href="structrgw__log__entry.html#af11afc5005ffd6df74f530ac1e34a545">obj</a>.get(), min_rewrite_stripe_size, &amp;need_rewrite);</div>
<div class="line"><span class="lineno"> 7379</span>      <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno"> 7380</span>        ldpp_dout(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>(), 0) &lt;&lt; <span class="stringliteral">&quot;WARNING: check_min_obj_stripe_size failed, r=&quot;</span> &lt;&lt; ret &lt;&lt; dendl;</div>
<div class="line"><span class="lineno"> 7381</span>      }</div>
<div class="line"><span class="lineno"> 7382</span>    }</div>
<div class="line"><span class="lineno"> 7383</span>    <span class="keywordflow">if</span> (need_rewrite) {</div>
<div class="line"><span class="lineno"> 7384</span>      ret = <span class="keyword">static_cast&lt;</span><a class="code hl_class" href="classrgw_1_1sal_1_1_rados_store.html">rgw::sal::RadosStore</a>*<span class="keyword">&gt;</span>(<a class="code hl_variable" href="rgw__admin_8cc.html#a6fdb26d64b14d837b60e83a6ca3e2863">store</a>)-&gt;getRados()-&gt;rewrite_obj(<a class="code hl_variable" href="structrgw__log__entry.html#af11afc5005ffd6df74f530ac1e34a545">obj</a>.get(), <a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>(), null_yield);</div>
<div class="line"><span class="lineno"> 7385</span>      <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno"> 7386</span>        cerr &lt;&lt; <span class="stringliteral">&quot;ERROR: object rewrite returned: &quot;</span> &lt;&lt; cpp_strerror(-ret) &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 7387</span>        <span class="keywordflow">return</span> -ret;</div>
<div class="line"><span class="lineno"> 7388</span>      }</div>
<div class="line"><span class="lineno"> 7389</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 7390</span>      ldpp_dout(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>(), 20) &lt;&lt; <span class="stringliteral">&quot;skipped object&quot;</span> &lt;&lt; dendl;</div>
<div class="line"><span class="lineno"> 7391</span>    }</div>
<div class="line"><span class="lineno"> 7392</span>  }</div>
<div class="line"><span class="lineno"> 7393</span> </div>
<div class="line"><span class="lineno"> 7394</span>  <span class="keywordflow">if</span> (opt_cmd == OPT::OBJECTS_EXPIRE) {</div>
<div class="line"><span class="lineno"> 7395</span>    <span class="keywordflow">if</span> (!<span class="keyword">static_cast&lt;</span><a class="code hl_class" href="classrgw_1_1sal_1_1_rados_store.html">rgw::sal::RadosStore</a>*<span class="keyword">&gt;</span>(<a class="code hl_variable" href="rgw__admin_8cc.html#a6fdb26d64b14d837b60e83a6ca3e2863">store</a>)-&gt;getRados()-&gt;process_expire_objects(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>())) {</div>
<div class="line"><span class="lineno"> 7396</span>      cerr &lt;&lt; <span class="stringliteral">&quot;ERROR: process_expire_objects() processing returned error.&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 7397</span>      <span class="keywordflow">return</span> 1;</div>
<div class="line"><span class="lineno"> 7398</span>    }</div>
<div class="line"><span class="lineno"> 7399</span>  }</div>
<div class="line"><span class="lineno"> 7400</span> </div>
<div class="line"><span class="lineno"> 7401</span>  <span class="keywordflow">if</span> (opt_cmd == OPT::OBJECTS_EXPIRE_STALE_LIST) {</div>
<div class="line"><span class="lineno"> 7402</span>    ret = <a class="code hl_function" href="class_r_g_w_bucket_admin_op.html#a3c474b43685149458d23a66f1d770e9f">RGWBucketAdminOp::fix_obj_expiry</a>(<a class="code hl_variable" href="rgw__admin_8cc.html#a6fdb26d64b14d837b60e83a6ca3e2863">store</a>, bucket_op, stream_flusher, <a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>(), <span class="keyword">true</span>);</div>
<div class="line"><span class="lineno"> 7403</span>    <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno"> 7404</span>      cerr &lt;&lt; <span class="stringliteral">&quot;ERROR: listing returned &quot;</span> &lt;&lt; cpp_strerror(-ret) &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 7405</span>      <span class="keywordflow">return</span> -ret;</div>
<div class="line"><span class="lineno"> 7406</span>    }</div>
<div class="line"><span class="lineno"> 7407</span>  }</div>
<div class="line"><span class="lineno"> 7408</span> </div>
<div class="line"><span class="lineno"> 7409</span>  <span class="keywordflow">if</span> (opt_cmd == OPT::OBJECTS_EXPIRE_STALE_RM) {</div>
<div class="line"><span class="lineno"> 7410</span>    ret = <a class="code hl_function" href="class_r_g_w_bucket_admin_op.html#a3c474b43685149458d23a66f1d770e9f">RGWBucketAdminOp::fix_obj_expiry</a>(<a class="code hl_variable" href="rgw__admin_8cc.html#a6fdb26d64b14d837b60e83a6ca3e2863">store</a>, bucket_op, stream_flusher, <a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>(), <span class="keyword">false</span>);</div>
<div class="line"><span class="lineno"> 7411</span>    <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno"> 7412</span>      cerr &lt;&lt; <span class="stringliteral">&quot;ERROR: removing returned &quot;</span> &lt;&lt; cpp_strerror(-ret) &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 7413</span>      <span class="keywordflow">return</span> -ret;</div>
<div class="line"><span class="lineno"> 7414</span>    }</div>
<div class="line"><span class="lineno"> 7415</span>  }</div>
<div class="line"><span class="lineno"> 7416</span> </div>
<div class="line"><span class="lineno"> 7417</span>  <span class="keywordflow">if</span> (opt_cmd == OPT::BUCKET_REWRITE) {</div>
<div class="line"><span class="lineno"> 7418</span>    <span class="keywordflow">if</span> (bucket_name.empty()) {</div>
<div class="line"><span class="lineno"> 7419</span>      cerr &lt;&lt; <span class="stringliteral">&quot;ERROR: bucket not specified&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 7420</span>      <span class="keywordflow">return</span> EINVAL;</div>
<div class="line"><span class="lineno"> 7421</span>    }</div>
<div class="line"><span class="lineno"> 7422</span> </div>
<div class="line"><span class="lineno"> 7423</span>    <span class="keywordtype">int</span> ret = <a class="code hl_function" href="rgw__admin_8cc.html#a0023a8779e3ab0d965d9acfb3eb72cac">init_bucket</a>(<a class="code hl_variable" href="structrgw__log__entry.html#a35ae5bdbb5f60664f0a367d5c3ad9efe">user</a>.get(), tenant, bucket_name, <a class="code hl_variable" href="structrgw__log__entry.html#ade138581b4da0c38466f03c320bdd1ee">bucket_id</a>, &amp;<a class="code hl_variable" href="structrgw__log__entry.html#abe38126b4342e5e27a847c7850bb58d4">bucket</a>);</div>
<div class="line"><span class="lineno"> 7424</span>    <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno"> 7425</span>      cerr &lt;&lt; <span class="stringliteral">&quot;ERROR: could not init bucket: &quot;</span> &lt;&lt; cpp_strerror(-ret) &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 7426</span>      <span class="keywordflow">return</span> -ret;</div>
<div class="line"><span class="lineno"> 7427</span>    }</div>
<div class="line"><span class="lineno"> 7428</span> </div>
<div class="line"><span class="lineno"> 7429</span>    uint64_t start_epoch = 0;</div>
<div class="line"><span class="lineno"> 7430</span>    uint64_t end_epoch = 0;</div>
<div class="line"><span class="lineno"> 7431</span> </div>
<div class="line"><span class="lineno"> 7432</span>    <span class="keywordflow">if</span> (!end_date.empty()) {</div>
<div class="line"><span class="lineno"> 7433</span>      <span class="keywordtype">int</span> ret = utime_t::parse_date(end_date, &amp;end_epoch, NULL);</div>
<div class="line"><span class="lineno"> 7434</span>      <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno"> 7435</span>        cerr &lt;&lt; <span class="stringliteral">&quot;ERROR: failed to parse end date&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 7436</span>        <span class="keywordflow">return</span> EINVAL;</div>
<div class="line"><span class="lineno"> 7437</span>      }</div>
<div class="line"><span class="lineno"> 7438</span>    }</div>
<div class="line"><span class="lineno"> 7439</span>    <span class="keywordflow">if</span> (!start_date.empty()) {</div>
<div class="line"><span class="lineno"> 7440</span>      <span class="keywordtype">int</span> ret = utime_t::parse_date(start_date, &amp;start_epoch, NULL);</div>
<div class="line"><span class="lineno"> 7441</span>      <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno"> 7442</span>        cerr &lt;&lt; <span class="stringliteral">&quot;ERROR: failed to parse start date&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 7443</span>        <span class="keywordflow">return</span> EINVAL;</div>
<div class="line"><span class="lineno"> 7444</span>      }</div>
<div class="line"><span class="lineno"> 7445</span>    }</div>
<div class="line"><span class="lineno"> 7446</span> </div>
<div class="line"><span class="lineno"> 7447</span>    <span class="keywordtype">bool</span> is_truncated = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 7448</span>    <span class="keywordtype">bool</span> cls_filtered = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 7449</span> </div>
<div class="line"><span class="lineno"> 7450</span>    <a class="code hl_typedef" href="rgw__common_8h.html#a7020478e92d985c3f78e2ae9e5481f0a">rgw_obj_index_key</a> marker;</div>
<div class="line"><span class="lineno"> 7451</span>    <span class="keywordtype">string</span> empty_prefix;</div>
<div class="line"><span class="lineno"> 7452</span>    <span class="keywordtype">string</span> empty_delimiter;</div>
<div class="line"><span class="lineno"> 7453</span> </div>
<div class="line"><span class="lineno"> 7454</span>    formatter-&gt;open_object_section(<span class="stringliteral">&quot;result&quot;</span>);</div>
<div class="line"><span class="lineno"> 7455</span>    formatter-&gt;dump_string(<span class="stringliteral">&quot;bucket&quot;</span>, bucket_name);</div>
<div class="line"><span class="lineno"> 7456</span>    formatter-&gt;open_array_section(<span class="stringliteral">&quot;objects&quot;</span>);</div>
<div class="line"><span class="lineno"> 7457</span> </div>
<div class="line"><span class="lineno"> 7458</span>    <span class="keyword">constexpr</span> uint32_t NUM_ENTRIES = 1000;</div>
<div class="line"><span class="lineno"> 7459</span>    uint16_t expansion_factor = 1;</div>
<div class="line"><span class="lineno"> 7460</span>    <span class="keywordflow">while</span> (is_truncated) {</div>
<div class="line"><span class="lineno"> 7461</span>      <a class="code hl_typedef" href="class_r_g_w_rados.html#a8c3e80e125cc52fe61ec8757efc41fe5">RGWRados::ent_map_t</a> result;</div>
<div class="line"><span class="lineno"> 7462</span>      result.reserve(NUM_ENTRIES);</div>
<div class="line"><span class="lineno"> 7463</span> </div>
<div class="line"><span class="lineno"> 7464</span>      <span class="keywordtype">int</span> <a class="code hl_variable" href="rgw__aio_8cc.html#ae38055824c6eac64615832ad9d888539">r</a> = <span class="keyword">static_cast&lt;</span><a class="code hl_class" href="classrgw_1_1sal_1_1_rados_store.html">rgw::sal::RadosStore</a>*<span class="keyword">&gt;</span>(<a class="code hl_variable" href="rgw__admin_8cc.html#a6fdb26d64b14d837b60e83a6ca3e2863">store</a>)-&gt;getRados()-&gt;cls_bucket_list_ordered(</div>
<div class="line"><span class="lineno"> 7465</span>    <a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>(), <a class="code hl_variable" href="structrgw__log__entry.html#abe38126b4342e5e27a847c7850bb58d4">bucket</a>-&gt;get_info(), <a class="code hl_define" href="rgw__tools_8h.html#a120c104c1c60ab76c39ca67df4da233f">RGW_NO_SHARD</a>,</div>
<div class="line"><span class="lineno"> 7466</span>    marker, empty_prefix, empty_delimiter,</div>
<div class="line"><span class="lineno"> 7467</span>    NUM_ENTRIES, <span class="keyword">true</span>, expansion_factor,</div>
<div class="line"><span class="lineno"> 7468</span>    result, &amp;is_truncated, &amp;cls_filtered, &amp;marker,</div>
<div class="line"><span class="lineno"> 7469</span>    null_yield,</div>
<div class="line"><span class="lineno"> 7470</span>    <a class="code hl_function" href="rgw__bucket_8cc.html#afef9f634dd964affbd00a8d0f73eb000">rgw_bucket_object_check_filter</a>);</div>
<div class="line"><span class="lineno"> 7471</span>      <span class="keywordflow">if</span> (<a class="code hl_variable" href="rgw__aio_8cc.html#ae38055824c6eac64615832ad9d888539">r</a> &lt; 0 &amp;&amp; <a class="code hl_variable" href="rgw__aio_8cc.html#ae38055824c6eac64615832ad9d888539">r</a> != -ENOENT) {</div>
<div class="line"><span class="lineno"> 7472</span>        cerr &lt;&lt; <span class="stringliteral">&quot;ERROR: failed operation r=&quot;</span> &lt;&lt; <a class="code hl_variable" href="rgw__aio_8cc.html#ae38055824c6eac64615832ad9d888539">r</a> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 7473</span>      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code hl_variable" href="rgw__aio_8cc.html#ae38055824c6eac64615832ad9d888539">r</a> == -ENOENT) {</div>
<div class="line"><span class="lineno"> 7474</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 7475</span>      }</div>
<div class="line"><span class="lineno"> 7476</span> </div>
<div class="line"><span class="lineno"> 7477</span>      <span class="keywordflow">if</span> (result.size() &lt; NUM_ENTRIES / 8) {</div>
<div class="line"><span class="lineno"> 7478</span>    ++expansion_factor;</div>
<div class="line"><span class="lineno"> 7479</span>      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (result.size() &gt; NUM_ENTRIES * 7 / 8 &amp;&amp;</div>
<div class="line"><span class="lineno"> 7480</span>         expansion_factor &gt; 1) {</div>
<div class="line"><span class="lineno"> 7481</span>    --expansion_factor;</div>
<div class="line"><span class="lineno"> 7482</span>      }</div>
<div class="line"><span class="lineno"> 7483</span> </div>
<div class="line"><span class="lineno"> 7484</span>      <span class="keywordflow">for</span> (<span class="keyword">auto</span> iter = result.begin(); iter != result.end(); ++iter) {</div>
<div class="line"><span class="lineno"> 7485</span>        <a class="code hl_struct" href="structrgw__obj__key.html">rgw_obj_key</a> key = iter-&gt;second.key;</div>
<div class="line"><span class="lineno"> 7486</span>        rgw_bucket_dir_entry&amp; entry = iter-&gt;second;</div>
<div class="line"><span class="lineno"> 7487</span> </div>
<div class="line"><span class="lineno"> 7488</span>        formatter-&gt;open_object_section(<span class="stringliteral">&quot;object&quot;</span>);</div>
<div class="line"><span class="lineno"> 7489</span>        formatter-&gt;dump_string(<span class="stringliteral">&quot;name&quot;</span>, key.<a class="code hl_variable" href="structrgw__obj__key.html#a009cbe657bf6a001d40af0a80e533186">name</a>);</div>
<div class="line"><span class="lineno"> 7490</span>        formatter-&gt;dump_string(<span class="stringliteral">&quot;instance&quot;</span>, key.<a class="code hl_variable" href="structrgw__obj__key.html#aa73e7ab93fad1f34c58dc9e87917213c">instance</a>);</div>
<div class="line"><span class="lineno"> 7491</span>        formatter-&gt;dump_int(<span class="stringliteral">&quot;size&quot;</span>, entry.meta.size);</div>
<div class="line"><span class="lineno"> 7492</span>        utime_t ut(entry.meta.mtime);</div>
<div class="line"><span class="lineno"> 7493</span>        ut.gmtime(formatter-&gt;dump_stream(<span class="stringliteral">&quot;mtime&quot;</span>));</div>
<div class="line"><span class="lineno"> 7494</span> </div>
<div class="line"><span class="lineno"> 7495</span>        <span class="keywordflow">if</span> ((entry.meta.size &lt; min_rewrite_size) ||</div>
<div class="line"><span class="lineno"> 7496</span>            (entry.meta.size &gt; max_rewrite_size) ||</div>
<div class="line"><span class="lineno"> 7497</span>            (start_epoch &gt; 0 &amp;&amp; start_epoch &gt; (uint64_t)ut.sec()) ||</div>
<div class="line"><span class="lineno"> 7498</span>            (end_epoch &gt; 0 &amp;&amp; end_epoch &lt; (uint64_t)ut.sec())) {</div>
<div class="line"><span class="lineno"> 7499</span>          formatter-&gt;dump_string(<span class="stringliteral">&quot;status&quot;</span>, <span class="stringliteral">&quot;Skipped&quot;</span>);</div>
<div class="line"><span class="lineno"> 7500</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 7501</span>      std::unique_ptr&lt;rgw::sal::Object&gt; <a class="code hl_variable" href="structrgw__log__entry.html#af11afc5005ffd6df74f530ac1e34a545">obj</a> = <a class="code hl_variable" href="structrgw__log__entry.html#abe38126b4342e5e27a847c7850bb58d4">bucket</a>-&gt;get_object(key);</div>
<div class="line"><span class="lineno"> 7502</span> </div>
<div class="line"><span class="lineno"> 7503</span>          <span class="keywordtype">bool</span> need_rewrite = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 7504</span>          <span class="keywordflow">if</span> (min_rewrite_stripe_size &gt; 0) {</div>
<div class="line"><span class="lineno"> 7505</span>            <a class="code hl_variable" href="rgw__aio_8cc.html#ae38055824c6eac64615832ad9d888539">r</a> = <a class="code hl_function" href="rgw__admin_8cc.html#aa274fe37d51829df1fbc452da59dfdfa">check_min_obj_stripe_size</a>(<a class="code hl_variable" href="rgw__admin_8cc.html#a6fdb26d64b14d837b60e83a6ca3e2863">store</a>, <a class="code hl_variable" href="structrgw__log__entry.html#af11afc5005ffd6df74f530ac1e34a545">obj</a>.get(), min_rewrite_stripe_size, &amp;need_rewrite);</div>
<div class="line"><span class="lineno"> 7506</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="rgw__aio_8cc.html#ae38055824c6eac64615832ad9d888539">r</a> &lt; 0) {</div>
<div class="line"><span class="lineno"> 7507</span>              ldpp_dout(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>(), 0) &lt;&lt; <span class="stringliteral">&quot;WARNING: check_min_obj_stripe_size failed, r=&quot;</span> &lt;&lt; <a class="code hl_variable" href="rgw__aio_8cc.html#ae38055824c6eac64615832ad9d888539">r</a> &lt;&lt; dendl;</div>
<div class="line"><span class="lineno"> 7508</span>            }</div>
<div class="line"><span class="lineno"> 7509</span>          }</div>
<div class="line"><span class="lineno"> 7510</span>          <span class="keywordflow">if</span> (!need_rewrite) {</div>
<div class="line"><span class="lineno"> 7511</span>            formatter-&gt;dump_string(<span class="stringliteral">&quot;status&quot;</span>, <span class="stringliteral">&quot;Skipped&quot;</span>);</div>
<div class="line"><span class="lineno"> 7512</span>          } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 7513</span>            <a class="code hl_variable" href="rgw__aio_8cc.html#ae38055824c6eac64615832ad9d888539">r</a> = <span class="keyword">static_cast&lt;</span><a class="code hl_class" href="classrgw_1_1sal_1_1_rados_store.html">rgw::sal::RadosStore</a>*<span class="keyword">&gt;</span>(<a class="code hl_variable" href="rgw__admin_8cc.html#a6fdb26d64b14d837b60e83a6ca3e2863">store</a>)-&gt;getRados()-&gt;rewrite_obj(<a class="code hl_variable" href="structrgw__log__entry.html#af11afc5005ffd6df74f530ac1e34a545">obj</a>.get(), <a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>(), null_yield);</div>
<div class="line"><span class="lineno"> 7514</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="rgw__aio_8cc.html#ae38055824c6eac64615832ad9d888539">r</a> == 0) {</div>
<div class="line"><span class="lineno"> 7515</span>              formatter-&gt;dump_string(<span class="stringliteral">&quot;status&quot;</span>, <span class="stringliteral">&quot;Success&quot;</span>);</div>
<div class="line"><span class="lineno"> 7516</span>            } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 7517</span>              formatter-&gt;dump_string(<span class="stringliteral">&quot;status&quot;</span>, cpp_strerror(-<a class="code hl_variable" href="rgw__aio_8cc.html#ae38055824c6eac64615832ad9d888539">r</a>));</div>
<div class="line"><span class="lineno"> 7518</span>            }</div>
<div class="line"><span class="lineno"> 7519</span>          }</div>
<div class="line"><span class="lineno"> 7520</span>        }</div>
<div class="line"><span class="lineno"> 7521</span>        formatter-&gt;dump_int(<span class="stringliteral">&quot;flags&quot;</span>, entry.flags);</div>
<div class="line"><span class="lineno"> 7522</span> </div>
<div class="line"><span class="lineno"> 7523</span>        formatter-&gt;close_section();</div>
<div class="line"><span class="lineno"> 7524</span>        formatter-&gt;flush(cout);</div>
<div class="line"><span class="lineno"> 7525</span>      }</div>
<div class="line"><span class="lineno"> 7526</span>    }</div>
<div class="line"><span class="lineno"> 7527</span>    formatter-&gt;close_section();</div>
<div class="line"><span class="lineno"> 7528</span>    formatter-&gt;close_section();</div>
<div class="line"><span class="lineno"> 7529</span>    formatter-&gt;flush(cout);</div>
<div class="line"><span class="lineno"> 7530</span>  }</div>
<div class="line"><span class="lineno"> 7531</span> </div>
<div class="line"><span class="lineno"> 7532</span>  <span class="keywordflow">if</span> (opt_cmd == OPT::BUCKET_RESHARD) {</div>
<div class="line"><span class="lineno"> 7533</span>    <span class="keywordtype">int</span> ret = <a class="code hl_function" href="rgw__admin_8cc.html#abce7136ad4dc905a78f722a66b7b6b4c">check_reshard_bucket_params</a>(<span class="keyword">static_cast&lt;</span><a class="code hl_class" href="classrgw_1_1sal_1_1_rados_store.html">rgw::sal::RadosStore</a>*<span class="keyword">&gt;</span>(<a class="code hl_variable" href="rgw__admin_8cc.html#a6fdb26d64b14d837b60e83a6ca3e2863">store</a>),</div>
<div class="line"><span class="lineno"> 7534</span>                      bucket_name,</div>
<div class="line"><span class="lineno"> 7535</span>                      tenant,</div>
<div class="line"><span class="lineno"> 7536</span>                      <a class="code hl_variable" href="structrgw__log__entry.html#ade138581b4da0c38466f03c320bdd1ee">bucket_id</a>,</div>
<div class="line"><span class="lineno"> 7537</span>                      num_shards_specified,</div>
<div class="line"><span class="lineno"> 7538</span>                      num_shards,</div>
<div class="line"><span class="lineno"> 7539</span>                      yes_i_really_mean_it,</div>
<div class="line"><span class="lineno"> 7540</span>                      &amp;<a class="code hl_variable" href="structrgw__log__entry.html#abe38126b4342e5e27a847c7850bb58d4">bucket</a>);</div>
<div class="line"><span class="lineno"> 7541</span>    <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno"> 7542</span>      <span class="keywordflow">return</span> ret;</div>
<div class="line"><span class="lineno"> 7543</span>    }</div>
<div class="line"><span class="lineno"> 7544</span> </div>
<div class="line"><span class="lineno"> 7545</span>    <a class="code hl_class" href="class_r_g_w_bucket_reshard.html">RGWBucketReshard</a> br(<span class="keyword">static_cast&lt;</span><a class="code hl_class" href="classrgw_1_1sal_1_1_rados_store.html">rgw::sal::RadosStore</a>*<span class="keyword">&gt;</span>(<a class="code hl_variable" href="rgw__admin_8cc.html#a6fdb26d64b14d837b60e83a6ca3e2863">store</a>), <a class="code hl_variable" href="structrgw__log__entry.html#abe38126b4342e5e27a847c7850bb58d4">bucket</a>-&gt;get_info(), <a class="code hl_variable" href="structrgw__log__entry.html#abe38126b4342e5e27a847c7850bb58d4">bucket</a>-&gt;get_attrs(), <span class="keyword">nullptr</span> <span class="comment">/* no callback */</span>);</div>
<div class="line"><span class="lineno"> 7546</span> </div>
<div class="line"><span class="lineno"> 7547</span><span class="preprocessor">#define DEFAULT_RESHARD_MAX_ENTRIES 1000</span></div>
<div class="line"><span class="lineno"> 7548</span>    <span class="keywordflow">if</span> (max_entries &lt; 1) {</div>
<div class="line"><span class="lineno"> 7549</span>      max_entries = <a class="code hl_define" href="rgw__admin_8cc.html#ad022d09f3c832e077f6ac44f47d513c3">DEFAULT_RESHARD_MAX_ENTRIES</a>;</div>
<div class="line"><span class="lineno"> 7550</span>    }</div>
<div class="line"><span class="lineno"> 7551</span> </div>
<div class="line"><span class="lineno"> 7552</span>    <span class="keywordflow">return</span> br.execute(num_shards, max_entries, <a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>(),</div>
<div class="line"><span class="lineno"> 7553</span>                      verbose, &amp;cout, formatter.get());</div>
<div class="line"><span class="lineno"> 7554</span>  }</div>
<div class="line"><span class="lineno"> 7555</span> </div>
<div class="line"><span class="lineno"> 7556</span>  <span class="keywordflow">if</span> (opt_cmd == OPT::RESHARD_ADD) {</div>
<div class="line"><span class="lineno"> 7557</span>    <span class="keywordtype">int</span> ret = <a class="code hl_function" href="rgw__admin_8cc.html#abce7136ad4dc905a78f722a66b7b6b4c">check_reshard_bucket_params</a>(<span class="keyword">static_cast&lt;</span><a class="code hl_class" href="classrgw_1_1sal_1_1_rados_store.html">rgw::sal::RadosStore</a>*<span class="keyword">&gt;</span>(<a class="code hl_variable" href="rgw__admin_8cc.html#a6fdb26d64b14d837b60e83a6ca3e2863">store</a>),</div>
<div class="line"><span class="lineno"> 7558</span>                      bucket_name,</div>
<div class="line"><span class="lineno"> 7559</span>                      tenant,</div>
<div class="line"><span class="lineno"> 7560</span>                      <a class="code hl_variable" href="structrgw__log__entry.html#ade138581b4da0c38466f03c320bdd1ee">bucket_id</a>,</div>
<div class="line"><span class="lineno"> 7561</span>                      num_shards_specified,</div>
<div class="line"><span class="lineno"> 7562</span>                      num_shards,</div>
<div class="line"><span class="lineno"> 7563</span>                      yes_i_really_mean_it,</div>
<div class="line"><span class="lineno"> 7564</span>                      &amp;<a class="code hl_variable" href="structrgw__log__entry.html#abe38126b4342e5e27a847c7850bb58d4">bucket</a>);</div>
<div class="line"><span class="lineno"> 7565</span>    <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno"> 7566</span>      <span class="keywordflow">return</span> ret;</div>
<div class="line"><span class="lineno"> 7567</span>    }</div>
<div class="line"><span class="lineno"> 7568</span> </div>
<div class="line"><span class="lineno"> 7569</span>    <span class="keywordtype">int</span> num_source_shards = (<a class="code hl_variable" href="structrgw__log__entry.html#abe38126b4342e5e27a847c7850bb58d4">bucket</a>-&gt;get_info().layout.current_index.layout.normal.num_shards &gt; 0 ? <a class="code hl_variable" href="structrgw__log__entry.html#abe38126b4342e5e27a847c7850bb58d4">bucket</a>-&gt;get_info().layout.current_index.layout.normal.num_shards : 1);</div>
<div class="line"><span class="lineno"> 7570</span> </div>
<div class="line"><span class="lineno"> 7571</span>    <a class="code hl_class" href="class_r_g_w_reshard.html">RGWReshard</a> reshard(<span class="keyword">static_cast&lt;</span><a class="code hl_class" href="classrgw_1_1sal_1_1_rados_store.html">rgw::sal::RadosStore</a>*<span class="keyword">&gt;</span>(<a class="code hl_variable" href="rgw__admin_8cc.html#a6fdb26d64b14d837b60e83a6ca3e2863">store</a>), <a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>());</div>
<div class="line"><span class="lineno"> 7572</span>    cls_rgw_reshard_entry entry;</div>
<div class="line"><span class="lineno"> 7573</span>    entry.time = real_clock::now();</div>
<div class="line"><span class="lineno"> 7574</span>    entry.tenant = tenant;</div>
<div class="line"><span class="lineno"> 7575</span>    entry.bucket_name = bucket_name;</div>
<div class="line"><span class="lineno"> 7576</span>    entry.bucket_id = <a class="code hl_variable" href="structrgw__log__entry.html#abe38126b4342e5e27a847c7850bb58d4">bucket</a>-&gt;get_info().bucket.bucket_id;</div>
<div class="line"><span class="lineno"> 7577</span>    entry.old_num_shards = num_source_shards;</div>
<div class="line"><span class="lineno"> 7578</span>    entry.new_num_shards = num_shards;</div>
<div class="line"><span class="lineno"> 7579</span> </div>
<div class="line"><span class="lineno"> 7580</span>    <span class="keywordflow">return</span> reshard.add(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>(), entry);</div>
<div class="line"><span class="lineno"> 7581</span>  }</div>
<div class="line"><span class="lineno"> 7582</span> </div>
<div class="line"><span class="lineno"> 7583</span>  <span class="keywordflow">if</span> (opt_cmd == OPT::RESHARD_LIST) {</div>
<div class="line"><span class="lineno"> 7584</span>    <span class="keywordtype">int</span> ret;</div>
<div class="line"><span class="lineno"> 7585</span>    <span class="keywordtype">int</span> <a class="code hl_enumvalue" href="namespacergw_1_1dmclock.html#a6ed0c6ad7f7fc29a06f52a0070d21493ae2942a04780e223b215eb8b663cf5353">count</a> = 0;</div>
<div class="line"><span class="lineno"> 7586</span>    <span class="keywordflow">if</span> (max_entries &lt; 0) {</div>
<div class="line"><span class="lineno"> 7587</span>      max_entries = 1000;</div>
<div class="line"><span class="lineno"> 7588</span>    }</div>
<div class="line"><span class="lineno"> 7589</span> </div>
<div class="line"><span class="lineno"> 7590</span>    <span class="keywordtype">int</span> num_logshards =</div>
<div class="line"><span class="lineno"> 7591</span>      <a class="code hl_variable" href="rgw__admin_8cc.html#a6fdb26d64b14d837b60e83a6ca3e2863">store</a>-&gt;<a class="code hl_function" href="classrgw_1_1sal_1_1_store.html#aca84a6ff80011b26fcd2fa8526c1152e">ctx</a>()-&gt;_conf.get_val&lt;uint64_t&gt;(<span class="stringliteral">&quot;rgw_reshard_num_logs&quot;</span>);</div>
<div class="line"><span class="lineno"> 7592</span> </div>
<div class="line"><span class="lineno"> 7593</span>    <a class="code hl_class" href="class_r_g_w_reshard.html">RGWReshard</a> reshard(<span class="keyword">static_cast&lt;</span><a class="code hl_class" href="classrgw_1_1sal_1_1_rados_store.html">rgw::sal::RadosStore</a>*<span class="keyword">&gt;</span>(<a class="code hl_variable" href="rgw__admin_8cc.html#a6fdb26d64b14d837b60e83a6ca3e2863">store</a>), <a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>());</div>
<div class="line"><span class="lineno"> 7594</span> </div>
<div class="line"><span class="lineno"> 7595</span>    formatter-&gt;open_array_section(<span class="stringliteral">&quot;reshard&quot;</span>);</div>
<div class="line"><span class="lineno"> 7596</span>    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; num_logshards; i++) {</div>
<div class="line"><span class="lineno"> 7597</span>      <span class="keywordtype">bool</span> is_truncated = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 7598</span>      std::string marker;</div>
<div class="line"><span class="lineno"> 7599</span>      <span class="keywordflow">do</span> {</div>
<div class="line"><span class="lineno"> 7600</span>    std::list&lt;cls_rgw_reshard_entry&gt; <a class="code hl_variable" href="cls__fifo__legacy_8cc.html#a0341b0ec09e77f9d6274d5b1517f7711">entries</a>;</div>
<div class="line"><span class="lineno"> 7601</span>        ret = reshard.list(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>(), i, marker, max_entries - count, <a class="code hl_variable" href="cls__fifo__legacy_8cc.html#a0341b0ec09e77f9d6274d5b1517f7711">entries</a>, &amp;is_truncated);</div>
<div class="line"><span class="lineno"> 7602</span>        <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno"> 7603</span>          cerr &lt;&lt; <span class="stringliteral">&quot;Error listing resharding buckets: &quot;</span> &lt;&lt; cpp_strerror(-ret) &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 7604</span>          <span class="keywordflow">return</span> ret;</div>
<div class="line"><span class="lineno"> 7605</span>        }</div>
<div class="line"><span class="lineno"> 7606</span>        <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span>&amp; entry : <a class="code hl_variable" href="cls__fifo__legacy_8cc.html#a0341b0ec09e77f9d6274d5b1517f7711">entries</a>) {</div>
<div class="line"><span class="lineno"> 7607</span>          <a class="code hl_function" href="rgw__admin_8cc.html#ab596b9e1a1fc78e98a4d13a66578b658">encode_json</a>(<span class="stringliteral">&quot;entry&quot;</span>, entry, formatter.get());</div>
<div class="line"><span class="lineno"> 7608</span>        }</div>
<div class="line"><span class="lineno"> 7609</span>    <span class="keywordflow">if</span> (is_truncated) {</div>
<div class="line"><span class="lineno"> 7610</span>      <a class="code hl_variable" href="cls__fifo__legacy_8cc.html#a0341b0ec09e77f9d6274d5b1517f7711">entries</a>.crbegin()-&gt;get_key(&amp;marker); <span class="comment">// last entry&#39;s key becomes marker</span></div>
<div class="line"><span class="lineno"> 7611</span>    }</div>
<div class="line"><span class="lineno"> 7612</span>        <a class="code hl_enumvalue" href="namespacergw_1_1dmclock.html#a6ed0c6ad7f7fc29a06f52a0070d21493ae2942a04780e223b215eb8b663cf5353">count</a> += <a class="code hl_variable" href="cls__fifo__legacy_8cc.html#a0341b0ec09e77f9d6274d5b1517f7711">entries</a>.size();</div>
<div class="line"><span class="lineno"> 7613</span>        formatter-&gt;flush(cout);</div>
<div class="line"><span class="lineno"> 7614</span>      } <span class="keywordflow">while</span> (is_truncated &amp;&amp; count &lt; max_entries);</div>
<div class="line"><span class="lineno"> 7615</span> </div>
<div class="line"><span class="lineno"> 7616</span>      <span class="keywordflow">if</span> (count &gt;= max_entries) {</div>
<div class="line"><span class="lineno"> 7617</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 7618</span>      }</div>
<div class="line"><span class="lineno"> 7619</span>    }</div>
<div class="line"><span class="lineno"> 7620</span> </div>
<div class="line"><span class="lineno"> 7621</span>    formatter-&gt;close_section();</div>
<div class="line"><span class="lineno"> 7622</span>    formatter-&gt;flush(cout);</div>
<div class="line"><span class="lineno"> 7623</span> </div>
<div class="line"><span class="lineno"> 7624</span>    <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno"> 7625</span>  }</div>
<div class="line"><span class="lineno"> 7626</span> </div>
<div class="line"><span class="lineno"> 7627</span>  <span class="keywordflow">if</span> (opt_cmd == OPT::RESHARD_STATUS) {</div>
<div class="line"><span class="lineno"> 7628</span>    <span class="keywordflow">if</span> (bucket_name.empty()) {</div>
<div class="line"><span class="lineno"> 7629</span>      cerr &lt;&lt; <span class="stringliteral">&quot;ERROR: bucket not specified&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 7630</span>      <span class="keywordflow">return</span> EINVAL;</div>
<div class="line"><span class="lineno"> 7631</span>    }</div>
<div class="line"><span class="lineno"> 7632</span> </div>
<div class="line"><span class="lineno"> 7633</span>    ret = <a class="code hl_function" href="rgw__admin_8cc.html#a0023a8779e3ab0d965d9acfb3eb72cac">init_bucket</a>(<a class="code hl_variable" href="structrgw__log__entry.html#a35ae5bdbb5f60664f0a367d5c3ad9efe">user</a>.get(), tenant, bucket_name, <a class="code hl_variable" href="structrgw__log__entry.html#ade138581b4da0c38466f03c320bdd1ee">bucket_id</a>, &amp;<a class="code hl_variable" href="structrgw__log__entry.html#abe38126b4342e5e27a847c7850bb58d4">bucket</a>);</div>
<div class="line"><span class="lineno"> 7634</span>    <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno"> 7635</span>      cerr &lt;&lt; <span class="stringliteral">&quot;ERROR: could not init bucket: &quot;</span> &lt;&lt; cpp_strerror(-ret) &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 7636</span>      <span class="keywordflow">return</span> -ret;</div>
<div class="line"><span class="lineno"> 7637</span>    }</div>
<div class="line"><span class="lineno"> 7638</span> </div>
<div class="line"><span class="lineno"> 7639</span>    <a class="code hl_class" href="class_r_g_w_bucket_reshard.html">RGWBucketReshard</a> br(<span class="keyword">static_cast&lt;</span><a class="code hl_class" href="classrgw_1_1sal_1_1_rados_store.html">rgw::sal::RadosStore</a>*<span class="keyword">&gt;</span>(<a class="code hl_variable" href="rgw__admin_8cc.html#a6fdb26d64b14d837b60e83a6ca3e2863">store</a>), <a class="code hl_variable" href="structrgw__log__entry.html#abe38126b4342e5e27a847c7850bb58d4">bucket</a>-&gt;get_info(), <a class="code hl_variable" href="structrgw__log__entry.html#abe38126b4342e5e27a847c7850bb58d4">bucket</a>-&gt;get_attrs(), <span class="keyword">nullptr</span> <span class="comment">/* no callback */</span>);</div>
<div class="line"><span class="lineno"> 7640</span>    list&lt;cls_rgw_bucket_instance_entry&gt; status;</div>
<div class="line"><span class="lineno"> 7641</span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="rgw__aio_8cc.html#ae38055824c6eac64615832ad9d888539">r</a> = br.get_status(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>(), &amp;status);</div>
<div class="line"><span class="lineno"> 7642</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="rgw__aio_8cc.html#ae38055824c6eac64615832ad9d888539">r</a> &lt; 0) {</div>
<div class="line"><span class="lineno"> 7643</span>      cerr &lt;&lt; <span class="stringliteral">&quot;ERROR: could not get resharding status for bucket &quot;</span> &lt;&lt;</div>
<div class="line"><span class="lineno"> 7644</span>    bucket_name &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 7645</span>      <span class="keywordflow">return</span> -<a class="code hl_variable" href="rgw__aio_8cc.html#ae38055824c6eac64615832ad9d888539">r</a>;</div>
<div class="line"><span class="lineno"> 7646</span>    }</div>
<div class="line"><span class="lineno"> 7647</span> </div>
<div class="line"><span class="lineno"> 7648</span>    <a class="code hl_function" href="rgw__admin_8cc.html#ace6270a6fc80e9fce3cef9c397606b5f">show_reshard_status</a>(status, formatter.get());</div>
<div class="line"><span class="lineno"> 7649</span>  }</div>
<div class="line"><span class="lineno"> 7650</span> </div>
<div class="line"><span class="lineno"> 7651</span>  <span class="keywordflow">if</span> (opt_cmd == OPT::RESHARD_PROCESS) {</div>
<div class="line"><span class="lineno"> 7652</span>    <a class="code hl_class" href="class_r_g_w_reshard.html">RGWReshard</a> reshard(<span class="keyword">static_cast&lt;</span><a class="code hl_class" href="classrgw_1_1sal_1_1_rados_store.html">rgw::sal::RadosStore</a>*<span class="keyword">&gt;</span>(<a class="code hl_variable" href="rgw__admin_8cc.html#a6fdb26d64b14d837b60e83a6ca3e2863">store</a>), <span class="keyword">true</span>, &amp;cout);</div>
<div class="line"><span class="lineno"> 7653</span> </div>
<div class="line"><span class="lineno"> 7654</span>    <span class="keywordtype">int</span> ret = reshard.process_all_logshards(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>());</div>
<div class="line"><span class="lineno"> 7655</span>    <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno"> 7656</span>      cerr &lt;&lt; <span class="stringliteral">&quot;ERROR: failed to process reshard logs, error=&quot;</span> &lt;&lt; cpp_strerror(-ret) &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 7657</span>      <span class="keywordflow">return</span> -ret;</div>
<div class="line"><span class="lineno"> 7658</span>    }</div>
<div class="line"><span class="lineno"> 7659</span>  }</div>
<div class="line"><span class="lineno"> 7660</span> </div>
<div class="line"><span class="lineno"> 7661</span>  <span class="keywordflow">if</span> (opt_cmd == OPT::RESHARD_CANCEL) {</div>
<div class="line"><span class="lineno"> 7662</span>    <span class="keywordflow">if</span> (bucket_name.empty()) {</div>
<div class="line"><span class="lineno"> 7663</span>      cerr &lt;&lt; <span class="stringliteral">&quot;ERROR: bucket not specified&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 7664</span>      <span class="keywordflow">return</span> EINVAL;</div>
<div class="line"><span class="lineno"> 7665</span>    }</div>
<div class="line"><span class="lineno"> 7666</span> </div>
<div class="line"><span class="lineno"> 7667</span>    <span class="keywordtype">bool</span> bucket_initable = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 7668</span>    ret = <a class="code hl_function" href="rgw__admin_8cc.html#a0023a8779e3ab0d965d9acfb3eb72cac">init_bucket</a>(<a class="code hl_variable" href="structrgw__log__entry.html#a35ae5bdbb5f60664f0a367d5c3ad9efe">user</a>.get(), tenant, bucket_name, <a class="code hl_variable" href="structrgw__log__entry.html#ade138581b4da0c38466f03c320bdd1ee">bucket_id</a>, &amp;<a class="code hl_variable" href="structrgw__log__entry.html#abe38126b4342e5e27a847c7850bb58d4">bucket</a>);</div>
<div class="line"><span class="lineno"> 7669</span>    <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno"> 7670</span>      <span class="keywordflow">if</span> (yes_i_really_mean_it) {</div>
<div class="line"><span class="lineno"> 7671</span>        bucket_initable = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 7672</span>      } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 7673</span>        cerr &lt;&lt; <span class="stringliteral">&quot;ERROR: could not init bucket: &quot;</span> &lt;&lt; cpp_strerror(-ret) &lt;&lt;</div>
<div class="line"><span class="lineno"> 7674</span>          <span class="stringliteral">&quot;; if you want to cancel the reshard request nonetheless, please &quot;</span></div>
<div class="line"><span class="lineno"> 7675</span>          <span class="stringliteral">&quot;use the --yes-i-really-mean-it option&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 7676</span>        <span class="keywordflow">return</span> -ret;</div>
<div class="line"><span class="lineno"> 7677</span>      }</div>
<div class="line"><span class="lineno"> 7678</span>    }</div>
<div class="line"><span class="lineno"> 7679</span> </div>
<div class="line"><span class="lineno"> 7680</span>    <span class="keywordtype">bool</span> resharding_underway = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 7681</span> </div>
<div class="line"><span class="lineno"> 7682</span>    <span class="keywordflow">if</span> (bucket_initable) {</div>
<div class="line"><span class="lineno"> 7683</span>      <span class="comment">// we did not encounter an error, so let&#39;s work with the bucket</span></div>
<div class="line"><span class="lineno"> 7684</span>      <a class="code hl_class" href="class_r_g_w_bucket_reshard.html">RGWBucketReshard</a> br(<span class="keyword">static_cast&lt;</span><a class="code hl_class" href="classrgw_1_1sal_1_1_rados_store.html">rgw::sal::RadosStore</a>*<span class="keyword">&gt;</span>(<a class="code hl_variable" href="rgw__admin_8cc.html#a6fdb26d64b14d837b60e83a6ca3e2863">store</a>), <a class="code hl_variable" href="structrgw__log__entry.html#abe38126b4342e5e27a847c7850bb58d4">bucket</a>-&gt;get_info(), <a class="code hl_variable" href="structrgw__log__entry.html#abe38126b4342e5e27a847c7850bb58d4">bucket</a>-&gt;get_attrs(),</div>
<div class="line"><span class="lineno"> 7685</span>                          <span class="keyword">nullptr</span> <span class="comment">/* no callback */</span>);</div>
<div class="line"><span class="lineno"> 7686</span>      <span class="keywordtype">int</span> ret = br.cancel(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>());</div>
<div class="line"><span class="lineno"> 7687</span>      <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno"> 7688</span>        <span class="keywordflow">if</span> (ret == -EBUSY) {</div>
<div class="line"><span class="lineno"> 7689</span>          cerr &lt;&lt; <span class="stringliteral">&quot;There is ongoing resharding, please retry after &quot;</span> &lt;&lt;</div>
<div class="line"><span class="lineno"> 7690</span>            <a class="code hl_variable" href="rgw__admin_8cc.html#a6fdb26d64b14d837b60e83a6ca3e2863">store</a>-&gt;<a class="code hl_function" href="classrgw_1_1sal_1_1_store.html#aca84a6ff80011b26fcd2fa8526c1152e">ctx</a>()-&gt;_conf.get_val&lt;uint64_t&gt;(<span class="stringliteral">&quot;rgw_reshard_bucket_lock_duration&quot;</span>) &lt;&lt;</div>
<div class="line"><span class="lineno"> 7691</span>            <span class="stringliteral">&quot; seconds.&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 7692</span>      <span class="keywordflow">return</span> -ret;</div>
<div class="line"><span class="lineno"> 7693</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (ret == -EINVAL) {</div>
<div class="line"><span class="lineno"> 7694</span>      resharding_underway = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 7695</span>      <span class="comment">// we can continue and try to unschedule</span></div>
<div class="line"><span class="lineno"> 7696</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 7697</span>          cerr &lt;&lt; <span class="stringliteral">&quot;Error cancelling bucket \&quot;&quot;</span> &lt;&lt; bucket_name &lt;&lt;</div>
<div class="line"><span class="lineno"> 7698</span>            <span class="stringliteral">&quot;\&quot; resharding: &quot;</span> &lt;&lt; cpp_strerror(-ret) &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 7699</span>      <span class="keywordflow">return</span> -ret;</div>
<div class="line"><span class="lineno"> 7700</span>        }</div>
<div class="line"><span class="lineno"> 7701</span>      }</div>
<div class="line"><span class="lineno"> 7702</span>    }</div>
<div class="line"><span class="lineno"> 7703</span> </div>
<div class="line"><span class="lineno"> 7704</span>    <a class="code hl_class" href="class_r_g_w_reshard.html">RGWReshard</a> reshard(<span class="keyword">static_cast&lt;</span><a class="code hl_class" href="classrgw_1_1sal_1_1_rados_store.html">rgw::sal::RadosStore</a>*<span class="keyword">&gt;</span>(<a class="code hl_variable" href="rgw__admin_8cc.html#a6fdb26d64b14d837b60e83a6ca3e2863">store</a>), <a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>());</div>
<div class="line"><span class="lineno"> 7705</span> </div>
<div class="line"><span class="lineno"> 7706</span>    cls_rgw_reshard_entry entry;</div>
<div class="line"><span class="lineno"> 7707</span>    entry.tenant = tenant;</div>
<div class="line"><span class="lineno"> 7708</span>    entry.bucket_name = bucket_name;</div>
<div class="line"><span class="lineno"> 7709</span> </div>
<div class="line"><span class="lineno"> 7710</span>    ret = reshard.remove(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>(), entry);</div>
<div class="line"><span class="lineno"> 7711</span>    <span class="keywordflow">if</span> (ret == -ENOENT) {</div>
<div class="line"><span class="lineno"> 7712</span>      <span class="keywordflow">if</span> (!resharding_underway) {</div>
<div class="line"><span class="lineno"> 7713</span>    cerr &lt;&lt; <span class="stringliteral">&quot;Error, bucket \&quot;&quot;</span> &lt;&lt; bucket_name &lt;&lt;</div>
<div class="line"><span class="lineno"> 7714</span>      <span class="stringliteral">&quot;\&quot; is neither undergoing resharding nor scheduled to undergo &quot;</span></div>
<div class="line"><span class="lineno"> 7715</span>      <span class="stringliteral">&quot;resharding.&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 7716</span>    <span class="keywordflow">return</span> EINVAL;</div>
<div class="line"><span class="lineno"> 7717</span>      } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 7718</span>    <span class="comment">// we cancelled underway resharding above, so we&#39;re good</span></div>
<div class="line"><span class="lineno"> 7719</span>    <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno"> 7720</span>      }</div>
<div class="line"><span class="lineno"> 7721</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno"> 7722</span>      cerr &lt;&lt; <span class="stringliteral">&quot;Error in updating reshard log with bucket \&quot;&quot;</span> &lt;&lt;</div>
<div class="line"><span class="lineno"> 7723</span>        bucket_name &lt;&lt; <span class="stringliteral">&quot;\&quot;: &quot;</span> &lt;&lt; cpp_strerror(-ret) &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 7724</span>      <span class="keywordflow">return</span> -ret;</div>
<div class="line"><span class="lineno"> 7725</span>    }</div>
<div class="line"><span class="lineno"> 7726</span>  } <span class="comment">// OPT_RESHARD_CANCEL</span></div>
<div class="line"><span class="lineno"> 7727</span> </div>
<div class="line"><span class="lineno"> 7728</span>  <span class="keywordflow">if</span> (opt_cmd == OPT::OBJECT_UNLINK) {</div>
<div class="line"><span class="lineno"> 7729</span>    <span class="keywordtype">int</span> ret = <a class="code hl_function" href="rgw__admin_8cc.html#a0023a8779e3ab0d965d9acfb3eb72cac">init_bucket</a>(<a class="code hl_variable" href="structrgw__log__entry.html#a35ae5bdbb5f60664f0a367d5c3ad9efe">user</a>.get(), tenant, bucket_name, <a class="code hl_variable" href="structrgw__log__entry.html#ade138581b4da0c38466f03c320bdd1ee">bucket_id</a>, &amp;<a class="code hl_variable" href="structrgw__log__entry.html#abe38126b4342e5e27a847c7850bb58d4">bucket</a>);</div>
<div class="line"><span class="lineno"> 7730</span>    <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno"> 7731</span>      cerr &lt;&lt; <span class="stringliteral">&quot;ERROR: could not init bucket: &quot;</span> &lt;&lt; cpp_strerror(-ret) &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 7732</span>      <span class="keywordflow">return</span> -ret;</div>
<div class="line"><span class="lineno"> 7733</span>    }</div>
<div class="line"><span class="lineno"> 7734</span>    list&lt;rgw_obj_index_key&gt; oid_list;</div>
<div class="line"><span class="lineno"> 7735</span>    <a class="code hl_struct" href="structrgw__obj__key.html">rgw_obj_key</a> key(<span class="keywordtype">object</span>, object_version);</div>
<div class="line"><span class="lineno"> 7736</span>    <a class="code hl_typedef" href="rgw__common_8h.html#a7020478e92d985c3f78e2ae9e5481f0a">rgw_obj_index_key</a> index_key;</div>
<div class="line"><span class="lineno"> 7737</span>    key.<a class="code hl_function" href="structrgw__obj__key.html#a25f11d321b80d9c0fa03d2358d261dd4">get_index_key</a>(&amp;index_key);</div>
<div class="line"><span class="lineno"> 7738</span>    oid_list.push_back(index_key);</div>
<div class="line"><span class="lineno"> 7739</span>    ret = <a class="code hl_variable" href="structrgw__log__entry.html#abe38126b4342e5e27a847c7850bb58d4">bucket</a>-&gt;remove_objs_from_index(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>(), oid_list);</div>
<div class="line"><span class="lineno"> 7740</span>    <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno"> 7741</span>      cerr &lt;&lt; <span class="stringliteral">&quot;ERROR: remove_obj_from_index() returned error: &quot;</span> &lt;&lt; cpp_strerror(-ret) &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 7742</span>      <span class="keywordflow">return</span> 1;</div>
<div class="line"><span class="lineno"> 7743</span>    }</div>
<div class="line"><span class="lineno"> 7744</span>  }</div>
<div class="line"><span class="lineno"> 7745</span> </div>
<div class="line"><span class="lineno"> 7746</span>  <span class="keywordflow">if</span> (opt_cmd == OPT::OBJECT_STAT) {</div>
<div class="line"><span class="lineno"> 7747</span>    <span class="keywordtype">int</span> ret = <a class="code hl_function" href="rgw__admin_8cc.html#a0023a8779e3ab0d965d9acfb3eb72cac">init_bucket</a>(<a class="code hl_variable" href="structrgw__log__entry.html#a35ae5bdbb5f60664f0a367d5c3ad9efe">user</a>.get(), tenant, bucket_name, <a class="code hl_variable" href="structrgw__log__entry.html#ade138581b4da0c38466f03c320bdd1ee">bucket_id</a>, &amp;<a class="code hl_variable" href="structrgw__log__entry.html#abe38126b4342e5e27a847c7850bb58d4">bucket</a>);</div>
<div class="line"><span class="lineno"> 7748</span>    <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno"> 7749</span>      cerr &lt;&lt; <span class="stringliteral">&quot;ERROR: could not init bucket: &quot;</span> &lt;&lt; cpp_strerror(-ret) &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 7750</span>      <span class="keywordflow">return</span> -ret;</div>
<div class="line"><span class="lineno"> 7751</span>    }</div>
<div class="line"><span class="lineno"> 7752</span>    std::unique_ptr&lt;rgw::sal::Object&gt; <a class="code hl_variable" href="structrgw__log__entry.html#af11afc5005ffd6df74f530ac1e34a545">obj</a> = <a class="code hl_variable" href="structrgw__log__entry.html#abe38126b4342e5e27a847c7850bb58d4">bucket</a>-&gt;get_object(<span class="keywordtype">object</span>);</div>
<div class="line"><span class="lineno"> 7753</span>    <a class="code hl_variable" href="structrgw__log__entry.html#af11afc5005ffd6df74f530ac1e34a545">obj</a>-&gt;<a class="code hl_function" href="structrgw__obj__key.html#a87cc67fcbd9c25864aeeb9a5f39a12dc">set_instance</a>(object_version);</div>
<div class="line"><span class="lineno"> 7754</span> </div>
<div class="line"><span class="lineno"> 7755</span>    <a class="code hl_class" href="class_r_g_w_object_ctx.html">RGWObjectCtx</a> obj_ctx(<a class="code hl_variable" href="rgw__admin_8cc.html#a6fdb26d64b14d837b60e83a6ca3e2863">store</a>);</div>
<div class="line"><span class="lineno"> 7756</span> </div>
<div class="line"><span class="lineno"> 7757</span>    ret = <a class="code hl_variable" href="structrgw__log__entry.html#af11afc5005ffd6df74f530ac1e34a545">obj</a>-&gt;get_obj_attrs(&amp;obj_ctx, null_yield, <a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>());</div>
<div class="line"><span class="lineno"> 7758</span>    <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno"> 7759</span>      cerr &lt;&lt; <span class="stringliteral">&quot;ERROR: failed to stat object, returned error: &quot;</span> &lt;&lt; cpp_strerror(-ret) &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 7760</span>      <span class="keywordflow">return</span> 1;</div>
<div class="line"><span class="lineno"> 7761</span>    }</div>
<div class="line"><span class="lineno"> 7762</span>    formatter-&gt;open_object_section(<span class="stringliteral">&quot;object_metadata&quot;</span>);</div>
<div class="line"><span class="lineno"> 7763</span>    formatter-&gt;dump_string(<span class="stringliteral">&quot;name&quot;</span>, <span class="keywordtype">object</span>);</div>
<div class="line"><span class="lineno"> 7764</span>    formatter-&gt;dump_unsigned(<span class="stringliteral">&quot;size&quot;</span>, <a class="code hl_variable" href="structrgw__log__entry.html#af11afc5005ffd6df74f530ac1e34a545">obj</a>-&gt;get_obj_size());</div>
<div class="line"><span class="lineno"> 7765</span> </div>
<div class="line"><span class="lineno"> 7766</span>    map&lt;string, bufferlist&gt;::iterator iter;</div>
<div class="line"><span class="lineno"> 7767</span>    map&lt;string, bufferlist&gt; other_attrs;</div>
<div class="line"><span class="lineno"> 7768</span>    <span class="keywordflow">for</span> (iter = <a class="code hl_variable" href="structrgw__log__entry.html#af11afc5005ffd6df74f530ac1e34a545">obj</a>-&gt;get_attrs().begin(); iter != <a class="code hl_variable" href="structrgw__log__entry.html#af11afc5005ffd6df74f530ac1e34a545">obj</a>-&gt;get_attrs().end(); ++iter) {</div>
<div class="line"><span class="lineno"> 7769</span>      bufferlist&amp; bl = iter-&gt;second;</div>
<div class="line"><span class="lineno"> 7770</span>      <span class="keywordtype">bool</span> handled = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 7771</span>      <span class="keywordflow">if</span> (iter-&gt;first == <a class="code hl_define" href="rgw__common_8h.html#acde64cb5e0f5663d319edd39da4ded46">RGW_ATTR_MANIFEST</a>) {</div>
<div class="line"><span class="lineno"> 7772</span>        handled = decode_dump&lt;RGWObjManifest&gt;(<span class="stringliteral">&quot;manifest&quot;</span>, bl, formatter.get());</div>
<div class="line"><span class="lineno"> 7773</span>      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (iter-&gt;first == <a class="code hl_define" href="rgw__common_8h.html#ac9a37f7a4f4ad09bae48d3c752920758">RGW_ATTR_ACL</a>) {</div>
<div class="line"><span class="lineno"> 7774</span>        handled = decode_dump&lt;RGWAccessControlPolicy&gt;(<span class="stringliteral">&quot;policy&quot;</span>, bl, formatter.get());</div>
<div class="line"><span class="lineno"> 7775</span>      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (iter-&gt;first == <a class="code hl_define" href="rgw__common_8h.html#a3cbfb25efdb29ff9c61231af91f84fa8">RGW_ATTR_ID_TAG</a>) {</div>
<div class="line"><span class="lineno"> 7776</span>        handled = <a class="code hl_function" href="rgw__admin_8cc.html#af867f986d76240a18da3b037d41d742c">dump_string</a>(<span class="stringliteral">&quot;tag&quot;</span>, bl, formatter.get());</div>
<div class="line"><span class="lineno"> 7777</span>      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (iter-&gt;first == <a class="code hl_define" href="rgw__common_8h.html#af7c58a0981432866d722813e5f64066a">RGW_ATTR_ETAG</a>) {</div>
<div class="line"><span class="lineno"> 7778</span>        handled = <a class="code hl_function" href="rgw__admin_8cc.html#af867f986d76240a18da3b037d41d742c">dump_string</a>(<span class="stringliteral">&quot;etag&quot;</span>, bl, formatter.get());</div>
<div class="line"><span class="lineno"> 7779</span>      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (iter-&gt;first == <a class="code hl_define" href="rgw__common_8h.html#a2698dd0774e4e70329180f5e1de7f7da">RGW_ATTR_COMPRESSION</a>) {</div>
<div class="line"><span class="lineno"> 7780</span>        handled = decode_dump&lt;RGWCompressionInfo&gt;(<span class="stringliteral">&quot;compression&quot;</span>, bl, formatter.get());</div>
<div class="line"><span class="lineno"> 7781</span>      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (iter-&gt;first == <a class="code hl_define" href="rgw__common_8h.html#a5b5625986263eef4cf79a0efdcfae436">RGW_ATTR_DELETE_AT</a>) {</div>
<div class="line"><span class="lineno"> 7782</span>        handled = decode_dump&lt;utime_t&gt;(<span class="stringliteral">&quot;delete_at&quot;</span>, bl, formatter.get());</div>
<div class="line"><span class="lineno"> 7783</span>      }</div>
<div class="line"><span class="lineno"> 7784</span> </div>
<div class="line"><span class="lineno"> 7785</span>      <span class="keywordflow">if</span> (!handled)</div>
<div class="line"><span class="lineno"> 7786</span>        other_attrs[iter-&gt;first] = bl;</div>
<div class="line"><span class="lineno"> 7787</span>    }</div>
<div class="line"><span class="lineno"> 7788</span> </div>
<div class="line"><span class="lineno"> 7789</span>    formatter-&gt;open_object_section(<span class="stringliteral">&quot;attrs&quot;</span>);</div>
<div class="line"><span class="lineno"> 7790</span>    <span class="keywordflow">for</span> (iter = other_attrs.begin(); iter != other_attrs.end(); ++iter) {</div>
<div class="line"><span class="lineno"> 7791</span>      <a class="code hl_function" href="rgw__admin_8cc.html#af867f986d76240a18da3b037d41d742c">dump_string</a>(iter-&gt;first.c_str(), iter-&gt;second, formatter.get());</div>
<div class="line"><span class="lineno"> 7792</span>    }</div>
<div class="line"><span class="lineno"> 7793</span>    formatter-&gt;close_section();</div>
<div class="line"><span class="lineno"> 7794</span>    formatter-&gt;close_section();</div>
<div class="line"><span class="lineno"> 7795</span>    formatter-&gt;flush(cout);</div>
<div class="line"><span class="lineno"> 7796</span>  }</div>
<div class="line"><span class="lineno"> 7797</span> </div>
<div class="line"><span class="lineno"> 7798</span>  <span class="keywordflow">if</span> (opt_cmd == OPT::BUCKET_CHECK) {</div>
<div class="line"><span class="lineno"> 7799</span>    <span class="keywordflow">if</span> (check_head_obj_locator) {</div>
<div class="line"><span class="lineno"> 7800</span>      <span class="keywordflow">if</span> (bucket_name.empty()) {</div>
<div class="line"><span class="lineno"> 7801</span>        cerr &lt;&lt; <span class="stringliteral">&quot;ERROR: need to specify bucket name&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 7802</span>        <span class="keywordflow">return</span> EINVAL;</div>
<div class="line"><span class="lineno"> 7803</span>      }</div>
<div class="line"><span class="lineno"> 7804</span>      <a class="code hl_function" href="rgw__admin_8cc.html#a7987767bde42cfaa2fbc443042879153">do_check_object_locator</a>(tenant, bucket_name, fix, remove_bad, formatter.get());</div>
<div class="line"><span class="lineno"> 7805</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 7806</span>      <a class="code hl_function" href="class_r_g_w_bucket_admin_op.html#aaf2df81db6efef1fe530dce2acb467de">RGWBucketAdminOp::check_index</a>(<a class="code hl_variable" href="rgw__admin_8cc.html#a6fdb26d64b14d837b60e83a6ca3e2863">store</a>, bucket_op, stream_flusher, null_yield, <a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>());</div>
<div class="line"><span class="lineno"> 7807</span>    }</div>
<div class="line"><span class="lineno"> 7808</span>  }</div>
<div class="line"><span class="lineno"> 7809</span> </div>
<div class="line"><span class="lineno"> 7810</span>  <span class="keywordflow">if</span> (opt_cmd == OPT::BUCKET_RM) {</div>
<div class="line"><span class="lineno"> 7811</span>    <span class="keywordflow">if</span> (!inconsistent_index) {</div>
<div class="line"><span class="lineno"> 7812</span>      <a class="code hl_function" href="class_r_g_w_bucket_admin_op.html#a5fbffbe9877054927e51439871de70da">RGWBucketAdminOp::remove_bucket</a>(<a class="code hl_variable" href="rgw__admin_8cc.html#a6fdb26d64b14d837b60e83a6ca3e2863">store</a>, bucket_op, null_yield, <a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>(), bypass_gc, <span class="keyword">true</span>);</div>
<div class="line"><span class="lineno"> 7813</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 7814</span>      <span class="keywordflow">if</span> (!yes_i_really_mean_it) {</div>
<div class="line"><span class="lineno"> 7815</span>    cerr &lt;&lt; <span class="stringliteral">&quot;using --inconsistent_index can corrupt the bucket index &quot;</span> &lt;&lt; std::endl</div>
<div class="line"><span class="lineno"> 7816</span>    &lt;&lt; <span class="stringliteral">&quot;do you really mean it? (requires --yes-i-really-mean-it)&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 7817</span>    <span class="keywordflow">return</span> 1;</div>
<div class="line"><span class="lineno"> 7818</span>      }</div>
<div class="line"><span class="lineno"> 7819</span>      <a class="code hl_function" href="class_r_g_w_bucket_admin_op.html#a5fbffbe9877054927e51439871de70da">RGWBucketAdminOp::remove_bucket</a>(<a class="code hl_variable" href="rgw__admin_8cc.html#a6fdb26d64b14d837b60e83a6ca3e2863">store</a>, bucket_op, null_yield, <a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>(), bypass_gc, <span class="keyword">false</span>);</div>
<div class="line"><span class="lineno"> 7820</span>    }</div>
<div class="line"><span class="lineno"> 7821</span>  }</div>
<div class="line"><span class="lineno"> 7822</span> </div>
<div class="line"><span class="lineno"> 7823</span>  <span class="keywordflow">if</span> (opt_cmd == OPT::GC_LIST) {</div>
<div class="line"><span class="lineno"> 7824</span>    <span class="keywordtype">int</span> index = 0;</div>
<div class="line"><span class="lineno"> 7825</span>    <span class="keywordtype">bool</span> truncated;</div>
<div class="line"><span class="lineno"> 7826</span>    <span class="keywordtype">bool</span> processing_queue = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 7827</span>    formatter-&gt;open_array_section(<span class="stringliteral">&quot;entries&quot;</span>);</div>
<div class="line"><span class="lineno"> 7828</span> </div>
<div class="line"><span class="lineno"> 7829</span>    <span class="keywordflow">do</span> {</div>
<div class="line"><span class="lineno"> 7830</span>      list&lt;cls_rgw_gc_obj_info&gt; result;</div>
<div class="line"><span class="lineno"> 7831</span>      <span class="keywordtype">int</span> ret = <span class="keyword">static_cast&lt;</span><a class="code hl_class" href="classrgw_1_1sal_1_1_rados_store.html">rgw::sal::RadosStore</a>*<span class="keyword">&gt;</span>(<a class="code hl_variable" href="rgw__admin_8cc.html#a6fdb26d64b14d837b60e83a6ca3e2863">store</a>)-&gt;getRados()-&gt;list_gc_objs(&amp;index, marker, 1000, !include_all, result, &amp;truncated, processing_queue);</div>
<div class="line"><span class="lineno"> 7832</span>      <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno"> 7833</span>    cerr &lt;&lt; <span class="stringliteral">&quot;ERROR: failed to list objs: &quot;</span> &lt;&lt; cpp_strerror(-ret) &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 7834</span>    <span class="keywordflow">return</span> 1;</div>
<div class="line"><span class="lineno"> 7835</span>      }</div>
<div class="line"><span class="lineno"> 7836</span> </div>
<div class="line"><span class="lineno"> 7837</span> </div>
<div class="line"><span class="lineno"> 7838</span>      list&lt;cls_rgw_gc_obj_info&gt;::iterator iter;</div>
<div class="line"><span class="lineno"> 7839</span>      <span class="keywordflow">for</span> (iter = result.begin(); iter != result.end(); ++iter) {</div>
<div class="line"><span class="lineno"> 7840</span>    cls_rgw_gc_obj_info&amp; info = *iter;</div>
<div class="line"><span class="lineno"> 7841</span>    formatter-&gt;open_object_section(<span class="stringliteral">&quot;chain_info&quot;</span>);</div>
<div class="line"><span class="lineno"> 7842</span>    formatter-&gt;dump_string(<span class="stringliteral">&quot;tag&quot;</span>, info.tag);</div>
<div class="line"><span class="lineno"> 7843</span>    formatter-&gt;dump_stream(<span class="stringliteral">&quot;time&quot;</span>) &lt;&lt; info.time;</div>
<div class="line"><span class="lineno"> 7844</span>    formatter-&gt;open_array_section(<span class="stringliteral">&quot;objs&quot;</span>);</div>
<div class="line"><span class="lineno"> 7845</span>        list&lt;cls_rgw_obj&gt;::iterator liter;</div>
<div class="line"><span class="lineno"> 7846</span>    cls_rgw_obj_chain&amp; chain = info.chain;</div>
<div class="line"><span class="lineno"> 7847</span>    <span class="keywordflow">for</span> (liter = chain.objs.begin(); liter != chain.objs.end(); ++liter) {</div>
<div class="line"><span class="lineno"> 7848</span>      cls_rgw_obj&amp; <a class="code hl_variable" href="structrgw__log__entry.html#af11afc5005ffd6df74f530ac1e34a545">obj</a> = *liter;</div>
<div class="line"><span class="lineno"> 7849</span>          <a class="code hl_function" href="rgw__admin_8cc.html#ab596b9e1a1fc78e98a4d13a66578b658">encode_json</a>(<span class="stringliteral">&quot;obj&quot;</span>, <a class="code hl_variable" href="structrgw__log__entry.html#af11afc5005ffd6df74f530ac1e34a545">obj</a>, formatter.get());</div>
<div class="line"><span class="lineno"> 7850</span>    }</div>
<div class="line"><span class="lineno"> 7851</span>    formatter-&gt;close_section(); <span class="comment">// objs</span></div>
<div class="line"><span class="lineno"> 7852</span>    formatter-&gt;close_section(); <span class="comment">// obj_chain</span></div>
<div class="line"><span class="lineno"> 7853</span>    formatter-&gt;flush(cout);</div>
<div class="line"><span class="lineno"> 7854</span>      }</div>
<div class="line"><span class="lineno"> 7855</span>    } <span class="keywordflow">while</span> (truncated);</div>
<div class="line"><span class="lineno"> 7856</span>    formatter-&gt;close_section();</div>
<div class="line"><span class="lineno"> 7857</span>    formatter-&gt;flush(cout);</div>
<div class="line"><span class="lineno"> 7858</span>  }</div>
<div class="line"><span class="lineno"> 7859</span> </div>
<div class="line"><span class="lineno"> 7860</span>  <span class="keywordflow">if</span> (opt_cmd == OPT::GC_PROCESS) {</div>
<div class="line"><span class="lineno"> 7861</span>    <span class="keywordtype">int</span> ret = <span class="keyword">static_cast&lt;</span><a class="code hl_class" href="classrgw_1_1sal_1_1_rados_store.html">rgw::sal::RadosStore</a>*<span class="keyword">&gt;</span>(<a class="code hl_variable" href="rgw__admin_8cc.html#a6fdb26d64b14d837b60e83a6ca3e2863">store</a>)-&gt;getRados()-&gt;process_gc(!include_all);</div>
<div class="line"><span class="lineno"> 7862</span>    <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno"> 7863</span>      cerr &lt;&lt; <span class="stringliteral">&quot;ERROR: gc processing returned error: &quot;</span> &lt;&lt; cpp_strerror(-ret) &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 7864</span>      <span class="keywordflow">return</span> 1;</div>
<div class="line"><span class="lineno"> 7865</span>    }</div>
<div class="line"><span class="lineno"> 7866</span>  }</div>
<div class="line"><span class="lineno"> 7867</span> </div>
<div class="line"><span class="lineno"> 7868</span>  <span class="keywordflow">if</span> (opt_cmd == OPT::LC_LIST) {</div>
<div class="line"><span class="lineno"> 7869</span>    formatter-&gt;open_array_section(<span class="stringliteral">&quot;lifecycle_list&quot;</span>);</div>
<div class="line"><span class="lineno"> 7870</span>    vector&lt;rgw::sal::Lifecycle::LCEntry&gt; bucket_lc_map;</div>
<div class="line"><span class="lineno"> 7871</span>    <span class="keywordtype">string</span> marker;</div>
<div class="line"><span class="lineno"> 7872</span>    <span class="keywordtype">int</span> index{0};</div>
<div class="line"><span class="lineno"> 7873</span><span class="preprocessor">#define MAX_LC_LIST_ENTRIES 100</span></div>
<div class="line"><span class="lineno"> 7874</span>    <span class="keywordflow">if</span> (max_entries &lt; 0) {</div>
<div class="line"><span class="lineno"> 7875</span>      max_entries = <a class="code hl_define" href="rgw__admin_8cc.html#ae9f99b955c6202f51e4bfbe8751008f4">MAX_LC_LIST_ENTRIES</a>;</div>
<div class="line"><span class="lineno"> 7876</span>    }</div>
<div class="line"><span class="lineno"> 7877</span>    <span class="keywordflow">do</span> {</div>
<div class="line"><span class="lineno"> 7878</span>      <span class="keywordtype">int</span> ret = <span class="keyword">static_cast&lt;</span><a class="code hl_class" href="classrgw_1_1sal_1_1_rados_store.html">rgw::sal::RadosStore</a>*<span class="keyword">&gt;</span>(<a class="code hl_variable" href="rgw__admin_8cc.html#a6fdb26d64b14d837b60e83a6ca3e2863">store</a>)-&gt;getRados()-&gt;list_lc_progress(marker, max_entries,</div>
<div class="line"><span class="lineno"> 7879</span>                            bucket_lc_map, index);</div>
<div class="line"><span class="lineno"> 7880</span>      <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno"> 7881</span>        cerr &lt;&lt; <span class="stringliteral">&quot;ERROR: failed to list objs: &quot;</span> &lt;&lt; cpp_strerror(-ret)</div>
<div class="line"><span class="lineno"> 7882</span>         &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 7883</span>        <span class="keywordflow">return</span> 1;</div>
<div class="line"><span class="lineno"> 7884</span>      }</div>
<div class="line"><span class="lineno"> 7885</span>      <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span>&amp; entry : bucket_lc_map) {</div>
<div class="line"><span class="lineno"> 7886</span>        formatter-&gt;open_object_section(<span class="stringliteral">&quot;bucket_lc_info&quot;</span>);</div>
<div class="line"><span class="lineno"> 7887</span>        formatter-&gt;dump_string(<span class="stringliteral">&quot;bucket&quot;</span>, entry.bucket);</div>
<div class="line"><span class="lineno"> 7888</span>    <span class="keywordtype">char</span> exp_buf[100];</div>
<div class="line"><span class="lineno"> 7889</span>    time_t t{time_t(entry.start_time)};</div>
<div class="line"><span class="lineno"> 7890</span>    <span class="keywordflow">if</span> (std::strftime(</div>
<div class="line"><span class="lineno"> 7891</span>          exp_buf, <span class="keyword">sizeof</span>(exp_buf),</div>
<div class="line"><span class="lineno"> 7892</span>          <span class="stringliteral">&quot;%a, %d %b %Y %T %Z&quot;</span>, std::gmtime(&amp;t))) {</div>
<div class="line"><span class="lineno"> 7893</span>      formatter-&gt;dump_string(<span class="stringliteral">&quot;started&quot;</span>, exp_buf);</div>
<div class="line"><span class="lineno"> 7894</span>    }</div>
<div class="line"><span class="lineno"> 7895</span>        <span class="keywordtype">string</span> lc_status = <a class="code hl_variable" href="rgw__lc_8cc.html#a7981f16d8c4717d293b09db9dfd8dc58">LC_STATUS</a>[entry.status];</div>
<div class="line"><span class="lineno"> 7896</span>        formatter-&gt;dump_string(<span class="stringliteral">&quot;status&quot;</span>, lc_status);</div>
<div class="line"><span class="lineno"> 7897</span>        formatter-&gt;close_section(); <span class="comment">// objs</span></div>
<div class="line"><span class="lineno"> 7898</span>        formatter-&gt;flush(cout);</div>
<div class="line"><span class="lineno"> 7899</span>      }</div>
<div class="line"><span class="lineno"> 7900</span>    } <span class="keywordflow">while</span> (!bucket_lc_map.empty());</div>
<div class="line"><span class="lineno"> 7901</span> </div>
<div class="line"><span class="lineno"> 7902</span>    formatter-&gt;close_section(); <span class="comment">//lifecycle list</span></div>
<div class="line"><span class="lineno"> 7903</span>    formatter-&gt;flush(cout);</div>
<div class="line"><span class="lineno"> 7904</span>  }</div>
<div class="line"><span class="lineno"> 7905</span> </div>
<div class="line"><span class="lineno"> 7906</span> </div>
<div class="line"><span class="lineno"> 7907</span>  <span class="keywordflow">if</span> (opt_cmd == OPT::LC_GET) {</div>
<div class="line"><span class="lineno"> 7908</span>    <span class="keywordflow">if</span> (bucket_name.empty()) {</div>
<div class="line"><span class="lineno"> 7909</span>      cerr &lt;&lt; <span class="stringliteral">&quot;ERROR: bucket not specified&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 7910</span>      <span class="keywordflow">return</span> EINVAL;</div>
<div class="line"><span class="lineno"> 7911</span>    }</div>
<div class="line"><span class="lineno"> 7912</span> </div>
<div class="line"><span class="lineno"> 7913</span>    <a class="code hl_class" href="class_r_g_w_lifecycle_configuration.html">RGWLifecycleConfiguration</a> <a class="code hl_enumvalue" href="namespacergw.html#aa74ef6030865b86d25300c7309e8b191a2245023265ae4cf87d02c8b6ba991139">config</a>;</div>
<div class="line"><span class="lineno"> 7914</span>    ret = <a class="code hl_function" href="rgw__admin_8cc.html#a0023a8779e3ab0d965d9acfb3eb72cac">init_bucket</a>(<a class="code hl_variable" href="structrgw__log__entry.html#a35ae5bdbb5f60664f0a367d5c3ad9efe">user</a>.get(), tenant, bucket_name, <a class="code hl_variable" href="structrgw__log__entry.html#ade138581b4da0c38466f03c320bdd1ee">bucket_id</a>, &amp;<a class="code hl_variable" href="structrgw__log__entry.html#abe38126b4342e5e27a847c7850bb58d4">bucket</a>);</div>
<div class="line"><span class="lineno"> 7915</span>    <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno"> 7916</span>      cerr &lt;&lt; <span class="stringliteral">&quot;ERROR: could not init bucket: &quot;</span> &lt;&lt; cpp_strerror(-ret) &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 7917</span>      <span class="keywordflow">return</span> -ret;</div>
<div class="line"><span class="lineno"> 7918</span>    }</div>
<div class="line"><span class="lineno"> 7919</span> </div>
<div class="line"><span class="lineno"> 7920</span>    <span class="keyword">auto</span> aiter = <a class="code hl_variable" href="structrgw__log__entry.html#abe38126b4342e5e27a847c7850bb58d4">bucket</a>-&gt;get_attrs().find(<a class="code hl_define" href="rgw__common_8h.html#a7f53e4298c577378477ce3009f21c769">RGW_ATTR_LC</a>);</div>
<div class="line"><span class="lineno"> 7921</span>    <span class="keywordflow">if</span> (aiter == <a class="code hl_variable" href="structrgw__log__entry.html#abe38126b4342e5e27a847c7850bb58d4">bucket</a>-&gt;get_attrs().end()) {</div>
<div class="line"><span class="lineno"> 7922</span>      <span class="keywordflow">return</span> -ENOENT;</div>
<div class="line"><span class="lineno"> 7923</span>    }</div>
<div class="line"><span class="lineno"> 7924</span> </div>
<div class="line"><span class="lineno"> 7925</span>    bufferlist::const_iterator iter{&amp;aiter-&gt;second};</div>
<div class="line"><span class="lineno"> 7926</span>    <span class="keywordflow">try</span> {</div>
<div class="line"><span class="lineno"> 7927</span>      <a class="code hl_enumvalue" href="namespacergw.html#aa74ef6030865b86d25300c7309e8b191a2245023265ae4cf87d02c8b6ba991139">config</a>.decode(iter);</div>
<div class="line"><span class="lineno"> 7928</span>    } <span class="keywordflow">catch</span> (<span class="keyword">const</span> buffer::error&amp; e) {</div>
<div class="line"><span class="lineno"> 7929</span>      cerr &lt;&lt; <span class="stringliteral">&quot;ERROR: decode life cycle config failed&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 7930</span>      <span class="keywordflow">return</span> -EIO;</div>
<div class="line"><span class="lineno"> 7931</span>    }</div>
<div class="line"><span class="lineno"> 7932</span> </div>
<div class="line"><span class="lineno"> 7933</span>    <a class="code hl_function" href="rgw__admin_8cc.html#ab596b9e1a1fc78e98a4d13a66578b658">encode_json</a>(<span class="stringliteral">&quot;result&quot;</span>, config, formatter.get());</div>
<div class="line"><span class="lineno"> 7934</span>    formatter-&gt;flush(cout);</div>
<div class="line"><span class="lineno"> 7935</span>  }</div>
<div class="line"><span class="lineno"> 7936</span> </div>
<div class="line"><span class="lineno"> 7937</span>  <span class="keywordflow">if</span> (opt_cmd == OPT::LC_PROCESS) {</div>
<div class="line"><span class="lineno"> 7938</span>    <span class="keywordflow">if</span> ((! bucket_name.empty()) ||</div>
<div class="line"><span class="lineno"> 7939</span>    (! <a class="code hl_variable" href="structrgw__log__entry.html#ade138581b4da0c38466f03c320bdd1ee">bucket_id</a>.empty())) {</div>
<div class="line"><span class="lineno"> 7940</span>        <span class="keywordtype">int</span> ret = <a class="code hl_function" href="rgw__admin_8cc.html#a0023a8779e3ab0d965d9acfb3eb72cac">init_bucket</a>(<span class="keyword">nullptr</span>, tenant, bucket_name, <a class="code hl_variable" href="structrgw__log__entry.html#ade138581b4da0c38466f03c320bdd1ee">bucket_id</a>, &amp;<a class="code hl_variable" href="structrgw__log__entry.html#abe38126b4342e5e27a847c7850bb58d4">bucket</a>);</div>
<div class="line"><span class="lineno"> 7941</span>    <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno"> 7942</span>      cerr &lt;&lt; <span class="stringliteral">&quot;ERROR: could not init bucket: &quot;</span> &lt;&lt; cpp_strerror(-ret)</div>
<div class="line"><span class="lineno"> 7943</span>           &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 7944</span>      <span class="keywordflow">return</span> ret;</div>
<div class="line"><span class="lineno"> 7945</span>    }</div>
<div class="line"><span class="lineno"> 7946</span>    }</div>
<div class="line"><span class="lineno"> 7947</span> </div>
<div class="line"><span class="lineno"> 7948</span>    <span class="keywordtype">int</span> ret =</div>
<div class="line"><span class="lineno"> 7949</span>      <span class="keyword">static_cast&lt;</span><a class="code hl_class" href="classrgw_1_1sal_1_1_rados_store.html">rgw::sal::RadosStore</a>*<span class="keyword">&gt;</span>(<a class="code hl_variable" href="rgw__admin_8cc.html#a6fdb26d64b14d837b60e83a6ca3e2863">store</a>)-&gt;getRados()-&gt;process_lc(<a class="code hl_variable" href="structrgw__log__entry.html#abe38126b4342e5e27a847c7850bb58d4">bucket</a>);</div>
<div class="line"><span class="lineno"> 7950</span>    <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno"> 7951</span>      cerr &lt;&lt; <span class="stringliteral">&quot;ERROR: lc processing returned error: &quot;</span> &lt;&lt; cpp_strerror(-ret) &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 7952</span>      <span class="keywordflow">return</span> 1;</div>
<div class="line"><span class="lineno"> 7953</span>    }</div>
<div class="line"><span class="lineno"> 7954</span>  }</div>
<div class="line"><span class="lineno"> 7955</span> </div>
<div class="line"><span class="lineno"> 7956</span>  <span class="keywordflow">if</span> (opt_cmd == OPT::LC_RESHARD_FIX) {</div>
<div class="line"><span class="lineno"> 7957</span>    ret = <a class="code hl_function" href="class_r_g_w_bucket_admin_op.html#a13369ed6e9e3a4a63bbeb66a5f1640a4">RGWBucketAdminOp::fix_lc_shards</a>(<a class="code hl_variable" href="rgw__admin_8cc.html#a6fdb26d64b14d837b60e83a6ca3e2863">store</a>, bucket_op, stream_flusher, <a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>());</div>
<div class="line"><span class="lineno"> 7958</span>    <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno"> 7959</span>      cerr &lt;&lt; <span class="stringliteral">&quot;ERROR: fixing lc shards: &quot;</span> &lt;&lt; cpp_strerror(-ret) &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 7960</span>    }</div>
<div class="line"><span class="lineno"> 7961</span> </div>
<div class="line"><span class="lineno"> 7962</span>  }</div>
<div class="line"><span class="lineno"> 7963</span> </div>
<div class="line"><span class="lineno"> 7964</span>  <span class="keywordflow">if</span> (opt_cmd == OPT::ORPHANS_FIND) {</div>
<div class="line"><span class="lineno"> 7965</span>    <span class="keywordflow">if</span> (!yes_i_really_mean_it) {</div>
<div class="line"><span class="lineno"> 7966</span>      cerr &lt;&lt; <span class="stringliteral">&quot;this command is now deprecated; please consider using the rgw-orphan-list tool; &quot;</span></div>
<div class="line"><span class="lineno"> 7967</span>       &lt;&lt; <span class="stringliteral">&quot;accidental removal of active objects cannot be reversed; &quot;</span></div>
<div class="line"><span class="lineno"> 7968</span>       &lt;&lt; <span class="stringliteral">&quot;do you really mean it? (requires --yes-i-really-mean-it)&quot;</span></div>
<div class="line"><span class="lineno"> 7969</span>       &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 7970</span>      <span class="keywordflow">return</span> EINVAL;</div>
<div class="line"><span class="lineno"> 7971</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 7972</span>      cerr &lt;&lt; <span class="stringliteral">&quot;IMPORTANT: this command is now deprecated; please consider using the rgw-orphan-list tool&quot;</span></div>
<div class="line"><span class="lineno"> 7973</span>       &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 7974</span>    }</div>
<div class="line"><span class="lineno"> 7975</span> </div>
<div class="line"><span class="lineno"> 7976</span>    <a class="code hl_class" href="class_r_g_w_orphan_search.html">RGWOrphanSearch</a> search(<span class="keyword">static_cast&lt;</span><a class="code hl_class" href="classrgw_1_1sal_1_1_rados_store.html">rgw::sal::RadosStore</a>*<span class="keyword">&gt;</span>(<a class="code hl_variable" href="rgw__admin_8cc.html#a6fdb26d64b14d837b60e83a6ca3e2863">store</a>), max_concurrent_ios, orphan_stale_secs);</div>
<div class="line"><span class="lineno"> 7977</span> </div>
<div class="line"><span class="lineno"> 7978</span>    <span class="keywordflow">if</span> (job_id.empty()) {</div>
<div class="line"><span class="lineno"> 7979</span>      cerr &lt;&lt; <span class="stringliteral">&quot;ERROR: --job-id not specified&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 7980</span>      <span class="keywordflow">return</span> EINVAL;</div>
<div class="line"><span class="lineno"> 7981</span>    }</div>
<div class="line"><span class="lineno"> 7982</span>    <span class="keywordflow">if</span> (pool_name.empty()) {</div>
<div class="line"><span class="lineno"> 7983</span>      cerr &lt;&lt; <span class="stringliteral">&quot;ERROR: --pool not specified&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 7984</span>      <span class="keywordflow">return</span> EINVAL;</div>
<div class="line"><span class="lineno"> 7985</span>    }</div>
<div class="line"><span class="lineno"> 7986</span> </div>
<div class="line"><span class="lineno"> 7987</span>    <a class="code hl_struct" href="struct_r_g_w_orphan_search_info.html">RGWOrphanSearchInfo</a> info;</div>
<div class="line"><span class="lineno"> 7988</span> </div>
<div class="line"><span class="lineno"> 7989</span>    info.<a class="code hl_variable" href="struct_r_g_w_orphan_search_info.html#aa08e48a197c1645193532a8fe579fc9f">pool</a> = pool;</div>
<div class="line"><span class="lineno"> 7990</span>    info.<a class="code hl_variable" href="struct_r_g_w_orphan_search_info.html#aa0626bdc6280ad458a39337f98a1b199">job_name</a> = job_id;</div>
<div class="line"><span class="lineno"> 7991</span>    info.<a class="code hl_variable" href="struct_r_g_w_orphan_search_info.html#a58b78f675e8169486c575e6beb8e4cc7">num_shards</a> = num_shards;</div>
<div class="line"><span class="lineno"> 7992</span> </div>
<div class="line"><span class="lineno"> 7993</span>    <span class="keywordtype">int</span> ret = search.init(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>(), job_id, &amp;info, <a class="code hl_namespace" href="namespacedetail.html">detail</a>);</div>
<div class="line"><span class="lineno"> 7994</span>    <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno"> 7995</span>      cerr &lt;&lt; <span class="stringliteral">&quot;could not init search, ret=&quot;</span> &lt;&lt; ret &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 7996</span>      <span class="keywordflow">return</span> -ret;</div>
<div class="line"><span class="lineno"> 7997</span>    }</div>
<div class="line"><span class="lineno"> 7998</span>    ret = search.run(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>());</div>
<div class="line"><span class="lineno"> 7999</span>    <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno"> 8000</span>      <span class="keywordflow">return</span> -ret;</div>
<div class="line"><span class="lineno"> 8001</span>    }</div>
<div class="line"><span class="lineno"> 8002</span>  }</div>
<div class="line"><span class="lineno"> 8003</span> </div>
<div class="line"><span class="lineno"> 8004</span>  <span class="keywordflow">if</span> (opt_cmd == OPT::ORPHANS_FINISH) {</div>
<div class="line"><span class="lineno"> 8005</span>    <span class="keywordflow">if</span> (!yes_i_really_mean_it) {</div>
<div class="line"><span class="lineno"> 8006</span>      cerr &lt;&lt; <span class="stringliteral">&quot;this command is now deprecated; please consider using the rgw-orphan-list tool; &quot;</span></div>
<div class="line"><span class="lineno"> 8007</span>       &lt;&lt; <span class="stringliteral">&quot;accidental removal of active objects cannot be reversed; &quot;</span></div>
<div class="line"><span class="lineno"> 8008</span>       &lt;&lt; <span class="stringliteral">&quot;do you really mean it? (requires --yes-i-really-mean-it)&quot;</span></div>
<div class="line"><span class="lineno"> 8009</span>       &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 8010</span>      <span class="keywordflow">return</span> EINVAL;</div>
<div class="line"><span class="lineno"> 8011</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 8012</span>      cerr &lt;&lt; <span class="stringliteral">&quot;IMPORTANT: this command is now deprecated; please consider using the rgw-orphan-list tool&quot;</span></div>
<div class="line"><span class="lineno"> 8013</span>       &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 8014</span>    }</div>
<div class="line"><span class="lineno"> 8015</span> </div>
<div class="line"><span class="lineno"> 8016</span>    <a class="code hl_class" href="class_r_g_w_orphan_search.html">RGWOrphanSearch</a> search(<span class="keyword">static_cast&lt;</span><a class="code hl_class" href="classrgw_1_1sal_1_1_rados_store.html">rgw::sal::RadosStore</a>*<span class="keyword">&gt;</span>(<a class="code hl_variable" href="rgw__admin_8cc.html#a6fdb26d64b14d837b60e83a6ca3e2863">store</a>), max_concurrent_ios, orphan_stale_secs);</div>
<div class="line"><span class="lineno"> 8017</span> </div>
<div class="line"><span class="lineno"> 8018</span>    <span class="keywordflow">if</span> (job_id.empty()) {</div>
<div class="line"><span class="lineno"> 8019</span>      cerr &lt;&lt; <span class="stringliteral">&quot;ERROR: --job-id not specified&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 8020</span>      <span class="keywordflow">return</span> EINVAL;</div>
<div class="line"><span class="lineno"> 8021</span>    }</div>
<div class="line"><span class="lineno"> 8022</span>    <span class="keywordtype">int</span> ret = search.init(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>(), job_id, NULL);</div>
<div class="line"><span class="lineno"> 8023</span>    <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno"> 8024</span>      <span class="keywordflow">if</span> (ret == -ENOENT) {</div>
<div class="line"><span class="lineno"> 8025</span>        cerr &lt;&lt; <span class="stringliteral">&quot;job not found&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 8026</span>      }</div>
<div class="line"><span class="lineno"> 8027</span>      <span class="keywordflow">return</span> -ret;</div>
<div class="line"><span class="lineno"> 8028</span>    }</div>
<div class="line"><span class="lineno"> 8029</span>    ret = search.finish();</div>
<div class="line"><span class="lineno"> 8030</span>    <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno"> 8031</span>      <span class="keywordflow">return</span> -ret;</div>
<div class="line"><span class="lineno"> 8032</span>    }</div>
<div class="line"><span class="lineno"> 8033</span>  }</div>
<div class="line"><span class="lineno"> 8034</span> </div>
<div class="line"><span class="lineno"> 8035</span>  <span class="keywordflow">if</span> (opt_cmd == OPT::ORPHANS_LIST_JOBS){</div>
<div class="line"><span class="lineno"> 8036</span>    <span class="keywordflow">if</span> (!yes_i_really_mean_it) {</div>
<div class="line"><span class="lineno"> 8037</span>      cerr &lt;&lt; <span class="stringliteral">&quot;this command is now deprecated; please consider using the rgw-orphan-list tool; &quot;</span></div>
<div class="line"><span class="lineno"> 8038</span>       &lt;&lt; <span class="stringliteral">&quot;do you really mean it? (requires --yes-i-really-mean-it)&quot;</span></div>
<div class="line"><span class="lineno"> 8039</span>       &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 8040</span>      <span class="keywordflow">return</span> EINVAL;</div>
<div class="line"><span class="lineno"> 8041</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 8042</span>      cerr &lt;&lt; <span class="stringliteral">&quot;IMPORTANT: this command is now deprecated; please consider using the rgw-orphan-list tool&quot;</span></div>
<div class="line"><span class="lineno"> 8043</span>       &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 8044</span>    }</div>
<div class="line"><span class="lineno"> 8045</span> </div>
<div class="line"><span class="lineno"> 8046</span>    <a class="code hl_class" href="class_r_g_w_orphan_store.html">RGWOrphanStore</a> orphan_store(<span class="keyword">static_cast&lt;</span><a class="code hl_class" href="classrgw_1_1sal_1_1_rados_store.html">rgw::sal::RadosStore</a>*<span class="keyword">&gt;</span>(<a class="code hl_variable" href="rgw__admin_8cc.html#a6fdb26d64b14d837b60e83a6ca3e2863">store</a>));</div>
<div class="line"><span class="lineno"> 8047</span>    <span class="keywordtype">int</span> ret = orphan_store.init(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>());</div>
<div class="line"><span class="lineno"> 8048</span>    <span class="keywordflow">if</span> (ret &lt; 0){</div>
<div class="line"><span class="lineno"> 8049</span>      cerr &lt;&lt; <span class="stringliteral">&quot;connection to cluster failed!&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 8050</span>      <span class="keywordflow">return</span> -ret;</div>
<div class="line"><span class="lineno"> 8051</span>    }</div>
<div class="line"><span class="lineno"> 8052</span> </div>
<div class="line"><span class="lineno"> 8053</span>    map &lt;string,RGWOrphanSearchState&gt; m;</div>
<div class="line"><span class="lineno"> 8054</span>    ret = orphan_store.list_jobs(m);</div>
<div class="line"><span class="lineno"> 8055</span>    <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno"> 8056</span>      cerr &lt;&lt; <span class="stringliteral">&quot;job list failed&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 8057</span>      <span class="keywordflow">return</span> -ret;</div>
<div class="line"><span class="lineno"> 8058</span>    }</div>
<div class="line"><span class="lineno"> 8059</span>    formatter-&gt;open_array_section(<span class="stringliteral">&quot;entries&quot;</span>);</div>
<div class="line"><span class="lineno"> 8060</span>    <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp;it: m){</div>
<div class="line"><span class="lineno"> 8061</span>      <span class="keywordflow">if</span> (!extra_info){</div>
<div class="line"><span class="lineno"> 8062</span>    formatter-&gt;dump_string(<span class="stringliteral">&quot;job-id&quot;</span>,it.first);</div>
<div class="line"><span class="lineno"> 8063</span>      } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 8064</span>    <a class="code hl_function" href="rgw__admin_8cc.html#ab596b9e1a1fc78e98a4d13a66578b658">encode_json</a>(<span class="stringliteral">&quot;orphan_search_state&quot;</span>, it.second, formatter.get());</div>
<div class="line"><span class="lineno"> 8065</span>      }</div>
<div class="line"><span class="lineno"> 8066</span>    }</div>
<div class="line"><span class="lineno"> 8067</span>    formatter-&gt;close_section();</div>
<div class="line"><span class="lineno"> 8068</span>    formatter-&gt;flush(cout);</div>
<div class="line"><span class="lineno"> 8069</span>  }</div>
<div class="line"><span class="lineno"> 8070</span> </div>
<div class="line"><span class="lineno"> 8071</span>  <span class="keywordflow">if</span> (opt_cmd == OPT::USER_CHECK) {</div>
<div class="line"><span class="lineno"> 8072</span>    <a class="code hl_function" href="rgw__bucket_8cc.html#ab5abdb1c9b803330f39b5968c6522820">check_bad_user_bucket_mapping</a>(<a class="code hl_variable" href="rgw__admin_8cc.html#a6fdb26d64b14d837b60e83a6ca3e2863">store</a>, *<a class="code hl_variable" href="structrgw__log__entry.html#a35ae5bdbb5f60664f0a367d5c3ad9efe">user</a>.get(), fix, null_yield, <a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>());</div>
<div class="line"><span class="lineno"> 8073</span>  }</div>
<div class="line"><span class="lineno"> 8074</span> </div>
<div class="line"><span class="lineno"> 8075</span>  <span class="keywordflow">if</span> (opt_cmd == OPT::USER_STATS) {</div>
<div class="line"><span class="lineno"> 8076</span>    <span class="keywordflow">if</span> (<a class="code hl_function" href="classrgw_1_1sal_1_1_user.html#a96e608798e4a45601e3d9f223bdbcb9b">rgw::sal::User::empty</a>(<a class="code hl_variable" href="structrgw__log__entry.html#a35ae5bdbb5f60664f0a367d5c3ad9efe">user</a>)) {</div>
<div class="line"><span class="lineno"> 8077</span>      cerr &lt;&lt; <span class="stringliteral">&quot;ERROR: uid not specified&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 8078</span>      <span class="keywordflow">return</span> EINVAL;</div>
<div class="line"><span class="lineno"> 8079</span>    }</div>
<div class="line"><span class="lineno"> 8080</span>    <span class="keywordflow">if</span> (reset_stats) {</div>
<div class="line"><span class="lineno"> 8081</span>      <span class="keywordflow">if</span> (!bucket_name.empty()) {</div>
<div class="line"><span class="lineno"> 8082</span>    cerr &lt;&lt; <span class="stringliteral">&quot;ERROR: --reset-stats does not work on buckets and &quot;</span></div>
<div class="line"><span class="lineno"> 8083</span>      <span class="stringliteral">&quot;bucket specified&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 8084</span>    <span class="keywordflow">return</span> EINVAL;</div>
<div class="line"><span class="lineno"> 8085</span>      }</div>
<div class="line"><span class="lineno"> 8086</span>      <span class="keywordflow">if</span> (sync_stats) {</div>
<div class="line"><span class="lineno"> 8087</span>    cerr &lt;&lt; <span class="stringliteral">&quot;ERROR: sync-stats includes the reset-stats functionality, &quot;</span></div>
<div class="line"><span class="lineno"> 8088</span>      <span class="stringliteral">&quot;so at most one of the two should be specified&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 8089</span>    <span class="keywordflow">return</span> EINVAL;</div>
<div class="line"><span class="lineno"> 8090</span>      }</div>
<div class="line"><span class="lineno"> 8091</span>      ret = <span class="keyword">static_cast&lt;</span><a class="code hl_class" href="classrgw_1_1sal_1_1_rados_store.html">rgw::sal::RadosStore</a>*<span class="keyword">&gt;</span>(<a class="code hl_variable" href="rgw__admin_8cc.html#a6fdb26d64b14d837b60e83a6ca3e2863">store</a>)-&gt;ctl()-&gt;user-&gt;reset_stats(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>(), <a class="code hl_variable" href="structrgw__log__entry.html#a35ae5bdbb5f60664f0a367d5c3ad9efe">user</a>-&gt;get_id(), null_yield);</div>
<div class="line"><span class="lineno"> 8092</span>      <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno"> 8093</span>    cerr &lt;&lt; <span class="stringliteral">&quot;ERROR: could not reset user stats: &quot;</span> &lt;&lt; cpp_strerror(-ret) &lt;&lt;</div>
<div class="line"><span class="lineno"> 8094</span>      std::endl;</div>
<div class="line"><span class="lineno"> 8095</span>    <span class="keywordflow">return</span> -ret;</div>
<div class="line"><span class="lineno"> 8096</span>      }</div>
<div class="line"><span class="lineno"> 8097</span>    }</div>
<div class="line"><span class="lineno"> 8098</span> </div>
<div class="line"><span class="lineno"> 8099</span>    <span class="keywordflow">if</span> (sync_stats) {</div>
<div class="line"><span class="lineno"> 8100</span>      <span class="keywordflow">if</span> (!bucket_name.empty()) {</div>
<div class="line"><span class="lineno"> 8101</span>        <span class="keywordtype">int</span> ret = <a class="code hl_function" href="rgw__admin_8cc.html#a0023a8779e3ab0d965d9acfb3eb72cac">init_bucket</a>(<a class="code hl_variable" href="structrgw__log__entry.html#a35ae5bdbb5f60664f0a367d5c3ad9efe">user</a>.get(), tenant, bucket_name, <a class="code hl_variable" href="structrgw__log__entry.html#ade138581b4da0c38466f03c320bdd1ee">bucket_id</a>, &amp;<a class="code hl_variable" href="structrgw__log__entry.html#abe38126b4342e5e27a847c7850bb58d4">bucket</a>);</div>
<div class="line"><span class="lineno"> 8102</span>        <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno"> 8103</span>          cerr &lt;&lt; <span class="stringliteral">&quot;ERROR: could not init bucket: &quot;</span> &lt;&lt; cpp_strerror(-ret) &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 8104</span>          <span class="keywordflow">return</span> -ret;</div>
<div class="line"><span class="lineno"> 8105</span>        }</div>
<div class="line"><span class="lineno"> 8106</span>        ret = <a class="code hl_variable" href="structrgw__log__entry.html#abe38126b4342e5e27a847c7850bb58d4">bucket</a>-&gt;sync_user_stats(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>(), null_yield);</div>
<div class="line"><span class="lineno"> 8107</span>        <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno"> 8108</span>          cerr &lt;&lt; <span class="stringliteral">&quot;ERROR: could not sync bucket stats: &quot;</span> &lt;&lt;</div>
<div class="line"><span class="lineno"> 8109</span>        cpp_strerror(-ret) &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 8110</span>          <span class="keywordflow">return</span> -ret;</div>
<div class="line"><span class="lineno"> 8111</span>        }</div>
<div class="line"><span class="lineno"> 8112</span>      } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 8113</span>        <span class="keywordtype">int</span> ret = <a class="code hl_function" href="rgw__user_8cc.html#a0b7e6440cbb2ebcb943ea147021697a0">rgw_user_sync_all_stats</a>(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>(), <a class="code hl_variable" href="rgw__admin_8cc.html#a6fdb26d64b14d837b60e83a6ca3e2863">store</a>, <a class="code hl_variable" href="structrgw__log__entry.html#a35ae5bdbb5f60664f0a367d5c3ad9efe">user</a>.get(), null_yield);</div>
<div class="line"><span class="lineno"> 8114</span>        <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno"> 8115</span>          cerr &lt;&lt; <span class="stringliteral">&quot;ERROR: could not sync user stats: &quot;</span> &lt;&lt;</div>
<div class="line"><span class="lineno"> 8116</span>        cpp_strerror(-ret) &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 8117</span>          <span class="keywordflow">return</span> -ret;</div>
<div class="line"><span class="lineno"> 8118</span>        }</div>
<div class="line"><span class="lineno"> 8119</span>      }</div>
<div class="line"><span class="lineno"> 8120</span>    }</div>
<div class="line"><span class="lineno"> 8121</span> </div>
<div class="line"><span class="lineno"> 8122</span>    <span class="keyword">constexpr</span> <span class="keywordtype">bool</span> omit_utilized_stats = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 8123</span>    <a class="code hl_struct" href="struct_r_g_w_storage_stats.html">RGWStorageStats</a> stats(omit_utilized_stats);</div>
<div class="line"><span class="lineno"> 8124</span>    ceph::real_time last_stats_sync;</div>
<div class="line"><span class="lineno"> 8125</span>    ceph::real_time last_stats_update;</div>
<div class="line"><span class="lineno"> 8126</span>    <span class="keywordtype">int</span> ret = <span class="keyword">static_cast&lt;</span><a class="code hl_class" href="classrgw_1_1sal_1_1_rados_store.html">rgw::sal::RadosStore</a>*<span class="keyword">&gt;</span>(<a class="code hl_variable" href="rgw__admin_8cc.html#a6fdb26d64b14d837b60e83a6ca3e2863">store</a>)-&gt;ctl()-&gt;user-&gt;read_stats(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>(), <a class="code hl_variable" href="structrgw__log__entry.html#a35ae5bdbb5f60664f0a367d5c3ad9efe">user</a>-&gt;get_id(), &amp;stats, null_yield,</div>
<div class="line"><span class="lineno"> 8127</span>                                         &amp;last_stats_sync,</div>
<div class="line"><span class="lineno"> 8128</span>                                         &amp;last_stats_update);</div>
<div class="line"><span class="lineno"> 8129</span>    <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno"> 8130</span>      <span class="keywordflow">if</span> (ret == -ENOENT) { <span class="comment">/* in case of ENOENT */</span></div>
<div class="line"><span class="lineno"> 8131</span>        cerr &lt;&lt; <span class="stringliteral">&quot;User has not been initialized or user does not exist&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 8132</span>      } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 8133</span>        cerr &lt;&lt; <span class="stringliteral">&quot;ERROR: can&#39;t read user: &quot;</span> &lt;&lt; cpp_strerror(ret) &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 8134</span>      }</div>
<div class="line"><span class="lineno"> 8135</span>      <span class="keywordflow">return</span> -ret;</div>
<div class="line"><span class="lineno"> 8136</span>    }</div>
<div class="line"><span class="lineno"> 8137</span> </div>
<div class="line"><span class="lineno"> 8138</span> </div>
<div class="line"><span class="lineno"> 8139</span>    {</div>
<div class="line"><span class="lineno"> 8140</span>      Formatter::ObjectSection os(*formatter, <span class="stringliteral">&quot;result&quot;</span>);</div>
<div class="line"><span class="lineno"> 8141</span>      <a class="code hl_function" href="rgw__admin_8cc.html#ab596b9e1a1fc78e98a4d13a66578b658">encode_json</a>(<span class="stringliteral">&quot;stats&quot;</span>, stats, formatter.get());</div>
<div class="line"><span class="lineno"> 8142</span>      utime_t last_sync_ut(last_stats_sync);</div>
<div class="line"><span class="lineno"> 8143</span>      <a class="code hl_function" href="rgw__admin_8cc.html#ab596b9e1a1fc78e98a4d13a66578b658">encode_json</a>(<span class="stringliteral">&quot;last_stats_sync&quot;</span>, last_sync_ut, formatter.get());</div>
<div class="line"><span class="lineno"> 8144</span>      utime_t last_update_ut(last_stats_update);</div>
<div class="line"><span class="lineno"> 8145</span>      <a class="code hl_function" href="rgw__admin_8cc.html#ab596b9e1a1fc78e98a4d13a66578b658">encode_json</a>(<span class="stringliteral">&quot;last_stats_update&quot;</span>, last_update_ut, formatter.get());</div>
<div class="line"><span class="lineno"> 8146</span>    }</div>
<div class="line"><span class="lineno"> 8147</span>    formatter-&gt;flush(cout);</div>
<div class="line"><span class="lineno"> 8148</span>  }</div>
<div class="line"><span class="lineno"> 8149</span> </div>
<div class="line"><span class="lineno"> 8150</span>  <span class="keywordflow">if</span> (opt_cmd == OPT::METADATA_GET) {</div>
<div class="line"><span class="lineno"> 8151</span>    <span class="keywordtype">int</span> ret = <span class="keyword">static_cast&lt;</span><a class="code hl_class" href="classrgw_1_1sal_1_1_rados_store.html">rgw::sal::RadosStore</a>*<span class="keyword">&gt;</span>(<a class="code hl_variable" href="rgw__admin_8cc.html#a6fdb26d64b14d837b60e83a6ca3e2863">store</a>)-&gt;ctl()-&gt;meta.mgr-&gt;get(metadata_key, formatter.get(), null_yield, <a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>());</div>
<div class="line"><span class="lineno"> 8152</span>    <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno"> 8153</span>      cerr &lt;&lt; <span class="stringliteral">&quot;ERROR: can&#39;t get key: &quot;</span> &lt;&lt; cpp_strerror(-ret) &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 8154</span>      <span class="keywordflow">return</span> -ret;</div>
<div class="line"><span class="lineno"> 8155</span>    }</div>
<div class="line"><span class="lineno"> 8156</span> </div>
<div class="line"><span class="lineno"> 8157</span>    formatter-&gt;flush(cout);</div>
<div class="line"><span class="lineno"> 8158</span>  }</div>
<div class="line"><span class="lineno"> 8159</span> </div>
<div class="line"><span class="lineno"> 8160</span>  <span class="keywordflow">if</span> (opt_cmd == OPT::METADATA_PUT) {</div>
<div class="line"><span class="lineno"> 8161</span>    bufferlist bl;</div>
<div class="line"><span class="lineno"> 8162</span>    <span class="keywordtype">int</span> ret = <a class="code hl_function" href="rgw__admin_8cc.html#a4370c2bc6e6412e65a17072ecebfc3b6">read_input</a>(infile, bl);</div>
<div class="line"><span class="lineno"> 8163</span>    <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno"> 8164</span>      cerr &lt;&lt; <span class="stringliteral">&quot;ERROR: failed to read input: &quot;</span> &lt;&lt; cpp_strerror(-ret) &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 8165</span>      <span class="keywordflow">return</span> -ret;</div>
<div class="line"><span class="lineno"> 8166</span>    }</div>
<div class="line"><span class="lineno"> 8167</span>    ret = <span class="keyword">static_cast&lt;</span><a class="code hl_class" href="classrgw_1_1sal_1_1_rados_store.html">rgw::sal::RadosStore</a>*<span class="keyword">&gt;</span>(<a class="code hl_variable" href="rgw__admin_8cc.html#a6fdb26d64b14d837b60e83a6ca3e2863">store</a>)-&gt;ctl()-&gt;meta.mgr-&gt;put(metadata_key, bl, null_yield, <a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>(), <a class="code hl_enumvalue" href="rgw__mdlog__types_8h.html#afdb3e20592f34bf99849a1cb2906ad09a6d6e31e749fd1c3a013f5c72bb6ed912">RGWMDLogSyncType::APPLY_ALWAYS</a>, <span class="keyword">false</span>);</div>
<div class="line"><span class="lineno"> 8168</span>    <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno"> 8169</span>      cerr &lt;&lt; <span class="stringliteral">&quot;ERROR: can&#39;t put key: &quot;</span> &lt;&lt; cpp_strerror(-ret) &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 8170</span>      <span class="keywordflow">return</span> -ret;</div>
<div class="line"><span class="lineno"> 8171</span>    }</div>
<div class="line"><span class="lineno"> 8172</span>  }</div>
<div class="line"><span class="lineno"> 8173</span> </div>
<div class="line"><span class="lineno"> 8174</span>  <span class="keywordflow">if</span> (opt_cmd == OPT::METADATA_RM) {</div>
<div class="line"><span class="lineno"> 8175</span>    <span class="keywordtype">int</span> ret = <span class="keyword">static_cast&lt;</span><a class="code hl_class" href="classrgw_1_1sal_1_1_rados_store.html">rgw::sal::RadosStore</a>*<span class="keyword">&gt;</span>(<a class="code hl_variable" href="rgw__admin_8cc.html#a6fdb26d64b14d837b60e83a6ca3e2863">store</a>)-&gt;ctl()-&gt;meta.mgr-&gt;remove(metadata_key, null_yield, <a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>());</div>
<div class="line"><span class="lineno"> 8176</span>    <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno"> 8177</span>      cerr &lt;&lt; <span class="stringliteral">&quot;ERROR: can&#39;t remove key: &quot;</span> &lt;&lt; cpp_strerror(-ret) &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 8178</span>      <span class="keywordflow">return</span> -ret;</div>
<div class="line"><span class="lineno"> 8179</span>    }</div>
<div class="line"><span class="lineno"> 8180</span>  }</div>
<div class="line"><span class="lineno"> 8181</span> </div>
<div class="line"><span class="lineno"> 8182</span>  <span class="keywordflow">if</span> (opt_cmd == OPT::METADATA_LIST || opt_cmd == OPT::USER_LIST) {</div>
<div class="line"><span class="lineno"> 8183</span>    <span class="keywordflow">if</span> (opt_cmd == OPT::USER_LIST) {</div>
<div class="line"><span class="lineno"> 8184</span>      metadata_key = <span class="stringliteral">&quot;user&quot;</span>;</div>
<div class="line"><span class="lineno"> 8185</span>    }</div>
<div class="line"><span class="lineno"> 8186</span>    <span class="keywordtype">void</span> *handle;</div>
<div class="line"><span class="lineno"> 8187</span>    <span class="keywordtype">int</span> max = 1000;</div>
<div class="line"><span class="lineno"> 8188</span>    <span class="keywordtype">int</span> ret = <a class="code hl_variable" href="rgw__admin_8cc.html#a6fdb26d64b14d837b60e83a6ca3e2863">store</a>-&gt;<a class="code hl_function" href="classrgw_1_1sal_1_1_store.html#abf1d7c4cb44101b210905378cba4996c">meta_list_keys_init</a>(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>(), metadata_key, marker, &amp;handle);</div>
<div class="line"><span class="lineno"> 8189</span>    <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno"> 8190</span>      cerr &lt;&lt; <span class="stringliteral">&quot;ERROR: can&#39;t get key: &quot;</span> &lt;&lt; cpp_strerror(-ret) &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 8191</span>      <span class="keywordflow">return</span> -ret;</div>
<div class="line"><span class="lineno"> 8192</span>    }</div>
<div class="line"><span class="lineno"> 8193</span> </div>
<div class="line"><span class="lineno"> 8194</span>    <span class="keywordtype">bool</span> truncated;</div>
<div class="line"><span class="lineno"> 8195</span>    uint64_t <a class="code hl_enumvalue" href="namespacergw_1_1dmclock.html#a6ed0c6ad7f7fc29a06f52a0070d21493ae2942a04780e223b215eb8b663cf5353">count</a> = 0;</div>
<div class="line"><span class="lineno"> 8196</span> </div>
<div class="line"><span class="lineno"> 8197</span>    <span class="keywordflow">if</span> (max_entries_specified) {</div>
<div class="line"><span class="lineno"> 8198</span>      formatter-&gt;open_object_section(<span class="stringliteral">&quot;result&quot;</span>);</div>
<div class="line"><span class="lineno"> 8199</span>    }</div>
<div class="line"><span class="lineno"> 8200</span>    formatter-&gt;open_array_section(<span class="stringliteral">&quot;keys&quot;</span>);</div>
<div class="line"><span class="lineno"> 8201</span> </div>
<div class="line"><span class="lineno"> 8202</span>    uint64_t left;</div>
<div class="line"><span class="lineno"> 8203</span>    <span class="keywordflow">do</span> {</div>
<div class="line"><span class="lineno"> 8204</span>      list&lt;string&gt; keys;</div>
<div class="line"><span class="lineno"> 8205</span>      left = (max_entries_specified ? max_entries - <a class="code hl_enumvalue" href="namespacergw_1_1dmclock.html#a6ed0c6ad7f7fc29a06f52a0070d21493ae2942a04780e223b215eb8b663cf5353">count</a> : max);</div>
<div class="line"><span class="lineno"> 8206</span>      ret = <a class="code hl_variable" href="rgw__admin_8cc.html#a6fdb26d64b14d837b60e83a6ca3e2863">store</a>-&gt;<a class="code hl_function" href="classrgw_1_1sal_1_1_store.html#aa62a988d794ce85c15622a9f40a91876">meta_list_keys_next</a>(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>(), handle, left, keys, &amp;truncated);</div>
<div class="line"><span class="lineno"> 8207</span>      <span class="keywordflow">if</span> (ret &lt; 0 &amp;&amp; ret != -ENOENT) {</div>
<div class="line"><span class="lineno"> 8208</span>        cerr &lt;&lt; <span class="stringliteral">&quot;ERROR: lists_keys_next(): &quot;</span> &lt;&lt; cpp_strerror(-ret) &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 8209</span>        <span class="keywordflow">return</span> -ret;</div>
<div class="line"><span class="lineno"> 8210</span>      } <span class="keywordflow">if</span> (ret != -ENOENT) {</div>
<div class="line"><span class="lineno"> 8211</span>    <span class="keywordflow">for</span> (list&lt;string&gt;::iterator iter = keys.begin(); iter != keys.end(); ++iter) {</div>
<div class="line"><span class="lineno"> 8212</span>      formatter-&gt;dump_string(<span class="stringliteral">&quot;key&quot;</span>, *iter);</div>
<div class="line"><span class="lineno"> 8213</span>          ++<a class="code hl_enumvalue" href="namespacergw_1_1dmclock.html#a6ed0c6ad7f7fc29a06f52a0070d21493ae2942a04780e223b215eb8b663cf5353">count</a>;</div>
<div class="line"><span class="lineno"> 8214</span>    }</div>
<div class="line"><span class="lineno"> 8215</span>    formatter-&gt;flush(cout);</div>
<div class="line"><span class="lineno"> 8216</span>      }</div>
<div class="line"><span class="lineno"> 8217</span>    } <span class="keywordflow">while</span> (truncated &amp;&amp; left &gt; 0);</div>
<div class="line"><span class="lineno"> 8218</span> </div>
<div class="line"><span class="lineno"> 8219</span>    formatter-&gt;close_section();</div>
<div class="line"><span class="lineno"> 8220</span> </div>
<div class="line"><span class="lineno"> 8221</span>    <span class="keywordflow">if</span> (max_entries_specified) {</div>
<div class="line"><span class="lineno"> 8222</span>      <a class="code hl_function" href="rgw__admin_8cc.html#ab596b9e1a1fc78e98a4d13a66578b658">encode_json</a>(<span class="stringliteral">&quot;truncated&quot;</span>, truncated, formatter.get());</div>
<div class="line"><span class="lineno"> 8223</span>      <a class="code hl_function" href="rgw__admin_8cc.html#ab596b9e1a1fc78e98a4d13a66578b658">encode_json</a>(<span class="stringliteral">&quot;count&quot;</span>, count, formatter.get());</div>
<div class="line"><span class="lineno"> 8224</span>      <span class="keywordflow">if</span> (truncated) {</div>
<div class="line"><span class="lineno"> 8225</span>        <a class="code hl_function" href="rgw__admin_8cc.html#ab596b9e1a1fc78e98a4d13a66578b658">encode_json</a>(<span class="stringliteral">&quot;marker&quot;</span>, <a class="code hl_variable" href="rgw__admin_8cc.html#a6fdb26d64b14d837b60e83a6ca3e2863">store</a>-&gt;<a class="code hl_function" href="classrgw_1_1sal_1_1_store.html#a67934b27b4c064265a12f922f9baa6c4">meta_get_marker</a>(handle), formatter.get());</div>
<div class="line"><span class="lineno"> 8226</span>      }</div>
<div class="line"><span class="lineno"> 8227</span>      formatter-&gt;close_section();</div>
<div class="line"><span class="lineno"> 8228</span>    }</div>
<div class="line"><span class="lineno"> 8229</span>    formatter-&gt;flush(cout);</div>
<div class="line"><span class="lineno"> 8230</span> </div>
<div class="line"><span class="lineno"> 8231</span>    <a class="code hl_variable" href="rgw__admin_8cc.html#a6fdb26d64b14d837b60e83a6ca3e2863">store</a>-&gt;<a class="code hl_function" href="classrgw_1_1sal_1_1_store.html#afe7cd14febe2f66e06aa51aee73d0a6d">meta_list_keys_complete</a>(handle);</div>
<div class="line"><span class="lineno"> 8232</span>  }</div>
<div class="line"><span class="lineno"> 8233</span> </div>
<div class="line"><span class="lineno"> 8234</span>  <span class="keywordflow">if</span> (opt_cmd == OPT::MDLOG_LIST) {</div>
<div class="line"><span class="lineno"> 8235</span>    <span class="keywordflow">if</span> (!start_date.empty()) {</div>
<div class="line"><span class="lineno"> 8236</span>      std::cerr &lt;&lt; <span class="stringliteral">&quot;start-date not allowed.&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 8237</span>      <span class="keywordflow">return</span> -EINVAL;</div>
<div class="line"><span class="lineno"> 8238</span>    }</div>
<div class="line"><span class="lineno"> 8239</span>    <span class="keywordflow">if</span> (!end_date.empty()) {</div>
<div class="line"><span class="lineno"> 8240</span>      std::cerr &lt;&lt; <span class="stringliteral">&quot;end-date not allowed.&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 8241</span>      <span class="keywordflow">return</span> -EINVAL;</div>
<div class="line"><span class="lineno"> 8242</span>    }</div>
<div class="line"><span class="lineno"> 8243</span>    <span class="keywordflow">if</span> (!end_marker.empty()) {</div>
<div class="line"><span class="lineno"> 8244</span>      std::cerr &lt;&lt; <span class="stringliteral">&quot;end-marker not allowed.&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 8245</span>      <span class="keywordflow">return</span> -EINVAL;</div>
<div class="line"><span class="lineno"> 8246</span>    }</div>
<div class="line"><span class="lineno"> 8247</span>    <span class="keywordflow">if</span> (!start_marker.empty()) {</div>
<div class="line"><span class="lineno"> 8248</span>      <span class="keywordflow">if</span> (marker.empty()) {</div>
<div class="line"><span class="lineno"> 8249</span>    marker = start_marker;</div>
<div class="line"><span class="lineno"> 8250</span>      } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 8251</span>    std::cerr &lt;&lt; <span class="stringliteral">&quot;start-marker and marker not both allowed.&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 8252</span>    <span class="keywordflow">return</span> -EINVAL;</div>
<div class="line"><span class="lineno"> 8253</span>      }</div>
<div class="line"><span class="lineno"> 8254</span>    }</div>
<div class="line"><span class="lineno"> 8255</span> </div>
<div class="line"><span class="lineno"> 8256</span>    <span class="keywordtype">int</span> i = (specified_shard_id ? shard_id : 0);</div>
<div class="line"><span class="lineno"> 8257</span> </div>
<div class="line"><span class="lineno"> 8258</span>    <span class="keywordflow">if</span> (period_id.empty()) {</div>
<div class="line"><span class="lineno"> 8259</span>      <span class="keywordtype">int</span> ret = <a class="code hl_function" href="rgw__admin_8cc.html#a925d03f534fd8c7fe90e906e741a925b">read_current_period_id</a>(<span class="keyword">static_cast&lt;</span><a class="code hl_class" href="classrgw_1_1sal_1_1_rados_store.html">rgw::sal::RadosStore</a>*<span class="keyword">&gt;</span>(<a class="code hl_variable" href="rgw__admin_8cc.html#a6fdb26d64b14d837b60e83a6ca3e2863">store</a>), realm_id, realm_name, &amp;period_id);</div>
<div class="line"><span class="lineno"> 8260</span>      <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno"> 8261</span>        <span class="keywordflow">return</span> -ret;</div>
<div class="line"><span class="lineno"> 8262</span>      }</div>
<div class="line"><span class="lineno"> 8263</span>      std::cerr &lt;&lt; <span class="stringliteral">&quot;No --period given, using current period=&quot;</span></div>
<div class="line"><span class="lineno"> 8264</span>          &lt;&lt; period_id &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 8265</span>    }</div>
<div class="line"><span class="lineno"> 8266</span>    <a class="code hl_class" href="class_r_g_w_metadata_log.html">RGWMetadataLog</a> *meta_log = <span class="keyword">static_cast&lt;</span><a class="code hl_class" href="classrgw_1_1sal_1_1_rados_store.html">rgw::sal::RadosStore</a>*<span class="keyword">&gt;</span>(<a class="code hl_variable" href="rgw__admin_8cc.html#a6fdb26d64b14d837b60e83a6ca3e2863">store</a>)-&gt;svc()-&gt;mdlog-&gt;get_log(period_id);</div>
<div class="line"><span class="lineno"> 8267</span> </div>
<div class="line"><span class="lineno"> 8268</span>    formatter-&gt;open_array_section(<span class="stringliteral">&quot;entries&quot;</span>);</div>
<div class="line"><span class="lineno"> 8269</span>    <span class="keywordflow">for</span> (; i &lt; g_ceph_context-&gt;_conf-&gt;rgw_md_log_max_shards; i++) {</div>
<div class="line"><span class="lineno"> 8270</span>      <span class="keywordtype">void</span> *handle;</div>
<div class="line"><span class="lineno"> 8271</span>      list&lt;cls_log_entry&gt; <a class="code hl_variable" href="cls__fifo__legacy_8cc.html#a0341b0ec09e77f9d6274d5b1517f7711">entries</a>;</div>
<div class="line"><span class="lineno"> 8272</span> </div>
<div class="line"><span class="lineno"> 8273</span>      meta_log-&gt;<a class="code hl_function" href="class_r_g_w_metadata_log.html#a295f936c3648c2e53d48616ab3341443">init_list_entries</a>(i, {}, {}, marker, &amp;handle);</div>
<div class="line"><span class="lineno"> 8274</span>      <span class="keywordtype">bool</span> truncated;</div>
<div class="line"><span class="lineno"> 8275</span>      <span class="keywordflow">do</span> {</div>
<div class="line"><span class="lineno"> 8276</span>      <span class="keywordtype">int</span> ret = meta_log-&gt;<a class="code hl_function" href="class_r_g_w_metadata_log.html#ac999a11424ae78de8fc9d2a67271a816">list_entries</a>(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>(), handle, 1000, <a class="code hl_variable" href="cls__fifo__legacy_8cc.html#a0341b0ec09e77f9d6274d5b1517f7711">entries</a>, NULL, &amp;truncated);</div>
<div class="line"><span class="lineno"> 8277</span>        <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno"> 8278</span>          cerr &lt;&lt; <span class="stringliteral">&quot;ERROR: meta_log-&gt;list_entries(): &quot;</span> &lt;&lt; cpp_strerror(-ret) &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 8279</span>          <span class="keywordflow">return</span> -ret;</div>
<div class="line"><span class="lineno"> 8280</span>        }</div>
<div class="line"><span class="lineno"> 8281</span> </div>
<div class="line"><span class="lineno"> 8282</span>        <span class="keywordflow">for</span> (list&lt;cls_log_entry&gt;::iterator iter = <a class="code hl_variable" href="cls__fifo__legacy_8cc.html#a0341b0ec09e77f9d6274d5b1517f7711">entries</a>.begin(); iter != <a class="code hl_variable" href="cls__fifo__legacy_8cc.html#a0341b0ec09e77f9d6274d5b1517f7711">entries</a>.end(); ++iter) {</div>
<div class="line"><span class="lineno"> 8283</span>          cls_log_entry&amp; entry = *iter;</div>
<div class="line"><span class="lineno"> 8284</span>          <span class="keyword">static_cast&lt;</span><a class="code hl_class" href="classrgw_1_1sal_1_1_rados_store.html">rgw::sal::RadosStore</a>*<span class="keyword">&gt;</span>(<a class="code hl_variable" href="rgw__admin_8cc.html#a6fdb26d64b14d837b60e83a6ca3e2863">store</a>)-&gt;ctl()-&gt;meta.mgr-&gt;dump_log_entry(entry, formatter.get());</div>
<div class="line"><span class="lineno"> 8285</span>        }</div>
<div class="line"><span class="lineno"> 8286</span>        formatter-&gt;flush(cout);</div>
<div class="line"><span class="lineno"> 8287</span>      } <span class="keywordflow">while</span> (truncated);</div>
<div class="line"><span class="lineno"> 8288</span> </div>
<div class="line"><span class="lineno"> 8289</span>      meta_log-&gt;<a class="code hl_function" href="class_r_g_w_metadata_log.html#a4afea886b639d8f3a85dfd09fea0eef8">complete_list_entries</a>(handle);</div>
<div class="line"><span class="lineno"> 8290</span> </div>
<div class="line"><span class="lineno"> 8291</span>      <span class="keywordflow">if</span> (specified_shard_id)</div>
<div class="line"><span class="lineno"> 8292</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 8293</span>    }</div>
<div class="line"><span class="lineno"> 8294</span> </div>
<div class="line"><span class="lineno"> 8295</span> </div>
<div class="line"><span class="lineno"> 8296</span>    formatter-&gt;close_section();</div>
<div class="line"><span class="lineno"> 8297</span>    formatter-&gt;flush(cout);</div>
<div class="line"><span class="lineno"> 8298</span>  }</div>
<div class="line"><span class="lineno"> 8299</span> </div>
<div class="line"><span class="lineno"> 8300</span>  <span class="keywordflow">if</span> (opt_cmd == OPT::MDLOG_STATUS) {</div>
<div class="line"><span class="lineno"> 8301</span>    <span class="keywordtype">int</span> i = (specified_shard_id ? shard_id : 0);</div>
<div class="line"><span class="lineno"> 8302</span> </div>
<div class="line"><span class="lineno"> 8303</span>    <span class="keywordflow">if</span> (period_id.empty()) {</div>
<div class="line"><span class="lineno"> 8304</span>      <span class="keywordtype">int</span> ret = <a class="code hl_function" href="rgw__admin_8cc.html#a925d03f534fd8c7fe90e906e741a925b">read_current_period_id</a>(<span class="keyword">static_cast&lt;</span><a class="code hl_class" href="classrgw_1_1sal_1_1_rados_store.html">rgw::sal::RadosStore</a>*<span class="keyword">&gt;</span>(<a class="code hl_variable" href="rgw__admin_8cc.html#a6fdb26d64b14d837b60e83a6ca3e2863">store</a>), realm_id, realm_name, &amp;period_id);</div>
<div class="line"><span class="lineno"> 8305</span>      <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno"> 8306</span>        <span class="keywordflow">return</span> -ret;</div>
<div class="line"><span class="lineno"> 8307</span>      }</div>
<div class="line"><span class="lineno"> 8308</span>      std::cerr &lt;&lt; <span class="stringliteral">&quot;No --period given, using current period=&quot;</span></div>
<div class="line"><span class="lineno"> 8309</span>          &lt;&lt; period_id &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 8310</span>    }</div>
<div class="line"><span class="lineno"> 8311</span>    <a class="code hl_class" href="class_r_g_w_metadata_log.html">RGWMetadataLog</a> *meta_log = <span class="keyword">static_cast&lt;</span><a class="code hl_class" href="classrgw_1_1sal_1_1_rados_store.html">rgw::sal::RadosStore</a>*<span class="keyword">&gt;</span>(<a class="code hl_variable" href="rgw__admin_8cc.html#a6fdb26d64b14d837b60e83a6ca3e2863">store</a>)-&gt;svc()-&gt;mdlog-&gt;get_log(period_id);</div>
<div class="line"><span class="lineno"> 8312</span> </div>
<div class="line"><span class="lineno"> 8313</span>    formatter-&gt;open_array_section(<span class="stringliteral">&quot;entries&quot;</span>);</div>
<div class="line"><span class="lineno"> 8314</span> </div>
<div class="line"><span class="lineno"> 8315</span>    <span class="keywordflow">for</span> (; i &lt; g_ceph_context-&gt;_conf-&gt;rgw_md_log_max_shards; i++) {</div>
<div class="line"><span class="lineno"> 8316</span>      <a class="code hl_struct" href="struct_r_g_w_metadata_log_info.html">RGWMetadataLogInfo</a> info;</div>
<div class="line"><span class="lineno"> 8317</span>      meta_log-&gt;<a class="code hl_function" href="class_r_g_w_metadata_log.html#a7ea29289595d45bcc77508ce0b218b63">get_info</a>(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>(), i, &amp;info);</div>
<div class="line"><span class="lineno"> 8318</span> </div>
<div class="line"><span class="lineno"> 8319</span>      <a class="code hl_function" href="rgw__admin_8cc.html#ab596b9e1a1fc78e98a4d13a66578b658">::encode_json</a>(<span class="stringliteral">&quot;info&quot;</span>, info, formatter.get());</div>
<div class="line"><span class="lineno"> 8320</span> </div>
<div class="line"><span class="lineno"> 8321</span>      <span class="keywordflow">if</span> (specified_shard_id)</div>
<div class="line"><span class="lineno"> 8322</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 8323</span>    }</div>
<div class="line"><span class="lineno"> 8324</span> </div>
<div class="line"><span class="lineno"> 8325</span> </div>
<div class="line"><span class="lineno"> 8326</span>    formatter-&gt;close_section();</div>
<div class="line"><span class="lineno"> 8327</span>    formatter-&gt;flush(cout);</div>
<div class="line"><span class="lineno"> 8328</span>  }</div>
<div class="line"><span class="lineno"> 8329</span> </div>
<div class="line"><span class="lineno"> 8330</span>  <span class="keywordflow">if</span> (opt_cmd == OPT::MDLOG_AUTOTRIM) {</div>
<div class="line"><span class="lineno"> 8331</span>    <span class="comment">// need a full history for purging old mdlog periods</span></div>
<div class="line"><span class="lineno"> 8332</span>    <span class="keyword">static_cast&lt;</span><a class="code hl_class" href="classrgw_1_1sal_1_1_rados_store.html">rgw::sal::RadosStore</a>*<span class="keyword">&gt;</span>(<a class="code hl_variable" href="rgw__admin_8cc.html#a6fdb26d64b14d837b60e83a6ca3e2863">store</a>)-&gt;svc()-&gt;mdlog-&gt;init_oldest_log_period(null_yield, <a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>());</div>
<div class="line"><span class="lineno"> 8333</span> </div>
<div class="line"><span class="lineno"> 8334</span>    <a class="code hl_class" href="class_r_g_w_coroutines_manager.html">RGWCoroutinesManager</a> crs(<a class="code hl_variable" href="rgw__admin_8cc.html#a6fdb26d64b14d837b60e83a6ca3e2863">store</a>-&gt;<a class="code hl_function" href="classrgw_1_1sal_1_1_store.html#aca84a6ff80011b26fcd2fa8526c1152e">ctx</a>(), <a class="code hl_variable" href="rgw__admin_8cc.html#a6fdb26d64b14d837b60e83a6ca3e2863">store</a>-&gt;<a class="code hl_function" href="classrgw_1_1sal_1_1_store.html#a91db16d708ac953cef44535c16457fb5">get_cr_registry</a>());</div>
<div class="line"><span class="lineno"> 8335</span>    <a class="code hl_class" href="class_r_g_w_h_t_t_p_manager.html">RGWHTTPManager</a> http(<a class="code hl_variable" href="rgw__admin_8cc.html#a6fdb26d64b14d837b60e83a6ca3e2863">store</a>-&gt;<a class="code hl_function" href="classrgw_1_1sal_1_1_store.html#aca84a6ff80011b26fcd2fa8526c1152e">ctx</a>(), crs.get_completion_mgr());</div>
<div class="line"><span class="lineno"> 8336</span>    <span class="keywordtype">int</span> ret = http.start();</div>
<div class="line"><span class="lineno"> 8337</span>    <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno"> 8338</span>      cerr &lt;&lt; <span class="stringliteral">&quot;failed to initialize http client with &quot;</span> &lt;&lt; cpp_strerror(ret) &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 8339</span>      <span class="keywordflow">return</span> -ret;</div>
<div class="line"><span class="lineno"> 8340</span>    }</div>
<div class="line"><span class="lineno"> 8341</span> </div>
<div class="line"><span class="lineno"> 8342</span>    <span class="keyword">auto</span> num_shards = g_conf()-&gt;rgw_md_log_max_shards;</div>
<div class="line"><span class="lineno"> 8343</span>    <span class="keyword">auto</span> mltcr = <a class="code hl_function" href="rgw__trim__mdlog_8cc.html#acff811680f80cfbf67cffcb87e7b4ec1">create_admin_meta_log_trim_cr</a>(</div>
<div class="line"><span class="lineno"> 8344</span>      <a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>(), <span class="keyword">static_cast&lt;</span><a class="code hl_class" href="classrgw_1_1sal_1_1_rados_store.html">rgw::sal::RadosStore</a>*<span class="keyword">&gt;</span>(<a class="code hl_variable" href="rgw__admin_8cc.html#a6fdb26d64b14d837b60e83a6ca3e2863">store</a>), &amp;http, num_shards);</div>
<div class="line"><span class="lineno"> 8345</span>    <span class="keywordflow">if</span> (!mltcr) {</div>
<div class="line"><span class="lineno"> 8346</span>      cerr &lt;&lt; <span class="stringliteral">&quot;Cluster misconfigured! Unable to trim.&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 8347</span>      <span class="keywordflow">return</span> -EIO;</div>
<div class="line"><span class="lineno"> 8348</span>    }</div>
<div class="line"><span class="lineno"> 8349</span>    ret = crs.run(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>(), mltcr);</div>
<div class="line"><span class="lineno"> 8350</span>    <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno"> 8351</span>      cerr &lt;&lt; <span class="stringliteral">&quot;automated mdlog trim failed with &quot;</span> &lt;&lt; cpp_strerror(ret) &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 8352</span>      <span class="keywordflow">return</span> -ret;</div>
<div class="line"><span class="lineno"> 8353</span>    }</div>
<div class="line"><span class="lineno"> 8354</span>  }</div>
<div class="line"><span class="lineno"> 8355</span> </div>
<div class="line"><span class="lineno"> 8356</span>  <span class="keywordflow">if</span> (opt_cmd == OPT::MDLOG_TRIM) {</div>
<div class="line"><span class="lineno"> 8357</span>    <span class="keywordflow">if</span> (!start_date.empty()) {</div>
<div class="line"><span class="lineno"> 8358</span>      std::cerr &lt;&lt; <span class="stringliteral">&quot;start-date not allowed.&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 8359</span>      <span class="keywordflow">return</span> -EINVAL;</div>
<div class="line"><span class="lineno"> 8360</span>    }</div>
<div class="line"><span class="lineno"> 8361</span>    <span class="keywordflow">if</span> (!end_date.empty()) {</div>
<div class="line"><span class="lineno"> 8362</span>      std::cerr &lt;&lt; <span class="stringliteral">&quot;end-date not allowed.&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 8363</span>      <span class="keywordflow">return</span> -EINVAL;</div>
<div class="line"><span class="lineno"> 8364</span>    }</div>
<div class="line"><span class="lineno"> 8365</span>    <span class="keywordflow">if</span> (!start_marker.empty()) {</div>
<div class="line"><span class="lineno"> 8366</span>      std::cerr &lt;&lt; <span class="stringliteral">&quot;start-marker not allowed.&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 8367</span>      <span class="keywordflow">return</span> -EINVAL;</div>
<div class="line"><span class="lineno"> 8368</span>    }</div>
<div class="line"><span class="lineno"> 8369</span>    <span class="keywordflow">if</span> (!end_marker.empty()) {</div>
<div class="line"><span class="lineno"> 8370</span>      <span class="keywordflow">if</span> (marker.empty()) {</div>
<div class="line"><span class="lineno"> 8371</span>    marker = end_marker;</div>
<div class="line"><span class="lineno"> 8372</span>      } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 8373</span>    std::cerr &lt;&lt; <span class="stringliteral">&quot;end-marker and marker not both allowed.&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 8374</span>    <span class="keywordflow">return</span> -EINVAL;</div>
<div class="line"><span class="lineno"> 8375</span>      }</div>
<div class="line"><span class="lineno"> 8376</span>    }</div>
<div class="line"><span class="lineno"> 8377</span> </div>
<div class="line"><span class="lineno"> 8378</span>    <span class="keywordflow">if</span> (!specified_shard_id) {</div>
<div class="line"><span class="lineno"> 8379</span>      cerr &lt;&lt; <span class="stringliteral">&quot;ERROR: shard-id must be specified for trim operation&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 8380</span>      <span class="keywordflow">return</span> EINVAL;</div>
<div class="line"><span class="lineno"> 8381</span>    }</div>
<div class="line"><span class="lineno"> 8382</span> </div>
<div class="line"><span class="lineno"> 8383</span>    <span class="keywordflow">if</span> (marker.empty()) {</div>
<div class="line"><span class="lineno"> 8384</span>      cerr &lt;&lt; <span class="stringliteral">&quot;ERROR: marker must be specified for trim operation&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 8385</span>      <span class="keywordflow">return</span> EINVAL;</div>
<div class="line"><span class="lineno"> 8386</span>    }</div>
<div class="line"><span class="lineno"> 8387</span> </div>
<div class="line"><span class="lineno"> 8388</span>    <span class="keywordflow">if</span> (period_id.empty()) {</div>
<div class="line"><span class="lineno"> 8389</span>      std::cerr &lt;&lt; <span class="stringliteral">&quot;missing --period argument&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 8390</span>      <span class="keywordflow">return</span> EINVAL;</div>
<div class="line"><span class="lineno"> 8391</span>    }</div>
<div class="line"><span class="lineno"> 8392</span>    <a class="code hl_class" href="class_r_g_w_metadata_log.html">RGWMetadataLog</a> *meta_log = <span class="keyword">static_cast&lt;</span><a class="code hl_class" href="classrgw_1_1sal_1_1_rados_store.html">rgw::sal::RadosStore</a>*<span class="keyword">&gt;</span>(<a class="code hl_variable" href="rgw__admin_8cc.html#a6fdb26d64b14d837b60e83a6ca3e2863">store</a>)-&gt;svc()-&gt;mdlog-&gt;get_log(period_id);</div>
<div class="line"><span class="lineno"> 8393</span> </div>
<div class="line"><span class="lineno"> 8394</span>    <span class="comment">// trim until -ENODATA</span></div>
<div class="line"><span class="lineno"> 8395</span>    <span class="keywordflow">do</span> {</div>
<div class="line"><span class="lineno"> 8396</span>      ret = meta_log-&gt;<a class="code hl_function" href="class_r_g_w_metadata_log.html#a4c9e367702ecc52dfb118a950fabf895">trim</a>(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>(), shard_id, {}, {}, {}, marker);</div>
<div class="line"><span class="lineno"> 8397</span>    } <span class="keywordflow">while</span> (ret == 0);</div>
<div class="line"><span class="lineno"> 8398</span>    <span class="keywordflow">if</span> (ret &lt; 0 &amp;&amp; ret != -ENODATA) {</div>
<div class="line"><span class="lineno"> 8399</span>      cerr &lt;&lt; <span class="stringliteral">&quot;ERROR: meta_log-&gt;trim(): &quot;</span> &lt;&lt; cpp_strerror(-ret) &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 8400</span>      <span class="keywordflow">return</span> -ret;</div>
<div class="line"><span class="lineno"> 8401</span>    }</div>
<div class="line"><span class="lineno"> 8402</span>  }</div>
<div class="line"><span class="lineno"> 8403</span> </div>
<div class="line"><span class="lineno"> 8404</span>  <span class="keywordflow">if</span> (opt_cmd == OPT::SYNC_INFO) {</div>
<div class="line"><span class="lineno"> 8405</span>    <a class="code hl_function" href="rgw__admin_8cc.html#abfa871472fdef30cd489d5795df05b4d">sync_info</a>(opt_effective_zone_id, opt_bucket, zone_formatter.get());</div>
<div class="line"><span class="lineno"> 8406</span>  }</div>
<div class="line"><span class="lineno"> 8407</span> </div>
<div class="line"><span class="lineno"> 8408</span>  <span class="keywordflow">if</span> (opt_cmd == OPT::SYNC_STATUS) {</div>
<div class="line"><span class="lineno"> 8409</span>    <a class="code hl_function" href="rgw__admin_8cc.html#a313adbe2d817ca90ee002626049cdacf">sync_status</a>(formatter.get());</div>
<div class="line"><span class="lineno"> 8410</span>  }</div>
<div class="line"><span class="lineno"> 8411</span> </div>
<div class="line"><span class="lineno"> 8412</span>  <span class="keywordflow">if</span> (opt_cmd == OPT::METADATA_SYNC_STATUS) {</div>
<div class="line"><span class="lineno"> 8413</span>    <a class="code hl_class" href="class_r_g_w_meta_sync_status_manager.html">RGWMetaSyncStatusManager</a> sync(<span class="keyword">static_cast&lt;</span><a class="code hl_class" href="classrgw_1_1sal_1_1_rados_store.html">rgw::sal::RadosStore</a>*<span class="keyword">&gt;</span>(<a class="code hl_variable" href="rgw__admin_8cc.html#a6fdb26d64b14d837b60e83a6ca3e2863">store</a>), <span class="keyword">static_cast&lt;</span><a class="code hl_class" href="classrgw_1_1sal_1_1_rados_store.html">rgw::sal::RadosStore</a>*<span class="keyword">&gt;</span>(<a class="code hl_variable" href="rgw__admin_8cc.html#a6fdb26d64b14d837b60e83a6ca3e2863">store</a>)-&gt;svc()-&gt;rados-&gt;get_async_processor());</div>
<div class="line"><span class="lineno"> 8414</span> </div>
<div class="line"><span class="lineno"> 8415</span>    <span class="keywordtype">int</span> ret = sync.init(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>());</div>
<div class="line"><span class="lineno"> 8416</span>    <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno"> 8417</span>      cerr &lt;&lt; <span class="stringliteral">&quot;ERROR: sync.init() returned ret=&quot;</span> &lt;&lt; ret &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 8418</span>      <span class="keywordflow">return</span> -ret;</div>
<div class="line"><span class="lineno"> 8419</span>    }</div>
<div class="line"><span class="lineno"> 8420</span> </div>
<div class="line"><span class="lineno"> 8421</span>    <a class="code hl_struct" href="structrgw__meta__sync__status.html">rgw_meta_sync_status</a> <a class="code hl_function" href="rgw__admin_8cc.html#a313adbe2d817ca90ee002626049cdacf">sync_status</a>;</div>
<div class="line"><span class="lineno"> 8422</span>    ret = sync.read_sync_status(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>(), &amp;<a class="code hl_function" href="rgw__admin_8cc.html#a313adbe2d817ca90ee002626049cdacf">sync_status</a>);</div>
<div class="line"><span class="lineno"> 8423</span>    <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno"> 8424</span>      cerr &lt;&lt; <span class="stringliteral">&quot;ERROR: sync.read_sync_status() returned ret=&quot;</span> &lt;&lt; ret &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 8425</span>      <span class="keywordflow">return</span> -ret;</div>
<div class="line"><span class="lineno"> 8426</span>    }</div>
<div class="line"><span class="lineno"> 8427</span> </div>
<div class="line"><span class="lineno"> 8428</span>    formatter-&gt;open_object_section(<span class="stringliteral">&quot;summary&quot;</span>);</div>
<div class="line"><span class="lineno"> 8429</span>    <a class="code hl_function" href="rgw__admin_8cc.html#ab596b9e1a1fc78e98a4d13a66578b658">encode_json</a>(<span class="stringliteral">&quot;sync_status&quot;</span>, <a class="code hl_function" href="rgw__admin_8cc.html#a313adbe2d817ca90ee002626049cdacf">sync_status</a>, formatter.get());</div>
<div class="line"><span class="lineno"> 8430</span> </div>
<div class="line"><span class="lineno"> 8431</span>    uint64_t full_total = 0;</div>
<div class="line"><span class="lineno"> 8432</span>    uint64_t full_complete = 0;</div>
<div class="line"><span class="lineno"> 8433</span> </div>
<div class="line"><span class="lineno"> 8434</span>    <span class="keywordflow">for</span> (<span class="keyword">auto</span> marker_iter : <a class="code hl_function" href="rgw__admin_8cc.html#a313adbe2d817ca90ee002626049cdacf">sync_status</a>.sync_markers) {</div>
<div class="line"><span class="lineno"> 8435</span>      full_total += marker_iter.second.total_entries;</div>
<div class="line"><span class="lineno"> 8436</span>      <span class="keywordflow">if</span> (marker_iter.second.state == <a class="code hl_enumvalue" href="structrgw__meta__sync__marker.html#a4ef54e8775f35240a47a40f5661ec9f4a8c66af4c8c288fbeb9218bc541d8f3a4">rgw_meta_sync_marker::SyncState::FullSync</a>) {</div>
<div class="line"><span class="lineno"> 8437</span>        full_complete += marker_iter.second.pos;</div>
<div class="line"><span class="lineno"> 8438</span>      } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 8439</span>        full_complete += marker_iter.second.total_entries;</div>
<div class="line"><span class="lineno"> 8440</span>      }</div>
<div class="line"><span class="lineno"> 8441</span>    }</div>
<div class="line"><span class="lineno"> 8442</span> </div>
<div class="line"><span class="lineno"> 8443</span>    formatter-&gt;open_object_section(<span class="stringliteral">&quot;full_sync&quot;</span>);</div>
<div class="line"><span class="lineno"> 8444</span>    <a class="code hl_function" href="rgw__admin_8cc.html#ab596b9e1a1fc78e98a4d13a66578b658">encode_json</a>(<span class="stringliteral">&quot;total&quot;</span>, full_total, formatter.get());</div>
<div class="line"><span class="lineno"> 8445</span>    <a class="code hl_function" href="rgw__admin_8cc.html#ab596b9e1a1fc78e98a4d13a66578b658">encode_json</a>(<span class="stringliteral">&quot;complete&quot;</span>, full_complete, formatter.get());</div>
<div class="line"><span class="lineno"> 8446</span>    formatter-&gt;close_section();</div>
<div class="line"><span class="lineno"> 8447</span>    formatter-&gt;close_section();</div>
<div class="line"><span class="lineno"> 8448</span> </div>
<div class="line"><span class="lineno"> 8449</span>    formatter-&gt;flush(cout);</div>
<div class="line"><span class="lineno"> 8450</span> </div>
<div class="line"><span class="lineno"> 8451</span>  }</div>
<div class="line"><span class="lineno"> 8452</span> </div>
<div class="line"><span class="lineno"> 8453</span>  <span class="keywordflow">if</span> (opt_cmd == OPT::METADATA_SYNC_INIT) {</div>
<div class="line"><span class="lineno"> 8454</span>    <a class="code hl_class" href="class_r_g_w_meta_sync_status_manager.html">RGWMetaSyncStatusManager</a> sync(<span class="keyword">static_cast&lt;</span><a class="code hl_class" href="classrgw_1_1sal_1_1_rados_store.html">rgw::sal::RadosStore</a>*<span class="keyword">&gt;</span>(<a class="code hl_variable" href="rgw__admin_8cc.html#a6fdb26d64b14d837b60e83a6ca3e2863">store</a>), <span class="keyword">static_cast&lt;</span><a class="code hl_class" href="classrgw_1_1sal_1_1_rados_store.html">rgw::sal::RadosStore</a>*<span class="keyword">&gt;</span>(<a class="code hl_variable" href="rgw__admin_8cc.html#a6fdb26d64b14d837b60e83a6ca3e2863">store</a>)-&gt;svc()-&gt;rados-&gt;get_async_processor());</div>
<div class="line"><span class="lineno"> 8455</span> </div>
<div class="line"><span class="lineno"> 8456</span>    <span class="keywordtype">int</span> ret = sync.init(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>());</div>
<div class="line"><span class="lineno"> 8457</span>    <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno"> 8458</span>      cerr &lt;&lt; <span class="stringliteral">&quot;ERROR: sync.init() returned ret=&quot;</span> &lt;&lt; ret &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 8459</span>      <span class="keywordflow">return</span> -ret;</div>
<div class="line"><span class="lineno"> 8460</span>    }</div>
<div class="line"><span class="lineno"> 8461</span>    ret = sync.init_sync_status(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>());</div>
<div class="line"><span class="lineno"> 8462</span>    <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno"> 8463</span>      cerr &lt;&lt; <span class="stringliteral">&quot;ERROR: sync.init_sync_status() returned ret=&quot;</span> &lt;&lt; ret &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 8464</span>      <span class="keywordflow">return</span> -ret;</div>
<div class="line"><span class="lineno"> 8465</span>    }</div>
<div class="line"><span class="lineno"> 8466</span>  }</div>
<div class="line"><span class="lineno"> 8467</span> </div>
<div class="line"><span class="lineno"> 8468</span> </div>
<div class="line"><span class="lineno"> 8469</span>  <span class="keywordflow">if</span> (opt_cmd == OPT::METADATA_SYNC_RUN) {</div>
<div class="line"><span class="lineno"> 8470</span>    <a class="code hl_class" href="class_r_g_w_meta_sync_status_manager.html">RGWMetaSyncStatusManager</a> sync(<span class="keyword">static_cast&lt;</span><a class="code hl_class" href="classrgw_1_1sal_1_1_rados_store.html">rgw::sal::RadosStore</a>*<span class="keyword">&gt;</span>(<a class="code hl_variable" href="rgw__admin_8cc.html#a6fdb26d64b14d837b60e83a6ca3e2863">store</a>), <span class="keyword">static_cast&lt;</span><a class="code hl_class" href="classrgw_1_1sal_1_1_rados_store.html">rgw::sal::RadosStore</a>*<span class="keyword">&gt;</span>(<a class="code hl_variable" href="rgw__admin_8cc.html#a6fdb26d64b14d837b60e83a6ca3e2863">store</a>)-&gt;svc()-&gt;rados-&gt;get_async_processor());</div>
<div class="line"><span class="lineno"> 8471</span> </div>
<div class="line"><span class="lineno"> 8472</span>    <span class="keywordtype">int</span> ret = sync.init(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>());</div>
<div class="line"><span class="lineno"> 8473</span>    <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno"> 8474</span>      cerr &lt;&lt; <span class="stringliteral">&quot;ERROR: sync.init() returned ret=&quot;</span> &lt;&lt; ret &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 8475</span>      <span class="keywordflow">return</span> -ret;</div>
<div class="line"><span class="lineno"> 8476</span>    }</div>
<div class="line"><span class="lineno"> 8477</span> </div>
<div class="line"><span class="lineno"> 8478</span>    ret = sync.run(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>(), null_yield);</div>
<div class="line"><span class="lineno"> 8479</span>    <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno"> 8480</span>      cerr &lt;&lt; <span class="stringliteral">&quot;ERROR: sync.run() returned ret=&quot;</span> &lt;&lt; ret &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 8481</span>      <span class="keywordflow">return</span> -ret;</div>
<div class="line"><span class="lineno"> 8482</span>    }</div>
<div class="line"><span class="lineno"> 8483</span>  }</div>
<div class="line"><span class="lineno"> 8484</span> </div>
<div class="line"><span class="lineno"> 8485</span>  <span class="keywordflow">if</span> (opt_cmd == OPT::DATA_SYNC_STATUS) {</div>
<div class="line"><span class="lineno"> 8486</span>    <span class="keywordflow">if</span> (source_zone.<a class="code hl_function" href="structrgw__zone__id.html#a5b69701e74c5168f32c07c3459c22272">empty</a>()) {</div>
<div class="line"><span class="lineno"> 8487</span>      cerr &lt;&lt; <span class="stringliteral">&quot;ERROR: source zone not specified&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 8488</span>      <span class="keywordflow">return</span> EINVAL;</div>
<div class="line"><span class="lineno"> 8489</span>    }</div>
<div class="line"><span class="lineno"> 8490</span>    <a class="code hl_class" href="class_r_g_w_data_sync_status_manager.html">RGWDataSyncStatusManager</a> sync(<span class="keyword">static_cast&lt;</span><a class="code hl_class" href="classrgw_1_1sal_1_1_rados_store.html">rgw::sal::RadosStore</a>*<span class="keyword">&gt;</span>(<a class="code hl_variable" href="rgw__admin_8cc.html#a6fdb26d64b14d837b60e83a6ca3e2863">store</a>), <span class="keyword">static_cast&lt;</span><a class="code hl_class" href="classrgw_1_1sal_1_1_rados_store.html">rgw::sal::RadosStore</a>*<span class="keyword">&gt;</span>(<a class="code hl_variable" href="rgw__admin_8cc.html#a6fdb26d64b14d837b60e83a6ca3e2863">store</a>)-&gt;svc()-&gt;rados-&gt;get_async_processor(), source_zone, <span class="keyword">nullptr</span>);</div>
<div class="line"><span class="lineno"> 8491</span> </div>
<div class="line"><span class="lineno"> 8492</span>    <span class="keywordtype">int</span> ret = sync.init(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>());</div>
<div class="line"><span class="lineno"> 8493</span>    <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno"> 8494</span>      cerr &lt;&lt; <span class="stringliteral">&quot;ERROR: sync.init() returned ret=&quot;</span> &lt;&lt; ret &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 8495</span>      <span class="keywordflow">return</span> -ret;</div>
<div class="line"><span class="lineno"> 8496</span>    }</div>
<div class="line"><span class="lineno"> 8497</span> </div>
<div class="line"><span class="lineno"> 8498</span>    <a class="code hl_struct" href="structrgw__data__sync__status.html">rgw_data_sync_status</a> <a class="code hl_function" href="rgw__admin_8cc.html#a313adbe2d817ca90ee002626049cdacf">sync_status</a>;</div>
<div class="line"><span class="lineno"> 8499</span>    <span class="keywordflow">if</span> (specified_shard_id) {</div>
<div class="line"><span class="lineno"> 8500</span>      set&lt;string&gt; pending_buckets;</div>
<div class="line"><span class="lineno"> 8501</span>      set&lt;string&gt; recovering_buckets;</div>
<div class="line"><span class="lineno"> 8502</span>      <a class="code hl_struct" href="structrgw__data__sync__marker.html">rgw_data_sync_marker</a> sync_marker;</div>
<div class="line"><span class="lineno"> 8503</span>      ret = sync.read_shard_status(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>(), shard_id, pending_buckets, recovering_buckets, &amp;sync_marker, </div>
<div class="line"><span class="lineno"> 8504</span>                                   max_entries_specified ? max_entries : 20);</div>
<div class="line"><span class="lineno"> 8505</span>      <span class="keywordflow">if</span> (ret &lt; 0 &amp;&amp; ret != -ENOENT) {</div>
<div class="line"><span class="lineno"> 8506</span>        cerr &lt;&lt; <span class="stringliteral">&quot;ERROR: sync.read_shard_status() returned ret=&quot;</span> &lt;&lt; ret &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 8507</span>        <span class="keywordflow">return</span> -ret;</div>
<div class="line"><span class="lineno"> 8508</span>      }</div>
<div class="line"><span class="lineno"> 8509</span>      formatter-&gt;open_object_section(<span class="stringliteral">&quot;summary&quot;</span>);</div>
<div class="line"><span class="lineno"> 8510</span>      <a class="code hl_function" href="rgw__admin_8cc.html#ab596b9e1a1fc78e98a4d13a66578b658">encode_json</a>(<span class="stringliteral">&quot;shard_id&quot;</span>, shard_id, formatter.get());</div>
<div class="line"><span class="lineno"> 8511</span>      <a class="code hl_function" href="rgw__admin_8cc.html#ab596b9e1a1fc78e98a4d13a66578b658">encode_json</a>(<span class="stringliteral">&quot;marker&quot;</span>, sync_marker, formatter.get());</div>
<div class="line"><span class="lineno"> 8512</span>      <a class="code hl_function" href="rgw__admin_8cc.html#ab596b9e1a1fc78e98a4d13a66578b658">encode_json</a>(<span class="stringliteral">&quot;pending_buckets&quot;</span>, pending_buckets, formatter.get());</div>
<div class="line"><span class="lineno"> 8513</span>      <a class="code hl_function" href="rgw__admin_8cc.html#ab596b9e1a1fc78e98a4d13a66578b658">encode_json</a>(<span class="stringliteral">&quot;recovering_buckets&quot;</span>, recovering_buckets, formatter.get());</div>
<div class="line"><span class="lineno"> 8514</span>      formatter-&gt;close_section();</div>
<div class="line"><span class="lineno"> 8515</span>      formatter-&gt;flush(cout);</div>
<div class="line"><span class="lineno"> 8516</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 8517</span>      ret = sync.read_sync_status(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>(), &amp;<a class="code hl_function" href="rgw__admin_8cc.html#a313adbe2d817ca90ee002626049cdacf">sync_status</a>);</div>
<div class="line"><span class="lineno"> 8518</span>      <span class="keywordflow">if</span> (ret &lt; 0 &amp;&amp; ret != -ENOENT) {</div>
<div class="line"><span class="lineno"> 8519</span>        cerr &lt;&lt; <span class="stringliteral">&quot;ERROR: sync.read_sync_status() returned ret=&quot;</span> &lt;&lt; ret &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 8520</span>        <span class="keywordflow">return</span> -ret;</div>
<div class="line"><span class="lineno"> 8521</span>      }</div>
<div class="line"><span class="lineno"> 8522</span> </div>
<div class="line"><span class="lineno"> 8523</span>      formatter-&gt;open_object_section(<span class="stringliteral">&quot;summary&quot;</span>);</div>
<div class="line"><span class="lineno"> 8524</span>      <a class="code hl_function" href="rgw__admin_8cc.html#ab596b9e1a1fc78e98a4d13a66578b658">encode_json</a>(<span class="stringliteral">&quot;sync_status&quot;</span>, <a class="code hl_function" href="rgw__admin_8cc.html#a313adbe2d817ca90ee002626049cdacf">sync_status</a>, formatter.get());</div>
<div class="line"><span class="lineno"> 8525</span> </div>
<div class="line"><span class="lineno"> 8526</span>      uint64_t full_total = 0;</div>
<div class="line"><span class="lineno"> 8527</span>      uint64_t full_complete = 0;</div>
<div class="line"><span class="lineno"> 8528</span> </div>
<div class="line"><span class="lineno"> 8529</span>      <span class="keywordflow">for</span> (<span class="keyword">auto</span> marker_iter : <a class="code hl_function" href="rgw__admin_8cc.html#a313adbe2d817ca90ee002626049cdacf">sync_status</a>.sync_markers) {</div>
<div class="line"><span class="lineno"> 8530</span>        full_total += marker_iter.second.total_entries;</div>
<div class="line"><span class="lineno"> 8531</span>        <span class="keywordflow">if</span> (marker_iter.second.state == <a class="code hl_enumvalue" href="structrgw__meta__sync__marker.html#a4ef54e8775f35240a47a40f5661ec9f4a8c66af4c8c288fbeb9218bc541d8f3a4">rgw_meta_sync_marker::SyncState::FullSync</a>) {</div>
<div class="line"><span class="lineno"> 8532</span>          full_complete += marker_iter.second.pos;</div>
<div class="line"><span class="lineno"> 8533</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 8534</span>          full_complete += marker_iter.second.total_entries;</div>
<div class="line"><span class="lineno"> 8535</span>        }</div>
<div class="line"><span class="lineno"> 8536</span>      }</div>
<div class="line"><span class="lineno"> 8537</span> </div>
<div class="line"><span class="lineno"> 8538</span>      formatter-&gt;open_object_section(<span class="stringliteral">&quot;full_sync&quot;</span>);</div>
<div class="line"><span class="lineno"> 8539</span>      <a class="code hl_function" href="rgw__admin_8cc.html#ab596b9e1a1fc78e98a4d13a66578b658">encode_json</a>(<span class="stringliteral">&quot;total&quot;</span>, full_total, formatter.get());</div>
<div class="line"><span class="lineno"> 8540</span>      <a class="code hl_function" href="rgw__admin_8cc.html#ab596b9e1a1fc78e98a4d13a66578b658">encode_json</a>(<span class="stringliteral">&quot;complete&quot;</span>, full_complete, formatter.get());</div>
<div class="line"><span class="lineno"> 8541</span>      formatter-&gt;close_section();</div>
<div class="line"><span class="lineno"> 8542</span>      formatter-&gt;close_section();</div>
<div class="line"><span class="lineno"> 8543</span> </div>
<div class="line"><span class="lineno"> 8544</span>      formatter-&gt;flush(cout);</div>
<div class="line"><span class="lineno"> 8545</span>    }</div>
<div class="line"><span class="lineno"> 8546</span>  }</div>
<div class="line"><span class="lineno"> 8547</span> </div>
<div class="line"><span class="lineno"> 8548</span>  <span class="keywordflow">if</span> (opt_cmd == OPT::DATA_SYNC_INIT) {</div>
<div class="line"><span class="lineno"> 8549</span>    <span class="keywordflow">if</span> (source_zone.<a class="code hl_function" href="structrgw__zone__id.html#a5b69701e74c5168f32c07c3459c22272">empty</a>()) {</div>
<div class="line"><span class="lineno"> 8550</span>      cerr &lt;&lt; <span class="stringliteral">&quot;ERROR: source zone not specified&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 8551</span>      <span class="keywordflow">return</span> EINVAL;</div>
<div class="line"><span class="lineno"> 8552</span>    }</div>
<div class="line"><span class="lineno"> 8553</span> </div>
<div class="line"><span class="lineno"> 8554</span>    <a class="code hl_class" href="class_r_g_w_data_sync_status_manager.html">RGWDataSyncStatusManager</a> sync(<span class="keyword">static_cast&lt;</span><a class="code hl_class" href="classrgw_1_1sal_1_1_rados_store.html">rgw::sal::RadosStore</a>*<span class="keyword">&gt;</span>(<a class="code hl_variable" href="rgw__admin_8cc.html#a6fdb26d64b14d837b60e83a6ca3e2863">store</a>), <span class="keyword">static_cast&lt;</span><a class="code hl_class" href="classrgw_1_1sal_1_1_rados_store.html">rgw::sal::RadosStore</a>*<span class="keyword">&gt;</span>(<a class="code hl_variable" href="rgw__admin_8cc.html#a6fdb26d64b14d837b60e83a6ca3e2863">store</a>)-&gt;svc()-&gt;rados-&gt;get_async_processor(), source_zone, <span class="keyword">nullptr</span>);</div>
<div class="line"><span class="lineno"> 8555</span> </div>
<div class="line"><span class="lineno"> 8556</span>    <span class="keywordtype">int</span> ret = sync.init(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>());</div>
<div class="line"><span class="lineno"> 8557</span>    <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno"> 8558</span>      cerr &lt;&lt; <span class="stringliteral">&quot;ERROR: sync.init() returned ret=&quot;</span> &lt;&lt; ret &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 8559</span>      <span class="keywordflow">return</span> -ret;</div>
<div class="line"><span class="lineno"> 8560</span>    }</div>
<div class="line"><span class="lineno"> 8561</span> </div>
<div class="line"><span class="lineno"> 8562</span>    ret = sync.init_sync_status(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>());</div>
<div class="line"><span class="lineno"> 8563</span>    <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno"> 8564</span>      cerr &lt;&lt; <span class="stringliteral">&quot;ERROR: sync.init_sync_status() returned ret=&quot;</span> &lt;&lt; ret &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 8565</span>      <span class="keywordflow">return</span> -ret;</div>
<div class="line"><span class="lineno"> 8566</span>    }</div>
<div class="line"><span class="lineno"> 8567</span>  }</div>
<div class="line"><span class="lineno"> 8568</span> </div>
<div class="line"><span class="lineno"> 8569</span>  <span class="keywordflow">if</span> (opt_cmd == OPT::DATA_SYNC_RUN) {</div>
<div class="line"><span class="lineno"> 8570</span>    <span class="keywordflow">if</span> (source_zone.<a class="code hl_function" href="structrgw__zone__id.html#a5b69701e74c5168f32c07c3459c22272">empty</a>()) {</div>
<div class="line"><span class="lineno"> 8571</span>      cerr &lt;&lt; <span class="stringliteral">&quot;ERROR: source zone not specified&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 8572</span>      <span class="keywordflow">return</span> EINVAL;</div>
<div class="line"><span class="lineno"> 8573</span>    }</div>
<div class="line"><span class="lineno"> 8574</span> </div>
<div class="line"><span class="lineno"> 8575</span>    <a class="code hl_typedef" href="rgw__sal_8h.html#a2a039ebea62bea24dff4df3905db41df">RGWSyncModuleInstanceRef</a> sync_module;</div>
<div class="line"><span class="lineno"> 8576</span>    <span class="keywordtype">int</span> ret = <span class="keyword">static_cast&lt;</span><a class="code hl_class" href="classrgw_1_1sal_1_1_rados_store.html">rgw::sal::RadosStore</a>*<span class="keyword">&gt;</span>(<a class="code hl_variable" href="rgw__admin_8cc.html#a6fdb26d64b14d837b60e83a6ca3e2863">store</a>)-&gt;svc()-&gt;sync_modules-&gt;get_manager()-&gt;create_instance(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>(), g_ceph_context, <span class="keyword">static_cast&lt;</span><a class="code hl_class" href="classrgw_1_1sal_1_1_rados_store.html">rgw::sal::RadosStore</a>*<span class="keyword">&gt;</span>(<a class="code hl_variable" href="rgw__admin_8cc.html#a6fdb26d64b14d837b60e83a6ca3e2863">store</a>)-&gt;svc()-&gt;<a class="code hl_variable" href="classrgw_1_1sal_1_1_rados_store.html#a0a94e58a4595ab519b4c3f89d33419fe">zone</a>-&gt;get_zone().tier_type,</div>
<div class="line"><span class="lineno"> 8577</span>        <a class="code hl_variable" href="rgw__admin_8cc.html#a6fdb26d64b14d837b60e83a6ca3e2863">store</a>-&gt;<a class="code hl_function" href="classrgw_1_1sal_1_1_store.html#a7905b89b9f5def056e6b3379637037cc">get_zone</a>()-&gt;<a class="code hl_function" href="classrgw_1_1sal_1_1_zone.html#aad5682df06309df9be7bc8fdab823b50">get_params</a>().<a class="code hl_variable" href="struct_r_g_w_zone_params.html#aaa4b1a0fe8d9405a9b75907d8717a365">tier_config</a>, &amp;sync_module);</div>
<div class="line"><span class="lineno"> 8578</span>    <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno"> 8579</span>      ldpp_dout(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>(), -1) &lt;&lt; <span class="stringliteral">&quot;ERROR: failed to init sync module instance, ret=&quot;</span> &lt;&lt; ret &lt;&lt; dendl;</div>
<div class="line"><span class="lineno"> 8580</span>      <span class="keywordflow">return</span> ret;</div>
<div class="line"><span class="lineno"> 8581</span>    }</div>
<div class="line"><span class="lineno"> 8582</span> </div>
<div class="line"><span class="lineno"> 8583</span>    <a class="code hl_class" href="class_r_g_w_data_sync_status_manager.html">RGWDataSyncStatusManager</a> sync(<span class="keyword">static_cast&lt;</span><a class="code hl_class" href="classrgw_1_1sal_1_1_rados_store.html">rgw::sal::RadosStore</a>*<span class="keyword">&gt;</span>(<a class="code hl_variable" href="rgw__admin_8cc.html#a6fdb26d64b14d837b60e83a6ca3e2863">store</a>), <span class="keyword">static_cast&lt;</span><a class="code hl_class" href="classrgw_1_1sal_1_1_rados_store.html">rgw::sal::RadosStore</a>*<span class="keyword">&gt;</span>(<a class="code hl_variable" href="rgw__admin_8cc.html#a6fdb26d64b14d837b60e83a6ca3e2863">store</a>)-&gt;svc()-&gt;rados-&gt;get_async_processor(), source_zone, <span class="keyword">nullptr</span>, sync_module);</div>
<div class="line"><span class="lineno"> 8584</span> </div>
<div class="line"><span class="lineno"> 8585</span>    ret = sync.init(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>());</div>
<div class="line"><span class="lineno"> 8586</span>    <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno"> 8587</span>      cerr &lt;&lt; <span class="stringliteral">&quot;ERROR: sync.init() returned ret=&quot;</span> &lt;&lt; ret &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 8588</span>      <span class="keywordflow">return</span> -ret;</div>
<div class="line"><span class="lineno"> 8589</span>    }</div>
<div class="line"><span class="lineno"> 8590</span> </div>
<div class="line"><span class="lineno"> 8591</span>    ret = sync.run(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>());</div>
<div class="line"><span class="lineno"> 8592</span>    <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno"> 8593</span>      cerr &lt;&lt; <span class="stringliteral">&quot;ERROR: sync.run() returned ret=&quot;</span> &lt;&lt; ret &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 8594</span>      <span class="keywordflow">return</span> -ret;</div>
<div class="line"><span class="lineno"> 8595</span>    }</div>
<div class="line"><span class="lineno"> 8596</span>  }</div>
<div class="line"><span class="lineno"> 8597</span> </div>
<div class="line"><span class="lineno"> 8598</span>  <span class="keywordflow">if</span> (opt_cmd == OPT::BUCKET_SYNC_INIT) {</div>
<div class="line"><span class="lineno"> 8599</span>    <span class="keywordflow">if</span> (source_zone.<a class="code hl_function" href="structrgw__zone__id.html#a5b69701e74c5168f32c07c3459c22272">empty</a>()) {</div>
<div class="line"><span class="lineno"> 8600</span>      cerr &lt;&lt; <span class="stringliteral">&quot;ERROR: source zone not specified&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 8601</span>      <span class="keywordflow">return</span> EINVAL;</div>
<div class="line"><span class="lineno"> 8602</span>    }</div>
<div class="line"><span class="lineno"> 8603</span>    <span class="keywordflow">if</span> (bucket_name.empty()) {</div>
<div class="line"><span class="lineno"> 8604</span>      cerr &lt;&lt; <span class="stringliteral">&quot;ERROR: bucket not specified&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 8605</span>      <span class="keywordflow">return</span> EINVAL;</div>
<div class="line"><span class="lineno"> 8606</span>    }</div>
<div class="line"><span class="lineno"> 8607</span>    <span class="keywordtype">int</span> ret = <a class="code hl_function" href="rgw__admin_8cc.html#a4c2860d7471eb587fb90ca562186b7f7">init_bucket_for_sync</a>(<a class="code hl_variable" href="structrgw__log__entry.html#a35ae5bdbb5f60664f0a367d5c3ad9efe">user</a>.get(), tenant, bucket_name, <a class="code hl_variable" href="structrgw__log__entry.html#ade138581b4da0c38466f03c320bdd1ee">bucket_id</a>, &amp;<a class="code hl_variable" href="structrgw__log__entry.html#abe38126b4342e5e27a847c7850bb58d4">bucket</a>);</div>
<div class="line"><span class="lineno"> 8608</span>    <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno"> 8609</span>      <span class="keywordflow">return</span> -ret;</div>
<div class="line"><span class="lineno"> 8610</span>    }</div>
<div class="line"><span class="lineno"> 8611</span>    <span class="keyword">auto</span> opt_sb = opt_source_bucket;</div>
<div class="line"><span class="lineno"> 8612</span>    <span class="keywordflow">if</span> (opt_sb &amp;&amp; opt_sb-&gt;bucket_id.empty()) {</div>
<div class="line"><span class="lineno"> 8613</span>      <span class="keywordtype">string</span> sbid;</div>
<div class="line"><span class="lineno"> 8614</span>      std::unique_ptr&lt;rgw::sal::Bucket&gt; sbuck;</div>
<div class="line"><span class="lineno"> 8615</span>      <span class="keywordtype">int</span> ret = <a class="code hl_function" href="rgw__admin_8cc.html#a4c2860d7471eb587fb90ca562186b7f7">init_bucket_for_sync</a>(<a class="code hl_variable" href="structrgw__log__entry.html#a35ae5bdbb5f60664f0a367d5c3ad9efe">user</a>.get(), opt_sb-&gt;tenant, opt_sb-&gt;name, sbid, &amp;sbuck);</div>
<div class="line"><span class="lineno"> 8616</span>      <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno"> 8617</span>        <span class="keywordflow">return</span> -ret;</div>
<div class="line"><span class="lineno"> 8618</span>      }</div>
<div class="line"><span class="lineno"> 8619</span>      opt_sb = sbuck-&gt;get_key();</div>
<div class="line"><span class="lineno"> 8620</span>    }</div>
<div class="line"><span class="lineno"> 8621</span> </div>
<div class="line"><span class="lineno"> 8622</span>    <a class="code hl_class" href="class_r_g_w_bucket_pipe_sync_status_manager.html">RGWBucketPipeSyncStatusManager</a> sync(<span class="keyword">static_cast&lt;</span><a class="code hl_class" href="classrgw_1_1sal_1_1_rados_store.html">rgw::sal::RadosStore</a>*<span class="keyword">&gt;</span>(<a class="code hl_variable" href="rgw__admin_8cc.html#a6fdb26d64b14d837b60e83a6ca3e2863">store</a>), source_zone, opt_sb, <a class="code hl_variable" href="structrgw__log__entry.html#abe38126b4342e5e27a847c7850bb58d4">bucket</a>-&gt;get_key());</div>
<div class="line"><span class="lineno"> 8623</span> </div>
<div class="line"><span class="lineno"> 8624</span>    ret = sync.init(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>());</div>
<div class="line"><span class="lineno"> 8625</span>    <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno"> 8626</span>      cerr &lt;&lt; <span class="stringliteral">&quot;ERROR: sync.init() returned ret=&quot;</span> &lt;&lt; ret &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 8627</span>      <span class="keywordflow">return</span> -ret;</div>
<div class="line"><span class="lineno"> 8628</span>    }</div>
<div class="line"><span class="lineno"> 8629</span>    ret = sync.init_sync_status(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>());</div>
<div class="line"><span class="lineno"> 8630</span>    <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno"> 8631</span>      cerr &lt;&lt; <span class="stringliteral">&quot;ERROR: sync.init_sync_status() returned ret=&quot;</span> &lt;&lt; ret &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 8632</span>      <span class="keywordflow">return</span> -ret;</div>
<div class="line"><span class="lineno"> 8633</span>    }</div>
<div class="line"><span class="lineno"> 8634</span>  }</div>
<div class="line"><span class="lineno"> 8635</span> </div>
<div class="line"><span class="lineno"> 8636</span>  <span class="keywordflow">if</span> (opt_cmd == OPT::BUCKET_SYNC_CHECKPOINT) {</div>
<div class="line"><span class="lineno"> 8637</span>    std::optional&lt;rgw_zone_id&gt; opt_source_zone;</div>
<div class="line"><span class="lineno"> 8638</span>    <span class="keywordflow">if</span> (!source_zone.<a class="code hl_function" href="structrgw__zone__id.html#a5b69701e74c5168f32c07c3459c22272">empty</a>()) {</div>
<div class="line"><span class="lineno"> 8639</span>      opt_source_zone = source_zone;</div>
<div class="line"><span class="lineno"> 8640</span>    }</div>
<div class="line"><span class="lineno"> 8641</span>    <span class="keywordflow">if</span> (bucket_name.empty()) {</div>
<div class="line"><span class="lineno"> 8642</span>      cerr &lt;&lt; <span class="stringliteral">&quot;ERROR: bucket not specified&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 8643</span>      <span class="keywordflow">return</span> EINVAL;</div>
<div class="line"><span class="lineno"> 8644</span>    }</div>
<div class="line"><span class="lineno"> 8645</span>    <span class="keywordtype">int</span> ret = <a class="code hl_function" href="rgw__admin_8cc.html#a0023a8779e3ab0d965d9acfb3eb72cac">init_bucket</a>(<a class="code hl_variable" href="structrgw__log__entry.html#a35ae5bdbb5f60664f0a367d5c3ad9efe">user</a>.get(), tenant, bucket_name, <a class="code hl_variable" href="structrgw__log__entry.html#ade138581b4da0c38466f03c320bdd1ee">bucket_id</a>, &amp;<a class="code hl_variable" href="structrgw__log__entry.html#abe38126b4342e5e27a847c7850bb58d4">bucket</a>);</div>
<div class="line"><span class="lineno"> 8646</span>    <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno"> 8647</span>      <span class="keywordflow">return</span> -ret;</div>
<div class="line"><span class="lineno"> 8648</span>    }</div>
<div class="line"><span class="lineno"> 8649</span> </div>
<div class="line"><span class="lineno"> 8650</span>    <span class="keywordflow">if</span> (!<span class="keyword">static_cast&lt;</span><a class="code hl_class" href="classrgw_1_1sal_1_1_rados_store.html">rgw::sal::RadosStore</a>*<span class="keyword">&gt;</span>(<a class="code hl_variable" href="rgw__admin_8cc.html#a6fdb26d64b14d837b60e83a6ca3e2863">store</a>)-&gt;ctl()-&gt;<a class="code hl_variable" href="structrgw__log__entry.html#abe38126b4342e5e27a847c7850bb58d4">bucket</a>-&gt;bucket_imports_data(<a class="code hl_variable" href="structrgw__log__entry.html#abe38126b4342e5e27a847c7850bb58d4">bucket</a>-&gt;get_key(), null_yield, <a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>())) {</div>
<div class="line"><span class="lineno"> 8651</span>      std::cout &lt;&lt; <span class="stringliteral">&quot;Sync is disabled for bucket &quot;</span> &lt;&lt; bucket_name &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 8652</span>      <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno"> 8653</span>    }</div>
<div class="line"><span class="lineno"> 8654</span> </div>
<div class="line"><span class="lineno"> 8655</span>    <a class="code hl_typedef" href="rgw__sal_8h.html#a34a498a236dfdf1358ada02a62afc853">RGWBucketSyncPolicyHandlerRef</a> handler;</div>
<div class="line"><span class="lineno"> 8656</span>    ret = <a class="code hl_variable" href="rgw__admin_8cc.html#a6fdb26d64b14d837b60e83a6ca3e2863">store</a>-&gt;<a class="code hl_function" href="classrgw_1_1sal_1_1_store.html#a49a7a48f9ae72b8387a24b328fd8e9e4">get_sync_policy_handler</a>(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>(), std::nullopt, <a class="code hl_variable" href="structrgw__log__entry.html#abe38126b4342e5e27a847c7850bb58d4">bucket</a>-&gt;get_key(), &amp;handler, null_yield);</div>
<div class="line"><span class="lineno"> 8657</span>    <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno"> 8658</span>      std::cerr &lt;&lt; <span class="stringliteral">&quot;ERROR: failed to get policy handler for bucket (&quot;</span></div>
<div class="line"><span class="lineno"> 8659</span>          &lt;&lt; <a class="code hl_variable" href="structrgw__log__entry.html#abe38126b4342e5e27a847c7850bb58d4">bucket</a> &lt;&lt; <span class="stringliteral">&quot;): r=&quot;</span> &lt;&lt; ret &lt;&lt; <span class="stringliteral">&quot;: &quot;</span> &lt;&lt; cpp_strerror(-ret) &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 8660</span>      <span class="keywordflow">return</span> -ret;</div>
<div class="line"><span class="lineno"> 8661</span>    }</div>
<div class="line"><span class="lineno"> 8662</span> </div>
<div class="line"><span class="lineno"> 8663</span>    <span class="keyword">auto</span> timeout_at = ceph::coarse_mono_clock::now() + opt_timeout_sec;</div>
<div class="line"><span class="lineno"> 8664</span>    ret = <a class="code hl_function" href="rgw__sync__checkpoint_8cc.html#aa1fa0f5bd4e808c295fa97226c7fb5ef">rgw_bucket_sync_checkpoint</a>(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>(), <span class="keyword">static_cast&lt;</span><a class="code hl_class" href="classrgw_1_1sal_1_1_rados_store.html">rgw::sal::RadosStore</a>*<span class="keyword">&gt;</span>(<a class="code hl_variable" href="rgw__admin_8cc.html#a6fdb26d64b14d837b60e83a6ca3e2863">store</a>), *handler, <a class="code hl_variable" href="structrgw__log__entry.html#abe38126b4342e5e27a847c7850bb58d4">bucket</a>-&gt;get_info(),</div>
<div class="line"><span class="lineno"> 8665</span>                                     opt_source_zone, opt_source_bucket,</div>
<div class="line"><span class="lineno"> 8666</span>                                     opt_retry_delay_ms, timeout_at);</div>
<div class="line"><span class="lineno"> 8667</span>    <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno"> 8668</span>      ldpp_dout(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>(), -1) &lt;&lt; <span class="stringliteral">&quot;bucket sync checkpoint failed: &quot;</span> &lt;&lt; cpp_strerror(ret) &lt;&lt; dendl;</div>
<div class="line"><span class="lineno"> 8669</span>      <span class="keywordflow">return</span> -ret;</div>
<div class="line"><span class="lineno"> 8670</span>    }</div>
<div class="line"><span class="lineno"> 8671</span>  }</div>
<div class="line"><span class="lineno"> 8672</span> </div>
<div class="line"><span class="lineno"> 8673</span>  <span class="keywordflow">if</span> ((opt_cmd == OPT::BUCKET_SYNC_DISABLE) || (opt_cmd == OPT::BUCKET_SYNC_ENABLE)) {</div>
<div class="line"><span class="lineno"> 8674</span>    <span class="keywordflow">if</span> (bucket_name.empty()) {</div>
<div class="line"><span class="lineno"> 8675</span>      cerr &lt;&lt; <span class="stringliteral">&quot;ERROR: bucket not specified&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 8676</span>      <span class="keywordflow">return</span> EINVAL;</div>
<div class="line"><span class="lineno"> 8677</span>    } </div>
<div class="line"><span class="lineno"> 8678</span>    <span class="keywordflow">if</span> (opt_cmd == OPT::BUCKET_SYNC_DISABLE) {</div>
<div class="line"><span class="lineno"> 8679</span>      bucket_op.<a class="code hl_function" href="struct_r_g_w_bucket_admin_op_state.html#a426ad72a6c67f5cf781f5f995d969334">set_sync_bucket</a>(<span class="keyword">false</span>);</div>
<div class="line"><span class="lineno"> 8680</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 8681</span>      bucket_op.<a class="code hl_function" href="struct_r_g_w_bucket_admin_op_state.html#a426ad72a6c67f5cf781f5f995d969334">set_sync_bucket</a>(<span class="keyword">true</span>);</div>
<div class="line"><span class="lineno"> 8682</span>    }</div>
<div class="line"><span class="lineno"> 8683</span>    bucket_op.<a class="code hl_function" href="struct_r_g_w_bucket_admin_op_state.html#a0a5c3bdb546c673c77e7231470b2129d">set_tenant</a>(tenant);</div>
<div class="line"><span class="lineno"> 8684</span>    <span class="keywordtype">string</span> err_msg;</div>
<div class="line"><span class="lineno"> 8685</span>    ret = <a class="code hl_function" href="class_r_g_w_bucket_admin_op.html#aa62fba026a6f2f3b8ee4f9501a70d836">RGWBucketAdminOp::sync_bucket</a>(<a class="code hl_variable" href="rgw__admin_8cc.html#a6fdb26d64b14d837b60e83a6ca3e2863">store</a>, bucket_op, <a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>(), &amp;err_msg);</div>
<div class="line"><span class="lineno"> 8686</span>    <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno"> 8687</span>      cerr &lt;&lt; err_msg &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 8688</span>      <span class="keywordflow">return</span> -ret;</div>
<div class="line"><span class="lineno"> 8689</span>    }</div>
<div class="line"><span class="lineno"> 8690</span>  }</div>
<div class="line"><span class="lineno"> 8691</span> </div>
<div class="line"><span class="lineno"> 8692</span>  <span class="keywordflow">if</span> (opt_cmd == OPT::BUCKET_SYNC_INFO) {</div>
<div class="line"><span class="lineno"> 8693</span>    <span class="keywordflow">if</span> (bucket_name.empty()) {</div>
<div class="line"><span class="lineno"> 8694</span>      cerr &lt;&lt; <span class="stringliteral">&quot;ERROR: bucket not specified&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 8695</span>      <span class="keywordflow">return</span> EINVAL;</div>
<div class="line"><span class="lineno"> 8696</span>    }</div>
<div class="line"><span class="lineno"> 8697</span>    <span class="keywordtype">int</span> ret = <a class="code hl_function" href="rgw__admin_8cc.html#a0023a8779e3ab0d965d9acfb3eb72cac">init_bucket</a>(<a class="code hl_variable" href="structrgw__log__entry.html#a35ae5bdbb5f60664f0a367d5c3ad9efe">user</a>.get(), tenant, bucket_name, <a class="code hl_variable" href="structrgw__log__entry.html#ade138581b4da0c38466f03c320bdd1ee">bucket_id</a>, &amp;<a class="code hl_variable" href="structrgw__log__entry.html#abe38126b4342e5e27a847c7850bb58d4">bucket</a>);</div>
<div class="line"><span class="lineno"> 8698</span>    <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno"> 8699</span>      <span class="keywordflow">return</span> -ret;</div>
<div class="line"><span class="lineno"> 8700</span>    }</div>
<div class="line"><span class="lineno"> 8701</span>    <a class="code hl_function" href="rgw__admin_8cc.html#a261e44d721357bf200c2980f9f564f63">bucket_sync_info</a>(<span class="keyword">static_cast&lt;</span><a class="code hl_class" href="classrgw_1_1sal_1_1_rados_store.html">rgw::sal::RadosStore</a>*<span class="keyword">&gt;</span>(<a class="code hl_variable" href="rgw__admin_8cc.html#a6fdb26d64b14d837b60e83a6ca3e2863">store</a>), <a class="code hl_variable" href="structrgw__log__entry.html#abe38126b4342e5e27a847c7850bb58d4">bucket</a>-&gt;get_info(), std::cout);</div>
<div class="line"><span class="lineno"> 8702</span>  }</div>
<div class="line"><span class="lineno"> 8703</span> </div>
<div class="line"><span class="lineno"> 8704</span>  <span class="keywordflow">if</span> (opt_cmd == OPT::BUCKET_SYNC_STATUS) {</div>
<div class="line"><span class="lineno"> 8705</span>    <span class="keywordflow">if</span> (bucket_name.empty()) {</div>
<div class="line"><span class="lineno"> 8706</span>      cerr &lt;&lt; <span class="stringliteral">&quot;ERROR: bucket not specified&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 8707</span>      <span class="keywordflow">return</span> EINVAL;</div>
<div class="line"><span class="lineno"> 8708</span>    }</div>
<div class="line"><span class="lineno"> 8709</span>    <span class="keywordtype">int</span> ret = <a class="code hl_function" href="rgw__admin_8cc.html#a0023a8779e3ab0d965d9acfb3eb72cac">init_bucket</a>(<a class="code hl_variable" href="structrgw__log__entry.html#a35ae5bdbb5f60664f0a367d5c3ad9efe">user</a>.get(), tenant, bucket_name, <a class="code hl_variable" href="structrgw__log__entry.html#ade138581b4da0c38466f03c320bdd1ee">bucket_id</a>, &amp;<a class="code hl_variable" href="structrgw__log__entry.html#abe38126b4342e5e27a847c7850bb58d4">bucket</a>);</div>
<div class="line"><span class="lineno"> 8710</span>    <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno"> 8711</span>      <span class="keywordflow">return</span> -ret;</div>
<div class="line"><span class="lineno"> 8712</span>    }</div>
<div class="line"><span class="lineno"> 8713</span>    <a class="code hl_function" href="rgw__admin_8cc.html#a1952ece8a97cc8cf04493a430fb3b6dd">bucket_sync_status</a>(<span class="keyword">static_cast&lt;</span><a class="code hl_class" href="classrgw_1_1sal_1_1_rados_store.html">rgw::sal::RadosStore</a>*<span class="keyword">&gt;</span>(<a class="code hl_variable" href="rgw__admin_8cc.html#a6fdb26d64b14d837b60e83a6ca3e2863">store</a>), <a class="code hl_variable" href="structrgw__log__entry.html#abe38126b4342e5e27a847c7850bb58d4">bucket</a>-&gt;get_info(), source_zone, opt_source_bucket, std::cout);</div>
<div class="line"><span class="lineno"> 8714</span>  }</div>
<div class="line"><span class="lineno"> 8715</span> </div>
<div class="line"><span class="lineno"> 8716</span>  <span class="keywordflow">if</span> (opt_cmd == OPT::BUCKET_SYNC_MARKERS) {</div>
<div class="line"><span class="lineno"> 8717</span>    <span class="keywordflow">if</span> (source_zone.<a class="code hl_function" href="structrgw__zone__id.html#a5b69701e74c5168f32c07c3459c22272">empty</a>()) {</div>
<div class="line"><span class="lineno"> 8718</span>      cerr &lt;&lt; <span class="stringliteral">&quot;ERROR: source zone not specified&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 8719</span>      <span class="keywordflow">return</span> EINVAL;</div>
<div class="line"><span class="lineno"> 8720</span>    }</div>
<div class="line"><span class="lineno"> 8721</span>    <span class="keywordflow">if</span> (bucket_name.empty()) {</div>
<div class="line"><span class="lineno"> 8722</span>      cerr &lt;&lt; <span class="stringliteral">&quot;ERROR: bucket not specified&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 8723</span>      <span class="keywordflow">return</span> EINVAL;</div>
<div class="line"><span class="lineno"> 8724</span>    }</div>
<div class="line"><span class="lineno"> 8725</span>    <span class="keywordtype">int</span> ret = <a class="code hl_function" href="rgw__admin_8cc.html#a4c2860d7471eb587fb90ca562186b7f7">init_bucket_for_sync</a>(<a class="code hl_variable" href="structrgw__log__entry.html#a35ae5bdbb5f60664f0a367d5c3ad9efe">user</a>.get(), tenant, bucket_name, <a class="code hl_variable" href="structrgw__log__entry.html#ade138581b4da0c38466f03c320bdd1ee">bucket_id</a>, &amp;<a class="code hl_variable" href="structrgw__log__entry.html#abe38126b4342e5e27a847c7850bb58d4">bucket</a>);</div>
<div class="line"><span class="lineno"> 8726</span>    <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno"> 8727</span>      <span class="keywordflow">return</span> -ret;</div>
<div class="line"><span class="lineno"> 8728</span>    }</div>
<div class="line"><span class="lineno"> 8729</span>    <a class="code hl_class" href="class_r_g_w_bucket_pipe_sync_status_manager.html">RGWBucketPipeSyncStatusManager</a> sync(<span class="keyword">static_cast&lt;</span><a class="code hl_class" href="classrgw_1_1sal_1_1_rados_store.html">rgw::sal::RadosStore</a>*<span class="keyword">&gt;</span>(<a class="code hl_variable" href="rgw__admin_8cc.html#a6fdb26d64b14d837b60e83a6ca3e2863">store</a>), source_zone, opt_source_bucket, <a class="code hl_variable" href="structrgw__log__entry.html#abe38126b4342e5e27a847c7850bb58d4">bucket</a>-&gt;get_key());</div>
<div class="line"><span class="lineno"> 8730</span> </div>
<div class="line"><span class="lineno"> 8731</span>    ret = sync.init(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>());</div>
<div class="line"><span class="lineno"> 8732</span>    <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno"> 8733</span>      cerr &lt;&lt; <span class="stringliteral">&quot;ERROR: sync.init() returned ret=&quot;</span> &lt;&lt; ret &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 8734</span>      <span class="keywordflow">return</span> -ret;</div>
<div class="line"><span class="lineno"> 8735</span>    }</div>
<div class="line"><span class="lineno"> 8736</span>    ret = sync.read_sync_status(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>());</div>
<div class="line"><span class="lineno"> 8737</span>    <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno"> 8738</span>      cerr &lt;&lt; <span class="stringliteral">&quot;ERROR: sync.read_sync_status() returned ret=&quot;</span> &lt;&lt; ret &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 8739</span>      <span class="keywordflow">return</span> -ret;</div>
<div class="line"><span class="lineno"> 8740</span>    }</div>
<div class="line"><span class="lineno"> 8741</span> </div>
<div class="line"><span class="lineno"> 8742</span>    map&lt;int, rgw_bucket_shard_sync_info&gt;&amp; <a class="code hl_function" href="rgw__admin_8cc.html#a313adbe2d817ca90ee002626049cdacf">sync_status</a> = sync.get_sync_status();</div>
<div class="line"><span class="lineno"> 8743</span> </div>
<div class="line"><span class="lineno"> 8744</span>    <a class="code hl_function" href="rgw__admin_8cc.html#ab596b9e1a1fc78e98a4d13a66578b658">encode_json</a>(<span class="stringliteral">&quot;sync_status&quot;</span>, <a class="code hl_function" href="rgw__admin_8cc.html#a313adbe2d817ca90ee002626049cdacf">sync_status</a>, formatter.get());</div>
<div class="line"><span class="lineno"> 8745</span>    formatter-&gt;flush(cout);</div>
<div class="line"><span class="lineno"> 8746</span>  }</div>
<div class="line"><span class="lineno"> 8747</span> </div>
<div class="line"><span class="lineno"> 8748</span> <span class="keywordflow">if</span> (opt_cmd == OPT::BUCKET_SYNC_RUN) {</div>
<div class="line"><span class="lineno"> 8749</span>    <span class="keywordflow">if</span> (source_zone.<a class="code hl_function" href="structrgw__zone__id.html#a5b69701e74c5168f32c07c3459c22272">empty</a>()) {</div>
<div class="line"><span class="lineno"> 8750</span>      cerr &lt;&lt; <span class="stringliteral">&quot;ERROR: source zone not specified&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 8751</span>      <span class="keywordflow">return</span> EINVAL;</div>
<div class="line"><span class="lineno"> 8752</span>    }</div>
<div class="line"><span class="lineno"> 8753</span>    <span class="keywordflow">if</span> (bucket_name.empty()) {</div>
<div class="line"><span class="lineno"> 8754</span>      cerr &lt;&lt; <span class="stringliteral">&quot;ERROR: bucket not specified&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 8755</span>      <span class="keywordflow">return</span> EINVAL;</div>
<div class="line"><span class="lineno"> 8756</span>    }</div>
<div class="line"><span class="lineno"> 8757</span>    <span class="keywordtype">int</span> ret = <a class="code hl_function" href="rgw__admin_8cc.html#a4c2860d7471eb587fb90ca562186b7f7">init_bucket_for_sync</a>(<a class="code hl_variable" href="structrgw__log__entry.html#a35ae5bdbb5f60664f0a367d5c3ad9efe">user</a>.get(), tenant, bucket_name, <a class="code hl_variable" href="structrgw__log__entry.html#ade138581b4da0c38466f03c320bdd1ee">bucket_id</a>, &amp;<a class="code hl_variable" href="structrgw__log__entry.html#abe38126b4342e5e27a847c7850bb58d4">bucket</a>);</div>
<div class="line"><span class="lineno"> 8758</span>    <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno"> 8759</span>      <span class="keywordflow">return</span> -ret;</div>
<div class="line"><span class="lineno"> 8760</span>    }</div>
<div class="line"><span class="lineno"> 8761</span>    <a class="code hl_class" href="class_r_g_w_bucket_pipe_sync_status_manager.html">RGWBucketPipeSyncStatusManager</a> sync(<span class="keyword">static_cast&lt;</span><a class="code hl_class" href="classrgw_1_1sal_1_1_rados_store.html">rgw::sal::RadosStore</a>*<span class="keyword">&gt;</span>(<a class="code hl_variable" href="rgw__admin_8cc.html#a6fdb26d64b14d837b60e83a6ca3e2863">store</a>), source_zone, opt_source_bucket, <a class="code hl_variable" href="structrgw__log__entry.html#abe38126b4342e5e27a847c7850bb58d4">bucket</a>-&gt;get_key());</div>
<div class="line"><span class="lineno"> 8762</span> </div>
<div class="line"><span class="lineno"> 8763</span>    ret = sync.init(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>());</div>
<div class="line"><span class="lineno"> 8764</span>    <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno"> 8765</span>      cerr &lt;&lt; <span class="stringliteral">&quot;ERROR: sync.init() returned ret=&quot;</span> &lt;&lt; ret &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 8766</span>      <span class="keywordflow">return</span> -ret;</div>
<div class="line"><span class="lineno"> 8767</span>    }</div>
<div class="line"><span class="lineno"> 8768</span> </div>
<div class="line"><span class="lineno"> 8769</span>    ret = sync.run(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>());</div>
<div class="line"><span class="lineno"> 8770</span>    <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno"> 8771</span>      cerr &lt;&lt; <span class="stringliteral">&quot;ERROR: sync.run() returned ret=&quot;</span> &lt;&lt; ret &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 8772</span>      <span class="keywordflow">return</span> -ret;</div>
<div class="line"><span class="lineno"> 8773</span>    }</div>
<div class="line"><span class="lineno"> 8774</span>  }</div>
<div class="line"><span class="lineno"> 8775</span> </div>
<div class="line"><span class="lineno"> 8776</span>  <span class="keywordflow">if</span> (opt_cmd == OPT::BILOG_LIST) {</div>
<div class="line"><span class="lineno"> 8777</span>    <span class="keywordflow">if</span> (bucket_name.empty()) {</div>
<div class="line"><span class="lineno"> 8778</span>      cerr &lt;&lt; <span class="stringliteral">&quot;ERROR: bucket not specified&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 8779</span>      <span class="keywordflow">return</span> EINVAL;</div>
<div class="line"><span class="lineno"> 8780</span>    }</div>
<div class="line"><span class="lineno"> 8781</span>    <span class="keywordtype">int</span> ret = <a class="code hl_function" href="rgw__admin_8cc.html#a0023a8779e3ab0d965d9acfb3eb72cac">init_bucket</a>(<a class="code hl_variable" href="structrgw__log__entry.html#a35ae5bdbb5f60664f0a367d5c3ad9efe">user</a>.get(), tenant, bucket_name, <a class="code hl_variable" href="structrgw__log__entry.html#ade138581b4da0c38466f03c320bdd1ee">bucket_id</a>, &amp;<a class="code hl_variable" href="structrgw__log__entry.html#abe38126b4342e5e27a847c7850bb58d4">bucket</a>);</div>
<div class="line"><span class="lineno"> 8782</span>    <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno"> 8783</span>      cerr &lt;&lt; <span class="stringliteral">&quot;ERROR: could not init bucket: &quot;</span> &lt;&lt; cpp_strerror(-ret) &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 8784</span>      <span class="keywordflow">return</span> -ret;</div>
<div class="line"><span class="lineno"> 8785</span>    }</div>
<div class="line"><span class="lineno"> 8786</span>    formatter-&gt;open_array_section(<span class="stringliteral">&quot;entries&quot;</span>);</div>
<div class="line"><span class="lineno"> 8787</span>    <span class="keywordtype">bool</span> truncated;</div>
<div class="line"><span class="lineno"> 8788</span>    <span class="keywordtype">int</span> <a class="code hl_enumvalue" href="namespacergw_1_1dmclock.html#a6ed0c6ad7f7fc29a06f52a0070d21493ae2942a04780e223b215eb8b663cf5353">count</a> = 0;</div>
<div class="line"><span class="lineno"> 8789</span>    <span class="keywordflow">if</span> (max_entries &lt; 0)</div>
<div class="line"><span class="lineno"> 8790</span>      max_entries = 1000;</div>
<div class="line"><span class="lineno"> 8791</span> </div>
<div class="line"><span class="lineno"> 8792</span>    <span class="keywordflow">do</span> {</div>
<div class="line"><span class="lineno"> 8793</span>      list&lt;rgw_bi_log_entry&gt; <a class="code hl_variable" href="cls__fifo__legacy_8cc.html#a0341b0ec09e77f9d6274d5b1517f7711">entries</a>;</div>
<div class="line"><span class="lineno"> 8794</span>      ret = <span class="keyword">static_cast&lt;</span><a class="code hl_class" href="classrgw_1_1sal_1_1_rados_store.html">rgw::sal::RadosStore</a>*<span class="keyword">&gt;</span>(<a class="code hl_variable" href="rgw__admin_8cc.html#a6fdb26d64b14d837b60e83a6ca3e2863">store</a>)-&gt;svc()-&gt;bilog_rados-&gt;log_list(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>(), <a class="code hl_variable" href="structrgw__log__entry.html#abe38126b4342e5e27a847c7850bb58d4">bucket</a>-&gt;get_info(), shard_id, marker, max_entries - <a class="code hl_enumvalue" href="namespacergw_1_1dmclock.html#a6ed0c6ad7f7fc29a06f52a0070d21493ae2942a04780e223b215eb8b663cf5353">count</a>, <a class="code hl_variable" href="cls__fifo__legacy_8cc.html#a0341b0ec09e77f9d6274d5b1517f7711">entries</a>, &amp;truncated);</div>
<div class="line"><span class="lineno"> 8795</span>      <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno"> 8796</span>        cerr &lt;&lt; <span class="stringliteral">&quot;ERROR: list_bi_log_entries(): &quot;</span> &lt;&lt; cpp_strerror(-ret) &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 8797</span>        <span class="keywordflow">return</span> -ret;</div>
<div class="line"><span class="lineno"> 8798</span>      }</div>
<div class="line"><span class="lineno"> 8799</span> </div>
<div class="line"><span class="lineno"> 8800</span>      <a class="code hl_enumvalue" href="namespacergw_1_1dmclock.html#a6ed0c6ad7f7fc29a06f52a0070d21493ae2942a04780e223b215eb8b663cf5353">count</a> += <a class="code hl_variable" href="cls__fifo__legacy_8cc.html#a0341b0ec09e77f9d6274d5b1517f7711">entries</a>.size();</div>
<div class="line"><span class="lineno"> 8801</span> </div>
<div class="line"><span class="lineno"> 8802</span>      <span class="keywordflow">for</span> (list&lt;rgw_bi_log_entry&gt;::iterator iter = <a class="code hl_variable" href="cls__fifo__legacy_8cc.html#a0341b0ec09e77f9d6274d5b1517f7711">entries</a>.begin(); iter != <a class="code hl_variable" href="cls__fifo__legacy_8cc.html#a0341b0ec09e77f9d6274d5b1517f7711">entries</a>.end(); ++iter) {</div>
<div class="line"><span class="lineno"> 8803</span>        rgw_bi_log_entry&amp; entry = *iter;</div>
<div class="line"><span class="lineno"> 8804</span>        <a class="code hl_function" href="rgw__admin_8cc.html#ab596b9e1a1fc78e98a4d13a66578b658">encode_json</a>(<span class="stringliteral">&quot;entry&quot;</span>, entry, formatter.get());</div>
<div class="line"><span class="lineno"> 8805</span> </div>
<div class="line"><span class="lineno"> 8806</span>        marker = entry.id;</div>
<div class="line"><span class="lineno"> 8807</span>      }</div>
<div class="line"><span class="lineno"> 8808</span>      formatter-&gt;flush(cout);</div>
<div class="line"><span class="lineno"> 8809</span>    } <span class="keywordflow">while</span> (truncated &amp;&amp; count &lt; max_entries);</div>
<div class="line"><span class="lineno"> 8810</span> </div>
<div class="line"><span class="lineno"> 8811</span>    formatter-&gt;close_section();</div>
<div class="line"><span class="lineno"> 8812</span>    formatter-&gt;flush(cout);</div>
<div class="line"><span class="lineno"> 8813</span>  }</div>
<div class="line"><span class="lineno"> 8814</span> </div>
<div class="line"><span class="lineno"> 8815</span>  <span class="keywordflow">if</span> (opt_cmd == OPT::SYNC_ERROR_LIST) {</div>
<div class="line"><span class="lineno"> 8816</span>    <span class="keywordflow">if</span> (max_entries &lt; 0) {</div>
<div class="line"><span class="lineno"> 8817</span>      max_entries = 1000;</div>
<div class="line"><span class="lineno"> 8818</span>    }</div>
<div class="line"><span class="lineno"> 8819</span>    <span class="keywordflow">if</span> (!start_date.empty()) {</div>
<div class="line"><span class="lineno"> 8820</span>      std::cerr &lt;&lt; <span class="stringliteral">&quot;start-date not allowed.&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 8821</span>      <span class="keywordflow">return</span> -EINVAL;</div>
<div class="line"><span class="lineno"> 8822</span>    }</div>
<div class="line"><span class="lineno"> 8823</span>    <span class="keywordflow">if</span> (!end_date.empty()) {</div>
<div class="line"><span class="lineno"> 8824</span>      std::cerr &lt;&lt; <span class="stringliteral">&quot;end-date not allowed.&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 8825</span>      <span class="keywordflow">return</span> -EINVAL;</div>
<div class="line"><span class="lineno"> 8826</span>    }</div>
<div class="line"><span class="lineno"> 8827</span>    <span class="keywordflow">if</span> (!end_marker.empty()) {</div>
<div class="line"><span class="lineno"> 8828</span>      std::cerr &lt;&lt; <span class="stringliteral">&quot;end-marker not allowed.&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 8829</span>      <span class="keywordflow">return</span> -EINVAL;</div>
<div class="line"><span class="lineno"> 8830</span>    }</div>
<div class="line"><span class="lineno"> 8831</span>    <span class="keywordflow">if</span> (!start_marker.empty()) {</div>
<div class="line"><span class="lineno"> 8832</span>      <span class="keywordflow">if</span> (marker.empty()) {</div>
<div class="line"><span class="lineno"> 8833</span>    marker = start_marker;</div>
<div class="line"><span class="lineno"> 8834</span>      } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 8835</span>    std::cerr &lt;&lt; <span class="stringliteral">&quot;start-marker and marker not both allowed.&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 8836</span>    <span class="keywordflow">return</span> -EINVAL;</div>
<div class="line"><span class="lineno"> 8837</span>      }</div>
<div class="line"><span class="lineno"> 8838</span>    }</div>
<div class="line"><span class="lineno"> 8839</span> </div>
<div class="line"><span class="lineno"> 8840</span>    <span class="keywordtype">bool</span> truncated;</div>
<div class="line"><span class="lineno"> 8841</span> </div>
<div class="line"><span class="lineno"> 8842</span>    <span class="keywordflow">if</span> (shard_id &lt; 0) {</div>
<div class="line"><span class="lineno"> 8843</span>      shard_id = 0;</div>
<div class="line"><span class="lineno"> 8844</span>    }</div>
<div class="line"><span class="lineno"> 8845</span> </div>
<div class="line"><span class="lineno"> 8846</span>    formatter-&gt;open_array_section(<span class="stringliteral">&quot;entries&quot;</span>);</div>
<div class="line"><span class="lineno"> 8847</span> </div>
<div class="line"><span class="lineno"> 8848</span>    <span class="keywordflow">for</span> (; shard_id &lt; <a class="code hl_define" href="rgw__sync_8h.html#ac8a60a8be2db5d0fddffd40fdba3399f">ERROR_LOGGER_SHARDS</a>; ++shard_id) {</div>
<div class="line"><span class="lineno"> 8849</span>      formatter-&gt;open_object_section(<span class="stringliteral">&quot;shard&quot;</span>);</div>
<div class="line"><span class="lineno"> 8850</span>      <a class="code hl_function" href="rgw__admin_8cc.html#ab596b9e1a1fc78e98a4d13a66578b658">encode_json</a>(<span class="stringliteral">&quot;shard_id&quot;</span>, shard_id, formatter.get());</div>
<div class="line"><span class="lineno"> 8851</span>      formatter-&gt;open_array_section(<span class="stringliteral">&quot;entries&quot;</span>);</div>
<div class="line"><span class="lineno"> 8852</span> </div>
<div class="line"><span class="lineno"> 8853</span>      <span class="keywordtype">int</span> <a class="code hl_enumvalue" href="namespacergw_1_1dmclock.html#a6ed0c6ad7f7fc29a06f52a0070d21493ae2942a04780e223b215eb8b663cf5353">count</a> = 0;</div>
<div class="line"><span class="lineno"> 8854</span>      <span class="keywordtype">string</span> oid = <a class="code hl_function" href="class_r_g_w_sync_error_logger.html#afaa584ebdd99faff55eec43fe1e48ae8">RGWSyncErrorLogger::get_shard_oid</a>(<a class="code hl_define" href="rgw__sync_8h.html#ac5f423d1a7806a5f3e8995fa874d51c4">RGW_SYNC_ERROR_LOG_SHARD_PREFIX</a>, shard_id);</div>
<div class="line"><span class="lineno"> 8855</span> </div>
<div class="line"><span class="lineno"> 8856</span>      <span class="keywordflow">do</span> {</div>
<div class="line"><span class="lineno"> 8857</span>        list&lt;cls_log_entry&gt; <a class="code hl_variable" href="cls__fifo__legacy_8cc.html#a0341b0ec09e77f9d6274d5b1517f7711">entries</a>;</div>
<div class="line"><span class="lineno"> 8858</span>        ret = <span class="keyword">static_cast&lt;</span><a class="code hl_class" href="classrgw_1_1sal_1_1_rados_store.html">rgw::sal::RadosStore</a>*<span class="keyword">&gt;</span>(<a class="code hl_variable" href="rgw__admin_8cc.html#a6fdb26d64b14d837b60e83a6ca3e2863">store</a>)-&gt;svc()-&gt;cls-&gt;timelog.list(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>(), oid, {}, {}, max_entries - <a class="code hl_enumvalue" href="namespacergw_1_1dmclock.html#a6ed0c6ad7f7fc29a06f52a0070d21493ae2942a04780e223b215eb8b663cf5353">count</a>, <a class="code hl_variable" href="cls__fifo__legacy_8cc.html#a0341b0ec09e77f9d6274d5b1517f7711">entries</a>, marker, &amp;marker, &amp;truncated,</div>
<div class="line"><span class="lineno"> 8859</span>                          null_yield);</div>
<div class="line"><span class="lineno"> 8860</span>    <span class="keywordflow">if</span> (ret == -ENOENT) {</div>
<div class="line"><span class="lineno"> 8861</span>      <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 8862</span>        }</div>
<div class="line"><span class="lineno"> 8863</span>        <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno"> 8864</span>          cerr &lt;&lt; <span class="stringliteral">&quot;ERROR: svc.cls-&gt;timelog.list(): &quot;</span> &lt;&lt; cpp_strerror(-ret) &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 8865</span>          <span class="keywordflow">return</span> -ret;</div>
<div class="line"><span class="lineno"> 8866</span>        }</div>
<div class="line"><span class="lineno"> 8867</span> </div>
<div class="line"><span class="lineno"> 8868</span>        <a class="code hl_enumvalue" href="namespacergw_1_1dmclock.html#a6ed0c6ad7f7fc29a06f52a0070d21493ae2942a04780e223b215eb8b663cf5353">count</a> += <a class="code hl_variable" href="cls__fifo__legacy_8cc.html#a0341b0ec09e77f9d6274d5b1517f7711">entries</a>.size();</div>
<div class="line"><span class="lineno"> 8869</span> </div>
<div class="line"><span class="lineno"> 8870</span>        <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp; cls_entry : <a class="code hl_variable" href="cls__fifo__legacy_8cc.html#a0341b0ec09e77f9d6274d5b1517f7711">entries</a>) {</div>
<div class="line"><span class="lineno"> 8871</span>          <a class="code hl_struct" href="structrgw__sync__error__info.html">rgw_sync_error_info</a> log_entry;</div>
<div class="line"><span class="lineno"> 8872</span> </div>
<div class="line"><span class="lineno"> 8873</span>          <span class="keyword">auto</span> iter = cls_entry.data.cbegin();</div>
<div class="line"><span class="lineno"> 8874</span>          <span class="keywordflow">try</span> {</div>
<div class="line"><span class="lineno"> 8875</span>            <a class="code hl_function" href="rgw__log__backing_8h.html#adc46efdde31cf790f3b383cb9e6f198e">decode</a>(log_entry, iter);</div>
<div class="line"><span class="lineno"> 8876</span>          } <span class="keywordflow">catch</span> (buffer::error&amp; err) {</div>
<div class="line"><span class="lineno"> 8877</span>            cerr &lt;&lt; <span class="stringliteral">&quot;ERROR: failed to decode log entry&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 8878</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 8879</span>          }</div>
<div class="line"><span class="lineno"> 8880</span>          formatter-&gt;open_object_section(<span class="stringliteral">&quot;entry&quot;</span>);</div>
<div class="line"><span class="lineno"> 8881</span>          <a class="code hl_function" href="rgw__admin_8cc.html#ab596b9e1a1fc78e98a4d13a66578b658">encode_json</a>(<span class="stringliteral">&quot;id&quot;</span>, cls_entry.id, formatter.get());</div>
<div class="line"><span class="lineno"> 8882</span>          <a class="code hl_function" href="rgw__admin_8cc.html#ab596b9e1a1fc78e98a4d13a66578b658">encode_json</a>(<span class="stringliteral">&quot;section&quot;</span>, cls_entry.section, formatter.get());</div>
<div class="line"><span class="lineno"> 8883</span>          <a class="code hl_function" href="rgw__admin_8cc.html#ab596b9e1a1fc78e98a4d13a66578b658">encode_json</a>(<span class="stringliteral">&quot;name&quot;</span>, cls_entry.name, formatter.get());</div>
<div class="line"><span class="lineno"> 8884</span>          <a class="code hl_function" href="rgw__admin_8cc.html#ab596b9e1a1fc78e98a4d13a66578b658">encode_json</a>(<span class="stringliteral">&quot;timestamp&quot;</span>, cls_entry.timestamp, formatter.get());</div>
<div class="line"><span class="lineno"> 8885</span>          <a class="code hl_function" href="rgw__admin_8cc.html#ab596b9e1a1fc78e98a4d13a66578b658">encode_json</a>(<span class="stringliteral">&quot;info&quot;</span>, log_entry, formatter.get());</div>
<div class="line"><span class="lineno"> 8886</span>          formatter-&gt;close_section();</div>
<div class="line"><span class="lineno"> 8887</span>          formatter-&gt;flush(cout);</div>
<div class="line"><span class="lineno"> 8888</span>        }</div>
<div class="line"><span class="lineno"> 8889</span>      } <span class="keywordflow">while</span> (truncated &amp;&amp; count &lt; max_entries);</div>
<div class="line"><span class="lineno"> 8890</span> </div>
<div class="line"><span class="lineno"> 8891</span>      formatter-&gt;close_section();</div>
<div class="line"><span class="lineno"> 8892</span>      formatter-&gt;close_section();</div>
<div class="line"><span class="lineno"> 8893</span> </div>
<div class="line"><span class="lineno"> 8894</span>      <span class="keywordflow">if</span> (specified_shard_id) {</div>
<div class="line"><span class="lineno"> 8895</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 8896</span>      }</div>
<div class="line"><span class="lineno"> 8897</span>    }</div>
<div class="line"><span class="lineno"> 8898</span> </div>
<div class="line"><span class="lineno"> 8899</span>    formatter-&gt;close_section();</div>
<div class="line"><span class="lineno"> 8900</span>    formatter-&gt;flush(cout);</div>
<div class="line"><span class="lineno"> 8901</span>  }</div>
<div class="line"><span class="lineno"> 8902</span> </div>
<div class="line"><span class="lineno"> 8903</span>  <span class="keywordflow">if</span> (opt_cmd == OPT::SYNC_ERROR_TRIM) {</div>
<div class="line"><span class="lineno"> 8904</span>    <span class="keywordflow">if</span> (!start_date.empty()) {</div>
<div class="line"><span class="lineno"> 8905</span>      std::cerr &lt;&lt; <span class="stringliteral">&quot;start-date not allowed.&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 8906</span>      <span class="keywordflow">return</span> -EINVAL;</div>
<div class="line"><span class="lineno"> 8907</span>    }</div>
<div class="line"><span class="lineno"> 8908</span>    <span class="keywordflow">if</span> (!end_date.empty()) {</div>
<div class="line"><span class="lineno"> 8909</span>      std::cerr &lt;&lt; <span class="stringliteral">&quot;end-date not allowed.&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 8910</span>      <span class="keywordflow">return</span> -EINVAL;</div>
<div class="line"><span class="lineno"> 8911</span>    }</div>
<div class="line"><span class="lineno"> 8912</span>    <span class="keywordflow">if</span> (!start_marker.empty()) {</div>
<div class="line"><span class="lineno"> 8913</span>      std::cerr &lt;&lt; <span class="stringliteral">&quot;end-date not allowed.&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 8914</span>      <span class="keywordflow">return</span> -EINVAL;</div>
<div class="line"><span class="lineno"> 8915</span>    }</div>
<div class="line"><span class="lineno"> 8916</span>    <span class="keywordflow">if</span> (!end_marker.empty()) {</div>
<div class="line"><span class="lineno"> 8917</span>      std::cerr &lt;&lt; <span class="stringliteral">&quot;end-date not allowed.&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 8918</span>      <span class="keywordflow">return</span> -EINVAL;</div>
<div class="line"><span class="lineno"> 8919</span>    }</div>
<div class="line"><span class="lineno"> 8920</span> </div>
<div class="line"><span class="lineno"> 8921</span>    <span class="keywordflow">if</span> (shard_id &lt; 0) {</div>
<div class="line"><span class="lineno"> 8922</span>      shard_id = 0;</div>
<div class="line"><span class="lineno"> 8923</span>    }</div>
<div class="line"><span class="lineno"> 8924</span> </div>
<div class="line"><span class="lineno"> 8925</span>    <span class="keywordflow">for</span> (; shard_id &lt; <a class="code hl_define" href="rgw__sync_8h.html#ac8a60a8be2db5d0fddffd40fdba3399f">ERROR_LOGGER_SHARDS</a>; ++shard_id) {</div>
<div class="line"><span class="lineno"> 8926</span>      ret = <a class="code hl_function" href="rgw__admin_8cc.html#a15dd52ecddc8de71b5476bac51af66b7">trim_sync_error_log</a>(shard_id, marker, trim_delay_ms);</div>
<div class="line"><span class="lineno"> 8927</span>      <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno"> 8928</span>        cerr &lt;&lt; <span class="stringliteral">&quot;ERROR: sync error trim: &quot;</span> &lt;&lt; cpp_strerror(-ret) &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 8929</span>        <span class="keywordflow">return</span> -ret;</div>
<div class="line"><span class="lineno"> 8930</span>      }</div>
<div class="line"><span class="lineno"> 8931</span>      <span class="keywordflow">if</span> (specified_shard_id) {</div>
<div class="line"><span class="lineno"> 8932</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 8933</span>      }</div>
<div class="line"><span class="lineno"> 8934</span>    }</div>
<div class="line"><span class="lineno"> 8935</span>  }</div>
<div class="line"><span class="lineno"> 8936</span> </div>
<div class="line"><span class="lineno"> 8937</span>  <span class="keywordflow">if</span> (opt_cmd == OPT::SYNC_GROUP_CREATE ||</div>
<div class="line"><span class="lineno"> 8938</span>      opt_cmd == OPT::SYNC_GROUP_MODIFY) {</div>
<div class="line"><span class="lineno"> 8939</span>    <a class="code hl_define" href="rgw__admin_8cc.html#aa0ae86aa3d2a507ff84e752fea20f39d">CHECK_TRUE</a>(<a class="code hl_function" href="rgw__admin_8cc.html#a0f5786a9208fab23de2b4d15b3280a19">require_opt</a>(opt_group_id), <span class="stringliteral">&quot;ERROR: --group-id not specified&quot;</span>, EINVAL);</div>
<div class="line"><span class="lineno"> 8940</span>    <a class="code hl_define" href="rgw__admin_8cc.html#aa0ae86aa3d2a507ff84e752fea20f39d">CHECK_TRUE</a>(<a class="code hl_function" href="rgw__admin_8cc.html#a0f5786a9208fab23de2b4d15b3280a19">require_opt</a>(opt_status), <span class="stringliteral">&quot;ERROR: --status is not specified (options: forbidden, allowed, enabled)&quot;</span>, EINVAL);</div>
<div class="line"><span class="lineno"> 8941</span> </div>
<div class="line"><span class="lineno"> 8942</span>    <a class="code hl_class" href="class_sync_policy_context.html">SyncPolicyContext</a> sync_policy_ctx(zonegroup_id, zonegroup_name, opt_bucket);</div>
<div class="line"><span class="lineno"> 8943</span>    ret = sync_policy_ctx.init();</div>
<div class="line"><span class="lineno"> 8944</span>    <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno"> 8945</span>      <span class="keywordflow">return</span> -ret;</div>
<div class="line"><span class="lineno"> 8946</span>    }</div>
<div class="line"><span class="lineno"> 8947</span>    <span class="keyword">auto</span>&amp; sync_policy = sync_policy_ctx.get_policy();</div>
<div class="line"><span class="lineno"> 8948</span> </div>
<div class="line"><span class="lineno"> 8949</span>    <span class="keywordflow">if</span> (opt_cmd == OPT::SYNC_GROUP_MODIFY) {</div>
<div class="line"><span class="lineno"> 8950</span>      <span class="keyword">auto</span> iter = sync_policy.groups.find(*opt_group_id);</div>
<div class="line"><span class="lineno"> 8951</span>      <span class="keywordflow">if</span> (iter == sync_policy.groups.end()) {</div>
<div class="line"><span class="lineno"> 8952</span>        cerr &lt;&lt; <span class="stringliteral">&quot;ERROR: could not find group &#39;&quot;</span> &lt;&lt; *opt_group_id &lt;&lt; <span class="stringliteral">&quot;&#39;&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 8953</span>        <span class="keywordflow">return</span> ENOENT;</div>
<div class="line"><span class="lineno"> 8954</span>      }</div>
<div class="line"><span class="lineno"> 8955</span>    }</div>
<div class="line"><span class="lineno"> 8956</span> </div>
<div class="line"><span class="lineno"> 8957</span>    <span class="keyword">auto</span>&amp; group = sync_policy.groups[*opt_group_id];</div>
<div class="line"><span class="lineno"> 8958</span>    group.id = *opt_group_id;</div>
<div class="line"><span class="lineno"> 8959</span> </div>
<div class="line"><span class="lineno"> 8960</span>    <span class="keywordflow">if</span> (opt_status) {</div>
<div class="line"><span class="lineno"> 8961</span>      <span class="keywordflow">if</span> (!group.set_status(*opt_status)) {</div>
<div class="line"><span class="lineno"> 8962</span>        cerr &lt;&lt; <span class="stringliteral">&quot;ERROR: unrecognized status (options: forbidden, allowed, enabled)&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 8963</span>        <span class="keywordflow">return</span> EINVAL;</div>
<div class="line"><span class="lineno"> 8964</span>      }</div>
<div class="line"><span class="lineno"> 8965</span>    }</div>
<div class="line"><span class="lineno"> 8966</span> </div>
<div class="line"><span class="lineno"> 8967</span>    ret = sync_policy_ctx.write_policy();</div>
<div class="line"><span class="lineno"> 8968</span>    <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno"> 8969</span>      <span class="keywordflow">return</span> -ret;</div>
<div class="line"><span class="lineno"> 8970</span>    }</div>
<div class="line"><span class="lineno"> 8971</span> </div>
<div class="line"><span class="lineno"> 8972</span>    <a class="code hl_function" href="rgw__admin_8cc.html#a2566548dda6d3a7ce1e9d3bca22d7a4c">show_result</a>(sync_policy, zone_formatter.get(), cout);</div>
<div class="line"><span class="lineno"> 8973</span>  }</div>
<div class="line"><span class="lineno"> 8974</span> </div>
<div class="line"><span class="lineno"> 8975</span>  <span class="keywordflow">if</span> (opt_cmd == OPT::SYNC_GROUP_GET) {</div>
<div class="line"><span class="lineno"> 8976</span>    <a class="code hl_class" href="class_sync_policy_context.html">SyncPolicyContext</a> sync_policy_ctx(zonegroup_id, zonegroup_name, opt_bucket);</div>
<div class="line"><span class="lineno"> 8977</span>    ret = sync_policy_ctx.init();</div>
<div class="line"><span class="lineno"> 8978</span>    <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno"> 8979</span>      <span class="keywordflow">return</span> -ret;</div>
<div class="line"><span class="lineno"> 8980</span>    }</div>
<div class="line"><span class="lineno"> 8981</span>    <span class="keyword">auto</span>&amp; sync_policy = sync_policy_ctx.get_policy();</div>
<div class="line"><span class="lineno"> 8982</span> </div>
<div class="line"><span class="lineno"> 8983</span>    <span class="keyword">auto</span>&amp; groups = sync_policy.groups;</div>
<div class="line"><span class="lineno"> 8984</span> </div>
<div class="line"><span class="lineno"> 8985</span>    <span class="keywordflow">if</span> (!opt_group_id) {</div>
<div class="line"><span class="lineno"> 8986</span>      <a class="code hl_function" href="rgw__admin_8cc.html#a2566548dda6d3a7ce1e9d3bca22d7a4c">show_result</a>(groups, zone_formatter.get(), cout);</div>
<div class="line"><span class="lineno"> 8987</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 8988</span>      <span class="keyword">auto</span> iter = sync_policy.groups.find(*opt_group_id);</div>
<div class="line"><span class="lineno"> 8989</span>      <span class="keywordflow">if</span> (iter == sync_policy.groups.end()) {</div>
<div class="line"><span class="lineno"> 8990</span>        cerr &lt;&lt; <span class="stringliteral">&quot;ERROR: could not find group &#39;&quot;</span> &lt;&lt; *opt_group_id &lt;&lt; <span class="stringliteral">&quot;&#39;&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 8991</span>        <span class="keywordflow">return</span> ENOENT;</div>
<div class="line"><span class="lineno"> 8992</span>      }</div>
<div class="line"><span class="lineno"> 8993</span> </div>
<div class="line"><span class="lineno"> 8994</span>      <a class="code hl_function" href="rgw__admin_8cc.html#a2566548dda6d3a7ce1e9d3bca22d7a4c">show_result</a>(iter-&gt;second, zone_formatter.get(), cout);</div>
<div class="line"><span class="lineno"> 8995</span>    }</div>
<div class="line"><span class="lineno"> 8996</span>  }</div>
<div class="line"><span class="lineno"> 8997</span> </div>
<div class="line"><span class="lineno"> 8998</span>  <span class="keywordflow">if</span> (opt_cmd == OPT::SYNC_GROUP_REMOVE) {</div>
<div class="line"><span class="lineno"> 8999</span>    <a class="code hl_define" href="rgw__admin_8cc.html#aa0ae86aa3d2a507ff84e752fea20f39d">CHECK_TRUE</a>(<a class="code hl_function" href="rgw__admin_8cc.html#a0f5786a9208fab23de2b4d15b3280a19">require_opt</a>(opt_group_id), <span class="stringliteral">&quot;ERROR: --group-id not specified&quot;</span>, EINVAL);</div>
<div class="line"><span class="lineno"> 9000</span> </div>
<div class="line"><span class="lineno"> 9001</span>    <a class="code hl_class" href="class_sync_policy_context.html">SyncPolicyContext</a> sync_policy_ctx(zonegroup_id, zonegroup_name, opt_bucket);</div>
<div class="line"><span class="lineno"> 9002</span>    ret = sync_policy_ctx.init();</div>
<div class="line"><span class="lineno"> 9003</span>    <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno"> 9004</span>      <span class="keywordflow">return</span> -ret;</div>
<div class="line"><span class="lineno"> 9005</span>    }</div>
<div class="line"><span class="lineno"> 9006</span>    <span class="keyword">auto</span>&amp; sync_policy = sync_policy_ctx.get_policy();</div>
<div class="line"><span class="lineno"> 9007</span> </div>
<div class="line"><span class="lineno"> 9008</span>    sync_policy.groups.erase(*opt_group_id);</div>
<div class="line"><span class="lineno"> 9009</span> </div>
<div class="line"><span class="lineno"> 9010</span>    ret = sync_policy_ctx.write_policy();</div>
<div class="line"><span class="lineno"> 9011</span>    <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno"> 9012</span>      <span class="keywordflow">return</span> -ret;</div>
<div class="line"><span class="lineno"> 9013</span>    }</div>
<div class="line"><span class="lineno"> 9014</span> </div>
<div class="line"><span class="lineno"> 9015</span>    {</div>
<div class="line"><span class="lineno"> 9016</span>      Formatter::ObjectSection os(*zone_formatter.get(), <span class="stringliteral">&quot;result&quot;</span>);</div>
<div class="line"><span class="lineno"> 9017</span>      <a class="code hl_function" href="rgw__admin_8cc.html#ab596b9e1a1fc78e98a4d13a66578b658">encode_json</a>(<span class="stringliteral">&quot;sync_policy&quot;</span>, sync_policy, zone_formatter.get());</div>
<div class="line"><span class="lineno"> 9018</span>    }</div>
<div class="line"><span class="lineno"> 9019</span> </div>
<div class="line"><span class="lineno"> 9020</span>    zone_formatter-&gt;flush(cout);</div>
<div class="line"><span class="lineno"> 9021</span>  }</div>
<div class="line"><span class="lineno"> 9022</span> </div>
<div class="line"><span class="lineno"> 9023</span>  <span class="keywordflow">if</span> (opt_cmd == OPT::SYNC_GROUP_FLOW_CREATE) {</div>
<div class="line"><span class="lineno"> 9024</span>    <a class="code hl_define" href="rgw__admin_8cc.html#aa0ae86aa3d2a507ff84e752fea20f39d">CHECK_TRUE</a>(<a class="code hl_function" href="rgw__admin_8cc.html#a0f5786a9208fab23de2b4d15b3280a19">require_opt</a>(opt_group_id), <span class="stringliteral">&quot;ERROR: --group-id not specified&quot;</span>, EINVAL);</div>
<div class="line"><span class="lineno"> 9025</span>    <a class="code hl_define" href="rgw__admin_8cc.html#aa0ae86aa3d2a507ff84e752fea20f39d">CHECK_TRUE</a>(<a class="code hl_function" href="rgw__admin_8cc.html#a0f5786a9208fab23de2b4d15b3280a19">require_opt</a>(opt_flow_id), <span class="stringliteral">&quot;ERROR: --flow-id not specified&quot;</span>, EINVAL);</div>
<div class="line"><span class="lineno"> 9026</span>    <a class="code hl_define" href="rgw__admin_8cc.html#aa0ae86aa3d2a507ff84e752fea20f39d">CHECK_TRUE</a>(<a class="code hl_function" href="rgw__admin_8cc.html#a0f5786a9208fab23de2b4d15b3280a19">require_opt</a>(opt_flow_type),</div>
<div class="line"><span class="lineno"> 9027</span>                           <span class="stringliteral">&quot;ERROR: --flow-type not specified (options: symmetrical, directional)&quot;</span>, EINVAL);</div>
<div class="line"><span class="lineno"> 9028</span>    <a class="code hl_define" href="rgw__admin_8cc.html#aa0ae86aa3d2a507ff84e752fea20f39d">CHECK_TRUE</a>((<a class="code hl_function" href="rgw__admin_8cc.html#ab8cce19268215080781572ed7419e6be">symmetrical_flow_opt</a>(*opt_flow_type) ||</div>
<div class="line"><span class="lineno"> 9029</span>                            <a class="code hl_function" href="rgw__admin_8cc.html#ae20a7c4c3a4d5f2419cb34c2fc4c9a87">directional_flow_opt</a>(*opt_flow_type)),</div>
<div class="line"><span class="lineno"> 9030</span>                           <span class="stringliteral">&quot;ERROR: --flow-type invalid (options: symmetrical, directional)&quot;</span>, EINVAL);</div>
<div class="line"><span class="lineno"> 9031</span> </div>
<div class="line"><span class="lineno"> 9032</span>    <a class="code hl_class" href="class_sync_policy_context.html">SyncPolicyContext</a> sync_policy_ctx(zonegroup_id, zonegroup_name, opt_bucket);</div>
<div class="line"><span class="lineno"> 9033</span>    ret = sync_policy_ctx.init();</div>
<div class="line"><span class="lineno"> 9034</span>    <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno"> 9035</span>      <span class="keywordflow">return</span> -ret;</div>
<div class="line"><span class="lineno"> 9036</span>    }</div>
<div class="line"><span class="lineno"> 9037</span>    <span class="keyword">auto</span>&amp; sync_policy = sync_policy_ctx.get_policy();</div>
<div class="line"><span class="lineno"> 9038</span> </div>
<div class="line"><span class="lineno"> 9039</span>    <span class="keyword">auto</span> iter = sync_policy.groups.find(*opt_group_id);</div>
<div class="line"><span class="lineno"> 9040</span>    <span class="keywordflow">if</span> (iter == sync_policy.groups.end()) {</div>
<div class="line"><span class="lineno"> 9041</span>      cerr &lt;&lt; <span class="stringliteral">&quot;ERROR: could not find group &#39;&quot;</span> &lt;&lt; *opt_group_id &lt;&lt; <span class="stringliteral">&quot;&#39;&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 9042</span>      <span class="keywordflow">return</span> ENOENT;</div>
<div class="line"><span class="lineno"> 9043</span>    }</div>
<div class="line"><span class="lineno"> 9044</span> </div>
<div class="line"><span class="lineno"> 9045</span>    <span class="keyword">auto</span>&amp; group = iter-&gt;second;</div>
<div class="line"><span class="lineno"> 9046</span> </div>
<div class="line"><span class="lineno"> 9047</span>    <span class="keywordflow">if</span> (<a class="code hl_function" href="rgw__admin_8cc.html#ab8cce19268215080781572ed7419e6be">symmetrical_flow_opt</a>(*opt_flow_type)) {</div>
<div class="line"><span class="lineno"> 9048</span>      <a class="code hl_define" href="rgw__admin_8cc.html#aa0ae86aa3d2a507ff84e752fea20f39d">CHECK_TRUE</a>(<a class="code hl_function" href="rgw__admin_8cc.html#a78fd52ad2c196db029e40a44eebaa75c">require_non_empty_opt</a>(opt_zone_ids), <span class="stringliteral">&quot;ERROR: --zones not provided for symmetrical flow, or is empty&quot;</span>, EINVAL);</div>
<div class="line"><span class="lineno"> 9049</span> </div>
<div class="line"><span class="lineno"> 9050</span>      <a class="code hl_struct" href="structrgw__sync__symmetric__group.html">rgw_sync_symmetric_group</a> *flow_group;</div>
<div class="line"><span class="lineno"> 9051</span> </div>
<div class="line"><span class="lineno"> 9052</span>      group.data_flow.find_or_create_symmetrical(*opt_flow_id, &amp;flow_group);</div>
<div class="line"><span class="lineno"> 9053</span> </div>
<div class="line"><span class="lineno"> 9054</span>      <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp; z : *opt_zone_ids) {</div>
<div class="line"><span class="lineno"> 9055</span>        flow_group-&gt;<a class="code hl_variable" href="structrgw__sync__symmetric__group.html#aada6e436a3ff18a1d548cf217a1f5885">zones</a>.insert(z);</div>
<div class="line"><span class="lineno"> 9056</span>      }</div>
<div class="line"><span class="lineno"> 9057</span>    } <span class="keywordflow">else</span> { <span class="comment">/* directional */</span></div>
<div class="line"><span class="lineno"> 9058</span>      <a class="code hl_define" href="rgw__admin_8cc.html#aa0ae86aa3d2a507ff84e752fea20f39d">CHECK_TRUE</a>(<a class="code hl_function" href="rgw__admin_8cc.html#a78fd52ad2c196db029e40a44eebaa75c">require_non_empty_opt</a>(opt_source_zone_id), <span class="stringliteral">&quot;ERROR: --source-zone not provided for directional flow rule, or is empty&quot;</span>, EINVAL);</div>
<div class="line"><span class="lineno"> 9059</span>      <a class="code hl_define" href="rgw__admin_8cc.html#aa0ae86aa3d2a507ff84e752fea20f39d">CHECK_TRUE</a>(<a class="code hl_function" href="rgw__admin_8cc.html#a78fd52ad2c196db029e40a44eebaa75c">require_non_empty_opt</a>(opt_dest_zone_id), <span class="stringliteral">&quot;ERROR: --dest-zone not provided for directional flow rule, or is empty&quot;</span>, EINVAL);</div>
<div class="line"><span class="lineno"> 9060</span> </div>
<div class="line"><span class="lineno"> 9061</span>      <a class="code hl_struct" href="structrgw__sync__directional__rule.html">rgw_sync_directional_rule</a> *flow_rule;</div>
<div class="line"><span class="lineno"> 9062</span> </div>
<div class="line"><span class="lineno"> 9063</span>      group.data_flow.find_or_create_directional(*opt_source_zone_id, *opt_dest_zone_id, &amp;flow_rule);</div>
<div class="line"><span class="lineno"> 9064</span>    }</div>
<div class="line"><span class="lineno"> 9065</span> </div>
<div class="line"><span class="lineno"> 9066</span>    ret = sync_policy_ctx.write_policy();</div>
<div class="line"><span class="lineno"> 9067</span>    <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno"> 9068</span>      <span class="keywordflow">return</span> -ret;</div>
<div class="line"><span class="lineno"> 9069</span>    }</div>
<div class="line"><span class="lineno"> 9070</span> </div>
<div class="line"><span class="lineno"> 9071</span>    <a class="code hl_function" href="rgw__admin_8cc.html#a2566548dda6d3a7ce1e9d3bca22d7a4c">show_result</a>(sync_policy, zone_formatter.get(), cout);</div>
<div class="line"><span class="lineno"> 9072</span>  }</div>
<div class="line"><span class="lineno"> 9073</span> </div>
<div class="line"><span class="lineno"> 9074</span>  <span class="keywordflow">if</span> (opt_cmd == OPT::SYNC_GROUP_FLOW_REMOVE) {</div>
<div class="line"><span class="lineno"> 9075</span>    <a class="code hl_define" href="rgw__admin_8cc.html#aa0ae86aa3d2a507ff84e752fea20f39d">CHECK_TRUE</a>(<a class="code hl_function" href="rgw__admin_8cc.html#a0f5786a9208fab23de2b4d15b3280a19">require_opt</a>(opt_group_id), <span class="stringliteral">&quot;ERROR: --group-id not specified&quot;</span>, EINVAL);</div>
<div class="line"><span class="lineno"> 9076</span>    <a class="code hl_define" href="rgw__admin_8cc.html#aa0ae86aa3d2a507ff84e752fea20f39d">CHECK_TRUE</a>(<a class="code hl_function" href="rgw__admin_8cc.html#a0f5786a9208fab23de2b4d15b3280a19">require_opt</a>(opt_flow_id), <span class="stringliteral">&quot;ERROR: --flow-id not specified&quot;</span>, EINVAL);</div>
<div class="line"><span class="lineno"> 9077</span>    <a class="code hl_define" href="rgw__admin_8cc.html#aa0ae86aa3d2a507ff84e752fea20f39d">CHECK_TRUE</a>(<a class="code hl_function" href="rgw__admin_8cc.html#a0f5786a9208fab23de2b4d15b3280a19">require_opt</a>(opt_flow_type),</div>
<div class="line"><span class="lineno"> 9078</span>                           <span class="stringliteral">&quot;ERROR: --flow-type not specified (options: symmetrical, directional)&quot;</span>, EINVAL);</div>
<div class="line"><span class="lineno"> 9079</span>    <a class="code hl_define" href="rgw__admin_8cc.html#aa0ae86aa3d2a507ff84e752fea20f39d">CHECK_TRUE</a>((<a class="code hl_function" href="rgw__admin_8cc.html#ab8cce19268215080781572ed7419e6be">symmetrical_flow_opt</a>(*opt_flow_type) ||</div>
<div class="line"><span class="lineno"> 9080</span>                            <a class="code hl_function" href="rgw__admin_8cc.html#ae20a7c4c3a4d5f2419cb34c2fc4c9a87">directional_flow_opt</a>(*opt_flow_type)),</div>
<div class="line"><span class="lineno"> 9081</span>                           <span class="stringliteral">&quot;ERROR: --flow-type invalid (options: symmetrical, directional)&quot;</span>, EINVAL);</div>
<div class="line"><span class="lineno"> 9082</span> </div>
<div class="line"><span class="lineno"> 9083</span>    <a class="code hl_class" href="class_sync_policy_context.html">SyncPolicyContext</a> sync_policy_ctx(zonegroup_id, zonegroup_name, opt_bucket);</div>
<div class="line"><span class="lineno"> 9084</span>    ret = sync_policy_ctx.init();</div>
<div class="line"><span class="lineno"> 9085</span>    <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno"> 9086</span>      <span class="keywordflow">return</span> -ret;</div>
<div class="line"><span class="lineno"> 9087</span>    }</div>
<div class="line"><span class="lineno"> 9088</span>    <span class="keyword">auto</span>&amp; sync_policy = sync_policy_ctx.get_policy();</div>
<div class="line"><span class="lineno"> 9089</span> </div>
<div class="line"><span class="lineno"> 9090</span>    <span class="keyword">auto</span> iter = sync_policy.groups.find(*opt_group_id);</div>
<div class="line"><span class="lineno"> 9091</span>    <span class="keywordflow">if</span> (iter == sync_policy.groups.end()) {</div>
<div class="line"><span class="lineno"> 9092</span>      cerr &lt;&lt; <span class="stringliteral">&quot;ERROR: could not find group &#39;&quot;</span> &lt;&lt; *opt_group_id &lt;&lt; <span class="stringliteral">&quot;&#39;&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 9093</span>      <span class="keywordflow">return</span> ENOENT;</div>
<div class="line"><span class="lineno"> 9094</span>    }</div>
<div class="line"><span class="lineno"> 9095</span> </div>
<div class="line"><span class="lineno"> 9096</span>    <span class="keyword">auto</span>&amp; group = iter-&gt;second;</div>
<div class="line"><span class="lineno"> 9097</span> </div>
<div class="line"><span class="lineno"> 9098</span>    <span class="keywordflow">if</span> (<a class="code hl_function" href="rgw__admin_8cc.html#ab8cce19268215080781572ed7419e6be">symmetrical_flow_opt</a>(*opt_flow_type)) {</div>
<div class="line"><span class="lineno"> 9099</span>      group.data_flow.remove_symmetrical(*opt_flow_id, opt_zone_ids);</div>
<div class="line"><span class="lineno"> 9100</span>    } <span class="keywordflow">else</span> { <span class="comment">/* directional */</span></div>
<div class="line"><span class="lineno"> 9101</span>      <a class="code hl_define" href="rgw__admin_8cc.html#aa0ae86aa3d2a507ff84e752fea20f39d">CHECK_TRUE</a>(<a class="code hl_function" href="rgw__admin_8cc.html#a78fd52ad2c196db029e40a44eebaa75c">require_non_empty_opt</a>(opt_source_zone_id), <span class="stringliteral">&quot;ERROR: --source-zone not provided for directional flow rule, or is empty&quot;</span>, EINVAL);</div>
<div class="line"><span class="lineno"> 9102</span>      <a class="code hl_define" href="rgw__admin_8cc.html#aa0ae86aa3d2a507ff84e752fea20f39d">CHECK_TRUE</a>(<a class="code hl_function" href="rgw__admin_8cc.html#a78fd52ad2c196db029e40a44eebaa75c">require_non_empty_opt</a>(opt_dest_zone_id), <span class="stringliteral">&quot;ERROR: --dest-zone not provided for directional flow rule, or is empty&quot;</span>, EINVAL);</div>
<div class="line"><span class="lineno"> 9103</span> </div>
<div class="line"><span class="lineno"> 9104</span>      group.data_flow.remove_directional(*opt_source_zone_id, *opt_dest_zone_id);</div>
<div class="line"><span class="lineno"> 9105</span>    }</div>
<div class="line"><span class="lineno"> 9106</span>    </div>
<div class="line"><span class="lineno"> 9107</span>    ret = sync_policy_ctx.write_policy();</div>
<div class="line"><span class="lineno"> 9108</span>    <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno"> 9109</span>      <span class="keywordflow">return</span> -ret;</div>
<div class="line"><span class="lineno"> 9110</span>    }</div>
<div class="line"><span class="lineno"> 9111</span> </div>
<div class="line"><span class="lineno"> 9112</span>    <a class="code hl_function" href="rgw__admin_8cc.html#a2566548dda6d3a7ce1e9d3bca22d7a4c">show_result</a>(sync_policy, zone_formatter.get(), cout);</div>
<div class="line"><span class="lineno"> 9113</span>  }</div>
<div class="line"><span class="lineno"> 9114</span> </div>
<div class="line"><span class="lineno"> 9115</span>  <span class="keywordflow">if</span> (opt_cmd == OPT::SYNC_GROUP_PIPE_CREATE ||</div>
<div class="line"><span class="lineno"> 9116</span>      opt_cmd == OPT::SYNC_GROUP_PIPE_MODIFY) {</div>
<div class="line"><span class="lineno"> 9117</span>    <a class="code hl_define" href="rgw__admin_8cc.html#aa0ae86aa3d2a507ff84e752fea20f39d">CHECK_TRUE</a>(<a class="code hl_function" href="rgw__admin_8cc.html#a0f5786a9208fab23de2b4d15b3280a19">require_opt</a>(opt_group_id), <span class="stringliteral">&quot;ERROR: --group-id not specified&quot;</span>, EINVAL);</div>
<div class="line"><span class="lineno"> 9118</span>    <a class="code hl_define" href="rgw__admin_8cc.html#aa0ae86aa3d2a507ff84e752fea20f39d">CHECK_TRUE</a>(<a class="code hl_function" href="rgw__admin_8cc.html#a0f5786a9208fab23de2b4d15b3280a19">require_opt</a>(opt_pipe_id), <span class="stringliteral">&quot;ERROR: --pipe-id not specified&quot;</span>, EINVAL);</div>
<div class="line"><span class="lineno"> 9119</span>    <span class="keywordflow">if</span> (opt_cmd == OPT::SYNC_GROUP_PIPE_CREATE) {</div>
<div class="line"><span class="lineno"> 9120</span>      <a class="code hl_define" href="rgw__admin_8cc.html#aa0ae86aa3d2a507ff84e752fea20f39d">CHECK_TRUE</a>(<a class="code hl_function" href="rgw__admin_8cc.html#a78fd52ad2c196db029e40a44eebaa75c">require_non_empty_opt</a>(opt_source_zone_ids), <span class="stringliteral">&quot;ERROR: --source-zones not provided or is empty; should be list of zones or &#39;*&#39;&quot;</span>, EINVAL);</div>
<div class="line"><span class="lineno"> 9121</span>      <a class="code hl_define" href="rgw__admin_8cc.html#aa0ae86aa3d2a507ff84e752fea20f39d">CHECK_TRUE</a>(<a class="code hl_function" href="rgw__admin_8cc.html#a78fd52ad2c196db029e40a44eebaa75c">require_non_empty_opt</a>(opt_dest_zone_ids), <span class="stringliteral">&quot;ERROR: --dest-zones not provided or is empty; should be list of zones or &#39;*&#39;&quot;</span>, EINVAL);</div>
<div class="line"><span class="lineno"> 9122</span>    }</div>
<div class="line"><span class="lineno"> 9123</span> </div>
<div class="line"><span class="lineno"> 9124</span>    <a class="code hl_class" href="class_sync_policy_context.html">SyncPolicyContext</a> sync_policy_ctx(zonegroup_id, zonegroup_name, opt_bucket);</div>
<div class="line"><span class="lineno"> 9125</span>    ret = sync_policy_ctx.init();</div>
<div class="line"><span class="lineno"> 9126</span>    <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno"> 9127</span>      <span class="keywordflow">return</span> -ret;</div>
<div class="line"><span class="lineno"> 9128</span>    }</div>
<div class="line"><span class="lineno"> 9129</span>    <span class="keyword">auto</span>&amp; sync_policy = sync_policy_ctx.get_policy();</div>
<div class="line"><span class="lineno"> 9130</span> </div>
<div class="line"><span class="lineno"> 9131</span>    <span class="keyword">auto</span> iter = sync_policy.groups.find(*opt_group_id);</div>
<div class="line"><span class="lineno"> 9132</span>    <span class="keywordflow">if</span> (iter == sync_policy.groups.end()) {</div>
<div class="line"><span class="lineno"> 9133</span>      cerr &lt;&lt; <span class="stringliteral">&quot;ERROR: could not find group &#39;&quot;</span> &lt;&lt; *opt_group_id &lt;&lt; <span class="stringliteral">&quot;&#39;&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 9134</span>      <span class="keywordflow">return</span> ENOENT;</div>
<div class="line"><span class="lineno"> 9135</span>    }</div>
<div class="line"><span class="lineno"> 9136</span> </div>
<div class="line"><span class="lineno"> 9137</span>    <span class="keyword">auto</span>&amp; group = iter-&gt;second;</div>
<div class="line"><span class="lineno"> 9138</span> </div>
<div class="line"><span class="lineno"> 9139</span>    <a class="code hl_struct" href="structrgw__sync__bucket__pipes.html">rgw_sync_bucket_pipes</a> *pipe;</div>
<div class="line"><span class="lineno"> 9140</span> </div>
<div class="line"><span class="lineno"> 9141</span>    <span class="keywordflow">if</span> (opt_cmd == OPT::SYNC_GROUP_PIPE_CREATE) {</div>
<div class="line"><span class="lineno"> 9142</span>      group.find_pipe(*opt_pipe_id, <span class="keyword">true</span>, &amp;pipe);</div>
<div class="line"><span class="lineno"> 9143</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 9144</span>      <span class="keywordflow">if</span> (!group.find_pipe(*opt_pipe_id, <span class="keyword">false</span>, &amp;pipe)) {</div>
<div class="line"><span class="lineno"> 9145</span>        cerr &lt;&lt; <span class="stringliteral">&quot;ERROR: could not find pipe &#39;&quot;</span> &lt;&lt; *opt_pipe_id &lt;&lt; <span class="stringliteral">&quot;&#39;&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 9146</span>        <span class="keywordflow">return</span> ENOENT;</div>
<div class="line"><span class="lineno"> 9147</span>      }</div>
<div class="line"><span class="lineno"> 9148</span>    }</div>
<div class="line"><span class="lineno"> 9149</span> </div>
<div class="line"><span class="lineno"> 9150</span>    pipe-&gt;<a class="code hl_variable" href="structrgw__sync__bucket__pipes.html#a05a6c2d05afd9a4d52ff0bc753cd75a9">source</a>.<a class="code hl_function" href="structrgw__sync__bucket__entities.html#a5b2094e5ac89b49e4283ba37131260ff">add_zones</a>(*opt_source_zone_ids);</div>
<div class="line"><span class="lineno"> 9151</span>    pipe-&gt;<a class="code hl_variable" href="structrgw__sync__bucket__pipes.html#a05a6c2d05afd9a4d52ff0bc753cd75a9">source</a>.<a class="code hl_function" href="structrgw__sync__bucket__entities.html#a1e518ab30eb01cde926dbe87419c46c8">set_bucket</a>(opt_source_tenant,</div>
<div class="line"><span class="lineno"> 9152</span>                            opt_source_bucket_name,</div>
<div class="line"><span class="lineno"> 9153</span>                            opt_source_bucket_id);</div>
<div class="line"><span class="lineno"> 9154</span>    pipe-&gt;<a class="code hl_variable" href="structrgw__sync__bucket__pipes.html#a0ca18e1668e8a75712f651cccef54a73">dest</a>.<a class="code hl_function" href="structrgw__sync__bucket__entities.html#a5b2094e5ac89b49e4283ba37131260ff">add_zones</a>(*opt_dest_zone_ids);</div>
<div class="line"><span class="lineno"> 9155</span>    pipe-&gt;<a class="code hl_variable" href="structrgw__sync__bucket__pipes.html#a0ca18e1668e8a75712f651cccef54a73">dest</a>.<a class="code hl_function" href="structrgw__sync__bucket__entities.html#a1e518ab30eb01cde926dbe87419c46c8">set_bucket</a>(opt_dest_tenant,</div>
<div class="line"><span class="lineno"> 9156</span>                            opt_dest_bucket_name,</div>
<div class="line"><span class="lineno"> 9157</span>                            opt_dest_bucket_id);</div>
<div class="line"><span class="lineno"> 9158</span> </div>
<div class="line"><span class="lineno"> 9159</span>    pipe-&gt;<a class="code hl_variable" href="structrgw__sync__bucket__pipes.html#aef76ee1d199e020912a03ce6bc765e21">params</a>.<a class="code hl_variable" href="structrgw__sync__pipe__params.html#a531d68cc45eb9bb98fb6ca7100fd25c7">source</a>.<a class="code hl_variable" href="structrgw__sync__pipe__source__params.html#ae0138a13f73632a22a5d5c1ca0f20781">filter</a>.<a class="code hl_function" href="structrgw__sync__pipe__filter.html#abe53acc94fc75c2f731af2579da3a8b2">set_prefix</a>(opt_prefix, !!opt_prefix_rm);</div>
<div class="line"><span class="lineno"> 9160</span>    pipe-&gt;<a class="code hl_variable" href="structrgw__sync__bucket__pipes.html#aef76ee1d199e020912a03ce6bc765e21">params</a>.<a class="code hl_variable" href="structrgw__sync__pipe__params.html#a531d68cc45eb9bb98fb6ca7100fd25c7">source</a>.<a class="code hl_variable" href="structrgw__sync__pipe__source__params.html#ae0138a13f73632a22a5d5c1ca0f20781">filter</a>.<a class="code hl_function" href="structrgw__sync__pipe__filter.html#a14bc15ee16040db79f9c50cdfe117dfa">set_tags</a>(tags_add, tags_rm);</div>
<div class="line"><span class="lineno"> 9161</span>    <span class="keywordflow">if</span> (opt_dest_owner) {</div>
<div class="line"><span class="lineno"> 9162</span>      pipe-&gt;<a class="code hl_variable" href="structrgw__sync__bucket__pipes.html#aef76ee1d199e020912a03ce6bc765e21">params</a>.<a class="code hl_variable" href="structrgw__sync__pipe__params.html#a337e0ec6316fc34232ceff7525d699ae">dest</a>.<a class="code hl_function" href="structrgw__sync__pipe__dest__params.html#a5c4b4350a44fe900f26323812e13c437">set_owner</a>(*opt_dest_owner);</div>
<div class="line"><span class="lineno"> 9163</span>    }</div>
<div class="line"><span class="lineno"> 9164</span>    <span class="keywordflow">if</span> (opt_storage_class) {</div>
<div class="line"><span class="lineno"> 9165</span>      pipe-&gt;<a class="code hl_variable" href="structrgw__sync__bucket__pipes.html#aef76ee1d199e020912a03ce6bc765e21">params</a>.<a class="code hl_variable" href="structrgw__sync__pipe__params.html#a337e0ec6316fc34232ceff7525d699ae">dest</a>.<a class="code hl_function" href="structrgw__sync__pipe__dest__params.html#a32bfc2e171e867da0282b5566afcc2b6">set_storage_class</a>(*opt_storage_class);</div>
<div class="line"><span class="lineno"> 9166</span>    }</div>
<div class="line"><span class="lineno"> 9167</span>    <span class="keywordflow">if</span> (opt_priority) {</div>
<div class="line"><span class="lineno"> 9168</span>      pipe-&gt;<a class="code hl_variable" href="structrgw__sync__bucket__pipes.html#aef76ee1d199e020912a03ce6bc765e21">params</a>.<a class="code hl_variable" href="structrgw__sync__pipe__params.html#aae059a5f7940a58ec1202fe0d3d27e0c">priority</a> = *opt_priority;</div>
<div class="line"><span class="lineno"> 9169</span>    }</div>
<div class="line"><span class="lineno"> 9170</span>    <span class="keywordflow">if</span> (opt_mode) {</div>
<div class="line"><span class="lineno"> 9171</span>      <span class="keywordflow">if</span> (*opt_mode == <span class="stringliteral">&quot;system&quot;</span>) {</div>
<div class="line"><span class="lineno"> 9172</span>        pipe-&gt;<a class="code hl_variable" href="structrgw__sync__bucket__pipes.html#aef76ee1d199e020912a03ce6bc765e21">params</a>.mode = <a class="code hl_variable" href="structrgw__sync__pipe__params.html#ab607e84ee60e36576473f4d6b91c7a63">rgw_sync_pipe_params::MODE_SYSTEM</a>;</div>
<div class="line"><span class="lineno"> 9173</span>      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (*opt_mode == <span class="stringliteral">&quot;user&quot;</span>) {</div>
<div class="line"><span class="lineno"> 9174</span>        pipe-&gt;<a class="code hl_variable" href="structrgw__sync__bucket__pipes.html#aef76ee1d199e020912a03ce6bc765e21">params</a>.mode = <a class="code hl_enumvalue" href="structrgw__sync__pipe__params.html#aeaf1f65dece035a80aec5e4f20fbd4e2affef096511b4ef11f4b08e8ee0d33eb2">rgw_sync_pipe_params::MODE_USER</a>;</div>
<div class="line"><span class="lineno"> 9175</span>      } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 9176</span>        cerr &lt;&lt; <span class="stringliteral">&quot;ERROR: bad mode value: should be one of the following: system, user&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 9177</span>        <span class="keywordflow">return</span> EINVAL;</div>
<div class="line"><span class="lineno"> 9178</span>      }</div>
<div class="line"><span class="lineno"> 9179</span>    }</div>
<div class="line"><span class="lineno"> 9180</span> </div>
<div class="line"><span class="lineno"> 9181</span>    <span class="keywordflow">if</span> (!<a class="code hl_function" href="classrgw_1_1sal_1_1_user.html#a96e608798e4a45601e3d9f223bdbcb9b">rgw::sal::User::empty</a>(<a class="code hl_variable" href="structrgw__log__entry.html#a35ae5bdbb5f60664f0a367d5c3ad9efe">user</a>)) {</div>
<div class="line"><span class="lineno"> 9182</span>      pipe-&gt;<a class="code hl_variable" href="structrgw__sync__bucket__pipes.html#aef76ee1d199e020912a03ce6bc765e21">params</a>.<a class="code hl_variable" href="structrgw__sync__pipe__params.html#a10daaf6569f436fe848b131ae56072f8">user</a> = <a class="code hl_variable" href="structrgw__log__entry.html#a35ae5bdbb5f60664f0a367d5c3ad9efe">user</a>-&gt;get_id();</div>
<div class="line"><span class="lineno"> 9183</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (pipe-&gt;<a class="code hl_variable" href="structrgw__sync__bucket__pipes.html#aef76ee1d199e020912a03ce6bc765e21">params</a>.<a class="code hl_variable" href="structrgw__sync__pipe__params.html#a10daaf6569f436fe848b131ae56072f8">user</a>.<a class="code hl_function" href="structrgw__user.html#afd8a9e36c5a9f7773c13d903c3124e99">empty</a>()) {</div>
<div class="line"><span class="lineno"> 9184</span>      <span class="keyword">auto</span> owner = sync_policy_ctx.get_owner();</div>
<div class="line"><span class="lineno"> 9185</span>      <span class="keywordflow">if</span> (owner) {</div>
<div class="line"><span class="lineno"> 9186</span>        pipe-&gt;<a class="code hl_variable" href="structrgw__sync__bucket__pipes.html#aef76ee1d199e020912a03ce6bc765e21">params</a>.<a class="code hl_variable" href="structrgw__sync__pipe__params.html#a10daaf6569f436fe848b131ae56072f8">user</a> = *owner;</div>
<div class="line"><span class="lineno"> 9187</span>      }</div>
<div class="line"><span class="lineno"> 9188</span>    }</div>
<div class="line"><span class="lineno"> 9189</span> </div>
<div class="line"><span class="lineno"> 9190</span>    ret = sync_policy_ctx.write_policy();</div>
<div class="line"><span class="lineno"> 9191</span>    <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno"> 9192</span>      <span class="keywordflow">return</span> -ret;</div>
<div class="line"><span class="lineno"> 9193</span>    }</div>
<div class="line"><span class="lineno"> 9194</span> </div>
<div class="line"><span class="lineno"> 9195</span>    <a class="code hl_function" href="rgw__admin_8cc.html#a2566548dda6d3a7ce1e9d3bca22d7a4c">show_result</a>(sync_policy, zone_formatter.get(), cout);</div>
<div class="line"><span class="lineno"> 9196</span>  }</div>
<div class="line"><span class="lineno"> 9197</span> </div>
<div class="line"><span class="lineno"> 9198</span>  <span class="keywordflow">if</span> (opt_cmd == OPT::SYNC_GROUP_PIPE_REMOVE) {</div>
<div class="line"><span class="lineno"> 9199</span>    <a class="code hl_define" href="rgw__admin_8cc.html#aa0ae86aa3d2a507ff84e752fea20f39d">CHECK_TRUE</a>(<a class="code hl_function" href="rgw__admin_8cc.html#a0f5786a9208fab23de2b4d15b3280a19">require_opt</a>(opt_group_id), <span class="stringliteral">&quot;ERROR: --group-id not specified&quot;</span>, EINVAL);</div>
<div class="line"><span class="lineno"> 9200</span>    <a class="code hl_define" href="rgw__admin_8cc.html#aa0ae86aa3d2a507ff84e752fea20f39d">CHECK_TRUE</a>(<a class="code hl_function" href="rgw__admin_8cc.html#a0f5786a9208fab23de2b4d15b3280a19">require_opt</a>(opt_pipe_id), <span class="stringliteral">&quot;ERROR: --pipe-id not specified&quot;</span>, EINVAL);</div>
<div class="line"><span class="lineno"> 9201</span> </div>
<div class="line"><span class="lineno"> 9202</span>    <a class="code hl_class" href="class_sync_policy_context.html">SyncPolicyContext</a> sync_policy_ctx(zonegroup_id, zonegroup_name, opt_bucket);</div>
<div class="line"><span class="lineno"> 9203</span>    ret = sync_policy_ctx.init();</div>
<div class="line"><span class="lineno"> 9204</span>    <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno"> 9205</span>      <span class="keywordflow">return</span> -ret;</div>
<div class="line"><span class="lineno"> 9206</span>    }</div>
<div class="line"><span class="lineno"> 9207</span>    <span class="keyword">auto</span>&amp; sync_policy = sync_policy_ctx.get_policy();</div>
<div class="line"><span class="lineno"> 9208</span> </div>
<div class="line"><span class="lineno"> 9209</span>    <span class="keyword">auto</span> iter = sync_policy.groups.find(*opt_group_id);</div>
<div class="line"><span class="lineno"> 9210</span>    <span class="keywordflow">if</span> (iter == sync_policy.groups.end()) {</div>
<div class="line"><span class="lineno"> 9211</span>      cerr &lt;&lt; <span class="stringliteral">&quot;ERROR: could not find group &#39;&quot;</span> &lt;&lt; *opt_group_id &lt;&lt; <span class="stringliteral">&quot;&#39;&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 9212</span>      <span class="keywordflow">return</span> ENOENT;</div>
<div class="line"><span class="lineno"> 9213</span>    }</div>
<div class="line"><span class="lineno"> 9214</span> </div>
<div class="line"><span class="lineno"> 9215</span>    <span class="keyword">auto</span>&amp; group = iter-&gt;second;</div>
<div class="line"><span class="lineno"> 9216</span> </div>
<div class="line"><span class="lineno"> 9217</span>    <a class="code hl_struct" href="structrgw__sync__bucket__pipes.html">rgw_sync_bucket_pipes</a> *pipe;</div>
<div class="line"><span class="lineno"> 9218</span> </div>
<div class="line"><span class="lineno"> 9219</span>    <span class="keywordflow">if</span> (!group.find_pipe(*opt_pipe_id, <span class="keyword">false</span>, &amp;pipe)) {</div>
<div class="line"><span class="lineno"> 9220</span>      cerr &lt;&lt; <span class="stringliteral">&quot;ERROR: could not find pipe &#39;&quot;</span> &lt;&lt; *opt_pipe_id &lt;&lt; <span class="stringliteral">&quot;&#39;&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 9221</span>      <span class="keywordflow">return</span> ENOENT;</div>
<div class="line"><span class="lineno"> 9222</span>    }</div>
<div class="line"><span class="lineno"> 9223</span> </div>
<div class="line"><span class="lineno"> 9224</span>    <span class="keywordflow">if</span> (opt_source_zone_ids) {</div>
<div class="line"><span class="lineno"> 9225</span>      pipe-&gt;<a class="code hl_variable" href="structrgw__sync__bucket__pipes.html#a05a6c2d05afd9a4d52ff0bc753cd75a9">source</a>.<a class="code hl_function" href="structrgw__sync__bucket__entities.html#a6b22101627d3981ef1ee323372667ebb">remove_zones</a>(*opt_source_zone_ids);</div>
<div class="line"><span class="lineno"> 9226</span>    }</div>
<div class="line"><span class="lineno"> 9227</span> </div>
<div class="line"><span class="lineno"> 9228</span>    pipe-&gt;<a class="code hl_variable" href="structrgw__sync__bucket__pipes.html#a05a6c2d05afd9a4d52ff0bc753cd75a9">source</a>.<a class="code hl_function" href="structrgw__sync__bucket__entities.html#ad625bfef813186cc59d873e3d5802cc9">remove_bucket</a>(opt_source_tenant,</div>
<div class="line"><span class="lineno"> 9229</span>                               opt_source_bucket_name,</div>
<div class="line"><span class="lineno"> 9230</span>                               opt_source_bucket_id);</div>
<div class="line"><span class="lineno"> 9231</span>    <span class="keywordflow">if</span> (opt_dest_zone_ids) {</div>
<div class="line"><span class="lineno"> 9232</span>      pipe-&gt;<a class="code hl_variable" href="structrgw__sync__bucket__pipes.html#a0ca18e1668e8a75712f651cccef54a73">dest</a>.<a class="code hl_function" href="structrgw__sync__bucket__entities.html#a6b22101627d3981ef1ee323372667ebb">remove_zones</a>(*opt_dest_zone_ids);</div>
<div class="line"><span class="lineno"> 9233</span>    }</div>
<div class="line"><span class="lineno"> 9234</span>    pipe-&gt;<a class="code hl_variable" href="structrgw__sync__bucket__pipes.html#a0ca18e1668e8a75712f651cccef54a73">dest</a>.<a class="code hl_function" href="structrgw__sync__bucket__entities.html#ad625bfef813186cc59d873e3d5802cc9">remove_bucket</a>(opt_dest_tenant,</div>
<div class="line"><span class="lineno"> 9235</span>                             opt_dest_bucket_name,</div>
<div class="line"><span class="lineno"> 9236</span>                             opt_dest_bucket_id);</div>
<div class="line"><span class="lineno"> 9237</span> </div>
<div class="line"><span class="lineno"> 9238</span>    <span class="keywordflow">if</span> (!(opt_source_zone_ids ||</div>
<div class="line"><span class="lineno"> 9239</span>          opt_source_tenant ||</div>
<div class="line"><span class="lineno"> 9240</span>          opt_source_bucket ||</div>
<div class="line"><span class="lineno"> 9241</span>          opt_source_bucket_id ||</div>
<div class="line"><span class="lineno"> 9242</span>          opt_dest_zone_ids ||</div>
<div class="line"><span class="lineno"> 9243</span>          opt_dest_tenant ||</div>
<div class="line"><span class="lineno"> 9244</span>          opt_dest_bucket ||</div>
<div class="line"><span class="lineno"> 9245</span>          opt_dest_bucket_id)) {</div>
<div class="line"><span class="lineno"> 9246</span>      group.remove_pipe(*opt_pipe_id);</div>
<div class="line"><span class="lineno"> 9247</span>    }</div>
<div class="line"><span class="lineno"> 9248</span> </div>
<div class="line"><span class="lineno"> 9249</span>    ret = sync_policy_ctx.write_policy();</div>
<div class="line"><span class="lineno"> 9250</span>    <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno"> 9251</span>      <span class="keywordflow">return</span> -ret;</div>
<div class="line"><span class="lineno"> 9252</span>    }</div>
<div class="line"><span class="lineno"> 9253</span> </div>
<div class="line"><span class="lineno"> 9254</span>    <a class="code hl_function" href="rgw__admin_8cc.html#a2566548dda6d3a7ce1e9d3bca22d7a4c">show_result</a>(sync_policy, zone_formatter.get(), cout);</div>
<div class="line"><span class="lineno"> 9255</span>  }</div>
<div class="line"><span class="lineno"> 9256</span> </div>
<div class="line"><span class="lineno"> 9257</span>  <span class="keywordflow">if</span> (opt_cmd == OPT::SYNC_POLICY_GET) {</div>
<div class="line"><span class="lineno"> 9258</span>    <a class="code hl_class" href="class_sync_policy_context.html">SyncPolicyContext</a> sync_policy_ctx(zonegroup_id, zonegroup_name, opt_bucket);</div>
<div class="line"><span class="lineno"> 9259</span>    ret = sync_policy_ctx.init();</div>
<div class="line"><span class="lineno"> 9260</span>    <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno"> 9261</span>      <span class="keywordflow">return</span> -ret;</div>
<div class="line"><span class="lineno"> 9262</span>    }</div>
<div class="line"><span class="lineno"> 9263</span>    <span class="keyword">auto</span>&amp; sync_policy = sync_policy_ctx.get_policy();</div>
<div class="line"><span class="lineno"> 9264</span> </div>
<div class="line"><span class="lineno"> 9265</span>    <a class="code hl_function" href="rgw__admin_8cc.html#a2566548dda6d3a7ce1e9d3bca22d7a4c">show_result</a>(sync_policy, zone_formatter.get(), cout);</div>
<div class="line"><span class="lineno"> 9266</span>  }</div>
<div class="line"><span class="lineno"> 9267</span> </div>
<div class="line"><span class="lineno"> 9268</span>  <span class="keywordflow">if</span> (opt_cmd == OPT::BILOG_TRIM) {</div>
<div class="line"><span class="lineno"> 9269</span>    <span class="keywordflow">if</span> (bucket_name.empty()) {</div>
<div class="line"><span class="lineno"> 9270</span>      cerr &lt;&lt; <span class="stringliteral">&quot;ERROR: bucket not specified&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 9271</span>      <span class="keywordflow">return</span> EINVAL;</div>
<div class="line"><span class="lineno"> 9272</span>    }</div>
<div class="line"><span class="lineno"> 9273</span>    <span class="keywordtype">int</span> ret = <a class="code hl_function" href="rgw__admin_8cc.html#a0023a8779e3ab0d965d9acfb3eb72cac">init_bucket</a>(<a class="code hl_variable" href="structrgw__log__entry.html#a35ae5bdbb5f60664f0a367d5c3ad9efe">user</a>.get(), tenant, bucket_name, <a class="code hl_variable" href="structrgw__log__entry.html#ade138581b4da0c38466f03c320bdd1ee">bucket_id</a>, &amp;<a class="code hl_variable" href="structrgw__log__entry.html#abe38126b4342e5e27a847c7850bb58d4">bucket</a>);</div>
<div class="line"><span class="lineno"> 9274</span>    <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno"> 9275</span>      cerr &lt;&lt; <span class="stringliteral">&quot;ERROR: could not init bucket: &quot;</span> &lt;&lt; cpp_strerror(-ret) &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 9276</span>      <span class="keywordflow">return</span> -ret;</div>
<div class="line"><span class="lineno"> 9277</span>    }</div>
<div class="line"><span class="lineno"> 9278</span>    ret = <span class="keyword">static_cast&lt;</span><a class="code hl_class" href="classrgw_1_1sal_1_1_rados_store.html">rgw::sal::RadosStore</a>*<span class="keyword">&gt;</span>(<a class="code hl_variable" href="rgw__admin_8cc.html#a6fdb26d64b14d837b60e83a6ca3e2863">store</a>)-&gt;svc()-&gt;bilog_rados-&gt;log_trim(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>(), <a class="code hl_variable" href="structrgw__log__entry.html#abe38126b4342e5e27a847c7850bb58d4">bucket</a>-&gt;get_info(), shard_id, start_marker, end_marker);</div>
<div class="line"><span class="lineno"> 9279</span>    <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno"> 9280</span>      cerr &lt;&lt; <span class="stringliteral">&quot;ERROR: trim_bi_log_entries(): &quot;</span> &lt;&lt; cpp_strerror(-ret) &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 9281</span>      <span class="keywordflow">return</span> -ret;</div>
<div class="line"><span class="lineno"> 9282</span>    }</div>
<div class="line"><span class="lineno"> 9283</span>  }</div>
<div class="line"><span class="lineno"> 9284</span> </div>
<div class="line"><span class="lineno"> 9285</span>  <span class="keywordflow">if</span> (opt_cmd == OPT::BILOG_STATUS) {</div>
<div class="line"><span class="lineno"> 9286</span>    <span class="keywordflow">if</span> (bucket_name.empty()) {</div>
<div class="line"><span class="lineno"> 9287</span>      cerr &lt;&lt; <span class="stringliteral">&quot;ERROR: bucket not specified&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 9288</span>      <span class="keywordflow">return</span> EINVAL;</div>
<div class="line"><span class="lineno"> 9289</span>    }</div>
<div class="line"><span class="lineno"> 9290</span>    <span class="keywordtype">int</span> ret = <a class="code hl_function" href="rgw__admin_8cc.html#a0023a8779e3ab0d965d9acfb3eb72cac">init_bucket</a>(<a class="code hl_variable" href="structrgw__log__entry.html#a35ae5bdbb5f60664f0a367d5c3ad9efe">user</a>.get(), tenant, bucket_name, <a class="code hl_variable" href="structrgw__log__entry.html#ade138581b4da0c38466f03c320bdd1ee">bucket_id</a>, &amp;<a class="code hl_variable" href="structrgw__log__entry.html#abe38126b4342e5e27a847c7850bb58d4">bucket</a>);</div>
<div class="line"><span class="lineno"> 9291</span>    <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno"> 9292</span>      cerr &lt;&lt; <span class="stringliteral">&quot;ERROR: could not init bucket: &quot;</span> &lt;&lt; cpp_strerror(-ret) &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 9293</span>      <span class="keywordflow">return</span> -ret;</div>
<div class="line"><span class="lineno"> 9294</span>    }</div>
<div class="line"><span class="lineno"> 9295</span>    map&lt;int, string&gt; markers;</div>
<div class="line"><span class="lineno"> 9296</span>    ret = <span class="keyword">static_cast&lt;</span><a class="code hl_class" href="classrgw_1_1sal_1_1_rados_store.html">rgw::sal::RadosStore</a>*<span class="keyword">&gt;</span>(<a class="code hl_variable" href="rgw__admin_8cc.html#a6fdb26d64b14d837b60e83a6ca3e2863">store</a>)-&gt;svc()-&gt;bilog_rados-&gt;get_log_status(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>(), <a class="code hl_variable" href="structrgw__log__entry.html#abe38126b4342e5e27a847c7850bb58d4">bucket</a>-&gt;get_info(), shard_id,</div>
<div class="line"><span class="lineno"> 9297</span>                            &amp;markers, null_yield);</div>
<div class="line"><span class="lineno"> 9298</span>    <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno"> 9299</span>      cerr &lt;&lt; <span class="stringliteral">&quot;ERROR: get_bi_log_status(): &quot;</span> &lt;&lt; cpp_strerror(-ret) &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 9300</span>      <span class="keywordflow">return</span> -ret;</div>
<div class="line"><span class="lineno"> 9301</span>    }</div>
<div class="line"><span class="lineno"> 9302</span>    formatter-&gt;open_object_section(<span class="stringliteral">&quot;entries&quot;</span>);</div>
<div class="line"><span class="lineno"> 9303</span>    <a class="code hl_function" href="rgw__admin_8cc.html#ab596b9e1a1fc78e98a4d13a66578b658">encode_json</a>(<span class="stringliteral">&quot;markers&quot;</span>, markers, formatter.get());</div>
<div class="line"><span class="lineno"> 9304</span>    formatter-&gt;close_section();</div>
<div class="line"><span class="lineno"> 9305</span>    formatter-&gt;flush(cout);</div>
<div class="line"><span class="lineno"> 9306</span>  }</div>
<div class="line"><span class="lineno"> 9307</span> </div>
<div class="line"><span class="lineno"> 9308</span>  <span class="keywordflow">if</span> (opt_cmd == OPT::BILOG_AUTOTRIM) {</div>
<div class="line"><span class="lineno"> 9309</span>    <a class="code hl_class" href="class_r_g_w_coroutines_manager.html">RGWCoroutinesManager</a> crs(<a class="code hl_variable" href="rgw__admin_8cc.html#a6fdb26d64b14d837b60e83a6ca3e2863">store</a>-&gt;<a class="code hl_function" href="classrgw_1_1sal_1_1_store.html#aca84a6ff80011b26fcd2fa8526c1152e">ctx</a>(), <a class="code hl_variable" href="rgw__admin_8cc.html#a6fdb26d64b14d837b60e83a6ca3e2863">store</a>-&gt;<a class="code hl_function" href="classrgw_1_1sal_1_1_store.html#a91db16d708ac953cef44535c16457fb5">get_cr_registry</a>());</div>
<div class="line"><span class="lineno"> 9310</span>    <a class="code hl_class" href="class_r_g_w_h_t_t_p_manager.html">RGWHTTPManager</a> http(<a class="code hl_variable" href="rgw__admin_8cc.html#a6fdb26d64b14d837b60e83a6ca3e2863">store</a>-&gt;<a class="code hl_function" href="classrgw_1_1sal_1_1_store.html#aca84a6ff80011b26fcd2fa8526c1152e">ctx</a>(), crs.get_completion_mgr());</div>
<div class="line"><span class="lineno"> 9311</span>    <span class="keywordtype">int</span> ret = http.start();</div>
<div class="line"><span class="lineno"> 9312</span>    <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno"> 9313</span>      cerr &lt;&lt; <span class="stringliteral">&quot;failed to initialize http client with &quot;</span> &lt;&lt; cpp_strerror(ret) &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 9314</span>      <span class="keywordflow">return</span> -ret;</div>
<div class="line"><span class="lineno"> 9315</span>    }</div>
<div class="line"><span class="lineno"> 9316</span> </div>
<div class="line"><span class="lineno"> 9317</span>    <a class="code hl_struct" href="structrgw_1_1_bucket_trim_config.html">rgw::BucketTrimConfig</a> <a class="code hl_enumvalue" href="namespacergw.html#aa74ef6030865b86d25300c7309e8b191a2245023265ae4cf87d02c8b6ba991139">config</a>;</div>
<div class="line"><span class="lineno"> 9318</span>    <a class="code hl_function" href="namespacergw.html#a83553f9b1722162143166d58a77ba679">configure_bucket_trim</a>(<a class="code hl_variable" href="rgw__admin_8cc.html#a6fdb26d64b14d837b60e83a6ca3e2863">store</a>-&gt;<a class="code hl_function" href="classrgw_1_1sal_1_1_store.html#aca84a6ff80011b26fcd2fa8526c1152e">ctx</a>(), config);</div>
<div class="line"><span class="lineno"> 9319</span> </div>
<div class="line"><span class="lineno"> 9320</span>    <a class="code hl_class" href="classrgw_1_1_bucket_trim_manager.html">rgw::BucketTrimManager</a> trim(<span class="keyword">static_cast&lt;</span><a class="code hl_class" href="classrgw_1_1sal_1_1_rados_store.html">rgw::sal::RadosStore</a>*<span class="keyword">&gt;</span>(<a class="code hl_variable" href="rgw__admin_8cc.html#a6fdb26d64b14d837b60e83a6ca3e2863">store</a>), config);</div>
<div class="line"><span class="lineno"> 9321</span>    ret = trim.init();</div>
<div class="line"><span class="lineno"> 9322</span>    <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno"> 9323</span>      cerr &lt;&lt; <span class="stringliteral">&quot;trim manager init failed with &quot;</span> &lt;&lt; cpp_strerror(ret) &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 9324</span>      <span class="keywordflow">return</span> -ret;</div>
<div class="line"><span class="lineno"> 9325</span>    }</div>
<div class="line"><span class="lineno"> 9326</span>    ret = crs.run(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>(), trim.create_admin_bucket_trim_cr(&amp;http));</div>
<div class="line"><span class="lineno"> 9327</span>    <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno"> 9328</span>      cerr &lt;&lt; <span class="stringliteral">&quot;automated bilog trim failed with &quot;</span> &lt;&lt; cpp_strerror(ret) &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 9329</span>      <span class="keywordflow">return</span> -ret;</div>
<div class="line"><span class="lineno"> 9330</span>    }</div>
<div class="line"><span class="lineno"> 9331</span>  }</div>
<div class="line"><span class="lineno"> 9332</span> </div>
<div class="line"><span class="lineno"> 9333</span>  <span class="keywordflow">if</span> (opt_cmd == OPT::DATALOG_LIST) {</div>
<div class="line"><span class="lineno"> 9334</span>    formatter-&gt;open_array_section(<span class="stringliteral">&quot;entries&quot;</span>);</div>
<div class="line"><span class="lineno"> 9335</span>    <span class="keywordtype">bool</span> truncated;</div>
<div class="line"><span class="lineno"> 9336</span>    <span class="keywordtype">int</span> <a class="code hl_enumvalue" href="namespacergw_1_1dmclock.html#a6ed0c6ad7f7fc29a06f52a0070d21493ae2942a04780e223b215eb8b663cf5353">count</a> = 0;</div>
<div class="line"><span class="lineno"> 9337</span>    <span class="keywordflow">if</span> (max_entries &lt; 0)</div>
<div class="line"><span class="lineno"> 9338</span>      max_entries = 1000;</div>
<div class="line"><span class="lineno"> 9339</span>    <span class="keywordflow">if</span> (!start_date.empty()) {</div>
<div class="line"><span class="lineno"> 9340</span>      std::cerr &lt;&lt; <span class="stringliteral">&quot;start-date not allowed.&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 9341</span>      <span class="keywordflow">return</span> -EINVAL;</div>
<div class="line"><span class="lineno"> 9342</span>    }</div>
<div class="line"><span class="lineno"> 9343</span>    <span class="keywordflow">if</span> (!end_date.empty()) {</div>
<div class="line"><span class="lineno"> 9344</span>      std::cerr &lt;&lt; <span class="stringliteral">&quot;end-date not allowed.&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 9345</span>      <span class="keywordflow">return</span> -EINVAL;</div>
<div class="line"><span class="lineno"> 9346</span>    }</div>
<div class="line"><span class="lineno"> 9347</span>    <span class="keywordflow">if</span> (!end_marker.empty()) {</div>
<div class="line"><span class="lineno"> 9348</span>      std::cerr &lt;&lt; <span class="stringliteral">&quot;end-marker not allowed.&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 9349</span>      <span class="keywordflow">return</span> -EINVAL;</div>
<div class="line"><span class="lineno"> 9350</span>    }</div>
<div class="line"><span class="lineno"> 9351</span>    <span class="keywordflow">if</span> (!start_marker.empty()) {</div>
<div class="line"><span class="lineno"> 9352</span>      <span class="keywordflow">if</span> (marker.empty()) {</div>
<div class="line"><span class="lineno"> 9353</span>    marker = start_marker;</div>
<div class="line"><span class="lineno"> 9354</span>      } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 9355</span>    std::cerr &lt;&lt; <span class="stringliteral">&quot;start-marker and marker not both allowed.&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 9356</span>    <span class="keywordflow">return</span> -EINVAL;</div>
<div class="line"><span class="lineno"> 9357</span>      }</div>
<div class="line"><span class="lineno"> 9358</span>    }</div>
<div class="line"><span class="lineno"> 9359</span> </div>
<div class="line"><span class="lineno"> 9360</span>    <span class="keyword">auto</span> datalog_svc = <span class="keyword">static_cast&lt;</span><a class="code hl_class" href="classrgw_1_1sal_1_1_rados_store.html">rgw::sal::RadosStore</a>*<span class="keyword">&gt;</span>(<a class="code hl_variable" href="rgw__admin_8cc.html#a6fdb26d64b14d837b60e83a6ca3e2863">store</a>)-&gt;svc()-&gt;datalog_rados;</div>
<div class="line"><span class="lineno"> 9361</span>    <a class="code hl_struct" href="struct_r_g_w_data_changes_log_marker.html">RGWDataChangesLog::LogMarker</a> log_marker;</div>
<div class="line"><span class="lineno"> 9362</span> </div>
<div class="line"><span class="lineno"> 9363</span>    <span class="keywordflow">do</span> {</div>
<div class="line"><span class="lineno"> 9364</span>      std::vector&lt;rgw_data_change_log_entry&gt; <a class="code hl_variable" href="cls__fifo__legacy_8cc.html#a0341b0ec09e77f9d6274d5b1517f7711">entries</a>;</div>
<div class="line"><span class="lineno"> 9365</span>      <span class="keywordflow">if</span> (specified_shard_id) {</div>
<div class="line"><span class="lineno"> 9366</span>        ret = datalog_svc-&gt;list_entries(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>(), shard_id, max_entries - <a class="code hl_enumvalue" href="namespacergw_1_1dmclock.html#a6ed0c6ad7f7fc29a06f52a0070d21493ae2942a04780e223b215eb8b663cf5353">count</a>,</div>
<div class="line"><span class="lineno"> 9367</span>                    <a class="code hl_variable" href="cls__fifo__legacy_8cc.html#a0341b0ec09e77f9d6274d5b1517f7711">entries</a>, marker,</div>
<div class="line"><span class="lineno"> 9368</span>                    &amp;marker, &amp;truncated);</div>
<div class="line"><span class="lineno"> 9369</span>      } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 9370</span>        ret = datalog_svc-&gt;list_entries(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>(), max_entries - <a class="code hl_enumvalue" href="namespacergw_1_1dmclock.html#a6ed0c6ad7f7fc29a06f52a0070d21493ae2942a04780e223b215eb8b663cf5353">count</a>, <a class="code hl_variable" href="cls__fifo__legacy_8cc.html#a0341b0ec09e77f9d6274d5b1517f7711">entries</a>,</div>
<div class="line"><span class="lineno"> 9371</span>                    log_marker, &amp;truncated);</div>
<div class="line"><span class="lineno"> 9372</span>      }</div>
<div class="line"><span class="lineno"> 9373</span>      <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno"> 9374</span>        cerr &lt;&lt; <span class="stringliteral">&quot;ERROR: datalog_svc-&gt;list_entries(): &quot;</span> &lt;&lt; cpp_strerror(-ret) &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 9375</span>        <span class="keywordflow">return</span> -ret;</div>
<div class="line"><span class="lineno"> 9376</span>      }</div>
<div class="line"><span class="lineno"> 9377</span> </div>
<div class="line"><span class="lineno"> 9378</span>      <a class="code hl_enumvalue" href="namespacergw_1_1dmclock.html#a6ed0c6ad7f7fc29a06f52a0070d21493ae2942a04780e223b215eb8b663cf5353">count</a> += <a class="code hl_variable" href="cls__fifo__legacy_8cc.html#a0341b0ec09e77f9d6274d5b1517f7711">entries</a>.size();</div>
<div class="line"><span class="lineno"> 9379</span> </div>
<div class="line"><span class="lineno"> 9380</span>      <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span>&amp; entry : <a class="code hl_variable" href="cls__fifo__legacy_8cc.html#a0341b0ec09e77f9d6274d5b1517f7711">entries</a>) {</div>
<div class="line"><span class="lineno"> 9381</span>        <span class="keywordflow">if</span> (!extra_info) {</div>
<div class="line"><span class="lineno"> 9382</span>          <a class="code hl_function" href="rgw__admin_8cc.html#ab596b9e1a1fc78e98a4d13a66578b658">encode_json</a>(<span class="stringliteral">&quot;entry&quot;</span>, entry.entry, formatter.get());</div>
<div class="line"><span class="lineno"> 9383</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 9384</span>          <a class="code hl_function" href="rgw__admin_8cc.html#ab596b9e1a1fc78e98a4d13a66578b658">encode_json</a>(<span class="stringliteral">&quot;entry&quot;</span>, entry, formatter.get());</div>
<div class="line"><span class="lineno"> 9385</span>        }</div>
<div class="line"><span class="lineno"> 9386</span>      }</div>
<div class="line"><span class="lineno"> 9387</span>      formatter.get()-&gt;flush(cout);</div>
<div class="line"><span class="lineno"> 9388</span>    } <span class="keywordflow">while</span> (truncated &amp;&amp; count &lt; max_entries);</div>
<div class="line"><span class="lineno"> 9389</span> </div>
<div class="line"><span class="lineno"> 9390</span>    formatter-&gt;close_section();</div>
<div class="line"><span class="lineno"> 9391</span>    formatter-&gt;flush(cout);</div>
<div class="line"><span class="lineno"> 9392</span>  }</div>
<div class="line"><span class="lineno"> 9393</span> </div>
<div class="line"><span class="lineno"> 9394</span>  <span class="keywordflow">if</span> (opt_cmd == OPT::DATALOG_STATUS) {</div>
<div class="line"><span class="lineno"> 9395</span>    <span class="keywordtype">int</span> i = (specified_shard_id ? shard_id : 0);</div>
<div class="line"><span class="lineno"> 9396</span> </div>
<div class="line"><span class="lineno"> 9397</span>    formatter-&gt;open_array_section(<span class="stringliteral">&quot;entries&quot;</span>);</div>
<div class="line"><span class="lineno"> 9398</span>    <span class="keywordflow">for</span> (; i &lt; g_ceph_context-&gt;_conf-&gt;rgw_data_log_num_shards; i++) {</div>
<div class="line"><span class="lineno"> 9399</span>      list&lt;cls_log_entry&gt; <a class="code hl_variable" href="cls__fifo__legacy_8cc.html#a0341b0ec09e77f9d6274d5b1517f7711">entries</a>;</div>
<div class="line"><span class="lineno"> 9400</span> </div>
<div class="line"><span class="lineno"> 9401</span>      <a class="code hl_struct" href="struct_r_g_w_data_changes_log_info.html">RGWDataChangesLogInfo</a> info;</div>
<div class="line"><span class="lineno"> 9402</span>      <span class="keyword">static_cast&lt;</span><a class="code hl_class" href="classrgw_1_1sal_1_1_rados_store.html">rgw::sal::RadosStore</a>*<span class="keyword">&gt;</span>(<a class="code hl_variable" href="rgw__admin_8cc.html#a6fdb26d64b14d837b60e83a6ca3e2863">store</a>)-&gt;svc()-&gt;datalog_rados-&gt;get_info(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>(), i, &amp;info);</div>
<div class="line"><span class="lineno"> 9403</span> </div>
<div class="line"><span class="lineno"> 9404</span>      <a class="code hl_function" href="rgw__admin_8cc.html#ab596b9e1a1fc78e98a4d13a66578b658">::encode_json</a>(<span class="stringliteral">&quot;info&quot;</span>, info, formatter.get());</div>
<div class="line"><span class="lineno"> 9405</span> </div>
<div class="line"><span class="lineno"> 9406</span>      <span class="keywordflow">if</span> (specified_shard_id)</div>
<div class="line"><span class="lineno"> 9407</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 9408</span>    }</div>
<div class="line"><span class="lineno"> 9409</span> </div>
<div class="line"><span class="lineno"> 9410</span>    formatter-&gt;close_section();</div>
<div class="line"><span class="lineno"> 9411</span>    formatter-&gt;flush(cout);</div>
<div class="line"><span class="lineno"> 9412</span>  }</div>
<div class="line"><span class="lineno"> 9413</span> </div>
<div class="line"><span class="lineno"> 9414</span>  <span class="keywordflow">if</span> (opt_cmd == OPT::DATALOG_AUTOTRIM) {</div>
<div class="line"><span class="lineno"> 9415</span>    <a class="code hl_class" href="class_r_g_w_coroutines_manager.html">RGWCoroutinesManager</a> crs(<a class="code hl_variable" href="rgw__admin_8cc.html#a6fdb26d64b14d837b60e83a6ca3e2863">store</a>-&gt;<a class="code hl_function" href="classrgw_1_1sal_1_1_store.html#aca84a6ff80011b26fcd2fa8526c1152e">ctx</a>(), <a class="code hl_variable" href="rgw__admin_8cc.html#a6fdb26d64b14d837b60e83a6ca3e2863">store</a>-&gt;<a class="code hl_function" href="classrgw_1_1sal_1_1_store.html#a91db16d708ac953cef44535c16457fb5">get_cr_registry</a>());</div>
<div class="line"><span class="lineno"> 9416</span>    <a class="code hl_class" href="class_r_g_w_h_t_t_p_manager.html">RGWHTTPManager</a> http(<a class="code hl_variable" href="rgw__admin_8cc.html#a6fdb26d64b14d837b60e83a6ca3e2863">store</a>-&gt;<a class="code hl_function" href="classrgw_1_1sal_1_1_store.html#aca84a6ff80011b26fcd2fa8526c1152e">ctx</a>(), crs.get_completion_mgr());</div>
<div class="line"><span class="lineno"> 9417</span>    <span class="keywordtype">int</span> ret = http.start();</div>
<div class="line"><span class="lineno"> 9418</span>    <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno"> 9419</span>      cerr &lt;&lt; <span class="stringliteral">&quot;failed to initialize http client with &quot;</span> &lt;&lt; cpp_strerror(ret) &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 9420</span>      <span class="keywordflow">return</span> -ret;</div>
<div class="line"><span class="lineno"> 9421</span>    }</div>
<div class="line"><span class="lineno"> 9422</span> </div>
<div class="line"><span class="lineno"> 9423</span>    <span class="keyword">auto</span> num_shards = g_conf()-&gt;rgw_data_log_num_shards;</div>
<div class="line"><span class="lineno"> 9424</span>    std::vector&lt;std::string&gt; markers(num_shards);</div>
<div class="line"><span class="lineno"> 9425</span>    ret = crs.run(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>(), <a class="code hl_function" href="rgw__trim__datalog_8cc.html#a644c152fbaa7fa35f4ae23452777275a">create_admin_data_log_trim_cr</a>(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>(), <span class="keyword">static_cast&lt;</span><a class="code hl_class" href="classrgw_1_1sal_1_1_rados_store.html">rgw::sal::RadosStore</a>*<span class="keyword">&gt;</span>(<a class="code hl_variable" href="rgw__admin_8cc.html#a6fdb26d64b14d837b60e83a6ca3e2863">store</a>), &amp;http, num_shards, markers));</div>
<div class="line"><span class="lineno"> 9426</span>    <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno"> 9427</span>      cerr &lt;&lt; <span class="stringliteral">&quot;automated datalog trim failed with &quot;</span> &lt;&lt; cpp_strerror(ret) &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 9428</span>      <span class="keywordflow">return</span> -ret;</div>
<div class="line"><span class="lineno"> 9429</span>    }</div>
<div class="line"><span class="lineno"> 9430</span>  }</div>
<div class="line"><span class="lineno"> 9431</span> </div>
<div class="line"><span class="lineno"> 9432</span>  <span class="keywordflow">if</span> (opt_cmd == OPT::DATALOG_TRIM) {</div>
<div class="line"><span class="lineno"> 9433</span>    <span class="keywordflow">if</span> (!start_date.empty()) {</div>
<div class="line"><span class="lineno"> 9434</span>      std::cerr &lt;&lt; <span class="stringliteral">&quot;start-date not allowed.&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 9435</span>      <span class="keywordflow">return</span> -EINVAL;</div>
<div class="line"><span class="lineno"> 9436</span>    }</div>
<div class="line"><span class="lineno"> 9437</span>    <span class="keywordflow">if</span> (!end_date.empty()) {</div>
<div class="line"><span class="lineno"> 9438</span>      std::cerr &lt;&lt; <span class="stringliteral">&quot;end-date not allowed.&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 9439</span>      <span class="keywordflow">return</span> -EINVAL;</div>
<div class="line"><span class="lineno"> 9440</span>    }</div>
<div class="line"><span class="lineno"> 9441</span>    <span class="keywordflow">if</span> (!start_marker.empty()) {</div>
<div class="line"><span class="lineno"> 9442</span>      std::cerr &lt;&lt; <span class="stringliteral">&quot;start-marker not allowed.&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 9443</span>      <span class="keywordflow">return</span> -EINVAL;</div>
<div class="line"><span class="lineno"> 9444</span>    }</div>
<div class="line"><span class="lineno"> 9445</span>    <span class="keywordflow">if</span> (!end_marker.empty()) {</div>
<div class="line"><span class="lineno"> 9446</span>      <span class="keywordflow">if</span> (marker.empty()) {</div>
<div class="line"><span class="lineno"> 9447</span>    marker = end_marker;</div>
<div class="line"><span class="lineno"> 9448</span>      } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 9449</span>    std::cerr &lt;&lt; <span class="stringliteral">&quot;end-marker and marker not both allowed.&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 9450</span>    <span class="keywordflow">return</span> -EINVAL;</div>
<div class="line"><span class="lineno"> 9451</span>      }</div>
<div class="line"><span class="lineno"> 9452</span>    }</div>
<div class="line"><span class="lineno"> 9453</span> </div>
<div class="line"><span class="lineno"> 9454</span>    <span class="keywordflow">if</span> (!specified_shard_id) {</div>
<div class="line"><span class="lineno"> 9455</span>      cerr &lt;&lt; <span class="stringliteral">&quot;ERROR: requires a --shard-id&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 9456</span>      <span class="keywordflow">return</span> EINVAL;</div>
<div class="line"><span class="lineno"> 9457</span>    }</div>
<div class="line"><span class="lineno"> 9458</span> </div>
<div class="line"><span class="lineno"> 9459</span>    <span class="keywordflow">if</span> (marker.empty()) {</div>
<div class="line"><span class="lineno"> 9460</span>      cerr &lt;&lt; <span class="stringliteral">&quot;ERROR: requires a --marker&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 9461</span>      <span class="keywordflow">return</span> EINVAL;</div>
<div class="line"><span class="lineno"> 9462</span>    }</div>
<div class="line"><span class="lineno"> 9463</span> </div>
<div class="line"><span class="lineno"> 9464</span>    <span class="keyword">auto</span> datalog = <span class="keyword">static_cast&lt;</span><a class="code hl_class" href="classrgw_1_1sal_1_1_rados_store.html">rgw::sal::RadosStore</a>*<span class="keyword">&gt;</span>(<a class="code hl_variable" href="rgw__admin_8cc.html#a6fdb26d64b14d837b60e83a6ca3e2863">store</a>)-&gt;svc()-&gt;datalog_rados;</div>
<div class="line"><span class="lineno"> 9465</span>    ret = datalog-&gt;trim_entries(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>(), shard_id, marker);</div>
<div class="line"><span class="lineno"> 9466</span> </div>
<div class="line"><span class="lineno"> 9467</span>    <span class="keywordflow">if</span> (ret &lt; 0 &amp;&amp; ret != -ENODATA) {</div>
<div class="line"><span class="lineno"> 9468</span>      cerr &lt;&lt; <span class="stringliteral">&quot;ERROR: trim_entries(): &quot;</span> &lt;&lt; cpp_strerror(-ret) &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 9469</span>      <span class="keywordflow">return</span> -ret;</div>
<div class="line"><span class="lineno"> 9470</span>    }</div>
<div class="line"><span class="lineno"> 9471</span>  }</div>
<div class="line"><span class="lineno"> 9472</span> </div>
<div class="line"><span class="lineno"> 9473</span>  <span class="keywordflow">if</span> (opt_cmd == OPT::DATALOG_TYPE) {</div>
<div class="line"><span class="lineno"> 9474</span>    <span class="keywordflow">if</span> (!opt_log_type) {</div>
<div class="line"><span class="lineno"> 9475</span>      std::cerr &lt;&lt; <span class="stringliteral">&quot;log-type not specified.&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 9476</span>      <span class="keywordflow">return</span> -EINVAL;</div>
<div class="line"><span class="lineno"> 9477</span>    }</div>
<div class="line"><span class="lineno"> 9478</span>    <span class="keyword">auto</span> datalog = <span class="keyword">static_cast&lt;</span><a class="code hl_class" href="classrgw_1_1sal_1_1_rados_store.html">rgw::sal::RadosStore</a>*<span class="keyword">&gt;</span>(<a class="code hl_variable" href="rgw__admin_8cc.html#a6fdb26d64b14d837b60e83a6ca3e2863">store</a>)-&gt;svc()-&gt;datalog_rados;</div>
<div class="line"><span class="lineno"> 9479</span>    ret = datalog-&gt;change_format(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>(), *opt_log_type, null_yield);</div>
<div class="line"><span class="lineno"> 9480</span>    <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno"> 9481</span>      cerr &lt;&lt; <span class="stringliteral">&quot;ERROR: change_format(): &quot;</span> &lt;&lt; cpp_strerror(-ret) &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 9482</span>      <span class="keywordflow">return</span> -ret;</div>
<div class="line"><span class="lineno"> 9483</span>    }</div>
<div class="line"><span class="lineno"> 9484</span>  }</div>
<div class="line"><span class="lineno"> 9485</span> </div>
<div class="line"><span class="lineno"> 9486</span>  <span class="keywordflow">if</span> (opt_cmd == OPT::DATALOG_PRUNE) {</div>
<div class="line"><span class="lineno"> 9487</span>    <span class="keyword">auto</span> datalog = <span class="keyword">static_cast&lt;</span><a class="code hl_class" href="classrgw_1_1sal_1_1_rados_store.html">rgw::sal::RadosStore</a>*<span class="keyword">&gt;</span>(<a class="code hl_variable" href="rgw__admin_8cc.html#a6fdb26d64b14d837b60e83a6ca3e2863">store</a>)-&gt;svc()-&gt;datalog_rados;</div>
<div class="line"><span class="lineno"> 9488</span>    std::optional&lt;uint64_t&gt; through;</div>
<div class="line"><span class="lineno"> 9489</span>    ret = datalog-&gt;trim_generations(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>(), through);</div>
<div class="line"><span class="lineno"> 9490</span> </div>
<div class="line"><span class="lineno"> 9491</span>    <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno"> 9492</span>      cerr &lt;&lt; <span class="stringliteral">&quot;ERROR: trim_generations(): &quot;</span> &lt;&lt; cpp_strerror(-ret) &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 9493</span>      <span class="keywordflow">return</span> -ret;</div>
<div class="line"><span class="lineno"> 9494</span>    }</div>
<div class="line"><span class="lineno"> 9495</span> </div>
<div class="line"><span class="lineno"> 9496</span>    <span class="keywordflow">if</span> (through) {</div>
<div class="line"><span class="lineno"> 9497</span>      std::cout &lt;&lt; <span class="stringliteral">&quot;Pruned &quot;</span> &lt;&lt; *through &lt;&lt; <span class="stringliteral">&quot; empty generations.&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 9498</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 9499</span>      std::cout &lt;&lt; <span class="stringliteral">&quot;No empty generations.&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 9500</span>    }</div>
<div class="line"><span class="lineno"> 9501</span>  }</div>
<div class="line"><span class="lineno"> 9502</span> </div>
<div class="line"><span class="lineno"> 9503</span>  <span class="keywordtype">bool</span> quota_op = (opt_cmd == OPT::QUOTA_SET || opt_cmd == OPT::QUOTA_ENABLE || opt_cmd == OPT::QUOTA_DISABLE);</div>
<div class="line"><span class="lineno"> 9504</span> </div>
<div class="line"><span class="lineno"> 9505</span>  <span class="keywordflow">if</span> (quota_op) {</div>
<div class="line"><span class="lineno"> 9506</span>    <span class="keywordflow">if</span> (bucket_name.empty() &amp;&amp; <a class="code hl_function" href="classrgw_1_1sal_1_1_user.html#a96e608798e4a45601e3d9f223bdbcb9b">rgw::sal::User::empty</a>(<a class="code hl_variable" href="structrgw__log__entry.html#a35ae5bdbb5f60664f0a367d5c3ad9efe">user</a>)) {</div>
<div class="line"><span class="lineno"> 9507</span>      cerr &lt;&lt; <span class="stringliteral">&quot;ERROR: bucket name or uid is required for quota operation&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 9508</span>      <span class="keywordflow">return</span> EINVAL;</div>
<div class="line"><span class="lineno"> 9509</span>    }</div>
<div class="line"><span class="lineno"> 9510</span> </div>
<div class="line"><span class="lineno"> 9511</span>    <span class="keywordflow">if</span> (!bucket_name.empty()) {</div>
<div class="line"><span class="lineno"> 9512</span>      <span class="keywordflow">if</span> (!quota_scope.empty() &amp;&amp; quota_scope != <span class="stringliteral">&quot;bucket&quot;</span>) {</div>
<div class="line"><span class="lineno"> 9513</span>        cerr &lt;&lt; <span class="stringliteral">&quot;ERROR: invalid quota scope specification.&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 9514</span>        <span class="keywordflow">return</span> EINVAL;</div>
<div class="line"><span class="lineno"> 9515</span>      }</div>
<div class="line"><span class="lineno"> 9516</span>      <a class="code hl_function" href="rgw__admin_8cc.html#adacb41248cf30097cf288bb44a093923">set_bucket_quota</a>(<a class="code hl_variable" href="rgw__admin_8cc.html#a6fdb26d64b14d837b60e83a6ca3e2863">store</a>, opt_cmd, tenant, bucket_name,</div>
<div class="line"><span class="lineno"> 9517</span>                       max_size, max_objects, have_max_size, have_max_objects);</div>
<div class="line"><span class="lineno"> 9518</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!<a class="code hl_function" href="classrgw_1_1sal_1_1_user.html#a96e608798e4a45601e3d9f223bdbcb9b">rgw::sal::User::empty</a>(<a class="code hl_variable" href="structrgw__log__entry.html#a35ae5bdbb5f60664f0a367d5c3ad9efe">user</a>)) {</div>
<div class="line"><span class="lineno"> 9519</span>      <span class="keywordflow">if</span> (quota_scope == <span class="stringliteral">&quot;bucket&quot;</span>) {</div>
<div class="line"><span class="lineno"> 9520</span>        <span class="keywordflow">return</span> <a class="code hl_function" href="rgw__admin_8cc.html#aeb16ac40eaa88d8f9aaf0b2def2fe2fb">set_user_bucket_quota</a>(opt_cmd, ruser, user_op, max_size, max_objects, have_max_size, have_max_objects);</div>
<div class="line"><span class="lineno"> 9521</span>      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (quota_scope == <span class="stringliteral">&quot;user&quot;</span>) {</div>
<div class="line"><span class="lineno"> 9522</span>        <span class="keywordflow">return</span> <a class="code hl_function" href="rgw__admin_8cc.html#a45756af62516a89ecfa1951a630f7a73">set_user_quota</a>(opt_cmd, ruser, user_op, max_size, max_objects, have_max_size, have_max_objects);</div>
<div class="line"><span class="lineno"> 9523</span>      } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 9524</span>        cerr &lt;&lt; <span class="stringliteral">&quot;ERROR: invalid quota scope specification. Please specify either --quota-scope=bucket, or --quota-scope=user&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 9525</span>        <span class="keywordflow">return</span> EINVAL;</div>
<div class="line"><span class="lineno"> 9526</span>      }</div>
<div class="line"><span class="lineno"> 9527</span>    }</div>
<div class="line"><span class="lineno"> 9528</span>  }</div>
<div class="line"><span class="lineno"> 9529</span> </div>
<div class="line"><span class="lineno"> 9530</span>  <span class="keywordtype">bool</span> ratelimit_op_set = (opt_cmd == OPT::RATELIMIT_SET || opt_cmd == OPT::RATELIMIT_ENABLE || opt_cmd == OPT::RATELIMIT_DISABLE);</div>
<div class="line"><span class="lineno"> 9531</span>  <span class="keywordtype">bool</span> ratelimit_op_get = opt_cmd == OPT::RATELIMIT_GET;</div>
<div class="line"><span class="lineno"> 9532</span>  <span class="keywordflow">if</span> (ratelimit_op_set) {</div>
<div class="line"><span class="lineno"> 9533</span>    <span class="keywordflow">if</span> (bucket_name.empty() &amp;&amp; <a class="code hl_function" href="classrgw_1_1sal_1_1_user.html#a96e608798e4a45601e3d9f223bdbcb9b">rgw::sal::User::empty</a>(<a class="code hl_variable" href="structrgw__log__entry.html#a35ae5bdbb5f60664f0a367d5c3ad9efe">user</a>)) {</div>
<div class="line"><span class="lineno"> 9534</span>      cerr &lt;&lt; <span class="stringliteral">&quot;ERROR: bucket name or uid is required for ratelimit operation&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 9535</span>      <span class="keywordflow">return</span> EINVAL;</div>
<div class="line"><span class="lineno"> 9536</span>    }</div>
<div class="line"><span class="lineno"> 9537</span> </div>
<div class="line"><span class="lineno"> 9538</span>    <span class="keywordflow">if</span> (!bucket_name.empty()) {</div>
<div class="line"><span class="lineno"> 9539</span>      <span class="keywordflow">if</span> (!ratelimit_scope.empty() &amp;&amp; ratelimit_scope != <span class="stringliteral">&quot;bucket&quot;</span>) {</div>
<div class="line"><span class="lineno"> 9540</span>        cerr &lt;&lt; <span class="stringliteral">&quot;ERROR: invalid ratelimit scope specification. (bucket scope is not bucket but bucket has been specified)&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 9541</span>        <span class="keywordflow">return</span> EINVAL;</div>
<div class="line"><span class="lineno"> 9542</span>      }</div>
<div class="line"><span class="lineno"> 9543</span>      <span class="keywordflow">return</span> <a class="code hl_function" href="rgw__admin_8cc.html#ac7ecfff67d5f6ace5a2144c93d8a7d77">set_bucket_ratelimit</a>(<a class="code hl_variable" href="rgw__admin_8cc.html#a6fdb26d64b14d837b60e83a6ca3e2863">store</a>, opt_cmd, tenant, bucket_name,</div>
<div class="line"><span class="lineno"> 9544</span>                           max_read_ops, max_write_ops,</div>
<div class="line"><span class="lineno"> 9545</span>                           max_read_bytes, max_write_bytes,</div>
<div class="line"><span class="lineno"> 9546</span>                           have_max_read_ops, have_max_write_ops,</div>
<div class="line"><span class="lineno"> 9547</span>                           have_max_read_bytes, have_max_write_bytes);</div>
<div class="line"><span class="lineno"> 9548</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!<a class="code hl_function" href="classrgw_1_1sal_1_1_user.html#a96e608798e4a45601e3d9f223bdbcb9b">rgw::sal::User::empty</a>(<a class="code hl_variable" href="structrgw__log__entry.html#a35ae5bdbb5f60664f0a367d5c3ad9efe">user</a>)) {</div>
<div class="line"><span class="lineno"> 9549</span>      } <span class="keywordflow">if</span> (ratelimit_scope == <span class="stringliteral">&quot;user&quot;</span>) {</div>
<div class="line"><span class="lineno"> 9550</span>        <span class="keywordflow">return</span> <a class="code hl_function" href="rgw__admin_8cc.html#acdcb0d724bb4768b0809eb0f78cd4ab4">set_user_ratelimit</a>(opt_cmd, <a class="code hl_variable" href="structrgw__log__entry.html#a35ae5bdbb5f60664f0a367d5c3ad9efe">user</a>, max_read_ops, max_write_ops,</div>
<div class="line"><span class="lineno"> 9551</span>                         max_read_bytes, max_write_bytes,</div>
<div class="line"><span class="lineno"> 9552</span>                         have_max_read_ops, have_max_write_ops,</div>
<div class="line"><span class="lineno"> 9553</span>                         have_max_read_bytes, have_max_write_bytes);</div>
<div class="line"><span class="lineno"> 9554</span>      } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 9555</span>        cerr &lt;&lt; <span class="stringliteral">&quot;ERROR: invalid ratelimit scope specification. Please specify either --ratelimit-scope=bucket, or --ratelimit-scope=user&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 9556</span>        <span class="keywordflow">return</span> EINVAL;</div>
<div class="line"><span class="lineno"> 9557</span>      }</div>
<div class="line"><span class="lineno"> 9558</span>  }</div>
<div class="line"><span class="lineno"> 9559</span> </div>
<div class="line"><span class="lineno"> 9560</span>  <span class="keywordflow">if</span> (ratelimit_op_get) {</div>
<div class="line"><span class="lineno"> 9561</span>    <span class="keywordflow">if</span> (bucket_name.empty() &amp;&amp; <a class="code hl_function" href="classrgw_1_1sal_1_1_user.html#a96e608798e4a45601e3d9f223bdbcb9b">rgw::sal::User::empty</a>(<a class="code hl_variable" href="structrgw__log__entry.html#a35ae5bdbb5f60664f0a367d5c3ad9efe">user</a>)) {</div>
<div class="line"><span class="lineno"> 9562</span>      cerr &lt;&lt; <span class="stringliteral">&quot;ERROR: bucket name or uid is required for ratelimit operation&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 9563</span>      <span class="keywordflow">return</span> EINVAL;</div>
<div class="line"><span class="lineno"> 9564</span>    }</div>
<div class="line"><span class="lineno"> 9565</span> </div>
<div class="line"><span class="lineno"> 9566</span>    <span class="keywordflow">if</span> (!bucket_name.empty()) {</div>
<div class="line"><span class="lineno"> 9567</span>      <span class="keywordflow">if</span> (!ratelimit_scope.empty() &amp;&amp; ratelimit_scope != <span class="stringliteral">&quot;bucket&quot;</span>) {</div>
<div class="line"><span class="lineno"> 9568</span>        cerr &lt;&lt; <span class="stringliteral">&quot;ERROR: invalid ratelimit scope specification. (bucket scope is not bucket but bucket has been specified)&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 9569</span>        <span class="keywordflow">return</span> EINVAL;</div>
<div class="line"><span class="lineno"> 9570</span>      }</div>
<div class="line"><span class="lineno"> 9571</span>      <span class="keywordflow">return</span> <a class="code hl_function" href="rgw__admin_8cc.html#af18d4697640ec840e1bf2fd7e9d30953">show_bucket_ratelimit</a>(<a class="code hl_variable" href="rgw__admin_8cc.html#a6fdb26d64b14d837b60e83a6ca3e2863">store</a>, tenant, bucket_name, formatter.get());</div>
<div class="line"><span class="lineno"> 9572</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!<a class="code hl_function" href="classrgw_1_1sal_1_1_user.html#a96e608798e4a45601e3d9f223bdbcb9b">rgw::sal::User::empty</a>(<a class="code hl_variable" href="structrgw__log__entry.html#a35ae5bdbb5f60664f0a367d5c3ad9efe">user</a>)) {</div>
<div class="line"><span class="lineno"> 9573</span>      } <span class="keywordflow">if</span> (ratelimit_scope == <span class="stringliteral">&quot;user&quot;</span>) {</div>
<div class="line"><span class="lineno"> 9574</span>        <span class="keywordflow">return</span> <a class="code hl_function" href="rgw__admin_8cc.html#a0a59f4856530c0ea2ecbfecf76260725">show_user_ratelimit</a>(<a class="code hl_variable" href="structrgw__log__entry.html#a35ae5bdbb5f60664f0a367d5c3ad9efe">user</a>, formatter.get());</div>
<div class="line"><span class="lineno"> 9575</span>      } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 9576</span>        cerr &lt;&lt; <span class="stringliteral">&quot;ERROR: invalid ratelimit scope specification. Please specify either --ratelimit-scope=bucket, or --ratelimit-scope=user&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 9577</span>        <span class="keywordflow">return</span> EINVAL;</div>
<div class="line"><span class="lineno"> 9578</span>      }</div>
<div class="line"><span class="lineno"> 9579</span>  }</div>
<div class="line"><span class="lineno"> 9580</span> </div>
<div class="line"><span class="lineno"> 9581</span>  <span class="keywordflow">if</span> (opt_cmd == OPT::MFA_CREATE) {</div>
<div class="line"><span class="lineno"> 9582</span>    rados::cls::otp::otp_info_t <a class="code hl_enumvalue" href="namespacergw.html#aa74ef6030865b86d25300c7309e8b191a2245023265ae4cf87d02c8b6ba991139">config</a>;</div>
<div class="line"><span class="lineno"> 9583</span> </div>
<div class="line"><span class="lineno"> 9584</span>    <span class="keywordflow">if</span> (<a class="code hl_function" href="classrgw_1_1sal_1_1_user.html#a96e608798e4a45601e3d9f223bdbcb9b">rgw::sal::User::empty</a>(<a class="code hl_variable" href="structrgw__log__entry.html#a35ae5bdbb5f60664f0a367d5c3ad9efe">user</a>)) {</div>
<div class="line"><span class="lineno"> 9585</span>      cerr &lt;&lt; <span class="stringliteral">&quot;ERROR: user id was not provided (via --uid)&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 9586</span>      <span class="keywordflow">return</span> EINVAL;</div>
<div class="line"><span class="lineno"> 9587</span>    }</div>
<div class="line"><span class="lineno"> 9588</span> </div>
<div class="line"><span class="lineno"> 9589</span>    <span class="keywordflow">if</span> (totp_serial.empty()) {</div>
<div class="line"><span class="lineno"> 9590</span>      cerr &lt;&lt; <span class="stringliteral">&quot;ERROR: TOTP device serial number was not provided (via --totp-serial)&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 9591</span>      <span class="keywordflow">return</span> EINVAL;</div>
<div class="line"><span class="lineno"> 9592</span>    }</div>
<div class="line"><span class="lineno"> 9593</span> </div>
<div class="line"><span class="lineno"> 9594</span>    <span class="keywordflow">if</span> (totp_seed.empty()) {</div>
<div class="line"><span class="lineno"> 9595</span>      cerr &lt;&lt; <span class="stringliteral">&quot;ERROR: TOTP device seed was not provided (via --totp-seed)&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 9596</span>      <span class="keywordflow">return</span> EINVAL;</div>
<div class="line"><span class="lineno"> 9597</span>    }</div>
<div class="line"><span class="lineno"> 9598</span> </div>
<div class="line"><span class="lineno"> 9599</span> </div>
<div class="line"><span class="lineno"> 9600</span>    rados::cls::otp::SeedType seed_type;</div>
<div class="line"><span class="lineno"> 9601</span>    <span class="keywordflow">if</span> (totp_seed_type == <span class="stringliteral">&quot;hex&quot;</span>) {</div>
<div class="line"><span class="lineno"> 9602</span>      seed_type = rados::cls::otp::OTP_SEED_HEX;</div>
<div class="line"><span class="lineno"> 9603</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (totp_seed_type == <span class="stringliteral">&quot;base32&quot;</span>) {</div>
<div class="line"><span class="lineno"> 9604</span>      seed_type = rados::cls::otp::OTP_SEED_BASE32;</div>
<div class="line"><span class="lineno"> 9605</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 9606</span>      cerr &lt;&lt; <span class="stringliteral">&quot;ERROR: invalid seed type: &quot;</span> &lt;&lt; totp_seed_type &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 9607</span>      <span class="keywordflow">return</span> EINVAL;</div>
<div class="line"><span class="lineno"> 9608</span>    }</div>
<div class="line"><span class="lineno"> 9609</span> </div>
<div class="line"><span class="lineno"> 9610</span>    <a class="code hl_enumvalue" href="namespacergw.html#aa74ef6030865b86d25300c7309e8b191a2245023265ae4cf87d02c8b6ba991139">config</a>.id = totp_serial;</div>
<div class="line"><span class="lineno"> 9611</span>    <a class="code hl_enumvalue" href="namespacergw.html#aa74ef6030865b86d25300c7309e8b191a2245023265ae4cf87d02c8b6ba991139">config</a>.seed = totp_seed;</div>
<div class="line"><span class="lineno"> 9612</span>    <a class="code hl_enumvalue" href="namespacergw.html#aa74ef6030865b86d25300c7309e8b191a2245023265ae4cf87d02c8b6ba991139">config</a>.seed_type = seed_type;</div>
<div class="line"><span class="lineno"> 9613</span> </div>
<div class="line"><span class="lineno"> 9614</span>    <span class="keywordflow">if</span> (totp_seconds &gt; 0) {</div>
<div class="line"><span class="lineno"> 9615</span>      <a class="code hl_enumvalue" href="namespacergw.html#aa74ef6030865b86d25300c7309e8b191a2245023265ae4cf87d02c8b6ba991139">config</a>.step_size = totp_seconds;</div>
<div class="line"><span class="lineno"> 9616</span>    }</div>
<div class="line"><span class="lineno"> 9617</span> </div>
<div class="line"><span class="lineno"> 9618</span>    <span class="keywordflow">if</span> (totp_window &gt; 0) {</div>
<div class="line"><span class="lineno"> 9619</span>      <a class="code hl_enumvalue" href="namespacergw.html#aa74ef6030865b86d25300c7309e8b191a2245023265ae4cf87d02c8b6ba991139">config</a>.window = totp_window;</div>
<div class="line"><span class="lineno"> 9620</span>    }</div>
<div class="line"><span class="lineno"> 9621</span> </div>
<div class="line"><span class="lineno"> 9622</span>    real_time mtime = real_clock::now();</div>
<div class="line"><span class="lineno"> 9623</span>    <span class="keywordtype">string</span> oid = <span class="keyword">static_cast&lt;</span><a class="code hl_class" href="classrgw_1_1sal_1_1_rados_store.html">rgw::sal::RadosStore</a>*<span class="keyword">&gt;</span>(<a class="code hl_variable" href="rgw__admin_8cc.html#a6fdb26d64b14d837b60e83a6ca3e2863">store</a>)-&gt;svc()-&gt;cls-&gt;mfa.get_mfa_oid(<a class="code hl_variable" href="structrgw__log__entry.html#a35ae5bdbb5f60664f0a367d5c3ad9efe">user</a>-&gt;get_id());</div>
<div class="line"><span class="lineno"> 9624</span> </div>
<div class="line"><span class="lineno"> 9625</span>    <span class="keywordtype">int</span> ret = <span class="keyword">static_cast&lt;</span><a class="code hl_class" href="classrgw_1_1sal_1_1_rados_store.html">rgw::sal::RadosStore</a>*<span class="keyword">&gt;</span>(<a class="code hl_variable" href="rgw__admin_8cc.html#a6fdb26d64b14d837b60e83a6ca3e2863">store</a>)-&gt;ctl()-&gt;meta.mgr-&gt;mutate(<a class="code hl_function" href="class_r_g_w_s_i___meta_backend___o_t_p.html#a60b85dd92019752b77213e8e2d80241d">RGWSI_MetaBackend_OTP::get_meta_key</a>(<a class="code hl_variable" href="structrgw__log__entry.html#a35ae5bdbb5f60664f0a367d5c3ad9efe">user</a>-&gt;get_id()),</div>
<div class="line"><span class="lineno"> 9626</span>                         mtime, &amp;objv_tracker,</div>
<div class="line"><span class="lineno"> 9627</span>                         null_yield, <a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>(),</div>
<div class="line"><span class="lineno"> 9628</span>                         <a class="code hl_enumvalue" href="rgw__mdlog__types_8h.html#af43317dbf8c164afb601da7ad1a76492ad18685bb9adcbb90ed2799b33beccd0f">MDLOG_STATUS_WRITE</a>,</div>
<div class="line"><span class="lineno"> 9629</span>                         [&amp;] {</div>
<div class="line"><span class="lineno"> 9630</span>      <span class="keywordflow">return</span> <span class="keyword">static_cast&lt;</span><a class="code hl_class" href="classrgw_1_1sal_1_1_rados_store.html">rgw::sal::RadosStore</a>*<span class="keyword">&gt;</span>(<a class="code hl_variable" href="rgw__admin_8cc.html#a6fdb26d64b14d837b60e83a6ca3e2863">store</a>)-&gt;svc()-&gt;cls-&gt;mfa.create_mfa(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>(), <a class="code hl_variable" href="structrgw__log__entry.html#a35ae5bdbb5f60664f0a367d5c3ad9efe">user</a>-&gt;get_id(), <a class="code hl_enumvalue" href="namespacergw.html#aa74ef6030865b86d25300c7309e8b191a2245023265ae4cf87d02c8b6ba991139">config</a>, &amp;objv_tracker, mtime, null_yield);</div>
<div class="line"><span class="lineno"> 9631</span>    });</div>
<div class="line"><span class="lineno"> 9632</span>    <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno"> 9633</span>      cerr &lt;&lt; <span class="stringliteral">&quot;MFA creation failed, error: &quot;</span> &lt;&lt; cpp_strerror(-ret) &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 9634</span>      <span class="keywordflow">return</span> -ret;</div>
<div class="line"><span class="lineno"> 9635</span>    }</div>
<div class="line"><span class="lineno"> 9636</span>    </div>
<div class="line"><span class="lineno"> 9637</span>    <a class="code hl_struct" href="struct_r_g_w_user_info.html">RGWUserInfo</a>&amp; user_info = user_op.get_user_info();</div>
<div class="line"><span class="lineno"> 9638</span>    user_info.<a class="code hl_variable" href="struct_r_g_w_user_info.html#a79c015ee09089be9ee83d1ab6fcc0067">mfa_ids</a>.insert(totp_serial);</div>
<div class="line"><span class="lineno"> 9639</span>    user_op.set_mfa_ids(user_info.<a class="code hl_variable" href="struct_r_g_w_user_info.html#a79c015ee09089be9ee83d1ab6fcc0067">mfa_ids</a>);</div>
<div class="line"><span class="lineno"> 9640</span>    <span class="keywordtype">string</span> err;</div>
<div class="line"><span class="lineno"> 9641</span>    ret = ruser.<a class="code hl_function" href="class_r_g_w_user.html#a986f339b0dcd99bc46671bf22e45c280">modify</a>(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>(), user_op, null_yield, &amp;err);</div>
<div class="line"><span class="lineno"> 9642</span>    <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno"> 9643</span>      cerr &lt;&lt; <span class="stringliteral">&quot;ERROR: failed storing user info, error: &quot;</span> &lt;&lt; err &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 9644</span>      <span class="keywordflow">return</span> -ret;</div>
<div class="line"><span class="lineno"> 9645</span>    }</div>
<div class="line"><span class="lineno"> 9646</span>  }</div>
<div class="line"><span class="lineno"> 9647</span> </div>
<div class="line"><span class="lineno"> 9648</span> <span class="keywordflow">if</span> (opt_cmd == OPT::MFA_REMOVE) {</div>
<div class="line"><span class="lineno"> 9649</span>    <span class="keywordflow">if</span> (<a class="code hl_function" href="classrgw_1_1sal_1_1_user.html#a96e608798e4a45601e3d9f223bdbcb9b">rgw::sal::User::empty</a>(<a class="code hl_variable" href="structrgw__log__entry.html#a35ae5bdbb5f60664f0a367d5c3ad9efe">user</a>)) {</div>
<div class="line"><span class="lineno"> 9650</span>      cerr &lt;&lt; <span class="stringliteral">&quot;ERROR: user id was not provided (via --uid)&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 9651</span>      <span class="keywordflow">return</span> EINVAL;</div>
<div class="line"><span class="lineno"> 9652</span>    }</div>
<div class="line"><span class="lineno"> 9653</span> </div>
<div class="line"><span class="lineno"> 9654</span>    <span class="keywordflow">if</span> (totp_serial.empty()) {</div>
<div class="line"><span class="lineno"> 9655</span>      cerr &lt;&lt; <span class="stringliteral">&quot;ERROR: TOTP device serial number was not provided (via --totp-serial)&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 9656</span>      <span class="keywordflow">return</span> EINVAL;</div>
<div class="line"><span class="lineno"> 9657</span>    }</div>
<div class="line"><span class="lineno"> 9658</span> </div>
<div class="line"><span class="lineno"> 9659</span>    real_time mtime = real_clock::now();</div>
<div class="line"><span class="lineno"> 9660</span> </div>
<div class="line"><span class="lineno"> 9661</span>    <span class="keywordtype">int</span> ret = <span class="keyword">static_cast&lt;</span><a class="code hl_class" href="classrgw_1_1sal_1_1_rados_store.html">rgw::sal::RadosStore</a>*<span class="keyword">&gt;</span>(<a class="code hl_variable" href="rgw__admin_8cc.html#a6fdb26d64b14d837b60e83a6ca3e2863">store</a>)-&gt;ctl()-&gt;meta.mgr-&gt;mutate(<a class="code hl_function" href="class_r_g_w_s_i___meta_backend___o_t_p.html#a60b85dd92019752b77213e8e2d80241d">RGWSI_MetaBackend_OTP::get_meta_key</a>(<a class="code hl_variable" href="structrgw__log__entry.html#a35ae5bdbb5f60664f0a367d5c3ad9efe">user</a>-&gt;get_id()),</div>
<div class="line"><span class="lineno"> 9662</span>                         mtime, &amp;objv_tracker,</div>
<div class="line"><span class="lineno"> 9663</span>                         null_yield, <a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>(),</div>
<div class="line"><span class="lineno"> 9664</span>                         <a class="code hl_enumvalue" href="rgw__mdlog__types_8h.html#af43317dbf8c164afb601da7ad1a76492ad18685bb9adcbb90ed2799b33beccd0f">MDLOG_STATUS_WRITE</a>,</div>
<div class="line"><span class="lineno"> 9665</span>                         [&amp;] {</div>
<div class="line"><span class="lineno"> 9666</span>      <span class="keywordflow">return</span> <span class="keyword">static_cast&lt;</span><a class="code hl_class" href="classrgw_1_1sal_1_1_rados_store.html">rgw::sal::RadosStore</a>*<span class="keyword">&gt;</span>(<a class="code hl_variable" href="rgw__admin_8cc.html#a6fdb26d64b14d837b60e83a6ca3e2863">store</a>)-&gt;svc()-&gt;cls-&gt;mfa.remove_mfa(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>(), <a class="code hl_variable" href="structrgw__log__entry.html#a35ae5bdbb5f60664f0a367d5c3ad9efe">user</a>-&gt;get_id(), totp_serial, &amp;objv_tracker, mtime, null_yield);</div>
<div class="line"><span class="lineno"> 9667</span>    });</div>
<div class="line"><span class="lineno"> 9668</span>    <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno"> 9669</span>      cerr &lt;&lt; <span class="stringliteral">&quot;MFA removal failed, error: &quot;</span> &lt;&lt; cpp_strerror(-ret) &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 9670</span>      <span class="keywordflow">return</span> -ret;</div>
<div class="line"><span class="lineno"> 9671</span>    }</div>
<div class="line"><span class="lineno"> 9672</span> </div>
<div class="line"><span class="lineno"> 9673</span>    <a class="code hl_struct" href="struct_r_g_w_user_info.html">RGWUserInfo</a>&amp; user_info = user_op.get_user_info();</div>
<div class="line"><span class="lineno"> 9674</span>    user_info.<a class="code hl_variable" href="struct_r_g_w_user_info.html#a79c015ee09089be9ee83d1ab6fcc0067">mfa_ids</a>.erase(totp_serial);</div>
<div class="line"><span class="lineno"> 9675</span>    user_op.set_mfa_ids(user_info.<a class="code hl_variable" href="struct_r_g_w_user_info.html#a79c015ee09089be9ee83d1ab6fcc0067">mfa_ids</a>);</div>
<div class="line"><span class="lineno"> 9676</span>    <span class="keywordtype">string</span> err;</div>
<div class="line"><span class="lineno"> 9677</span>    ret = ruser.<a class="code hl_function" href="class_r_g_w_user.html#a986f339b0dcd99bc46671bf22e45c280">modify</a>(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>(), user_op, null_yield, &amp;err);</div>
<div class="line"><span class="lineno"> 9678</span>    <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno"> 9679</span>      cerr &lt;&lt; <span class="stringliteral">&quot;ERROR: failed storing user info, error: &quot;</span> &lt;&lt; err &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 9680</span>      <span class="keywordflow">return</span> -ret;</div>
<div class="line"><span class="lineno"> 9681</span>    }</div>
<div class="line"><span class="lineno"> 9682</span>  }</div>
<div class="line"><span class="lineno"> 9683</span> </div>
<div class="line"><span class="lineno"> 9684</span> <span class="keywordflow">if</span> (opt_cmd == OPT::MFA_GET) {</div>
<div class="line"><span class="lineno"> 9685</span>    <span class="keywordflow">if</span> (<a class="code hl_function" href="classrgw_1_1sal_1_1_user.html#a96e608798e4a45601e3d9f223bdbcb9b">rgw::sal::User::empty</a>(<a class="code hl_variable" href="structrgw__log__entry.html#a35ae5bdbb5f60664f0a367d5c3ad9efe">user</a>)) {</div>
<div class="line"><span class="lineno"> 9686</span>      cerr &lt;&lt; <span class="stringliteral">&quot;ERROR: user id was not provided (via --uid)&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 9687</span>      <span class="keywordflow">return</span> EINVAL;</div>
<div class="line"><span class="lineno"> 9688</span>    }</div>
<div class="line"><span class="lineno"> 9689</span> </div>
<div class="line"><span class="lineno"> 9690</span>    <span class="keywordflow">if</span> (totp_serial.empty()) {</div>
<div class="line"><span class="lineno"> 9691</span>      cerr &lt;&lt; <span class="stringliteral">&quot;ERROR: TOTP device serial number was not provided (via --totp-serial)&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 9692</span>      <span class="keywordflow">return</span> EINVAL;</div>
<div class="line"><span class="lineno"> 9693</span>    }</div>
<div class="line"><span class="lineno"> 9694</span> </div>
<div class="line"><span class="lineno"> 9695</span>    rados::cls::otp::otp_info_t result;</div>
<div class="line"><span class="lineno"> 9696</span>    <span class="keywordtype">int</span> ret = <span class="keyword">static_cast&lt;</span><a class="code hl_class" href="classrgw_1_1sal_1_1_rados_store.html">rgw::sal::RadosStore</a>*<span class="keyword">&gt;</span>(<a class="code hl_variable" href="rgw__admin_8cc.html#a6fdb26d64b14d837b60e83a6ca3e2863">store</a>)-&gt;svc()-&gt;cls-&gt;mfa.get_mfa(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>(), <a class="code hl_variable" href="structrgw__log__entry.html#a35ae5bdbb5f60664f0a367d5c3ad9efe">user</a>-&gt;get_id(), totp_serial, &amp;result, null_yield);</div>
<div class="line"><span class="lineno"> 9697</span>    <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno"> 9698</span>      <span class="keywordflow">if</span> (ret == -ENOENT || ret == -ENODATA) {</div>
<div class="line"><span class="lineno"> 9699</span>        cerr &lt;&lt; <span class="stringliteral">&quot;MFA serial id not found&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 9700</span>      } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 9701</span>        cerr &lt;&lt; <span class="stringliteral">&quot;MFA retrieval failed, error: &quot;</span> &lt;&lt; cpp_strerror(-ret) &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 9702</span>      }</div>
<div class="line"><span class="lineno"> 9703</span>      <span class="keywordflow">return</span> -ret;</div>
<div class="line"><span class="lineno"> 9704</span>    }</div>
<div class="line"><span class="lineno"> 9705</span>    formatter-&gt;open_object_section(<span class="stringliteral">&quot;result&quot;</span>);</div>
<div class="line"><span class="lineno"> 9706</span>    <a class="code hl_function" href="rgw__admin_8cc.html#ab596b9e1a1fc78e98a4d13a66578b658">encode_json</a>(<span class="stringliteral">&quot;entry&quot;</span>, result, formatter.get());</div>
<div class="line"><span class="lineno"> 9707</span>    formatter-&gt;close_section();</div>
<div class="line"><span class="lineno"> 9708</span>    formatter-&gt;flush(cout);</div>
<div class="line"><span class="lineno"> 9709</span>  }</div>
<div class="line"><span class="lineno"> 9710</span> </div>
<div class="line"><span class="lineno"> 9711</span> <span class="keywordflow">if</span> (opt_cmd == OPT::MFA_LIST) {</div>
<div class="line"><span class="lineno"> 9712</span>    <span class="keywordflow">if</span> (<a class="code hl_function" href="classrgw_1_1sal_1_1_user.html#a96e608798e4a45601e3d9f223bdbcb9b">rgw::sal::User::empty</a>(<a class="code hl_variable" href="structrgw__log__entry.html#a35ae5bdbb5f60664f0a367d5c3ad9efe">user</a>)) {</div>
<div class="line"><span class="lineno"> 9713</span>      cerr &lt;&lt; <span class="stringliteral">&quot;ERROR: user id was not provided (via --uid)&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 9714</span>      <span class="keywordflow">return</span> EINVAL;</div>
<div class="line"><span class="lineno"> 9715</span>    }</div>
<div class="line"><span class="lineno"> 9716</span> </div>
<div class="line"><span class="lineno"> 9717</span>    list&lt;rados::cls::otp::otp_info_t&gt; result;</div>
<div class="line"><span class="lineno"> 9718</span>    <span class="keywordtype">int</span> ret = <span class="keyword">static_cast&lt;</span><a class="code hl_class" href="classrgw_1_1sal_1_1_rados_store.html">rgw::sal::RadosStore</a>*<span class="keyword">&gt;</span>(<a class="code hl_variable" href="rgw__admin_8cc.html#a6fdb26d64b14d837b60e83a6ca3e2863">store</a>)-&gt;svc()-&gt;cls-&gt;mfa.list_mfa(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>(), <a class="code hl_variable" href="structrgw__log__entry.html#a35ae5bdbb5f60664f0a367d5c3ad9efe">user</a>-&gt;get_id(), &amp;result, null_yield);</div>
<div class="line"><span class="lineno"> 9719</span>    <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno"> 9720</span>      cerr &lt;&lt; <span class="stringliteral">&quot;MFA listing failed, error: &quot;</span> &lt;&lt; cpp_strerror(-ret) &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 9721</span>      <span class="keywordflow">return</span> -ret;</div>
<div class="line"><span class="lineno"> 9722</span>    }</div>
<div class="line"><span class="lineno"> 9723</span>    formatter-&gt;open_object_section(<span class="stringliteral">&quot;result&quot;</span>);</div>
<div class="line"><span class="lineno"> 9724</span>    <a class="code hl_function" href="rgw__admin_8cc.html#ab596b9e1a1fc78e98a4d13a66578b658">encode_json</a>(<span class="stringliteral">&quot;entries&quot;</span>, result, formatter.get());</div>
<div class="line"><span class="lineno"> 9725</span>    formatter-&gt;close_section();</div>
<div class="line"><span class="lineno"> 9726</span>    formatter-&gt;flush(cout);</div>
<div class="line"><span class="lineno"> 9727</span>  }</div>
<div class="line"><span class="lineno"> 9728</span> </div>
<div class="line"><span class="lineno"> 9729</span> <span class="keywordflow">if</span> (opt_cmd == OPT::MFA_CHECK) {</div>
<div class="line"><span class="lineno"> 9730</span>    <span class="keywordflow">if</span> (<a class="code hl_function" href="classrgw_1_1sal_1_1_user.html#a96e608798e4a45601e3d9f223bdbcb9b">rgw::sal::User::empty</a>(<a class="code hl_variable" href="structrgw__log__entry.html#a35ae5bdbb5f60664f0a367d5c3ad9efe">user</a>)) {</div>
<div class="line"><span class="lineno"> 9731</span>      cerr &lt;&lt; <span class="stringliteral">&quot;ERROR: user id was not provided (via --uid)&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 9732</span>      <span class="keywordflow">return</span> EINVAL;</div>
<div class="line"><span class="lineno"> 9733</span>    }</div>
<div class="line"><span class="lineno"> 9734</span> </div>
<div class="line"><span class="lineno"> 9735</span>    <span class="keywordflow">if</span> (totp_serial.empty()) {</div>
<div class="line"><span class="lineno"> 9736</span>      cerr &lt;&lt; <span class="stringliteral">&quot;ERROR: TOTP device serial number was not provided (via --totp-serial)&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 9737</span>      <span class="keywordflow">return</span> EINVAL;</div>
<div class="line"><span class="lineno"> 9738</span>    }</div>
<div class="line"><span class="lineno"> 9739</span> </div>
<div class="line"><span class="lineno"> 9740</span>    <span class="keywordflow">if</span> (totp_pin.empty()) {</div>
<div class="line"><span class="lineno"> 9741</span>      cerr &lt;&lt; <span class="stringliteral">&quot;ERROR: TOTP device serial number was not provided (via --totp-pin)&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 9742</span>      <span class="keywordflow">return</span> EINVAL;</div>
<div class="line"><span class="lineno"> 9743</span>    }</div>
<div class="line"><span class="lineno"> 9744</span> </div>
<div class="line"><span class="lineno"> 9745</span>    list&lt;rados::cls::otp::otp_info_t&gt; result;</div>
<div class="line"><span class="lineno"> 9746</span>    <span class="keywordtype">int</span> ret = <span class="keyword">static_cast&lt;</span><a class="code hl_class" href="classrgw_1_1sal_1_1_rados_store.html">rgw::sal::RadosStore</a>*<span class="keyword">&gt;</span>(<a class="code hl_variable" href="rgw__admin_8cc.html#a6fdb26d64b14d837b60e83a6ca3e2863">store</a>)-&gt;svc()-&gt;cls-&gt;mfa.check_mfa(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>(), <a class="code hl_variable" href="structrgw__log__entry.html#a35ae5bdbb5f60664f0a367d5c3ad9efe">user</a>-&gt;get_id(), totp_serial, totp_pin.front(), null_yield);</div>
<div class="line"><span class="lineno"> 9747</span>    <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno"> 9748</span>      cerr &lt;&lt; <span class="stringliteral">&quot;MFA check failed, error: &quot;</span> &lt;&lt; cpp_strerror(-ret) &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 9749</span>      <span class="keywordflow">return</span> -ret;</div>
<div class="line"><span class="lineno"> 9750</span>    }</div>
<div class="line"><span class="lineno"> 9751</span> </div>
<div class="line"><span class="lineno"> 9752</span>    cout &lt;&lt; <span class="stringliteral">&quot;ok&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 9753</span>  }</div>
<div class="line"><span class="lineno"> 9754</span> </div>
<div class="line"><span class="lineno"> 9755</span> <span class="keywordflow">if</span> (opt_cmd == OPT::MFA_RESYNC) {</div>
<div class="line"><span class="lineno"> 9756</span>    <span class="keywordflow">if</span> (<a class="code hl_function" href="classrgw_1_1sal_1_1_user.html#a96e608798e4a45601e3d9f223bdbcb9b">rgw::sal::User::empty</a>(<a class="code hl_variable" href="structrgw__log__entry.html#a35ae5bdbb5f60664f0a367d5c3ad9efe">user</a>)) {</div>
<div class="line"><span class="lineno"> 9757</span>      cerr &lt;&lt; <span class="stringliteral">&quot;ERROR: user id was not provided (via --uid)&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 9758</span>      <span class="keywordflow">return</span> EINVAL;</div>
<div class="line"><span class="lineno"> 9759</span>    }</div>
<div class="line"><span class="lineno"> 9760</span> </div>
<div class="line"><span class="lineno"> 9761</span>    <span class="keywordflow">if</span> (totp_serial.empty()) {</div>
<div class="line"><span class="lineno"> 9762</span>      cerr &lt;&lt; <span class="stringliteral">&quot;ERROR: TOTP device serial number was not provided (via --totp-serial)&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 9763</span>      <span class="keywordflow">return</span> EINVAL;</div>
<div class="line"><span class="lineno"> 9764</span>    }</div>
<div class="line"><span class="lineno"> 9765</span> </div>
<div class="line"><span class="lineno"> 9766</span>    <span class="keywordflow">if</span> (totp_pin.size() != 2) {</div>
<div class="line"><span class="lineno"> 9767</span>      cerr &lt;&lt; <span class="stringliteral">&quot;ERROR: missing two --totp-pin params (--totp-pin=&lt;first&gt; --totp-pin=&lt;second&gt;)&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 9768</span>      <span class="keywordflow">return</span> EINVAL;</div>
<div class="line"><span class="lineno"> 9769</span>    }</div>
<div class="line"><span class="lineno"> 9770</span> </div>
<div class="line"><span class="lineno"> 9771</span>    rados::cls::otp::otp_info_t <a class="code hl_enumvalue" href="namespacergw.html#aa74ef6030865b86d25300c7309e8b191a2245023265ae4cf87d02c8b6ba991139">config</a>;</div>
<div class="line"><span class="lineno"> 9772</span>    <span class="keywordtype">int</span> ret = <span class="keyword">static_cast&lt;</span><a class="code hl_class" href="classrgw_1_1sal_1_1_rados_store.html">rgw::sal::RadosStore</a>*<span class="keyword">&gt;</span>(<a class="code hl_variable" href="rgw__admin_8cc.html#a6fdb26d64b14d837b60e83a6ca3e2863">store</a>)-&gt;svc()-&gt;cls-&gt;mfa.get_mfa(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>(), <a class="code hl_variable" href="structrgw__log__entry.html#a35ae5bdbb5f60664f0a367d5c3ad9efe">user</a>-&gt;get_id(), totp_serial, &amp;<a class="code hl_enumvalue" href="namespacergw.html#aa74ef6030865b86d25300c7309e8b191a2245023265ae4cf87d02c8b6ba991139">config</a>, null_yield);</div>
<div class="line"><span class="lineno"> 9773</span>    <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno"> 9774</span>      <span class="keywordflow">if</span> (ret == -ENOENT || ret == -ENODATA) {</div>
<div class="line"><span class="lineno"> 9775</span>        cerr &lt;&lt; <span class="stringliteral">&quot;MFA serial id not found&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 9776</span>      } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 9777</span>        cerr &lt;&lt; <span class="stringliteral">&quot;MFA retrieval failed, error: &quot;</span> &lt;&lt; cpp_strerror(-ret) &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 9778</span>      }</div>
<div class="line"><span class="lineno"> 9779</span>      <span class="keywordflow">return</span> -ret;</div>
<div class="line"><span class="lineno"> 9780</span>    }</div>
<div class="line"><span class="lineno"> 9781</span> </div>
<div class="line"><span class="lineno"> 9782</span>    ceph::real_time now;</div>
<div class="line"><span class="lineno"> 9783</span> </div>
<div class="line"><span class="lineno"> 9784</span>    ret = <span class="keyword">static_cast&lt;</span><a class="code hl_class" href="classrgw_1_1sal_1_1_rados_store.html">rgw::sal::RadosStore</a>*<span class="keyword">&gt;</span>(<a class="code hl_variable" href="rgw__admin_8cc.html#a6fdb26d64b14d837b60e83a6ca3e2863">store</a>)-&gt;svc()-&gt;cls-&gt;mfa.otp_get_current_time(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>(), <a class="code hl_variable" href="structrgw__log__entry.html#a35ae5bdbb5f60664f0a367d5c3ad9efe">user</a>-&gt;get_id(), &amp;now, null_yield);</div>
<div class="line"><span class="lineno"> 9785</span>    <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno"> 9786</span>      cerr &lt;&lt; <span class="stringliteral">&quot;ERROR: failed to fetch current time from osd: &quot;</span> &lt;&lt; cpp_strerror(-ret) &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 9787</span>      <span class="keywordflow">return</span> -ret;</div>
<div class="line"><span class="lineno"> 9788</span>    }</div>
<div class="line"><span class="lineno"> 9789</span>    time_t time_ofs;</div>
<div class="line"><span class="lineno"> 9790</span> </div>
<div class="line"><span class="lineno"> 9791</span>    ret = <a class="code hl_function" href="rgw__admin_8cc.html#ad26c9d112620dc11a0857551803dd990">scan_totp</a>(<a class="code hl_variable" href="rgw__admin_8cc.html#a6fdb26d64b14d837b60e83a6ca3e2863">store</a>-&gt;<a class="code hl_function" href="classrgw_1_1sal_1_1_store.html#aca84a6ff80011b26fcd2fa8526c1152e">ctx</a>(), now, config, totp_pin, &amp;time_ofs);</div>
<div class="line"><span class="lineno"> 9792</span>    <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno"> 9793</span>      <span class="keywordflow">if</span> (ret == -ENOENT) {</div>
<div class="line"><span class="lineno"> 9794</span>        cerr &lt;&lt; <span class="stringliteral">&quot;failed to resync, TOTP values not found in range&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 9795</span>      } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 9796</span>        cerr &lt;&lt; <span class="stringliteral">&quot;ERROR: failed to scan for TOTP values: &quot;</span> &lt;&lt; cpp_strerror(-ret) &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 9797</span>      }</div>
<div class="line"><span class="lineno"> 9798</span>      <span class="keywordflow">return</span> -ret;</div>
<div class="line"><span class="lineno"> 9799</span>    }</div>
<div class="line"><span class="lineno"> 9800</span> </div>
<div class="line"><span class="lineno"> 9801</span>    <a class="code hl_enumvalue" href="namespacergw.html#aa74ef6030865b86d25300c7309e8b191a2245023265ae4cf87d02c8b6ba991139">config</a>.time_ofs = time_ofs;</div>
<div class="line"><span class="lineno"> 9802</span> </div>
<div class="line"><span class="lineno"> 9803</span>    <span class="comment">/* now update the backend */</span></div>
<div class="line"><span class="lineno"> 9804</span>    real_time mtime = real_clock::now();</div>
<div class="line"><span class="lineno"> 9805</span> </div>
<div class="line"><span class="lineno"> 9806</span>    ret = <span class="keyword">static_cast&lt;</span><a class="code hl_class" href="classrgw_1_1sal_1_1_rados_store.html">rgw::sal::RadosStore</a>*<span class="keyword">&gt;</span>(<a class="code hl_variable" href="rgw__admin_8cc.html#a6fdb26d64b14d837b60e83a6ca3e2863">store</a>)-&gt;ctl()-&gt;meta.mgr-&gt;mutate(<a class="code hl_function" href="class_r_g_w_s_i___meta_backend___o_t_p.html#a60b85dd92019752b77213e8e2d80241d">RGWSI_MetaBackend_OTP::get_meta_key</a>(<a class="code hl_variable" href="structrgw__log__entry.html#a35ae5bdbb5f60664f0a367d5c3ad9efe">user</a>-&gt;get_id()),</div>
<div class="line"><span class="lineno"> 9807</span>                         mtime, &amp;objv_tracker,</div>
<div class="line"><span class="lineno"> 9808</span>                         null_yield, <a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>(),</div>
<div class="line"><span class="lineno"> 9809</span>                         <a class="code hl_enumvalue" href="rgw__mdlog__types_8h.html#af43317dbf8c164afb601da7ad1a76492ad18685bb9adcbb90ed2799b33beccd0f">MDLOG_STATUS_WRITE</a>,</div>
<div class="line"><span class="lineno"> 9810</span>                         [&amp;] {</div>
<div class="line"><span class="lineno"> 9811</span>      <span class="keywordflow">return</span> <span class="keyword">static_cast&lt;</span><a class="code hl_class" href="classrgw_1_1sal_1_1_rados_store.html">rgw::sal::RadosStore</a>*<span class="keyword">&gt;</span>(<a class="code hl_variable" href="rgw__admin_8cc.html#a6fdb26d64b14d837b60e83a6ca3e2863">store</a>)-&gt;svc()-&gt;cls-&gt;mfa.create_mfa(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>(), <a class="code hl_variable" href="structrgw__log__entry.html#a35ae5bdbb5f60664f0a367d5c3ad9efe">user</a>-&gt;get_id(), <a class="code hl_enumvalue" href="namespacergw.html#aa74ef6030865b86d25300c7309e8b191a2245023265ae4cf87d02c8b6ba991139">config</a>, &amp;objv_tracker, mtime, null_yield);</div>
<div class="line"><span class="lineno"> 9812</span>    });</div>
<div class="line"><span class="lineno"> 9813</span>    <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno"> 9814</span>      cerr &lt;&lt; <span class="stringliteral">&quot;MFA update failed, error: &quot;</span> &lt;&lt; cpp_strerror(-ret) &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 9815</span>      <span class="keywordflow">return</span> -ret;</div>
<div class="line"><span class="lineno"> 9816</span>    }</div>
<div class="line"><span class="lineno"> 9817</span> </div>
<div class="line"><span class="lineno"> 9818</span> }</div>
<div class="line"><span class="lineno"> 9819</span> </div>
<div class="line"><span class="lineno"> 9820</span> <span class="keywordflow">if</span> (opt_cmd == OPT::RESHARD_STALE_INSTANCES_LIST) {</div>
<div class="line"><span class="lineno"> 9821</span>   <span class="keywordflow">if</span> (!<span class="keyword">static_cast&lt;</span><a class="code hl_class" href="classrgw_1_1sal_1_1_rados_store.html">rgw::sal::RadosStore</a>*<span class="keyword">&gt;</span>(<a class="code hl_variable" href="rgw__admin_8cc.html#a6fdb26d64b14d837b60e83a6ca3e2863">store</a>)-&gt;svc()-&gt;zone-&gt;can_reshard() &amp;&amp; !yes_i_really_mean_it) {</div>
<div class="line"><span class="lineno"> 9822</span>     cerr &lt;&lt; <span class="stringliteral">&quot;Resharding disabled in a multisite env, stale instances unlikely from resharding&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 9823</span>     cerr &lt;&lt; <span class="stringliteral">&quot;These instances may not be safe to delete.&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 9824</span>     cerr &lt;&lt; <span class="stringliteral">&quot;Use --yes-i-really-mean-it to force displaying these instances.&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 9825</span>     <span class="keywordflow">return</span> EINVAL;</div>
<div class="line"><span class="lineno"> 9826</span>   }</div>
<div class="line"><span class="lineno"> 9827</span> </div>
<div class="line"><span class="lineno"> 9828</span>   ret = <a class="code hl_function" href="class_r_g_w_bucket_admin_op.html#a863e4531cb52101674e62a23082b74d4">RGWBucketAdminOp::list_stale_instances</a>(<a class="code hl_variable" href="rgw__admin_8cc.html#a6fdb26d64b14d837b60e83a6ca3e2863">store</a>, bucket_op, stream_flusher, <a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>());</div>
<div class="line"><span class="lineno"> 9829</span>   <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno"> 9830</span>     cerr &lt;&lt; <span class="stringliteral">&quot;ERROR: listing stale instances&quot;</span> &lt;&lt; cpp_strerror(-ret) &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 9831</span>   }</div>
<div class="line"><span class="lineno"> 9832</span> }</div>
<div class="line"><span class="lineno"> 9833</span> </div>
<div class="line"><span class="lineno"> 9834</span> <span class="keywordflow">if</span> (opt_cmd == OPT::RESHARD_STALE_INSTANCES_DELETE) {</div>
<div class="line"><span class="lineno"> 9835</span>   <span class="keywordflow">if</span> (!<span class="keyword">static_cast&lt;</span><a class="code hl_class" href="classrgw_1_1sal_1_1_rados_store.html">rgw::sal::RadosStore</a>*<span class="keyword">&gt;</span>(<a class="code hl_variable" href="rgw__admin_8cc.html#a6fdb26d64b14d837b60e83a6ca3e2863">store</a>)-&gt;svc()-&gt;zone-&gt;can_reshard()) {</div>
<div class="line"><span class="lineno"> 9836</span>     cerr &lt;&lt; <span class="stringliteral">&quot;Resharding disabled in a multisite env. Stale instances are not safe to be deleted.&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 9837</span>     <span class="keywordflow">return</span> EINVAL;</div>
<div class="line"><span class="lineno"> 9838</span>   }</div>
<div class="line"><span class="lineno"> 9839</span> </div>
<div class="line"><span class="lineno"> 9840</span>   ret = <a class="code hl_function" href="class_r_g_w_bucket_admin_op.html#aaf4ac1f242750c652514f5d7a537cfae">RGWBucketAdminOp::clear_stale_instances</a>(<a class="code hl_variable" href="rgw__admin_8cc.html#a6fdb26d64b14d837b60e83a6ca3e2863">store</a>, bucket_op, stream_flusher, <a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>());</div>
<div class="line"><span class="lineno"> 9841</span>   <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno"> 9842</span>     cerr &lt;&lt; <span class="stringliteral">&quot;ERROR: deleting stale instances&quot;</span> &lt;&lt; cpp_strerror(-ret) &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 9843</span>   }</div>
<div class="line"><span class="lineno"> 9844</span> }</div>
<div class="line"><span class="lineno"> 9845</span> </div>
<div class="line"><span class="lineno"> 9846</span>  <span class="keywordflow">if</span> (opt_cmd == OPT::PUBSUB_TOPICS_LIST) {</div>
<div class="line"><span class="lineno"> 9847</span> </div>
<div class="line"><span class="lineno"> 9848</span>    <a class="code hl_class" href="class_r_g_w_pub_sub.html">RGWPubSub</a> ps(<span class="keyword">static_cast&lt;</span><a class="code hl_class" href="classrgw_1_1sal_1_1_rados_store.html">rgw::sal::RadosStore</a>*<span class="keyword">&gt;</span>(<a class="code hl_variable" href="rgw__admin_8cc.html#a6fdb26d64b14d837b60e83a6ca3e2863">store</a>), tenant);</div>
<div class="line"><span class="lineno"> 9849</span> </div>
<div class="line"><span class="lineno"> 9850</span>    <span class="keywordflow">if</span> (!bucket_name.empty()) {</div>
<div class="line"><span class="lineno"> 9851</span>      <a class="code hl_struct" href="structrgw__pubsub__bucket__topics.html">rgw_pubsub_bucket_topics</a> result;</div>
<div class="line"><span class="lineno"> 9852</span>      <span class="keywordtype">int</span> ret = <a class="code hl_function" href="rgw__admin_8cc.html#a0023a8779e3ab0d965d9acfb3eb72cac">init_bucket</a>(<a class="code hl_variable" href="structrgw__log__entry.html#a35ae5bdbb5f60664f0a367d5c3ad9efe">user</a>.get(), tenant, bucket_name, <a class="code hl_variable" href="structrgw__log__entry.html#ade138581b4da0c38466f03c320bdd1ee">bucket_id</a>, &amp;<a class="code hl_variable" href="structrgw__log__entry.html#abe38126b4342e5e27a847c7850bb58d4">bucket</a>);</div>
<div class="line"><span class="lineno"> 9853</span>      <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno"> 9854</span>        cerr &lt;&lt; <span class="stringliteral">&quot;ERROR: could not init bucket: &quot;</span> &lt;&lt; cpp_strerror(-ret) &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 9855</span>        <span class="keywordflow">return</span> -ret;</div>
<div class="line"><span class="lineno"> 9856</span>      }</div>
<div class="line"><span class="lineno"> 9857</span> </div>
<div class="line"><span class="lineno"> 9858</span>      <span class="keyword">auto</span> b = ps.get_bucket(<a class="code hl_variable" href="structrgw__log__entry.html#abe38126b4342e5e27a847c7850bb58d4">bucket</a>-&gt;get_key());</div>
<div class="line"><span class="lineno"> 9859</span>      ret = b-&gt;get_topics(&amp;result);</div>
<div class="line"><span class="lineno"> 9860</span>      <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno"> 9861</span>        cerr &lt;&lt; <span class="stringliteral">&quot;ERROR: could not get topics: &quot;</span> &lt;&lt; cpp_strerror(-ret) &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 9862</span>        <span class="keywordflow">return</span> -ret;</div>
<div class="line"><span class="lineno"> 9863</span>      }</div>
<div class="line"><span class="lineno"> 9864</span>      <a class="code hl_function" href="rgw__admin_8cc.html#ab596b9e1a1fc78e98a4d13a66578b658">encode_json</a>(<span class="stringliteral">&quot;result&quot;</span>, result, formatter.get());</div>
<div class="line"><span class="lineno"> 9865</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 9866</span>      <a class="code hl_struct" href="structrgw__pubsub__topics.html">rgw_pubsub_topics</a> result;</div>
<div class="line"><span class="lineno"> 9867</span>      <span class="keywordtype">int</span> ret = ps.get_topics(&amp;result);</div>
<div class="line"><span class="lineno"> 9868</span>      <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno"> 9869</span>        cerr &lt;&lt; <span class="stringliteral">&quot;ERROR: could not get topics: &quot;</span> &lt;&lt; cpp_strerror(-ret) &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 9870</span>        <span class="keywordflow">return</span> -ret;</div>
<div class="line"><span class="lineno"> 9871</span>      }</div>
<div class="line"><span class="lineno"> 9872</span>      <a class="code hl_function" href="rgw__admin_8cc.html#ab596b9e1a1fc78e98a4d13a66578b658">encode_json</a>(<span class="stringliteral">&quot;result&quot;</span>, result, formatter.get());</div>
<div class="line"><span class="lineno"> 9873</span>    }</div>
<div class="line"><span class="lineno"> 9874</span>    formatter-&gt;flush(cout);</div>
<div class="line"><span class="lineno"> 9875</span>  }</div>
<div class="line"><span class="lineno"> 9876</span> </div>
<div class="line"><span class="lineno"> 9877</span>  <span class="keywordflow">if</span> (opt_cmd == OPT::PUBSUB_TOPIC_GET) {</div>
<div class="line"><span class="lineno"> 9878</span>    <span class="keywordflow">if</span> (topic_name.empty()) {</div>
<div class="line"><span class="lineno"> 9879</span>      cerr &lt;&lt; <span class="stringliteral">&quot;ERROR: topic name was not provided (via --topic)&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 9880</span>      <span class="keywordflow">return</span> EINVAL;</div>
<div class="line"><span class="lineno"> 9881</span>    }</div>
<div class="line"><span class="lineno"> 9882</span> </div>
<div class="line"><span class="lineno"> 9883</span>    <a class="code hl_class" href="class_r_g_w_pub_sub.html">RGWPubSub</a> ps(<span class="keyword">static_cast&lt;</span><a class="code hl_class" href="classrgw_1_1sal_1_1_rados_store.html">rgw::sal::RadosStore</a>*<span class="keyword">&gt;</span>(<a class="code hl_variable" href="rgw__admin_8cc.html#a6fdb26d64b14d837b60e83a6ca3e2863">store</a>), tenant);</div>
<div class="line"><span class="lineno"> 9884</span> </div>
<div class="line"><span class="lineno"> 9885</span>    <a class="code hl_struct" href="structrgw__pubsub__topic__subs.html">rgw_pubsub_topic_subs</a> topic;</div>
<div class="line"><span class="lineno"> 9886</span>    ret = ps.get_topic(topic_name, &amp;topic);</div>
<div class="line"><span class="lineno"> 9887</span>    <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno"> 9888</span>      cerr &lt;&lt; <span class="stringliteral">&quot;ERROR: could not get topic: &quot;</span> &lt;&lt; cpp_strerror(-ret) &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 9889</span>      <span class="keywordflow">return</span> -ret;</div>
<div class="line"><span class="lineno"> 9890</span>    }</div>
<div class="line"><span class="lineno"> 9891</span>    <a class="code hl_function" href="rgw__admin_8cc.html#ab596b9e1a1fc78e98a4d13a66578b658">encode_json</a>(<span class="stringliteral">&quot;topic&quot;</span>, topic, formatter.get());</div>
<div class="line"><span class="lineno"> 9892</span>    formatter-&gt;flush(cout);</div>
<div class="line"><span class="lineno"> 9893</span>  }</div>
<div class="line"><span class="lineno"> 9894</span> </div>
<div class="line"><span class="lineno"> 9895</span>  <span class="keywordflow">if</span> (opt_cmd == OPT::PUBSUB_TOPIC_RM) {</div>
<div class="line"><span class="lineno"> 9896</span>    <span class="keywordflow">if</span> (topic_name.empty()) {</div>
<div class="line"><span class="lineno"> 9897</span>      cerr &lt;&lt; <span class="stringliteral">&quot;ERROR: topic name was not provided (via --topic)&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 9898</span>      <span class="keywordflow">return</span> EINVAL;</div>
<div class="line"><span class="lineno"> 9899</span>    }</div>
<div class="line"><span class="lineno"> 9900</span> </div>
<div class="line"><span class="lineno"> 9901</span>    <a class="code hl_class" href="class_r_g_w_pub_sub.html">RGWPubSub</a> ps(<span class="keyword">static_cast&lt;</span><a class="code hl_class" href="classrgw_1_1sal_1_1_rados_store.html">rgw::sal::RadosStore</a>*<span class="keyword">&gt;</span>(<a class="code hl_variable" href="rgw__admin_8cc.html#a6fdb26d64b14d837b60e83a6ca3e2863">store</a>), tenant);</div>
<div class="line"><span class="lineno"> 9902</span> </div>
<div class="line"><span class="lineno"> 9903</span>    ret = ps.remove_topic(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>(), topic_name, null_yield);</div>
<div class="line"><span class="lineno"> 9904</span>    <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno"> 9905</span>      cerr &lt;&lt; <span class="stringliteral">&quot;ERROR: could not remove topic: &quot;</span> &lt;&lt; cpp_strerror(-ret) &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 9906</span>      <span class="keywordflow">return</span> -ret;</div>
<div class="line"><span class="lineno"> 9907</span>    }</div>
<div class="line"><span class="lineno"> 9908</span>  }</div>
<div class="line"><span class="lineno"> 9909</span> </div>
<div class="line"><span class="lineno"> 9910</span>  <span class="keywordflow">if</span> (opt_cmd == OPT::PUBSUB_SUB_GET) {</div>
<div class="line"><span class="lineno"> 9911</span>    <span class="keywordflow">if</span> (<a class="code hl_function" href="rgw__admin_8cc.html#a266e1d9277daa7bcaf9f20a9f469f72e">get_tier_type</a>(<span class="keyword">static_cast&lt;</span><a class="code hl_class" href="classrgw_1_1sal_1_1_rados_store.html">rgw::sal::RadosStore</a>*<span class="keyword">&gt;</span>(<a class="code hl_variable" href="rgw__admin_8cc.html#a6fdb26d64b14d837b60e83a6ca3e2863">store</a>)) != <span class="stringliteral">&quot;pubsub&quot;</span>) {</div>
<div class="line"><span class="lineno"> 9912</span>      cerr &lt;&lt; <span class="stringliteral">&quot;ERROR: only pubsub tier type supports this command&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 9913</span>      <span class="keywordflow">return</span> EINVAL;</div>
<div class="line"><span class="lineno"> 9914</span>    }</div>
<div class="line"><span class="lineno"> 9915</span>    <span class="keywordflow">if</span> (sub_name.empty()) {</div>
<div class="line"><span class="lineno"> 9916</span>      cerr &lt;&lt; <span class="stringliteral">&quot;ERROR: subscription name was not provided (via --subscription)&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 9917</span>      <span class="keywordflow">return</span> EINVAL;</div>
<div class="line"><span class="lineno"> 9918</span>    }</div>
<div class="line"><span class="lineno"> 9919</span> </div>
<div class="line"><span class="lineno"> 9920</span>    <a class="code hl_class" href="class_r_g_w_pub_sub.html">RGWPubSub</a> ps(<span class="keyword">static_cast&lt;</span><a class="code hl_class" href="classrgw_1_1sal_1_1_rados_store.html">rgw::sal::RadosStore</a>*<span class="keyword">&gt;</span>(<a class="code hl_variable" href="rgw__admin_8cc.html#a6fdb26d64b14d837b60e83a6ca3e2863">store</a>), tenant);</div>
<div class="line"><span class="lineno"> 9921</span> </div>
<div class="line"><span class="lineno"> 9922</span>    <a class="code hl_struct" href="structrgw__pubsub__sub__config.html">rgw_pubsub_sub_config</a> sub_conf;</div>
<div class="line"><span class="lineno"> 9923</span> </div>
<div class="line"><span class="lineno"> 9924</span>    <span class="keyword">auto</span> sub = ps.get_sub(sub_name);</div>
<div class="line"><span class="lineno"> 9925</span>    ret = sub-&gt;get_conf(&amp;sub_conf);</div>
<div class="line"><span class="lineno"> 9926</span>    <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno"> 9927</span>      cerr &lt;&lt; <span class="stringliteral">&quot;ERROR: could not get subscription info: &quot;</span> &lt;&lt; cpp_strerror(-ret) &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 9928</span>      <span class="keywordflow">return</span> -ret;</div>
<div class="line"><span class="lineno"> 9929</span>    }</div>
<div class="line"><span class="lineno"> 9930</span>    <a class="code hl_function" href="rgw__admin_8cc.html#ab596b9e1a1fc78e98a4d13a66578b658">encode_json</a>(<span class="stringliteral">&quot;sub&quot;</span>, sub_conf, formatter.get());</div>
<div class="line"><span class="lineno"> 9931</span>    formatter-&gt;flush(cout);</div>
<div class="line"><span class="lineno"> 9932</span>  }</div>
<div class="line"><span class="lineno"> 9933</span> </div>
<div class="line"><span class="lineno"> 9934</span> <span class="keywordflow">if</span> (opt_cmd == OPT::PUBSUB_SUB_RM) {</div>
<div class="line"><span class="lineno"> 9935</span>    <span class="keywordflow">if</span> (<a class="code hl_function" href="rgw__admin_8cc.html#a266e1d9277daa7bcaf9f20a9f469f72e">get_tier_type</a>(<span class="keyword">static_cast&lt;</span><a class="code hl_class" href="classrgw_1_1sal_1_1_rados_store.html">rgw::sal::RadosStore</a>*<span class="keyword">&gt;</span>(<a class="code hl_variable" href="rgw__admin_8cc.html#a6fdb26d64b14d837b60e83a6ca3e2863">store</a>)) != <span class="stringliteral">&quot;pubsub&quot;</span>) {</div>
<div class="line"><span class="lineno"> 9936</span>      cerr &lt;&lt; <span class="stringliteral">&quot;ERROR: only pubsub tier type supports this command&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 9937</span>      <span class="keywordflow">return</span> EINVAL;</div>
<div class="line"><span class="lineno"> 9938</span>    }</div>
<div class="line"><span class="lineno"> 9939</span>    <span class="keywordflow">if</span> (sub_name.empty()) {</div>
<div class="line"><span class="lineno"> 9940</span>      cerr &lt;&lt; <span class="stringliteral">&quot;ERROR: subscription name was not provided (via --subscription)&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 9941</span>      <span class="keywordflow">return</span> EINVAL;</div>
<div class="line"><span class="lineno"> 9942</span>    }</div>
<div class="line"><span class="lineno"> 9943</span> </div>
<div class="line"><span class="lineno"> 9944</span>    <a class="code hl_class" href="class_r_g_w_pub_sub.html">RGWPubSub</a> ps(<span class="keyword">static_cast&lt;</span><a class="code hl_class" href="classrgw_1_1sal_1_1_rados_store.html">rgw::sal::RadosStore</a>*<span class="keyword">&gt;</span>(<a class="code hl_variable" href="rgw__admin_8cc.html#a6fdb26d64b14d837b60e83a6ca3e2863">store</a>), tenant);</div>
<div class="line"><span class="lineno"> 9945</span> </div>
<div class="line"><span class="lineno"> 9946</span>    <span class="keyword">auto</span> sub = ps.get_sub(sub_name);</div>
<div class="line"><span class="lineno"> 9947</span>    ret = sub-&gt;unsubscribe(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>(), topic_name, null_yield);</div>
<div class="line"><span class="lineno"> 9948</span>    <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno"> 9949</span>      cerr &lt;&lt; <span class="stringliteral">&quot;ERROR: could not get subscription info: &quot;</span> &lt;&lt; cpp_strerror(-ret) &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 9950</span>      <span class="keywordflow">return</span> -ret;</div>
<div class="line"><span class="lineno"> 9951</span>    }</div>
<div class="line"><span class="lineno"> 9952</span>  }</div>
<div class="line"><span class="lineno"> 9953</span> </div>
<div class="line"><span class="lineno"> 9954</span> <span class="keywordflow">if</span> (opt_cmd == OPT::PUBSUB_SUB_PULL) {</div>
<div class="line"><span class="lineno"> 9955</span>    <span class="keywordflow">if</span> (<a class="code hl_function" href="rgw__admin_8cc.html#a266e1d9277daa7bcaf9f20a9f469f72e">get_tier_type</a>(<span class="keyword">static_cast&lt;</span><a class="code hl_class" href="classrgw_1_1sal_1_1_rados_store.html">rgw::sal::RadosStore</a>*<span class="keyword">&gt;</span>(<a class="code hl_variable" href="rgw__admin_8cc.html#a6fdb26d64b14d837b60e83a6ca3e2863">store</a>)) != <span class="stringliteral">&quot;pubsub&quot;</span>) {</div>
<div class="line"><span class="lineno"> 9956</span>      cerr &lt;&lt; <span class="stringliteral">&quot;ERROR: only pubsub tier type supports this command&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 9957</span>      <span class="keywordflow">return</span> EINVAL;</div>
<div class="line"><span class="lineno"> 9958</span>    }</div>
<div class="line"><span class="lineno"> 9959</span>    <span class="keywordflow">if</span> (sub_name.empty()) {</div>
<div class="line"><span class="lineno"> 9960</span>      cerr &lt;&lt; <span class="stringliteral">&quot;ERROR: subscription name was not provided (via --subscription)&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 9961</span>      <span class="keywordflow">return</span> EINVAL;</div>
<div class="line"><span class="lineno"> 9962</span>    }</div>
<div class="line"><span class="lineno"> 9963</span> </div>
<div class="line"><span class="lineno"> 9964</span>    <a class="code hl_class" href="class_r_g_w_pub_sub.html">RGWPubSub</a> ps(<span class="keyword">static_cast&lt;</span><a class="code hl_class" href="classrgw_1_1sal_1_1_rados_store.html">rgw::sal::RadosStore</a>*<span class="keyword">&gt;</span>(<a class="code hl_variable" href="rgw__admin_8cc.html#a6fdb26d64b14d837b60e83a6ca3e2863">store</a>), tenant);</div>
<div class="line"><span class="lineno"> 9965</span> </div>
<div class="line"><span class="lineno"> 9966</span>    <span class="keywordflow">if</span> (!max_entries_specified) {</div>
<div class="line"><span class="lineno"> 9967</span>      max_entries = <a class="code hl_variable" href="class_r_g_w_pub_sub_1_1_sub.html#ad1652f2de1fb26351c641bc46fbc66ec">RGWPubSub::Sub::DEFAULT_MAX_EVENTS</a>;</div>
<div class="line"><span class="lineno"> 9968</span>    }</div>
<div class="line"><span class="lineno"> 9969</span>    <span class="keyword">auto</span> sub = ps.get_sub_with_events(sub_name);</div>
<div class="line"><span class="lineno"> 9970</span>    ret = sub-&gt;list_events(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>(), marker, max_entries);</div>
<div class="line"><span class="lineno"> 9971</span>    <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno"> 9972</span>      cerr &lt;&lt; <span class="stringliteral">&quot;ERROR: could not list events: &quot;</span> &lt;&lt; cpp_strerror(-ret) &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 9973</span>      <span class="keywordflow">return</span> -ret;</div>
<div class="line"><span class="lineno"> 9974</span>    }</div>
<div class="line"><span class="lineno"> 9975</span>    <a class="code hl_function" href="rgw__admin_8cc.html#ab596b9e1a1fc78e98a4d13a66578b658">encode_json</a>(<span class="stringliteral">&quot;result&quot;</span>, *sub, formatter.get());</div>
<div class="line"><span class="lineno"> 9976</span>    formatter-&gt;flush(cout);</div>
<div class="line"><span class="lineno"> 9977</span> }</div>
<div class="line"><span class="lineno"> 9978</span> </div>
<div class="line"><span class="lineno"> 9979</span> <span class="keywordflow">if</span> (opt_cmd == OPT::PUBSUB_EVENT_RM) {</div>
<div class="line"><span class="lineno"> 9980</span>    <span class="keywordflow">if</span> (<a class="code hl_function" href="rgw__admin_8cc.html#a266e1d9277daa7bcaf9f20a9f469f72e">get_tier_type</a>(<span class="keyword">static_cast&lt;</span><a class="code hl_class" href="classrgw_1_1sal_1_1_rados_store.html">rgw::sal::RadosStore</a>*<span class="keyword">&gt;</span>(<a class="code hl_variable" href="rgw__admin_8cc.html#a6fdb26d64b14d837b60e83a6ca3e2863">store</a>)) != <span class="stringliteral">&quot;pubsub&quot;</span>) {</div>
<div class="line"><span class="lineno"> 9981</span>      cerr &lt;&lt; <span class="stringliteral">&quot;ERROR: only pubsub tier type supports this command&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 9982</span>      <span class="keywordflow">return</span> EINVAL;</div>
<div class="line"><span class="lineno"> 9983</span>    }</div>
<div class="line"><span class="lineno"> 9984</span>    <span class="keywordflow">if</span> (sub_name.empty()) {</div>
<div class="line"><span class="lineno"> 9985</span>      cerr &lt;&lt; <span class="stringliteral">&quot;ERROR: subscription name was not provided (via --subscription)&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 9986</span>      <span class="keywordflow">return</span> EINVAL;</div>
<div class="line"><span class="lineno"> 9987</span>    }</div>
<div class="line"><span class="lineno"> 9988</span>    <span class="keywordflow">if</span> (event_id.empty()) {</div>
<div class="line"><span class="lineno"> 9989</span>      cerr &lt;&lt; <span class="stringliteral">&quot;ERROR: event id was not provided (via --event-id)&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 9990</span>      <span class="keywordflow">return</span> EINVAL;</div>
<div class="line"><span class="lineno"> 9991</span>    }</div>
<div class="line"><span class="lineno"> 9992</span> </div>
<div class="line"><span class="lineno"> 9993</span>    <a class="code hl_class" href="class_r_g_w_pub_sub.html">RGWPubSub</a> ps(<span class="keyword">static_cast&lt;</span><a class="code hl_class" href="classrgw_1_1sal_1_1_rados_store.html">rgw::sal::RadosStore</a>*<span class="keyword">&gt;</span>(<a class="code hl_variable" href="rgw__admin_8cc.html#a6fdb26d64b14d837b60e83a6ca3e2863">store</a>), tenant);</div>
<div class="line"><span class="lineno"> 9994</span> </div>
<div class="line"><span class="lineno"> 9995</span>    <span class="keyword">auto</span> sub = ps.get_sub_with_events(sub_name);</div>
<div class="line"><span class="lineno"> 9996</span>    ret = sub-&gt;remove_event(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>(), event_id);</div>
<div class="line"><span class="lineno"> 9997</span>    <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno"> 9998</span>      cerr &lt;&lt; <span class="stringliteral">&quot;ERROR: could not remove event: &quot;</span> &lt;&lt; cpp_strerror(-ret) &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 9999</span>      <span class="keywordflow">return</span> -ret;</div>
<div class="line"><span class="lineno">10000</span>    }</div>
<div class="line"><span class="lineno">10001</span>  }</div>
<div class="line"><span class="lineno">10002</span> </div>
<div class="line"><span class="lineno">10003</span>  <span class="keywordflow">if</span> (opt_cmd == OPT::SCRIPT_PUT) {</div>
<div class="line"><span class="lineno">10004</span>    <span class="keywordflow">if</span> (!str_script_ctx) {</div>
<div class="line"><span class="lineno">10005</span>      cerr &lt;&lt; <span class="stringliteral">&quot;ERROR: context was not provided (via --context)&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno">10006</span>      <span class="keywordflow">return</span> EINVAL;</div>
<div class="line"><span class="lineno">10007</span>    }</div>
<div class="line"><span class="lineno">10008</span>    <span class="keywordflow">if</span> (infile.empty()) {</div>
<div class="line"><span class="lineno">10009</span>      cerr &lt;&lt; <span class="stringliteral">&quot;ERROR: infile was not provided (via --infile)&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno">10010</span>      <span class="keywordflow">return</span> EINVAL;</div>
<div class="line"><span class="lineno">10011</span>    }</div>
<div class="line"><span class="lineno">10012</span>    bufferlist bl;</div>
<div class="line"><span class="lineno">10013</span>    <span class="keyword">auto</span> rc = <a class="code hl_function" href="rgw__admin_8cc.html#a4370c2bc6e6412e65a17072ecebfc3b6">read_input</a>(infile, bl);</div>
<div class="line"><span class="lineno">10014</span>    <span class="keywordflow">if</span> (rc &lt; 0) {</div>
<div class="line"><span class="lineno">10015</span>      cerr &lt;&lt; <span class="stringliteral">&quot;ERROR: failed to read script: &#39;&quot;</span> &lt;&lt; infile &lt;&lt; <span class="stringliteral">&quot;&#39;. error: &quot;</span> &lt;&lt; rc &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno">10016</span>      <span class="keywordflow">return</span> -rc;</div>
<div class="line"><span class="lineno">10017</span>    }</div>
<div class="line"><span class="lineno">10018</span>    <span class="keyword">const</span> std::string script = bl.to_str();</div>
<div class="line"><span class="lineno">10019</span>    std::string err_msg;</div>
<div class="line"><span class="lineno">10020</span>    <span class="keywordflow">if</span> (!<a class="code hl_function" href="namespacergw_1_1lua.html#a9f9dec6b50fb593e3225a8b24388ae54">rgw::lua::verify</a>(script, err_msg)) {</div>
<div class="line"><span class="lineno">10021</span>      cerr &lt;&lt; <span class="stringliteral">&quot;ERROR: script: &#39;&quot;</span> &lt;&lt; infile &lt;&lt; <span class="stringliteral">&quot;&#39; has error: &quot;</span> &lt;&lt; std::endl &lt;&lt; err_msg &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno">10022</span>      <span class="keywordflow">return</span> EINVAL;</div>
<div class="line"><span class="lineno">10023</span>    }</div>
<div class="line"><span class="lineno">10024</span>    <span class="keyword">const</span> <a class="code hl_enumeration" href="namespacergw_1_1lua.html#a5652b6711c456135043c799876aec7c1">rgw::lua::context</a> script_ctx = <a class="code hl_function" href="namespacergw_1_1lua.html#aac0f221b24f6163492b0ee34789c8ace">rgw::lua::to_context</a>(*str_script_ctx);</div>
<div class="line"><span class="lineno">10025</span>    <span class="keywordflow">if</span> (script_ctx == <a class="code hl_enumvalue" href="namespacergw_1_1lua.html#a5652b6711c456135043c799876aec7c1a334c4a4c42fdb79d7ebc3e73b517e6f8">rgw::lua::context::none</a>) {</div>
<div class="line"><span class="lineno">10026</span>      cerr &lt;&lt; <span class="stringliteral">&quot;ERROR: invalid script context: &quot;</span> &lt;&lt; *str_script_ctx &lt;&lt; <span class="stringliteral">&quot;. must be one of: preRequest, postRequest&quot;</span> &lt;&lt;  std::endl;</div>
<div class="line"><span class="lineno">10027</span>      <span class="keywordflow">return</span> EINVAL;</div>
<div class="line"><span class="lineno">10028</span>    }</div>
<div class="line"><span class="lineno">10029</span>    rc = <a class="code hl_function" href="namespacergw_1_1lua.html#acf78d6958d104eaabc8f4a17e4e9ed5d">rgw::lua::write_script</a>(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>(), <a class="code hl_variable" href="rgw__admin_8cc.html#a6fdb26d64b14d837b60e83a6ca3e2863">store</a>, tenant, null_yield, script_ctx, script);</div>
<div class="line"><span class="lineno">10030</span>    <span class="keywordflow">if</span> (rc &lt; 0) {</div>
<div class="line"><span class="lineno">10031</span>      cerr &lt;&lt; <span class="stringliteral">&quot;ERROR: failed to put script. error: &quot;</span> &lt;&lt; rc &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno">10032</span>      <span class="keywordflow">return</span> -rc;</div>
<div class="line"><span class="lineno">10033</span>    }</div>
<div class="line"><span class="lineno">10034</span>  }</div>
<div class="line"><span class="lineno">10035</span> </div>
<div class="line"><span class="lineno">10036</span>  <span class="keywordflow">if</span> (opt_cmd == OPT::SCRIPT_GET) {</div>
<div class="line"><span class="lineno">10037</span>    <span class="keywordflow">if</span> (!str_script_ctx) {</div>
<div class="line"><span class="lineno">10038</span>      cerr &lt;&lt; <span class="stringliteral">&quot;ERROR: context was not provided (via --context)&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno">10039</span>      <span class="keywordflow">return</span> EINVAL;</div>
<div class="line"><span class="lineno">10040</span>    }</div>
<div class="line"><span class="lineno">10041</span>    <span class="keyword">const</span> <a class="code hl_enumeration" href="namespacergw_1_1lua.html#a5652b6711c456135043c799876aec7c1">rgw::lua::context</a> script_ctx = <a class="code hl_function" href="namespacergw_1_1lua.html#aac0f221b24f6163492b0ee34789c8ace">rgw::lua::to_context</a>(*str_script_ctx);</div>
<div class="line"><span class="lineno">10042</span>    <span class="keywordflow">if</span> (script_ctx == <a class="code hl_enumvalue" href="namespacergw_1_1lua.html#a5652b6711c456135043c799876aec7c1a334c4a4c42fdb79d7ebc3e73b517e6f8">rgw::lua::context::none</a>) {</div>
<div class="line"><span class="lineno">10043</span>      cerr &lt;&lt; <span class="stringliteral">&quot;ERROR: invalid script context: &quot;</span> &lt;&lt; *str_script_ctx &lt;&lt; <span class="stringliteral">&quot;. must be one of: preRequest, postRequest&quot;</span> &lt;&lt;  std::endl;</div>
<div class="line"><span class="lineno">10044</span>      <span class="keywordflow">return</span> EINVAL;</div>
<div class="line"><span class="lineno">10045</span>    }</div>
<div class="line"><span class="lineno">10046</span>    std::string script;</div>
<div class="line"><span class="lineno">10047</span>    <span class="keyword">const</span> <span class="keyword">auto</span> rc = <a class="code hl_function" href="namespacergw_1_1lua.html#a6e1bade36aa24076c40c7975bb66ca54">rgw::lua::read_script</a>(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>(), <a class="code hl_variable" href="rgw__admin_8cc.html#a6fdb26d64b14d837b60e83a6ca3e2863">store</a>, tenant, null_yield, script_ctx, script);</div>
<div class="line"><span class="lineno">10048</span>    <span class="keywordflow">if</span> (rc == -ENOENT) {</div>
<div class="line"><span class="lineno">10049</span>      std::cout &lt;&lt; <span class="stringliteral">&quot;no script exists for context: &quot;</span> &lt;&lt; *str_script_ctx &lt;&lt; </div>
<div class="line"><span class="lineno">10050</span>        (tenant.empty() ? <span class="stringliteral">&quot;&quot;</span> : (<span class="stringliteral">&quot; in tenant: &quot;</span> + tenant)) &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno">10051</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (rc &lt; 0) {</div>
<div class="line"><span class="lineno">10052</span>      cerr &lt;&lt; <span class="stringliteral">&quot;ERROR: failed to read script. error: &quot;</span> &lt;&lt; rc &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno">10053</span>      <span class="keywordflow">return</span> -rc;</div>
<div class="line"><span class="lineno">10054</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">10055</span>      std::cout &lt;&lt; script &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno">10056</span>    }</div>
<div class="line"><span class="lineno">10057</span>  }</div>
<div class="line"><span class="lineno">10058</span>  </div>
<div class="line"><span class="lineno">10059</span>  <span class="keywordflow">if</span> (opt_cmd == OPT::SCRIPT_RM) {</div>
<div class="line"><span class="lineno">10060</span>    <span class="keywordflow">if</span> (!str_script_ctx) {</div>
<div class="line"><span class="lineno">10061</span>      cerr &lt;&lt; <span class="stringliteral">&quot;ERROR: context was not provided (via --context)&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno">10062</span>      <span class="keywordflow">return</span> EINVAL;</div>
<div class="line"><span class="lineno">10063</span>    }</div>
<div class="line"><span class="lineno">10064</span>    <span class="keyword">const</span> <a class="code hl_enumeration" href="namespacergw_1_1lua.html#a5652b6711c456135043c799876aec7c1">rgw::lua::context</a> script_ctx = <a class="code hl_function" href="namespacergw_1_1lua.html#aac0f221b24f6163492b0ee34789c8ace">rgw::lua::to_context</a>(*str_script_ctx);</div>
<div class="line"><span class="lineno">10065</span>    <span class="keywordflow">if</span> (script_ctx == <a class="code hl_enumvalue" href="namespacergw_1_1lua.html#a5652b6711c456135043c799876aec7c1a334c4a4c42fdb79d7ebc3e73b517e6f8">rgw::lua::context::none</a>) {</div>
<div class="line"><span class="lineno">10066</span>      cerr &lt;&lt; <span class="stringliteral">&quot;ERROR: invalid script context: &quot;</span> &lt;&lt; *str_script_ctx &lt;&lt; <span class="stringliteral">&quot;. must be one of: preRequest, postRequest&quot;</span> &lt;&lt;  std::endl;</div>
<div class="line"><span class="lineno">10067</span>      <span class="keywordflow">return</span> EINVAL;</div>
<div class="line"><span class="lineno">10068</span>    }</div>
<div class="line"><span class="lineno">10069</span>    <span class="keyword">const</span> <span class="keyword">auto</span> rc = <a class="code hl_function" href="namespacergw_1_1lua.html#add687a7a2add8e0a499c7ab49f1c781f">rgw::lua::delete_script</a>(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>(), <a class="code hl_variable" href="rgw__admin_8cc.html#a6fdb26d64b14d837b60e83a6ca3e2863">store</a>, tenant, null_yield, script_ctx);</div>
<div class="line"><span class="lineno">10070</span>    <span class="keywordflow">if</span> (rc &lt; 0) {</div>
<div class="line"><span class="lineno">10071</span>      cerr &lt;&lt; <span class="stringliteral">&quot;ERROR: failed to remove script. error: &quot;</span> &lt;&lt; rc &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno">10072</span>      <span class="keywordflow">return</span> -rc;</div>
<div class="line"><span class="lineno">10073</span>    }</div>
<div class="line"><span class="lineno">10074</span>  }</div>
<div class="line"><span class="lineno">10075</span> </div>
<div class="line"><span class="lineno">10076</span>  <span class="keywordflow">if</span> (opt_cmd == OPT::SCRIPT_PACKAGE_ADD) {</div>
<div class="line"><span class="lineno">10077</span><span class="preprocessor">#ifdef WITH_RADOSGW_LUA_PACKAGES</span></div>
<div class="line"><span class="lineno">10078</span>    <span class="keywordflow">if</span> (!script_package) {</div>
<div class="line"><span class="lineno">10079</span>      cerr &lt;&lt; <span class="stringliteral">&quot;ERROR: lua package name was not provided (via --package)&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno">10080</span>      <span class="keywordflow">return</span> EINVAL;</div>
<div class="line"><span class="lineno">10081</span>    }</div>
<div class="line"><span class="lineno">10082</span>    <span class="keyword">const</span> <span class="keyword">auto</span> rc = rgw::lua::add_package(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>(), <span class="keyword">static_cast&lt;</span><a class="code hl_class" href="classrgw_1_1sal_1_1_rados_store.html">rgw::sal::RadosStore</a>*<span class="keyword">&gt;</span>(<a class="code hl_variable" href="rgw__admin_8cc.html#a6fdb26d64b14d837b60e83a6ca3e2863">store</a>), null_yield, *script_package, <span class="keywordtype">bool</span>(allow_compilation));</div>
<div class="line"><span class="lineno">10083</span>    <span class="keywordflow">if</span> (rc &lt; 0) {</div>
<div class="line"><span class="lineno">10084</span>      cerr &lt;&lt; <span class="stringliteral">&quot;ERROR: failed to add lua package: &quot;</span> &lt;&lt; script_package &lt;&lt; <span class="stringliteral">&quot; .error: &quot;</span> &lt;&lt; rc &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno">10085</span>      <span class="keywordflow">return</span> -rc;</div>
<div class="line"><span class="lineno">10086</span>    }</div>
<div class="line"><span class="lineno">10087</span><span class="preprocessor">#else</span></div>
<div class="line"><span class="lineno">10088</span>    cerr &lt;&lt; <span class="stringliteral">&quot;ERROR: adding lua packages is not permitted&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno">10089</span>    <span class="keywordflow">return</span> EPERM;</div>
<div class="line"><span class="lineno">10090</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno">10091</span>  }</div>
<div class="line"><span class="lineno">10092</span> </div>
<div class="line"><span class="lineno">10093</span>  <span class="keywordflow">if</span> (opt_cmd == OPT::SCRIPT_PACKAGE_RM) {</div>
<div class="line"><span class="lineno">10094</span><span class="preprocessor">#ifdef WITH_RADOSGW_LUA_PACKAGES</span></div>
<div class="line"><span class="lineno">10095</span>    <span class="keywordflow">if</span> (!script_package) {</div>
<div class="line"><span class="lineno">10096</span>      cerr &lt;&lt; <span class="stringliteral">&quot;ERROR: lua package name was not provided (via --package)&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno">10097</span>      <span class="keywordflow">return</span> EINVAL;</div>
<div class="line"><span class="lineno">10098</span>    }</div>
<div class="line"><span class="lineno">10099</span>    <span class="keyword">const</span> <span class="keyword">auto</span> rc = rgw::lua::remove_package(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>(), <span class="keyword">static_cast&lt;</span><a class="code hl_class" href="classrgw_1_1sal_1_1_rados_store.html">rgw::sal::RadosStore</a>*<span class="keyword">&gt;</span>(<a class="code hl_variable" href="rgw__admin_8cc.html#a6fdb26d64b14d837b60e83a6ca3e2863">store</a>), null_yield, *script_package);</div>
<div class="line"><span class="lineno">10100</span>    <span class="keywordflow">if</span> (rc == -ENOENT) {</div>
<div class="line"><span class="lineno">10101</span>      cerr &lt;&lt; <span class="stringliteral">&quot;WARNING: package &quot;</span> &lt;&lt; script_package &lt;&lt; <span class="stringliteral">&quot; did not exists or already removed&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno">10102</span>      <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">10103</span>    }</div>
<div class="line"><span class="lineno">10104</span>    <span class="keywordflow">if</span> (rc &lt; 0) {</div>
<div class="line"><span class="lineno">10105</span>      cerr &lt;&lt; <span class="stringliteral">&quot;ERROR: failed to remove lua package: &quot;</span> &lt;&lt; script_package &lt;&lt; <span class="stringliteral">&quot; .error: &quot;</span> &lt;&lt; rc &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno">10106</span>      <span class="keywordflow">return</span> -rc;</div>
<div class="line"><span class="lineno">10107</span>    }</div>
<div class="line"><span class="lineno">10108</span><span class="preprocessor">#else</span></div>
<div class="line"><span class="lineno">10109</span>    cerr &lt;&lt; <span class="stringliteral">&quot;ERROR: removing lua packages in not permitted&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno">10110</span>    <span class="keywordflow">return</span> EPERM;</div>
<div class="line"><span class="lineno">10111</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno">10112</span>  }</div>
<div class="line"><span class="lineno">10113</span> </div>
<div class="line"><span class="lineno">10114</span>  <span class="keywordflow">if</span> (opt_cmd == OPT::SCRIPT_PACKAGE_LIST) {</div>
<div class="line"><span class="lineno">10115</span><span class="preprocessor">#ifdef WITH_RADOSGW_LUA_PACKAGES</span></div>
<div class="line"><span class="lineno">10116</span>    rgw::lua::packages_t packages;</div>
<div class="line"><span class="lineno">10117</span>    <span class="keyword">const</span> <span class="keyword">auto</span> rc = rgw::lua::list_packages(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>(), <span class="keyword">static_cast&lt;</span><a class="code hl_class" href="classrgw_1_1sal_1_1_rados_store.html">rgw::sal::RadosStore</a>*<span class="keyword">&gt;</span>(<a class="code hl_variable" href="rgw__admin_8cc.html#a6fdb26d64b14d837b60e83a6ca3e2863">store</a>), null_yield, packages);</div>
<div class="line"><span class="lineno">10118</span>    <span class="keywordflow">if</span> (rc == -ENOENT) {</div>
<div class="line"><span class="lineno">10119</span>      std::cout &lt;&lt; <span class="stringliteral">&quot;no lua packages in allowlist&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno">10120</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (rc &lt; 0) {</div>
<div class="line"><span class="lineno">10121</span>      cerr &lt;&lt; <span class="stringliteral">&quot;ERROR: failed to read lua packages allowlist. error: &quot;</span> &lt;&lt; rc &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno">10122</span>      <span class="keywordflow">return</span> rc;</div>
<div class="line"><span class="lineno">10123</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">10124</span>      <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span>&amp; package : packages) {</div>
<div class="line"><span class="lineno">10125</span>          std::cout &lt;&lt; <span class="keyword">package </span>&lt;&lt; std::endl;</div>
<div class="line"><span class="lineno">10126</span>      }</div>
<div class="line"><span class="lineno">10127</span>    }</div>
<div class="line"><span class="lineno">10128</span><span class="preprocessor">#else</span></div>
<div class="line"><span class="lineno">10129</span>    cerr &lt;&lt; <span class="stringliteral">&quot;ERROR: listing lua packages in not permitted&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno">10130</span>    <span class="keywordflow">return</span> EPERM;</div>
<div class="line"><span class="lineno">10131</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno">10132</span>  }</div>
<div class="line"><span class="lineno">10133</span> </div>
<div class="line"><span class="lineno">10134</span>  <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">10135</span>}</div>
<div class="ttc" id="aclass_r_g_w_access_key_pool_html_a70773c71fd9f1c3eefb1141b67ca40e7"><div class="ttname"><a href="class_r_g_w_access_key_pool.html#a70773c71fd9f1c3eefb1141b67ca40e7">RGWAccessKeyPool::remove</a></div><div class="ttdeci">int remove(const DoutPrefixProvider *dpp, RGWUserAdminOpState &amp;op_state, std::string *err_msg, bool defer_save, optional_yield y)</div><div class="ttdef"><b>Definition</b> <a href="rgw__user_8cc_source.html#l00895">rgw_user.cc:895</a></div></div>
<div class="ttc" id="aclass_r_g_w_access_key_pool_html_aaf2c2052b7273c8ae055f55835440e20"><div class="ttname"><a href="class_r_g_w_access_key_pool.html#aaf2c2052b7273c8ae055f55835440e20">RGWAccessKeyPool::add</a></div><div class="ttdeci">int add(const DoutPrefixProvider *dpp, RGWUserAdminOpState &amp;op_state, std::string *err_msg, bool defer_save, optional_yield y)</div><div class="ttdef"><b>Definition</b> <a href="rgw__user_8cc_source.html#l00822">rgw_user.cc:822</a></div></div>
<div class="ttc" id="aclass_r_g_w_bucket_admin_op_html_a0e3804b9e2f41e5844eeddff41c8dd8d"><div class="ttname"><a href="class_r_g_w_bucket_admin_op.html#a0e3804b9e2f41e5844eeddff41c8dd8d">RGWBucketAdminOp::info</a></div><div class="ttdeci">static int info(rgw::sal::Store *store, RGWBucketAdminOpState &amp;op_state, RGWFormatterFlusher &amp;flusher, optional_yield y, const DoutPrefixProvider *dpp)</div><div class="ttdef"><b>Definition</b> <a href="rgw__bucket_8cc_source.html#l01242">rgw_bucket.cc:1242</a></div></div>
<div class="ttc" id="aclass_r_g_w_bucket_admin_op_html_a13369ed6e9e3a4a63bbeb66a5f1640a4"><div class="ttname"><a href="class_r_g_w_bucket_admin_op.html#a13369ed6e9e3a4a63bbeb66a5f1640a4">RGWBucketAdminOp::fix_lc_shards</a></div><div class="ttdeci">static int fix_lc_shards(rgw::sal::Store *store, RGWBucketAdminOpState &amp;op_state, RGWFormatterFlusher &amp;flusher, const DoutPrefixProvider *dpp)</div><div class="ttdef"><b>Definition</b> <a href="rgw__bucket_8cc_source.html#l01593">rgw_bucket.cc:1593</a></div></div>
<div class="ttc" id="aclass_r_g_w_bucket_admin_op_html_a1b15dac6563cd148257d6e0ded726bc1"><div class="ttname"><a href="class_r_g_w_bucket_admin_op.html#a1b15dac6563cd148257d6e0ded726bc1">RGWBucketAdminOp::limit_check</a></div><div class="ttdeci">static int limit_check(rgw::sal::Store *store, RGWBucketAdminOpState &amp;op_state, const std::list&lt; std::string &gt; &amp;user_ids, RGWFormatterFlusher &amp;flusher, optional_yield y, const DoutPrefixProvider *dpp, bool warnings_only=false)</div><div class="ttdef"><b>Definition</b> <a href="rgw__bucket_8cc_source.html#l01130">rgw_bucket.cc:1130</a></div></div>
<div class="ttc" id="aclass_r_g_w_bucket_admin_op_html_a3c474b43685149458d23a66f1d770e9f"><div class="ttname"><a href="class_r_g_w_bucket_admin_op.html#a3c474b43685149458d23a66f1d770e9f">RGWBucketAdminOp::fix_obj_expiry</a></div><div class="ttdeci">static int fix_obj_expiry(rgw::sal::Store *store, RGWBucketAdminOpState &amp;op_state, RGWFormatterFlusher &amp;flusher, const DoutPrefixProvider *dpp, bool dry_run=false)</div><div class="ttdef"><b>Definition</b> <a href="rgw__bucket_8cc_source.html#l01720">rgw_bucket.cc:1720</a></div></div>
<div class="ttc" id="aclass_r_g_w_bucket_admin_op_html_a508e0a7310f48a1eaf665f5c3cfbf96d"><div class="ttname"><a href="class_r_g_w_bucket_admin_op.html#a508e0a7310f48a1eaf665f5c3cfbf96d">RGWBucketAdminOp::unlink</a></div><div class="ttdeci">static int unlink(rgw::sal::Store *store, RGWBucketAdminOpState &amp;op_state, const DoutPrefixProvider *dpp)</div><div class="ttdef"><b>Definition</b> <a href="rgw__bucket_8cc_source.html#l00829">rgw_bucket.cc:829</a></div></div>
<div class="ttc" id="aclass_r_g_w_bucket_admin_op_html_a5fbffbe9877054927e51439871de70da"><div class="ttname"><a href="class_r_g_w_bucket_admin_op.html#a5fbffbe9877054927e51439871de70da">RGWBucketAdminOp::remove_bucket</a></div><div class="ttdeci">static int remove_bucket(rgw::sal::Store *store, RGWBucketAdminOpState &amp;op_state, optional_yield y, const DoutPrefixProvider *dpp, bool bypass_gc=false, bool keep_index_consistent=true)</div><div class="ttdef"><b>Definition</b> <a href="rgw__bucket_8cc_source.html#l01021">rgw_bucket.cc:1021</a></div></div>
<div class="ttc" id="aclass_r_g_w_bucket_admin_op_html_a863e4531cb52101674e62a23082b74d4"><div class="ttname"><a href="class_r_g_w_bucket_admin_op.html#a863e4531cb52101674e62a23082b74d4">RGWBucketAdminOp::list_stale_instances</a></div><div class="ttdeci">static int list_stale_instances(rgw::sal::Store *store, RGWBucketAdminOpState &amp;op_state, RGWFormatterFlusher &amp;flusher, const DoutPrefixProvider *dpp)</div><div class="ttdef"><b>Definition</b> <a href="rgw__bucket_8cc_source.html#l01516">rgw_bucket.cc:1516</a></div></div>
<div class="ttc" id="aclass_r_g_w_bucket_admin_op_html_a8d4da016b5837aa9c0b07dc8fe138800"><div class="ttname"><a href="class_r_g_w_bucket_admin_op.html#a8d4da016b5837aa9c0b07dc8fe138800">RGWBucketAdminOp::dump_s3_policy</a></div><div class="ttdeci">static int dump_s3_policy(rgw::sal::Store *store, RGWBucketAdminOpState &amp;op_state, std::ostream &amp;os, const DoutPrefixProvider *dpp)</div><div class="ttdef"><b>Definition</b> <a href="rgw__bucket_8cc_source.html#l00815">rgw_bucket.cc:815</a></div></div>
<div class="ttc" id="aclass_r_g_w_bucket_admin_op_html_aa62fba026a6f2f3b8ee4f9501a70d836"><div class="ttname"><a href="class_r_g_w_bucket_admin_op.html#aa62fba026a6f2f3b8ee4f9501a70d836">RGWBucketAdminOp::sync_bucket</a></div><div class="ttdeci">static int sync_bucket(rgw::sal::Store *store, RGWBucketAdminOpState &amp;op_state, const DoutPrefixProvider *dpp, std::string *err_msg=NULL)</div><div class="ttdef"><b>Definition</b> <a href="rgw__bucket_8cc_source.html#l01053">rgw_bucket.cc:1053</a></div></div>
<div class="ttc" id="aclass_r_g_w_bucket_admin_op_html_aa9f67ed78c841dd9665750f67c0b75c6"><div class="ttname"><a href="class_r_g_w_bucket_admin_op.html#aa9f67ed78c841dd9665750f67c0b75c6">RGWBucketAdminOp::chown</a></div><div class="ttdeci">static int chown(rgw::sal::Store *store, RGWBucketAdminOpState &amp;op_state, const std::string &amp;marker, const DoutPrefixProvider *dpp, std::string *err_msg=NULL)</div><div class="ttdef"><b>Definition</b> <a href="rgw__bucket_8cc_source.html#l00974">rgw_bucket.cc:974</a></div></div>
<div class="ttc" id="aclass_r_g_w_bucket_admin_op_html_aaf2df81db6efef1fe530dce2acb467de"><div class="ttname"><a href="class_r_g_w_bucket_admin_op.html#aaf2df81db6efef1fe530dce2acb467de">RGWBucketAdminOp::check_index</a></div><div class="ttdeci">static int check_index(rgw::sal::Store *store, RGWBucketAdminOpState &amp;op_state, RGWFormatterFlusher &amp;flusher, optional_yield y, const DoutPrefixProvider *dpp)</div><div class="ttdef"><b>Definition</b> <a href="rgw__bucket_8cc_source.html#l00986">rgw_bucket.cc:986</a></div></div>
<div class="ttc" id="aclass_r_g_w_bucket_admin_op_html_aaf4ac1f242750c652514f5d7a537cfae"><div class="ttname"><a href="class_r_g_w_bucket_admin_op.html#aaf4ac1f242750c652514f5d7a537cfae">RGWBucketAdminOp::clear_stale_instances</a></div><div class="ttdeci">static int clear_stale_instances(rgw::sal::Store *store, RGWBucketAdminOpState &amp;op_state, RGWFormatterFlusher &amp;flusher, const DoutPrefixProvider *dpp)</div><div class="ttdef"><b>Definition</b> <a href="rgw__bucket_8cc_source.html#l01531">rgw_bucket.cc:1531</a></div></div>
<div class="ttc" id="aclass_r_g_w_bucket_admin_op_html_ac036e624f7e32b53fb51cd477a373d99"><div class="ttname"><a href="class_r_g_w_bucket_admin_op.html#ac036e624f7e32b53fb51cd477a373d99">RGWBucketAdminOp::link</a></div><div class="ttdeci">static int link(rgw::sal::Store *store, RGWBucketAdminOpState &amp;op_state, const DoutPrefixProvider *dpp, std::string *err_msg=NULL)</div><div class="ttdef"><b>Definition</b> <a href="rgw__bucket_8cc_source.html#l00840">rgw_bucket.cc:840</a></div></div>
<div class="ttc" id="aclass_r_g_w_bucket_admin_op_html_acb44975cc3102b4163e03195256ce642"><div class="ttname"><a href="class_r_g_w_bucket_admin_op.html#acb44975cc3102b4163e03195256ce642">RGWBucketAdminOp::get_policy</a></div><div class="ttdeci">static int get_policy(rgw::sal::Store *store, RGWBucketAdminOpState &amp;op_state, RGWFormatterFlusher &amp;flusher, const DoutPrefixProvider *dpp)</div><div class="ttdef"><b>Definition</b> <a href="rgw__bucket_8cc_source.html#l00793">rgw_bucket.cc:793</a></div></div>
<div class="ttc" id="aclass_r_g_w_bucket_pipe_sync_status_manager_html"><div class="ttname"><a href="class_r_g_w_bucket_pipe_sync_status_manager.html">RGWBucketPipeSyncStatusManager</a></div><div class="ttdef"><b>Definition</b> <a href="rgw__data__sync_8h_source.html#l00623">rgw_data_sync.h:623</a></div></div>
<div class="ttc" id="aclass_r_g_w_bucket_reshard_html"><div class="ttname"><a href="class_r_g_w_bucket_reshard.html">RGWBucketReshard</a></div><div class="ttdef"><b>Definition</b> <a href="rgw__reshard_8h_source.html#l00067">rgw_reshard.h:67</a></div></div>
<div class="ttc" id="aclass_r_g_w_coroutines_manager_html"><div class="ttname"><a href="class_r_g_w_coroutines_manager.html">RGWCoroutinesManager</a></div><div class="ttdef"><b>Definition</b> <a href="rgw__coroutine_8h_source.html#l00623">rgw_coroutine.h:623</a></div></div>
<div class="ttc" id="aclass_r_g_w_data_access_html"><div class="ttname"><a href="class_r_g_w_data_access.html">RGWDataAccess</a></div><div class="ttdef"><b>Definition</b> <a href="rgw__tools_8h_source.html#l00155">rgw_tools.h:156</a></div></div>
<div class="ttc" id="aclass_r_g_w_data_access_html_a111204bb0879434a2ae00e2eca9ec026"><div class="ttname"><a href="class_r_g_w_data_access.html#a111204bb0879434a2ae00e2eca9ec026">RGWDataAccess::BucketRef</a></div><div class="ttdeci">std::shared_ptr&lt; Bucket &gt; BucketRef</div><div class="ttdef"><b>Definition</b> <a href="rgw__tools_8h_source.html#l00165">rgw_tools.h:165</a></div></div>
<div class="ttc" id="aclass_r_g_w_data_access_html_a6f874ede980b3f18e64db1a7abb7b4ef"><div class="ttname"><a href="class_r_g_w_data_access.html#a6f874ede980b3f18e64db1a7abb7b4ef">RGWDataAccess::ObjectRef</a></div><div class="ttdeci">std::shared_ptr&lt; Object &gt; ObjectRef</div><div class="ttdef"><b>Definition</b> <a href="rgw__tools_8h_source.html#l00166">rgw_tools.h:166</a></div></div>
<div class="ttc" id="aclass_r_g_w_h_t_t_p_manager_html"><div class="ttname"><a href="class_r_g_w_h_t_t_p_manager.html">RGWHTTPManager</a></div><div class="ttdef"><b>Definition</b> <a href="rgw__http__client_8h_source.html#l00282">rgw_http_client.h:282</a></div></div>
<div class="ttc" id="aclass_r_g_w_lifecycle_configuration_html"><div class="ttname"><a href="class_r_g_w_lifecycle_configuration.html">RGWLifecycleConfiguration</a></div><div class="ttdef"><b>Definition</b> <a href="rgw__lc_8h_source.html#l00405">rgw_lc.h:406</a></div></div>
<div class="ttc" id="aclass_r_g_w_metadata_log_html"><div class="ttname"><a href="class_r_g_w_metadata_log.html">RGWMetadataLog</a></div><div class="ttdef"><b>Definition</b> <a href="rgw__mdlog_8h_source.html#l00067">rgw_mdlog.h:67</a></div></div>
<div class="ttc" id="aclass_r_g_w_metadata_log_html_a295f936c3648c2e53d48616ab3341443"><div class="ttname"><a href="class_r_g_w_metadata_log.html#a295f936c3648c2e53d48616ab3341443">RGWMetadataLog::init_list_entries</a></div><div class="ttdeci">void init_list_entries(int shard_id, const real_time &amp;from_time, const real_time &amp;end_time, const std::string &amp;marker, void **handle)</div><div class="ttdef"><b>Definition</b> <a href="rgw__metadata_8cc_source.html#l00155">rgw_metadata.cc:155</a></div></div>
<div class="ttc" id="aclass_r_g_w_metadata_log_html_a4afea886b639d8f3a85dfd09fea0eef8"><div class="ttname"><a href="class_r_g_w_metadata_log.html#a4afea886b639d8f3a85dfd09fea0eef8">RGWMetadataLog::complete_list_entries</a></div><div class="ttdeci">void complete_list_entries(void *handle)</div><div class="ttdef"><b>Definition</b> <a href="rgw__metadata_8cc_source.html#l00170">rgw_metadata.cc:170</a></div></div>
<div class="ttc" id="aclass_r_g_w_metadata_log_html_a4c9e367702ecc52dfb118a950fabf895"><div class="ttname"><a href="class_r_g_w_metadata_log.html#a4c9e367702ecc52dfb118a950fabf895">RGWMetadataLog::trim</a></div><div class="ttdeci">int trim(const DoutPrefixProvider *dpp, int shard_id, const real_time &amp;from_time, const real_time &amp;end_time, const std::string &amp;start_marker, const std::string &amp;end_marker)</div><div class="ttdef"><b>Definition</b> <a href="rgw__metadata_8cc_source.html#l00253">rgw_metadata.cc:253</a></div></div>
<div class="ttc" id="aclass_r_g_w_metadata_log_html_a7ea29289595d45bcc77508ce0b218b63"><div class="ttname"><a href="class_r_g_w_metadata_log.html#a7ea29289595d45bcc77508ce0b218b63">RGWMetadataLog::get_info</a></div><div class="ttdeci">int get_info(const DoutPrefixProvider *dpp, int shard_id, RGWMetadataLogInfo *info)</div><div class="ttdef"><b>Definition</b> <a href="rgw__metadata_8cc_source.html#l00205">rgw_metadata.cc:205</a></div></div>
<div class="ttc" id="aclass_r_g_w_metadata_log_html_ac999a11424ae78de8fc9d2a67271a816"><div class="ttname"><a href="class_r_g_w_metadata_log.html#ac999a11424ae78de8fc9d2a67271a816">RGWMetadataLog::list_entries</a></div><div class="ttdeci">int list_entries(const DoutPrefixProvider *dpp, void *handle, int max_entries, std::list&lt; cls_log_entry &gt; &amp;entries, std::string *out_marker, bool *truncated)</div><div class="ttdef"><b>Definition</b> <a href="rgw__metadata_8cc_source.html#l00175">rgw_metadata.cc:175</a></div></div>
<div class="ttc" id="aclass_r_g_w_orphan_search_html"><div class="ttname"><a href="class_r_g_w_orphan_search.html">RGWOrphanSearch</a></div><div class="ttdef"><b>Definition</b> <a href="rgw__orphan_8h_source.html#l00149">rgw_orphan.h:149</a></div></div>
<div class="ttc" id="aclass_r_g_w_orphan_store_html"><div class="ttname"><a href="class_r_g_w_orphan_store.html">RGWOrphanStore</a></div><div class="ttdef"><b>Definition</b> <a href="rgw__orphan_8h_source.html#l00125">rgw_orphan.h:125</a></div></div>
<div class="ttc" id="aclass_r_g_w_period_html_abc1527dee0d6211fc4caeabf0af3a46a"><div class="ttname"><a href="class_r_g_w_period.html#abc1527dee0d6211fc4caeabf0af3a46a">RGWPeriod::get_staging_id</a></div><div class="ttdeci">static std::string get_staging_id(const std::string &amp;realm_id)</div><div class="ttdef"><b>Definition</b> <a href="rgw__zone_8h_source.html#l01404">rgw_zone.h:1404</a></div></div>
<div class="ttc" id="aclass_r_g_w_pub_sub_1_1_sub_html_ad1652f2de1fb26351c641bc46fbc66ec"><div class="ttname"><a href="class_r_g_w_pub_sub_1_1_sub.html#ad1652f2de1fb26351c641bc46fbc66ec">RGWPubSub::Sub::DEFAULT_MAX_EVENTS</a></div><div class="ttdeci">static const int DEFAULT_MAX_EVENTS</div><div class="ttdef"><b>Definition</b> <a href="rgw__pubsub_8h_source.html#l00702">rgw_pubsub.h:702</a></div></div>
<div class="ttc" id="aclass_r_g_w_pub_sub_html"><div class="ttname"><a href="class_r_g_w_pub_sub.html">RGWPubSub</a></div><div class="ttdef"><b>Definition</b> <a href="rgw__pubsub_8h_source.html#l00598">rgw_pubsub.h:599</a></div></div>
<div class="ttc" id="aclass_r_g_w_rados_html_a8c3e80e125cc52fe61ec8757efc41fe5"><div class="ttname"><a href="class_r_g_w_rados.html#a8c3e80e125cc52fe61ec8757efc41fe5">RGWRados::ent_map_t</a></div><div class="ttdeci">boost::container::flat_map&lt; std::string, rgw_bucket_dir_entry &gt; ent_map_t</div><div class="ttdef"><b>Definition</b> <a href="rgw__rados_8h_source.html#l01381">rgw_rados.h:1382</a></div></div>
<div class="ttc" id="aclass_r_g_w_rados_list_html"><div class="ttname"><a href="class_r_g_w_rados_list.html">RGWRadosList</a></div><div class="ttdef"><b>Definition</b> <a href="rgw__orphan_8h_source.html#l00211">rgw_orphan.h:211</a></div></div>
<div class="ttc" id="aclass_r_g_w_realm_html_a94df61b7090e87e6c429ba8817667e91"><div class="ttname"><a href="class_r_g_w_realm.html#a94df61b7090e87e6c429ba8817667e91">RGWRealm::create</a></div><div class="ttdeci">int create(const DoutPrefixProvider *dpp, optional_yield y, bool exclusive=true) override</div><div class="ttdef"><b>Definition</b> <a href="rgw__zone_8cc_source.html#l00750">rgw_zone.cc:750</a></div></div>
<div class="ttc" id="aclass_r_g_w_realm_html_a9ca0c2bccfc8424322b838456c610c63"><div class="ttname"><a href="class_r_g_w_realm.html#a9ca0c2bccfc8424322b838456c610c63">RGWRealm::get_current_period</a></div><div class="ttdeci">const std::string &amp; get_current_period() const</div><div class="ttdef"><b>Definition</b> <a href="rgw__zone_8h_source.html#l01164">rgw_zone.h:1164</a></div></div>
<div class="ttc" id="aclass_r_g_w_realm_html_ab3b9b6a166d26f18f7aab617d35d57cd"><div class="ttname"><a href="class_r_g_w_realm.html#ab3b9b6a166d26f18f7aab617d35d57cd">RGWRealm::read_id</a></div><div class="ttdeci">int read_id(const DoutPrefixProvider *dpp, const std::string &amp;obj_name, std::string &amp;obj_id, optional_yield y)</div><div class="ttdef"><b>Definition</b> <a href="rgw__zone_8cc_source.html#l00092">rgw_zone.cc:499</a></div></div>
<div class="ttc" id="aclass_r_g_w_reshard_html"><div class="ttname"><a href="class_r_g_w_reshard.html">RGWReshard</a></div><div class="ttdef"><b>Definition</b> <a href="rgw__reshard_8h_source.html#l00194">rgw_reshard.h:194</a></div></div>
<div class="ttc" id="aclass_r_g_w_s_i___meta_backend___o_t_p_html_a60b85dd92019752b77213e8e2d80241d"><div class="ttname"><a href="class_r_g_w_s_i___meta_backend___o_t_p.html#a60b85dd92019752b77213e8e2d80241d">RGWSI_MetaBackend_OTP::get_meta_key</a></div><div class="ttdeci">static std::string get_meta_key(const rgw_user &amp;user)</div><div class="ttdef"><b>Definition</b> <a href="svc__meta__be__otp_8cc_source.html#l00020">svc_meta_be_otp.cc:20</a></div></div>
<div class="ttc" id="aclass_r_g_w_stream_flusher_html"><div class="ttname"><a href="class_r_g_w_stream_flusher.html">RGWStreamFlusher</a></div><div class="ttdef"><b>Definition</b> <a href="rgw__formats_8h_source.html#l00118">rgw_formats.h:118</a></div></div>
<div class="ttc" id="aclass_r_g_w_sub_user_pool_html_a7497c6d0dfccfe81dd08610860740061"><div class="ttname"><a href="class_r_g_w_sub_user_pool.html#a7497c6d0dfccfe81dd08610860740061">RGWSubUserPool::modify</a></div><div class="ttdeci">int modify(const DoutPrefixProvider *dpp, RGWUserAdminOpState &amp;op_state, optional_yield y, std::string *err_msg, bool defer_save)</div><div class="ttdef"><b>Definition</b> <a href="rgw__user_8cc_source.html#l01266">rgw_user.cc:1266</a></div></div>
<div class="ttc" id="aclass_r_g_w_sub_user_pool_html_ab49488747d359993ada4003b4dc8a98c"><div class="ttname"><a href="class_r_g_w_sub_user_pool.html#ab49488747d359993ada4003b4dc8a98c">RGWSubUserPool::add</a></div><div class="ttdeci">int add(const DoutPrefixProvider *dpp, RGWUserAdminOpState &amp;op_state, std::string *err_msg, bool defer_save, optional_yield y)</div><div class="ttdef"><b>Definition</b> <a href="rgw__user_8cc_source.html#l01117">rgw_user.cc:1117</a></div></div>
<div class="ttc" id="aclass_r_g_w_sub_user_pool_html_afb96a658032bb873177c27cbad77e821"><div class="ttname"><a href="class_r_g_w_sub_user_pool.html#afb96a658032bb873177c27cbad77e821">RGWSubUserPool::remove</a></div><div class="ttdeci">int remove(const DoutPrefixProvider *dpp, RGWUserAdminOpState &amp;op_state, std::string *err_msg, bool defer_save, optional_yield y)</div><div class="ttdef"><b>Definition</b> <a href="rgw__user_8cc_source.html#l01194">rgw_user.cc:1194</a></div></div>
<div class="ttc" id="aclass_r_g_w_sync_error_logger_html_afaa584ebdd99faff55eec43fe1e48ae8"><div class="ttname"><a href="class_r_g_w_sync_error_logger.html#afaa584ebdd99faff55eec43fe1e48ae8">RGWSyncErrorLogger::get_shard_oid</a></div><div class="ttdeci">static std::string get_shard_oid(const std::string &amp;oid_prefix, int shard_id)</div><div class="ttdef"><b>Definition</b> <a href="rgw__sync_8cc_source.html#l00054">rgw_sync.cc:54</a></div></div>
<div class="ttc" id="aclass_r_g_w_system_meta_obj_html_a23150c4c841a29335f5a93ede8f8ecb6"><div class="ttname"><a href="class_r_g_w_system_meta_obj.html#a23150c4c841a29335f5a93ede8f8ecb6">RGWSystemMetaObj::init</a></div><div class="ttdeci">int init(const DoutPrefixProvider *dpp, CephContext *_cct, RGWSI_SysObj *_sysobj_svc, optional_yield y, bool setup_obj=true, bool old_format=false)</div><div class="ttdef"><b>Definition</b> <a href="rgw__zone_8cc_source.html#l00381">rgw_zone.cc:381</a></div></div>
<div class="ttc" id="aclass_r_g_w_system_meta_obj_html_a46efaf2ad6f9749afa8e02054ac600e7"><div class="ttname"><a href="class_r_g_w_system_meta_obj.html#a46efaf2ad6f9749afa8e02054ac600e7">RGWSystemMetaObj::update</a></div><div class="ttdeci">int update(const DoutPrefixProvider *dpp, optional_yield y)</div><div class="ttdef"><b>Definition</b> <a href="rgw__zone_8h_source.html#l00145">rgw_zone.h:145</a></div></div>
<div class="ttc" id="aclass_r_g_w_system_meta_obj_html_a6f88d8c7748b20ddcfbbdf27ca10802b"><div class="ttname"><a href="class_r_g_w_system_meta_obj.html#a6f88d8c7748b20ddcfbbdf27ca10802b">RGWSystemMetaObj::rename</a></div><div class="ttdeci">int rename(const DoutPrefixProvider *dpp, const std::string &amp;new_name, optional_yield y)</div><div class="ttdef"><b>Definition</b> <a href="rgw__zone_8cc_source.html#l00594">rgw_zone.cc:594</a></div></div>
<div class="ttc" id="aclass_r_g_w_system_meta_obj_html_a9cd057bc60874d0ec66297afc202ce52"><div class="ttname"><a href="class_r_g_w_system_meta_obj.html#a9cd057bc60874d0ec66297afc202ce52">RGWSystemMetaObj::set_as_default</a></div><div class="ttdeci">virtual int set_as_default(const DoutPrefixProvider *dpp, optional_yield y, bool exclusive=false)</div><div class="ttdef"><b>Definition</b> <a href="rgw__zone_8cc_source.html#l00475">rgw_zone.cc:475</a></div></div>
<div class="ttc" id="aclass_r_g_w_system_meta_obj_html_af793223c08439ee871d2b2076ab72e6e"><div class="ttname"><a href="class_r_g_w_system_meta_obj.html#af793223c08439ee871d2b2076ab72e6e">RGWSystemMetaObj::create</a></div><div class="ttdeci">virtual int create(const DoutPrefixProvider *dpp, optional_yield y, bool exclusive=true)</div><div class="ttdef"><b>Definition</b> <a href="rgw__zone_8cc_source.html#l00671">rgw_zone.cc:671</a></div></div>
<div class="ttc" id="aclass_r_g_w_usage_html_a2bbc6a7ed6975ada96b71b916e3da494"><div class="ttname"><a href="class_r_g_w_usage.html#a2bbc6a7ed6975ada96b71b916e3da494">RGWUsage::clear</a></div><div class="ttdeci">static int clear(const DoutPrefixProvider *dpp, rgw::sal::Store *store)</div><div class="ttdef"><b>Definition</b> <a href="rgw__usage_8cc_source.html#l00168">rgw_usage.cc:168</a></div></div>
<div class="ttc" id="aclass_r_g_w_usage_html_a3438c318855fdc63365b18ef648fad7a"><div class="ttname"><a href="class_r_g_w_usage.html#a3438c318855fdc63365b18ef648fad7a">RGWUsage::trim</a></div><div class="ttdeci">static int trim(const DoutPrefixProvider *dpp, rgw::sal::Store *store, rgw::sal::User *user, rgw::sal::Bucket *bucket, uint64_t start_epoch, uint64_t end_epoch)</div><div class="ttdef"><b>Definition</b> <a href="rgw__usage_8cc_source.html#l00155">rgw_usage.cc:155</a></div></div>
<div class="ttc" id="aclass_r_g_w_usage_html_a4db8133d74a06eeb306079d785e1c0c7"><div class="ttname"><a href="class_r_g_w_usage.html#a4db8133d74a06eeb306079d785e1c0c7">RGWUsage::show</a></div><div class="ttdeci">static int show(const DoutPrefixProvider *dpp, rgw::sal::Store *store, rgw::sal::User *user, rgw::sal::Bucket *bucket, uint64_t start_epoch, uint64_t end_epoch, bool show_log_entries, bool show_log_sum, std::map&lt; std::string, bool &gt; *categories, RGWFormatterFlusher &amp;flusher)</div><div class="ttdef"><b>Definition</b> <a href="rgw__usage_8cc_source.html#l00033">rgw_usage.cc:33</a></div></div>
<div class="ttc" id="aclass_r_g_w_user_cap_pool_html_a217d4dae65ab9ce238c8428846a03087"><div class="ttname"><a href="class_r_g_w_user_cap_pool.html#a217d4dae65ab9ce238c8428846a03087">RGWUserCapPool::add</a></div><div class="ttdeci">int add(const DoutPrefixProvider *dpp, RGWUserAdminOpState &amp;op_state, std::string *err_msg, bool defer_save, optional_yield y)</div><div class="ttdef"><b>Definition</b> <a href="rgw__user_8cc_source.html#l01327">rgw_user.cc:1327</a></div></div>
<div class="ttc" id="aclass_r_g_w_user_cap_pool_html_af5d464c955ad622da16c9b54eba06b41"><div class="ttname"><a href="class_r_g_w_user_cap_pool.html#af5d464c955ad622da16c9b54eba06b41">RGWUserCapPool::remove</a></div><div class="ttdeci">int remove(const DoutPrefixProvider *dpp, RGWUserAdminOpState &amp;op_state, std::string *err_msg, bool defer_save, optional_yield y)</div><div class="ttdef"><b>Definition</b> <a href="rgw__user_8cc_source.html#l01369">rgw_user.cc:1369</a></div></div>
<div class="ttc" id="aclass_r_g_w_user_html"><div class="ttname"><a href="class_r_g_w_user.html">RGWUser</a></div><div class="ttdef"><b>Definition</b> <a href="rgw__user_8h_source.html#l00555">rgw_user.h:556</a></div></div>
<div class="ttc" id="aclass_r_g_w_user_html_a0332f74ac2a2fc1cf134d22030b2b2d3"><div class="ttname"><a href="class_r_g_w_user.html#a0332f74ac2a2fc1cf134d22030b2b2d3">RGWUser::add</a></div><div class="ttdeci">int add(const DoutPrefixProvider *dpp, RGWUserAdminOpState &amp;op_state, optional_yield y, std::string *err_msg=NULL)</div><div class="ttdef"><b>Definition</b> <a href="rgw__user_8cc_source.html#l01812">rgw_user.cc:1812</a></div></div>
<div class="ttc" id="aclass_r_g_w_user_html_a45beb007a2a6b08c5796115dd9e64133"><div class="ttname"><a href="class_r_g_w_user.html#a45beb007a2a6b08c5796115dd9e64133">RGWUser::caps</a></div><div class="ttdeci">RGWUserCapPool caps</div><div class="ttdef"><b>Definition</b> <a href="rgw__user_8h_source.html#l00596">rgw_user.h:596</a></div></div>
<div class="ttc" id="aclass_r_g_w_user_html_a4bdd5e67da0422d6921eb9269556d7bb"><div class="ttname"><a href="class_r_g_w_user.html#a4bdd5e67da0422d6921eb9269556d7bb">RGWUser::keys</a></div><div class="ttdeci">RGWAccessKeyPool keys</div><div class="ttdef"><b>Definition</b> <a href="rgw__user_8h_source.html#l00597">rgw_user.h:597</a></div></div>
<div class="ttc" id="aclass_r_g_w_user_html_a53783d3615c9e7ac231fe4cfa06f43a3"><div class="ttname"><a href="class_r_g_w_user.html#a53783d3615c9e7ac231fe4cfa06f43a3">RGWUser::remove</a></div><div class="ttdeci">int remove(const DoutPrefixProvider *dpp, RGWUserAdminOpState &amp;op_state, optional_yield y, std::string *err_msg=NULL)</div><div class="ttdef"><b>Definition</b> <a href="rgw__user_8cc_source.html#l01909">rgw_user.cc:1909</a></div></div>
<div class="ttc" id="aclass_r_g_w_user_html_a7776a18daac664ad89c79259e5f9d079"><div class="ttname"><a href="class_r_g_w_user.html#a7776a18daac664ad89c79259e5f9d079">RGWUser::init</a></div><div class="ttdeci">int init(const DoutPrefixProvider *dpp, rgw::sal::Store *storage, RGWUserAdminOpState &amp;op_state, optional_yield y)</div><div class="ttdef"><b>Definition</b> <a href="rgw__user_8cc_source.html#l01411">rgw_user.cc:1411</a></div></div>
<div class="ttc" id="aclass_r_g_w_user_html_a85668532c0205302e0a177c16d5ffe6c"><div class="ttname"><a href="class_r_g_w_user.html#a85668532c0205302e0a177c16d5ffe6c">RGWUser::info</a></div><div class="ttdeci">int info(const DoutPrefixProvider *dpp, RGWUserAdminOpState &amp;op_state, RGWUserInfo &amp;fetched_info, optional_yield y, std::string *err_msg=NULL)</div><div class="ttdef"><b>Definition</b> <a href="rgw__user_8cc_source.html#l02101">rgw_user.cc:2101</a></div></div>
<div class="ttc" id="aclass_r_g_w_user_html_a986f339b0dcd99bc46671bf22e45c280"><div class="ttname"><a href="class_r_g_w_user.html#a986f339b0dcd99bc46671bf22e45c280">RGWUser::modify</a></div><div class="ttdeci">int modify(const DoutPrefixProvider *dpp, RGWUserAdminOpState &amp;op_state, optional_yield y, std::string *err_msg=NULL)</div><div class="ttdef"><b>Definition</b> <a href="rgw__user_8cc_source.html#l02081">rgw_user.cc:2081</a></div></div>
<div class="ttc" id="aclass_r_g_w_user_html_ab317e43168187e087dfa6baf4662af9a"><div class="ttname"><a href="class_r_g_w_user.html#ab317e43168187e087dfa6baf4662af9a">RGWUser::rename</a></div><div class="ttdeci">int rename(RGWUserAdminOpState &amp;op_state, optional_yield y, const DoutPrefixProvider *dpp, std::string *err_msg=NULL)</div><div class="ttdef"><b>Definition</b> <a href="rgw__user_8cc_source.html#l01836">rgw_user.cc:1836</a></div></div>
<div class="ttc" id="aclass_r_g_w_user_html_ac1a440c0648dd3306c5ff29a5f9f1b05"><div class="ttname"><a href="class_r_g_w_user.html#ac1a440c0648dd3306c5ff29a5f9f1b05">RGWUser::subusers</a></div><div class="ttdeci">RGWSubUserPool subusers</div><div class="ttdef"><b>Definition</b> <a href="rgw__user_8h_source.html#l00598">rgw_user.h:598</a></div></div>
<div class="ttc" id="aclass_r_g_w_zone_storage_classes_html_a5f023fd084eb18c051f90a7a2e1dd874"><div class="ttname"><a href="class_r_g_w_zone_storage_classes.html#a5f023fd084eb18c051f90a7a2e1dd874">RGWZoneStorageClasses::remove_storage_class</a></div><div class="ttdeci">void remove_storage_class(const std::string &amp;sc)</div><div class="ttdef"><b>Definition</b> <a href="rgw__zone_8h_source.html#l00249">rgw_zone.h:249</a></div></div>
<div class="ttc" id="aclass_r_g_w_zone_storage_classes_html_a636b50775327447999d3783f716cb416"><div class="ttname"><a href="class_r_g_w_zone_storage_classes.html#a636b50775327447999d3783f716cb416">RGWZoneStorageClasses::find</a></div><div class="ttdeci">bool find(const std::string &amp;sc, const RGWZoneStorageClass **pstorage_class) const</div><div class="ttdef"><b>Definition</b> <a href="rgw__zone_8h_source.html#l00210">rgw_zone.h:210</a></div></div>
<div class="ttc" id="aclass_r_g_w_zone_storage_classes_html_aac7733484c65766bdfb00f02389a0ea1"><div class="ttname"><a href="class_r_g_w_zone_storage_classes.html#aac7733484c65766bdfb00f02389a0ea1">RGWZoneStorageClasses::set_storage_class</a></div><div class="ttdeci">void set_storage_class(const std::string &amp;sc, const rgw_pool *data_pool, const std::string *compression_type)</div><div class="ttdef"><b>Definition</b> <a href="rgw__zone_8h_source.html#l00235">rgw_zone.h:235</a></div></div>
<div class="ttc" id="aclass_simple_cmd_html"><div class="ttname"><a href="class_simple_cmd.html">SimpleCmd</a></div><div class="ttdef"><b>Definition</b> <a href="rgw__admin_8cc_source.html#l00475">rgw_admin.cc:475</a></div></div>
<div class="ttc" id="aclass_store_destructor_html"><div class="ttname"><a href="class_store_destructor.html">StoreDestructor</a></div><div class="ttdef"><b>Definition</b> <a href="rgw__admin_8cc_source.html#l01162">rgw_admin.cc:1162</a></div></div>
<div class="ttc" id="aclass_store_manager_html_a171a189a3a4c6bfc91b3948b04e2c14b"><div class="ttname"><a href="class_store_manager.html#a171a189a3a4c6bfc91b3948b04e2c14b">StoreManager::get_raw_storage</a></div><div class="ttdeci">static rgw::sal::Store * get_raw_storage(const DoutPrefixProvider *dpp, CephContext *cct, const std::string svc)</div><div class="ttdef"><b>Definition</b> <a href="rgw__sal_8h_source.html#l01467">rgw_sal.h:1467</a></div></div>
<div class="ttc" id="aclass_store_manager_html_a6016d182f49b4faa12cd67e0d1e0f90b"><div class="ttname"><a href="class_store_manager.html#a6016d182f49b4faa12cd67e0d1e0f90b">StoreManager::get_storage</a></div><div class="ttdeci">static rgw::sal::Store * get_storage(const DoutPrefixProvider *dpp, CephContext *cct, const std::string svc, bool use_gc_thread, bool use_lc_thread, bool quota_threads, bool run_sync_thread, bool run_reshard_thread, bool use_cache=true, bool use_gc=true)</div><div class="ttdef"><b>Definition</b> <a href="rgw__sal_8h_source.html#l01460">rgw_sal.h:1460</a></div></div>
<div class="ttc" id="aclass_sync_policy_context_html"><div class="ttname"><a href="class_sync_policy_context.html">SyncPolicyContext</a></div><div class="ttdef"><b>Definition</b> <a href="rgw__admin_8cc_source.html#l03081">rgw_admin.cc:3082</a></div></div>
<div class="ttc" id="aclassrgw_1_1_bucket_trim_manager_html"><div class="ttname"><a href="classrgw_1_1_bucket_trim_manager.html">rgw::BucketTrimManager</a></div><div class="ttdef"><b>Definition</b> <a href="rgw__trim__bilog_8h_source.html#l00073">rgw_trim_bilog.h:73</a></div></div>
<div class="ttc" id="aclassrgw_1_1sal_1_1_store_html_a2bf7ed8113c1ca38657367c70c7e4f5b"><div class="ttname"><a href="classrgw_1_1sal_1_1_store.html#a2bf7ed8113c1ca38657367c70c7e4f5b">rgw::sal::Store::get_roles</a></div><div class="ttdeci">virtual int get_roles(const DoutPrefixProvider *dpp, optional_yield y, const std::string &amp;path_prefix, const std::string &amp;tenant, std::vector&lt; std::unique_ptr&lt; RGWRole &gt; &gt; &amp;roles)=0</div></div>
<div class="ttc" id="aclassrgw_1_1sal_1_1_store_html_a3f47faa0a9863670b57ba81b229918f8"><div class="ttname"><a href="classrgw_1_1sal_1_1_store.html#a3f47faa0a9863670b57ba81b229918f8">rgw::sal::Store::is_meta_master</a></div><div class="ttdeci">virtual bool is_meta_master()=0</div></div>
<div class="ttc" id="aclassrgw_1_1sal_1_1_store_html_a583f96473bf50c30d8fcca23b63de948"><div class="ttname"><a href="classrgw_1_1sal_1_1_store.html#a583f96473bf50c30d8fcca23b63de948">rgw::sal::Store::get_user</a></div><div class="ttdeci">virtual std::unique_ptr&lt; User &gt; get_user(const rgw_user &amp;u)=0</div></div>
<div class="ttc" id="aclassrgw_1_1sal_1_1_store_html_a67934b27b4c064265a12f922f9baa6c4"><div class="ttname"><a href="classrgw_1_1sal_1_1_store.html#a67934b27b4c064265a12f922f9baa6c4">rgw::sal::Store::meta_get_marker</a></div><div class="ttdeci">virtual std::string meta_get_marker(void *handle)=0</div></div>
<div class="ttc" id="aclassrgw_1_1sal_1_1_store_html_a91db16d708ac953cef44535c16457fb5"><div class="ttname"><a href="classrgw_1_1sal_1_1_store.html#a91db16d708ac953cef44535c16457fb5">rgw::sal::Store::get_cr_registry</a></div><div class="ttdeci">virtual RGWCoroutinesManagerRegistry * get_cr_registry()=0</div></div>
<div class="ttc" id="aclassrgw_1_1sal_1_1_store_html_aa62a988d794ce85c15622a9f40a91876"><div class="ttname"><a href="classrgw_1_1sal_1_1_store.html#aa62a988d794ce85c15622a9f40a91876">rgw::sal::Store::meta_list_keys_next</a></div><div class="ttdeci">virtual int meta_list_keys_next(const DoutPrefixProvider *dpp, void *handle, int max, std::list&lt; std::string &gt; &amp;keys, bool *truncated)=0</div></div>
<div class="ttc" id="aclassrgw_1_1sal_1_1_store_html_abf1d7c4cb44101b210905378cba4996c"><div class="ttname"><a href="classrgw_1_1sal_1_1_store.html#abf1d7c4cb44101b210905378cba4996c">rgw::sal::Store::meta_list_keys_init</a></div><div class="ttdeci">virtual int meta_list_keys_init(const DoutPrefixProvider *dpp, const std::string &amp;section, const std::string &amp;marker, void **phandle)=0</div></div>
<div class="ttc" id="aclassrgw_1_1sal_1_1_store_html_af3e1a304b9f14912cf7f1151700d84bf"><div class="ttname"><a href="classrgw_1_1sal_1_1_store.html#af3e1a304b9f14912cf7f1151700d84bf">rgw::sal::Store::get_role</a></div><div class="ttdeci">virtual std::unique_ptr&lt; RGWRole &gt; get_role(std::string name, std::string tenant, std::string path=&quot;&quot;, std::string trust_policy=&quot;&quot;, std::string max_session_duration_str=&quot;&quot;, std::multimap&lt; std::string, std::string &gt; tags={})=0</div></div>
<div class="ttc" id="aclassrgw_1_1sal_1_1_store_html_afe7cd14febe2f66e06aa51aee73d0a6d"><div class="ttname"><a href="classrgw_1_1sal_1_1_store.html#afe7cd14febe2f66e06aa51aee73d0a6d">rgw::sal::Store::meta_list_keys_complete</a></div><div class="ttdeci">virtual void meta_list_keys_complete(void *handle)=0</div></div>
<div class="ttc" id="aclassrgw_1_1sal_1_1_user_html_a96e608798e4a45601e3d9f223bdbcb9b"><div class="ttname"><a href="classrgw_1_1sal_1_1_user.html#a96e608798e4a45601e3d9f223bdbcb9b">rgw::sal::User::empty</a></div><div class="ttdeci">static bool empty(User *u)</div><div class="ttdef"><b>Definition</b> <a href="rgw__sal_8h_source.html#l00490">rgw_sal.h:490</a></div></div>
<div class="ttc" id="aclassrgw_1_1sal_1_1_zone_html_aad5682df06309df9be7bc8fdab823b50"><div class="ttname"><a href="classrgw_1_1sal_1_1_zone.html#aad5682df06309df9be7bc8fdab823b50">rgw::sal::Zone::get_params</a></div><div class="ttdeci">virtual const RGWZoneParams &amp; get_params()=0</div></div>
<div class="ttc" id="acls__fifo__legacy_8cc_html_a0341b0ec09e77f9d6274d5b1517f7711"><div class="ttname"><a href="cls__fifo__legacy_8cc.html#a0341b0ec09e77f9d6274d5b1517f7711">entries</a></div><div class="ttdeci">std::vector&lt; fifo::part_list_entry &gt; * entries</div><div class="ttdef"><b>Definition</b> <a href="cls__fifo__legacy_8cc_source.html#l00249">cls_fifo_legacy.cc:249</a></div></div>
<div class="ttc" id="acls__fifo__legacy_8cc_html_a68310108dc1113b2ef0e243d11e5b10d"><div class="ttname"><a href="cls__fifo__legacy_8cc.html#a68310108dc1113b2ef0e243d11e5b10d">h</a></div><div class="ttdeci">fifo::part_header * h</div><div class="ttdef"><b>Definition</b> <a href="cls__fifo__legacy_8cc_source.html#l00340">cls_fifo_legacy.cc:340</a></div></div>
<div class="ttc" id="adbstore__tests_8cc_html_a3284f7a2d0ea04744ec7605cbacce0de"><div class="ttname"><a href="dbstore__tests_8cc.html#a3284f7a2d0ea04744ec7605cbacce0de">args</a></div><div class="ttdeci">vector&lt; const char * &gt; args</div><div class="ttdef"><b>Definition</b> <a href="dbstore__tests_8cc_source.html#l00014">dbstore_tests.cc:14</a></div></div>
<div class="ttc" id="anamespacedetail_html"><div class="ttname"><a href="namespacedetail.html">detail</a></div><div class="ttdef"><b>Definition</b> <a href="rgw__string_8h_source.html#l00128">rgw_string.h:128</a></div></div>
<div class="ttc" id="anamespacejwt_html_ad1a72c1ea3d67e3d9bd554e26856523d"><div class="ttname"><a href="namespacejwt.html#ad1a72c1ea3d67e3d9bd554e26856523d">jwt::date</a></div><div class="ttdeci">std::chrono::system_clock::time_point date</div><div class="ttdef"><b>Definition</b> <a href="jwt_8h_source.html#l00025">jwt.h:25</a></div></div>
<div class="ttc" id="anamespacepicojson_html_a3e769a5e2dbffd9a9309e1dc2d67975b"><div class="ttname"><a href="namespacepicojson.html#a3e769a5e2dbffd9a9309e1dc2d67975b">picojson::object</a></div><div class="ttdeci">value::object object</div><div class="ttdef"><b>Definition</b> <a href="picojson_8h_source.html#l00209">picojson.h:209</a></div></div>
<div class="ttc" id="anamespacergw_1_1auth_1_1s3_html_a7c0fc27ad98410d070dc5bd0a675529b"><div class="ttname"><a href="namespacergw_1_1auth_1_1s3.html#a7c0fc27ad98410d070dc5bd0a675529b">rgw::auth::s3::get_str_vec</a></div><div class="ttdeci">boost::container::small_vector&lt; std::string_view, ExpectedStrNum &gt; get_str_vec(const std::string_view &amp;str, const char *const delims)</div><div class="ttdef"><b>Definition</b> <a href="rgw__auth__s3_8cc_source.html#l00356">rgw_auth_s3.cc:356</a></div></div>
<div class="ttc" id="anamespacergw_1_1curl_html_a378cf539682b5c46738a91f945387388"><div class="ttname"><a href="namespacergw_1_1curl.html#a378cf539682b5c46738a91f945387388">rgw::curl::setup_curl</a></div><div class="ttdeci">void setup_curl(boost::optional&lt; const fe_map_t &amp; &gt; m)</div><div class="ttdef"><b>Definition</b> <a href="rgw__http__client__curl_8cc_source.html#l00102">rgw_http_client_curl.cc:102</a></div></div>
<div class="ttc" id="anamespacergw_1_1curl_html_af0bd4d38ae1eb18d7985014eb13ce24b"><div class="ttname"><a href="namespacergw_1_1curl.html#af0bd4d38ae1eb18d7985014eb13ce24b">rgw::curl::cleanup_curl</a></div><div class="ttdeci">void cleanup_curl()</div><div class="ttdef"><b>Definition</b> <a href="rgw__http__client__curl_8cc_source.html#l00116">rgw_http_client_curl.cc:116</a></div></div>
<div class="ttc" id="anamespacergw_1_1dmclock_html_a6ed0c6ad7f7fc29a06f52a0070d21493"><div class="ttname"><a href="namespacergw_1_1dmclock.html#a6ed0c6ad7f7fc29a06f52a0070d21493">rgw::dmclock::client_id</a></div><div class="ttdeci">client_id</div><div class="ttdef"><b>Definition</b> <a href="rgw__dmclock_8h_source.html#l00023">rgw_dmclock.h:23</a></div></div>
<div class="ttc" id="anamespacergw_1_1dmclock_html_a6ed0c6ad7f7fc29a06f52a0070d21493a21232f297a57a5a743894a0e4a801fc3"><div class="ttname"><a href="namespacergw_1_1dmclock.html#a6ed0c6ad7f7fc29a06f52a0070d21493a21232f297a57a5a743894a0e4a801fc3">rgw::dmclock::client_id::admin</a></div><div class="ttdeci">@ admin</div></div>
<div class="ttc" id="anamespacergw_1_1lua_html_a5652b6711c456135043c799876aec7c1"><div class="ttname"><a href="namespacergw_1_1lua.html#a5652b6711c456135043c799876aec7c1">rgw::lua::context</a></div><div class="ttdeci">context</div><div class="ttdef"><b>Definition</b> <a href="rgw__lua_8h_source.html#l00015">rgw_lua.h:15</a></div></div>
<div class="ttc" id="anamespacergw_1_1lua_html_a5652b6711c456135043c799876aec7c1a334c4a4c42fdb79d7ebc3e73b517e6f8"><div class="ttname"><a href="namespacergw_1_1lua.html#a5652b6711c456135043c799876aec7c1a334c4a4c42fdb79d7ebc3e73b517e6f8">rgw::lua::context::none</a></div><div class="ttdeci">@ none</div></div>
<div class="ttc" id="anamespacergw_1_1lua_html_a6e1bade36aa24076c40c7975bb66ca54"><div class="ttname"><a href="namespacergw_1_1lua.html#a6e1bade36aa24076c40c7975bb66ca54">rgw::lua::read_script</a></div><div class="ttdeci">int read_script(const DoutPrefixProvider *dpp, rgw::sal::Store *store, const std::string &amp;tenant, optional_yield y, context ctx, std::string &amp;script)</div><div class="ttdef"><b>Definition</b> <a href="rgw__lua_8cc_source.html#l00066">rgw_lua.cc:66</a></div></div>
<div class="ttc" id="anamespacergw_1_1lua_html_a9f9dec6b50fb593e3225a8b24388ae54"><div class="ttname"><a href="namespacergw_1_1lua.html#a9f9dec6b50fb593e3225a8b24388ae54">rgw::lua::verify</a></div><div class="ttdeci">bool verify(const std::string &amp;script, std::string &amp;err_msg)</div><div class="ttdef"><b>Definition</b> <a href="rgw__lua_8cc_source.html#l00042">rgw_lua.cc:42</a></div></div>
<div class="ttc" id="anamespacergw_1_1lua_html_aac0f221b24f6163492b0ee34789c8ace"><div class="ttname"><a href="namespacergw_1_1lua.html#aac0f221b24f6163492b0ee34789c8ace">rgw::lua::to_context</a></div><div class="ttdeci">context to_context(const std::string &amp;s)</div><div class="ttdef"><b>Definition</b> <a href="rgw__lua_8cc_source.html#l00018">rgw_lua.cc:18</a></div></div>
<div class="ttc" id="anamespacergw_1_1lua_html_acf78d6958d104eaabc8f4a17e4e9ed5d"><div class="ttname"><a href="namespacergw_1_1lua.html#acf78d6958d104eaabc8f4a17e4e9ed5d">rgw::lua::write_script</a></div><div class="ttdeci">int write_script(const DoutPrefixProvider *dpp, rgw::sal::Store *store, const std::string &amp;tenant, optional_yield y, context ctx, const std::string &amp;script)</div><div class="ttdef"><b>Definition</b> <a href="rgw__lua_8cc_source.html#l00073">rgw_lua.cc:73</a></div></div>
<div class="ttc" id="anamespacergw_1_1lua_html_add687a7a2add8e0a499c7ab49f1c781f"><div class="ttname"><a href="namespacergw_1_1lua.html#add687a7a2add8e0a499c7ab49f1c781f">rgw::lua::delete_script</a></div><div class="ttdeci">int delete_script(const DoutPrefixProvider *dpp, rgw::sal::Store *store, const std::string &amp;tenant, optional_yield y, context ctx)</div><div class="ttdef"><b>Definition</b> <a href="rgw__lua_8cc_source.html#l00080">rgw_lua.cc:80</a></div></div>
<div class="ttc" id="anamespacergw__admin_html_a417a68fb93cf5a708aed0d343be0856f"><div class="ttname"><a href="namespacergw__admin.html#a417a68fb93cf5a708aed0d343be0856f">rgw_admin::OPT</a></div><div class="ttdeci">OPT</div><div class="ttdef"><b>Definition</b> <a href="rgw__admin_8cc_source.html#l00609">rgw_admin.cc:609</a></div></div>
<div class="ttc" id="anamespacergw_html"><div class="ttname"><a href="namespacergw.html">rgw</a></div><div class="ttdef"><b>Definition</b> <a href="cls__fifo__legacy_8cc_source.html#l00038">cls_fifo_legacy.cc:38</a></div></div>
<div class="ttc" id="anamespacergw_html_a13434cf31df970719317d99dd0447389"><div class="ttname"><a href="namespacergw.html#a13434cf31df970719317d99dd0447389">rgw::BucketIndexType</a></div><div class="ttdeci">BucketIndexType</div><div class="ttdef"><b>Definition</b> <a href="rgw__bucket__layout_8h_source.html#l00024">rgw_bucket_layout.h:24</a></div></div>
<div class="ttc" id="anamespacergw_html_a13434cf31df970719317d99dd0447389a57c64e607324a2d97aeeb8df0c85626d"><div class="ttname"><a href="namespacergw.html#a13434cf31df970719317d99dd0447389a57c64e607324a2d97aeeb8df0c85626d">rgw::BucketIndexType::Indexless</a></div><div class="ttdeci">@ Indexless</div></div>
<div class="ttc" id="anamespacergw_html_a13434cf31df970719317d99dd0447389a960b44c579bc2f6818d2daaf9e4c16f0"><div class="ttname"><a href="namespacergw.html#a13434cf31df970719317d99dd0447389a960b44c579bc2f6818d2daaf9e4c16f0">rgw::BucketIndexType::Normal</a></div><div class="ttdeci">@ Normal</div></div>
<div class="ttc" id="anamespacergw_html_a83553f9b1722162143166d58a77ba679"><div class="ttname"><a href="namespacergw.html#a83553f9b1722162143166d58a77ba679">rgw::configure_bucket_trim</a></div><div class="ttdeci">void configure_bucket_trim(CephContext *cct, BucketTrimConfig &amp;config)</div><div class="ttdoc">fill out the BucketTrimConfig from the ceph context</div><div class="ttdef"><b>Definition</b> <a href="rgw__trim__bilog_8cc_source.html#l01046">rgw_trim_bilog.cc:1046</a></div></div>
<div class="ttc" id="anamespacergw_html_aa74ef6030865b86d25300c7309e8b191a2245023265ae4cf87d02c8b6ba991139"><div class="ttname"><a href="namespacergw.html#aa74ef6030865b86d25300c7309e8b191a2245023265ae4cf87d02c8b6ba991139">rgw::Service::config</a></div><div class="ttdeci">@ config</div></div>
<div class="ttc" id="argw__admin_8cc_html_a07d3841128712f85bb571720d6b18321"><div class="ttname"><a href="rgw__admin_8cc.html#a07d3841128712f85bb571720d6b18321">check_pool_support_omap</a></div><div class="ttdeci">static int check_pool_support_omap(const rgw_pool &amp;pool)</div><div class="ttdef"><b>Definition</b> <a href="rgw__admin_8cc_source.html#l02884">rgw_admin.cc:2884</a></div></div>
<div class="ttc" id="argw__admin_8cc_html_a0a59f4856530c0ea2ecbfecf76260725"><div class="ttname"><a href="rgw__admin_8cc.html#a0a59f4856530c0ea2ecbfecf76260725">show_user_ratelimit</a></div><div class="ttdeci">int show_user_ratelimit(std::unique_ptr&lt; rgw::sal::User &gt; &amp;user, Formatter *formatter)</div><div class="ttdef"><b>Definition</b> <a href="rgw__admin_8cc_source.html#l01490">rgw_admin.cc:1490</a></div></div>
<div class="ttc" id="argw__admin_8cc_html_a0f5786a9208fab23de2b4d15b3280a19"><div class="ttname"><a href="rgw__admin_8cc.html#a0f5786a9208fab23de2b4d15b3280a19">require_opt</a></div><div class="ttdeci">static bool require_opt(std::optional&lt; T &gt; opt, bool extra_check=true)</div><div class="ttdef"><b>Definition</b> <a href="rgw__admin_8cc_source.html#l03035">rgw_admin.cc:3035</a></div></div>
<div class="ttc" id="argw__admin_8cc_html_a12ea66a840022d0ede38215156d30852"><div class="ttname"><a href="rgw__admin_8cc.html#a12ea66a840022d0ede38215156d30852">get_log_type</a></div><div class="ttdeci">log_type get_log_type(const string &amp;type_str)</div><div class="ttdef"><b>Definition</b> <a href="rgw__admin_8cc_source.html#l01067">rgw_admin.cc:1067</a></div></div>
<div class="ttc" id="argw__admin_8cc_html_a15dd52ecddc8de71b5476bac51af66b7"><div class="ttname"><a href="rgw__admin_8cc.html#a15dd52ecddc8de71b5476bac51af66b7">trim_sync_error_log</a></div><div class="ttdeci">static int trim_sync_error_log(int shard_id, const string &amp;marker, int delay_ms)</div><div class="ttdef"><b>Definition</b> <a href="rgw__admin_8cc_source.html#l02999">rgw_admin.cc:2999</a></div></div>
<div class="ttc" id="argw__admin_8cc_html_a1952ece8a97cc8cf04493a430fb3b6dd"><div class="ttname"><a href="rgw__admin_8cc.html#a1952ece8a97cc8cf04493a430fb3b6dd">bucket_sync_status</a></div><div class="ttdeci">static int bucket_sync_status(rgw::sal::RadosStore *store, const RGWBucketInfo &amp;info, const rgw_zone_id &amp;source_zone_id, std::optional&lt; rgw_bucket &gt; &amp;opt_source_bucket, std::ostream &amp;out)</div><div class="ttdef"><b>Definition</b> <a href="rgw__admin_8cc_source.html#l02770">rgw_admin.cc:2770</a></div></div>
<div class="ttc" id="argw__admin_8cc_html_a1a84845aea98042ae470c1245cadb7f9"><div class="ttname"><a href="rgw__admin_8cc.html#a1a84845aea98042ae470c1245cadb7f9">safe_opt</a></div><div class="ttdeci">static string safe_opt(std::optional&lt; string &gt; &amp;os)</div><div class="ttdef"><b>Definition</b> <a href="rgw__admin_8cc_source.html#l03356">rgw_admin.cc:3356</a></div></div>
<div class="ttc" id="argw__admin_8cc_html_a1cd3093171a87f32bc690211a3f2a403"><div class="ttname"><a href="rgw__admin_8cc.html#a1cd3093171a87f32bc690211a3f2a403">resolve_zone_ids_opt</a></div><div class="ttdeci">void resolve_zone_ids_opt(std::optional&lt; vector&lt; string &gt; &gt; &amp;names, std::optional&lt; vector&lt; rgw_zone_id &gt; &gt; &amp;ids)</div><div class="ttdef"><b>Definition</b> <a href="rgw__admin_8cc_source.html#l03167">rgw_admin.cc:3167</a></div></div>
<div class="ttc" id="argw__admin_8cc_html_a1cef36570411312985736b706edeb5b2"><div class="ttname"><a href="rgw__admin_8cc.html#a1cef36570411312985736b706edeb5b2">show_roles_info</a></div><div class="ttdeci">static void show_roles_info(vector&lt; std::unique_ptr&lt; rgw::sal::RGWRole &gt; &gt; &amp;roles, Formatter *formatter)</div><div class="ttdef"><b>Definition</b> <a href="rgw__admin_8cc_source.html#l01134">rgw_admin.cc:1134</a></div></div>
<div class="ttc" id="argw__admin_8cc_html_a2566548dda6d3a7ce1e9d3bca22d7a4c"><div class="ttname"><a href="rgw__admin_8cc.html#a2566548dda6d3a7ce1e9d3bca22d7a4c">show_result</a></div><div class="ttdeci">static void show_result(T &amp;obj, Formatter *formatter, ostream &amp;os)</div><div class="ttdef"><b>Definition</b> <a href="rgw__admin_8cc_source.html#l03053">rgw_admin.cc:3053</a></div></div>
<div class="ttc" id="argw__admin_8cc_html_a261e44d721357bf200c2980f9f564f63"><div class="ttname"><a href="rgw__admin_8cc.html#a261e44d721357bf200c2980f9f564f63">bucket_sync_info</a></div><div class="ttdeci">static int bucket_sync_info(rgw::sal::RadosStore *store, const RGWBucketInfo &amp;info, std::ostream &amp;out)</div><div class="ttdef"><b>Definition</b> <a href="rgw__admin_8cc_source.html#l02731">rgw_admin.cc:2731</a></div></div>
<div class="ttc" id="argw__admin_8cc_html_a266e1d9277daa7bcaf9f20a9f469f72e"><div class="ttname"><a href="rgw__admin_8cc.html#a266e1d9277daa7bcaf9f20a9f469f72e">get_tier_type</a></div><div class="ttdeci">const string &amp; get_tier_type(rgw::sal::RadosStore *store)</div><div class="ttdef"><b>Definition</b> <a href="rgw__admin_8cc_source.html#l03020">rgw_admin.cc:3020</a></div></div>
<div class="ttc" id="argw__admin_8cc_html_a2ef30c42cbc289d899a8be5d2d8f77d0"><div class="ttname"><a href="rgw__admin_8cc.html#a2ef30c42cbc289d899a8be5d2d8f77d0">usage</a></div><div class="ttdeci">void usage()</div><div class="ttdef"><b>Definition</b> <a href="rgw__admin_8cc_source.html#l00108">rgw_admin.cc:108</a></div></div>
<div class="ttc" id="argw__admin_8cc_html_a33812c768aaef292f4ee9a7dbfb1e6dd"><div class="ttname"><a href="rgw__admin_8cc.html#a33812c768aaef292f4ee9a7dbfb1e6dd">try_to_resolve_local_entities</a></div><div class="ttdeci">static int try_to_resolve_local_entities(string &amp;realm_id, string &amp;realm_name, string &amp;zonegroup_id, string &amp;zonegroup_name, string &amp;zone_id, string &amp;zone_name)</div><div class="ttdef"><b>Definition</b> <a href="rgw__admin_8cc_source.html#l03300">rgw_admin.cc:3300</a></div></div>
<div class="ttc" id="argw__admin_8cc_html_a33c98984a0812f3128d874042ee17c68"><div class="ttname"><a href="rgw__admin_8cc.html#a33c98984a0812f3128d874042ee17c68">read_decode_json</a></div><div class="ttdeci">static int read_decode_json(const string &amp;infile, T &amp;t)</div><div class="ttdef"><b>Definition</b> <a href="rgw__admin_8cc_source.html#l01225">rgw_admin.cc:1225</a></div></div>
<div class="ttc" id="argw__admin_8cc_html_a33febd2fe0e966d847c7beab7e0d80e2"><div class="ttname"><a href="rgw__admin_8cc.html#a33febd2fe0e966d847c7beab7e0d80e2">resolve_zone_id_opt</a></div><div class="ttdeci">void resolve_zone_id_opt(std::optional&lt; string &gt; &amp;zone_name, std::optional&lt; rgw_zone_id &gt; &amp;zone_id)</div><div class="ttdef"><b>Definition</b> <a href="rgw__admin_8cc_source.html#l03156">rgw_admin.cc:3156</a></div></div>
<div class="ttc" id="argw__admin_8cc_html_a4370c2bc6e6412e65a17072ecebfc3b6"><div class="ttname"><a href="rgw__admin_8cc.html#a4370c2bc6e6412e65a17072ecebfc3b6">read_input</a></div><div class="ttdeci">static int read_input(const string &amp;infile, bufferlist &amp;bl)</div><div class="ttdef"><b>Definition</b> <a href="rgw__admin_8cc_source.html#l01188">rgw_admin.cc:1188</a></div></div>
<div class="ttc" id="argw__admin_8cc_html_a45756af62516a89ecfa1951a630f7a73"><div class="ttname"><a href="rgw__admin_8cc.html#a45756af62516a89ecfa1951a630f7a73">set_user_quota</a></div><div class="ttdeci">int set_user_quota(OPT opt_cmd, RGWUser &amp;user, RGWUserAdminOpState &amp;op_state, int64_t max_size, int64_t max_objects, bool have_max_size, bool have_max_objects)</div><div class="ttdef"><b>Definition</b> <a href="rgw__admin_8cc_source.html#l01559">rgw_admin.cc:1559</a></div></div>
<div class="ttc" id="argw__admin_8cc_html_a4621ffbb2543bb657d8e5d45a38dcaa8"><div class="ttname"><a href="rgw__admin_8cc.html#a4621ffbb2543bb657d8e5d45a38dcaa8">get_bi_index_type</a></div><div class="ttdeci">BIIndexType get_bi_index_type(const string &amp;type_str)</div><div class="ttdef"><b>Definition</b> <a href="rgw__admin_8cc_source.html#l01056">rgw_admin.cc:1056</a></div></div>
<div class="ttc" id="argw__admin_8cc_html_a47785697389493a3eba737404eaab01b"><div class="ttname"><a href="rgw__admin_8cc.html#a47785697389493a3eba737404eaab01b">set_quota_info</a></div><div class="ttdeci">void set_quota_info(RGWQuotaInfo &amp;quota, OPT opt_cmd, int64_t max_size, int64_t max_objects, bool have_max_size, bool have_max_objects)</div><div class="ttdef"><b>Definition</b> <a href="rgw__admin_8cc_source.html#l01348">rgw_admin.cc:1348</a></div></div>
<div class="ttc" id="argw__admin_8cc_html_a4c2860d7471eb587fb90ca562186b7f7"><div class="ttname"><a href="rgw__admin_8cc.html#a4c2860d7471eb587fb90ca562186b7f7">init_bucket_for_sync</a></div><div class="ttdeci">static int init_bucket_for_sync(rgw::sal::User *user, const string &amp;tenant, const string &amp;bucket_name, const string &amp;bucket_id, std::unique_ptr&lt; rgw::sal::Bucket &gt; *bucket)</div><div class="ttdef"><b>Definition</b> <a href="rgw__admin_8cc_source.html#l02015">rgw_admin.cc:2015</a></div></div>
<div class="ttc" id="argw__admin_8cc_html_a4dd5fe9ff30e3225bca7a06c01dde2bd"><div class="ttname"><a href="rgw__admin_8cc.html#a4dd5fe9ff30e3225bca7a06c01dde2bd">update_period</a></div><div class="ttdeci">static int update_period(const string &amp;realm_id, const string &amp;realm_name, const string &amp;period_id, const string &amp;period_epoch, bool commit, const string &amp;remote, const string &amp;url, std::optional&lt; string &gt; opt_region, const string &amp;access, const string &amp;secret, Formatter *formatter, bool force)</div><div class="ttdef"><b>Definition</b> <a href="rgw__admin_8cc_source.html#l01968">rgw_admin.cc:1968</a></div></div>
<div class="ttc" id="argw__admin_8cc_html_a5e69901da81978961356b5eed1955990"><div class="ttname"><a href="rgw__admin_8cc.html#a5e69901da81978961356b5eed1955990">cmd_aliases</a></div><div class="ttdeci">static SimpleCmd::Aliases cmd_aliases</div><div class="ttdef"><b>Definition</b> <a href="rgw__admin_8cc_source.html#l01048">rgw_admin.cc:1048</a></div></div>
<div class="ttc" id="argw__admin_8cc_html_a693377846b7628a32c724cf0200e5a9e"><div class="ttname"><a href="rgw__admin_8cc.html#a693377846b7628a32c724cf0200e5a9e">do_period_pull</a></div><div class="ttdeci">static int do_period_pull(RGWRESTConn *remote_conn, const string &amp;url, std::optional&lt; string &gt; opt_region, const string &amp;access_key, const string &amp;secret_key, const string &amp;realm_id, const string &amp;realm_name, const string &amp;period_id, const string &amp;period_epoch, RGWPeriod *period)</div><div class="ttdef"><b>Definition</b> <a href="rgw__admin_8cc_source.html#l02029">rgw_admin.cc:2029</a></div></div>
<div class="ttc" id="argw__admin_8cc_html_a7768f24487752988851b23b71c20024f"><div class="ttname"><a href="rgw__admin_8cc.html#a7768f24487752988851b23b71c20024f">empty_opt</a></div><div class="ttdeci">static bool empty_opt(std::optional&lt; string &gt; &amp;os)</div><div class="ttdef"><b>Definition</b> <a href="rgw__admin_8cc_source.html#l03351">rgw_admin.cc:3351</a></div></div>
<div class="ttc" id="argw__admin_8cc_html_a78fd52ad2c196db029e40a44eebaa75c"><div class="ttname"><a href="rgw__admin_8cc.html#a78fd52ad2c196db029e40a44eebaa75c">require_non_empty_opt</a></div><div class="ttdeci">static bool require_non_empty_opt(std::optional&lt; T &gt; opt, bool extra_check=true)</div><div class="ttdef"><b>Definition</b> <a href="rgw__admin_8cc_source.html#l03044">rgw_admin.cc:3044</a></div></div>
<div class="ttc" id="argw__admin_8cc_html_a7987767bde42cfaa2fbc443042879153"><div class="ttname"><a href="rgw__admin_8cc.html#a7987767bde42cfaa2fbc443042879153">do_check_object_locator</a></div><div class="ttdeci">int do_check_object_locator(const string &amp;tenant_name, const string &amp;bucket_name, bool fix, bool remove_bad, Formatter *f)</div><div class="ttdef"><b>Definition</b> <a href="rgw__admin_8cc_source.html#l01690">rgw_admin.cc:1690</a></div></div>
<div class="ttc" id="argw__admin_8cc_html_a925d03f534fd8c7fe90e906e741a925b"><div class="ttname"><a href="rgw__admin_8cc.html#a925d03f534fd8c7fe90e906e741a925b">read_current_period_id</a></div><div class="ttdeci">static int read_current_period_id(rgw::sal::RadosStore *store, const std::string &amp;realm_id, const std::string &amp;realm_name, std::string *period_id)</div><div class="ttdef"><b>Definition</b> <a href="rgw__admin_8cc_source.html#l02079">rgw_admin.cc:2079</a></div></div>
<div class="ttc" id="argw__admin_8cc_html_a9a0d9e9a1fa47ab694cdf7f78d2f7112"><div class="ttname"><a href="rgw__admin_8cc.html#a9a0d9e9a1fa47ab694cdf7f78d2f7112">zone_ids_from_str</a></div><div class="ttdeci">static vector&lt; rgw_zone_id &gt; zone_ids_from_str(const string &amp;val)</div><div class="ttdef"><b>Definition</b> <a href="rgw__admin_8cc_source.html#l03183">rgw_admin.cc:3183</a></div></div>
<div class="ttc" id="argw__admin_8cc_html_aa0ae86aa3d2a507ff84e752fea20f39d"><div class="ttname"><a href="rgw__admin_8cc.html#aa0ae86aa3d2a507ff84e752fea20f39d">CHECK_TRUE</a></div><div class="ttdeci">#define CHECK_TRUE(x, msg, err)</div><div class="ttdef"><b>Definition</b> <a href="rgw__admin_8cc_source.html#l00091">rgw_admin.cc:91</a></div></div>
<div class="ttc" id="argw__admin_8cc_html_aa274fe37d51829df1fbc452da59dfdfa"><div class="ttname"><a href="rgw__admin_8cc.html#aa274fe37d51829df1fbc452da59dfdfa">check_min_obj_stripe_size</a></div><div class="ttdeci">int check_min_obj_stripe_size(rgw::sal::Store *store, rgw::sal::Object *obj, uint64_t min_stripe_size, bool *need_rewrite)</div><div class="ttdef"><b>Definition</b> <a href="rgw__admin_8cc_source.html#l01577">rgw_admin.cc:1577</a></div></div>
<div class="ttc" id="argw__admin_8cc_html_aa84c5ba46881dc6ab82e752f5864a5d6"><div class="ttname"><a href="rgw__admin_8cc.html#aa84c5ba46881dc6ab82e752f5864a5d6">commit_period</a></div><div class="ttdeci">static int commit_period(RGWRealm &amp;realm, RGWPeriod &amp;period, string remote, const string &amp;url, std::optional&lt; string &gt; opt_region, const string &amp;access, const string &amp;secret, bool force)</div><div class="ttdef"><b>Definition</b> <a href="rgw__admin_8cc_source.html#l01860">rgw_admin.cc:1860</a></div></div>
<div class="ttc" id="argw__admin_8cc_html_aaac958120d2ef3eda1862455254121e9"><div class="ttname"><a href="rgw__admin_8cc.html#aaac958120d2ef3eda1862455254121e9">all_cmds</a></div><div class="ttdeci">static SimpleCmd::Commands all_cmds</div><div class="ttdef"><b>Definition</b> <a href="rgw__admin_8cc_source.html#l00823">rgw_admin.cc:823</a></div></div>
<div class="ttc" id="argw__admin_8cc_html_ab8cce19268215080781572ed7419e6be"><div class="ttname"><a href="rgw__admin_8cc.html#ab8cce19268215080781572ed7419e6be">symmetrical_flow_opt</a></div><div class="ttdeci">static bool symmetrical_flow_opt(const string &amp;opt)</div><div class="ttdef"><b>Definition</b> <a href="rgw__admin_8cc_source.html#l03024">rgw_admin.cc:3024</a></div></div>
<div class="ttc" id="argw__admin_8cc_html_ab91eb7d099ca1e0e21208450550a3a1a"><div class="ttname"><a href="rgw__admin_8cc.html#ab91eb7d099ca1e0e21208450550a3a1a">send_to_url</a></div><div class="ttdeci">static int send_to_url(const string &amp;url, std::optional&lt; string &gt; opt_region, const string &amp;access, const string &amp;secret, req_info &amp;info, bufferlist &amp;in_data, JSONParser &amp;parser)</div><div class="ttdef"><b>Definition</b> <a href="rgw__admin_8cc_source.html#l01820">rgw_admin.cc:1820</a></div></div>
<div class="ttc" id="argw__admin_8cc_html_abb0b9c6525eea74a787a3148b40ac040"><div class="ttname"><a href="rgw__admin_8cc.html#abb0b9c6525eea74a787a3148b40ac040">init_realm_param</a></div><div class="ttdeci">void init_realm_param(CephContext *cct, string &amp;var, std::optional&lt; string &gt; &amp;opt_var, const string &amp;conf_name)</div><div class="ttdef"><b>Definition</b> <a href="rgw__admin_8cc_source.html#l03361">rgw_admin.cc:3361</a></div></div>
<div class="ttc" id="argw__admin_8cc_html_abb9e0ffbf36a71fe5f3a9320495c0228"><div class="ttname"><a href="rgw__admin_8cc.html#abb9e0ffbf36a71fe5f3a9320495c0228">set_ratelimit_info</a></div><div class="ttdeci">bool set_ratelimit_info(RGWRateLimitInfo &amp;ratelimit, OPT opt_cmd, int64_t max_read_ops, int64_t max_write_ops, int64_t max_read_bytes, int64_t max_write_bytes, bool have_max_read_ops, bool have_max_write_ops, bool have_max_read_bytes, bool have_max_write_bytes)</div><div class="ttdef"><b>Definition</b> <a href="rgw__admin_8cc_source.html#l01298">rgw_admin.cc:1298</a></div></div>
<div class="ttc" id="argw__admin_8cc_html_abce7136ad4dc905a78f722a66b7b6b4c"><div class="ttname"><a href="rgw__admin_8cc.html#abce7136ad4dc905a78f722a66b7b6b4c">check_reshard_bucket_params</a></div><div class="ttdeci">int check_reshard_bucket_params(rgw::sal::RadosStore *store, const string &amp;bucket_name, const string &amp;tenant, const string &amp;bucket_id, bool num_shards_specified, int num_shards, int yes_i_really_mean_it, std::unique_ptr&lt; rgw::sal::Bucket &gt; *bucket)</div><div class="ttdef"><b>Definition</b> <a href="rgw__admin_8cc_source.html#l02902">rgw_admin.cc:2902</a></div></div>
<div class="ttc" id="argw__admin_8cc_html_abfa871472fdef30cd489d5795df05b4d"><div class="ttname"><a href="rgw__admin_8cc.html#abfa871472fdef30cd489d5795df05b4d">sync_info</a></div><div class="ttdeci">static int sync_info(std::optional&lt; rgw_zone_id &gt; opt_target_zone, std::optional&lt; rgw_bucket &gt; opt_bucket, Formatter *formatter)</div><div class="ttdef"><b>Definition</b> <a href="rgw__admin_8cc_source.html#l02618">rgw_admin.cc:2618</a></div></div>
<div class="ttc" id="argw__admin_8cc_html_ac0f52a9c50ded977fa7b5273f6797c80"><div class="ttname"><a href="rgw__admin_8cc.html#ac0f52a9c50ded977fa7b5273f6797c80">show_policy_names</a></div><div class="ttdeci">static void show_policy_names(std::vector&lt; string &gt; policy_names, Formatter *formatter)</div><div class="ttdef"><b>Definition</b> <a href="rgw__admin_8cc_source.html#l01116">rgw_admin.cc:1116</a></div></div>
<div class="ttc" id="argw__admin_8cc_html_ac7ecfff67d5f6ace5a2144c93d8a7d77"><div class="ttname"><a href="rgw__admin_8cc.html#ac7ecfff67d5f6ace5a2144c93d8a7d77">set_bucket_ratelimit</a></div><div class="ttdeci">int set_bucket_ratelimit(rgw::sal::Store *store, OPT opt_cmd, const string &amp;tenant_name, const string &amp;bucket_name, int64_t max_read_ops, int64_t max_write_ops, int64_t max_read_bytes, int64_t max_write_bytes, bool have_max_read_ops, bool have_max_write_ops, bool have_max_read_bytes, bool have_max_write_bytes)</div><div class="ttdef"><b>Definition</b> <a href="rgw__admin_8cc_source.html#l01406">rgw_admin.cc:1406</a></div></div>
<div class="ttc" id="argw__admin_8cc_html_acdcb0d724bb4768b0809eb0f78cd4ab4"><div class="ttname"><a href="rgw__admin_8cc.html#acdcb0d724bb4768b0809eb0f78cd4ab4">set_user_ratelimit</a></div><div class="ttdeci">int set_user_ratelimit(OPT opt_cmd, std::unique_ptr&lt; rgw::sal::User &gt; &amp;user, int64_t max_read_ops, int64_t max_write_ops, int64_t max_read_bytes, int64_t max_write_bytes, bool have_max_read_ops, bool have_max_write_ops, bool have_max_read_bytes, bool have_max_write_bytes)</div><div class="ttdef"><b>Definition</b> <a href="rgw__admin_8cc_source.html#l01451">rgw_admin.cc:1451</a></div></div>
<div class="ttc" id="argw__admin_8cc_html_ace6270a6fc80e9fce3cef9c397606b5f"><div class="ttname"><a href="rgw__admin_8cc.html#ace6270a6fc80e9fce3cef9c397606b5f">show_reshard_status</a></div><div class="ttdeci">static void show_reshard_status(const list&lt; cls_rgw_bucket_instance_entry &gt; &amp;status, Formatter *formatter)</div><div class="ttdef"><b>Definition</b> <a href="rgw__admin_8cc_source.html#l01146">rgw_admin.cc:1146</a></div></div>
<div class="ttc" id="argw__admin_8cc_html_ad022d09f3c832e077f6ac44f47d513c3"><div class="ttname"><a href="rgw__admin_8cc.html#ad022d09f3c832e077f6ac44f47d513c3">DEFAULT_RESHARD_MAX_ENTRIES</a></div><div class="ttdeci">#define DEFAULT_RESHARD_MAX_ENTRIES</div></div>
<div class="ttc" id="argw__admin_8cc_html_ad26c9d112620dc11a0857551803dd990"><div class="ttname"><a href="rgw__admin_8cc.html#ad26c9d112620dc11a0857551803dd990">scan_totp</a></div><div class="ttdeci">static int scan_totp(CephContext *cct, ceph::real_time &amp;now, rados::cls::otp::otp_info_t &amp;totp, vector&lt; string &gt; &amp;pins, time_t *pofs)</div><div class="ttdef"><b>Definition</b> <a href="rgw__admin_8cc_source.html#l02954">rgw_admin.cc:2954</a></div></div>
<div class="ttc" id="argw__admin_8cc_html_ad4505e23f8adf8af749407b1b8edede4"><div class="ttname"><a href="rgw__admin_8cc.html#ad4505e23f8adf8af749407b1b8edede4">show_role_info</a></div><div class="ttdeci">static void show_role_info(rgw::sal::RGWRole *role, Formatter *formatter)</div><div class="ttdef"><b>Definition</b> <a href="rgw__admin_8cc_source.html#l01126">rgw_admin.cc:1126</a></div></div>
<div class="ttc" id="argw__admin_8cc_html_adacb41248cf30097cf288bb44a093923"><div class="ttname"><a href="rgw__admin_8cc.html#adacb41248cf30097cf288bb44a093923">set_bucket_quota</a></div><div class="ttdeci">int set_bucket_quota(rgw::sal::Store *store, OPT opt_cmd, const string &amp;tenant_name, const string &amp;bucket_name, int64_t max_size, int64_t max_objects, bool have_max_size, bool have_max_objects)</div><div class="ttdef"><b>Definition</b> <a href="rgw__admin_8cc_source.html#l01384">rgw_admin.cc:1384</a></div></div>
<div class="ttc" id="argw__admin_8cc_html_adbb575f10b45b26660cb6ce9931cce22"><div class="ttname"><a href="rgw__admin_8cc.html#adbb575f10b45b26660cb6ce9931cce22">show_perm_policy</a></div><div class="ttdeci">static void show_perm_policy(string perm_policy, Formatter *formatter)</div><div class="ttdef"><b>Definition</b> <a href="rgw__admin_8cc_source.html#l01108">rgw_admin.cc:1108</a></div></div>
<div class="ttc" id="argw__admin_8cc_html_ae20a7c4c3a4d5f2419cb34c2fc4c9a87"><div class="ttname"><a href="rgw__admin_8cc.html#ae20a7c4c3a4d5f2419cb34c2fc4c9a87">directional_flow_opt</a></div><div class="ttdeci">static bool directional_flow_opt(const string &amp;opt)</div><div class="ttdef"><b>Definition</b> <a href="rgw__admin_8cc_source.html#l03029">rgw_admin.cc:3029</a></div></div>
<div class="ttc" id="argw__admin_8cc_html_ae9f99b955c6202f51e4bfbe8751008f4"><div class="ttname"><a href="rgw__admin_8cc.html#ae9f99b955c6202f51e4bfbe8751008f4">MAX_LC_LIST_ENTRIES</a></div><div class="ttdeci">#define MAX_LC_LIST_ENTRIES</div></div>
<div class="ttc" id="argw__admin_8cc_html_aeb16ac40eaa88d8f9aaf0b2def2fe2fb"><div class="ttname"><a href="rgw__admin_8cc.html#aeb16ac40eaa88d8f9aaf0b2def2fe2fb">set_user_bucket_quota</a></div><div class="ttdeci">int set_user_bucket_quota(OPT opt_cmd, RGWUser &amp;user, RGWUserAdminOpState &amp;op_state, int64_t max_size, int64_t max_objects, bool have_max_size, bool have_max_objects)</div><div class="ttdef"><b>Definition</b> <a href="rgw__admin_8cc_source.html#l01541">rgw_admin.cc:1541</a></div></div>
<div class="ttc" id="argw__admin_8cc_html_af18d4697640ec840e1bf2fd7e9d30953"><div class="ttname"><a href="rgw__admin_8cc.html#af18d4697640ec840e1bf2fd7e9d30953">show_bucket_ratelimit</a></div><div class="ttdeci">int show_bucket_ratelimit(rgw::sal::Store *store, const string &amp;tenant_name, const string &amp;bucket_name, Formatter *formatter)</div><div class="ttdef"><b>Definition</b> <a href="rgw__admin_8cc_source.html#l01513">rgw_admin.cc:1513</a></div></div>
<div class="ttc" id="argw__admin_8cc_html_af3323dd65d10e63b537ecff33a279fdf"><div class="ttname"><a href="rgw__admin_8cc.html#af3323dd65d10e63b537ecff33a279fdf">parse_tier_config_param</a></div><div class="ttdeci">static void parse_tier_config_param(const string &amp;s, map&lt; string, string, ltstr_nocase &gt; &amp;out)</div><div class="ttdef"><b>Definition</b> <a href="rgw__admin_8cc_source.html#l02850">rgw_admin.cc:2850</a></div></div>
<div class="ttc" id="argw__admin_8cc_html_af79477a91589c6c856ba9fa2b608e52d"><div class="ttname"><a href="rgw__admin_8cc.html#af79477a91589c6c856ba9fa2b608e52d">init_optional_bucket</a></div><div class="ttdeci">void init_optional_bucket(std::optional&lt; rgw_bucket &gt; &amp;opt_bucket, std::optional&lt; string &gt; &amp;opt_tenant, std::optional&lt; string &gt; &amp;opt_bucket_name, std::optional&lt; string &gt; &amp;opt_bucket_id)</div><div class="ttdef"><b>Definition</b> <a href="rgw__admin_8cc_source.html#l03062">rgw_admin.cc:3062</a></div></div>
<div class="ttc" id="argw__admin_8cc_html_af867f986d76240a18da3b037d41d742c"><div class="ttname"><a href="rgw__admin_8cc.html#af867f986d76240a18da3b037d41d742c">dump_string</a></div><div class="ttdeci">static bool dump_string(const char *field_name, bufferlist &amp;bl, Formatter *f)</div><div class="ttdef"><b>Definition</b> <a href="rgw__admin_8cc_source.html#l01290">rgw_admin.cc:1290</a></div></div>
<div class="ttc" id="argw__admin_8cc_html_afddd1cc4dd7fba052586690f4af8a601"><div class="ttname"><a href="rgw__admin_8cc.html#afddd1cc4dd7fba052586690f4af8a601">show_user_info</a></div><div class="ttdeci">static void show_user_info(RGWUserInfo &amp;info, Formatter *formatter)</div><div class="ttdef"><b>Definition</b> <a href="rgw__admin_8cc_source.html#l01101">rgw_admin.cc:1101</a></div></div>
<div class="ttc" id="argw__bucket_8cc_html_a1d7fea81f32bb284c17954156a4d3c76"><div class="ttname"><a href="rgw__bucket_8cc.html#a1d7fea81f32bb284c17954156a4d3c76">rgw_find_bucket_by_id</a></div><div class="ttdeci">bool rgw_find_bucket_by_id(const DoutPrefixProvider *dpp, CephContext *cct, rgw::sal::Store *store, const string &amp;marker, const string &amp;bucket_id, rgw_bucket *bucket_out)</div><div class="ttdef"><b>Definition</b> <a href="rgw__bucket_8cc_source.html#l00387">rgw_bucket.cc:387</a></div></div>
<div class="ttc" id="argw__bucket_8cc_html_a8735d4afd71679718d85762ef4d135b0"><div class="ttname"><a href="rgw__bucket_8cc.html#a8735d4afd71679718d85762ef4d135b0">rgw_remove_object</a></div><div class="ttdeci">int rgw_remove_object(const DoutPrefixProvider *dpp, rgw::sal::Store *store, rgw::sal::Bucket *bucket, rgw_obj_key &amp;key)</div><div class="ttdef"><b>Definition</b> <a href="rgw__bucket_8cc_source.html#l00321">rgw_bucket.cc:321</a></div></div>
<div class="ttc" id="argw__bucket_8cc_html_ab5abdb1c9b803330f39b5968c6522820"><div class="ttname"><a href="rgw__bucket_8cc.html#ab5abdb1c9b803330f39b5968c6522820">check_bad_user_bucket_mapping</a></div><div class="ttdeci">void check_bad_user_bucket_mapping(rgw::sal::Store *store, rgw::sal::User &amp;user, bool fix, optional_yield y, const DoutPrefixProvider *dpp)</div><div class="ttdef"><b>Definition</b> <a href="rgw__bucket_8cc_source.html#l00260">rgw_bucket.cc:260</a></div></div>
<div class="ttc" id="argw__bucket_8cc_html_afef9f634dd964affbd00a8d0f73eb000"><div class="ttname"><a href="rgw__bucket_8cc.html#afef9f634dd964affbd00a8d0f73eb000">rgw_bucket_object_check_filter</a></div><div class="ttdeci">bool rgw_bucket_object_check_filter(const std::string &amp;oid)</div><div class="ttdef"><b>Definition</b> <a href="rgw__bucket_8cc_source.html#l00314">rgw_bucket.cc:314</a></div></div>
<div class="ttc" id="argw__common_8cc_html_a74268496b85bc5523143be596c98aaa2"><div class="ttname"><a href="rgw__common_8cc.html#a74268496b85bc5523143be596c98aaa2">rgw_parse_op_type_list</a></div><div class="ttdeci">int rgw_parse_op_type_list(const string &amp;str, uint32_t *perm)</div><div class="ttdef"><b>Definition</b> <a href="rgw__common_8cc_source.html#l02126">rgw_common.cc:2126</a></div></div>
<div class="ttc" id="argw__common_8cc_html_a8cd593f78844d5c2abb9a38c8cb3626a"><div class="ttname"><a href="rgw__common_8cc.html#a8cd593f78844d5c2abb9a38c8cb3626a">rgw_str_to_perm</a></div><div class="ttdeci">uint32_t rgw_str_to_perm(const char *str)</div><div class="ttdef"><b>Definition</b> <a href="rgw__common_8cc_source.html#l02627">rgw_common.cc:2627</a></div></div>
<div class="ttc" id="argw__common_8h_html_a2698dd0774e4e70329180f5e1de7f7da"><div class="ttname"><a href="rgw__common_8h.html#a2698dd0774e4e70329180f5e1de7f7da">RGW_ATTR_COMPRESSION</a></div><div class="ttdeci">#define RGW_ATTR_COMPRESSION</div><div class="ttdef"><b>Definition</b> <a href="rgw__common_8h_source.html#l00128">rgw_common.h:128</a></div></div>
<div class="ttc" id="argw__common_8h_html_a3cbfb25efdb29ff9c61231af91f84fa8"><div class="ttname"><a href="rgw__common_8h.html#a3cbfb25efdb29ff9c61231af91f84fa8">RGW_ATTR_ID_TAG</a></div><div class="ttdeci">#define RGW_ATTR_ID_TAG</div><div class="ttdef"><b>Definition</b> <a href="rgw__common_8h_source.html#l00084">rgw_common.h:84</a></div></div>
<div class="ttc" id="argw__common_8h_html_a4a95f97ed31b39286a86480bece78a63"><div class="ttname"><a href="rgw__common_8h.html#a4a95f97ed31b39286a86480bece78a63">RGWAccessHandle</a></div><div class="ttdeci">void * RGWAccessHandle</div><div class="ttdef"><b>Definition</b> <a href="rgw__common_8h_source.html#l00284">rgw_common.h:284</a></div></div>
<div class="ttc" id="argw__common_8h_html_a5b5625986263eef4cf79a0efdcfae436"><div class="ttname"><a href="rgw__common_8h.html#a5b5625986263eef4cf79a0efdcfae436">RGW_ATTR_DELETE_AT</a></div><div class="ttdeci">#define RGW_ATTR_DELETE_AT</div><div class="ttdef"><b>Definition</b> <a href="rgw__common_8h_source.html#l00083">rgw_common.h:83</a></div></div>
<div class="ttc" id="argw__common_8h_html_a7020478e92d985c3f78e2ae9e5481f0a"><div class="ttname"><a href="rgw__common_8h.html#a7020478e92d985c3f78e2ae9e5481f0a">rgw_obj_index_key</a></div><div class="ttdeci">cls_rgw_obj_key rgw_obj_index_key</div><div class="ttdef"><b>Definition</b> <a href="rgw__common_8h_source.html#l01246">rgw_common.h:1246</a></div></div>
<div class="ttc" id="argw__common_8h_html_a7f53e4298c577378477ce3009f21c769"><div class="ttname"><a href="rgw__common_8h.html#a7f53e4298c577378477ce3009f21c769">RGW_ATTR_LC</a></div><div class="ttdeci">#define RGW_ATTR_LC</div><div class="ttdef"><b>Definition</b> <a href="rgw__common_8h_source.html#l00072">rgw_common.h:72</a></div></div>
<div class="ttc" id="argw__common_8h_html_a83c5a5cf21542d8d58d10798891265a5"><div class="ttname"><a href="rgw__common_8h.html#a83c5a5cf21542d8d58d10798891265a5">ERR_INVALID_TENANT_NAME</a></div><div class="ttdeci">#define ERR_INVALID_TENANT_NAME</div><div class="ttdef"><b>Definition</b> <a href="rgw__common_8h_source.html#l00231">rgw_common.h:231</a></div></div>
<div class="ttc" id="argw__common_8h_html_ac9a37f7a4f4ad09bae48d3c752920758"><div class="ttname"><a href="rgw__common_8h.html#ac9a37f7a4f4ad09bae48d3c752920758">RGW_ATTR_ACL</a></div><div class="ttdeci">#define RGW_ATTR_ACL</div><div class="ttdef"><b>Definition</b> <a href="rgw__common_8h_source.html#l00070">rgw_common.h:70</a></div></div>
<div class="ttc" id="argw__common_8h_html_af7c58a0981432866d722813e5f64066a"><div class="ttname"><a href="rgw__common_8h.html#af7c58a0981432866d722813e5f64066a">RGW_ATTR_ETAG</a></div><div class="ttdeci">#define RGW_ATTR_ETAG</div><div class="ttdef"><b>Definition</b> <a href="rgw__common_8h_source.html#l00074">rgw_common.h:74</a></div></div>
<div class="ttc" id="argw__crypt_8cc_html_adde527b14a1813b09f5f168c2e92775caa2e4822a98337283e39f7b60acf85ec9"><div class="ttname"><a href="rgw__crypt_8cc.html#adde527b14a1813b09f5f168c2e92775caa2e4822a98337283e39f7b60acf85ec9">mec_option::empty</a></div><div class="ttdeci">@ empty</div></div>
<div class="ttc" id="argw__http__client_8cc_html_a99e7929435a1446aca9e7214927d4f54"><div class="ttname"><a href="rgw__http__client_8cc.html#a99e7929435a1446aca9e7214927d4f54">rgw_http_client_init</a></div><div class="ttdeci">void rgw_http_client_init(CephContext *cct)</div><div class="ttdef"><b>Definition</b> <a href="rgw__http__client_8cc_source.html#l01311">rgw_http_client.cc:1311</a></div></div>
<div class="ttc" id="argw__lc_8cc_html_a7981f16d8c4717d293b09db9dfd8dc58"><div class="ttname"><a href="rgw__lc_8cc.html#a7981f16d8c4717d293b09db9dfd8dc58">LC_STATUS</a></div><div class="ttdeci">const char * LC_STATUS[]</div><div class="ttdef"><b>Definition</b> <a href="rgw__lc_8cc_source.html#l00049">rgw_lc.cc:49</a></div></div>
<div class="ttc" id="argw__log_8cc_html_a3acc9edd02c915a7b5ffe4e340176045"><div class="ttname"><a href="rgw__log_8cc.html#a3acc9edd02c915a7b5ffe4e340176045">rgw_format_ops_log_entry</a></div><div class="ttdeci">void rgw_format_ops_log_entry(struct rgw_log_entry &amp;entry, Formatter *formatter)</div><div class="ttdef"><b>Definition</b> <a href="rgw__log_8cc_source.html#l00250">rgw_log.cc:250</a></div></div>
<div class="ttc" id="argw__mdlog__types_8h_html_af43317dbf8c164afb601da7ad1a76492ad18685bb9adcbb90ed2799b33beccd0f"><div class="ttname"><a href="rgw__mdlog__types_8h.html#af43317dbf8c164afb601da7ad1a76492ad18685bb9adcbb90ed2799b33beccd0f">MDLOG_STATUS_WRITE</a></div><div class="ttdeci">@ MDLOG_STATUS_WRITE</div><div class="ttdef"><b>Definition</b> <a href="rgw__mdlog__types_8h_source.html#l00029">rgw_mdlog_types.h:29</a></div></div>
<div class="ttc" id="argw__mdlog__types_8h_html_afdb3e20592f34bf99849a1cb2906ad09a6d6e31e749fd1c3a013f5c72bb6ed912"><div class="ttname"><a href="rgw__mdlog__types_8h.html#afdb3e20592f34bf99849a1cb2906ad09a6d6e31e749fd1c3a013f5c72bb6ed912">APPLY_ALWAYS</a></div><div class="ttdeci">@ APPLY_ALWAYS</div><div class="ttdef"><b>Definition</b> <a href="rgw__mdlog__types_8h_source.html#l00021">rgw_mdlog_types.h:21</a></div></div>
<div class="ttc" id="argw__sal_8h_html_a2a039ebea62bea24dff4df3905db41df"><div class="ttname"><a href="rgw__sal_8h.html#a2a039ebea62bea24dff4df3905db41df">RGWSyncModuleInstanceRef</a></div><div class="ttdeci">std::shared_ptr&lt; RGWSyncModuleInstance &gt; RGWSyncModuleInstanceRef</div><div class="ttdef"><b>Definition</b> <a href="rgw__sal_8h_source.html#l00039">rgw_sal.h:39</a></div></div>
<div class="ttc" id="argw__sync_8h_html_ac5f423d1a7806a5f3e8995fa874d51c4"><div class="ttname"><a href="rgw__sync_8h.html#ac5f423d1a7806a5f3e8995fa874d51c4">RGW_SYNC_ERROR_LOG_SHARD_PREFIX</a></div><div class="ttdeci">#define RGW_SYNC_ERROR_LOG_SHARD_PREFIX</div><div class="ttdef"><b>Definition</b> <a href="rgw__sync_8h_source.html#l00021">rgw_sync.h:21</a></div></div>
<div class="ttc" id="argw__sync_8h_html_ac8a60a8be2db5d0fddffd40fdba3399f"><div class="ttname"><a href="rgw__sync_8h.html#ac8a60a8be2db5d0fddffd40fdba3399f">ERROR_LOGGER_SHARDS</a></div><div class="ttdeci">#define ERROR_LOGGER_SHARDS</div><div class="ttdef"><b>Definition</b> <a href="rgw__sync_8h_source.html#l00020">rgw_sync.h:20</a></div></div>
<div class="ttc" id="argw__sync__checkpoint_8cc_html_aa1fa0f5bd4e808c295fa97226c7fb5ef"><div class="ttname"><a href="rgw__sync__checkpoint_8cc.html#aa1fa0f5bd4e808c295fa97226c7fb5ef">rgw_bucket_sync_checkpoint</a></div><div class="ttdeci">int rgw_bucket_sync_checkpoint(const DoutPrefixProvider *dpp, rgw::sal::RadosStore *store, const RGWBucketSyncPolicyHandler &amp;policy, const RGWBucketInfo &amp;info, std::optional&lt; rgw_zone_id &gt; opt_source_zone, std::optional&lt; rgw_bucket &gt; opt_source_bucket, ceph::timespan retry_delay, ceph::coarse_mono_time timeout_at)</div><div class="ttdef"><b>Definition</b> <a href="rgw__sync__checkpoint_8cc_source.html#l00149">rgw_sync_checkpoint.cc:149</a></div></div>
<div class="ttc" id="argw__tools_8h_html_a120c104c1c60ab76c39ca67df4da233f"><div class="ttname"><a href="rgw__tools_8h.html#a120c104c1c60ab76c39ca67df4da233f">RGW_NO_SHARD</a></div><div class="ttdeci">#define RGW_NO_SHARD</div><div class="ttdef"><b>Definition</b> <a href="rgw__tools_8h_source.html#l00035">rgw_tools.h:35</a></div></div>
<div class="ttc" id="argw__trim__datalog_8cc_html_a644c152fbaa7fa35f4ae23452777275a"><div class="ttname"><a href="rgw__trim__datalog_8cc.html#a644c152fbaa7fa35f4ae23452777275a">create_admin_data_log_trim_cr</a></div><div class="ttdeci">RGWCoroutine * create_admin_data_log_trim_cr(const DoutPrefixProvider *dpp, rgw::sal::RadosStore *store, RGWHTTPManager *http, int num_shards, std::vector&lt; std::string &gt; &amp;markers)</div><div class="ttdef"><b>Definition</b> <a href="rgw__trim__datalog_8cc_source.html#l00185">rgw_trim_datalog.cc:185</a></div></div>
<div class="ttc" id="argw__trim__mdlog_8cc_html_acff811680f80cfbf67cffcb87e7b4ec1"><div class="ttname"><a href="rgw__trim__mdlog_8cc.html#acff811680f80cfbf67cffcb87e7b4ec1">create_admin_meta_log_trim_cr</a></div><div class="ttdeci">RGWCoroutine * create_admin_meta_log_trim_cr(const DoutPrefixProvider *dpp, rgw::sal::RadosStore *store, RGWHTTPManager *http, int num_shards)</div><div class="ttdef"><b>Definition</b> <a href="rgw__trim__mdlog_8cc_source.html#l00743">rgw_trim_mdlog.cc:743</a></div></div>
<div class="ttc" id="argw__user_8cc_html_a0b7e6440cbb2ebcb943ea147021697a0"><div class="ttname"><a href="rgw__user_8cc.html#a0b7e6440cbb2ebcb943ea147021697a0">rgw_user_sync_all_stats</a></div><div class="ttdeci">int rgw_user_sync_all_stats(const DoutPrefixProvider *dpp, rgw::sal::Store *store, rgw::sal::User *user, optional_yield y)</div><div class="ttdef"><b>Definition</b> <a href="rgw__user_8cc_source.html#l00049">rgw_user.cc:49</a></div></div>
<div class="ttc" id="argw__user_8h_html_a58fd975b8b46e98348e859f0fc0eb868a31953ca249cd93e5f684714470db7bb0"><div class="ttname"><a href="rgw__user_8h.html#a58fd975b8b46e98348e859f0fc0eb868a31953ca249cd93e5f684714470db7bb0">KEY_TYPE_S3</a></div><div class="ttdeci">@ KEY_TYPE_S3</div><div class="ttdef"><b>Definition</b> <a href="rgw__user_8h_source.html#l00085">rgw_user.h:85</a></div></div>
<div class="ttc" id="argw__user_8h_html_a58fd975b8b46e98348e859f0fc0eb868a551ef80e7ab3976bd5c5fe2cbdbc3f6f"><div class="ttname"><a href="rgw__user_8h.html#a58fd975b8b46e98348e859f0fc0eb868a551ef80e7ab3976bd5c5fe2cbdbc3f6f">KEY_TYPE_SWIFT</a></div><div class="ttdeci">@ KEY_TYPE_SWIFT</div><div class="ttdef"><b>Definition</b> <a href="rgw__user_8h_source.html#l00084">rgw_user.h:84</a></div></div>
<div class="ttc" id="argw__user_8h_html_a58fd975b8b46e98348e859f0fc0eb868a74622046ed230e5463bd5840a622a1a7"><div class="ttname"><a href="rgw__user_8h.html#a58fd975b8b46e98348e859f0fc0eb868a74622046ed230e5463bd5840a622a1a7">KEY_TYPE_UNDEFINED</a></div><div class="ttdeci">@ KEY_TYPE_UNDEFINED</div><div class="ttdef"><b>Definition</b> <a href="rgw__user_8h_source.html#l00087">rgw_user.h:86</a></div></div>
<div class="ttc" id="astruct_r_g_w_access_key_html_a6c58c9a7d8ec2e863c266d74ed432d70"><div class="ttname"><a href="struct_r_g_w_access_key.html#a6c58c9a7d8ec2e863c266d74ed432d70">RGWAccessKey::key</a></div><div class="ttdeci">std::string key</div><div class="ttdef"><b>Definition</b> <a href="rgw__common_8h_source.html#l00480">rgw_common.h:480</a></div></div>
<div class="ttc" id="astruct_r_g_w_access_key_html_afc0fb2f1a8b33e7361e0221f4355c36b"><div class="ttname"><a href="struct_r_g_w_access_key.html#afc0fb2f1a8b33e7361e0221f4355c36b">RGWAccessKey::id</a></div><div class="ttdeci">std::string id</div><div class="ttdef"><b>Definition</b> <a href="rgw__common_8h_source.html#l00479">rgw_common.h:479</a></div></div>
<div class="ttc" id="astruct_r_g_w_bucket_admin_op_state_html"><div class="ttname"><a href="struct_r_g_w_bucket_admin_op_state.html">RGWBucketAdminOpState</a></div><div class="ttdef"><b>Definition</b> <a href="rgw__bucket_8h_source.html#l00239">rgw_bucket.h:239</a></div></div>
<div class="ttc" id="astruct_r_g_w_bucket_admin_op_state_html_a059ec3bac7c695c20c8c806b7acf691f"><div class="ttname"><a href="struct_r_g_w_bucket_admin_op_state.html#a059ec3bac7c695c20c8c806b7acf691f">RGWBucketAdminOpState::set_fetch_stats</a></div><div class="ttdeci">void set_fetch_stats(bool value)</div><div class="ttdef"><b>Definition</b> <a href="rgw__bucket_8h_source.html#l00261">rgw_bucket.h:261</a></div></div>
<div class="ttc" id="astruct_r_g_w_bucket_admin_op_state_html_a0a5c3bdb546c673c77e7231470b2129d"><div class="ttname"><a href="struct_r_g_w_bucket_admin_op_state.html#a0a5c3bdb546c673c77e7231470b2129d">RGWBucketAdminOpState::set_tenant</a></div><div class="ttdeci">void set_tenant(const std::string &amp;tenant_str)</div><div class="ttdef"><b>Definition</b> <a href="rgw__bucket_8h_source.html#l00272">rgw_bucket.h:272</a></div></div>
<div class="ttc" id="astruct_r_g_w_bucket_admin_op_state_html_a138dd0c60a11abf41e7ad07c437eb0f3"><div class="ttname"><a href="struct_r_g_w_bucket_admin_op_state.html#a138dd0c60a11abf41e7ad07c437eb0f3">RGWBucketAdminOpState::set_check_objects</a></div><div class="ttdeci">void set_check_objects(bool value)</div><div class="ttdef"><b>Definition</b> <a href="rgw__bucket_8h_source.html#l00262">rgw_bucket.h:262</a></div></div>
<div class="ttc" id="astruct_r_g_w_bucket_admin_op_state_html_a1bb3ad1228d3a129bd55ad61393e0ad9"><div class="ttname"><a href="struct_r_g_w_bucket_admin_op_state.html#a1bb3ad1228d3a129bd55ad61393e0ad9">RGWBucketAdminOpState::set_max_aio</a></div><div class="ttdeci">void set_max_aio(int value)</div><div class="ttdef"><b>Definition</b> <a href="rgw__bucket_8h_source.html#l00266">rgw_bucket.h:266</a></div></div>
<div class="ttc" id="astruct_r_g_w_bucket_admin_op_state_html_a3bbce2f4eaffec09a27fcc1b7b7029eb"><div class="ttname"><a href="struct_r_g_w_bucket_admin_op_state.html#a3bbce2f4eaffec09a27fcc1b7b7029eb">RGWBucketAdminOpState::set_bucket_name</a></div><div class="ttdeci">void set_bucket_name(const std::string &amp;bucket_str)</div><div class="ttdef"><b>Definition</b> <a href="rgw__bucket_8h_source.html#l00275">rgw_bucket.h:275</a></div></div>
<div class="ttc" id="astruct_r_g_w_bucket_admin_op_state_html_a426ad72a6c67f5cf781f5f995d969334"><div class="ttname"><a href="struct_r_g_w_bucket_admin_op_state.html#a426ad72a6c67f5cf781f5f995d969334">RGWBucketAdminOpState::set_sync_bucket</a></div><div class="ttdeci">void set_sync_bucket(bool value)</div><div class="ttdef"><b>Definition</b> <a href="rgw__bucket_8h_source.html#l00292">rgw_bucket.h:292</a></div></div>
<div class="ttc" id="astruct_r_g_w_bucket_admin_op_state_html_a524e1bb6006ef905c4ed16e84a78d30d"><div class="ttname"><a href="struct_r_g_w_bucket_admin_op_state.html#a524e1bb6006ef905c4ed16e84a78d30d">RGWBucketAdminOpState::set_delete_children</a></div><div class="ttdeci">void set_delete_children(bool value)</div><div class="ttdef"><b>Definition</b> <a href="rgw__bucket_8h_source.html#l00264">rgw_bucket.h:264</a></div></div>
<div class="ttc" id="astruct_r_g_w_bucket_admin_op_state_html_a52b9401ffb62a66e2c3156fed208719d"><div class="ttname"><a href="struct_r_g_w_bucket_admin_op_state.html#a52b9401ffb62a66e2c3156fed208719d">RGWBucketAdminOpState::set_new_bucket_name</a></div><div class="ttdeci">void set_new_bucket_name(std::string &amp;new_bucket_str)</div><div class="ttdef"><b>Definition</b> <a href="rgw__bucket_8h_source.html#l00281">rgw_bucket.h:281</a></div></div>
<div class="ttc" id="astruct_r_g_w_bucket_admin_op_state_html_a7af4d522462dedec9a83592dd483f9d8"><div class="ttname"><a href="struct_r_g_w_bucket_admin_op_state.html#a7af4d522462dedec9a83592dd483f9d8">RGWBucketAdminOpState::set_fix_index</a></div><div class="ttdeci">void set_fix_index(bool value)</div><div class="ttdef"><b>Definition</b> <a href="rgw__bucket_8h_source.html#l00263">rgw_bucket.h:263</a></div></div>
<div class="ttc" id="astruct_r_g_w_bucket_admin_op_state_html_a9c765ae4b3683bf03cb02da7c86ace55"><div class="ttname"><a href="struct_r_g_w_bucket_admin_op_state.html#a9c765ae4b3683bf03cb02da7c86ace55">RGWBucketAdminOpState::set_user_id</a></div><div class="ttdeci">void set_user_id(const rgw_user &amp;user_id)</div><div class="ttdef"><b>Definition</b> <a href="rgw__bucket_8h_source.html#l00268">rgw_bucket.h:268</a></div></div>
<div class="ttc" id="astruct_r_g_w_bucket_admin_op_state_html_ad24a7ab4b8687d501e371e323b7d7d07"><div class="ttname"><a href="struct_r_g_w_bucket_admin_op_state.html#ad24a7ab4b8687d501e371e323b7d7d07">RGWBucketAdminOpState::set_bucket_id</a></div><div class="ttdeci">void set_bucket_id(const std::string &amp;bi)</div><div class="ttdef"><b>Definition</b> <a href="rgw__bucket_8h_source.html#l00306">rgw_bucket.h:306</a></div></div>
<div class="ttc" id="astruct_r_g_w_bucket_admin_op_state_html_af06adc40d4c413f82ae5e73c581b9820"><div class="ttname"><a href="struct_r_g_w_bucket_admin_op_state.html#af06adc40d4c413f82ae5e73c581b9820">RGWBucketAdminOpState::set_object</a></div><div class="ttdeci">void set_object(std::string &amp;object_str)</div><div class="ttdef"><b>Definition</b> <a href="rgw__bucket_8h_source.html#l00278">rgw_bucket.h:278</a></div></div>
<div class="ttc" id="astruct_r_g_w_data_changes_log_info_html"><div class="ttname"><a href="struct_r_g_w_data_changes_log_info.html">RGWDataChangesLogInfo</a></div><div class="ttdef"><b>Definition</b> <a href="rgw__datalog_8h_source.html#l00106">rgw_datalog.h:106</a></div></div>
<div class="ttc" id="astruct_r_g_w_data_changes_log_marker_html"><div class="ttname"><a href="struct_r_g_w_data_changes_log_marker.html">RGWDataChangesLogMarker</a></div><div class="ttdef"><b>Definition</b> <a href="rgw__datalog_8h_source.html#l00114">rgw_datalog.h:114</a></div></div>
<div class="ttc" id="astruct_r_g_w_metadata_log_info_html"><div class="ttname"><a href="struct_r_g_w_metadata_log_info.html">RGWMetadataLogInfo</a></div><div class="ttdef"><b>Definition</b> <a href="rgw__mdlog_8h_source.html#l00028">rgw_mdlog.h:28</a></div></div>
<div class="ttc" id="astruct_r_g_w_o_l_h_info_html"><div class="ttname"><a href="struct_r_g_w_o_l_h_info.html">RGWOLHInfo</a></div><div class="ttdef"><b>Definition</b> <a href="rgw__rados_8h_source.html#l00097">rgw_rados.h:97</a></div></div>
<div class="ttc" id="astruct_r_g_w_obj_state_html"><div class="ttname"><a href="struct_r_g_w_obj_state.html">RGWObjState</a></div><div class="ttdef"><b>Definition</b> <a href="rgw__obj__manifest_8h_source.html#l00612">rgw_obj_manifest.h:612</a></div></div>
<div class="ttc" id="astruct_r_g_w_obj_version_tracker_html"><div class="ttname"><a href="struct_r_g_w_obj_version_tracker.html">RGWObjVersionTracker</a></div><div class="ttdef"><b>Definition</b> <a href="rgw__common_8h_source.html#l01004">rgw_common.h:1004</a></div></div>
<div class="ttc" id="astruct_r_g_w_orphan_search_info_html"><div class="ttname"><a href="struct_r_g_w_orphan_search_info.html">RGWOrphanSearchInfo</a></div><div class="ttdef"><b>Definition</b> <a href="rgw__orphan_8h_source.html#l00071">rgw_orphan.h:71</a></div></div>
<div class="ttc" id="astruct_r_g_w_orphan_search_info_html_a58b78f675e8169486c575e6beb8e4cc7"><div class="ttname"><a href="struct_r_g_w_orphan_search_info.html#a58b78f675e8169486c575e6beb8e4cc7">RGWOrphanSearchInfo::num_shards</a></div><div class="ttdeci">uint16_t num_shards</div><div class="ttdef"><b>Definition</b> <a href="rgw__orphan_8h_source.html#l00074">rgw_orphan.h:74</a></div></div>
<div class="ttc" id="astruct_r_g_w_orphan_search_info_html_aa0626bdc6280ad458a39337f98a1b199"><div class="ttname"><a href="struct_r_g_w_orphan_search_info.html#aa0626bdc6280ad458a39337f98a1b199">RGWOrphanSearchInfo::job_name</a></div><div class="ttdeci">std::string job_name</div><div class="ttdef"><b>Definition</b> <a href="rgw__orphan_8h_source.html#l00072">rgw_orphan.h:72</a></div></div>
<div class="ttc" id="astruct_r_g_w_orphan_search_info_html_aa08e48a197c1645193532a8fe579fc9f"><div class="ttname"><a href="struct_r_g_w_orphan_search_info.html#aa08e48a197c1645193532a8fe579fc9f">RGWOrphanSearchInfo::pool</a></div><div class="ttdeci">rgw_pool pool</div><div class="ttdef"><b>Definition</b> <a href="rgw__orphan_8h_source.html#l00073">rgw_orphan.h:73</a></div></div>
<div class="ttc" id="astruct_r_g_w_period_config_html"><div class="ttname"><a href="struct_r_g_w_period_config.html">RGWPeriodConfig</a></div><div class="ttdef"><b>Definition</b> <a href="rgw__zone_8h_source.html#l01032">rgw_zone.h:1033</a></div></div>
<div class="ttc" id="astruct_r_g_w_period_config_html_a0a88bf0485fd37baf40f6dc7d7e3ec40"><div class="ttname"><a href="struct_r_g_w_period_config.html#a0a88bf0485fd37baf40f6dc7d7e3ec40">RGWPeriodConfig::user_ratelimit</a></div><div class="ttdeci">RGWRateLimitInfo user_ratelimit</div><div class="ttdef"><b>Definition</b> <a href="rgw__zone_8h_source.html#l01036">rgw_zone.h:1036</a></div></div>
<div class="ttc" id="astruct_r_g_w_period_config_html_a128354bfe22b568e806308aeb4c97318"><div class="ttname"><a href="struct_r_g_w_period_config.html#a128354bfe22b568e806308aeb4c97318">RGWPeriodConfig::bucket_ratelimit</a></div><div class="ttdeci">RGWRateLimitInfo bucket_ratelimit</div><div class="ttdef"><b>Definition</b> <a href="rgw__zone_8h_source.html#l01037">rgw_zone.h:1037</a></div></div>
<div class="ttc" id="astruct_r_g_w_period_config_html_a1f8dfa16ce942937ff864ca28243f511"><div class="ttname"><a href="struct_r_g_w_period_config.html#a1f8dfa16ce942937ff864ca28243f511">RGWPeriodConfig::anon_ratelimit</a></div><div class="ttdeci">RGWRateLimitInfo anon_ratelimit</div><div class="ttdef"><b>Definition</b> <a href="rgw__zone_8h_source.html#l01039">rgw_zone.h:1039</a></div></div>
<div class="ttc" id="astruct_r_g_w_period_config_html_a5b691415ee5c66b16b412028814bfac8"><div class="ttname"><a href="struct_r_g_w_period_config.html#a5b691415ee5c66b16b412028814bfac8">RGWPeriodConfig::read</a></div><div class="ttdeci">int read(const DoutPrefixProvider *dpp, RGWSI_SysObj *sysobj_svc, const std::string &amp;realm_id, optional_yield y)</div><div class="ttdef"><b>Definition</b> <a href="rgw__zone_8cc_source.html#l00963">rgw_zone.cc:963</a></div></div>
<div class="ttc" id="astruct_r_g_w_period_config_html_a611b8462bba038a39aa6ad83093be670"><div class="ttname"><a href="struct_r_g_w_period_config.html#a611b8462bba038a39aa6ad83093be670">RGWPeriodConfig::user_quota</a></div><div class="ttdeci">RGWQuotaInfo user_quota</div><div class="ttdef"><b>Definition</b> <a href="rgw__zone_8h_source.html#l01035">rgw_zone.h:1035</a></div></div>
<div class="ttc" id="astruct_r_g_w_period_config_html_ab672b7ea4acf92ac20639cd743ae1e3a"><div class="ttname"><a href="struct_r_g_w_period_config.html#ab672b7ea4acf92ac20639cd743ae1e3a">RGWPeriodConfig::write</a></div><div class="ttdeci">int write(const DoutPrefixProvider *dpp, RGWSI_SysObj *sysobj_svc, const std::string &amp;realm_id, optional_yield y)</div><div class="ttdef"><b>Definition</b> <a href="rgw__zone_8cc_source.html#l00986">rgw_zone.cc:986</a></div></div>
<div class="ttc" id="astruct_r_g_w_period_config_html_adc006e520b4894981b76b005b1785745"><div class="ttname"><a href="struct_r_g_w_period_config.html#adc006e520b4894981b76b005b1785745">RGWPeriodConfig::bucket_quota</a></div><div class="ttdeci">RGWQuotaInfo bucket_quota</div><div class="ttdef"><b>Definition</b> <a href="rgw__zone_8h_source.html#l01034">rgw_zone.h:1034</a></div></div>
<div class="ttc" id="astruct_r_g_w_rados_1_1_bucket_shard_html"><div class="ttname"><a href="struct_r_g_w_rados_1_1_bucket_shard.html">RGWRados::BucketShard</a></div><div class="ttdef"><b>Definition</b> <a href="rgw__rados_8h_source.html#l00643">rgw_rados.h:643</a></div></div>
<div class="ttc" id="astruct_r_g_w_storage_stats_html"><div class="ttname"><a href="struct_r_g_w_storage_stats.html">RGWStorageStats</a></div><div class="ttdef"><b>Definition</b> <a href="rgw__common_8h_source.html#l01187">rgw_common.h:1188</a></div></div>
<div class="ttc" id="astruct_r_g_w_user_admin_op_state_html"><div class="ttname"><a href="struct_r_g_w_user_admin_op_state.html">RGWUserAdminOpState</a></div><div class="ttdef"><b>Definition</b> <a href="rgw__user_8h_source.html#l00105">rgw_user.h:105</a></div></div>
<div class="ttc" id="astruct_r_g_w_user_info_html"><div class="ttname"><a href="struct_r_g_w_user_info.html">RGWUserInfo</a></div><div class="ttdef"><b>Definition</b> <a href="rgw__common_8h_source.html#l00736">rgw_common.h:737</a></div></div>
<div class="ttc" id="astruct_r_g_w_user_info_html_a79c015ee09089be9ee83d1ab6fcc0067"><div class="ttname"><a href="struct_r_g_w_user_info.html#a79c015ee09089be9ee83d1ab6fcc0067">RGWUserInfo::mfa_ids</a></div><div class="ttdeci">std::set&lt; std::string &gt; mfa_ids</div><div class="ttdef"><b>Definition</b> <a href="rgw__common_8h_source.html#l00756">rgw_common.h:756</a></div></div>
<div class="ttc" id="astruct_r_g_w_zone_group_html_a108e6398565c872ff53e39d9eab78988"><div class="ttname"><a href="struct_r_g_w_zone_group.html#a108e6398565c872ff53e39d9eab78988">RGWZoneGroup::master_zone</a></div><div class="ttdeci">rgw_zone_id master_zone</div><div class="ttdef"><b>Definition</b> <a href="rgw__zone_8h_source.html#l00882">rgw_zone.h:882</a></div></div>
<div class="ttc" id="astruct_r_g_w_zone_group_html_a1e5ebc12a1a4e2403c0b2983abfc9ed4"><div class="ttname"><a href="struct_r_g_w_zone_group.html#a1e5ebc12a1a4e2403c0b2983abfc9ed4">RGWZoneGroup::read_default_id</a></div><div class="ttdeci">int read_default_id(const DoutPrefixProvider *dpp, std::string &amp;default_id, optional_yield y, bool old_format=false) override</div><div class="ttdef"><b>Definition</b> <a href="rgw__zone_8cc_source.html#l00341">rgw_zone.cc:341</a></div></div>
<div class="ttc" id="astruct_r_g_w_zone_group_html_a2a813fd7041d774595576f9221315c7f"><div class="ttname"><a href="struct_r_g_w_zone_group.html#a2a813fd7041d774595576f9221315c7f">RGWZoneGroup::set_as_default</a></div><div class="ttdeci">int set_as_default(const DoutPrefixProvider *dpp, optional_yield y, bool exclusive=false) override</div><div class="ttdef"><b>Definition</b> <a href="rgw__zone_8cc_source.html#l00358">rgw_zone.cc:358</a></div></div>
<div class="ttc" id="astruct_r_g_w_zone_group_html_a8ad68e561ebbb8b2409f23ea91b1b2cb"><div class="ttname"><a href="struct_r_g_w_zone_group.html#a8ad68e561ebbb8b2409f23ea91b1b2cb">RGWZoneGroup::rename_zone</a></div><div class="ttdeci">int rename_zone(const DoutPrefixProvider *dpp, const RGWZoneParams &amp;zone_params, optional_yield y)</div><div class="ttdef"><b>Definition</b> <a href="rgw__zone_8cc_source.html#l00278">rgw_zone.cc:278</a></div></div>
<div class="ttc" id="astruct_r_g_w_zone_group_html_a906a88c47910e467ca19aba0c97c0cb2"><div class="ttname"><a href="struct_r_g_w_zone_group.html#a906a88c47910e467ca19aba0c97c0cb2">RGWZoneGroup::remove_zone</a></div><div class="ttdeci">int remove_zone(const DoutPrefixProvider *dpp, const std::string &amp;zone_id, optional_yield y)</div><div class="ttdef"><b>Definition</b> <a href="rgw__zone_8cc_source.html#l00325">rgw_zone.cc:325</a></div></div>
<div class="ttc" id="astruct_r_g_w_zone_group_html_aa90bd8c3e48f6c8ec8c1224f25ed0c13"><div class="ttname"><a href="struct_r_g_w_zone_group.html#aa90bd8c3e48f6c8ec8c1224f25ed0c13">RGWZoneGroup::placement_targets</a></div><div class="ttdeci">std::map&lt; std::string, RGWZoneGroupPlacementTarget &gt; placement_targets</div><div class="ttdef"><b>Definition</b> <a href="rgw__zone_8h_source.html#l00885">rgw_zone.h:885</a></div></div>
<div class="ttc" id="astruct_r_g_w_zone_group_html_aac075750ea26510b0685dc7410c8330c"><div class="ttname"><a href="struct_r_g_w_zone_group.html#aac075750ea26510b0685dc7410c8330c">RGWZoneGroup::add_zone</a></div><div class="ttdeci">int add_zone(const DoutPrefixProvider *dpp, const RGWZoneParams &amp;zone_params, bool *is_master, bool *read_only, const std::list&lt; std::string &gt; &amp;endpoints, const std::string *ptier_type, bool *psync_from_all, std::list&lt; std::string &gt; &amp;sync_from, std::list&lt; std::string &gt; &amp;sync_from_rm, std::string *predirect_zone, std::optional&lt; int &gt; bucket_index_max_shards, RGWSyncModulesManager *sync_mgr, optional_yield y)</div><div class="ttdef"><b>Definition</b> <a href="rgw__zone_8cc_source.html#l00199">rgw_zone.cc:199</a></div></div>
<div class="ttc" id="astruct_r_g_w_zone_group_html_ab1ad8d122bba341c6cdbf9f89d2d2c29"><div class="ttname"><a href="struct_r_g_w_zone_group.html#ab1ad8d122bba341c6cdbf9f89d2d2c29">RGWZoneGroup::update_master</a></div><div class="ttdeci">void update_master(const DoutPrefixProvider *dpp, bool _is_master, optional_yield y)</div><div class="ttdef"><b>Definition</b> <a href="rgw__zone_8h_source.html#l00920">rgw_zone.h:920</a></div></div>
<div class="ttc" id="astruct_r_g_w_zone_group_html_ae70064f1bcc3da076c2ca3c900da9749"><div class="ttname"><a href="struct_r_g_w_zone_group.html#ae70064f1bcc3da076c2ca3c900da9749">RGWZoneGroup::default_placement</a></div><div class="ttdeci">rgw_placement_rule default_placement</div><div class="ttdef"><b>Definition</b> <a href="rgw__zone_8h_source.html#l00886">rgw_zone.h:886</a></div></div>
<div class="ttc" id="astruct_r_g_w_zone_group_html_af6d3161acb453e11bca21eb9a36a3b9d"><div class="ttname"><a href="struct_r_g_w_zone_group.html#af6d3161acb453e11bca21eb9a36a3b9d">RGWZoneGroup::realm_id</a></div><div class="ttdeci">std::string realm_id</div><div class="ttdef"><b>Definition</b> <a href="rgw__zone_8h_source.html#l00907">rgw_zone.h:907</a></div></div>
<div class="ttc" id="astruct_r_g_w_zone_group_html_aff6e497e07fd6e98992ef55f133749dc"><div class="ttname"><a href="struct_r_g_w_zone_group.html#aff6e497e07fd6e98992ef55f133749dc">RGWZoneGroup::post_process_params</a></div><div class="ttdeci">void post_process_params(const DoutPrefixProvider *dpp, optional_yield y)</div><div class="ttdef"><b>Definition</b> <a href="rgw__zone_8cc_source.html#l00288">rgw_zone.cc:288</a></div></div>
<div class="ttc" id="astruct_r_g_w_zone_group_placement_target_html"><div class="ttname"><a href="struct_r_g_w_zone_group_placement_target.html">RGWZoneGroupPlacementTarget</a></div><div class="ttdef"><b>Definition</b> <a href="rgw__zone_8h_source.html#l00830">rgw_zone.h:830</a></div></div>
<div class="ttc" id="astruct_r_g_w_zone_group_placement_target_html_aa9b68f5f132a5ef5e45bceafb1ba5ef4"><div class="ttname"><a href="struct_r_g_w_zone_group_placement_target.html#aa9b68f5f132a5ef5e45bceafb1ba5ef4">RGWZoneGroupPlacementTarget::name</a></div><div class="ttdeci">std::string name</div><div class="ttdef"><b>Definition</b> <a href="rgw__zone_8h_source.html#l00831">rgw_zone.h:831</a></div></div>
<div class="ttc" id="astruct_r_g_w_zone_group_placement_target_html_add3bb2a043b061f190a2a595be986dc2"><div class="ttname"><a href="struct_r_g_w_zone_group_placement_target.html#add3bb2a043b061f190a2a595be986dc2">RGWZoneGroupPlacementTarget::tags</a></div><div class="ttdeci">std::set&lt; std::string &gt; tags</div><div class="ttdef"><b>Definition</b> <a href="rgw__zone_8h_source.html#l00832">rgw_zone.h:832</a></div></div>
<div class="ttc" id="astruct_r_g_w_zone_group_placement_target_html_ae0bc34b48de2affe35284d843e7db08c"><div class="ttname"><a href="struct_r_g_w_zone_group_placement_target.html#ae0bc34b48de2affe35284d843e7db08c">RGWZoneGroupPlacementTarget::storage_classes</a></div><div class="ttdeci">std::set&lt; std::string &gt; storage_classes</div><div class="ttdef"><b>Definition</b> <a href="rgw__zone_8h_source.html#l00833">rgw_zone.h:833</a></div></div>
<div class="ttc" id="astruct_r_g_w_zone_group_placement_target_html_aeab8441daa4783945e26fa66cd576ce8"><div class="ttname"><a href="struct_r_g_w_zone_group_placement_target.html#aeab8441daa4783945e26fa66cd576ce8">RGWZoneGroupPlacementTarget::tier_targets</a></div><div class="ttdeci">std::map&lt; std::string, RGWZoneGroupPlacementTier &gt; tier_targets</div><div class="ttdef"><b>Definition</b> <a href="rgw__zone_8h_source.html#l00834">rgw_zone.h:834</a></div></div>
<div class="ttc" id="astruct_r_g_w_zone_group_placement_tier_html"><div class="ttname"><a href="struct_r_g_w_zone_group_placement_tier.html">RGWZoneGroupPlacementTier</a></div><div class="ttdef"><b>Definition</b> <a href="rgw__zone_8h_source.html#l00791">rgw_zone.h:791</a></div></div>
<div class="ttc" id="astruct_r_g_w_zone_group_placement_tier_html_a901f0740d425d341f5e4c9a37c81acf3"><div class="ttname"><a href="struct_r_g_w_zone_group_placement_tier.html#a901f0740d425d341f5e4c9a37c81acf3">RGWZoneGroupPlacementTier::tier_type</a></div><div class="ttdeci">std::string tier_type</div><div class="ttdef"><b>Definition</b> <a href="rgw__zone_8h_source.html#l00792">rgw_zone.h:792</a></div></div>
<div class="ttc" id="astruct_r_g_w_zone_group_placement_tier_html_a9803c8954ff3d7579f938d6de3d4189e"><div class="ttname"><a href="struct_r_g_w_zone_group_placement_tier.html#a9803c8954ff3d7579f938d6de3d4189e">RGWZoneGroupPlacementTier::clear_params</a></div><div class="ttdeci">int clear_params(const JSONFormattable &amp;config)</div><div class="ttdef"><b>Definition</b> <a href="rgw__zone_8cc_source.html#l02184">rgw_zone.cc:2184</a></div></div>
<div class="ttc" id="astruct_r_g_w_zone_group_placement_tier_html_abfdbf27417b933d760786715e168cdaa"><div class="ttname"><a href="struct_r_g_w_zone_group_placement_tier.html#abfdbf27417b933d760786715e168cdaa">RGWZoneGroupPlacementTier::storage_class</a></div><div class="ttdeci">std::string storage_class</div><div class="ttdef"><b>Definition</b> <a href="rgw__zone_8h_source.html#l00793">rgw_zone.h:793</a></div></div>
<div class="ttc" id="astruct_r_g_w_zone_group_placement_tier_html_af7bf04aea9433723b560a3f985468b01"><div class="ttname"><a href="struct_r_g_w_zone_group_placement_tier.html#af7bf04aea9433723b560a3f985468b01">RGWZoneGroupPlacementTier::update_params</a></div><div class="ttdeci">int update_params(const JSONFormattable &amp;config)</div><div class="ttdef"><b>Definition</b> <a href="rgw__zone_8cc_source.html#l02142">rgw_zone.cc:2142</a></div></div>
<div class="ttc" id="astruct_r_g_w_zone_params_html"><div class="ttname"><a href="struct_r_g_w_zone_params.html">RGWZoneParams</a></div><div class="ttdef"><b>Definition</b> <a href="rgw__zone_8h_source.html#l00370">rgw_zone.h:370</a></div></div>
<div class="ttc" id="astruct_r_g_w_zone_params_html_a0d4ac5a1accca6b21eade2b412928dcf"><div class="ttname"><a href="struct_r_g_w_zone_params.html#a0d4ac5a1accca6b21eade2b412928dcf">RGWZoneParams::read_default_id</a></div><div class="ttdeci">int read_default_id(const DoutPrefixProvider *dpp, std::string &amp;default_id, optional_yield y, bool old_format=false) override</div><div class="ttdef"><b>Definition</b> <a href="rgw__zone_8cc_source.html#l01872">rgw_zone.cc:1872</a></div></div>
<div class="ttc" id="astruct_r_g_w_zone_params_html_a84e418e67fee30c72c959daba3b6fa46"><div class="ttname"><a href="struct_r_g_w_zone_params.html#a84e418e67fee30c72c959daba3b6fa46">RGWZoneParams::init</a></div><div class="ttdeci">int init(const DoutPrefixProvider *dpp, CephContext *_cct, RGWSI_SysObj *_sysobj_svc, optional_yield y, bool setup_obj=true, bool old_format=false)</div><div class="ttdef"><b>Definition</b> <a href="rgw__zone_8cc_source.html#l01861">rgw_zone.cc:1861</a></div></div>
<div class="ttc" id="astruct_r_g_w_zone_params_html_aaa4b1a0fe8d9405a9b75907d8717a365"><div class="ttname"><a href="struct_r_g_w_zone_params.html#aaa4b1a0fe8d9405a9b75907d8717a365">RGWZoneParams::tier_config</a></div><div class="ttdeci">JSONFormattable tier_config</div><div class="ttdef"><b>Definition</b> <a href="rgw__zone_8h_source.html#l00394">rgw_zone.h:394</a></div></div>
<div class="ttc" id="astruct_r_g_w_zone_params_html_aaa9f6d00da36efbf11bb2580b1fe2f9a"><div class="ttname"><a href="struct_r_g_w_zone_params.html#aaa9f6d00da36efbf11bb2580b1fe2f9a">RGWZoneParams::system_key</a></div><div class="ttdeci">RGWAccessKey system_key</div><div class="ttdef"><b>Definition</b> <a href="rgw__zone_8h_source.html#l00388">rgw_zone.h:388</a></div></div>
<div class="ttc" id="astruct_r_g_w_zone_params_html_ab2c1ad2606b5bc3704a2ee1168849a33"><div class="ttname"><a href="struct_r_g_w_zone_params.html#ab2c1ad2606b5bc3704a2ee1168849a33">RGWZoneParams::realm_id</a></div><div class="ttdeci">std::string realm_id</div><div class="ttdef"><b>Definition</b> <a href="rgw__zone_8h_source.html#l00392">rgw_zone.h:392</a></div></div>
<div class="ttc" id="astruct_r_g_w_zone_params_html_abe32f69ad5c2c3e7602e6dcde3344009"><div class="ttname"><a href="struct_r_g_w_zone_params.html#abe32f69ad5c2c3e7602e6dcde3344009">RGWZoneParams::set_as_default</a></div><div class="ttdeci">int set_as_default(const DoutPrefixProvider *dpp, optional_yield y, bool exclusive=false) override</div><div class="ttdef"><b>Definition</b> <a href="rgw__zone_8cc_source.html#l01890">rgw_zone.cc:1890</a></div></div>
<div class="ttc" id="astruct_r_g_w_zone_params_html_adbbba8774f3afe6a9409b55bc9903f1d"><div class="ttname"><a href="struct_r_g_w_zone_params.html#adbbba8774f3afe6a9409b55bc9903f1d">RGWZoneParams::valid_placement</a></div><div class="ttdeci">bool valid_placement(const rgw_placement_rule &amp;rule) const</div><div class="ttdef"><b>Definition</b> <a href="rgw__zone_8h_source.html#l00566">rgw_zone.h:566</a></div></div>
<div class="ttc" id="astruct_r_g_w_zone_params_html_ade56ea590a8f14b59a3ebd3b0a6d0946"><div class="ttname"><a href="struct_r_g_w_zone_params.html#ade56ea590a8f14b59a3ebd3b0a6d0946">RGWZoneParams::placement_pools</a></div><div class="ttdeci">std::map&lt; std::string, RGWZonePlacementInfo &gt; placement_pools</div><div class="ttdef"><b>Definition</b> <a href="rgw__zone_8h_source.html#l00390">rgw_zone.h:390</a></div></div>
<div class="ttc" id="astruct_r_g_w_zone_placement_info_html"><div class="ttname"><a href="struct_r_g_w_zone_placement_info.html">RGWZonePlacementInfo</a></div><div class="ttdef"><b>Definition</b> <a href="rgw__zone_8h_source.html#l00273">rgw_zone.h:273</a></div></div>
<div class="ttc" id="astruct_r_g_w_zone_placement_info_html_a03919ed0da8df50359a5bfe5dcfb5996"><div class="ttname"><a href="struct_r_g_w_zone_placement_info.html#a03919ed0da8df50359a5bfe5dcfb5996">RGWZonePlacementInfo::index_pool</a></div><div class="ttdeci">rgw_pool index_pool</div><div class="ttdef"><b>Definition</b> <a href="rgw__zone_8h_source.html#l00274">rgw_zone.h:274</a></div></div>
<div class="ttc" id="astruct_r_g_w_zone_placement_info_html_a09bc1e1b7f260f6731105ee3a3fb30d7"><div class="ttname"><a href="struct_r_g_w_zone_placement_info.html#a09bc1e1b7f260f6731105ee3a3fb30d7">RGWZonePlacementInfo::index_type</a></div><div class="ttdeci">rgw::BucketIndexType index_type</div><div class="ttdef"><b>Definition</b> <a href="rgw__zone_8h_source.html#l00277">rgw_zone.h:277</a></div></div>
<div class="ttc" id="astruct_r_g_w_zone_placement_info_html_a702863bcc74164cdb110b3fbf62756fb"><div class="ttname"><a href="struct_r_g_w_zone_placement_info.html#a702863bcc74164cdb110b3fbf62756fb">RGWZonePlacementInfo::inline_data</a></div><div class="ttdeci">bool inline_data</div><div class="ttdef"><b>Definition</b> <a href="rgw__zone_8h_source.html#l00278">rgw_zone.h:278</a></div></div>
<div class="ttc" id="astruct_r_g_w_zone_placement_info_html_a95f054ab014236b918efbcd1db65b910"><div class="ttname"><a href="struct_r_g_w_zone_placement_info.html#a95f054ab014236b918efbcd1db65b910">RGWZonePlacementInfo::data_extra_pool</a></div><div class="ttdeci">rgw_pool data_extra_pool</div><div class="ttdef"><b>Definition</b> <a href="rgw__zone_8h_source.html#l00275">rgw_zone.h:275</a></div></div>
<div class="ttc" id="astruct_r_g_w_zone_placement_info_html_ab7730340bc5222fd9f0d225feed5252d"><div class="ttname"><a href="struct_r_g_w_zone_placement_info.html#ab7730340bc5222fd9f0d225feed5252d">RGWZonePlacementInfo::storage_classes</a></div><div class="ttdeci">RGWZoneStorageClasses storage_classes</div><div class="ttdef"><b>Definition</b> <a href="rgw__zone_8h_source.html#l00276">rgw_zone.h:276</a></div></div>
<div class="ttc" id="astruct_r_g_w_zone_placement_info_html_aff6b6370da49e52624e2b287760c479a"><div class="ttname"><a href="struct_r_g_w_zone_placement_info.html#aff6b6370da49e52624e2b287760c479a">RGWZonePlacementInfo::get_data_extra_pool</a></div><div class="ttdeci">const rgw_pool &amp; get_data_extra_pool() const</div><div class="ttdef"><b>Definition</b> <a href="rgw__zone_8h_source.html#l00329">rgw_zone.h:329</a></div></div>
<div class="ttc" id="astruct_r_g_w_zone_storage_class_html"><div class="ttname"><a href="struct_r_g_w_zone_storage_class.html">RGWZoneStorageClass</a></div><div class="ttdef"><b>Definition</b> <a href="rgw__zone_8h_source.html#l00162">rgw_zone.h:162</a></div></div>
<div class="ttc" id="astruct_r_g_w_zone_storage_class_html_a4eeae29b04acc19b4efd42e45de64be1"><div class="ttname"><a href="struct_r_g_w_zone_storage_class.html#a4eeae29b04acc19b4efd42e45de64be1">RGWZoneStorageClass::data_pool</a></div><div class="ttdeci">boost::optional&lt; rgw_pool &gt; data_pool</div><div class="ttdef"><b>Definition</b> <a href="rgw__zone_8h_source.html#l00163">rgw_zone.h:163</a></div></div>
<div class="ttc" id="astructrgw_1_1_bucket_trim_config_html"><div class="ttname"><a href="structrgw_1_1_bucket_trim_config.html">rgw::BucketTrimConfig</a></div><div class="ttdoc">Configuration for BucketTrimManager</div><div class="ttdef"><b>Definition</b> <a href="rgw__trim__bilog_8h_source.html#l00045">rgw_trim_bilog.h:45</a></div></div>
<div class="ttc" id="astructrgw_1_1_i_a_m_1_1_policy_html"><div class="ttname"><a href="structrgw_1_1_i_a_m_1_1_policy.html">rgw::IAM::Policy</a></div><div class="ttdef"><b>Definition</b> <a href="rgw__iam__policy_8h_source.html#l00506">rgw_iam_policy.h:506</a></div></div>
<div class="ttc" id="astructrgw_1_1_i_a_m_1_1_policy_parse_exception_html"><div class="ttname"><a href="structrgw_1_1_i_a_m_1_1_policy_parse_exception.html">rgw::IAM::PolicyParseException</a></div><div class="ttdef"><b>Definition</b> <a href="rgw__iam__policy_8h_source.html#l00496">rgw_iam_policy.h:496</a></div></div>
<div class="ttc" id="astructrgw_1_1_i_a_m_1_1_policy_parse_exception_html_a1411a1c03c0530daeb1beaefa4324f9b"><div class="ttname"><a href="structrgw_1_1_i_a_m_1_1_policy_parse_exception.html#a1411a1c03c0530daeb1beaefa4324f9b">rgw::IAM::PolicyParseException::what</a></div><div class="ttdeci">const char * what() const noexcept override</div><div class="ttdef"><b>Definition</b> <a href="rgw__iam__policy_8h_source.html#l00501">rgw_iam_policy.h:501</a></div></div>
<div class="ttc" id="astructrgw_1_1sal_1_1_bucket_1_1_list_params_html_a78317932ae255789bd3114d546bf7d78"><div class="ttname"><a href="structrgw_1_1sal_1_1_bucket_1_1_list_params.html#a78317932ae255789bd3114d546bf7d78">rgw::sal::Bucket::ListParams::allow_unordered</a></div><div class="ttdeci">bool allow_unordered</div><div class="ttdef"><b>Definition</b> <a href="rgw__sal_8h_source.html#l00577">rgw_sal.h:577</a></div></div>
<div class="ttc" id="astructrgw__bucket_html_ac2d65e02c9242ad2ea2ad31da15d8836"><div class="ttname"><a href="structrgw__bucket.html#ac2d65e02c9242ad2ea2ad31da15d8836">rgw_bucket::tenant</a></div><div class="ttdeci">std::string tenant</div><div class="ttdef"><b>Definition</b> <a href="rgw__basic__types_8h_source.html#l00290">rgw_basic_types.h:290</a></div></div>
<div class="ttc" id="astructrgw__data__sync__marker_html"><div class="ttname"><a href="structrgw__data__sync__marker.html">rgw_data_sync_marker</a></div><div class="ttdef"><b>Definition</b> <a href="rgw__data__sync_8h_source.html#l00158">rgw_data_sync.h:158</a></div></div>
<div class="ttc" id="astructrgw__log__entry_html"><div class="ttname"><a href="structrgw__log__entry.html">rgw_log_entry</a></div><div class="ttdef"><b>Definition</b> <a href="rgw__log_8h_source.html#l00079">rgw_log.h:79</a></div></div>
<div class="ttc" id="astructrgw__log__entry_html_a35ae5bdbb5f60664f0a367d5c3ad9efe"><div class="ttname"><a href="structrgw__log__entry.html#a35ae5bdbb5f60664f0a367d5c3ad9efe">rgw_log_entry::user</a></div><div class="ttdeci">std::string user</div><div class="ttdef"><b>Definition</b> <a href="rgw__log_8h_source.html#l00089">rgw_log.h:89</a></div></div>
<div class="ttc" id="astructrgw__log__entry_html_a9be048e2579dfc3256b78fdb8abc9b0a"><div class="ttname"><a href="structrgw__log__entry.html#a9be048e2579dfc3256b78fdb8abc9b0a">rgw_log_entry::total_time</a></div><div class="ttdeci">Clock::duration total_time</div><div class="ttdef"><b>Definition</b> <a href="rgw__log_8h_source.html#l00098">rgw_log.h:98</a></div></div>
<div class="ttc" id="astructrgw__log__entry_html_abe38126b4342e5e27a847c7850bb58d4"><div class="ttname"><a href="structrgw__log__entry.html#abe38126b4342e5e27a847c7850bb58d4">rgw_log_entry::bucket</a></div><div class="ttdeci">std::string bucket</div><div class="ttdef"><b>Definition</b> <a href="rgw__log_8h_source.html#l00086">rgw_log.h:86</a></div></div>
<div class="ttc" id="astructrgw__log__entry_html_ade138581b4da0c38466f03c320bdd1ee"><div class="ttname"><a href="structrgw__log__entry.html#ade138581b4da0c38466f03c320bdd1ee">rgw_log_entry::bucket_id</a></div><div class="ttdeci">std::string bucket_id</div><div class="ttdef"><b>Definition</b> <a href="rgw__log_8h_source.html#l00101">rgw_log.h:101</a></div></div>
<div class="ttc" id="astructrgw__log__entry_html_af11afc5005ffd6df74f530ac1e34a545"><div class="ttname"><a href="structrgw__log__entry.html#af11afc5005ffd6df74f530ac1e34a545">rgw_log_entry::obj</a></div><div class="ttdeci">rgw_obj_key obj</div><div class="ttdef"><b>Definition</b> <a href="rgw__log_8h_source.html#l00090">rgw_log.h:90</a></div></div>
<div class="ttc" id="astructrgw__obj__key_html_a25f11d321b80d9c0fa03d2358d261dd4"><div class="ttname"><a href="structrgw__obj__key.html#a25f11d321b80d9c0fa03d2358d261dd4">rgw_obj_key::get_index_key</a></div><div class="ttdeci">void get_index_key(rgw_obj_index_key *key) const</div><div class="ttdef"><b>Definition</b> <a href="rgw__common_8h_source.html#l01342">rgw_common.h:1342</a></div></div>
<div class="ttc" id="astructrgw__obj__key_html_a87cc67fcbd9c25864aeeb9a5f39a12dc"><div class="ttname"><a href="structrgw__obj__key.html#a87cc67fcbd9c25864aeeb9a5f39a12dc">rgw_obj_key::set_instance</a></div><div class="ttdeci">void set_instance(const std::string &amp;i)</div><div class="ttdef"><b>Definition</b> <a href="rgw__common_8h_source.html#l01313">rgw_common.h:1313</a></div></div>
<div class="ttc" id="astructrgw__obj_html"><div class="ttname"><a href="structrgw__obj.html">rgw_obj</a></div><div class="ttdef"><b>Definition</b> <a href="rgw__common_8h_source.html#l01802">rgw_common.h:1802</a></div></div>
<div class="ttc" id="astructrgw__placement__rule_html"><div class="ttname"><a href="structrgw__placement__rule.html">rgw_placement_rule</a></div><div class="ttdef"><b>Definition</b> <a href="rgw__common_8h_source.html#l00588">rgw_common.h:588</a></div></div>
<div class="ttc" id="astructrgw__placement__rule_html_a43e8f586d87191d507d4960dfa1a94c9"><div class="ttname"><a href="structrgw__placement__rule.html#a43e8f586d87191d507d4960dfa1a94c9">rgw_placement_rule::storage_class</a></div><div class="ttdeci">std::string storage_class</div><div class="ttdef"><b>Definition</b> <a href="rgw__common_8h_source.html#l00590">rgw_common.h:590</a></div></div>
<div class="ttc" id="astructrgw__placement__rule_html_a6373fadd1b6927e011b643e171aa93f0"><div class="ttname"><a href="structrgw__placement__rule.html#a6373fadd1b6927e011b643e171aa93f0">rgw_placement_rule::get_canonical_storage_class</a></div><div class="ttdeci">static const std::string &amp; get_canonical_storage_class(const std::string &amp;storage_class)</div><div class="ttdef"><b>Definition</b> <a href="rgw__common_8h_source.html#l00625">rgw_common.h:625</a></div></div>
<div class="ttc" id="astructrgw__placement__rule_html_ab8f43c24be065225c6274437bc679442"><div class="ttname"><a href="structrgw__placement__rule.html#ab8f43c24be065225c6274437bc679442">rgw_placement_rule::from_str</a></div><div class="ttdeci">void from_str(const std::string &amp;s)</div><div class="ttdef"><b>Definition</b> <a href="rgw__common_8h_source.html#l00676">rgw_common.h:676</a></div></div>
<div class="ttc" id="astructrgw__placement__rule_html_ac2879ebdfe80cff9a539d8a72035629a"><div class="ttname"><a href="structrgw__placement__rule.html#ac2879ebdfe80cff9a539d8a72035629a">rgw_placement_rule::name</a></div><div class="ttdeci">std::string name</div><div class="ttdef"><b>Definition</b> <a href="rgw__common_8h_source.html#l00589">rgw_common.h:589</a></div></div>
<div class="ttc" id="astructrgw__placement__rule_html_acef93222a366da8a9c67303abe46822d"><div class="ttname"><a href="structrgw__placement__rule.html#acef93222a366da8a9c67303abe46822d">rgw_placement_rule::to_str</a></div><div class="ttdeci">std::string to_str() const</div><div class="ttdef"><b>Definition</b> <a href="rgw__common_8h_source.html#l00665">rgw_common.h:665</a></div></div>
<div class="ttc" id="astructrgw__placement__rule_html_ade3a653da947d97aa1b77bbe521c0182"><div class="ttname"><a href="structrgw__placement__rule.html#ade3a653da947d97aa1b77bbe521c0182">rgw_placement_rule::get_storage_class</a></div><div class="ttdeci">const std::string &amp; get_storage_class() const</div><div class="ttdef"><b>Definition</b> <a href="rgw__common_8h_source.html#l00632">rgw_common.h:632</a></div></div>
<div class="ttc" id="astructrgw__pool_html"><div class="ttname"><a href="structrgw__pool.html">rgw_pool</a></div><div class="ttdef"><b>Definition</b> <a href="rgw__basic__types_8h_source.html#l00146">rgw_basic_types.h:146</a></div></div>
<div class="ttc" id="astructrgw__pool_html_aad5fd29bcd53c86af2608e581ee5a3c4"><div class="ttname"><a href="structrgw__pool.html#aad5fd29bcd53c86af2608e581ee5a3c4">rgw_pool::empty</a></div><div class="ttdeci">bool empty() const</div><div class="ttdef"><b>Definition</b> <a href="rgw__basic__types_8h_source.html#l00165">rgw_basic_types.h:165</a></div></div>
<div class="ttc" id="astructrgw__pubsub__bucket__topics_html"><div class="ttname"><a href="structrgw__pubsub__bucket__topics.html">rgw_pubsub_bucket_topics</a></div><div class="ttdef"><b>Definition</b> <a href="rgw__pubsub_8h_source.html#l00557">rgw_pubsub.h:557</a></div></div>
<div class="ttc" id="astructrgw__pubsub__sub__config_html"><div class="ttname"><a href="structrgw__pubsub__sub__config.html">rgw_pubsub_sub_config</a></div><div class="ttdef"><b>Definition</b> <a href="rgw__pubsub_8h_source.html#l00417">rgw_pubsub.h:417</a></div></div>
<div class="ttc" id="astructrgw__pubsub__topic__subs_html"><div class="ttname"><a href="structrgw__pubsub__topic__subs.html">rgw_pubsub_topic_subs</a></div><div class="ttdef"><b>Definition</b> <a href="rgw__pubsub_8h_source.html#l00495">rgw_pubsub.h:495</a></div></div>
<div class="ttc" id="astructrgw__pubsub__topics_html"><div class="ttname"><a href="structrgw__pubsub__topics.html">rgw_pubsub_topics</a></div><div class="ttdef"><b>Definition</b> <a href="rgw__pubsub_8h_source.html#l00576">rgw_pubsub.h:576</a></div></div>
<div class="ttc" id="astructrgw__sync__bucket__entities_html_a1e518ab30eb01cde926dbe87419c46c8"><div class="ttname"><a href="structrgw__sync__bucket__entities.html#a1e518ab30eb01cde926dbe87419c46c8">rgw_sync_bucket_entities::set_bucket</a></div><div class="ttdeci">void set_bucket(std::optional&lt; std::string &gt; tenant, std::optional&lt; std::string &gt; bucket_name, std::optional&lt; std::string &gt; bucket_id)</div><div class="ttdef"><b>Definition</b> <a href="rgw__sync__policy_8cc_source.html#l00253">rgw_sync_policy.cc:253</a></div></div>
<div class="ttc" id="astructrgw__sync__bucket__entities_html_a5b2094e5ac89b49e4283ba37131260ff"><div class="ttname"><a href="structrgw__sync__bucket__entities.html#a5b2094e5ac89b49e4283ba37131260ff">rgw_sync_bucket_entities::add_zones</a></div><div class="ttdeci">void add_zones(const std::vector&lt; rgw_zone_id &gt; &amp;new_zones)</div><div class="ttdef"><b>Definition</b> <a href="rgw__sync__policy_8cc_source.html#l00185">rgw_sync_policy.cc:185</a></div></div>
<div class="ttc" id="astructrgw__sync__bucket__entities_html_a6b22101627d3981ef1ee323372667ebb"><div class="ttname"><a href="structrgw__sync__bucket__entities.html#a6b22101627d3981ef1ee323372667ebb">rgw_sync_bucket_entities::remove_zones</a></div><div class="ttdeci">void remove_zones(const std::vector&lt; rgw_zone_id &gt; &amp;rm_zones)</div><div class="ttdef"><b>Definition</b> <a href="rgw__sync__policy_8cc_source.html#l00230">rgw_sync_policy.cc:230</a></div></div>
<div class="ttc" id="astructrgw__sync__bucket__entities_html_ad625bfef813186cc59d873e3d5802cc9"><div class="ttname"><a href="structrgw__sync__bucket__entities.html#ad625bfef813186cc59d873e3d5802cc9">rgw_sync_bucket_entities::remove_bucket</a></div><div class="ttdeci">void remove_bucket(std::optional&lt; std::string &gt; tenant, std::optional&lt; std::string &gt; bucket_name, std::optional&lt; std::string &gt; bucket_id)</div><div class="ttdef"><b>Definition</b> <a href="rgw__sync__policy_8cc_source.html#l00276">rgw_sync_policy.cc:276</a></div></div>
<div class="ttc" id="astructrgw__sync__bucket__pipes_html"><div class="ttname"><a href="structrgw__sync__bucket__pipes.html">rgw_sync_bucket_pipes</a></div><div class="ttdef"><b>Definition</b> <a href="rgw__sync__policy_8h_source.html#l00499">rgw_sync_policy.h:499</a></div></div>
<div class="ttc" id="astructrgw__sync__bucket__pipes_html_a05a6c2d05afd9a4d52ff0bc753cd75a9"><div class="ttname"><a href="structrgw__sync__bucket__pipes.html#a05a6c2d05afd9a4d52ff0bc753cd75a9">rgw_sync_bucket_pipes::source</a></div><div class="ttdeci">rgw_sync_bucket_entities source</div><div class="ttdef"><b>Definition</b> <a href="rgw__sync__policy_8h_source.html#l00501">rgw_sync_policy.h:501</a></div></div>
<div class="ttc" id="astructrgw__sync__bucket__pipes_html_a0ca18e1668e8a75712f651cccef54a73"><div class="ttname"><a href="structrgw__sync__bucket__pipes.html#a0ca18e1668e8a75712f651cccef54a73">rgw_sync_bucket_pipes::dest</a></div><div class="ttdeci">rgw_sync_bucket_entities dest</div><div class="ttdef"><b>Definition</b> <a href="rgw__sync__policy_8h_source.html#l00502">rgw_sync_policy.h:502</a></div></div>
<div class="ttc" id="astructrgw__sync__bucket__pipes_html_aef76ee1d199e020912a03ce6bc765e21"><div class="ttname"><a href="structrgw__sync__bucket__pipes.html#aef76ee1d199e020912a03ce6bc765e21">rgw_sync_bucket_pipes::params</a></div><div class="ttdeci">rgw_sync_pipe_params params</div><div class="ttdef"><b>Definition</b> <a href="rgw__sync__policy_8h_source.html#l00504">rgw_sync_policy.h:504</a></div></div>
<div class="ttc" id="astructrgw__sync__directional__rule_html"><div class="ttname"><a href="structrgw__sync__directional__rule.html">rgw_sync_directional_rule</a></div><div class="ttdef"><b>Definition</b> <a href="rgw__sync__policy_8h_source.html#l00050">rgw_sync_policy.h:50</a></div></div>
<div class="ttc" id="astructrgw__sync__error__info_html"><div class="ttname"><a href="structrgw__sync__error__info.html">rgw_sync_error_info</a></div><div class="ttdef"><b>Definition</b> <a href="rgw__sync_8h_source.html#l00086">rgw_sync.h:86</a></div></div>
<div class="ttc" id="astructrgw__sync__pipe__dest__params_html_a32bfc2e171e867da0282b5566afcc2b6"><div class="ttname"><a href="structrgw__sync__pipe__dest__params.html#a32bfc2e171e867da0282b5566afcc2b6">rgw_sync_pipe_dest_params::set_storage_class</a></div><div class="ttdeci">void set_storage_class(const std::string &amp;sc)</div><div class="ttdef"><b>Definition</b> <a href="rgw__sync__policy_8h_source.html#l00312">rgw_sync_policy.h:312</a></div></div>
<div class="ttc" id="astructrgw__sync__pipe__dest__params_html_a5c4b4350a44fe900f26323812e13c437"><div class="ttname"><a href="structrgw__sync__pipe__dest__params.html#a5c4b4350a44fe900f26323812e13c437">rgw_sync_pipe_dest_params::set_owner</a></div><div class="ttdeci">void set_owner(const rgw_user &amp;owner)</div><div class="ttdef"><b>Definition</b> <a href="rgw__sync__policy_8h_source.html#l00316">rgw_sync_policy.h:316</a></div></div>
<div class="ttc" id="astructrgw__sync__pipe__filter_html_a14bc15ee16040db79f9c50cdfe117dfa"><div class="ttname"><a href="structrgw__sync__pipe__filter.html#a14bc15ee16040db79f9c50cdfe117dfa">rgw_sync_pipe_filter::set_tags</a></div><div class="ttdeci">void set_tags(std::list&lt; std::string &gt; &amp;tags_add, std::list&lt; std::string &gt; &amp;tags_rm)</div><div class="ttdef"><b>Definition</b> <a href="rgw__sync__policy_8cc_source.html#l00077">rgw_sync_policy.cc:77</a></div></div>
<div class="ttc" id="astructrgw__sync__pipe__filter_html_abe53acc94fc75c2f731af2579da3a8b2"><div class="ttname"><a href="structrgw__sync__pipe__filter.html#abe53acc94fc75c2f731af2579da3a8b2">rgw_sync_pipe_filter::set_prefix</a></div><div class="ttdeci">void set_prefix(std::optional&lt; std::string &gt; opt_prefix, bool prefix_rm)</div><div class="ttdef"><b>Definition</b> <a href="rgw__sync__policy_8cc_source.html#l00067">rgw_sync_policy.cc:67</a></div></div>
<div class="ttc" id="astructrgw__sync__pipe__params_html_a10daaf6569f436fe848b131ae56072f8"><div class="ttname"><a href="structrgw__sync__pipe__params.html#a10daaf6569f436fe848b131ae56072f8">rgw_sync_pipe_params::user</a></div><div class="ttdeci">rgw_user user</div><div class="ttdef"><b>Definition</b> <a href="rgw__sync__policy_8h_source.html#l00343">rgw_sync_policy.h:343</a></div></div>
<div class="ttc" id="astructrgw__sync__pipe__params_html_a337e0ec6316fc34232ceff7525d699ae"><div class="ttname"><a href="structrgw__sync__pipe__params.html#a337e0ec6316fc34232ceff7525d699ae">rgw_sync_pipe_params::dest</a></div><div class="ttdeci">rgw_sync_pipe_dest_params dest</div><div class="ttdef"><b>Definition</b> <a href="rgw__sync__policy_8h_source.html#l00337">rgw_sync_policy.h:337</a></div></div>
<div class="ttc" id="astructrgw__sync__pipe__params_html_a531d68cc45eb9bb98fb6ca7100fd25c7"><div class="ttname"><a href="structrgw__sync__pipe__params.html#a531d68cc45eb9bb98fb6ca7100fd25c7">rgw_sync_pipe_params::source</a></div><div class="ttdeci">rgw_sync_pipe_source_params source</div><div class="ttdef"><b>Definition</b> <a href="rgw__sync__policy_8h_source.html#l00336">rgw_sync_policy.h:336</a></div></div>
<div class="ttc" id="astructrgw__sync__pipe__params_html_aae059a5f7940a58ec1202fe0d3d27e0c"><div class="ttname"><a href="structrgw__sync__pipe__params.html#aae059a5f7940a58ec1202fe0d3d27e0c">rgw_sync_pipe_params::priority</a></div><div class="ttdeci">int32_t priority</div><div class="ttdef"><b>Definition</b> <a href="rgw__sync__policy_8h_source.html#l00342">rgw_sync_policy.h:342</a></div></div>
<div class="ttc" id="astructrgw__sync__pipe__params_html_ab607e84ee60e36576473f4d6b91c7a63"><div class="ttname"><a href="structrgw__sync__pipe__params.html#ab607e84ee60e36576473f4d6b91c7a63">rgw_sync_pipe_params::MODE_SYSTEM</a></div><div class="ttdeci">enum rgw_sync_pipe_params::Mode MODE_SYSTEM</div></div>
<div class="ttc" id="astructrgw__sync__pipe__params_html_aeaf1f65dece035a80aec5e4f20fbd4e2affef096511b4ef11f4b08e8ee0d33eb2"><div class="ttname"><a href="structrgw__sync__pipe__params.html#aeaf1f65dece035a80aec5e4f20fbd4e2affef096511b4ef11f4b08e8ee0d33eb2">rgw_sync_pipe_params::MODE_USER</a></div><div class="ttdeci">@ MODE_USER</div><div class="ttdef"><b>Definition</b> <a href="rgw__sync__policy_8h_source.html#l00340">rgw_sync_policy.h:340</a></div></div>
<div class="ttc" id="astructrgw__sync__pipe__source__params_html_ae0138a13f73632a22a5d5c1ca0f20781"><div class="ttname"><a href="structrgw__sync__pipe__source__params.html#ae0138a13f73632a22a5d5c1ca0f20781">rgw_sync_pipe_source_params::filter</a></div><div class="ttdeci">rgw_sync_pipe_filter filter</div><div class="ttdef"><b>Definition</b> <a href="rgw__sync__policy_8h_source.html#l00275">rgw_sync_policy.h:275</a></div></div>
<div class="ttc" id="astructrgw__sync__symmetric__group_html"><div class="ttname"><a href="structrgw__sync__symmetric__group.html">rgw_sync_symmetric_group</a></div><div class="ttdef"><b>Definition</b> <a href="rgw__sync__policy_8h_source.html#l00022">rgw_sync_policy.h:22</a></div></div>
<div class="ttc" id="astructrgw__sync__symmetric__group_html_aada6e436a3ff18a1d548cf217a1f5885"><div class="ttname"><a href="structrgw__sync__symmetric__group.html#aada6e436a3ff18a1d548cf217a1f5885">rgw_sync_symmetric_group::zones</a></div><div class="ttdeci">std::set&lt; rgw_zone_id &gt; zones</div><div class="ttdef"><b>Definition</b> <a href="rgw__sync__policy_8h_source.html#l00024">rgw_sync_policy.h:24</a></div></div>
<div class="ttc" id="astructrgw__user_html"><div class="ttname"><a href="structrgw__user.html">rgw_user</a></div><div class="ttdef"><b>Definition</b> <a href="rgw__basic__types_8h_source.html#l00014">rgw_basic_types.h:14</a></div></div>
<div class="ttc" id="astructrgw__user_html_a2bf13ba0bf6b95ba5a0832e2ba1370e0"><div class="ttname"><a href="structrgw__user.html#a2bf13ba0bf6b95ba5a0832e2ba1370e0">rgw_user::tenant</a></div><div class="ttdeci">std::string tenant</div><div class="ttdef"><b>Definition</b> <a href="rgw__basic__types_8h_source.html#l00015">rgw_basic_types.h:15</a></div></div>
<div class="ttc" id="astructrgw__user_html_a7e60b2dd070ae3af5cebb6c34946bac6"><div class="ttname"><a href="structrgw__user.html#a7e60b2dd070ae3af5cebb6c34946bac6">rgw_user::from_str</a></div><div class="ttdeci">void from_str(const std::string &amp;str)</div><div class="ttdef"><b>Definition</b> <a href="rgw__basic__types_8h_source.html#l00081">rgw_basic_types.h:81</a></div></div>
<div class="ttc" id="astructrgw__user_html_afd8a9e36c5a9f7773c13d903c3124e99"><div class="ttname"><a href="structrgw__user.html#afd8a9e36c5a9f7773c13d903c3124e99">rgw_user::empty</a></div><div class="ttdeci">bool empty() const</div><div class="ttdef"><b>Definition</b> <a href="rgw__basic__types_8h_source.html#l00071">rgw_basic_types.h:71</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a797d305cb08bbc54c0338dfd22031a01" name="a797d305cb08bbc54c0338dfd22031a01"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a797d305cb08bbc54c0338dfd22031a01">&#9670;&#160;</a></span>operator&lt;&lt;()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::ostream &amp; operator&lt;&lt; </td>
          <td>(</td>
          <td class="paramtype">std::ostream &amp;&#160;</td>
          <td class="paramname"><em>out</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structindented.html">indented</a> &amp;&#160;</td>
          <td class="paramname"><em>h</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition"><a class="el" href="rgw__admin_8cc_source.html">rgw_admin.cc</a> 파일의 <a class="el" href="rgw__admin_8cc_source.html#l02468">2468</a> 번째 라인에서 정의되었습니다.</p>
<div class="fragment"><div class="line"><span class="lineno"> 2468</span>                                                           {</div>
<div class="line"><span class="lineno"> 2469</span>  <span class="keywordflow">return</span> out &lt;&lt; std::setw(<a class="code hl_variable" href="cls__fifo__legacy_8cc.html#a68310108dc1113b2ef0e243d11e5b10d">h</a>.w) &lt;&lt; <a class="code hl_variable" href="cls__fifo__legacy_8cc.html#a68310108dc1113b2ef0e243d11e5b10d">h</a>.header &lt;&lt; std::setw(1) &lt;&lt; <span class="charliteral">&#39; &#39;</span>;</div>
<div class="line"><span class="lineno"> 2470</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="af3323dd65d10e63b537ecff33a279fdf" name="af3323dd65d10e63b537ecff33a279fdf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af3323dd65d10e63b537ecff33a279fdf">&#9670;&#160;</a></span>parse_tier_config_param()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void parse_tier_config_param </td>
          <td>(</td>
          <td class="paramtype">const string &amp;&#160;</td>
          <td class="paramname"><em>s</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">map&lt; string, string, <a class="el" href="structltstr__nocase.html">ltstr_nocase</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>out</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition"><a class="el" href="rgw__admin_8cc_source.html">rgw_admin.cc</a> 파일의 <a class="el" href="rgw__admin_8cc_source.html#l02850">2850</a> 번째 라인에서 정의되었습니다.</p>
<div class="fragment"><div class="line"><span class="lineno"> 2851</span>{</div>
<div class="line"><span class="lineno"> 2852</span>  <span class="keywordtype">int</span> level = 0;</div>
<div class="line"><span class="lineno"> 2853</span>  <span class="keywordtype">string</span> cur_conf;</div>
<div class="line"><span class="lineno"> 2854</span>  list&lt;string&gt; confs;</div>
<div class="line"><span class="lineno"> 2855</span>  <span class="keywordflow">for</span> (<span class="keyword">auto</span> <a class="code hl_variable" href="rgw__aio_8cc.html#af3997c9b015c5696191674621076ae50">c</a> : s) {</div>
<div class="line"><span class="lineno"> 2856</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="rgw__aio_8cc.html#af3997c9b015c5696191674621076ae50">c</a> == <span class="charliteral">&#39;,&#39;</span>) {</div>
<div class="line"><span class="lineno"> 2857</span>      <span class="keywordflow">if</span> (level == 0) {</div>
<div class="line"><span class="lineno"> 2858</span>        confs.push_back(cur_conf);</div>
<div class="line"><span class="lineno"> 2859</span>        cur_conf.clear();</div>
<div class="line"><span class="lineno"> 2860</span>        <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 2861</span>      }</div>
<div class="line"><span class="lineno"> 2862</span>    }</div>
<div class="line"><span class="lineno"> 2863</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="rgw__aio_8cc.html#af3997c9b015c5696191674621076ae50">c</a> == <span class="charliteral">&#39;{&#39;</span>) {</div>
<div class="line"><span class="lineno"> 2864</span>      ++level;</div>
<div class="line"><span class="lineno"> 2865</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code hl_variable" href="rgw__aio_8cc.html#af3997c9b015c5696191674621076ae50">c</a> == <span class="charliteral">&#39;}&#39;</span>) {</div>
<div class="line"><span class="lineno"> 2866</span>      --level;</div>
<div class="line"><span class="lineno"> 2867</span>    }</div>
<div class="line"><span class="lineno"> 2868</span>    cur_conf += <a class="code hl_variable" href="rgw__aio_8cc.html#af3997c9b015c5696191674621076ae50">c</a>;</div>
<div class="line"><span class="lineno"> 2869</span>  }</div>
<div class="line"><span class="lineno"> 2870</span>  <span class="keywordflow">if</span> (!cur_conf.empty()) {</div>
<div class="line"><span class="lineno"> 2871</span>    confs.push_back(cur_conf);</div>
<div class="line"><span class="lineno"> 2872</span>  }</div>
<div class="line"><span class="lineno"> 2873</span> </div>
<div class="line"><span class="lineno"> 2874</span>  <span class="keywordflow">for</span> (<span class="keyword">auto</span> <a class="code hl_variable" href="rgw__aio_8cc.html#af3997c9b015c5696191674621076ae50">c</a> : confs) {</div>
<div class="line"><span class="lineno"> 2875</span>    ssize_t pos = <a class="code hl_variable" href="rgw__aio_8cc.html#af3997c9b015c5696191674621076ae50">c</a>.find(<span class="stringliteral">&quot;=&quot;</span>);</div>
<div class="line"><span class="lineno"> 2876</span>    <span class="keywordflow">if</span> (pos &lt; 0) {</div>
<div class="line"><span class="lineno"> 2877</span>      out[<a class="code hl_variable" href="rgw__aio_8cc.html#af3997c9b015c5696191674621076ae50">c</a>] = <span class="stringliteral">&quot;&quot;</span>;</div>
<div class="line"><span class="lineno"> 2878</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 2879</span>      out[<a class="code hl_variable" href="rgw__aio_8cc.html#af3997c9b015c5696191674621076ae50">c</a>.substr(0, pos)] = <a class="code hl_variable" href="rgw__aio_8cc.html#af3997c9b015c5696191674621076ae50">c</a>.substr(pos + 1);</div>
<div class="line"><span class="lineno"> 2880</span>    }</div>
<div class="line"><span class="lineno"> 2881</span>  }</div>
<div class="line"><span class="lineno"> 2882</span>}</div>
</div><!-- fragment --><div class="dynheader">
이 함수를 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="rgw__admin_8cc_af3323dd65d10e63b537ecff33a279fdf_icgraph.png" border="0" usemap="#argw__admin_8cc_af3323dd65d10e63b537ecff33a279fdf_icgraph" alt=""/></div>
<map name="argw__admin_8cc_af3323dd65d10e63b537ecff33a279fdf_icgraph" id="argw__admin_8cc_af3323dd65d10e63b537ecff33a279fdf_icgraph">
<area shape="rect" title=" " alt="" coords="103,5,265,32"/>
<area shape="rect" href="rgw__admin_8cc.html#a217dbf8b442f20279ea00b898af96f52" title=" " alt="" coords="5,5,55,32"/>
<area shape="poly" title=" " alt="" coords="87,21,55,21,55,16,87,16"/>
</map>
</div>

</div>
</div>
<a id="abc5dd9e1ee4071fba1cbd66896f8200c" name="abc5dd9e1ee4071fba1cbd66896f8200c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abc5dd9e1ee4071fba1cbd66896f8200c">&#9670;&#160;</a></span>push_ss()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">stringstream &amp; push_ss </td>
          <td>(</td>
          <td class="paramtype">stringstream &amp;&#160;</td>
          <td class="paramname"><em>ss</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">list&lt; string &gt; &amp;&#160;</td>
          <td class="paramname"><em>l</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>tab</em> = <code>0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition"><a class="el" href="rgw__admin_8cc_source.html">rgw_admin.cc</a> 파일의 <a class="el" href="rgw__admin_8cc_source.html#l02101">2101</a> 번째 라인에서 정의되었습니다.</p>
<div class="fragment"><div class="line"><span class="lineno"> 2102</span>{</div>
<div class="line"><span class="lineno"> 2103</span>  <a class="code hl_function" href="rgw__admin_8cc.html#ab16e28e9c42b6a21c90152929eb41c23">flush_ss</a>(ss, l);</div>
<div class="line"><span class="lineno"> 2104</span>  <span class="keywordflow">if</span> (tab &gt; 0) {</div>
<div class="line"><span class="lineno"> 2105</span>    ss &lt;&lt; setw(tab) &lt;&lt; <span class="stringliteral">&quot;&quot;</span> &lt;&lt; setw(1);</div>
<div class="line"><span class="lineno"> 2106</span>  }</div>
<div class="line"><span class="lineno"> 2107</span>  <span class="keywordflow">return</span> ss;</div>
<div class="line"><span class="lineno"> 2108</span>}</div>
</div><!-- fragment --><div class="dynheader">
이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="rgw__admin_8cc_abc5dd9e1ee4071fba1cbd66896f8200c_cgraph.png" border="0" usemap="#argw__admin_8cc_abc5dd9e1ee4071fba1cbd66896f8200c_cgraph" alt=""/></div>
<map name="argw__admin_8cc_abc5dd9e1ee4071fba1cbd66896f8200c_cgraph" id="argw__admin_8cc_abc5dd9e1ee4071fba1cbd66896f8200c_cgraph">
<area shape="rect" title=" " alt="" coords="5,5,76,32"/>
<area shape="rect" href="rgw__admin_8cc.html#ab16e28e9c42b6a21c90152929eb41c23" title=" " alt="" coords="124,5,193,32"/>
<area shape="poly" title=" " alt="" coords="76,16,108,16,108,21,76,21"/>
</map>
</div>
<div class="dynheader">
이 함수를 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="rgw__admin_8cc_abc5dd9e1ee4071fba1cbd66896f8200c_icgraph.png" border="0" usemap="#argw__admin_8cc_abc5dd9e1ee4071fba1cbd66896f8200c_icgraph" alt=""/></div>
<map name="argw__admin_8cc_abc5dd9e1ee4071fba1cbd66896f8200c_icgraph" id="argw__admin_8cc_abc5dd9e1ee4071fba1cbd66896f8200c_icgraph">
<area shape="rect" title=" " alt="" coords="2402,1040,2472,1067"/>
<area shape="rect" href="rgw__admin_8cc.html#a72e671e3f52c5bce91c050a50dcbc75a" title=" " alt="" coords="2205,812,2354,839"/>
<area shape="poly" title=" " alt="" coords="2416,1029,2288,841,2292,838,2420,1026"/>
<area shape="rect" href="rgw__admin_8cc.html#addb2515e11fb8fc09013757e769993e6" title=" " alt="" coords="1050,1177,1192,1204"/>
<area shape="poly" title=" " alt="" coords="2418,1081,2369,1134,2298,1196,2256,1225,2211,1248,2162,1264,2112,1269,1644,1269,1513,1263,1384,1247,1269,1226,1179,1207,1181,1202,1270,1221,1385,1241,1514,1257,1645,1264,2112,1264,2161,1258,2209,1243,2254,1220,2295,1192,2366,1131,2414,1077"/>
<area shape="rect" href="rgw__admin_8cc.html#a313adbe2d817ca90ee002626049cdacf" title=" " alt="" coords="2064,812,2157,839"/>
<area shape="poly" title=" " alt="" coords="2189,837,2157,836,2157,831,2189,832"/>
<area shape="poly" title=" " alt="" coords="2172,814,2204,814,2204,819,2172,819"/>
<area shape="rect" href="class_r_g_w_period.html#a1b78df2d42f8148b6d94e9787cc55b0f" title=" " alt="" coords="1309,285,1450,312"/>
<area shape="poly" title=" " alt="" coords="2105,797,2099,694,2084,555,2072,486,2057,423,2038,373,2014,341,1982,315,1946,295,1908,278,1868,265,1786,250,1701,246,1620,251,1544,261,1428,287,1426,282,1544,256,1619,246,1701,241,1786,245,1870,260,1910,273,1948,290,1985,311,2018,337,2042,371,2062,422,2077,485,2089,555,2104,693,2111,797"/>
<area shape="rect" href="rgw__admin_8cc.html#a217dbf8b442f20279ea00b898af96f52" title=" " alt="" coords="5,609,55,636"/>
<area shape="poly" title=" " alt="" coords="2102,798,2092,752,2075,696,2050,636,2014,582,1932,485,1894,447,1856,416,1815,391,1768,374,1713,364,1647,360,428,360,328,364,288,370,251,381,216,396,182,416,105,478,78,510,58,547,37,610,32,608,53,545,73,507,101,474,179,412,214,391,250,376,287,365,328,359,428,355,1647,355,1713,358,1769,369,1817,387,1859,411,1898,443,1936,481,2018,578,2054,634,2080,694,2097,751,2107,796"/>
<area shape="rect" href="class_r_g_w_period.html#a789657c727994fc695ddf1248f678eac" title=" " alt="" coords="1309,753,1450,780"/>
<area shape="poly" title=" " alt="" coords="2063,809,2016,795,1938,782,1859,773,1701,763,1560,762,1450,765,1450,760,1560,757,1702,758,1859,767,1939,777,2017,789,2065,803"/>
<area shape="poly" title=" " alt="" coords="2112,855,2109,913,2096,986,2084,1024,2067,1060,2046,1093,2018,1121,1990,1139,1953,1154,1861,1178,1750,1194,1628,1204,1503,1209,1383,1209,1193,1202,1193,1197,1383,1204,1503,1203,1628,1199,1750,1189,1860,1173,1952,1149,1987,1134,2015,1117,2042,1090,2063,1057,2079,1022,2090,985,2103,912,2107,854"/>
<area shape="rect" href="class_r_g_w_period.html#a962d1ba643a8dd2463b72c77188df35c" title=" " alt="" coords="1836,804,1987,847"/>
<area shape="poly" title=" " alt="" coords="2049,828,1988,828,1988,823,2049,823"/>
<area shape="rect" href="class_r_g_w_meta_sync_status_manager.html#a16720f99e7f45e7c16f6a72acf0cae80" title=" " alt="" coords="1279,1039,1480,1081"/>
<area shape="poly" title=" " alt="" coords="2108,855,2099,895,2083,944,2056,992,2039,1013,2018,1030,1952,1066,1880,1090,1805,1104,1729,1110,1655,1109,1586,1104,1468,1085,1469,1079,1586,1098,1656,1104,1729,1105,1804,1099,1878,1085,1949,1061,2015,1026,2035,1009,2052,989,2078,942,2094,894,2103,853"/>
<area shape="rect" href="rgw__zone_8cc.html#acbc9d0f3bd530587c7e7e64073d5bf2c" title=" " alt="" coords="1059,929,1183,956"/>
<area shape="poly" title=" " alt="" coords="2064,847,2017,861,1899,884,1777,903,1539,928,1332,940,1184,945,1183,940,1332,935,1539,923,1777,898,1898,879,2016,856,2062,842"/>
<area shape="rect" href="class_r_g_w_remote_data_log.html#aa781e10fae1b2aad769f12ae97692004" title=" " alt="" coords="1826,33,1997,76"/>
<area shape="poly" title=" " alt="" coords="2105,796,2098,661,2082,468,2070,368,2055,275,2036,196,2014,140,1986,105,1951,79,1954,75,1989,101,2019,137,2041,195,2060,273,2075,367,2087,467,2103,661,2111,796"/>
<area shape="rect" href="class_r_g_w_remote_data_log.html#ad7c62d2805330625048edb27c009b46d" title=" " alt="" coords="1822,663,2001,705"/>
<area shape="poly" title=" " alt="" coords="2081,804,2015,750,1950,708,1953,704,2018,746,2084,799"/>
<area shape="rect" href="class_r_g_w_data_sync_status_manager.html#a1e9f01ad9a9aa457c3783b3dfa4c07f0" title=" " alt="" coords="1547,492,1745,535"/>
<area shape="poly" title=" " alt="" coords="2099,798,2087,765,2069,726,2045,687,2015,653,1984,629,1952,608,1881,574,1810,549,1745,532,1746,527,1812,544,1883,569,1954,604,1987,625,2018,649,2049,683,2074,723,2092,763,2104,796"/>
<area shape="rect" href="class_r_g_w_remote_meta_log.html#a0b1f50798e7338bb54bff5872318f785" title=" " alt="" coords="1821,921,2002,964"/>
<area shape="poly" title=" " alt="" coords="2086,852,2055,879,2018,905,1980,923,1978,918,2015,900,2052,875,2083,847"/>
<area shape="rect" href="class_r_g_w_meta_sync_status_manager.html#a5b874bd603d866e6b588092efcaad4c3" title=" " alt="" coords="1546,980,1746,1023"/>
<area shape="poly" title=" " alt="" coords="2103,855,2091,885,2073,919,2049,952,2018,978,1986,995,1952,1007,1881,1021,1811,1024,1746,1021,1747,1015,1811,1019,1880,1016,1950,1002,1984,990,2015,974,2045,948,2069,916,2086,883,2098,853"/>
<area shape="rect" href="class_r_g_w_remote_bucket_manager.html#a25798d2aa486ddf8a666e96e9574790f" title=" " alt="" coords="1817,1187,2006,1229"/>
<area shape="poly" title=" " alt="" coords="2112,854,2109,918,2096,1001,2085,1046,2068,1090,2046,1132,2018,1170,1995,1188,1991,1184,2014,1166,2042,1129,2063,1088,2079,1045,2091,1000,2104,917,2107,854"/>
<area shape="rect" href="class_r_g_w_remote_meta_log.html#acda3cdc36d0f85d5292141bca4cb37a9" title=" " alt="" coords="1807,151,2016,177"/>
<area shape="poly" title=" " alt="" coords="2107,797,2104,708,2091,579,2080,507,2063,432,2042,359,2014,289,1995,256,1971,225,1927,180,1931,176,1975,222,1999,253,2019,287,2047,357,2068,431,2085,506,2096,578,2109,707,2112,796"/>
<area shape="rect" href="class_r_g_w_period.html#a9f872876d61c9bdc3413d4ebc3d9c806" title=" " alt="" coords="805,160,955,187"/>
<area shape="poly" title=" " alt="" coords="1308,284,936,190,937,185,1309,278"/>
<area shape="rect" href="class_r_g_w_period.html#a0bb4affb3673a6086cd2d6b2de0d0ca7" title=" " alt="" coords="1040,277,1202,320"/>
<area shape="poly" title=" " alt="" coords="1294,301,1203,301,1203,296,1294,296"/>
<area shape="rect" href="class_r_g_w_period.html#a858b78a44963a5743a561f45098cd32d" title=" " alt="" coords="593,223,708,249"/>
<area shape="poly" title=" " alt="" coords="814,194,703,225,702,219,813,189"/>
<area shape="rect" href="class_r_g_w_period.html#a732df12a248a940293ecab3f005c7c81" title=" " alt="" coords="802,211,958,253"/>
<area shape="poly" title=" " alt="" coords="1026,275,957,256,959,251,1028,270"/>
<area shape="rect" href="class_r_g_w_period.html#a171e0664b28ddedf9facc578d12c7a9a" title=" " alt="" coords="792,496,968,539"/>
<area shape="poly" title=" " alt="" coords="1087,333,907,498,903,494,1083,329"/>
<area shape="rect" href="class_r_g_w_period.html#a3ff0e67155215f85caaa4909c49b3b5f" title=" " alt="" coords="801,277,959,320"/>
<area shape="poly" title=" " alt="" coords="1025,301,959,301,959,296,1025,296"/>
<area shape="rect" href="class_r_g_w_period.html#ac2ee7a44ae93d4f27a9cb89fff99337c" title=" " alt="" coords="580,664,721,691"/>
<area shape="poly" title=" " alt="" coords="837,550,673,666,670,661,833,546"/>
<area shape="rect" href="class_r_g_w_op___period___post.html#abcff3a2b0a17526dc84c53af6949df85" title=" " alt="" coords="351,601,507,644"/>
<area shape="poly" title=" " alt="" coords="777,520,670,529,613,539,558,553,506,576,462,603,459,599,504,571,556,548,612,534,669,524,776,515"/>
<area shape="rect" href="rgw__admin_8cc.html#a693377846b7628a32c724cf0200e5a9e" title=" " alt="" coords="598,461,703,488"/>
<area shape="poly" title=" " alt="" coords="776,501,702,487,703,482,777,496"/>
<area shape="rect" href="class_r_g_w_period_puller.html#a926a489065e72d0f2b0fe48ac773bfa3" title=" " alt="" coords="575,563,726,589"/>
<area shape="poly" title=" " alt="" coords="780,546,706,565,705,559,779,540"/>
<area shape="rect" href="rgw__admin_8cc.html#aa84c5ba46881dc6ab82e752f5864a5d6" title=" " alt="" coords="376,765,482,792"/>
<area shape="poly" title=" " alt="" coords="576,698,558,705,499,736,451,767,448,763,496,732,556,700,574,693"/>
<area shape="poly" title=" " alt="" coords="578,662,507,645,508,639,580,657"/>
<area shape="poly" title=" " alt="" coords="360,770,217,740,149,722,101,702,81,688,64,671,38,638,42,635,68,667,85,684,104,698,151,717,218,735,361,765"/>
<area shape="rect" href="rgw__admin_8cc.html#a4dd5fe9ff30e3225bca7a06c01dde2bd" title=" " alt="" coords="151,769,253,796"/>
<area shape="poly" title=" " alt="" coords="361,783,253,784,253,779,360,777"/>
<area shape="poly" title=" " alt="" coords="134,771,101,753,75,725,55,693,33,637,38,635,60,690,79,722,104,749,137,767"/>
<area shape="poly" title=" " alt="" coords="584,493,55,620,54,614,583,488"/>
<area shape="poly" title=" " alt="" coords="785,276,702,253,703,247,786,270"/>
<area shape="rect" href="class_r_g_w_period.html#aad876e2bf1fe7bd5c326dca3e5d06167" title=" " alt="" coords="1044,673,1199,716"/>
<area shape="poly" title=" " alt="" coords="1314,751,1199,719,1200,714,1315,746"/>
<area shape="rect" href="class_r_g_w_period.html#a9f31f8de41684b5f70a40eedf88385ac" title=" " alt="" coords="1044,757,1198,784"/>
<area shape="poly" title=" " alt="" coords="1294,771,1199,772,1199,767,1294,765"/>
<area shape="poly" title=" " alt="" coords="1088,664,1034,612,967,560,934,542,937,537,969,555,1037,608,1091,660"/>
<area shape="poly" title=" " alt="" coords="1029,714,894,735,744,756,602,770,483,778,483,773,602,764,743,751,894,730,1028,708"/>
<area shape="rect" href="class_r_g_w_period.html#a712625093a5b4aa41606a5bd88dba2d7" title=" " alt="" coords="813,664,947,691"/>
<area shape="poly" title=" " alt="" coords="1028,691,947,685,948,679,1028,685"/>
<area shape="poly" title=" " alt="" coords="797,680,722,680,722,675,797,675"/>
<area shape="rect" href="class_r_g_w_realm.html#a94df61b7090e87e6c429ba8817667e91" title=" " alt="" coords="583,715,718,741"/>
<area shape="poly" title=" " alt="" coords="802,697,715,717,714,711,800,692"/>
<area shape="poly" title=" " alt="" coords="568,717,55,629,56,624,569,712"/>
<area shape="rect" href="class_r_g_w_s_i___zone.html#a205deedd36f60c1cbe8fb13b70fa497c" title=" " alt="" coords="349,859,509,901"/>
<area shape="poly" title=" " alt="" coords="619,753,463,860,460,856,615,748"/>
<area shape="rect" href="class_r_g_w_s_i___zone.html#ad23dec454ebb23b2404d687a81ae0d70" title=" " alt="" coords="124,867,280,893"/>
<area shape="poly" title=" " alt="" coords="334,883,280,883,280,877,334,877"/>
<area shape="poly" title=" " alt="" coords="1035,756,721,694,722,689,1036,751"/>
<area shape="poly" title=" " alt="" coords="1029,784,814,801,685,804,557,800,482,791,483,785,558,795,685,799,813,796,1028,779"/>
<area shape="poly" title=" " alt="" coords="1102,798,1018,919,1006,944,1000,967,990,988,969,1006,883,1050,803,1075,764,1081,727,1082,653,1075,580,1052,506,1018,429,971,347,915,331,901,322,887,313,872,299,857,260,824,223,799,227,794,263,820,303,853,317,869,326,884,335,897,351,911,432,967,509,1013,582,1047,654,1069,727,1077,764,1075,802,1069,881,1045,967,1002,986,985,995,965,1001,943,1014,916,1098,795"/>
<area shape="poly" title=" " alt="" coords="1053,753,1014,730,998,709,991,689,984,670,967,654,931,640,882,630,758,619,624,618,508,621,507,616,624,612,758,614,883,624,933,635,969,650,988,667,996,687,1003,707,1018,726,1056,749"/>
<area shape="poly" title=" " alt="" coords="1043,753,1014,730,995,697,988,664,990,632,995,600,999,570,999,541,989,513,966,486,936,466,902,453,865,446,828,444,756,450,696,463,694,458,755,445,828,438,866,441,903,448,938,461,970,482,994,510,1004,540,1004,570,1000,601,995,632,993,664,1000,695,1018,726,1046,748"/>
<area shape="poly" title=" " alt="" coords="1048,753,1014,730,1002,714,995,698,991,666,987,636,979,623,966,610,939,593,910,581,847,566,784,562,727,566,727,561,784,557,848,561,912,575,942,588,970,606,984,620,992,635,997,665,1000,696,1007,711,1018,726,1051,749"/>
<area shape="poly" title=" " alt="" coords="1069,754,916,694,918,689,1071,749"/>
<area shape="poly" title=" " alt="" coords="1050,791,968,808,718,847,510,874,509,869,717,842,968,803,1049,785"/>
<area shape="rect" href="class_r_g_w_period.html#ac34e6f602944e47c4e1d4b39bc7b9ed7" title=" " alt="" coords="557,951,744,977"/>
<area shape="poly" title=" " alt="" coords="1104,798,1026,904,970,974,935,988,898,996,824,1000,754,993,697,981,698,975,755,988,824,995,898,991,933,983,966,970,1022,901,1099,795"/>
<area shape="poly" title=" " alt="" coords="598,947,487,904,489,899,600,942"/>
<area shape="poly" title=" " alt="" coords="1208,1185,1401,1185,1640,1176,1758,1165,1865,1148,1953,1124,1988,1110,2015,1093,2042,1065,2064,1032,2080,996,2091,958,2104,889,2107,839,2112,839,2109,889,2097,960,2085,998,2068,1034,2046,1068,2018,1097,1990,1114,1955,1129,1867,1153,1759,1170,1641,1181,1401,1190,1208,1191"/>
<area shape="rect" href="class_r_g_w_meta_sync_c_r.html#afad7b38b095d66c0aea14d72c5b2505a" title=" " alt="" coords="1555,812,1737,839"/>
<area shape="poly" title=" " alt="" coords="1821,828,1737,828,1737,823,1821,823"/>
<area shape="poly" title=" " alt="" coords="1272,1088,1227,1096,1066,1122,941,1139,814,1149,652,1152,428,1152,377,1155,331,1161,250,1174,213,1174,177,1167,139,1150,101,1119,88,1103,77,1081,59,1024,46,954,37,878,29,732,28,636,34,636,35,732,42,878,51,954,64,1023,81,1079,92,1100,105,1115,142,1145,178,1162,214,1169,250,1168,330,1156,376,1149,428,1147,652,1147,814,1144,940,1134,1065,1116,1226,1091,1271,1082"/>
<area shape="poly" title=" " alt="" coords="1295,1091,1276,1102,1261,1116,1253,1131,1244,1146,1228,1161,1189,1179,1187,1174,1225,1156,1240,1143,1248,1128,1257,1113,1273,1098,1292,1086"/>
<area shape="rect" href="class_r_g_w_meta_sync_processor_thread.html#afc360f6d27adbc707c78067d8f789be1" title=" " alt="" coords="1016,1039,1226,1081"/>
<area shape="poly" title=" " alt="" coords="1264,1063,1227,1063,1227,1057,1264,1057"/>
<area shape="poly" title=" " alt="" coords="1316,1034,1152,959,1154,954,1318,1030"/>
<area shape="rect" href="class_r_g_w_period.html#af20e32f528fccfe8767df0541ed422af" title=" " alt="" coords="794,917,966,960"/>
<area shape="poly" title=" " alt="" coords="1043,944,966,943,966,937,1043,939"/>
<area shape="poly" title=" " alt="" coords="854,906,789,799,777,770,770,747,761,726,742,705,720,692,723,687,745,701,766,723,775,745,782,768,794,796,859,903"/>
<area shape="rect" href="class_r_g_w_data_sync_status_manager.html#a42ca31291a2adf642041ed34ce58095c" title=" " alt="" coords="103,13,301,56"/>
<area shape="poly" title=" " alt="" coords="1810,42,1612,20,1496,11,1381,8,649,8,464,14,302,27,301,22,464,9,649,3,1381,3,1497,6,1612,14,1811,37"/>
<area shape="poly" title=" " alt="" coords="144,67,122,84,105,105,87,149,72,211,51,363,39,512,34,609,29,609,34,512,45,362,67,210,82,147,100,103,118,81,140,63"/>
<area shape="poly" title=" " alt="" coords="1859,656,1806,624,1677,538,1680,533,1808,619,1862,652"/>
<area shape="poly" title=" " alt="" coords="1761,515,1822,521,1888,533,1954,552,2018,578,2061,603,2103,633,2176,700,2234,764,2270,810,2266,813,2230,767,2173,704,2099,637,2058,607,2015,582,1953,557,1886,539,1821,527,1760,520"/>
<area shape="poly" title=" " alt="" coords="1564,489,1474,464,1365,438,1244,419,1122,411,428,411,365,417,304,435,245,462,191,493,143,527,102,560,46,611,43,607,98,556,140,523,189,489,243,457,302,430,364,412,428,405,1123,405,1245,413,1366,433,1476,459,1565,484"/>
<area shape="rect" href="class_r_g_w_op___d_a_t_a_log___status.html#a4f79dca41731b7246ffaef20a77180be" title=" " alt="" coords="1291,492,1468,535"/>
<area shape="poly" title=" " alt="" coords="1531,516,1469,516,1469,511,1531,511"/>
<area shape="poly" title=" " alt="" coords="1806,969,1746,982,1745,977,1805,963"/>
<area shape="poly" title=" " alt="" coords="1530,998,1397,995,1248,996,1112,1006,1058,1016,1017,1029,1002,1041,994,1055,986,1069,969,1082,925,1101,885,1111,849,1115,815,1115,743,1107,652,1101,428,1101,369,1099,320,1090,276,1075,238,1055,204,1028,170,994,100,907,79,872,62,834,40,756,31,685,29,637,34,636,36,685,46,755,67,832,83,870,105,904,174,991,207,1024,241,1050,279,1071,321,1085,370,1093,428,1096,652,1096,743,1102,815,1110,849,1110,884,1106,923,1096,967,1078,982,1066,990,1052,998,1037,1015,1024,1056,1011,1111,1001,1248,991,1397,989,1530,993"/>
<area shape="poly" title=" " alt="" coords="1601,1033,1547,1066,1486,1096,1176,1179,1174,1174,1484,1091,1545,1061,1599,1029"/>
<area shape="poly" title=" " alt="" coords="1532,1029,1480,1041,1479,1035,1530,1024"/>
<area shape="poly" title=" " alt="" coords="1530,991,1484,985,1183,952,1184,947,1485,980,1530,985"/>
<area shape="rect" href="class_r_g_w_meta_sync_status_manager.html#a2e6dcb3f153919994f8b9864c033210a" title=" " alt="" coords="1533,109,1759,136"/>
<area shape="poly" title=" " alt="" coords="1806,150,1736,139,1737,134,1807,145"/>
<area shape="poly" title=" " alt="" coords="1517,125,1123,125,428,125,369,129,319,139,276,156,239,180,206,210,173,247,105,340,84,375,68,413,47,491,37,561,34,609,29,609,31,560,41,490,63,411,79,373,100,337,169,243,202,206,236,175,274,151,317,134,368,123,428,120,1123,120,1517,120"/>
<area shape="rect" href="class_r_g_w_meta_sync_processor_thread.html#abe2acfcf6f22db63d007a86d6c389262" title=" " alt="" coords="1274,43,1485,85"/>
<area shape="poly" title=" " alt="" coords="1566,108,1479,88,1480,83,1567,103"/>
</map>
</div>

</div>
</div>
<a id="a925d03f534fd8c7fe90e906e741a925b" name="a925d03f534fd8c7fe90e906e741a925b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a925d03f534fd8c7fe90e906e741a925b">&#9670;&#160;</a></span>read_current_period_id()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int read_current_period_id </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classrgw_1_1sal_1_1_rados_store.html">rgw::sal::RadosStore</a> *&#160;</td>
          <td class="paramname"><em>store</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>realm_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>realm_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::string *&#160;</td>
          <td class="paramname"><em>period_id</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition"><a class="el" href="rgw__admin_8cc_source.html">rgw_admin.cc</a> 파일의 <a class="el" href="rgw__admin_8cc_source.html#l02079">2079</a> 번째 라인에서 정의되었습니다.</p>
<div class="fragment"><div class="line"><span class="lineno"> 2082</span>{</div>
<div class="line"><span class="lineno"> 2083</span>  <a class="code hl_class" href="class_r_g_w_realm.html">RGWRealm</a> realm(realm_id, realm_name);</div>
<div class="line"><span class="lineno"> 2084</span>  <span class="keywordtype">int</span> ret = realm.init(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>(), g_ceph_context, <a class="code hl_variable" href="rgw__admin_8cc.html#a6fdb26d64b14d837b60e83a6ca3e2863">store</a>-&gt;svc()-&gt;sysobj, null_yield);</div>
<div class="line"><span class="lineno"> 2085</span>  <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno"> 2086</span>    std::cerr &lt;&lt; <span class="stringliteral">&quot;failed to read realm: &quot;</span> &lt;&lt; cpp_strerror(-ret) &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 2087</span>    <span class="keywordflow">return</span> ret;</div>
<div class="line"><span class="lineno"> 2088</span>  }</div>
<div class="line"><span class="lineno"> 2089</span>  *period_id = realm.get_current_period();</div>
<div class="line"><span class="lineno"> 2090</span>  <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno"> 2091</span>}</div>
</div><!-- fragment --><div class="dynheader">
이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="rgw__admin_8cc_a925d03f534fd8c7fe90e906e741a925b_cgraph.png" border="0" usemap="#argw__admin_8cc_a925d03f534fd8c7fe90e906e741a925b_cgraph" alt=""/></div>
<map name="argw__admin_8cc_a925d03f534fd8c7fe90e906e741a925b_cgraph" id="argw__admin_8cc_a925d03f534fd8c7fe90e906e741a925b_cgraph">
<area shape="rect" title=" " alt="" coords="5,752,158,779"/>
<area shape="rect" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5" title=" " alt="" coords="2121,528,2164,555"/>
<area shape="poly" title=" " alt="" coords="81,751,88,690,102,591,127,469,167,339,192,274,222,213,257,156,297,106,343,63,394,31,452,10,516,3,1746,3,1849,5,1892,9,1931,18,1968,32,2004,54,2039,84,2075,124,2093,155,2107,199,2127,310,2138,425,2143,513,2138,513,2133,425,2121,310,2101,200,2088,157,2071,127,2035,88,2001,58,1966,37,1930,23,1891,14,1848,10,1746,8,516,8,453,15,397,36,346,67,301,109,261,159,227,216,197,277,172,341,133,471,107,592,93,690,86,752"/>
<area shape="rect" href="class_r_g_w_realm.html#a9ca0c2bccfc8424322b838456c610c63" title=" " alt="" coords="210,803,374,845"/>
<area shape="poly" title=" " alt="" coords="133,777,199,795,198,801,131,782"/>
<area shape="rect" href="class_r_g_w_system_meta_obj.html#a23150c4c841a29335f5a93ede8f8ecb6" title=" " alt="" coords="206,752,378,779"/>
<area shape="poly" title=" " alt="" coords="158,763,190,763,190,768,158,768"/>
<area shape="poly" title=" " alt="" coords="342,777,421,797,524,818,639,836,757,843,1746,843,1797,845,1843,851,1923,864,1959,864,1995,858,2032,842,2071,814,2084,797,2096,772,2114,704,2128,631,2136,570,2141,571,2133,632,2120,706,2101,774,2089,800,2075,818,2035,847,1997,863,1960,870,1922,869,1843,857,1797,851,1746,848,757,848,639,841,523,824,420,802,341,782"/>
<area shape="rect" href="class_r_g_w_system_meta_obj.html#a817e95ad94657bfe6db891f4d9881468" title=" " alt="" coords="431,883,604,925"/>
<area shape="poly" title=" " alt="" coords="359,777,380,789,397,807,405,826,413,844,428,862,442,872,439,877,424,866,408,847,400,828,392,810,376,793,356,782"/>
<area shape="rect" href="class_r_g_w_system_meta_obj.html#aba55c7315c627119d622b006378a8025" title=" " alt="" coords="431,949,604,992"/>
<area shape="poly" title=" " alt="" coords="363,777,380,789,395,807,402,826,405,863,408,900,415,918,428,936,430,937,426,941,424,939,410,920,403,901,400,864,397,827,390,810,376,793,360,781"/>
<area shape="rect" href="class_r_g_w_system_meta_obj.html#ab3b9b6a166d26f18f7aab617d35d57cd" title=" " alt="" coords="913,553,1110,580"/>
<area shape="poly" title=" " alt="" coords="379,775,489,780,550,777,609,767,664,751,719,730,824,681,913,629,977,587,980,592,915,634,826,685,721,735,666,756,610,772,550,782,489,785,378,780"/>
<area shape="rect" href="class_r_g_w_system_meta_obj.html#ae7e3aff329eedbd281ac07a44ecd6a61" title=" " alt="" coords="908,357,1115,384"/>
<area shape="poly" title=" " alt="" coords="302,750,352,692,433,609,483,564,537,520,596,479,656,444,714,420,775,401,892,378,893,384,776,406,716,425,659,449,598,484,541,524,486,568,437,613,356,696,306,753"/>
<area shape="rect" href="class_r_g_w_system_meta_obj.html#a62f5b26f43f66ec573d39b441f754f91" title=" " alt="" coords="426,241,609,284"/>
<area shape="poly" title=" " alt="" coords="293,751,307,689,333,592,372,479,396,422,424,368,451,328,481,294,485,297,455,331,428,371,401,424,377,481,338,593,312,690,298,752"/>
<area shape="rect" href="class_r_g_w_system_meta_obj.html#a5a8935b9b30c0fa33b9a7944f6011466" title=" " alt="" coords="430,715,606,757"/>
<area shape="poly" title=" " alt="" coords="378,752,414,747,414,752,379,757"/>
<area shape="poly" title=" " alt="" coords="1024,579,1046,607,1078,643,1118,679,1164,707,1212,727,1254,739,1292,746,1329,748,1407,745,1505,741,1746,741,1843,746,1921,750,1957,746,1993,736,2030,719,2072,691,2097,665,2115,632,2127,599,2134,569,2139,571,2132,601,2120,635,2101,668,2075,695,2033,724,1994,741,1958,751,1921,755,1842,751,1746,747,1505,747,1407,750,1329,753,1292,751,1253,744,1210,732,1162,712,1115,683,1074,647,1042,610,1020,582"/>
<area shape="rect" href="class_r_g_w_system_meta_obj.html#acac7c925fbb228672af3985d25b211d1" title=" " alt="" coords="1167,553,1364,580"/>
<area shape="poly" title=" " alt="" coords="1110,564,1151,564,1151,569,1110,569"/>
<area shape="rect" href="class_r_g_w_system_meta_obj.html#a4a7c4b8d2f38faaa98a08a4671a48f28" title=" " alt="" coords="1179,655,1352,697"/>
<area shape="poly" title=" " alt="" coords="1038,578,1095,608,1164,640,1180,646,1178,651,1162,645,1093,613,1036,583"/>
<area shape="rect" href="class_r_g_w_s_i___sys_obj.html#a07a9aa07a04694c3df0dcefd1c84e12f" title=" " alt="" coords="1183,604,1348,631"/>
<area shape="poly" title=" " alt="" coords="1082,578,1181,598,1179,603,1081,583"/>
<area shape="rect" href="class_r_g_w_system_meta_obj.html#ab4375285103f2c85951f748607dab8d9" title=" " alt="" coords="1163,244,1367,271"/>
<area shape="poly" title=" " alt="" coords="1080,550,1098,541,1113,528,1132,497,1140,466,1139,436,1135,405,1131,374,1131,343,1139,312,1161,281,1164,278,1167,282,1165,284,1144,314,1136,344,1136,374,1140,404,1144,435,1145,467,1137,499,1117,531,1101,545,1082,555"/>
<area shape="rect" href="class_r_g_w_s_i___sys_obj.html#a42dbd3046b9d94873446090556f05e63" title=" " alt="" coords="1195,295,1335,337"/>
<area shape="poly" title=" " alt="" coords="1078,550,1097,541,1113,528,1128,505,1135,483,1136,439,1137,394,1145,371,1161,347,1179,333,1183,337,1165,351,1149,373,1142,395,1141,439,1141,484,1133,508,1117,531,1100,545,1081,555"/>
<area shape="rect" href="struct_r_g_w_s_i___sys_obj_1_1_obj_1_1_r_op.html#a55890f78a9ed31e3ae4e5f22e84f9cbf" title=" " alt="" coords="1190,463,1341,505"/>
<area shape="poly" title=" " alt="" coords="1054,550,1182,508,1184,513,1056,555"/>
<area shape="rect" href="class_r_g_w_s_i___sys_obj_1_1_obj.html#a4cb9ed748128c5e25d73056b4bc11bc5" title=" " alt="" coords="1181,361,1350,388"/>
<area shape="poly" title=" " alt="" coords="1070,550,1093,540,1113,527,1130,509,1138,491,1146,471,1161,449,1193,419,1226,395,1230,399,1197,423,1165,452,1151,473,1143,493,1134,512,1117,531,1096,545,1073,555"/>
<area shape="poly" title=" " alt="" coords="1225,555,1217,545,1222,535,1239,529,1265,527,1294,529,1309,536,1307,541,1293,534,1265,532,1240,534,1226,539,1223,544,1229,551"/>
<area shape="poly" title=" " alt="" coords="1335,503,1368,515,1447,546,1506,572,1567,597,1646,623,1767,652,1891,665,1944,674,1987,684,2027,684,2048,678,2072,666,2095,646,2112,621,2132,569,2137,571,2117,624,2099,650,2075,670,2050,683,2027,689,1986,689,1943,679,1891,671,1767,657,1645,628,1565,602,1504,577,1444,551,1366,520,1334,508"/>
<area shape="rect" href="class_r_g_w_s_i___sys_obj___core.html#a03e9b419187607394a0ea471f2fc9423" title=" " alt="" coords="1415,461,1598,488"/>
<area shape="poly" title=" " alt="" coords="1341,478,1400,476,1400,481,1341,484"/>
<area shape="poly" title=" " alt="" coords="1563,458,1645,439,1740,415,1864,386,1927,376,1986,371,2036,374,2057,380,2075,388,2102,415,2121,447,2133,482,2140,512,2135,513,2128,483,2116,450,2098,418,2072,393,2055,385,2035,380,1986,376,1928,381,1865,391,1741,420,1646,444,1564,463"/>
<area shape="rect" href="class_r_g_w_s_i___r_a_d_o_s_1_1_obj.html#acba7765f4366625406a8ce0e0a39e712" title=" " alt="" coords="1658,453,1831,496"/>
<area shape="poly" title=" " alt="" coords="1598,472,1642,472,1642,477,1598,477"/>
<area shape="rect" href="class_r_g_w_s_i___sys_obj___core.html#a761aa8f43c2fd7a005e3ce10f8997afd" title=" " alt="" coords="1666,520,1823,563"/>
<area shape="poly" title=" " alt="" coords="1558,486,1652,513,1650,518,1556,491"/>
<area shape="rect" href="class_r_g_w_s_i___r_a_d_o_s_1_1_obj.html#a7cf0358834aa8caa78893cc5d4d98f2b" title=" " alt="" coords="1646,587,1843,613"/>
<area shape="poly" title=" " alt="" coords="1524,486,1576,529,1610,552,1647,572,1662,579,1660,584,1645,577,1608,557,1573,533,1521,491"/>
<area shape="rect" href="struct_r_g_w_obj_version_tracker.html#a00fa9eb065d43718c02325862a0d1df7" title=" " alt="" coords="1664,285,1825,328"/>
<area shape="poly" title=" " alt="" coords="1516,459,1567,401,1604,367,1644,338,1653,333,1656,337,1647,342,1607,371,1571,405,1520,463"/>
<area shape="rect" href="rgw__tools_8cc.html#a6cc59136e1df61d96f404169c4a300ce" title=" " alt="" coords="1686,352,1803,379"/>
<area shape="poly" title=" " alt="" coords="1528,458,1580,427,1645,395,1679,382,1681,387,1647,400,1583,432,1531,463"/>
<area shape="poly" title=" " alt="" coords="1823,539,2106,539,2106,544,1823,544"/>
<area shape="rect" href="class_r_g_w_s_i___r_a_d_o_s.html#ad7d4a82ecd8081a59c37e3730345711d" title=" " alt="" coords="1911,403,2054,429"/>
<area shape="poly" title=" " alt="" coords="1822,517,1841,506,1856,490,1864,473,1873,456,1889,439,1897,434,1900,439,1893,443,1877,459,1869,476,1861,493,1845,510,1825,522"/>
<area shape="rect" href="class_r_g_w_s_i___r_a_d_o_s_1_1_obj.html#adc703eaa1aad5a55504ce25bea09836a" title=" " alt="" coords="1891,477,2073,504"/>
<area shape="poly" title=" " alt="" coords="1823,522,1901,505,1902,510,1824,527"/>
<area shape="poly" title=" " alt="" coords="2028,502,2107,528,2106,533,2026,507"/>
<area shape="poly" title=" " alt="" coords="1954,478,1949,469,1953,459,1964,453,1982,451,2002,453,2012,460,2009,464,2000,458,1982,456,1966,458,1957,463,1955,468,1959,476"/>
<area shape="poly" title=" " alt="" coords="1840,583,2105,544,2106,549,1840,589"/>
<area shape="rect" href="rgw__tools_8cc.html#ac8fd9a95626d93661d7280c9455eba5c" title="perform the rados operation, using the yield context when given" alt="" coords="1917,629,2047,656"/>
<area shape="poly" title=" " alt="" coords="1823,611,1902,626,1901,631,1822,617"/>
<area shape="poly" title=" " alt="" coords="2034,626,2072,608,2098,588,2119,565,2123,568,2101,592,2075,613,2036,631"/>
<area shape="rect" href="struct_r_g_w_obj_version_tracker.html#a962d855794c47d114e825f836d0e12dc" title=" " alt="" coords="1902,285,2062,328"/>
<area shape="poly" title=" " alt="" coords="1825,304,1887,304,1887,309,1825,309"/>
<area shape="poly" title=" " alt="" coords="1020,355,1041,327,1074,291,1115,256,1162,230,1223,213,1324,197,1453,182,1596,171,1742,169,1879,177,1940,186,1994,199,2040,216,2075,238,2090,257,2103,286,2123,363,2135,445,2142,512,2136,512,2130,446,2117,364,2098,288,2086,260,2072,242,2037,221,1992,204,1939,191,1878,182,1742,174,1596,177,1453,187,1325,202,1224,219,1164,234,1118,260,1077,295,1046,330,1024,359"/>
<area shape="poly" title=" " alt="" coords="1099,382,1117,394,1130,409,1138,424,1143,455,1148,485,1154,500,1165,516,1184,532,1206,544,1203,549,1181,536,1161,519,1149,503,1142,486,1138,455,1133,426,1126,412,1113,398,1096,387"/>
<area shape="poly" title=" " alt="" coords="1101,382,1117,394,1135,419,1143,444,1144,469,1142,494,1139,519,1140,543,1148,567,1165,590,1171,595,1167,599,1161,594,1143,569,1135,544,1134,519,1136,494,1139,469,1138,445,1130,421,1113,398,1098,387"/>
<area shape="poly" title=" " alt="" coords="1031,355,1088,318,1162,280,1182,273,1184,278,1164,285,1091,322,1034,359"/>
<area shape="poly" title=" " alt="" coords="1076,354,1179,332,1181,337,1077,359"/>
<area shape="poly" title=" " alt="" coords="1082,382,1116,394,1172,421,1222,452,1219,456,1170,426,1114,398,1080,387"/>
<area shape="poly" title=" " alt="" coords="1116,370,1165,370,1165,376,1116,375"/>
<area shape="rect" href="class_r_g_w_system_meta_obj.html#a528019413d7412cf8012455239149972" title=" " alt="" coords="1179,127,1352,169"/>
<area shape="poly" title=" " alt="" coords="1018,355,1072,277,1113,228,1161,186,1180,174,1183,179,1165,190,1117,232,1076,280,1023,358"/>
<area shape="rect" href="class_r_g_w_s_i___sys_obj.html#aaf17b23ff4d23d6f1fc8b36b6101a731" title=" " alt="" coords="657,117,860,144"/>
<area shape="poly" title=" " alt="" coords="557,239,718,149,720,154,560,243"/>
<area shape="rect" href="class_r_g_w_s_i___sys_obj___core.html#a17855cbd7e8d1b9c2b3028280e501180" title=" " alt="" coords="933,43,1090,85"/>
<area shape="poly" title=" " alt="" coords="812,114,917,86,919,91,813,119"/>
<area shape="poly" title=" " alt="" coords="607,742,996,773,1249,786,1505,792,1746,792,1797,794,1843,799,1922,808,1958,807,1994,800,2031,783,2072,755,2090,736,2105,714,2125,663,2135,613,2139,570,2144,571,2141,613,2131,665,2110,716,2094,740,2075,759,2034,788,1996,805,1959,813,1922,814,1843,805,1797,800,1746,797,1505,797,1249,792,995,778,606,747"/>
<area shape="rect" href="class_r_g_w_system_meta_obj.html#a4be124d4d443be01809092c073247dfb" title=" " alt="" coords="668,459,849,501"/>
<area shape="poly" title=" " alt="" coords="537,712,725,511,728,515,541,716"/>
<area shape="poly" title=" " alt="" coords="773,457,828,386,916,289,970,239,1030,190,1094,147,1162,112,1211,94,1254,83,1292,78,1330,77,1407,82,1505,87,1746,87,1847,87,1890,90,1929,96,1966,108,2002,127,2038,154,2075,192,2090,216,2103,252,2123,342,2135,438,2142,512,2137,513,2130,438,2117,343,2098,253,2086,219,2071,195,2035,158,1999,131,1964,113,1928,101,1889,95,1847,92,1746,92,1505,92,1407,88,1329,82,1293,83,1255,88,1213,99,1164,117,1097,152,1033,194,974,243,920,293,832,390,777,460"/>
<area shape="rect" href="class_r_g_w_system_meta_obj.html#a0b81e3c32bdde9292a8af7d648e1b3b3" title=" " alt="" coords="925,475,1098,517"/>
<area shape="poly" title=" " alt="" coords="849,483,909,487,909,492,849,488"/>
<area shape="rect" href="class_r_g_w_system_meta_obj.html#a02c1108ff6e95f87fb595e4665ca0b35" title=" " alt="" coords="921,408,1102,451"/>
<area shape="poly" title=" " alt="" coords="849,459,905,448,906,453,850,465"/>
<area shape="poly" title=" " alt="" coords="1102,428,1228,421,1298,412,1367,397,1411,383,1446,367,1505,332,1563,298,1600,283,1645,271,1741,254,1866,241,1930,240,1988,243,2038,253,2075,271,2089,288,2101,313,2120,380,2133,452,2141,512,2136,513,2128,453,2115,381,2096,315,2084,291,2072,275,2036,258,1988,249,1930,245,1866,247,1741,259,1646,276,1602,288,1566,303,1507,337,1449,372,1413,388,1368,403,1299,417,1229,426,1102,433"/>
<area shape="poly" title=" " alt="" coords="1095,449,1117,460,1132,474,1142,488,1151,501,1165,515,1215,544,1212,549,1161,519,1146,505,1137,491,1128,478,1113,465,1093,454"/>
<area shape="poly" title=" " alt="" coords="1101,449,1117,461,1130,477,1137,494,1141,528,1145,560,1152,575,1165,590,1171,595,1167,599,1161,594,1147,578,1140,561,1136,528,1132,496,1126,480,1113,465,1098,453"/>
<area shape="poly" title=" " alt="" coords="1097,405,1113,394,1125,381,1131,367,1136,338,1141,309,1148,295,1161,281,1166,277,1169,281,1165,285,1153,298,1146,311,1141,339,1136,368,1129,383,1117,398,1101,410"/>
<area shape="poly" title=" " alt="" coords="1091,405,1114,394,1128,383,1137,371,1146,359,1162,347,1180,338,1182,342,1164,352,1150,363,1141,374,1132,386,1116,398,1094,410"/>
<area shape="poly" title=" " alt="" coords="1102,446,1175,462,1174,467,1101,451"/>
<area shape="poly" title=" " alt="" coords="1101,407,1184,389,1186,394,1102,413"/>
</map>
</div>
<div class="dynheader">
이 함수를 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="rgw__admin_8cc_a925d03f534fd8c7fe90e906e741a925b_icgraph.png" border="0" usemap="#argw__admin_8cc_a925d03f534fd8c7fe90e906e741a925b_icgraph" alt=""/></div>
<map name="argw__admin_8cc_a925d03f534fd8c7fe90e906e741a925b_icgraph" id="argw__admin_8cc_a925d03f534fd8c7fe90e906e741a925b_icgraph">
<area shape="rect" title=" " alt="" coords="103,5,255,32"/>
<area shape="rect" href="rgw__admin_8cc.html#a217dbf8b442f20279ea00b898af96f52" title=" " alt="" coords="5,5,55,32"/>
<area shape="poly" title=" " alt="" coords="87,21,55,21,55,16,87,16"/>
</map>
</div>

</div>
</div>
<a id="a33c98984a0812f3128d874042ee17c68" name="a33c98984a0812f3128d874042ee17c68"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a33c98984a0812f3128d874042ee17c68">&#9670;&#160;</a></span>read_decode_json() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class T &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int read_decode_json </td>
          <td>(</td>
          <td class="paramtype">const string &amp;&#160;</td>
          <td class="paramname"><em>infile</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">T &amp;&#160;</td>
          <td class="paramname"><em>t</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition"><a class="el" href="rgw__admin_8cc_source.html">rgw_admin.cc</a> 파일의 <a class="el" href="rgw__admin_8cc_source.html#l01225">1225</a> 번째 라인에서 정의되었습니다.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1226</span>{</div>
<div class="line"><span class="lineno"> 1227</span>  bufferlist bl;</div>
<div class="line"><span class="lineno"> 1228</span>  <span class="keywordtype">int</span> ret = <a class="code hl_function" href="rgw__admin_8cc.html#a4370c2bc6e6412e65a17072ecebfc3b6">read_input</a>(infile, bl);</div>
<div class="line"><span class="lineno"> 1229</span>  <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno"> 1230</span>    cerr &lt;&lt; <span class="stringliteral">&quot;ERROR: failed to read input: &quot;</span> &lt;&lt; cpp_strerror(-ret) &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 1231</span>    <span class="keywordflow">return</span> ret;</div>
<div class="line"><span class="lineno"> 1232</span>  }</div>
<div class="line"><span class="lineno"> 1233</span>  JSONParser p;</div>
<div class="line"><span class="lineno"> 1234</span>  <span class="keywordflow">if</span> (!p.parse(bl.c_str(), bl.length())) {</div>
<div class="line"><span class="lineno"> 1235</span>    cout &lt;&lt; <span class="stringliteral">&quot;failed to parse JSON&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 1236</span>    <span class="keywordflow">return</span> -EINVAL;</div>
<div class="line"><span class="lineno"> 1237</span>  }</div>
<div class="line"><span class="lineno"> 1238</span> </div>
<div class="line"><span class="lineno"> 1239</span>  <span class="keywordflow">try</span> {</div>
<div class="line"><span class="lineno"> 1240</span>    <a class="code hl_function" href="rgw__basic__types_8cc.html#a83dfe8268c0c76ff6ceaf083ad129d5c">decode_json_obj</a>(t, &amp;p);</div>
<div class="line"><span class="lineno"> 1241</span>  } <span class="keywordflow">catch</span> (<span class="keyword">const</span> JSONDecoder::err&amp; e) {</div>
<div class="line"><span class="lineno"> 1242</span>    cout &lt;&lt; <span class="stringliteral">&quot;failed to decode JSON input: &quot;</span> &lt;&lt; e.what() &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 1243</span>    <span class="keywordflow">return</span> -EINVAL;</div>
<div class="line"><span class="lineno"> 1244</span>  }</div>
<div class="line"><span class="lineno"> 1245</span>  <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno"> 1246</span>}</div>
</div><!-- fragment --><div class="dynheader">
이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="rgw__admin_8cc_a33c98984a0812f3128d874042ee17c68_cgraph.png" border="0" usemap="#argw__admin_8cc_a33c98984a0812f3128d874042ee17c68_cgraph" alt=""/></div>
<map name="argw__admin_8cc_a33c98984a0812f3128d874042ee17c68_cgraph" id="argw__admin_8cc_a33c98984a0812f3128d874042ee17c68_cgraph">
<area shape="rect" title=" " alt="" coords="5,31,132,57"/>
<area shape="rect" href="rgw__basic__types_8cc.html#a83dfe8268c0c76ff6ceaf083ad129d5c" title=" " alt="" coords="180,5,298,32"/>
<area shape="poly" title=" " alt="" coords="132,32,164,27,165,32,133,37"/>
<area shape="rect" href="rgw__admin_8cc.html#a4370c2bc6e6412e65a17072ecebfc3b6" title=" " alt="" coords="198,56,280,83"/>
<area shape="poly" title=" " alt="" coords="133,51,183,58,183,64,132,56"/>
<area shape="rect" href="structrgw__user.html#a7e60b2dd070ae3af5cebb6c34946bac6" title=" " alt="" coords="346,5,474,32"/>
<area shape="poly" title=" " alt="" coords="298,16,330,16,330,21,298,21"/>
</map>
</div>
<div class="dynheader">
이 함수를 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="rgw__admin_8cc_a33c98984a0812f3128d874042ee17c68_icgraph.png" border="0" usemap="#argw__admin_8cc_a33c98984a0812f3128d874042ee17c68_icgraph" alt=""/></div>
<map name="argw__admin_8cc_a33c98984a0812f3128d874042ee17c68_icgraph" id="argw__admin_8cc_a33c98984a0812f3128d874042ee17c68_icgraph">
<area shape="rect" title=" " alt="" coords="103,5,229,32"/>
<area shape="rect" href="rgw__admin_8cc.html#a217dbf8b442f20279ea00b898af96f52" title=" " alt="" coords="5,5,55,32"/>
<area shape="poly" title=" " alt="" coords="87,21,55,21,55,16,87,16"/>
</map>
</div>

</div>
</div>
<a id="adfb9f542429916b1b87a9f793f6467e5" name="adfb9f542429916b1b87a9f793f6467e5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adfb9f542429916b1b87a9f793f6467e5">&#9670;&#160;</a></span>read_decode_json() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class T , class K &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int read_decode_json </td>
          <td>(</td>
          <td class="paramtype">const string &amp;&#160;</td>
          <td class="paramname"><em>infile</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">T &amp;&#160;</td>
          <td class="paramname"><em>t</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">K *&#160;</td>
          <td class="paramname"><em>k</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition"><a class="el" href="rgw__admin_8cc_source.html">rgw_admin.cc</a> 파일의 <a class="el" href="rgw__admin_8cc_source.html#l01249">1249</a> 번째 라인에서 정의되었습니다.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1250</span>{</div>
<div class="line"><span class="lineno"> 1251</span>  bufferlist bl;</div>
<div class="line"><span class="lineno"> 1252</span>  <span class="keywordtype">int</span> ret = <a class="code hl_function" href="rgw__admin_8cc.html#a4370c2bc6e6412e65a17072ecebfc3b6">read_input</a>(infile, bl);</div>
<div class="line"><span class="lineno"> 1253</span>  <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno"> 1254</span>    cerr &lt;&lt; <span class="stringliteral">&quot;ERROR: failed to read input: &quot;</span> &lt;&lt; cpp_strerror(-ret) &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 1255</span>    <span class="keywordflow">return</span> ret;</div>
<div class="line"><span class="lineno"> 1256</span>  }</div>
<div class="line"><span class="lineno"> 1257</span>  JSONParser p;</div>
<div class="line"><span class="lineno"> 1258</span>  <span class="keywordflow">if</span> (!p.parse(bl.c_str(), bl.length())) {</div>
<div class="line"><span class="lineno"> 1259</span>    cout &lt;&lt; <span class="stringliteral">&quot;failed to parse JSON&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 1260</span>    <span class="keywordflow">return</span> -EINVAL;</div>
<div class="line"><span class="lineno"> 1261</span>  }</div>
<div class="line"><span class="lineno"> 1262</span> </div>
<div class="line"><span class="lineno"> 1263</span>  <span class="keywordflow">try</span> {</div>
<div class="line"><span class="lineno"> 1264</span>    t.decode_json(&amp;p, k);</div>
<div class="line"><span class="lineno"> 1265</span>  } <span class="keywordflow">catch</span> (<span class="keyword">const</span> JSONDecoder::err&amp; e) {</div>
<div class="line"><span class="lineno"> 1266</span>    cout &lt;&lt; <span class="stringliteral">&quot;failed to decode JSON input: &quot;</span> &lt;&lt; e.what() &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 1267</span>    <span class="keywordflow">return</span> -EINVAL;</div>
<div class="line"><span class="lineno"> 1268</span>  }</div>
<div class="line"><span class="lineno"> 1269</span>  <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno"> 1270</span>}</div>
</div><!-- fragment --><div class="dynheader">
이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="rgw__admin_8cc_adfb9f542429916b1b87a9f793f6467e5_cgraph.png" border="0" usemap="#argw__admin_8cc_adfb9f542429916b1b87a9f793f6467e5_cgraph" alt=""/></div>
<map name="argw__admin_8cc_adfb9f542429916b1b87a9f793f6467e5_cgraph" id="argw__admin_8cc_adfb9f542429916b1b87a9f793f6467e5_cgraph">
<area shape="rect" title=" " alt="" coords="5,5,132,32"/>
<area shape="rect" href="rgw__admin_8cc.html#a4370c2bc6e6412e65a17072ecebfc3b6" title=" " alt="" coords="180,5,261,32"/>
<area shape="poly" title=" " alt="" coords="132,16,164,16,164,21,132,21"/>
</map>
</div>

</div>
</div>
<a id="a4370c2bc6e6412e65a17072ecebfc3b6" name="a4370c2bc6e6412e65a17072ecebfc3b6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4370c2bc6e6412e65a17072ecebfc3b6">&#9670;&#160;</a></span>read_input()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int read_input </td>
          <td>(</td>
          <td class="paramtype">const string &amp;&#160;</td>
          <td class="paramname"><em>infile</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bufferlist &amp;&#160;</td>
          <td class="paramname"><em>bl</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition"><a class="el" href="rgw__admin_8cc_source.html">rgw_admin.cc</a> 파일의 <a class="el" href="rgw__admin_8cc_source.html#l01188">1188</a> 번째 라인에서 정의되었습니다.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1189</span>{</div>
<div class="line"><span class="lineno"> 1190</span>  <span class="keywordtype">int</span> fd = 0;</div>
<div class="line"><span class="lineno"> 1191</span>  <span class="keywordflow">if</span> (infile.size()) {</div>
<div class="line"><span class="lineno"> 1192</span>    fd = open(infile.c_str(), O_RDONLY);</div>
<div class="line"><span class="lineno"> 1193</span>    <span class="keywordflow">if</span> (fd &lt; 0) {</div>
<div class="line"><span class="lineno"> 1194</span>      <span class="keywordtype">int</span> err = -errno;</div>
<div class="line"><span class="lineno"> 1195</span>      cerr &lt;&lt; <span class="stringliteral">&quot;error reading input file &quot;</span> &lt;&lt; infile &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 1196</span>      <span class="keywordflow">return</span> err;</div>
<div class="line"><span class="lineno"> 1197</span>    }</div>
<div class="line"><span class="lineno"> 1198</span>  }</div>
<div class="line"><span class="lineno"> 1199</span> </div>
<div class="line"><span class="lineno"> 1200</span><span class="preprocessor">#define READ_CHUNK 8196</span></div>
<div class="line"><span class="lineno"> 1201</span>  <span class="keywordtype">int</span> <a class="code hl_variable" href="rgw__aio_8cc.html#ae38055824c6eac64615832ad9d888539">r</a>;</div>
<div class="line"><span class="lineno"> 1202</span>  <span class="keywordtype">int</span> err;</div>
<div class="line"><span class="lineno"> 1203</span> </div>
<div class="line"><span class="lineno"> 1204</span>  <span class="keywordflow">do</span> {</div>
<div class="line"><span class="lineno"> 1205</span>    <span class="keywordtype">char</span> buf[<a class="code hl_define" href="rgw__admin_8cc.html#adb77daf1e50d6f419c247052dda62a9e">READ_CHUNK</a>];</div>
<div class="line"><span class="lineno"> 1206</span> </div>
<div class="line"><span class="lineno"> 1207</span>    <a class="code hl_variable" href="rgw__aio_8cc.html#ae38055824c6eac64615832ad9d888539">r</a> = safe_read(fd, buf, <a class="code hl_define" href="rgw__admin_8cc.html#adb77daf1e50d6f419c247052dda62a9e">READ_CHUNK</a>);</div>
<div class="line"><span class="lineno"> 1208</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="rgw__aio_8cc.html#ae38055824c6eac64615832ad9d888539">r</a> &lt; 0) {</div>
<div class="line"><span class="lineno"> 1209</span>      err = -errno;</div>
<div class="line"><span class="lineno"> 1210</span>      cerr &lt;&lt; <span class="stringliteral">&quot;error while reading input&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 1211</span>      <span class="keywordflow">goto</span> out;</div>
<div class="line"><span class="lineno"> 1212</span>    }</div>
<div class="line"><span class="lineno"> 1213</span>    bl.append(buf, <a class="code hl_variable" href="rgw__aio_8cc.html#ae38055824c6eac64615832ad9d888539">r</a>);</div>
<div class="line"><span class="lineno"> 1214</span>  } <span class="keywordflow">while</span> (<a class="code hl_variable" href="rgw__aio_8cc.html#ae38055824c6eac64615832ad9d888539">r</a> &gt; 0);</div>
<div class="line"><span class="lineno"> 1215</span>  err = 0;</div>
<div class="line"><span class="lineno"> 1216</span> </div>
<div class="line"><span class="lineno"> 1217</span> out:</div>
<div class="line"><span class="lineno"> 1218</span>  <span class="keywordflow">if</span> (infile.size()) {</div>
<div class="line"><span class="lineno"> 1219</span>    close(fd);</div>
<div class="line"><span class="lineno"> 1220</span>  }</div>
<div class="line"><span class="lineno"> 1221</span>  <span class="keywordflow">return</span> err;</div>
<div class="line"><span class="lineno"> 1222</span>}</div>
<div class="ttc" id="argw__admin_8cc_html_adb77daf1e50d6f419c247052dda62a9e"><div class="ttname"><a href="rgw__admin_8cc.html#adb77daf1e50d6f419c247052dda62a9e">READ_CHUNK</a></div><div class="ttdeci">#define READ_CHUNK</div></div>
</div><!-- fragment --><div class="dynheader">
이 함수를 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="rgw__admin_8cc_a4370c2bc6e6412e65a17072ecebfc3b6_icgraph.png" border="0" usemap="#argw__admin_8cc_a4370c2bc6e6412e65a17072ecebfc3b6_icgraph" alt=""/></div>
<map name="argw__admin_8cc_a4370c2bc6e6412e65a17072ecebfc3b6_icgraph" id="argw__admin_8cc_a4370c2bc6e6412e65a17072ecebfc3b6_icgraph">
<area shape="rect" title=" " alt="" coords="277,31,358,57"/>
<area shape="rect" href="rgw__admin_8cc.html#a217dbf8b442f20279ea00b898af96f52" title=" " alt="" coords="5,5,55,32"/>
<area shape="poly" title=" " alt="" coords="262,28,229,21,133,16,55,19,55,14,133,11,229,16,263,23"/>
<area shape="rect" href="rgw__admin_8cc.html#a33c98984a0812f3128d874042ee17c68" title=" " alt="" coords="103,31,229,57"/>
<area shape="poly" title=" " alt="" coords="261,47,229,47,229,41,261,41"/>
<area shape="rect" href="rgw__admin_8cc.html#adfb9f542429916b1b87a9f793f6467e5" title=" " alt="" coords="103,81,229,108"/>
<area shape="poly" title=" " alt="" coords="263,65,209,83,207,78,261,60"/>
<area shape="poly" title=" " alt="" coords="87,32,55,26,56,21,88,27"/>
</map>
</div>

</div>
</div>
<a id="a78fd52ad2c196db029e40a44eebaa75c" name="a78fd52ad2c196db029e40a44eebaa75c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a78fd52ad2c196db029e40a44eebaa75c">&#9670;&#160;</a></span>require_non_empty_opt()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class T &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool require_non_empty_opt </td>
          <td>(</td>
          <td class="paramtype">std::optional&lt; T &gt;&#160;</td>
          <td class="paramname"><em>opt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>extra_check</em> = <code>true</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition"><a class="el" href="rgw__admin_8cc_source.html">rgw_admin.cc</a> 파일의 <a class="el" href="rgw__admin_8cc_source.html#l03044">3044</a> 번째 라인에서 정의되었습니다.</p>
<div class="fragment"><div class="line"><span class="lineno"> 3045</span>{</div>
<div class="line"><span class="lineno"> 3046</span>  <span class="keywordflow">if</span> (!opt || opt-&gt;empty() || !extra_check) {</div>
<div class="line"><span class="lineno"> 3047</span>    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 3048</span>  }</div>
<div class="line"><span class="lineno"> 3049</span>  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 3050</span>}</div>
</div><!-- fragment --><div class="dynheader">
이 함수를 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="rgw__admin_8cc_a78fd52ad2c196db029e40a44eebaa75c_icgraph.png" border="0" usemap="#argw__admin_8cc_a78fd52ad2c196db029e40a44eebaa75c_icgraph" alt=""/></div>
<map name="argw__admin_8cc_a78fd52ad2c196db029e40a44eebaa75c_icgraph" id="argw__admin_8cc_a78fd52ad2c196db029e40a44eebaa75c_icgraph">
<area shape="rect" title=" " alt="" coords="103,5,259,32"/>
<area shape="rect" href="rgw__admin_8cc.html#a217dbf8b442f20279ea00b898af96f52" title=" " alt="" coords="5,5,55,32"/>
<area shape="poly" title=" " alt="" coords="87,21,55,21,55,16,87,16"/>
</map>
</div>

</div>
</div>
<a id="a0f5786a9208fab23de2b4d15b3280a19" name="a0f5786a9208fab23de2b4d15b3280a19"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0f5786a9208fab23de2b4d15b3280a19">&#9670;&#160;</a></span>require_opt()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class T &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool require_opt </td>
          <td>(</td>
          <td class="paramtype">std::optional&lt; T &gt;&#160;</td>
          <td class="paramname"><em>opt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>extra_check</em> = <code>true</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition"><a class="el" href="rgw__admin_8cc_source.html">rgw_admin.cc</a> 파일의 <a class="el" href="rgw__admin_8cc_source.html#l03035">3035</a> 번째 라인에서 정의되었습니다.</p>
<div class="fragment"><div class="line"><span class="lineno"> 3036</span>{</div>
<div class="line"><span class="lineno"> 3037</span>  <span class="keywordflow">if</span> (!opt || !extra_check) {</div>
<div class="line"><span class="lineno"> 3038</span>    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 3039</span>  }</div>
<div class="line"><span class="lineno"> 3040</span>  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 3041</span>}</div>
</div><!-- fragment --><div class="dynheader">
이 함수를 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="rgw__admin_8cc_a0f5786a9208fab23de2b4d15b3280a19_icgraph.png" border="0" usemap="#argw__admin_8cc_a0f5786a9208fab23de2b4d15b3280a19_icgraph" alt=""/></div>
<map name="argw__admin_8cc_a0f5786a9208fab23de2b4d15b3280a19_icgraph" id="argw__admin_8cc_a0f5786a9208fab23de2b4d15b3280a19_icgraph">
<area shape="rect" title=" " alt="" coords="103,5,188,32"/>
<area shape="rect" href="rgw__admin_8cc.html#a217dbf8b442f20279ea00b898af96f52" title=" " alt="" coords="5,5,55,32"/>
<area shape="poly" title=" " alt="" coords="87,21,55,21,55,16,87,16"/>
</map>
</div>

</div>
</div>
<a id="abb5c367234c8db13f74b9ce673c1e089" name="abb5c367234c8db13f74b9ce673c1e089"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abb5c367234c8db13f74b9ce673c1e089">&#9670;&#160;</a></span>resolve_zone_id()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="structrgw__zone__id.html">rgw_zone_id</a> resolve_zone_id </td>
          <td>(</td>
          <td class="paramtype">const string &amp;&#160;</td>
          <td class="paramname"><em>s</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition"><a class="el" href="rgw__admin_8cc_source.html">rgw_admin.cc</a> 파일의 <a class="el" href="rgw__admin_8cc_source.html#l02599">2599</a> 번째 라인에서 정의되었습니다.</p>
<div class="fragment"><div class="line"><span class="lineno"> 2600</span>{</div>
<div class="line"><span class="lineno"> 2601</span>  <a class="code hl_struct" href="structrgw__zone__id.html">rgw_zone_id</a> result;</div>
<div class="line"><span class="lineno"> 2602</span> </div>
<div class="line"><span class="lineno"> 2603</span>  <a class="code hl_struct" href="struct_r_g_w_zone.html">RGWZone</a> *zone;</div>
<div class="line"><span class="lineno"> 2604</span>  <span class="keywordflow">if</span> (<span class="keyword">static_cast&lt;</span><a class="code hl_class" href="classrgw_1_1sal_1_1_rados_store.html">rgw::sal::RadosStore</a>*<span class="keyword">&gt;</span>(<a class="code hl_variable" href="rgw__admin_8cc.html#a6fdb26d64b14d837b60e83a6ca3e2863">store</a>)-&gt;svc()-&gt;zone-&gt;find_zone(s, &amp;zone)) {</div>
<div class="line"><span class="lineno"> 2605</span>    <span class="keywordflow">return</span> <a class="code hl_struct" href="structrgw__zone__id.html">rgw_zone_id</a>(s);</div>
<div class="line"><span class="lineno"> 2606</span>  }</div>
<div class="line"><span class="lineno"> 2607</span>  <span class="keywordflow">if</span> (<span class="keyword">static_cast&lt;</span><a class="code hl_class" href="classrgw_1_1sal_1_1_rados_store.html">rgw::sal::RadosStore</a>*<span class="keyword">&gt;</span>(<a class="code hl_variable" href="rgw__admin_8cc.html#a6fdb26d64b14d837b60e83a6ca3e2863">store</a>)-&gt;svc()-&gt;zone-&gt;find_zone_id_by_name(s, &amp;result)) {</div>
<div class="line"><span class="lineno"> 2608</span>    <span class="keywordflow">return</span> result;</div>
<div class="line"><span class="lineno"> 2609</span>  }</div>
<div class="line"><span class="lineno"> 2610</span>  <span class="keywordflow">return</span> <a class="code hl_struct" href="structrgw__zone__id.html">rgw_zone_id</a>(s);</div>
<div class="line"><span class="lineno"> 2611</span>}</div>
</div><!-- fragment --><div class="dynheader">
이 함수를 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="rgw__admin_8cc_abb5c367234c8db13f74b9ce673c1e089_icgraph.png" border="0" usemap="#argw__admin_8cc_abb5c367234c8db13f74b9ce673c1e089_icgraph" alt=""/></div>
<map name="argw__admin_8cc_abb5c367234c8db13f74b9ce673c1e089_icgraph" id="argw__admin_8cc_abb5c367234c8db13f74b9ce673c1e089_icgraph">
<area shape="rect" title=" " alt="" coords="1317,280,1431,307"/>
<area shape="rect" href="rgw__admin_8cc.html#a68870a41c8445ca90e3f92b4519b8f4d" title=" " alt="" coords="1153,280,1269,307"/>
<area shape="poly" title=" " alt="" coords="1302,296,1270,296,1270,291,1302,291"/>
<area shape="rect" href="rgw__admin_8cc.html#abfa871472fdef30cd489d5795df05b4d" title=" " alt="" coords="1029,280,1105,307"/>
<area shape="poly" title=" " alt="" coords="1138,296,1106,296,1106,291,1138,291"/>
<area shape="rect" href="structrgw__data__sync__status.html#a0efc3edb8a9d925394a5836f2e896def" title=" " alt="" coords="812,5,964,48"/>
<area shape="poly" title=" " alt="" coords="1060,265,1053,221,1038,166,1014,111,998,85,979,62,962,49,966,45,983,58,1003,82,1019,108,1043,165,1058,220,1065,264"/>
<area shape="rect" href="structrgw__meta__sync__status.html#ad88c1542f334a6deaabcf2cec315e335" title=" " alt="" coords="810,72,966,115"/>
<area shape="poly" title=" " alt="" coords="1056,266,1029,197,1007,161,979,129,963,117,966,113,982,125,1011,157,1034,195,1061,264"/>
<area shape="rect" href="structrgw__data__sync__status.html#a75f459b743f801688caa14ac8bc5744f" title=" " alt="" coords="812,139,964,181"/>
<area shape="poly" title=" " alt="" coords="1047,268,1018,231,979,195,960,184,962,180,982,191,1022,227,1051,265"/>
<area shape="rect" href="structrgw__data__sync__status.html#acd7ae109a107d8251f757ab43bcdd7f9" title=" " alt="" coords="812,205,964,248"/>
<area shape="poly" title=" " alt="" coords="1015,276,980,262,949,251,951,246,982,258,1017,271"/>
<area shape="rect" href="structrgw__data__sync__status.html#a3e37aa43047f24ad8b2d438d35d04ff2" title=" " alt="" coords="812,272,964,315"/>
<area shape="poly" title=" " alt="" coords="1013,296,964,296,964,291,1013,291"/>
<area shape="rect" href="structrgw__meta__sync__status.html#a551759a5fb384fcd3bd5ebb02844d3a0" title=" " alt="" coords="810,339,966,381"/>
<area shape="poly" title=" " alt="" coords="1017,315,982,329,951,341,949,336,980,324,1015,310"/>
<area shape="rect" href="class_r_g_w_remote_meta_log.html#a0964ba1cde7b10e005105faab2f1cfbc" title=" " alt="" coords="801,405,975,448"/>
<area shape="poly" title=" " alt="" coords="1051,321,1022,359,982,395,962,407,960,402,979,391,1018,356,1047,318"/>
<area shape="rect" href="rgw__admin_8cc.html#a217dbf8b442f20279ea00b898af96f52" title=" " alt="" coords="86,472,135,499"/>
<area shape="poly" title=" " alt="" coords="1063,323,1053,356,1038,395,1014,433,982,462,950,478,908,491,805,508,682,515,550,516,299,504,135,490,136,485,300,499,550,510,682,510,804,502,907,486,948,473,979,458,1010,429,1033,393,1048,355,1058,321"/>
<area shape="rect" href="class_r_g_w_remote_meta_log.html#a8d13af2ee432f0d8cebfa6524809ea51" title=" " alt="" coords="795,523,981,565"/>
<area shape="poly" title=" " alt="" coords="1064,323,1055,362,1039,411,1016,461,983,506,958,524,955,520,979,502,1011,459,1034,409,1050,361,1058,321"/>
<area shape="rect" href="class_r_g_w_meta_sync_status_manager.html#a54e018493477c2cff0cfb7e9dfffc781" title=" " alt="" coords="277,405,477,448"/>
<area shape="poly" title=" " alt="" coords="786,429,477,429,477,424,786,424"/>
<area shape="poly" title=" " alt="" coords="263,454,136,483,135,477,262,449"/>
<area shape="rect" href="class_r_g_w_remote_meta_log.html#acda3cdc36d0f85d5292141bca4cb37a9" title=" " alt="" coords="538,531,747,557"/>
<area shape="poly" title=" " alt="" coords="780,547,748,547,748,541,780,541"/>
<area shape="rect" href="class_r_g_w_meta_sync_status_manager.html#a2e6dcb3f153919994f8b9864c033210a" title=" " alt="" coords="264,531,490,557"/>
<area shape="poly" title=" " alt="" coords="523,547,490,547,490,541,523,541"/>
<area shape="poly" title=" " alt="" coords="297,529,135,493,136,488,298,524"/>
<area shape="rect" href="class_r_g_w_meta_sync_processor_thread.html#abe2acfcf6f22db63d007a86d6c389262" title=" " alt="" coords="5,523,216,565"/>
<area shape="poly" title=" " alt="" coords="248,547,216,547,216,541,248,541"/>
</map>
</div>

</div>
</div>
<a id="a33febd2fe0e966d847c7beab7e0d80e2" name="a33febd2fe0e966d847c7beab7e0d80e2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a33febd2fe0e966d847c7beab7e0d80e2">&#9670;&#160;</a></span>resolve_zone_id_opt()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void resolve_zone_id_opt </td>
          <td>(</td>
          <td class="paramtype">std::optional&lt; string &gt; &amp;&#160;</td>
          <td class="paramname"><em>zone_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::optional&lt; <a class="el" href="structrgw__zone__id.html">rgw_zone_id</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>zone_id</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition"><a class="el" href="rgw__admin_8cc_source.html">rgw_admin.cc</a> 파일의 <a class="el" href="rgw__admin_8cc_source.html#l03156">3156</a> 번째 라인에서 정의되었습니다.</p>
<div class="fragment"><div class="line"><span class="lineno"> 3157</span>{</div>
<div class="line"><span class="lineno"> 3158</span>  <span class="keywordflow">if</span> (!zone_name || zone_id) {</div>
<div class="line"><span class="lineno"> 3159</span>    <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 3160</span>  }</div>
<div class="line"><span class="lineno"> 3161</span>  zone_id.emplace();</div>
<div class="line"><span class="lineno"> 3162</span>  <span class="keywordflow">if</span> (!<span class="keyword">static_cast&lt;</span><a class="code hl_class" href="classrgw_1_1sal_1_1_rados_store.html">rgw::sal::RadosStore</a>*<span class="keyword">&gt;</span>(<a class="code hl_variable" href="rgw__admin_8cc.html#a6fdb26d64b14d837b60e83a6ca3e2863">store</a>)-&gt;svc()-&gt;zone-&gt;find_zone_id_by_name(*zone_name, &amp;(*zone_id))) {</div>
<div class="line"><span class="lineno"> 3163</span>    cerr &lt;&lt; <span class="stringliteral">&quot;WARNING: cannot find source zone id for name=&quot;</span> &lt;&lt; *zone_name &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 3164</span>    zone_id = <a class="code hl_struct" href="structrgw__zone__id.html">rgw_zone_id</a>(*zone_name);</div>
<div class="line"><span class="lineno"> 3165</span>  }</div>
<div class="line"><span class="lineno"> 3166</span>}</div>
</div><!-- fragment --><div class="dynheader">
이 함수를 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="rgw__admin_8cc_a33febd2fe0e966d847c7beab7e0d80e2_icgraph.png" border="0" usemap="#argw__admin_8cc_a33febd2fe0e966d847c7beab7e0d80e2_icgraph" alt=""/></div>
<map name="argw__admin_8cc_a33febd2fe0e966d847c7beab7e0d80e2_icgraph" id="argw__admin_8cc_a33febd2fe0e966d847c7beab7e0d80e2_icgraph">
<area shape="rect" title=" " alt="" coords="103,5,241,32"/>
<area shape="rect" href="rgw__admin_8cc.html#a217dbf8b442f20279ea00b898af96f52" title=" " alt="" coords="5,5,55,32"/>
<area shape="poly" title=" " alt="" coords="87,21,55,21,55,16,87,16"/>
</map>
</div>

</div>
</div>
<a id="a1cd3093171a87f32bc690211a3f2a403" name="a1cd3093171a87f32bc690211a3f2a403"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1cd3093171a87f32bc690211a3f2a403">&#9670;&#160;</a></span>resolve_zone_ids_opt()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void resolve_zone_ids_opt </td>
          <td>(</td>
          <td class="paramtype">std::optional&lt; vector&lt; string &gt; &gt; &amp;&#160;</td>
          <td class="paramname"><em>names</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::optional&lt; vector&lt; <a class="el" href="structrgw__zone__id.html">rgw_zone_id</a> &gt; &gt; &amp;&#160;</td>
          <td class="paramname"><em>ids</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition"><a class="el" href="rgw__admin_8cc_source.html">rgw_admin.cc</a> 파일의 <a class="el" href="rgw__admin_8cc_source.html#l03167">3167</a> 번째 라인에서 정의되었습니다.</p>
<div class="fragment"><div class="line"><span class="lineno"> 3168</span>{</div>
<div class="line"><span class="lineno"> 3169</span>  <span class="keywordflow">if</span> (!names || ids) {</div>
<div class="line"><span class="lineno"> 3170</span>    <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 3171</span>  }</div>
<div class="line"><span class="lineno"> 3172</span>  ids.emplace();</div>
<div class="line"><span class="lineno"> 3173</span>  <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp; name : *names) {</div>
<div class="line"><span class="lineno"> 3174</span>    <a class="code hl_struct" href="structrgw__zone__id.html">rgw_zone_id</a> zid;</div>
<div class="line"><span class="lineno"> 3175</span>    <span class="keywordflow">if</span> (!<span class="keyword">static_cast&lt;</span><a class="code hl_class" href="classrgw_1_1sal_1_1_rados_store.html">rgw::sal::RadosStore</a>*<span class="keyword">&gt;</span>(<a class="code hl_variable" href="rgw__admin_8cc.html#a6fdb26d64b14d837b60e83a6ca3e2863">store</a>)-&gt;svc()-&gt;zone-&gt;find_zone_id_by_name(name, &amp;zid)) {</div>
<div class="line"><span class="lineno"> 3176</span>      cerr &lt;&lt; <span class="stringliteral">&quot;WARNING: cannot find source zone id for name=&quot;</span> &lt;&lt; name &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 3177</span>      zid = <a class="code hl_struct" href="structrgw__zone__id.html">rgw_zone_id</a>(name);</div>
<div class="line"><span class="lineno"> 3178</span>    }</div>
<div class="line"><span class="lineno"> 3179</span>    ids-&gt;push_back(zid);</div>
<div class="line"><span class="lineno"> 3180</span>  }</div>
<div class="line"><span class="lineno"> 3181</span>}</div>
</div><!-- fragment --><div class="dynheader">
이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="rgw__admin_8cc_a1cd3093171a87f32bc690211a3f2a403_cgraph.png" border="0" usemap="#argw__admin_8cc_a1cd3093171a87f32bc690211a3f2a403_cgraph" alt=""/></div>
<map name="argw__admin_8cc_a1cd3093171a87f32bc690211a3f2a403_cgraph" id="argw__admin_8cc_a1cd3093171a87f32bc690211a3f2a403_cgraph">
<area shape="rect" title=" " alt="" coords="5,43,151,69"/>
<area shape="rect" href="class_r_g_w_s_i___zone.html#a12554ddf9270855e27289d3a2cf7ac8c" title=" " alt="" coords="202,5,365,48"/>
<area shape="poly" title=" " alt="" coords="150,43,186,38,187,43,151,48"/>
<area shape="rect" href="classrgw_1_1sal_1_1_rados_store.html#abe4f0602b771d5549a02c0a326d6a832" title=" " alt="" coords="199,72,368,99"/>
<area shape="poly" title=" " alt="" coords="151,64,184,68,183,74,150,69"/>
</map>
</div>
<div class="dynheader">
이 함수를 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="rgw__admin_8cc_a1cd3093171a87f32bc690211a3f2a403_icgraph.png" border="0" usemap="#argw__admin_8cc_a1cd3093171a87f32bc690211a3f2a403_icgraph" alt=""/></div>
<map name="argw__admin_8cc_a1cd3093171a87f32bc690211a3f2a403_icgraph" id="argw__admin_8cc_a1cd3093171a87f32bc690211a3f2a403_icgraph">
<area shape="rect" title=" " alt="" coords="103,5,248,32"/>
<area shape="rect" href="rgw__admin_8cc.html#a217dbf8b442f20279ea00b898af96f52" title=" " alt="" coords="5,5,55,32"/>
<area shape="poly" title=" " alt="" coords="87,21,55,21,55,16,87,16"/>
</map>
</div>

</div>
</div>
<a id="a1a84845aea98042ae470c1245cadb7f9" name="a1a84845aea98042ae470c1245cadb7f9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1a84845aea98042ae470c1245cadb7f9">&#9670;&#160;</a></span>safe_opt()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static string safe_opt </td>
          <td>(</td>
          <td class="paramtype">std::optional&lt; string &gt; &amp;&#160;</td>
          <td class="paramname"><em>os</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition"><a class="el" href="rgw__admin_8cc_source.html">rgw_admin.cc</a> 파일의 <a class="el" href="rgw__admin_8cc_source.html#l03356">3356</a> 번째 라인에서 정의되었습니다.</p>
<div class="fragment"><div class="line"><span class="lineno"> 3357</span>{</div>
<div class="line"><span class="lineno"> 3358</span>  <span class="keywordflow">return</span> os.value_or(<span class="keywordtype">string</span>());</div>
<div class="line"><span class="lineno"> 3359</span>}</div>
</div><!-- fragment --><div class="dynheader">
이 함수를 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="rgw__admin_8cc_a1a84845aea98042ae470c1245cadb7f9_icgraph.png" border="0" usemap="#argw__admin_8cc_a1a84845aea98042ae470c1245cadb7f9_icgraph" alt=""/></div>
<map name="argw__admin_8cc_a1a84845aea98042ae470c1245cadb7f9_icgraph" id="argw__admin_8cc_a1a84845aea98042ae470c1245cadb7f9_icgraph">
<area shape="rect" title=" " alt="" coords="103,5,173,32"/>
<area shape="rect" href="rgw__admin_8cc.html#a217dbf8b442f20279ea00b898af96f52" title=" " alt="" coords="5,5,55,32"/>
<area shape="poly" title=" " alt="" coords="87,21,55,21,55,16,87,16"/>
</map>
</div>

</div>
</div>
<a id="ad26c9d112620dc11a0857551803dd990" name="ad26c9d112620dc11a0857551803dd990"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad26c9d112620dc11a0857551803dd990">&#9670;&#160;</a></span>scan_totp()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int scan_totp </td>
          <td>(</td>
          <td class="paramtype">CephContext *&#160;</td>
          <td class="paramname"><em>cct</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ceph::real_time &amp;&#160;</td>
          <td class="paramname"><em>now</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">rados::cls::otp::otp_info_t &amp;&#160;</td>
          <td class="paramname"><em>totp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">vector&lt; string &gt; &amp;&#160;</td>
          <td class="paramname"><em>pins</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">time_t *&#160;</td>
          <td class="paramname"><em>pofs</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition"><a class="el" href="rgw__admin_8cc_source.html">rgw_admin.cc</a> 파일의 <a class="el" href="rgw__admin_8cc_source.html#l02954">2954</a> 번째 라인에서 정의되었습니다.</p>
<div class="fragment"><div class="line"><span class="lineno"> 2956</span>{</div>
<div class="line"><span class="lineno"> 2957</span><span class="preprocessor">#define MAX_TOTP_SKEW_HOURS (24 * 7)</span></div>
<div class="line"><span class="lineno"> 2958</span>  time_t start_time = ceph::real_clock::to_time_t(now);</div>
<div class="line"><span class="lineno"> 2959</span>  time_t time_ofs = 0, time_ofs_abs = 0;</div>
<div class="line"><span class="lineno"> 2960</span>  time_t step_size = totp.step_size;</div>
<div class="line"><span class="lineno"> 2961</span>  <span class="keywordflow">if</span> (step_size == 0) {</div>
<div class="line"><span class="lineno"> 2962</span>    step_size = OATH_TOTP_DEFAULT_TIME_STEP_SIZE;</div>
<div class="line"><span class="lineno"> 2963</span>  }</div>
<div class="line"><span class="lineno"> 2964</span>  uint32_t <a class="code hl_enumvalue" href="namespacergw_1_1dmclock.html#a6ed0c6ad7f7fc29a06f52a0070d21493ae2942a04780e223b215eb8b663cf5353">count</a> = 0;</div>
<div class="line"><span class="lineno"> 2965</span>  <span class="keywordtype">int</span> sign = 1;</div>
<div class="line"><span class="lineno"> 2966</span> </div>
<div class="line"><span class="lineno"> 2967</span>  uint32_t max_skew = <a class="code hl_define" href="rgw__admin_8cc.html#a4d92151147cbf14f5439dcea2cad244d">MAX_TOTP_SKEW_HOURS</a> * 3600;</div>
<div class="line"><span class="lineno"> 2968</span> </div>
<div class="line"><span class="lineno"> 2969</span>  <span class="keywordflow">while</span> (time_ofs_abs &lt; max_skew) {</div>
<div class="line"><span class="lineno"> 2970</span>    <span class="keywordtype">int</span> rc = oath_totp_validate2(totp.seed_bin.c_str(), totp.seed_bin.length(),</div>
<div class="line"><span class="lineno"> 2971</span>                             start_time, </div>
<div class="line"><span class="lineno"> 2972</span>                             step_size,</div>
<div class="line"><span class="lineno"> 2973</span>                             time_ofs,</div>
<div class="line"><span class="lineno"> 2974</span>                             1,</div>
<div class="line"><span class="lineno"> 2975</span>                             <span class="keyword">nullptr</span>,</div>
<div class="line"><span class="lineno"> 2976</span>                             pins[0].c_str());</div>
<div class="line"><span class="lineno"> 2977</span>    <span class="keywordflow">if</span> (rc != OATH_INVALID_OTP) {</div>
<div class="line"><span class="lineno"> 2978</span>      rc = oath_totp_validate2(totp.seed_bin.c_str(), totp.seed_bin.length(),</div>
<div class="line"><span class="lineno"> 2979</span>                               start_time, </div>
<div class="line"><span class="lineno"> 2980</span>                               step_size,</div>
<div class="line"><span class="lineno"> 2981</span>                               time_ofs - step_size, <span class="comment">/* smaller time_ofs moves time forward */</span></div>
<div class="line"><span class="lineno"> 2982</span>                               1,</div>
<div class="line"><span class="lineno"> 2983</span>                               <span class="keyword">nullptr</span>,</div>
<div class="line"><span class="lineno"> 2984</span>                               pins[1].c_str());</div>
<div class="line"><span class="lineno"> 2985</span>      <span class="keywordflow">if</span> (rc != OATH_INVALID_OTP) {</div>
<div class="line"><span class="lineno"> 2986</span>        *pofs = time_ofs - step_size + step_size * totp.window / 2;</div>
<div class="line"><span class="lineno"> 2987</span>        ldpp_dout(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>(), 20) &lt;&lt; <span class="stringliteral">&quot;found at time=&quot;</span> &lt;&lt; start_time - time_ofs &lt;&lt; <span class="stringliteral">&quot; time_ofs=&quot;</span> &lt;&lt; time_ofs &lt;&lt; dendl;</div>
<div class="line"><span class="lineno"> 2988</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno"> 2989</span>      }</div>
<div class="line"><span class="lineno"> 2990</span>    }</div>
<div class="line"><span class="lineno"> 2991</span>    sign = -sign;</div>
<div class="line"><span class="lineno"> 2992</span>    time_ofs_abs = (++<a class="code hl_enumvalue" href="namespacergw_1_1dmclock.html#a6ed0c6ad7f7fc29a06f52a0070d21493ae2942a04780e223b215eb8b663cf5353">count</a>) * step_size;</div>
<div class="line"><span class="lineno"> 2993</span>    time_ofs = sign * time_ofs_abs;</div>
<div class="line"><span class="lineno"> 2994</span>  }</div>
<div class="line"><span class="lineno"> 2995</span> </div>
<div class="line"><span class="lineno"> 2996</span>  <span class="keywordflow">return</span> -ENOENT;</div>
<div class="line"><span class="lineno"> 2997</span>}</div>
<div class="ttc" id="argw__admin_8cc_html_a4d92151147cbf14f5439dcea2cad244d"><div class="ttname"><a href="rgw__admin_8cc.html#a4d92151147cbf14f5439dcea2cad244d">MAX_TOTP_SKEW_HOURS</a></div><div class="ttdeci">#define MAX_TOTP_SKEW_HOURS</div></div>
</div><!-- fragment --><div class="dynheader">
이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="rgw__admin_8cc_ad26c9d112620dc11a0857551803dd990_cgraph.png" border="0" usemap="#argw__admin_8cc_ad26c9d112620dc11a0857551803dd990_cgraph" alt=""/></div>
<map name="argw__admin_8cc_ad26c9d112620dc11a0857551803dd990_cgraph" id="argw__admin_8cc_ad26c9d112620dc11a0857551803dd990_cgraph">
<area shape="rect" title=" " alt="" coords="5,5,84,32"/>
<area shape="rect" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5" title=" " alt="" coords="132,5,174,32"/>
<area shape="poly" title=" " alt="" coords="84,16,116,16,116,21,84,21"/>
</map>
</div>
<div class="dynheader">
이 함수를 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="rgw__admin_8cc_ad26c9d112620dc11a0857551803dd990_icgraph.png" border="0" usemap="#argw__admin_8cc_ad26c9d112620dc11a0857551803dd990_icgraph" alt=""/></div>
<map name="argw__admin_8cc_ad26c9d112620dc11a0857551803dd990_icgraph" id="argw__admin_8cc_ad26c9d112620dc11a0857551803dd990_icgraph">
<area shape="rect" title=" " alt="" coords="103,5,181,32"/>
<area shape="rect" href="rgw__admin_8cc.html#a217dbf8b442f20279ea00b898af96f52" title=" " alt="" coords="5,5,55,32"/>
<area shape="poly" title=" " alt="" coords="87,21,55,21,55,16,87,16"/>
</map>
</div>

</div>
</div>
<a id="a84cea37ccd3887febf97098889bfb364" name="a84cea37ccd3887febf97098889bfb364"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a84cea37ccd3887febf97098889bfb364">&#9670;&#160;</a></span>search_entities_by_zone()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int search_entities_by_zone </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structrgw__zone__id.html">rgw_zone_id</a>&#160;</td>
          <td class="paramname"><em>zone_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_r_g_w_realm.html">RGWRealm</a> *&#160;</td>
          <td class="paramname"><em>prealm</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_r_g_w_period.html">RGWPeriod</a> *&#160;</td>
          <td class="paramname"><em>pperiod</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_r_g_w_zone_group.html">RGWZoneGroup</a> *&#160;</td>
          <td class="paramname"><em>pzonegroup</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool *&#160;</td>
          <td class="paramname"><em>pfound</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition"><a class="el" href="rgw__admin_8cc_source.html">rgw_admin.cc</a> 파일의 <a class="el" href="rgw__admin_8cc_source.html#l03225">3225</a> 번째 라인에서 정의되었습니다.</p>
<div class="fragment"><div class="line"><span class="lineno"> 3230</span>{</div>
<div class="line"><span class="lineno"> 3231</span>  *pfound = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 3232</span> </div>
<div class="line"><span class="lineno"> 3233</span>  <span class="keyword">auto</span>&amp; found = *pfound;</div>
<div class="line"><span class="lineno"> 3234</span> </div>
<div class="line"><span class="lineno"> 3235</span>  list&lt;string&gt; realms;</div>
<div class="line"><span class="lineno"> 3236</span>  <span class="keywordtype">int</span> <a class="code hl_variable" href="rgw__aio_8cc.html#ae38055824c6eac64615832ad9d888539">r</a> = <span class="keyword">static_cast&lt;</span><a class="code hl_class" href="classrgw_1_1sal_1_1_rados_store.html">rgw::sal::RadosStore</a>*<span class="keyword">&gt;</span>(<a class="code hl_variable" href="rgw__admin_8cc.html#a6fdb26d64b14d837b60e83a6ca3e2863">store</a>)-&gt;svc()-&gt;<a class="code hl_variable" href="classrgw_1_1sal_1_1_rados_store.html#a0a94e58a4595ab519b4c3f89d33419fe">zone</a>-&gt;list_realms(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>(), realms);</div>
<div class="line"><span class="lineno"> 3237</span>  <span class="keywordflow">if</span> (<a class="code hl_variable" href="rgw__aio_8cc.html#ae38055824c6eac64615832ad9d888539">r</a> &lt; 0) {</div>
<div class="line"><span class="lineno"> 3238</span>    cerr &lt;&lt; <span class="stringliteral">&quot;failed to list realms: &quot;</span> &lt;&lt; cpp_strerror(-<a class="code hl_variable" href="rgw__aio_8cc.html#ae38055824c6eac64615832ad9d888539">r</a>) &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 3239</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="rgw__aio_8cc.html#ae38055824c6eac64615832ad9d888539">r</a>;</div>
<div class="line"><span class="lineno"> 3240</span>  }</div>
<div class="line"><span class="lineno"> 3241</span> </div>
<div class="line"><span class="lineno"> 3242</span>  <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp; realm_name : realms) {</div>
<div class="line"><span class="lineno"> 3243</span>    <span class="keywordtype">string</span> realm_id;</div>
<div class="line"><span class="lineno"> 3244</span>    <span class="keywordtype">string</span> period_id;</div>
<div class="line"><span class="lineno"> 3245</span>    <a class="code hl_class" href="class_r_g_w_realm.html">RGWRealm</a> realm(realm_id, realm_name);</div>
<div class="line"><span class="lineno"> 3246</span>    <a class="code hl_variable" href="rgw__aio_8cc.html#ae38055824c6eac64615832ad9d888539">r</a> = realm.init(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>(), g_ceph_context, <span class="keyword">static_cast&lt;</span><a class="code hl_class" href="classrgw_1_1sal_1_1_rados_store.html">rgw::sal::RadosStore</a>*<span class="keyword">&gt;</span>(<a class="code hl_variable" href="rgw__admin_8cc.html#a6fdb26d64b14d837b60e83a6ca3e2863">store</a>)-&gt;svc()-&gt;sysobj, null_yield);</div>
<div class="line"><span class="lineno"> 3247</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="rgw__aio_8cc.html#ae38055824c6eac64615832ad9d888539">r</a> &lt; 0) {</div>
<div class="line"><span class="lineno"> 3248</span>      cerr &lt;&lt; <span class="stringliteral">&quot;WARNING: can&#39;t open realm &quot;</span> &lt;&lt; realm_name &lt;&lt; <span class="stringliteral">&quot;: &quot;</span> &lt;&lt; cpp_strerror(-<a class="code hl_variable" href="rgw__aio_8cc.html#ae38055824c6eac64615832ad9d888539">r</a>) &lt;&lt; <span class="stringliteral">&quot; ... skipping&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 3249</span>      <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 3250</span>    }</div>
<div class="line"><span class="lineno"> 3251</span>    <a class="code hl_class" href="class_r_g_w_period.html">RGWPeriod</a> period;</div>
<div class="line"><span class="lineno"> 3252</span>    <a class="code hl_variable" href="rgw__aio_8cc.html#ae38055824c6eac64615832ad9d888539">r</a> = realm.<a class="code hl_function" href="class_r_g_w_period.html#a7abd7a6f88765d4c711d822ff99990da">find_zone</a>(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>(), zone_id, pperiod,</div>
<div class="line"><span class="lineno"> 3253</span>                        pzonegroup, &amp;found, null_yield);</div>
<div class="line"><span class="lineno"> 3254</span> </div>
<div class="line"><span class="lineno"> 3255</span>    <span class="keywordflow">if</span> (found) {</div>
<div class="line"><span class="lineno"> 3256</span>      *prealm = realm;</div>
<div class="line"><span class="lineno"> 3257</span>      <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 3258</span>    }</div>
<div class="line"><span class="lineno"> 3259</span>  }</div>
<div class="line"><span class="lineno"> 3260</span> </div>
<div class="line"><span class="lineno"> 3261</span>  <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno"> 3262</span>}</div>
<div class="ttc" id="aclass_r_g_w_period_html_a7abd7a6f88765d4c711d822ff99990da"><div class="ttname"><a href="class_r_g_w_period.html#a7abd7a6f88765d4c711d822ff99990da">RGWPeriod::find_zone</a></div><div class="ttdeci">bool find_zone(const DoutPrefixProvider *dpp, const rgw_zone_id &amp;zid, RGWZoneGroup *pzonegroup, optional_yield y) const</div><div class="ttdef"><b>Definition</b> <a href="rgw__zone_8cc_source.html#l01071">rgw_zone.cc:1071</a></div></div>
</div><!-- fragment --><div class="dynheader">
이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="rgw__admin_8cc_a84cea37ccd3887febf97098889bfb364_cgraph.png" border="0" usemap="#argw__admin_8cc_a84cea37ccd3887febf97098889bfb364_cgraph" alt=""/></div>
<map name="argw__admin_8cc_a84cea37ccd3887febf97098889bfb364_cgraph" id="argw__admin_8cc_a84cea37ccd3887febf97098889bfb364_cgraph">
<area shape="rect" title=" " alt="" coords="5,259,171,285"/>
<area shape="rect" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5" title=" " alt="" coords="2163,604,2206,631"/>
<area shape="poly" title=" " alt="" coords="171,269,544,269,1788,269,1887,266,1968,268,2005,275,2041,290,2078,313,2117,346,2130,364,2141,390,2160,457,2182,588,2177,589,2155,458,2136,392,2125,367,2113,350,2075,317,2039,294,2003,280,1967,273,1887,272,1788,275,544,275,171,275"/>
<area shape="rect" href="class_r_g_w_realm.html#ac49ccaf2e8d356f93478e5ea109c1c91" title=" " alt="" coords="228,132,382,159"/>
<area shape="poly" title=" " alt="" coords="111,256,266,164,269,169,114,260"/>
<area shape="rect" href="class_r_g_w_system_meta_obj.html#a23150c4c841a29335f5a93ede8f8ecb6" title=" " alt="" coords="219,480,391,507"/>
<area shape="poly" title=" " alt="" coords="105,284,282,467,278,471,101,288"/>
<area shape="poly" title=" " alt="" coords="336,157,384,176,440,193,539,212,618,219,799,219,1788,219,1839,216,1885,210,1966,198,2003,197,2040,204,2078,221,2117,251,2135,276,2149,313,2168,408,2180,509,2185,588,2179,588,2174,510,2163,409,2143,314,2130,279,2113,255,2075,226,2038,209,2003,202,1966,203,1886,215,1840,221,1788,224,799,224,618,224,538,217,438,199,382,182,334,162"/>
<area shape="rect" href="class_r_g_w_period.html#a7abd7a6f88765d4c711d822ff99990da" title=" " alt="" coords="469,157,622,184"/>
<area shape="poly" title=" " alt="" coords="382,151,453,158,453,164,382,156"/>
<area shape="rect" href="class_r_g_w_system_meta_obj.html#ab885e5d275a5396cc473703ab55f50b1" title=" " alt="" coords="450,5,640,32"/>
<area shape="poly" title=" " alt="" coords="318,130,368,86,402,62,438,42,454,35,456,40,440,46,405,67,372,90,322,134"/>
<area shape="rect" href="class_r_g_w_system_meta_obj.html#a333abaa7960a2c63b4341d5f9ec500bf" title=" " alt="" coords="439,56,651,83"/>
<area shape="poly" title=" " alt="" coords="338,129,438,92,465,84,467,90,440,97,340,134"/>
<area shape="rect" href="class_r_g_w_period.html#aa5e1b5147ab3f01311c33cc73927d1c2" title=" " alt="" coords="488,107,603,133"/>
<area shape="poly" title=" " alt="" coords="382,135,472,125,473,130,382,140"/>
<area shape="rect" href="struct_r_g_w_period_map.html#a5ffb8865827c5780d09feabd3d0f31ca" title=" " alt="" coords="729,141,872,184"/>
<area shape="poly" title=" " alt="" coords="622,166,713,163,713,168,622,171"/>
<area shape="poly" title=" " alt="" coords="313,478,361,418,396,384,438,358,489,336,533,322,574,315,613,313,696,316,799,320,1788,320,1887,319,1967,324,2004,333,2040,349,2078,373,2117,406,2135,426,2149,449,2169,499,2180,548,2185,588,2180,589,2175,549,2164,500,2145,452,2131,429,2113,410,2074,377,2038,353,2002,338,1966,329,1887,324,1788,325,799,325,695,321,613,318,575,320,535,328,490,341,440,362,400,388,364,421,317,481"/>
<area shape="rect" href="class_r_g_w_system_meta_obj.html#a817e95ad94657bfe6db891f4d9881468" title=" " alt="" coords="459,372,632,415"/>
<area shape="poly" title=" " alt="" coords="330,477,379,451,438,424,455,418,457,423,440,429,382,456,332,482"/>
<area shape="rect" href="class_r_g_w_system_meta_obj.html#aba55c7315c627119d622b006378a8025" title=" " alt="" coords="459,439,632,481"/>
<area shape="poly" title=" " alt="" coords="391,479,443,471,443,477,392,484"/>
<area shape="rect" href="class_r_g_w_system_meta_obj.html#ab3b9b6a166d26f18f7aab617d35d57cd" title=" " alt="" coords="955,629,1152,656"/>
<area shape="poly" title=" " alt="" coords="330,505,379,532,440,557,572,591,706,614,832,628,939,636,939,641,832,633,705,619,571,596,438,563,377,537,327,510"/>
<area shape="rect" href="class_r_g_w_system_meta_obj.html#ae7e3aff329eedbd281ac07a44ecd6a61" title=" " alt="" coords="950,813,1157,840"/>
<area shape="poly" title=" " alt="" coords="312,506,325,552,349,614,366,647,387,680,412,709,441,734,498,768,560,795,626,814,692,827,758,835,822,838,934,837,935,842,822,844,758,840,691,832,624,819,559,800,496,773,437,738,408,713,383,683,362,650,344,616,320,553,307,508"/>
<area shape="rect" href="class_r_g_w_system_meta_obj.html#a62f5b26f43f66ec573d39b441f754f91" title=" " alt="" coords="454,681,637,724"/>
<area shape="poly" title=" " alt="" coords="318,505,368,565,403,602,441,637,491,671,488,675,437,641,399,606,364,569,314,509"/>
<area shape="rect" href="class_r_g_w_system_meta_obj.html#a5a8935b9b30c0fa33b9a7944f6011466" title=" " alt="" coords="457,505,633,548"/>
<area shape="poly" title=" " alt="" coords="392,503,442,510,441,515,391,508"/>
<area shape="poly" title=" " alt="" coords="1074,626,1131,594,1167,577,1204,564,1299,543,1374,536,1547,539,1788,539,1955,537,2027,545,2116,571,2156,592,2154,597,2114,576,2026,551,1954,542,1788,544,1547,544,1374,541,1299,548,1206,569,1169,582,1133,599,1077,631"/>
<area shape="rect" href="class_r_g_w_system_meta_obj.html#acac7c925fbb228672af3985d25b211d1" title=" " alt="" coords="1209,888,1406,915"/>
<area shape="poly" title=" " alt="" coords="1143,654,1159,666,1176,689,1185,712,1187,735,1186,758,1186,804,1192,827,1207,850,1224,866,1245,879,1242,884,1221,871,1203,854,1188,829,1181,804,1181,758,1182,735,1180,713,1172,692,1155,670,1140,659"/>
<area shape="rect" href="class_r_g_w_system_meta_obj.html#a4a7c4b8d2f38faaa98a08a4671a48f28" title=" " alt="" coords="1221,461,1394,504"/>
<area shape="poly" title=" " alt="" coords="1070,627,1204,520,1227,508,1230,513,1206,525,1073,631"/>
<area shape="rect" href="class_r_g_w_s_i___sys_obj.html#a07a9aa07a04694c3df0dcefd1c84e12f" title=" " alt="" coords="1225,939,1390,965"/>
<area shape="poly" title=" " alt="" coords="1144,654,1159,666,1181,699,1190,732,1189,765,1184,798,1178,830,1178,862,1186,893,1207,925,1213,931,1210,935,1203,928,1181,896,1172,863,1173,830,1178,797,1184,765,1184,733,1176,701,1155,670,1141,659"/>
<area shape="rect" href="class_r_g_w_system_meta_obj.html#ab4375285103f2c85951f748607dab8d9" title=" " alt="" coords="1205,579,1409,605"/>
<area shape="poly" title=" " alt="" coords="1123,626,1221,606,1223,612,1124,631"/>
<area shape="rect" href="class_r_g_w_s_i___sys_obj.html#a42dbd3046b9d94873446090556f05e63" title=" " alt="" coords="1237,680,1377,723"/>
<area shape="poly" title=" " alt="" coords="1115,654,1222,679,1221,684,1114,659"/>
<area shape="rect" href="struct_r_g_w_s_i___sys_obj_1_1_obj_1_1_r_op.html#a55890f78a9ed31e3ae4e5f22e84f9cbf" title=" " alt="" coords="1232,747,1383,789"/>
<area shape="poly" title=" " alt="" coords="1136,654,1159,666,1175,682,1184,700,1192,717,1207,733,1219,740,1216,745,1203,737,1187,720,1179,702,1171,686,1155,670,1134,659"/>
<area shape="rect" href="class_r_g_w_s_i___sys_obj_1_1_obj.html#a4cb9ed748128c5e25d73056b4bc11bc5" title=" " alt="" coords="1223,813,1392,840"/>
<area shape="poly" title=" " alt="" coords="1142,654,1159,666,1173,683,1180,700,1184,734,1187,768,1194,784,1207,799,1211,803,1208,807,1203,803,1189,787,1182,769,1178,735,1175,701,1168,686,1155,670,1139,659"/>
<area shape="poly" title=" " alt="" coords="1267,889,1259,879,1264,869,1281,863,1307,861,1336,864,1351,871,1349,876,1335,869,1307,867,1282,869,1268,873,1265,879,1271,886"/>
<area shape="poly" title=" " alt="" coords="1378,744,1520,703,1687,665,1820,645,1951,631,2147,616,2148,622,1951,636,1820,651,1688,671,1521,709,1379,749"/>
<area shape="rect" href="class_r_g_w_s_i___sys_obj___core.html#a03e9b419187607394a0ea471f2fc9423" title=" " alt="" coords="1457,805,1640,832"/>
<area shape="poly" title=" " alt="" coords="1384,781,1467,799,1466,804,1383,787"/>
<area shape="poly" title=" " alt="" coords="1567,830,1619,868,1653,886,1688,900,1742,912,1785,914,1829,909,1884,900,1908,893,1932,884,1987,874,2031,871,2072,863,2092,852,2113,834,2131,813,2146,790,2165,738,2176,687,2180,646,2185,646,2181,688,2171,740,2150,792,2136,817,2117,838,2095,856,2074,868,2032,877,1987,879,1934,889,1910,898,1886,905,1830,915,1786,919,1742,917,1687,905,1650,891,1616,872,1564,835"/>
<area shape="rect" href="class_r_g_w_s_i___r_a_d_o_s_1_1_obj.html#acba7765f4366625406a8ce0e0a39e712" title=" " alt="" coords="1700,797,1873,840"/>
<area shape="poly" title=" " alt="" coords="1640,816,1684,816,1684,821,1640,821"/>
<area shape="rect" href="class_r_g_w_s_i___sys_obj___core.html#a761aa8f43c2fd7a005e3ce10f8997afd" title=" " alt="" coords="1708,965,1865,1008"/>
<area shape="poly" title=" " alt="" coords="1563,830,1615,884,1650,916,1689,944,1710,956,1707,961,1686,949,1647,920,1611,888,1560,834"/>
<area shape="rect" href="class_r_g_w_s_i___r_a_d_o_s_1_1_obj.html#a7cf0358834aa8caa78893cc5d4d98f2b" title=" " alt="" coords="1688,864,1885,891"/>
<area shape="poly" title=" " alt="" coords="1606,830,1715,857,1714,862,1605,835"/>
<area shape="rect" href="struct_r_g_w_obj_version_tracker.html#a00fa9eb065d43718c02325862a0d1df7" title=" " alt="" coords="1706,731,1867,773"/>
<area shape="poly" title=" " alt="" coords="1598,802,1692,776,1694,781,1600,807"/>
<area shape="rect" href="rgw__tools_8cc.html#a6cc59136e1df61d96f404169c4a300ce" title=" " alt="" coords="1728,680,1845,707"/>
<area shape="poly" title=" " alt="" coords="1563,803,1615,760,1650,737,1687,716,1712,706,1714,711,1689,721,1652,741,1618,765,1566,807"/>
<area shape="poly" title=" " alt="" coords="1835,1006,1897,1028,1971,1044,2010,1045,2047,1041,2082,1030,2114,1010,2132,985,2147,946,2158,897,2167,842,2177,732,2180,646,2185,646,2182,732,2172,843,2163,898,2152,947,2137,987,2117,1014,2084,1035,2048,1046,2010,1051,1971,1049,1896,1033,1833,1011"/>
<area shape="rect" href="class_r_g_w_s_i___r_a_d_o_s.html#ad7d4a82ecd8081a59c37e3730345711d" title=" " alt="" coords="1953,899,2096,925"/>
<area shape="poly" title=" " alt="" coords="1849,962,1932,935,1957,928,1958,933,1934,940,1851,967"/>
<area shape="rect" href="class_r_g_w_s_i___r_a_d_o_s_1_1_obj.html#adc703eaa1aad5a55504ce25bea09836a" title=" " alt="" coords="1933,973,2115,1000"/>
<area shape="poly" title=" " alt="" coords="1865,984,1917,984,1917,989,1865,989"/>
<area shape="poly" title=" " alt="" coords="2066,970,2092,956,2113,936,2125,913,2136,881,2155,800,2178,646,2183,647,2160,801,2141,883,2130,915,2117,939,2095,960,2068,975"/>
<area shape="poly" title=" " alt="" coords="1996,974,1991,965,1995,955,2006,949,2024,947,2044,949,2054,956,2051,960,2042,954,2024,952,2008,954,1999,959,1997,964,2001,972"/>
<area shape="poly" title=" " alt="" coords="1862,861,1883,850,1899,834,1907,818,1915,800,1931,783,1957,769,1981,762,2025,759,2068,755,2090,747,2114,733,2133,713,2150,690,2171,645,2176,647,2154,693,2137,717,2117,737,2092,752,2069,760,2025,764,1982,767,1959,774,1935,787,1919,803,1911,820,1903,837,1887,854,1864,866"/>
<area shape="rect" href="rgw__tools_8cc.html#ac8fd9a95626d93661d7280c9455eba5c" title="perform the rados operation, using the yield context when given" alt="" coords="1959,797,2089,824"/>
<area shape="poly" title=" " alt="" coords="1842,861,1884,849,1963,826,1964,831,1886,855,1844,866"/>
<area shape="poly" title=" " alt="" coords="2085,794,2114,777,2138,746,2156,711,2176,645,2181,647,2161,713,2142,749,2117,781,2088,799"/>
<area shape="rect" href="struct_r_g_w_obj_version_tracker.html#a962d855794c47d114e825f836d0e12dc" title=" " alt="" coords="1944,680,2104,723"/>
<area shape="poly" title=" " alt="" coords="1866,732,1928,719,1929,724,1867,738"/>
<area shape="poly" title=" " alt="" coords="1062,839,1079,881,1109,937,1152,995,1177,1020,1206,1042,1252,1066,1293,1082,1331,1090,1368,1093,1447,1090,1547,1085,1788,1085,1840,1088,1886,1094,1967,1106,2003,1106,2039,1099,2075,1082,2113,1052,2133,1022,2148,978,2160,923,2168,861,2178,739,2180,646,2186,646,2183,739,2174,862,2165,924,2153,979,2138,1025,2117,1055,2078,1086,2041,1104,2004,1111,1966,1111,1885,1099,1839,1093,1788,1091,1547,1091,1448,1095,1368,1099,1330,1096,1291,1087,1250,1071,1204,1046,1174,1025,1148,998,1105,940,1074,883,1057,841"/>
<area shape="poly" title=" " alt="" coords="1102,838,1245,881,1244,886,1101,843"/>
<area shape="poly" title=" " alt="" coords="1073,838,1130,881,1167,904,1206,924,1224,931,1222,936,1204,929,1164,909,1127,885,1070,843"/>
<area shape="poly" title=" " alt="" coords="1139,811,1155,799,1169,784,1176,769,1182,737,1186,704,1192,685,1203,666,1232,636,1265,612,1268,616,1236,640,1207,670,1197,688,1191,705,1187,738,1182,771,1173,787,1159,803,1142,815"/>
<area shape="poly" title=" " alt="" coords="1134,810,1155,799,1171,784,1179,767,1187,750,1203,733,1221,722,1224,726,1207,737,1192,753,1184,770,1175,787,1159,803,1136,815"/>
<area shape="poly" title=" " alt="" coords="1114,810,1216,786,1217,792,1115,815"/>
<area shape="poly" title=" " alt="" coords="1158,824,1207,824,1207,829,1158,829"/>
<area shape="rect" href="class_r_g_w_system_meta_obj.html#a528019413d7412cf8012455239149972" title=" " alt="" coords="1221,989,1394,1032"/>
<area shape="poly" title=" " alt="" coords="1067,839,1122,904,1162,942,1206,975,1215,980,1212,984,1204,980,1158,946,1118,907,1063,842"/>
<area shape="rect" href="class_r_g_w_s_i___sys_obj.html#aaf17b23ff4d23d6f1fc8b36b6101a731" title=" " alt="" coords="699,741,902,768"/>
<area shape="poly" title=" " alt="" coords="638,719,717,735,716,740,637,724"/>
<area shape="rect" href="class_r_g_w_s_i___sys_obj___core.html#a17855cbd7e8d1b9c2b3028280e501180" title=" " alt="" coords="975,747,1132,789"/>
<area shape="poly" title=" " alt="" coords="902,757,959,760,959,766,902,763"/>
<area shape="poly" title=" " alt="" coords="616,502,881,421,1052,371,1788,371,1887,372,1928,376,1966,383,2002,395,2038,412,2076,437,2117,470,2141,497,2159,528,2180,588,2175,590,2154,531,2137,500,2113,474,2073,441,2036,417,2000,400,1965,388,1927,381,1887,377,1788,376,1052,376,882,426,618,507"/>
<area shape="rect" href="class_r_g_w_system_meta_obj.html#a4be124d4d443be01809092c073247dfb" title=" " alt="" coords="710,505,891,548"/>
<area shape="poly" title=" " alt="" coords="634,524,694,524,694,529,634,529"/>
<area shape="poly" title=" " alt="" coords="866,502,952,477,1061,450,1183,430,1245,424,1306,421,1788,421,1886,427,1926,435,1963,446,2033,482,2117,537,2146,562,2168,590,2164,593,2142,566,2114,541,2031,486,1961,451,1925,440,1886,432,1788,427,1306,427,1245,429,1183,435,1062,456,953,482,867,507"/>
<area shape="rect" href="class_r_g_w_system_meta_obj.html#a0b81e3c32bdde9292a8af7d648e1b3b3" title=" " alt="" coords="967,505,1140,548"/>
<area shape="poly" title=" " alt="" coords="891,524,951,524,951,529,891,529"/>
<area shape="rect" href="class_r_g_w_system_meta_obj.html#a02c1108ff6e95f87fb595e4665ca0b35" title=" " alt="" coords="963,680,1144,723"/>
<area shape="poly" title=" " alt="" coords="821,547,875,606,911,638,951,666,960,671,958,676,948,670,908,642,872,609,817,550"/>
<area shape="poly" title=" " alt="" coords="1144,677,1205,665,1408,638,1568,623,1933,608,2024,605,2115,608,2148,611,2148,616,2115,613,2024,611,1933,613,1568,629,1409,643,1205,671,1145,682"/>
<area shape="poly" title=" " alt="" coords="1143,721,1159,733,1172,748,1179,763,1185,792,1190,821,1196,835,1207,850,1226,866,1248,879,1246,884,1223,871,1203,854,1191,838,1185,822,1179,793,1174,764,1167,751,1155,737,1140,725"/>
<area shape="poly" title=" " alt="" coords="1145,721,1159,733,1176,758,1184,783,1185,807,1183,832,1181,856,1182,879,1190,902,1207,925,1213,930,1209,934,1203,928,1185,904,1177,880,1176,856,1178,831,1179,807,1178,784,1171,760,1155,736,1142,725"/>
<area shape="poly" title=" " alt="" coords="1133,677,1156,666,1170,655,1179,644,1189,633,1204,622,1231,609,1234,614,1206,626,1192,637,1183,648,1173,659,1158,670,1135,682"/>
<area shape="poly" title=" " alt="" coords="1144,699,1221,699,1221,704,1144,704"/>
<area shape="poly" title=" " alt="" coords="1138,721,1217,742,1216,747,1137,726"/>
<area shape="poly" title=" " alt="" coords="1139,721,1159,733,1175,750,1183,767,1191,784,1207,799,1215,804,1212,809,1203,803,1187,787,1178,770,1170,753,1155,737,1137,726"/>
</map>
</div>
<div class="dynheader">
이 함수를 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="rgw__admin_8cc_a84cea37ccd3887febf97098889bfb364_icgraph.png" border="0" usemap="#argw__admin_8cc_a84cea37ccd3887febf97098889bfb364_icgraph" alt=""/></div>
<map name="argw__admin_8cc_a84cea37ccd3887febf97098889bfb364_icgraph" id="argw__admin_8cc_a84cea37ccd3887febf97098889bfb364_icgraph">
<area shape="rect" title=" " alt="" coords="286,13,451,40"/>
<area shape="rect" href="rgw__admin_8cc.html#a33812c768aaef292f4ee9a7dbfb1e6dd" title=" " alt="" coords="103,5,238,48"/>
<area shape="poly" title=" " alt="" coords="270,29,238,29,238,24,270,24"/>
<area shape="rect" href="rgw__admin_8cc.html#a217dbf8b442f20279ea00b898af96f52" title=" " alt="" coords="5,13,55,40"/>
<area shape="poly" title=" " alt="" coords="87,29,55,29,55,24,87,24"/>
</map>
</div>

</div>
</div>
<a id="a39feaf6aae4a9a011ca6ccd89d1ee44c" name="a39feaf6aae4a9a011ca6ccd89d1ee44c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a39feaf6aae4a9a011ca6ccd89d1ee44c">&#9670;&#160;</a></span>send_to_remote_gateway()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int send_to_remote_gateway </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_r_g_w_r_e_s_t_conn.html">RGWRESTConn</a> *&#160;</td>
          <td class="paramname"><em>conn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structreq__info.html">req_info</a> &amp;&#160;</td>
          <td class="paramname"><em>info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bufferlist &amp;&#160;</td>
          <td class="paramname"><em>in_data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">JSONParser &amp;&#160;</td>
          <td class="paramname"><em>parser</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition"><a class="el" href="rgw__admin_8cc_source.html">rgw_admin.cc</a> 파일의 <a class="el" href="rgw__admin_8cc_source.html#l01801">1801</a> 번째 라인에서 정의되었습니다.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1803</span>{</div>
<div class="line"><span class="lineno"> 1804</span>  <span class="keywordflow">if</span> (!conn) {</div>
<div class="line"><span class="lineno"> 1805</span>    <span class="keywordflow">return</span> -EINVAL;</div>
<div class="line"><span class="lineno"> 1806</span>  }</div>
<div class="line"><span class="lineno"> 1807</span> </div>
<div class="line"><span class="lineno"> 1808</span>  ceph::bufferlist response;</div>
<div class="line"><span class="lineno"> 1809</span>  <a class="code hl_struct" href="structrgw__user.html">rgw_user</a> user;</div>
<div class="line"><span class="lineno"> 1810</span>  <span class="keywordtype">int</span> ret = conn-&gt;<a class="code hl_function" href="class_r_g_w_r_e_s_t_conn.html#a019e97bf205f671fdb89bd47035e316e">forward</a>(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>(), user, info, <span class="keyword">nullptr</span>, <a class="code hl_variable" href="rgw__admin_8cc.html#affb734b98a76ff7b06b1ba2b67d2a5ee">MAX_REST_RESPONSE</a>, &amp;in_data, &amp;response, null_yield);</div>
<div class="line"><span class="lineno"> 1811</span> </div>
<div class="line"><span class="lineno"> 1812</span>  <span class="keywordtype">int</span> parse_ret = parser.parse(response.c_str(), response.length());</div>
<div class="line"><span class="lineno"> 1813</span>  <span class="keywordflow">if</span> (parse_ret &lt; 0) {</div>
<div class="line"><span class="lineno"> 1814</span>    cerr &lt;&lt; <span class="stringliteral">&quot;failed to parse response&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 1815</span>    <span class="keywordflow">return</span> parse_ret;</div>
<div class="line"><span class="lineno"> 1816</span>  }</div>
<div class="line"><span class="lineno"> 1817</span>  <span class="keywordflow">return</span> ret;</div>
<div class="line"><span class="lineno"> 1818</span>}</div>
<div class="ttc" id="aclass_r_g_w_r_e_s_t_conn_html_a019e97bf205f671fdb89bd47035e316e"><div class="ttname"><a href="class_r_g_w_r_e_s_t_conn.html#a019e97bf205f671fdb89bd47035e316e">RGWRESTConn::forward</a></div><div class="ttdeci">int forward(const DoutPrefixProvider *dpp, const rgw_user &amp;uid, req_info &amp;info, obj_version *objv, size_t max_response, bufferlist *inbl, bufferlist *outbl, optional_yield y)</div><div class="ttdef"><b>Definition</b> <a href="rgw__rest__conn_8cc_source.html#l00132">rgw_rest_conn.cc:132</a></div></div>
<div class="ttc" id="argw__admin_8cc_html_affb734b98a76ff7b06b1ba2b67d2a5ee"><div class="ttname"><a href="rgw__admin_8cc.html#affb734b98a76ff7b06b1ba2b67d2a5ee">MAX_REST_RESPONSE</a></div><div class="ttdeci">static constexpr size_t MAX_REST_RESPONSE</div><div class="ttdef"><b>Definition</b> <a href="rgw__admin_8cc_source.html#l01799">rgw_admin.cc:1799</a></div></div>
</div><!-- fragment --><div class="dynheader">
이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="rgw__admin_8cc_a39feaf6aae4a9a011ca6ccd89d1ee44c_cgraph.png" border="0" usemap="#argw__admin_8cc_a39feaf6aae4a9a011ca6ccd89d1ee44c_cgraph" alt=""/></div>
<map name="argw__admin_8cc_a39feaf6aae4a9a011ca6ccd89d1ee44c_cgraph" id="argw__admin_8cc_a39feaf6aae4a9a011ca6ccd89d1ee44c_cgraph">
<area shape="rect" title=" " alt="" coords="5,59,175,85"/>
<area shape="rect" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5" title=" " alt="" coords="1600,504,1642,531"/>
<area shape="poly" title=" " alt="" coords="146,55,314,22,418,8,523,3,1182,3,1235,6,1279,14,1318,29,1352,49,1383,74,1413,105,1481,182,1506,230,1543,317,1611,488,1606,490,1538,319,1502,233,1476,186,1409,109,1379,78,1348,53,1315,34,1278,19,1234,11,1181,8,523,8,418,13,314,27,147,61"/>
<area shape="rect" href="class_r_g_w_r_e_s_t_conn.html#a019e97bf205f671fdb89bd47035e316e" title=" " alt="" coords="223,125,389,152"/>
<area shape="poly" title=" " alt="" coords="137,83,246,118,245,123,135,89"/>
<area shape="poly" title=" " alt="" coords="354,150,437,169,597,191,758,195,1181,195,1268,188,1339,179,1372,179,1406,184,1441,198,1480,221,1499,239,1518,267,1556,342,1589,423,1613,488,1608,490,1584,425,1551,344,1514,270,1495,242,1477,225,1439,202,1404,189,1371,184,1339,184,1269,193,1182,200,758,200,597,196,437,175,352,155"/>
<area shape="rect" href="class_r_g_w_r_e_s_t_simple_request.html#a43e23db9f68aacc27ba84640527f9613" title=" " alt="" coords="437,584,612,627"/>
<area shape="poly" title=" " alt="" coords="316,152,509,569,505,571,311,154"/>
<area shape="rect" href="class_r_g_w_r_e_s_t_conn.html#ac833f895cae6760d02b776c2a597f02d" title=" " alt="" coords="443,67,607,93"/>
<area shape="poly" title=" " alt="" coords="358,122,457,95,458,100,359,127"/>
<area shape="rect" href="class_r_g_w_r_e_s_t_conn.html#a919ee8e18b3c046e8b64029ab3427130" title=" " alt="" coords="438,117,612,160"/>
<area shape="poly" title=" " alt="" coords="390,136,422,136,422,141,390,141"/>
<area shape="poly" title=" " alt="" coords="542,582,591,533,623,509,659,490,705,473,744,463,814,457,885,460,975,464,1182,464,1298,469,1412,481,1584,508,1584,513,1411,486,1297,474,1181,469,975,469,885,466,814,462,745,468,706,478,661,494,626,513,594,537,546,586"/>
<area shape="rect" href="class_r_g_w_h_t_t_p_args.html#a3c756f3dc1fade13e84def6431e9baa6" title=" " alt="" coords="678,739,841,765"/>
<area shape="poly" title=" " alt="" coords="546,625,595,676,627,702,662,724,675,731,672,735,659,729,624,706,591,679,542,629"/>
<area shape="rect" href="class_r_g_w_env.html#ade7d5d23b881eabbb09bce4ac164ea08" title=" " alt="" coords="709,789,810,816"/>
<area shape="poly" title=" " alt="" coords="539,626,558,659,586,700,621,741,662,775,695,790,693,795,659,780,617,744,581,703,554,662,534,628"/>
<area shape="rect" href="class_r_g_w_env.html#a602b05b4518e49e23e4ecb22dbebbcaa" title=" " alt="" coords="693,840,826,867"/>
<area shape="poly" title=" " alt="" coords="535,626,552,669,578,723,615,779,637,804,662,826,680,836,678,841,659,830,633,808,610,782,573,726,547,671,530,628"/>
<area shape="rect" href="rgw__rest__client_8cc.html#a528dc6567d9311b0fa7102c1710b26a9" title=" " alt="" coords="698,891,821,917"/>
<area shape="poly" title=" " alt="" coords="533,627,546,678,571,746,609,817,633,849,662,877,685,890,682,894,659,881,629,852,604,820,566,748,541,680,528,628"/>
<area shape="rect" href="class_r_g_w_h_t_t_p_args.html#a729609e097911215b7fdedb776dcb8e9" title=" " alt="" coords="1527,1163,1715,1189"/>
<area shape="poly" title=" " alt="" coords="528,627,532,709,539,765,550,828,566,894,590,960,622,1022,662,1077,698,1114,732,1144,766,1166,800,1182,836,1192,877,1199,975,1203,1181,1203,1355,1197,1511,1185,1511,1190,1355,1202,1182,1208,975,1208,876,1204,835,1197,798,1187,763,1170,729,1148,695,1118,658,1080,617,1024,585,962,561,896,544,829,533,766,527,709,523,627"/>
<area shape="rect" href="class_r_g_w_h_t_t_p_simple_request.html#a657608df376311bf98d098603db64831" title=" " alt="" coords="673,672,846,715"/>
<area shape="poly" title=" " alt="" coords="579,625,661,658,679,664,677,669,659,662,577,630"/>
<area shape="rect" href="rgw__common_8cc.html#affdd013cb068d033d4287181693e4aba" title=" " alt="" coords="1354,1243,1439,1269"/>
<area shape="poly" title=" " alt="" coords="532,627,544,685,568,765,585,808,607,851,632,891,662,928,701,964,742,998,832,1058,928,1109,1024,1151,1118,1185,1205,1211,1340,1243,1338,1248,1203,1216,1116,1190,1022,1156,925,1114,830,1063,739,1002,697,968,658,931,628,894,602,854,581,810,563,767,539,687,527,628"/>
<area shape="rect" href="class_r_g_w_h_t_t_p_client.html#a38de0b9ceefce30a6003b12d562e425d" title=" " alt="" coords="673,301,846,328"/>
<area shape="poly" title=" " alt="" coords="528,583,542,532,567,466,605,397,630,365,659,338,665,333,668,338,662,342,634,369,610,400,572,468,547,534,533,584"/>
<area shape="rect" href="structreq__info.html#a6655a124cd5bc4bb210c52bfe6ed30e6" title=" " alt="" coords="687,352,832,379"/>
<area shape="poly" title=" " alt="" coords="531,583,548,541,575,488,611,434,634,410,659,389,672,381,674,385,662,393,637,414,616,438,579,491,553,543,536,585"/>
<area shape="rect" href="class_r_g_w_h_t_t_p_args.html#ae099fc9f33cbd09b0cbe74e3301ad3a4" title=" " alt="" coords="679,403,840,429"/>
<area shape="poly" title=" " alt="" coords="537,582,585,515,619,478,659,446,683,433,685,438,662,450,623,482,589,519,541,585"/>
<area shape="rect" href="rgw__rest__client_8cc.html#a5c1f12de9449f4d7d2c20237525a3592" title=" " alt="" coords="1105,251,1256,277"/>
<area shape="poly" title=" " alt="" coords="525,583,534,522,556,440,573,397,595,355,624,318,659,287,714,257,773,237,835,225,898,221,959,222,1016,227,1113,244,1112,249,1016,233,959,227,898,226,836,230,774,242,716,262,662,292,628,322,600,358,578,399,561,442,539,523,530,584"/>
<area shape="rect" href="class_r_g_w_env.html#a9cf6eca7c7e7fd76595f6f3039fe393d" title=" " alt="" coords="709,504,810,531"/>
<area shape="poly" title=" " alt="" coords="566,581,659,540,693,530,695,535,661,545,569,586"/>
<area shape="rect" href="class_r_g_w_h_t_t_p_client.html#a340f32b14fc826866fe476175ceb2ed8" title=" " alt="" coords="687,555,832,597"/>
<area shape="poly" title=" " alt="" coords="612,592,671,584,672,590,613,597"/>
<area shape="rect" href="rgw__rest__client_8cc.html#a7d43c3c069186769b04eb5e846b2ba65" title=" " alt="" coords="712,621,807,648"/>
<area shape="poly" title=" " alt="" coords="613,614,697,624,696,630,612,619"/>
<area shape="rect" href="rgw__common_8h.html#a47ecc49d73d32bd249865c3ed1bd902e" title=" " alt="" coords="928,815,1025,841"/>
<area shape="poly" title=" " alt="" coords="810,806,913,818,912,823,810,811"/>
<area shape="rect" href="rgw__common_8cc.html#a84a44c8c01cd8e1ab44c0d9c777e6a46" title=" " alt="" coords="920,891,1033,917"/>
<area shape="poly" title=" " alt="" coords="822,901,904,901,904,907,822,907"/>
<area shape="rect" href="rgw__rest__client_8cc.html#acfe0a2c18956354e257ed798a508ebfb" title=" " alt="" coords="910,764,1043,791"/>
<area shape="poly" title=" " alt="" coords="831,713,860,724,908,750,922,755,920,760,906,754,858,729,829,718"/>
<area shape="rect" href="rgw__rest__client_8cc.html#a3dd35d5d0d602c763f24821d8057c525" title=" " alt="" coords="1127,1033,1233,1060"/>
<area shape="poly" title=" " alt="" coords="1033,789,1048,801,1066,828,1074,855,1075,882,1073,908,1071,934,1072,959,1079,985,1096,1012,1115,1027,1112,1031,1092,1015,1074,987,1066,960,1065,934,1068,908,1070,882,1069,856,1061,831,1044,804,1030,793"/>
<area shape="poly" title=" " alt="" coords="1201,1058,1268,1118,1293,1148,1316,1178,1370,1230,1366,1234,1312,1182,1288,1151,1264,1122,1197,1062"/>
<area shape="rect" href="rgw__common_8cc.html#a84a5910cd79828b1a5f6c5f675151024" title=" " alt="" coords="1537,1217,1705,1244"/>
<area shape="poly" title=" " alt="" coords="1439,1249,1521,1239,1522,1245,1439,1254"/>
<area shape="rect" href="rgw__common_8cc.html#a2068ea88d9a1915142e37c91a28e7793" title=" " alt="" coords="1549,1268,1693,1295"/>
<area shape="poly" title=" " alt="" coords="1439,1258,1534,1269,1533,1274,1439,1263"/>
<area shape="rect" href="class_r_g_w_h_t_t_p.html#adfb34d20b834f501e738cacd37dc8586" title=" " alt="" coords="907,344,1046,371"/>
<area shape="poly" title=" " alt="" coords="831,326,892,338,891,343,830,331"/>
<area shape="rect" href="class_r_g_w_h_t_t_p.html#ac8ab575c584649a3aaa6c3391f918e3a" title=" " alt="" coords="1120,344,1241,371"/>
<area shape="poly" title=" " alt="" coords="1046,355,1104,355,1104,360,1046,360"/>
<area shape="rect" href="class_r_g_w_h_t_t_p_client.html#a7d489c6689cd946b572415111b0c97b5" title=" " alt="" coords="1106,399,1255,425"/>
<area shape="poly" title=" " alt="" coords="1030,369,1114,392,1112,397,1028,374"/>
<area shape="rect" href="class_r_g_w_h_t_t_p_manager.html#a12fb23d99e733aa22fdfd983c7581698" title=" " alt="" coords="1314,336,1479,379"/>
<area shape="poly" title=" " alt="" coords="1241,355,1299,355,1299,360,1241,360"/>
<area shape="rect" href="structrgw__http__req__data.html#a2cb0db213911deffc4b43a81a37098b5" title=" " alt="" coords="1317,403,1476,429"/>
<area shape="poly" title=" " alt="" coords="1255,411,1302,412,1302,417,1255,416"/>
<area shape="poly" title=" " alt="" coords="1257,270,1383,291,1440,305,1480,322,1525,359,1562,405,1590,450,1610,488,1605,491,1586,453,1557,408,1521,363,1477,326,1438,310,1382,296,1256,275"/>
<area shape="rect" href="rgw__rest__client_8cc.html#a63c983fa59d092690c18750d2a422125" title=" " alt="" coords="1344,235,1449,261"/>
<area shape="poly" title=" " alt="" coords="1256,256,1329,250,1330,256,1256,261"/>
<area shape="poly" title=" " alt="" coords="1450,260,1480,278,1528,329,1566,387,1594,443,1612,489,1607,491,1589,446,1561,390,1524,332,1477,282,1447,264"/>
<area shape="rect" href="rgw__rest__client_8cc.html#a4bd8566921458dc12d33e9396daf85b5" title=" " alt="" coords="1550,235,1692,261"/>
<area shape="poly" title=" " alt="" coords="1449,245,1534,245,1534,251,1449,251"/>
<area shape="poly" title=" " alt="" coords="807,621,936,593,1094,563,1203,545,1314,533,1464,522,1584,516,1584,521,1464,527,1315,539,1204,551,1094,568,937,598,808,626"/>
<area shape="rect" href="rgw__rest__client_8cc.html#a3ca3c893ea6a101f1c54da315a226532" title=" " alt="" coords="919,619,1034,645"/>
<area shape="poly" title=" " alt="" coords="808,631,904,630,904,636,808,637"/>
<area shape="rect" href="rgw__rest__client_8cc.html#a25f831176101a20a03cc41a59d7add6d" title=" " alt="" coords="919,713,1034,740"/>
<area shape="poly" title=" " alt="" coords="808,642,860,658,905,679,944,703,941,707,902,684,858,662,807,647"/>
<area shape="poly" title=" " alt="" coords="1019,615,1093,595,1196,576,1336,554,1584,519,1585,525,1337,560,1197,581,1095,600,1020,621"/>
<area shape="rect" href="namespacergw_1_1auth_1_1s3.html#ac0473c2ac7c9c8b09b9b245265466f71" title=" " alt="" coords="1119,609,1241,652"/>
<area shape="poly" title=" " alt="" coords="1034,629,1104,628,1104,634,1034,634"/>
<area shape="rect" href="rgw__auth__s3_8cc.html#ab43c21e79689f8cbc08e4d4a9adb0975" title=" " alt="" coords="1097,689,1264,732"/>
<area shape="poly" title=" " alt="" coords="1014,643,1110,681,1108,686,1012,648"/>
<area shape="rect" href="rgw__common_8cc.html#aa39158860adaaaa9be76ebec5ffbabca" title=" " alt="" coords="1337,605,1456,632"/>
<area shape="poly" title=" " alt="" coords="1241,625,1321,620,1321,625,1242,630"/>
<area shape="poly" title=" " alt="" coords="1264,694,1385,670,1439,656,1477,642,1513,619,1546,593,1597,541,1600,545,1549,597,1516,624,1480,646,1441,661,1386,675,1265,700"/>
<area shape="rect" href="rgw__auth__s3_8cc.html#a7d46f12f279089af2532c58bbed96ab1" title=" " alt="" coords="1327,757,1466,784"/>
<area shape="poly" title=" " alt="" coords="1260,730,1332,750,1331,755,1259,735"/>
<area shape="rect" href="rgw__auth__s3_8cc.html#a61b34508dc79225c9452792cc883d222" title=" " alt="" coords="1327,707,1466,733"/>
<area shape="poly" title=" " alt="" coords="1264,712,1312,714,1312,719,1264,717"/>
<area shape="poly" title=" " alt="" coords="1444,704,1477,686,1516,652,1551,613,1601,543,1606,546,1555,617,1520,656,1480,690,1446,708"/>
<area shape="poly" title=" " alt="" coords="1025,738,1131,766,1265,795,1331,805,1391,809,1441,806,1477,794,1508,770,1535,740,1557,707,1574,671,1599,601,1612,545,1618,547,1604,603,1579,673,1561,709,1539,743,1512,774,1480,798,1442,811,1391,814,1330,810,1264,800,1130,772,1024,743"/>
<area shape="rect" href="classrgw_1_1auth_1_1s3_1_1_a_w_s_signer_v4.html#a85cf16787ee303bbe6258692fa009fa0" title=" " alt="" coords="1094,959,1266,1001"/>
<area shape="poly" title=" " alt="" coords="1030,738,1048,750,1067,771,1077,791,1084,813,1096,839,1160,944,1155,947,1092,841,1079,815,1072,793,1062,774,1044,754,1027,743"/>
<area shape="rect" href="namespacergw_1_1auth_1_1s3.html#adce49ddc585458e20a19126960b7f21f" title=" " alt="" coords="1332,1059,1461,1101"/>
<area shape="poly" title=" " alt="" coords="1228,999,1268,1019,1316,1044,1327,1050,1325,1055,1313,1049,1265,1024,1226,1004"/>
<area shape="rect" href="namespacergw_1_1auth_1_1s3.html#ad73439c26834fd4c048aedf9e7ed5935" title=" " alt="" coords="1334,1125,1459,1168"/>
<area shape="poly" title=" " alt="" coords="1241,1000,1268,1019,1285,1044,1293,1067,1299,1089,1316,1111,1322,1116,1319,1120,1312,1115,1295,1092,1287,1069,1281,1046,1264,1023,1238,1004"/>
<area shape="rect" href="namespacergw_1_1auth_1_1s3.html#adcad9ace965c1728ca52f0373de7c550" title=" " alt="" coords="1334,859,1459,901"/>
<area shape="poly" title=" " alt="" coords="1222,956,1313,911,1325,905,1328,910,1315,916,1224,961"/>
<area shape="rect" href="namespacergw_1_1auth_1_1s3.html#ad7e2f4d0381f6bac91f53c17a21f714c" title=" " alt="" coords="1334,992,1459,1035"/>
<area shape="poly" title=" " alt="" coords="1267,991,1319,999,1318,1004,1266,996"/>
<area shape="rect" href="namespacergw_1_1auth_1_1s3.html#a352c9cc5c75836048d84c63a51a6c3d8" title=" " alt="" coords="1334,925,1459,968"/>
<area shape="poly" title=" " alt="" coords="1266,964,1318,956,1319,961,1267,969"/>
<area shape="poly" title=" " alt="" coords="1460,1152,1512,1159,1511,1164,1459,1157"/>
<area shape="poly" title=" " alt="" coords="1458,926,1477,911,1512,868,1540,819,1563,768,1581,715,1604,618,1615,546,1620,547,1609,619,1586,717,1568,770,1545,822,1516,871,1481,915,1461,930"/>
<area shape="poly" title=" " alt="" coords="488,68,481,58,486,48,500,42,525,40,551,43,564,49,562,54,549,48,525,45,502,47,489,52,486,57,492,65"/>
<area shape="rect" href="class_r_g_w_r_e_s_t_conn.html#ae90bac8b6344ad9f172ce25c12cf82e9" title=" " alt="" coords="660,67,859,93"/>
<area shape="poly" title=" " alt="" coords="612,114,688,95,689,100,613,119"/>
<area shape="rect" href="class_r_g_w_r_e_s_t_conn.html#a80208c730562921a2e3b4d9dde10855e" title=" " alt="" coords="672,117,847,160"/>
<area shape="poly" title=" " alt="" coords="612,136,657,136,657,141,612,141"/>
<area shape="rect" href="structrgw__user.html#afd8a9e36c5a9f7773c13d903c3124e99" title=" " alt="" coords="918,55,1035,81"/>
<area shape="poly" title=" " alt="" coords="859,72,902,69,902,75,859,77"/>
<area shape="rect" href="structrgw__user.html#af00f510d6a9ff0580d87ee46b274d96e" title=" " alt="" coords="919,105,1034,132"/>
<area shape="poly" title=" " alt="" coords="839,91,904,103,903,108,838,97"/>
</map>
</div>
<div class="dynheader">
이 함수를 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="rgw__admin_8cc_a39feaf6aae4a9a011ca6ccd89d1ee44c_icgraph.png" border="0" usemap="#argw__admin_8cc_a39feaf6aae4a9a011ca6ccd89d1ee44c_icgraph" alt=""/></div>
<map name="argw__admin_8cc_a39feaf6aae4a9a011ca6ccd89d1ee44c_icgraph" id="argw__admin_8cc_a39feaf6aae4a9a011ca6ccd89d1ee44c_icgraph">
<area shape="rect" title=" " alt="" coords="611,76,780,103"/>
<area shape="rect" href="rgw__admin_8cc.html#aff0d5161d67f7441b3696da1f415130d" title=" " alt="" coords="409,76,563,103"/>
<area shape="poly" title=" " alt="" coords="595,92,563,92,563,87,595,87"/>
<area shape="rect" href="rgw__admin_8cc.html#aa84c5ba46881dc6ab82e752f5864a5d6" title=" " alt="" coords="255,26,361,52"/>
<area shape="poly" title=" " alt="" coords="421,74,357,56,358,50,423,69"/>
<area shape="rect" href="rgw__admin_8cc.html#a217dbf8b442f20279ea00b898af96f52" title=" " alt="" coords="5,51,55,78"/>
<area shape="poly" title=" " alt="" coords="393,87,55,68,55,63,394,82"/>
<area shape="rect" href="rgw__admin_8cc.html#a693377846b7628a32c724cf0200e5a9e" title=" " alt="" coords="103,127,207,154"/>
<area shape="poly" title=" " alt="" coords="394,106,208,135,207,130,394,101"/>
<area shape="poly" title=" " alt="" coords="254,23,220,15,182,9,142,9,104,16,72,32,47,53,43,48,69,28,102,11,141,4,182,4,221,10,255,18"/>
<area shape="rect" href="rgw__admin_8cc.html#a4dd5fe9ff30e3225bca7a06c01dde2bd" title=" " alt="" coords="104,26,206,52"/>
<area shape="poly" title=" " alt="" coords="240,42,206,42,206,36,240,36"/>
<area shape="poly" title=" " alt="" coords="89,55,56,62,55,57,88,50"/>
<area shape="poly" title=" " alt="" coords="117,121,52,81,55,76,120,116"/>
</map>
</div>

</div>
</div>
<a id="aff0d5161d67f7441b3696da1f415130d" name="aff0d5161d67f7441b3696da1f415130d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aff0d5161d67f7441b3696da1f415130d">&#9670;&#160;</a></span>send_to_remote_or_url()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int send_to_remote_or_url </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_r_g_w_r_e_s_t_conn.html">RGWRESTConn</a> *&#160;</td>
          <td class="paramname"><em>conn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const string &amp;&#160;</td>
          <td class="paramname"><em>url</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::optional&lt; string &gt;&#160;</td>
          <td class="paramname"><em>opt_region</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const string &amp;&#160;</td>
          <td class="paramname"><em>access</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const string &amp;&#160;</td>
          <td class="paramname"><em>secret</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structreq__info.html">req_info</a> &amp;&#160;</td>
          <td class="paramname"><em>info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bufferlist &amp;&#160;</td>
          <td class="paramname"><em>in_data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">JSONParser &amp;&#160;</td>
          <td class="paramname"><em>parser</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition"><a class="el" href="rgw__admin_8cc_source.html">rgw_admin.cc</a> 파일의 <a class="el" href="rgw__admin_8cc_source.html#l01848">1848</a> 번째 라인에서 정의되었습니다.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1853</span>{</div>
<div class="line"><span class="lineno"> 1854</span>  <span class="keywordflow">if</span> (url.empty()) {</div>
<div class="line"><span class="lineno"> 1855</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="rgw__admin_8cc.html#a39feaf6aae4a9a011ca6ccd89d1ee44c">send_to_remote_gateway</a>(conn, info, in_data, parser);</div>
<div class="line"><span class="lineno"> 1856</span>  }</div>
<div class="line"><span class="lineno"> 1857</span>  <span class="keywordflow">return</span> <a class="code hl_function" href="rgw__admin_8cc.html#ab91eb7d099ca1e0e21208450550a3a1a">send_to_url</a>(url, opt_region, access, secret, info, in_data, parser);</div>
<div class="line"><span class="lineno"> 1858</span>}</div>
<div class="ttc" id="argw__admin_8cc_html_a39feaf6aae4a9a011ca6ccd89d1ee44c"><div class="ttname"><a href="rgw__admin_8cc.html#a39feaf6aae4a9a011ca6ccd89d1ee44c">send_to_remote_gateway</a></div><div class="ttdeci">static int send_to_remote_gateway(RGWRESTConn *conn, req_info &amp;info, bufferlist &amp;in_data, JSONParser &amp;parser)</div><div class="ttdef"><b>Definition</b> <a href="rgw__admin_8cc_source.html#l01801">rgw_admin.cc:1801</a></div></div>
</div><!-- fragment --><div class="dynheader">
이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="rgw__admin_8cc_aff0d5161d67f7441b3696da1f415130d_cgraph.png" border="0" usemap="#argw__admin_8cc_aff0d5161d67f7441b3696da1f415130d_cgraph" alt=""/></div>
<map name="argw__admin_8cc_aff0d5161d67f7441b3696da1f415130d_cgraph" id="argw__admin_8cc_aff0d5161d67f7441b3696da1f415130d_cgraph">
<area shape="rect" title=" " alt="" coords="5,1296,159,1323"/>
<area shape="rect" href="rgw__admin_8cc.html#a39feaf6aae4a9a011ca6ccd89d1ee44c" title=" " alt="" coords="207,1271,376,1297"/>
<area shape="poly" title=" " alt="" coords="159,1297,191,1293,191,1299,159,1303"/>
<area shape="rect" href="rgw__admin_8cc.html#ab91eb7d099ca1e0e21208450550a3a1a" title=" " alt="" coords="463,1321,551,1348"/>
<area shape="poly" title=" " alt="" coords="159,1311,448,1329,447,1334,159,1317"/>
<area shape="rect" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5" title=" " alt="" coords="1801,716,1843,743"/>
<area shape="poly" title=" " alt="" coords="376,1281,725,1281,1179,1281,1293,1280,1440,1271,1513,1262,1581,1249,1638,1230,1678,1206,1693,1183,1710,1138,1749,1008,1812,757,1817,758,1754,1009,1715,1139,1697,1185,1682,1210,1640,1235,1582,1254,1514,1267,1440,1276,1293,1285,1179,1287,725,1287,376,1287"/>
<area shape="rect" href="class_r_g_w_r_e_s_t_conn.html#a019e97bf205f671fdb89bd47035e316e" title=" " alt="" coords="424,193,590,220"/>
<area shape="poly" title=" " alt="" coords="293,1270,498,235,503,236,298,1271"/>
<area shape="poly" title=" " alt="" coords="591,204,960,204,1383,204,1436,206,1482,214,1522,227,1557,246,1589,271,1620,302,1682,383,1705,426,1713,464,1717,504,1731,551,1770,634,1807,701,1802,704,1765,637,1725,553,1712,505,1707,465,1700,428,1678,385,1616,305,1586,275,1554,251,1520,232,1481,219,1436,212,1383,209,960,209,591,209"/>
<area shape="rect" href="class_r_g_w_r_e_s_t_simple_request.html#a43e23db9f68aacc27ba84640527f9613" title=" " alt="" coords="638,607,814,649"/>
<area shape="poly" title=" " alt="" coords="518,219,709,592,704,594,513,221"/>
<area shape="rect" href="class_r_g_w_r_e_s_t_conn.html#ac833f895cae6760d02b776c2a597f02d" title=" " alt="" coords="644,143,808,169"/>
<area shape="poly" title=" " alt="" coords="568,190,650,171,651,176,569,195"/>
<area shape="rect" href="class_r_g_w_r_e_s_t_conn.html#a919ee8e18b3c046e8b64029ab3427130" title=" " alt="" coords="639,52,813,95"/>
<area shape="poly" title=" " alt="" coords="522,191,571,149,637,104,647,99,649,104,640,109,574,154,525,195"/>
<area shape="poly" title=" " alt="" coords="814,625,1176,625,1383,625,1442,628,1501,635,1616,659,1715,688,1788,713,1786,718,1714,693,1615,664,1500,640,1441,633,1383,631,1176,631,814,631"/>
<area shape="rect" href="class_r_g_w_h_t_t_p_args.html#a3c756f3dc1fade13e84def6431e9baa6" title=" " alt="" coords="880,935,1042,961"/>
<area shape="poly" title=" " alt="" coords="733,649,745,704,769,778,786,817,808,855,833,890,863,921,869,925,865,929,860,925,829,894,803,858,782,819,764,780,740,706,728,650"/>
<area shape="rect" href="class_r_g_w_env.html#ade7d5d23b881eabbb09bce4ac164ea08" title=" " alt="" coords="911,361,1011,388"/>
<area shape="poly" title=" " alt="" coords="731,605,747,561,774,505,811,447,834,421,860,398,895,381,897,386,863,402,838,425,815,450,778,508,752,564,736,607"/>
<area shape="rect" href="class_r_g_w_env.html#a602b05b4518e49e23e4ecb22dbebbcaa" title=" " alt="" coords="895,412,1027,439"/>
<area shape="poly" title=" " alt="" coords="735,605,754,570,782,528,817,485,860,448,879,439,881,443,863,453,821,489,786,531,759,573,740,608"/>
<area shape="rect" href="rgw__rest__client_8cc.html#a528dc6567d9311b0fa7102c1710b26a9" title=" " alt="" coords="899,463,1023,489"/>
<area shape="poly" title=" " alt="" coords="742,604,792,551,824,523,860,499,883,489,885,494,863,504,828,527,795,555,746,608"/>
<area shape="rect" href="class_r_g_w_h_t_t_p_args.html#a729609e097911215b7fdedb776dcb8e9" title=" " alt="" coords="1728,1115,1916,1141"/>
<area shape="poly" title=" " alt="" coords="733,649,745,710,769,795,786,841,808,888,833,932,864,972,915,1026,962,1070,1008,1103,1054,1130,1104,1151,1159,1169,1296,1205,1403,1229,1488,1237,1573,1230,1679,1205,1710,1195,1740,1180,1790,1149,1793,1153,1742,1185,1712,1200,1681,1211,1574,1235,1488,1243,1402,1234,1295,1211,1158,1174,1102,1156,1052,1135,1005,1108,959,1074,911,1030,860,975,829,935,803,890,781,843,764,797,740,712,728,650"/>
<area shape="rect" href="class_r_g_w_h_t_t_p_simple_request.html#a657608df376311bf98d098603db64831" title=" " alt="" coords="874,244,1048,287"/>
<area shape="poly" title=" " alt="" coords="728,606,740,547,764,467,781,423,803,380,829,340,860,303,872,293,876,297,864,307,833,343,807,383,786,425,769,468,745,548,733,607"/>
<area shape="rect" href="rgw__common_8cc.html#affdd013cb068d033d4287181693e4aba" title=" " alt="" coords="1556,143,1640,169"/>
<area shape="poly" title=" " alt="" coords="728,606,740,552,763,480,781,443,802,407,829,374,860,347,884,334,914,324,986,312,1070,308,1160,307,1337,306,1411,299,1441,292,1466,283,1501,262,1531,235,1577,180,1581,184,1535,238,1504,266,1469,288,1443,297,1412,304,1337,312,1160,313,1070,313,986,317,915,329,886,339,863,352,833,378,807,410,786,446,768,482,745,553,733,607"/>
<area shape="rect" href="class_r_g_w_h_t_t_p_client.html#a38de0b9ceefce30a6003b12d562e425d" title=" " alt="" coords="875,513,1047,540"/>
<area shape="poly" title=" " alt="" coords="764,604,861,556,896,543,898,548,863,561,767,609"/>
<area shape="rect" href="structreq__info.html#a6655a124cd5bc4bb210c52bfe6ed30e6" title=" " alt="" coords="889,665,1033,692"/>
<area shape="poly" title=" " alt="" coords="814,644,881,659,880,664,813,649"/>
<area shape="rect" href="class_r_g_w_h_t_t_p_args.html#ae099fc9f33cbd09b0cbe74e3301ad3a4" title=" " alt="" coords="880,767,1042,793"/>
<area shape="poly" title=" " alt="" coords="746,648,795,701,828,729,863,752,875,758,873,763,860,757,824,733,792,705,742,652"/>
<area shape="rect" href="rgw__rest__client_8cc.html#a5c1f12de9449f4d7d2c20237525a3592" title=" " alt="" coords="1306,564,1457,591"/>
<area shape="poly" title=" " alt="" coords="814,612,861,607,1093,588,1290,578,1291,583,1094,594,862,612,815,618"/>
<area shape="rect" href="class_r_g_w_env.html#a9cf6eca7c7e7fd76595f6f3039fe393d" title=" " alt="" coords="911,817,1011,844"/>
<area shape="poly" title=" " alt="" coords="740,648,759,683,786,725,821,767,863,803,896,818,894,823,860,808,817,771,782,728,754,686,735,651"/>
<area shape="rect" href="class_r_g_w_h_t_t_p_client.html#a340f32b14fc826866fe476175ceb2ed8" title=" " alt="" coords="889,868,1033,911"/>
<area shape="poly" title=" " alt="" coords="737,649,753,692,780,747,817,805,839,831,863,854,876,863,873,867,860,858,835,834,812,808,775,750,749,694,732,651"/>
<area shape="rect" href="rgw__rest__client_8cc.html#a7d43c3c069186769b04eb5e846b2ba65" title=" " alt="" coords="913,716,1009,743"/>
<area shape="poly" title=" " alt="" coords="762,648,809,675,863,702,899,714,897,719,861,706,806,680,759,652"/>
<area shape="rect" href="rgw__common_8h.html#a47ecc49d73d32bd249865c3ed1bd902e" title=" " alt="" coords="1129,361,1226,388"/>
<area shape="poly" title=" " alt="" coords="1011,372,1114,372,1114,377,1011,377"/>
<area shape="rect" href="rgw__common_8cc.html#a84a44c8c01cd8e1ab44c0d9c777e6a46" title=" " alt="" coords="1122,437,1234,464"/>
<area shape="poly" title=" " alt="" coords="1023,466,1106,456,1106,462,1023,471"/>
<area shape="rect" href="rgw__rest__client_8cc.html#acfe0a2c18956354e257ed798a508ebfb" title=" " alt="" coords="1112,251,1244,277"/>
<area shape="poly" title=" " alt="" coords="1048,262,1096,262,1096,267,1048,267"/>
<area shape="rect" href="rgw__rest__client_8cc.html#a3dd35d5d0d602c763f24821d8057c525" title=" " alt="" coords="1328,247,1435,273"/>
<area shape="poly" title=" " alt="" coords="1244,260,1313,259,1313,264,1244,265"/>
<area shape="poly" title=" " alt="" coords="1410,244,1553,174,1556,179,1412,249"/>
<area shape="rect" href="rgw__common_8cc.html#a84a5910cd79828b1a5f6c5f675151024" title=" " alt="" coords="1738,168,1906,195"/>
<area shape="poly" title=" " alt="" coords="1641,158,1723,167,1722,173,1640,163"/>
<area shape="rect" href="rgw__common_8cc.html#a2068ea88d9a1915142e37c91a28e7793" title=" " alt="" coords="1751,117,1894,144"/>
<area shape="poly" title=" " alt="" coords="1640,149,1735,138,1735,143,1641,154"/>
<area shape="rect" href="class_r_g_w_h_t_t_p.html#adfb34d20b834f501e738cacd37dc8586" title=" " alt="" coords="1108,488,1247,515"/>
<area shape="poly" title=" " alt="" coords="1047,514,1092,509,1093,514,1048,519"/>
<area shape="rect" href="class_r_g_w_h_t_t_p.html#ac8ab575c584649a3aaa6c3391f918e3a" title=" " alt="" coords="1321,408,1442,435"/>
<area shape="poly" title=" " alt="" coords="1216,485,1246,474,1332,439,1334,444,1248,478,1218,490"/>
<area shape="rect" href="class_r_g_w_h_t_t_p_client.html#a7d489c6689cd946b572415111b0c97b5" title=" " alt="" coords="1307,475,1456,501"/>
<area shape="poly" title=" " alt="" coords="1247,494,1291,491,1291,497,1248,499"/>
<area shape="rect" href="class_r_g_w_h_t_t_p_manager.html#a12fb23d99e733aa22fdfd983c7581698" title=" " alt="" coords="1516,396,1680,439"/>
<area shape="poly" title=" " alt="" coords="1442,418,1500,416,1500,422,1442,423"/>
<area shape="rect" href="structrgw__http__req__data.html#a2cb0db213911deffc4b43a81a37098b5" title=" " alt="" coords="1519,463,1677,489"/>
<area shape="poly" title=" " alt="" coords="1456,481,1503,479,1503,484,1457,487"/>
<area shape="poly" title=" " alt="" coords="1457,571,1508,572,1566,577,1625,588,1681,607,1718,627,1751,652,1802,702,1798,706,1747,656,1715,631,1679,612,1623,593,1565,582,1508,577,1457,576"/>
<area shape="rect" href="rgw__rest__client_8cc.html#a63c983fa59d092690c18750d2a422125" title=" " alt="" coords="1546,513,1650,540"/>
<area shape="poly" title=" " alt="" coords="1441,561,1530,540,1531,545,1442,566"/>
<area shape="poly" title=" " alt="" coords="1647,538,1682,556,1721,591,1756,630,1807,701,1803,704,1752,633,1718,595,1678,561,1645,543"/>
<area shape="rect" href="rgw__rest__client_8cc.html#a4bd8566921458dc12d33e9396daf85b5" title=" " alt="" coords="1751,513,1893,540"/>
<area shape="poly" title=" " alt="" coords="1651,524,1735,524,1735,529,1651,529"/>
<area shape="poly" title=" " alt="" coords="1008,717,1108,701,1207,696,1346,695,1509,699,1680,708,1786,721,1785,726,1680,713,1509,704,1346,701,1207,702,1108,707,1009,722"/>
<area shape="rect" href="rgw__rest__client_8cc.html#a3ca3c893ea6a101f1c54da315a226532" title=" " alt="" coords="1121,1067,1235,1093"/>
<area shape="poly" title=" " alt="" coords="1010,730,1037,737,1062,753,1092,786,1117,825,1136,866,1151,908,1170,989,1177,1051,1172,1051,1164,990,1146,910,1131,868,1112,827,1088,790,1058,757,1035,742,1008,735"/>
<area shape="rect" href="rgw__rest__client_8cc.html#a25f831176101a20a03cc41a59d7add6d" title=" " alt="" coords="1121,716,1235,743"/>
<area shape="poly" title=" " alt="" coords="1009,727,1105,727,1105,732,1009,732"/>
<area shape="poly" title=" " alt="" coords="1236,1087,1344,1101,1475,1112,1539,1113,1597,1111,1645,1103,1679,1088,1716,1055,1747,1015,1771,969,1788,921,1809,829,1817,758,1822,759,1815,830,1793,923,1775,971,1751,1017,1720,1059,1681,1093,1646,1108,1597,1116,1539,1119,1474,1117,1343,1106,1235,1092"/>
<area shape="rect" href="namespacergw_1_1auth_1_1s3.html#ac0473c2ac7c9c8b09b9b245265466f71" title=" " alt="" coords="1320,1153,1443,1196"/>
<area shape="poly" title=" " alt="" coords="1210,1092,1321,1144,1319,1149,1208,1096"/>
<area shape="rect" href="rgw__auth__s3_8cc.html#ab43c21e79689f8cbc08e4d4a9adb0975" title=" " alt="" coords="1298,1023,1465,1065"/>
<area shape="poly" title=" " alt="" coords="1235,1067,1282,1059,1283,1064,1236,1073"/>
<area shape="rect" href="rgw__common_8cc.html#aa39158860adaaaa9be76ebec5ffbabca" title=" " alt="" coords="1538,1169,1658,1196"/>
<area shape="poly" title=" " alt="" coords="1443,1174,1522,1177,1522,1183,1443,1180"/>
<area shape="poly" title=" " alt="" coords="1445,1063,1499,1076,1560,1083,1591,1082,1622,1077,1651,1068,1679,1054,1714,1024,1742,988,1765,948,1783,905,1806,823,1816,758,1821,759,1811,824,1788,907,1770,950,1747,991,1717,1028,1681,1058,1653,1073,1623,1082,1592,1087,1560,1088,1498,1081,1444,1069"/>
<area shape="rect" href="rgw__auth__s3_8cc.html#a7d46f12f279089af2532c58bbed96ab1" title=" " alt="" coords="1529,1017,1667,1044"/>
<area shape="poly" title=" " alt="" coords="1465,1036,1513,1033,1514,1039,1466,1042"/>
<area shape="rect" href="rgw__auth__s3_8cc.html#a61b34508dc79225c9452792cc883d222" title=" " alt="" coords="1529,900,1667,927"/>
<area shape="poly" title=" " alt="" coords="1403,1020,1452,978,1514,936,1527,930,1529,935,1517,941,1455,982,1407,1024"/>
<area shape="poly" title=" " alt="" coords="1656,897,1679,886,1717,855,1752,820,1802,754,1806,757,1756,823,1721,859,1681,890,1658,902"/>
<area shape="poly" title=" " alt="" coords="1235,727,1785,727,1785,732,1235,732"/>
<area shape="rect" href="classrgw_1_1auth_1_1s3_1_1_a_w_s_signer_v4.html#a85cf16787ee303bbe6258692fa009fa0" title=" " alt="" coords="1295,800,1468,843"/>
<area shape="poly" title=" " alt="" coords="1211,741,1319,791,1317,795,1208,746"/>
<area shape="rect" href="namespacergw_1_1auth_1_1s3.html#adce49ddc585458e20a19126960b7f21f" title=" " alt="" coords="1534,767,1662,809"/>
<area shape="poly" title=" " alt="" coords="1467,805,1518,798,1519,803,1468,811"/>
<area shape="rect" href="namespacergw_1_1auth_1_1s3.html#ad73439c26834fd4c048aedf9e7ed5935" title=" " alt="" coords="1535,951,1661,993"/>
<area shape="poly" title=" " alt="" coords="1405,841,1454,888,1517,936,1525,941,1522,946,1514,941,1450,892,1401,845"/>
<area shape="rect" href="namespacergw_1_1auth_1_1s3.html#adcad9ace965c1728ca52f0373de7c550" title=" " alt="" coords="1535,833,1661,876"/>
<area shape="poly" title=" " alt="" coords="1468,832,1520,840,1519,845,1467,837"/>
<area shape="poly" title=" " alt="" coords="1660,992,1681,1003,1748,1053,1799,1101,1796,1105,1744,1057,1679,1008,1657,996"/>
<area shape="poly" title=" " alt="" coords="689,144,682,134,687,124,702,118,726,116,752,119,766,125,764,130,751,124,726,121,703,123,691,128,688,133,693,141"/>
<area shape="rect" href="class_r_g_w_r_e_s_t_conn.html#ae90bac8b6344ad9f172ce25c12cf82e9" title=" " alt="" coords="862,31,1060,57"/>
<area shape="poly" title=" " alt="" coords="813,60,846,56,847,61,814,65"/>
<area shape="rect" href="class_r_g_w_r_e_s_t_conn.html#a80208c730562921a2e3b4d9dde10855e" title=" " alt="" coords="874,81,1048,124"/>
<area shape="poly" title=" " alt="" coords="814,82,859,87,858,93,813,87"/>
<area shape="rect" href="structrgw__user.html#afd8a9e36c5a9f7773c13d903c3124e99" title=" " alt="" coords="1119,5,1236,32"/>
<area shape="poly" title=" " alt="" coords="1060,30,1104,25,1104,30,1061,35"/>
<area shape="rect" href="structrgw__user.html#af00f510d6a9ff0580d87ee46b274d96e" title=" " alt="" coords="1121,56,1235,83"/>
<area shape="poly" title=" " alt="" coords="1061,53,1105,58,1105,64,1060,58"/>
<area shape="poly" title=" " alt="" coords="551,1332,960,1332,1383,1332,1473,1333,1546,1327,1579,1318,1611,1304,1643,1281,1678,1250,1687,1229,1702,1181,1741,1038,1811,757,1817,759,1747,1039,1707,1183,1692,1231,1682,1254,1647,1286,1613,1308,1581,1323,1547,1332,1474,1338,1383,1337,960,1337,551,1337"/>
<area shape="poly" title=" " alt="" coords="510,1320,711,663,716,665,515,1322"/>
</map>
</div>
<div class="dynheader">
이 함수를 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="rgw__admin_8cc_aff0d5161d67f7441b3696da1f415130d_icgraph.png" border="0" usemap="#argw__admin_8cc_aff0d5161d67f7441b3696da1f415130d_icgraph" alt=""/></div>
<map name="argw__admin_8cc_aff0d5161d67f7441b3696da1f415130d_icgraph" id="argw__admin_8cc_aff0d5161d67f7441b3696da1f415130d_icgraph">
<area shape="rect" title=" " alt="" coords="409,76,563,103"/>
<area shape="rect" href="rgw__admin_8cc.html#aa84c5ba46881dc6ab82e752f5864a5d6" title=" " alt="" coords="255,26,361,52"/>
<area shape="poly" title=" " alt="" coords="421,74,357,56,358,50,423,69"/>
<area shape="rect" href="rgw__admin_8cc.html#a217dbf8b442f20279ea00b898af96f52" title=" " alt="" coords="5,51,55,78"/>
<area shape="poly" title=" " alt="" coords="393,87,55,68,55,63,394,82"/>
<area shape="rect" href="rgw__admin_8cc.html#a693377846b7628a32c724cf0200e5a9e" title=" " alt="" coords="103,127,207,154"/>
<area shape="poly" title=" " alt="" coords="394,106,208,135,207,130,394,101"/>
<area shape="poly" title=" " alt="" coords="254,23,220,15,182,9,142,9,104,16,72,32,47,53,43,48,69,28,102,11,141,4,182,4,221,10,255,18"/>
<area shape="rect" href="rgw__admin_8cc.html#a4dd5fe9ff30e3225bca7a06c01dde2bd" title=" " alt="" coords="104,26,206,52"/>
<area shape="poly" title=" " alt="" coords="240,42,206,42,206,36,240,36"/>
<area shape="poly" title=" " alt="" coords="89,55,56,62,55,57,88,50"/>
<area shape="poly" title=" " alt="" coords="117,121,52,81,55,76,120,116"/>
</map>
</div>

</div>
</div>
<a id="ab91eb7d099ca1e0e21208450550a3a1a" name="ab91eb7d099ca1e0e21208450550a3a1a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab91eb7d099ca1e0e21208450550a3a1a">&#9670;&#160;</a></span>send_to_url()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int send_to_url </td>
          <td>(</td>
          <td class="paramtype">const string &amp;&#160;</td>
          <td class="paramname"><em>url</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::optional&lt; string &gt;&#160;</td>
          <td class="paramname"><em>opt_region</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const string &amp;&#160;</td>
          <td class="paramname"><em>access</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const string &amp;&#160;</td>
          <td class="paramname"><em>secret</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structreq__info.html">req_info</a> &amp;&#160;</td>
          <td class="paramname"><em>info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bufferlist &amp;&#160;</td>
          <td class="paramname"><em>in_data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">JSONParser &amp;&#160;</td>
          <td class="paramname"><em>parser</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition"><a class="el" href="rgw__admin_8cc_source.html">rgw_admin.cc</a> 파일의 <a class="el" href="rgw__admin_8cc_source.html#l01820">1820</a> 번째 라인에서 정의되었습니다.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1825</span>{</div>
<div class="line"><span class="lineno"> 1826</span>  <span class="keywordflow">if</span> (access.empty() || secret.empty()) {</div>
<div class="line"><span class="lineno"> 1827</span>    cerr &lt;&lt; <span class="stringliteral">&quot;An --access-key and --secret must be provided with --url.&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 1828</span>    <span class="keywordflow">return</span> -EINVAL;</div>
<div class="line"><span class="lineno"> 1829</span>  }</div>
<div class="line"><span class="lineno"> 1830</span>  <a class="code hl_struct" href="struct_r_g_w_access_key.html">RGWAccessKey</a> key;</div>
<div class="line"><span class="lineno"> 1831</span>  key.<a class="code hl_variable" href="struct_r_g_w_access_key.html#afc0fb2f1a8b33e7361e0221f4355c36b">id</a> = access;</div>
<div class="line"><span class="lineno"> 1832</span>  key.<a class="code hl_variable" href="struct_r_g_w_access_key.html#a6c58c9a7d8ec2e863c266d74ed432d70">key</a> = secret;</div>
<div class="line"><span class="lineno"> 1833</span> </div>
<div class="line"><span class="lineno"> 1834</span>  <a class="code hl_typedef" href="rgw__http__client_8h.html#a23de7f994241ffe0492e797b59731235">param_vec_t</a> params;</div>
<div class="line"><span class="lineno"> 1835</span>  <a class="code hl_class" href="class_r_g_w_r_e_s_t_simple_request.html">RGWRESTSimpleRequest</a> req(g_ceph_context, info.<a class="code hl_variable" href="structreq__info.html#ab810e10f4cc4c306b3f6ff303ee5f64f">method</a>, url, NULL, &amp;params, opt_region);</div>
<div class="line"><span class="lineno"> 1836</span> </div>
<div class="line"><span class="lineno"> 1837</span>  bufferlist response;</div>
<div class="line"><span class="lineno"> 1838</span>  <span class="keywordtype">int</span> ret = req.forward_request(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>(), key, info, <a class="code hl_variable" href="rgw__admin_8cc.html#affb734b98a76ff7b06b1ba2b67d2a5ee">MAX_REST_RESPONSE</a>, &amp;in_data, &amp;response, null_yield);</div>
<div class="line"><span class="lineno"> 1839</span> </div>
<div class="line"><span class="lineno"> 1840</span>  <span class="keywordtype">int</span> parse_ret = parser.parse(response.c_str(), response.length());</div>
<div class="line"><span class="lineno"> 1841</span>  <span class="keywordflow">if</span> (parse_ret &lt; 0) {</div>
<div class="line"><span class="lineno"> 1842</span>    cout &lt;&lt; <span class="stringliteral">&quot;failed to parse response&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 1843</span>    <span class="keywordflow">return</span> parse_ret;</div>
<div class="line"><span class="lineno"> 1844</span>  }</div>
<div class="line"><span class="lineno"> 1845</span>  <span class="keywordflow">return</span> ret;</div>
<div class="line"><span class="lineno"> 1846</span>}</div>
<div class="ttc" id="aclass_r_g_w_r_e_s_t_simple_request_html"><div class="ttname"><a href="class_r_g_w_r_e_s_t_simple_request.html">RGWRESTSimpleRequest</a></div><div class="ttdef"><b>Definition</b> <a href="rgw__rest__client_8h_source.html#l00061">rgw_rest_client.h:61</a></div></div>
<div class="ttc" id="argw__http__client_8h_html_a23de7f994241ffe0492e797b59731235"><div class="ttname"><a href="rgw__http__client_8h.html#a23de7f994241ffe0492e797b59731235">param_vec_t</a></div><div class="ttdeci">std::vector&lt; param_pair_t &gt; param_vec_t</div><div class="ttdef"><b>Definition</b> <a href="rgw__http__client_8h_source.html#l00016">rgw_http_client.h:16</a></div></div>
<div class="ttc" id="astruct_r_g_w_access_key_html"><div class="ttname"><a href="struct_r_g_w_access_key.html">RGWAccessKey</a></div><div class="ttdef"><b>Definition</b> <a href="rgw__common_8h_source.html#l00478">rgw_common.h:478</a></div></div>
<div class="ttc" id="astructreq__info_html_ab810e10f4cc4c306b3f6ff303ee5f64f"><div class="ttname"><a href="structreq__info.html#ab810e10f4cc4c306b3f6ff303ee5f64f">req_info::method</a></div><div class="ttdeci">const char * method</div><div class="ttdef"><b>Definition</b> <a href="rgw__common_8h_source.html#l01232">rgw_common.h:1232</a></div></div>
</div><!-- fragment --><div class="dynheader">
이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="rgw__admin_8cc_ab91eb7d099ca1e0e21208450550a3a1a_cgraph.png" border="0" usemap="#argw__admin_8cc_ab91eb7d099ca1e0e21208450550a3a1a_cgraph" alt=""/></div>
<map name="argw__admin_8cc_ab91eb7d099ca1e0e21208450550a3a1a_cgraph" id="argw__admin_8cc_ab91eb7d099ca1e0e21208450550a3a1a_cgraph">
<area shape="rect" title=" " alt="" coords="5,572,94,599"/>
<area shape="rect" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5" title=" " alt="" coords="1279,271,1322,297"/>
<area shape="poly" title=" " alt="" coords="51,571,79,445,108,353,149,254,173,206,202,160,233,117,269,80,308,48,351,24,399,8,450,3,861,3,950,5,1020,15,1052,25,1085,40,1160,86,1204,125,1241,171,1269,217,1289,255,1284,258,1265,220,1236,174,1200,129,1157,90,1083,44,1050,30,1018,20,949,10,861,8,450,8,400,13,353,29,311,52,272,83,237,121,206,163,178,209,153,257,113,355,84,447,56,572"/>
<area shape="rect" href="class_r_g_w_r_e_s_t_simple_request.html#a43e23db9f68aacc27ba84640527f9613" title=" " alt="" coords="142,1119,317,1161"/>
<area shape="poly" title=" " alt="" coords="58,598,219,1103,214,1105,53,600"/>
<area shape="poly" title=" " alt="" coords="230,1118,238,1053,254,956,280,840,319,718,345,658,374,601,408,549,447,502,490,463,539,434,594,415,655,408,861,408,946,406,1012,400,1077,385,1157,359,1216,333,1265,304,1268,308,1218,338,1159,364,1078,390,1013,405,946,412,861,413,655,413,595,420,542,439,493,468,450,506,412,552,379,604,350,660,324,720,285,842,259,957,243,1053,235,1118"/>
<area shape="rect" href="class_r_g_w_h_t_t_p_args.html#a3c756f3dc1fade13e84def6431e9baa6" title=" " alt="" coords="371,1000,533,1027"/>
<area shape="poly" title=" " alt="" coords="256,1116,304,1080,364,1043,392,1030,394,1035,366,1048,307,1084,259,1120"/>
<area shape="rect" href="class_r_g_w_env.html#ade7d5d23b881eabbb09bce4ac164ea08" title=" " alt="" coords="1250,1047,1351,1073"/>
<area shape="poly" title=" " alt="" coords="317,1129,474,1118,655,1112,861,1112,964,1108,1066,1097,1235,1070,1236,1076,1067,1103,964,1113,861,1117,655,1117,474,1123,318,1134"/>
<area shape="rect" href="class_r_g_w_env.html#a602b05b4518e49e23e4ecb22dbebbcaa" title=" " alt="" coords="386,1152,518,1179"/>
<area shape="poly" title=" " alt="" coords="318,1147,371,1153,370,1159,317,1153"/>
<area shape="rect" href="rgw__rest__client_8cc.html#a528dc6567d9311b0fa7102c1710b26a9" title=" " alt="" coords="390,1203,513,1229"/>
<area shape="poly" title=" " alt="" coords="287,1159,366,1188,388,1195,386,1200,364,1193,285,1164"/>
<area shape="rect" href="class_r_g_w_h_t_t_p_args.html#a729609e097911215b7fdedb776dcb8e9" title=" " alt="" coords="1206,939,1395,965"/>
<area shape="poly" title=" " alt="" coords="302,1116,364,1100,508,1071,572,1064,655,1061,861,1061,1012,1064,1077,1058,1157,1036,1189,1023,1219,1007,1269,973,1272,977,1222,1012,1191,1028,1159,1041,1078,1063,1012,1070,861,1067,655,1067,573,1069,509,1076,366,1105,303,1121"/>
<area shape="rect" href="class_r_g_w_h_t_t_p_simple_request.html#a657608df376311bf98d098603db64831" title=" " alt="" coords="365,1253,538,1296"/>
<area shape="poly" title=" " alt="" coords="257,1160,306,1199,366,1239,376,1244,373,1249,364,1244,303,1203,253,1164"/>
<area shape="rect" href="rgw__common_8cc.html#affdd013cb068d033d4287181693e4aba" title=" " alt="" coords="1034,1276,1118,1303"/>
<area shape="poly" title=" " alt="" coords="242,1160,260,1195,287,1236,323,1276,344,1292,366,1306,420,1322,495,1330,583,1331,679,1328,870,1312,1018,1295,1019,1300,871,1318,680,1333,583,1337,495,1335,419,1327,364,1310,340,1297,319,1279,283,1239,256,1198,238,1163"/>
<area shape="rect" href="class_r_g_w_h_t_t_p_client.html#a38de0b9ceefce30a6003b12d562e425d" title=" " alt="" coords="366,1371,538,1397"/>
<area shape="poly" title=" " alt="" coords="241,1161,259,1201,286,1252,322,1304,367,1350,385,1362,382,1366,363,1354,318,1307,282,1254,254,1203,237,1163"/>
<area shape="rect" href="structreq__info.html#a6655a124cd5bc4bb210c52bfe6ed30e6" title=" " alt="" coords="380,1421,524,1448"/>
<area shape="poly" title=" " alt="" coords="238,1161,252,1212,277,1278,315,1348,339,1380,367,1407,372,1411,369,1416,363,1411,335,1383,310,1351,272,1280,247,1213,233,1163"/>
<area shape="rect" href="class_r_g_w_h_t_t_p_args.html#ae099fc9f33cbd09b0cbe74e3301ad3a4" title=" " alt="" coords="371,1472,532,1499"/>
<area shape="poly" title=" " alt="" coords="236,1161,247,1221,270,1301,287,1343,309,1385,335,1424,367,1458,371,1462,368,1466,363,1462,331,1427,304,1388,282,1346,265,1302,242,1222,231,1162"/>
<area shape="rect" href="rgw__rest__client_8cc.html#a5c1f12de9449f4d7d2c20237525a3592" title=" " alt="" coords="784,816,936,843"/>
<area shape="poly" title=" " alt="" coords="242,1116,291,1052,325,1017,363,986,413,956,466,931,575,889,679,860,768,841,769,846,680,865,576,894,468,936,416,961,367,990,328,1020,295,1056,247,1120"/>
<area shape="rect" href="class_r_g_w_env.html#a9cf6eca7c7e7fd76595f6f3039fe393d" title=" " alt="" coords="402,1523,502,1549"/>
<area shape="poly" title=" " alt="" coords="235,1161,243,1229,264,1322,281,1373,303,1422,332,1468,367,1509,389,1522,386,1527,363,1513,327,1471,298,1425,276,1374,258,1324,237,1229,229,1162"/>
<area shape="rect" href="class_r_g_w_h_t_t_p_client.html#a340f32b14fc826866fe476175ceb2ed8" title=" " alt="" coords="380,331,524,373"/>
<area shape="poly" title=" " alt="" coords="229,1118,240,975,264,758,282,645,304,539,331,452,346,417,363,390,372,381,376,384,367,394,351,420,336,454,309,541,287,645,269,759,245,975,235,1119"/>
<area shape="rect" href="rgw__rest__client_8cc.html#a7d43c3c069186769b04eb5e846b2ba65" title=" " alt="" coords="404,260,499,287"/>
<area shape="poly" title=" " alt="" coords="229,1118,239,963,262,725,279,599,302,483,329,386,345,347,363,317,376,303,392,292,395,296,380,307,367,320,350,350,334,388,307,484,285,600,267,725,244,963,234,1118"/>
<area shape="rect" href="rgw__common_8h.html#a47ecc49d73d32bd249865c3ed1bd902e" title=" " alt="" coords="1443,1047,1540,1073"/>
<area shape="poly" title=" " alt="" coords="1351,1057,1427,1057,1427,1063,1351,1063"/>
<area shape="rect" href="rgw__common_8cc.html#a84a44c8c01cd8e1ab44c0d9c777e6a46" title=" " alt="" coords="600,1203,712,1229"/>
<area shape="poly" title=" " alt="" coords="514,1213,585,1213,585,1219,514,1219"/>
<area shape="rect" href="rgw__rest__client_8cc.html#acfe0a2c18956354e257ed798a508ebfb" title=" " alt="" coords="590,1265,722,1292"/>
<area shape="poly" title=" " alt="" coords="539,1274,574,1274,574,1280,538,1279"/>
<area shape="rect" href="rgw__rest__client_8cc.html#a3dd35d5d0d602c763f24821d8057c525" title=" " alt="" coords="807,1267,913,1293"/>
<area shape="poly" title=" " alt="" coords="723,1276,791,1277,791,1282,723,1282"/>
<area shape="poly" title=" " alt="" coords="914,1280,1018,1284,1018,1290,913,1285"/>
<area shape="rect" href="rgw__common_8cc.html#a84a5910cd79828b1a5f6c5f675151024" title=" " alt="" coords="1216,1280,1385,1307"/>
<area shape="poly" title=" " alt="" coords="1119,1287,1201,1289,1201,1294,1119,1293"/>
<area shape="rect" href="rgw__common_8cc.html#a2068ea88d9a1915142e37c91a28e7793" title=" " alt="" coords="1229,1229,1372,1256"/>
<area shape="poly" title=" " alt="" coords="1118,1278,1218,1257,1219,1262,1119,1283"/>
<area shape="rect" href="class_r_g_w_h_t_t_p.html#adfb34d20b834f501e738cacd37dc8586" title=" " alt="" coords="586,1371,726,1397"/>
<area shape="poly" title=" " alt="" coords="538,1381,571,1381,571,1387,538,1387"/>
<area shape="rect" href="class_r_g_w_h_t_t_p.html#ac8ab575c584649a3aaa6c3391f918e3a" title=" " alt="" coords="799,1424,921,1451"/>
<area shape="poly" title=" " alt="" coords="710,1395,792,1417,790,1422,709,1400"/>
<area shape="rect" href="class_r_g_w_h_t_t_p_client.html#a7d489c6689cd946b572415111b0c97b5" title=" " alt="" coords="785,1371,935,1397"/>
<area shape="poly" title=" " alt="" coords="726,1381,770,1381,770,1387,726,1387"/>
<area shape="rect" href="class_r_g_w_h_t_t_p_manager.html#a12fb23d99e733aa22fdfd983c7581698" title=" " alt="" coords="994,1420,1158,1463"/>
<area shape="poly" title=" " alt="" coords="921,1436,979,1437,979,1442,921,1441"/>
<area shape="rect" href="class_r_g_w_h_t_t_p_manager.html#a16579a72dddb523cd5bdbf2957d22ef8" title=" " alt="" coords="1214,1548,1387,1591"/>
<area shape="poly" title=" " alt="" coords="1104,1461,1151,1498,1208,1534,1218,1539,1216,1544,1205,1538,1148,1502,1101,1465"/>
<area shape="rect" href="class_r_g_w_i_o_provider.html#a2bbd769b91d0d58e2d9ececade3a7c50" title=" " alt="" coords="1231,1348,1370,1391"/>
<area shape="poly" title=" " alt="" coords="1144,1417,1216,1393,1218,1399,1146,1422"/>
<area shape="rect" href="class_r_g_w_h_t_t_p_client.html#aa52a4d1d70d05fd7eb868df48bfc1c40" title=" " alt="" coords="1228,1415,1373,1457"/>
<area shape="poly" title=" " alt="" coords="1159,1437,1212,1435,1213,1441,1159,1442"/>
<area shape="rect" href="class_r_g_w_h_t_t_p_client.html#a8bbd7cf32732770e498d9c7e1033f519" title=" " alt="" coords="1229,1481,1372,1524"/>
<area shape="poly" title=" " alt="" coords="1158,1461,1214,1476,1213,1482,1156,1466"/>
<area shape="rect" href="structrgw__http__req__data.html#a2cb0db213911deffc4b43a81a37098b5" title=" " alt="" coords="997,1369,1155,1396"/>
<area shape="poly" title=" " alt="" coords="935,1381,982,1381,982,1386,935,1386"/>
<area shape="poly" title=" " alt="" coords="930,813,1068,781,1126,765,1157,751,1199,701,1232,643,1257,581,1274,517,1286,455,1293,399,1297,313,1302,313,1298,399,1291,456,1280,518,1262,582,1237,645,1203,704,1160,755,1128,770,1070,786,931,818"/>
<area shape="rect" href="rgw__rest__client_8cc.html#a63c983fa59d092690c18750d2a422125" title=" " alt="" coords="1024,816,1128,843"/>
<area shape="poly" title=" " alt="" coords="936,827,1009,827,1009,832,936,832"/>
<area shape="poly" title=" " alt="" coords="1128,815,1143,807,1156,796,1199,737,1233,672,1258,602,1275,532,1287,465,1293,404,1297,313,1302,313,1299,405,1292,466,1280,534,1263,604,1238,674,1204,740,1160,799,1146,811,1130,820"/>
<area shape="rect" href="rgw__rest__client_8cc.html#a4bd8566921458dc12d33e9396daf85b5" title=" " alt="" coords="1229,816,1372,843"/>
<area shape="poly" title=" " alt="" coords="1129,827,1214,827,1214,832,1129,832"/>
<area shape="poly" title=" " alt="" coords="474,257,582,197,663,160,755,126,854,100,906,91,958,87,1009,87,1061,92,1111,104,1160,122,1202,149,1238,185,1267,222,1287,255,1283,258,1263,225,1234,188,1199,153,1157,126,1109,109,1060,97,1009,92,958,92,906,96,855,105,756,131,665,165,585,201,476,262"/>
<area shape="rect" href="rgw__rest__client_8cc.html#a3ca3c893ea6a101f1c54da315a226532" title=" " alt="" coords="599,240,713,267"/>
<area shape="poly" title=" " alt="" coords="500,266,583,258,584,263,500,271"/>
<area shape="rect" href="rgw__rest__client_8cc.html#a25f831176101a20a03cc41a59d7add6d" title=" " alt="" coords="599,347,713,373"/>
<area shape="poly" title=" " alt="" coords="486,285,610,338,608,343,484,290"/>
<area shape="poly" title=" " alt="" coords="673,237,716,207,773,179,879,143,924,131,966,124,1009,122,1054,126,1103,137,1159,156,1198,176,1232,203,1282,257,1278,260,1228,207,1195,181,1157,161,1102,142,1053,131,1009,127,967,129,925,136,880,148,775,184,719,211,676,242"/>
<area shape="rect" href="namespacergw_1_1auth_1_1s3.html#ac0473c2ac7c9c8b09b9b245265466f71" title=" " alt="" coords="799,273,921,316"/>
<area shape="poly" title=" " alt="" coords="714,262,784,277,783,282,713,267"/>
<area shape="rect" href="rgw__auth__s3_8cc.html#ab43c21e79689f8cbc08e4d4a9adb0975" title=" " alt="" coords="776,193,944,236"/>
<area shape="poly" title=" " alt="" coords="713,240,760,231,761,236,714,245"/>
<area shape="rect" href="rgw__common_8cc.html#aa39158860adaaaa9be76ebec5ffbabca" title=" " alt="" coords="1017,296,1136,323"/>
<area shape="poly" title=" " alt="" coords="921,296,1001,302,1000,307,921,301"/>
<area shape="poly" title=" " alt="" coords="925,190,976,178,1036,169,1098,169,1159,180,1194,195,1226,215,1277,258,1274,262,1223,220,1191,200,1158,185,1098,174,1036,174,977,183,926,195"/>
<area shape="rect" href="rgw__auth__s3_8cc.html#a7d46f12f279089af2532c58bbed96ab1" title=" " alt="" coords="1007,245,1145,272"/>
<area shape="poly" title=" " alt="" coords="944,229,993,239,992,244,943,234"/>
<area shape="rect" href="rgw__auth__s3_8cc.html#a61b34508dc79225c9452792cc883d222" title=" " alt="" coords="1007,195,1145,221"/>
<area shape="poly" title=" " alt="" coords="944,209,991,208,991,213,944,215"/>
<area shape="poly" title=" " alt="" coords="1124,219,1159,231,1265,269,1263,274,1157,236,1122,224"/>
<area shape="poly" title=" " alt="" coords="714,360,800,361,911,359,1035,350,1158,332,1214,316,1264,297,1266,302,1216,321,1159,337,1035,356,912,364,800,367,714,365"/>
<area shape="rect" href="classrgw_1_1auth_1_1s3_1_1_a_w_s_signer_v4.html#a85cf16787ee303bbe6258692fa009fa0" title=" " alt="" coords="774,648,946,691"/>
<area shape="poly" title=" " alt="" coords="668,372,838,633,834,636,664,375"/>
<area shape="rect" href="namespacergw_1_1auth_1_1s3.html#adce49ddc585458e20a19126960b7f21f" title=" " alt="" coords="1012,515,1140,557"/>
<area shape="poly" title=" " alt="" coords="885,645,933,607,993,567,1002,562,1004,567,995,572,936,611,888,649"/>
<area shape="rect" href="namespacergw_1_1auth_1_1s3.html#ad73439c26834fd4c048aedf9e7ed5935" title=" " alt="" coords="1014,917,1139,960"/>
<area shape="poly" title=" " alt="" coords="878,689,948,803,961,830,969,853,978,874,996,897,1008,907,1004,911,992,901,973,877,964,855,956,832,944,805,873,692"/>
<area shape="rect" href="namespacergw_1_1auth_1_1s3.html#a39735e358d477dfb5019c0f6639123b7" title=" " alt="" coords="1229,868,1372,911"/>
<area shape="poly" title=" " alt="" coords="876,690,933,781,967,825,995,852,1048,876,1105,889,1162,895,1214,895,1214,900,1161,900,1104,894,1046,881,993,857,963,829,929,784,871,693"/>
<area shape="rect" href="namespacergw_1_1auth_1_1s3.html#adcad9ace965c1728ca52f0373de7c550" title=" " alt="" coords="1014,581,1139,624"/>
<area shape="poly" title=" " alt="" coords="930,645,998,624,1000,629,932,650"/>
<area shape="rect" href="namespacergw_1_1auth_1_1s3.html#ad7e2f4d0381f6bac91f53c17a21f714c" title=" " alt="" coords="1014,648,1139,691"/>
<area shape="poly" title=" " alt="" coords="946,667,998,667,998,672,946,672"/>
<area shape="rect" href="namespacergw_1_1auth_1_1s3.html#a352c9cc5c75836048d84c63a51a6c3d8" title=" " alt="" coords="1014,448,1139,491"/>
<area shape="poly" title=" " alt="" coords="871,646,919,576,953,536,992,501,999,496,1002,501,996,505,957,540,923,579,876,649"/>
<area shape="rect" href="class_r_g_w_h_t_t_p_args.html#a813d34418ca1289e50c720669aaa9337" title=" " alt="" coords="1007,715,1145,741"/>
<area shape="poly" title=" " alt="" coords="941,689,1010,708,1009,713,940,694"/>
<area shape="rect" href="namespacergw_1_1auth_1_1s3.html#a7bab80b294c01e157fa849966cb9c37d" title=" " alt="" coords="999,984,1154,1027"/>
<area shape="poly" title=" " alt="" coords="880,690,914,740,948,803,958,828,962,852,965,893,972,930,981,950,996,970,997,972,994,975,992,974,976,952,967,932,960,893,957,852,952,830,944,805,909,743,875,693"/>
<area shape="poly" title=" " alt="" coords="1139,940,1191,943,1191,948,1139,945"/>
<area shape="poly" title=" " alt="" coords="1139,922,1213,906,1215,911,1140,928"/>
<area shape="poly" title=" " alt="" coords="1127,445,1157,427,1192,398,1225,366,1277,308,1281,311,1229,370,1196,402,1160,432,1130,450"/>
<area shape="poly" title=" " alt="" coords="1155,1022,1236,1042,1235,1047,1154,1027"/>
</map>
</div>
<div class="dynheader">
이 함수를 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="rgw__admin_8cc_ab91eb7d099ca1e0e21208450550a3a1a_icgraph.png" border="0" usemap="#argw__admin_8cc_ab91eb7d099ca1e0e21208450550a3a1a_icgraph" alt=""/></div>
<map name="argw__admin_8cc_ab91eb7d099ca1e0e21208450550a3a1a_icgraph" id="argw__admin_8cc_ab91eb7d099ca1e0e21208450550a3a1a_icgraph">
<area shape="rect" title=" " alt="" coords="611,16,699,43"/>
<area shape="rect" href="rgw__admin_8cc.html#a217dbf8b442f20279ea00b898af96f52" title=" " alt="" coords="5,67,55,94"/>
<area shape="poly" title=" " alt="" coords="595,23,499,13,376,8,308,10,239,15,170,25,104,42,75,54,51,69,48,64,73,49,102,36,169,20,238,10,308,4,376,3,500,8,596,18"/>
<area shape="rect" href="rgw__admin_8cc.html#aff0d5161d67f7441b3696da1f415130d" title=" " alt="" coords="409,42,563,68"/>
<area shape="poly" title=" " alt="" coords="596,41,564,46,563,41,595,36"/>
<area shape="poly" title=" " alt="" coords="394,53,256,52,179,56,103,64,55,75,54,70,102,59,179,50,256,46,394,47"/>
<area shape="rect" href="rgw__admin_8cc.html#aa84c5ba46881dc6ab82e752f5864a5d6" title=" " alt="" coords="255,67,361,94"/>
<area shape="poly" title=" " alt="" coords="394,71,362,75,361,70,393,65"/>
<area shape="rect" href="rgw__admin_8cc.html#a693377846b7628a32c724cf0200e5a9e" title=" " alt="" coords="103,168,207,195"/>
<area shape="poly" title=" " alt="" coords="439,77,362,108,196,170,194,165,360,103,437,72"/>
<area shape="poly" title=" " alt="" coords="239,83,55,83,55,78,239,78"/>
<area shape="rect" href="rgw__admin_8cc.html#a4dd5fe9ff30e3225bca7a06c01dde2bd" title=" " alt="" coords="104,118,206,144"/>
<area shape="poly" title=" " alt="" coords="252,102,198,120,197,115,250,97"/>
<area shape="poly" title=" " alt="" coords="105,114,54,93,56,88,107,109"/>
<area shape="poly" title=" " alt="" coords="107,162,101,158,66,126,40,96,44,92,70,123,104,154,110,158"/>
</map>
</div>

</div>
</div>
<a id="adacb41248cf30097cf288bb44a093923" name="adacb41248cf30097cf288bb44a093923"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adacb41248cf30097cf288bb44a093923">&#9670;&#160;</a></span>set_bucket_quota()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int set_bucket_quota </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classrgw_1_1sal_1_1_store.html">rgw::sal::Store</a> *&#160;</td>
          <td class="paramname"><em>store</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespacergw__admin.html#a417a68fb93cf5a708aed0d343be0856f">OPT</a>&#160;</td>
          <td class="paramname"><em>opt_cmd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const string &amp;&#160;</td>
          <td class="paramname"><em>tenant_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const string &amp;&#160;</td>
          <td class="paramname"><em>bucket_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int64_t&#160;</td>
          <td class="paramname"><em>max_size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int64_t&#160;</td>
          <td class="paramname"><em>max_objects</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>have_max_size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>have_max_objects</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition"><a class="el" href="rgw__admin_8cc_source.html">rgw_admin.cc</a> 파일의 <a class="el" href="rgw__admin_8cc_source.html#l01384">1384</a> 번째 라인에서 정의되었습니다.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1388</span>{</div>
<div class="line"><span class="lineno"> 1389</span>  std::unique_ptr&lt;rgw::sal::Bucket&gt; bucket;</div>
<div class="line"><span class="lineno"> 1390</span>  <span class="keywordtype">int</span> <a class="code hl_variable" href="rgw__aio_8cc.html#ae38055824c6eac64615832ad9d888539">r</a> = <a class="code hl_variable" href="rgw__admin_8cc.html#a6fdb26d64b14d837b60e83a6ca3e2863">store</a>-&gt;<a class="code hl_function" href="classrgw_1_1sal_1_1_store.html#a3308ce50125b19ccdf5ce7f69958bd67">get_bucket</a>(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>(), <span class="keyword">nullptr</span>, tenant_name, bucket_name, &amp;bucket, null_yield);</div>
<div class="line"><span class="lineno"> 1391</span>  <span class="keywordflow">if</span> (<a class="code hl_variable" href="rgw__aio_8cc.html#ae38055824c6eac64615832ad9d888539">r</a> &lt; 0) {</div>
<div class="line"><span class="lineno"> 1392</span>    cerr &lt;&lt; <span class="stringliteral">&quot;could not get bucket info for bucket=&quot;</span> &lt;&lt; bucket_name &lt;&lt; <span class="stringliteral">&quot;: &quot;</span> &lt;&lt; cpp_strerror(-<a class="code hl_variable" href="rgw__aio_8cc.html#ae38055824c6eac64615832ad9d888539">r</a>) &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 1393</span>    <span class="keywordflow">return</span> -<a class="code hl_variable" href="rgw__aio_8cc.html#ae38055824c6eac64615832ad9d888539">r</a>;</div>
<div class="line"><span class="lineno"> 1394</span>  }</div>
<div class="line"><span class="lineno"> 1395</span> </div>
<div class="line"><span class="lineno"> 1396</span>  <a class="code hl_function" href="rgw__admin_8cc.html#a47785697389493a3eba737404eaab01b">set_quota_info</a>(bucket-&gt;get_info().quota, opt_cmd, max_size, max_objects, have_max_size, have_max_objects);</div>
<div class="line"><span class="lineno"> 1397</span> </div>
<div class="line"><span class="lineno"> 1398</span>  <a class="code hl_variable" href="rgw__aio_8cc.html#ae38055824c6eac64615832ad9d888539">r</a> = bucket-&gt;put_info(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>(), <span class="keyword">false</span>, real_time());</div>
<div class="line"><span class="lineno"> 1399</span>  <span class="keywordflow">if</span> (<a class="code hl_variable" href="rgw__aio_8cc.html#ae38055824c6eac64615832ad9d888539">r</a> &lt; 0) {</div>
<div class="line"><span class="lineno"> 1400</span>    cerr &lt;&lt; <span class="stringliteral">&quot;ERROR: failed writing bucket instance info: &quot;</span> &lt;&lt; cpp_strerror(-<a class="code hl_variable" href="rgw__aio_8cc.html#ae38055824c6eac64615832ad9d888539">r</a>) &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 1401</span>    <span class="keywordflow">return</span> -<a class="code hl_variable" href="rgw__aio_8cc.html#ae38055824c6eac64615832ad9d888539">r</a>;</div>
<div class="line"><span class="lineno"> 1402</span>  }</div>
<div class="line"><span class="lineno"> 1403</span>  <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno"> 1404</span>}</div>
</div><!-- fragment --><div class="dynheader">
이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="rgw__admin_8cc_adacb41248cf30097cf288bb44a093923_cgraph.png" border="0" usemap="#argw__admin_8cc_adacb41248cf30097cf288bb44a093923_cgraph" alt=""/></div>
<map name="argw__admin_8cc_adacb41248cf30097cf288bb44a093923_cgraph" id="argw__admin_8cc_adacb41248cf30097cf288bb44a093923_cgraph">
<area shape="rect" title=" " alt="" coords="5,64,130,91"/>
<area shape="rect" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5" title=" " alt="" coords="222,5,265,32"/>
<area shape="poly" title=" " alt="" coords="109,61,207,28,208,33,111,66"/>
<area shape="rect" href="classrgw_1_1sal_1_1_store.html#a3308ce50125b19ccdf5ce7f69958bd67" title=" " alt="" coords="178,56,309,99"/>
<area shape="poly" title=" " alt="" coords="130,75,162,75,162,80,130,80"/>
<area shape="rect" href="rgw__admin_8cc.html#a47785697389493a3eba737404eaab01b" title=" " alt="" coords="191,123,296,149"/>
<area shape="poly" title=" " alt="" coords="111,89,188,115,186,120,109,94"/>
<area shape="rect" href="rgw__common_8h.html#ac97df4d17de6c87b72aaa9aee01a503a" title=" " alt="" coords="357,123,472,149"/>
<area shape="poly" title=" " alt="" coords="297,133,341,133,341,139,297,139"/>
</map>
</div>
<div class="dynheader">
이 함수를 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="rgw__admin_8cc_adacb41248cf30097cf288bb44a093923_icgraph.png" border="0" usemap="#argw__admin_8cc_adacb41248cf30097cf288bb44a093923_icgraph" alt=""/></div>
<map name="argw__admin_8cc_adacb41248cf30097cf288bb44a093923_icgraph" id="argw__admin_8cc_adacb41248cf30097cf288bb44a093923_icgraph">
<area shape="rect" title=" " alt="" coords="103,5,227,32"/>
<area shape="rect" href="rgw__admin_8cc.html#a217dbf8b442f20279ea00b898af96f52" title=" " alt="" coords="5,5,55,32"/>
<area shape="poly" title=" " alt="" coords="87,21,55,21,55,16,87,16"/>
</map>
</div>

</div>
</div>
<a id="ac7ecfff67d5f6ace5a2144c93d8a7d77" name="ac7ecfff67d5f6ace5a2144c93d8a7d77"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac7ecfff67d5f6ace5a2144c93d8a7d77">&#9670;&#160;</a></span>set_bucket_ratelimit()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int set_bucket_ratelimit </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classrgw_1_1sal_1_1_store.html">rgw::sal::Store</a> *&#160;</td>
          <td class="paramname"><em>store</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespacergw__admin.html#a417a68fb93cf5a708aed0d343be0856f">OPT</a>&#160;</td>
          <td class="paramname"><em>opt_cmd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const string &amp;&#160;</td>
          <td class="paramname"><em>tenant_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const string &amp;&#160;</td>
          <td class="paramname"><em>bucket_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int64_t&#160;</td>
          <td class="paramname"><em>max_read_ops</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int64_t&#160;</td>
          <td class="paramname"><em>max_write_ops</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int64_t&#160;</td>
          <td class="paramname"><em>max_read_bytes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int64_t&#160;</td>
          <td class="paramname"><em>max_write_bytes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>have_max_read_ops</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>have_max_write_ops</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>have_max_read_bytes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>have_max_write_bytes</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition"><a class="el" href="rgw__admin_8cc_source.html">rgw_admin.cc</a> 파일의 <a class="el" href="rgw__admin_8cc_source.html#l01406">1406</a> 번째 라인에서 정의되었습니다.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1412</span>{</div>
<div class="line"><span class="lineno"> 1413</span>  std::unique_ptr&lt;rgw::sal::Bucket&gt; bucket;</div>
<div class="line"><span class="lineno"> 1414</span>  <span class="keywordtype">int</span> <a class="code hl_variable" href="rgw__aio_8cc.html#ae38055824c6eac64615832ad9d888539">r</a> = <a class="code hl_variable" href="rgw__admin_8cc.html#a6fdb26d64b14d837b60e83a6ca3e2863">store</a>-&gt;<a class="code hl_function" href="classrgw_1_1sal_1_1_store.html#a3308ce50125b19ccdf5ce7f69958bd67">get_bucket</a>(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>(), <span class="keyword">nullptr</span>, tenant_name, bucket_name, &amp;bucket, null_yield);</div>
<div class="line"><span class="lineno"> 1415</span>  <span class="keywordflow">if</span> (<a class="code hl_variable" href="rgw__aio_8cc.html#ae38055824c6eac64615832ad9d888539">r</a> &lt; 0) {</div>
<div class="line"><span class="lineno"> 1416</span>    cerr &lt;&lt; <span class="stringliteral">&quot;could not get bucket info for bucket=&quot;</span> &lt;&lt; bucket_name &lt;&lt; <span class="stringliteral">&quot;: &quot;</span> &lt;&lt; cpp_strerror(-<a class="code hl_variable" href="rgw__aio_8cc.html#ae38055824c6eac64615832ad9d888539">r</a>) &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 1417</span>    <span class="keywordflow">return</span> -<a class="code hl_variable" href="rgw__aio_8cc.html#ae38055824c6eac64615832ad9d888539">r</a>;</div>
<div class="line"><span class="lineno"> 1418</span>  }</div>
<div class="line"><span class="lineno"> 1419</span>  <a class="code hl_struct" href="struct_r_g_w_rate_limit_info.html">RGWRateLimitInfo</a> ratelimit_info;</div>
<div class="line"><span class="lineno"> 1420</span>  <span class="keyword">auto</span> iter = bucket-&gt;get_attrs().find(<a class="code hl_define" href="rgw__common_8h.html#a8f47ad6e030c1b57f1c83082bcd786ff">RGW_ATTR_RATELIMIT</a>);</div>
<div class="line"><span class="lineno"> 1421</span>  <span class="keywordflow">if</span>(iter != bucket-&gt;get_attrs().end()) {</div>
<div class="line"><span class="lineno"> 1422</span>    <span class="keywordflow">try</span> {</div>
<div class="line"><span class="lineno"> 1423</span>      bufferlist&amp; bl = iter-&gt;second;</div>
<div class="line"><span class="lineno"> 1424</span>      <span class="keyword">auto</span> biter = bl.cbegin();</div>
<div class="line"><span class="lineno"> 1425</span>      <a class="code hl_function" href="rgw__log__backing_8h.html#adc46efdde31cf790f3b383cb9e6f198e">decode</a>(ratelimit_info, biter);</div>
<div class="line"><span class="lineno"> 1426</span>    } <span class="keywordflow">catch</span> (buffer::error&amp; err) {</div>
<div class="line"><span class="lineno"> 1427</span>      ldpp_dout(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>(), 0) &lt;&lt; <span class="stringliteral">&quot;ERROR: failed to decode rate limit&quot;</span> &lt;&lt; dendl;</div>
<div class="line"><span class="lineno"> 1428</span>      <span class="keywordflow">return</span> -EIO;</div>
<div class="line"><span class="lineno"> 1429</span>    }</div>
<div class="line"><span class="lineno"> 1430</span>  }</div>
<div class="line"><span class="lineno"> 1431</span>  <span class="keywordtype">bool</span> ratelimit_configured = <a class="code hl_function" href="rgw__admin_8cc.html#abb9e0ffbf36a71fe5f3a9320495c0228">set_ratelimit_info</a>(ratelimit_info, opt_cmd, max_read_ops, max_write_ops,</div>
<div class="line"><span class="lineno"> 1432</span>                         max_read_bytes, max_write_bytes,</div>
<div class="line"><span class="lineno"> 1433</span>                         have_max_read_ops, have_max_write_ops,</div>
<div class="line"><span class="lineno"> 1434</span>                         have_max_read_bytes, have_max_write_bytes);</div>
<div class="line"><span class="lineno"> 1435</span>  <span class="keywordflow">if</span> (!ratelimit_configured) {</div>
<div class="line"><span class="lineno"> 1436</span>    ldpp_dout(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>(), 0) &lt;&lt; <span class="stringliteral">&quot;ERROR: no rate limit values have been specified&quot;</span> &lt;&lt; dendl;</div>
<div class="line"><span class="lineno"> 1437</span>    <span class="keywordflow">return</span> -EINVAL;</div>
<div class="line"><span class="lineno"> 1438</span>  }</div>
<div class="line"><span class="lineno"> 1439</span>  bufferlist bl;</div>
<div class="line"><span class="lineno"> 1440</span>  ratelimit_info.<a class="code hl_function" href="struct_r_g_w_rate_limit_info.html#a89d8a639550de630d8fcd8d9b3ff861c">encode</a>(bl);</div>
<div class="line"><span class="lineno"> 1441</span>  <a class="code hl_typedef" href="group___r_g_w_s_a_l.html#gab1b58d5f8747844fae5ddfb48fadf7bc">rgw::sal::Attrs</a> attr;</div>
<div class="line"><span class="lineno"> 1442</span>  attr[<a class="code hl_define" href="rgw__common_8h.html#a8f47ad6e030c1b57f1c83082bcd786ff">RGW_ATTR_RATELIMIT</a>] = bl;</div>
<div class="line"><span class="lineno"> 1443</span>  <a class="code hl_variable" href="rgw__aio_8cc.html#ae38055824c6eac64615832ad9d888539">r</a> = bucket-&gt;merge_and_store_attrs(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>(), attr, null_yield);</div>
<div class="line"><span class="lineno"> 1444</span>  <span class="keywordflow">if</span> (<a class="code hl_variable" href="rgw__aio_8cc.html#ae38055824c6eac64615832ad9d888539">r</a> &lt; 0) {</div>
<div class="line"><span class="lineno"> 1445</span>    cerr &lt;&lt; <span class="stringliteral">&quot;ERROR: failed writing bucket instance info: &quot;</span> &lt;&lt; cpp_strerror(-<a class="code hl_variable" href="rgw__aio_8cc.html#ae38055824c6eac64615832ad9d888539">r</a>) &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 1446</span>    <span class="keywordflow">return</span> -<a class="code hl_variable" href="rgw__aio_8cc.html#ae38055824c6eac64615832ad9d888539">r</a>;</div>
<div class="line"><span class="lineno"> 1447</span>  }</div>
<div class="line"><span class="lineno"> 1448</span>  <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno"> 1449</span>}</div>
<div class="ttc" id="agroup___r_g_w_s_a_l_html_gab1b58d5f8747844fae5ddfb48fadf7bc"><div class="ttname"><a href="group___r_g_w_s_a_l.html#gab1b58d5f8747844fae5ddfb48fadf7bc">rgw::sal::Attrs</a></div><div class="ttdeci">std::map&lt; std::string, ceph::buffer::list &gt; Attrs</div><div class="ttdef"><b>Definition</b> <a href="rgw__common_8h_source.html#l00053">rgw_common.h:53</a></div></div>
<div class="ttc" id="argw__common_8h_html_a8f47ad6e030c1b57f1c83082bcd786ff"><div class="ttname"><a href="rgw__common_8h.html#a8f47ad6e030c1b57f1c83082bcd786ff">RGW_ATTR_RATELIMIT</a></div><div class="ttdeci">#define RGW_ATTR_RATELIMIT</div><div class="ttdef"><b>Definition</b> <a href="rgw__common_8h_source.html#l00071">rgw_common.h:71</a></div></div>
<div class="ttc" id="astruct_r_g_w_rate_limit_info_html"><div class="ttname"><a href="struct_r_g_w_rate_limit_info.html">RGWRateLimitInfo</a></div><div class="ttdef"><b>Definition</b> <a href="rgw__common_8h_source.html#l00701">rgw_common.h:701</a></div></div>
<div class="ttc" id="astruct_r_g_w_rate_limit_info_html_a89d8a639550de630d8fcd8d9b3ff861c"><div class="ttname"><a href="struct_r_g_w_rate_limit_info.html#a89d8a639550de630d8fcd8d9b3ff861c">RGWRateLimitInfo::encode</a></div><div class="ttdeci">void encode(bufferlist &amp;bl) const</div><div class="ttdef"><b>Definition</b> <a href="rgw__common_8h_source.html#l00710">rgw_common.h:710</a></div></div>
</div><!-- fragment --><div class="dynheader">
이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="rgw__admin_8cc_ac7ecfff67d5f6ace5a2144c93d8a7d77_cgraph.png" border="0" usemap="#argw__admin_8cc_ac7ecfff67d5f6ace5a2144c93d8a7d77_cgraph" alt=""/></div>
<map name="argw__admin_8cc_ac7ecfff67d5f6ace5a2144c93d8a7d77_cgraph" id="argw__admin_8cc_ac7ecfff67d5f6ace5a2144c93d8a7d77_cgraph">
<area shape="rect" title=" " alt="" coords="5,155,144,181"/>
<area shape="rect" href="rgw__log__backing_8h.html#adc46efdde31cf790f3b383cb9e6f198e" title=" " alt="" coords="249,29,313,56"/>
<area shape="poly" title=" " alt="" coords="86,152,129,110,159,86,190,66,233,49,235,54,193,70,162,90,133,114,90,156"/>
<area shape="rect" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5" title=" " alt="" coords="260,80,302,107"/>
<area shape="poly" title=" " alt="" coords="104,152,191,116,244,100,245,105,193,121,106,157"/>
<area shape="rect" href="struct_r_g_w_rate_limit_info.html#a89d8a639550de630d8fcd8d9b3ff861c" title=" " alt="" coords="192,155,370,181"/>
<area shape="poly" title=" " alt="" coords="144,165,176,165,176,171,144,171"/>
<area shape="rect" href="classrgw_1_1sal_1_1_store.html#a3308ce50125b19ccdf5ce7f69958bd67" title=" " alt="" coords="215,205,347,248"/>
<area shape="poly" title=" " alt="" coords="125,179,201,201,199,206,123,184"/>
<area shape="rect" href="rgw__admin_8cc.html#abb9e0ffbf36a71fe5f3a9320495c0228" title=" " alt="" coords="221,272,341,299"/>
<area shape="poly" title=" " alt="" coords="91,180,135,218,193,258,207,264,205,269,190,262,131,223,88,184"/>
<area shape="poly" title=" " alt="" coords="246,31,240,21,244,11,258,5,281,3,306,5,319,12,317,17,305,11,281,8,259,10,247,15,245,20,251,28"/>
<area shape="poly" title=" " alt="" coords="246,156,240,146,244,136,258,130,281,128,305,131,318,137,316,142,304,136,281,133,259,135,248,140,245,145,250,153"/>
</map>
</div>
<div class="dynheader">
이 함수를 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="rgw__admin_8cc_ac7ecfff67d5f6ace5a2144c93d8a7d77_icgraph.png" border="0" usemap="#argw__admin_8cc_ac7ecfff67d5f6ace5a2144c93d8a7d77_icgraph" alt=""/></div>
<map name="argw__admin_8cc_ac7ecfff67d5f6ace5a2144c93d8a7d77_icgraph" id="argw__admin_8cc_ac7ecfff67d5f6ace5a2144c93d8a7d77_icgraph">
<area shape="rect" title=" " alt="" coords="103,5,241,32"/>
<area shape="rect" href="rgw__admin_8cc.html#a217dbf8b442f20279ea00b898af96f52" title=" " alt="" coords="5,5,55,32"/>
<area shape="poly" title=" " alt="" coords="87,21,55,21,55,16,87,16"/>
</map>
</div>

</div>
</div>
<a id="a47785697389493a3eba737404eaab01b" name="a47785697389493a3eba737404eaab01b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a47785697389493a3eba737404eaab01b">&#9670;&#160;</a></span>set_quota_info()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void set_quota_info </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_r_g_w_quota_info.html">RGWQuotaInfo</a> &amp;&#160;</td>
          <td class="paramname"><em>quota</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespacergw__admin.html#a417a68fb93cf5a708aed0d343be0856f">OPT</a>&#160;</td>
          <td class="paramname"><em>opt_cmd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int64_t&#160;</td>
          <td class="paramname"><em>max_size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int64_t&#160;</td>
          <td class="paramname"><em>max_objects</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>have_max_size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>have_max_objects</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition"><a class="el" href="rgw__admin_8cc_source.html">rgw_admin.cc</a> 파일의 <a class="el" href="rgw__admin_8cc_source.html#l01348">1348</a> 번째 라인에서 정의되었습니다.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1350</span>{</div>
<div class="line"><span class="lineno"> 1351</span>  <span class="keywordflow">switch</span> (opt_cmd) {</div>
<div class="line"><span class="lineno"> 1352</span>    <span class="keywordflow">case</span> OPT::QUOTA_ENABLE:</div>
<div class="line"><span class="lineno"> 1353</span>    <span class="keywordflow">case</span> OPT::GLOBAL_QUOTA_ENABLE:</div>
<div class="line"><span class="lineno"> 1354</span>      quota.<a class="code hl_variable" href="struct_r_g_w_quota_info.html#a4dbb532beaa44f6aba6766bf845315cd">enabled</a> = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 1355</span> </div>
<div class="line"><span class="lineno"> 1356</span>      <span class="comment">// falling through on purpose</span></div>
<div class="line"><span class="lineno"> 1357</span> </div>
<div class="line"><span class="lineno"> 1358</span>    <span class="keywordflow">case</span> OPT::QUOTA_SET:</div>
<div class="line"><span class="lineno"> 1359</span>    <span class="keywordflow">case</span> OPT::GLOBAL_QUOTA_SET:</div>
<div class="line"><span class="lineno"> 1360</span>      <span class="keywordflow">if</span> (have_max_objects) {</div>
<div class="line"><span class="lineno"> 1361</span>        <span class="keywordflow">if</span> (max_objects &lt; 0) {</div>
<div class="line"><span class="lineno"> 1362</span>          quota.<a class="code hl_variable" href="struct_r_g_w_quota_info.html#a425e1d2833678631d7d27fef8cd1da1f">max_objects</a> = -1;</div>
<div class="line"><span class="lineno"> 1363</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 1364</span>          quota.<a class="code hl_variable" href="struct_r_g_w_quota_info.html#a425e1d2833678631d7d27fef8cd1da1f">max_objects</a> = max_objects;</div>
<div class="line"><span class="lineno"> 1365</span>        }</div>
<div class="line"><span class="lineno"> 1366</span>      }</div>
<div class="line"><span class="lineno"> 1367</span>      <span class="keywordflow">if</span> (have_max_size) {</div>
<div class="line"><span class="lineno"> 1368</span>        <span class="keywordflow">if</span> (max_size &lt; 0) {</div>
<div class="line"><span class="lineno"> 1369</span>          quota.<a class="code hl_variable" href="struct_r_g_w_quota_info.html#a1488b728b6c6a2a50189503dddbf5916">max_size</a> = -1;</div>
<div class="line"><span class="lineno"> 1370</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 1371</span>          quota.<a class="code hl_variable" href="struct_r_g_w_quota_info.html#a1488b728b6c6a2a50189503dddbf5916">max_size</a> = <a class="code hl_function" href="rgw__common_8h.html#ac97df4d17de6c87b72aaa9aee01a503a">rgw_rounded_kb</a>(max_size) * 1024;</div>
<div class="line"><span class="lineno"> 1372</span>        }</div>
<div class="line"><span class="lineno"> 1373</span>      }</div>
<div class="line"><span class="lineno"> 1374</span>      <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1375</span>    <span class="keywordflow">case</span> OPT::QUOTA_DISABLE:</div>
<div class="line"><span class="lineno"> 1376</span>    <span class="keywordflow">case</span> OPT::GLOBAL_QUOTA_DISABLE:</div>
<div class="line"><span class="lineno"> 1377</span>      quota.<a class="code hl_variable" href="struct_r_g_w_quota_info.html#a4dbb532beaa44f6aba6766bf845315cd">enabled</a> = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 1378</span>      <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1379</span>    <span class="keywordflow">default</span>:</div>
<div class="line"><span class="lineno"> 1380</span>      <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1381</span>  }</div>
<div class="line"><span class="lineno"> 1382</span>}</div>
<div class="ttc" id="argw__common_8h_html_ac97df4d17de6c87b72aaa9aee01a503a"><div class="ttname"><a href="rgw__common_8h.html#ac97df4d17de6c87b72aaa9aee01a503a">rgw_rounded_kb</a></div><div class="ttdeci">static uint64_t rgw_rounded_kb(uint64_t bytes)</div><div class="ttdef"><b>Definition</b> <a href="rgw__common_8h_source.html#l02035">rgw_common.h:2035</a></div></div>
<div class="ttc" id="astruct_r_g_w_quota_info_html_a1488b728b6c6a2a50189503dddbf5916"><div class="ttname"><a href="struct_r_g_w_quota_info.html#a1488b728b6c6a2a50189503dddbf5916">RGWQuotaInfo::max_size</a></div><div class="ttdeci">int64_t max_size</div><div class="ttdef"><b>Definition</b> <a href="rgw__quota_8h_source.html#l00041">rgw_quota.h:41</a></div></div>
<div class="ttc" id="astruct_r_g_w_quota_info_html_a425e1d2833678631d7d27fef8cd1da1f"><div class="ttname"><a href="struct_r_g_w_quota_info.html#a425e1d2833678631d7d27fef8cd1da1f">RGWQuotaInfo::max_objects</a></div><div class="ttdeci">int64_t max_objects</div><div class="ttdef"><b>Definition</b> <a href="rgw__quota_8h_source.html#l00042">rgw_quota.h:42</a></div></div>
<div class="ttc" id="astruct_r_g_w_quota_info_html_a4dbb532beaa44f6aba6766bf845315cd"><div class="ttname"><a href="struct_r_g_w_quota_info.html#a4dbb532beaa44f6aba6766bf845315cd">RGWQuotaInfo::enabled</a></div><div class="ttdeci">bool enabled</div><div class="ttdef"><b>Definition</b> <a href="rgw__quota_8h_source.html#l00043">rgw_quota.h:43</a></div></div>
</div><!-- fragment --><div class="dynheader">
이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="rgw__admin_8cc_a47785697389493a3eba737404eaab01b_cgraph.png" border="0" usemap="#argw__admin_8cc_a47785697389493a3eba737404eaab01b_cgraph" alt=""/></div>
<map name="argw__admin_8cc_a47785697389493a3eba737404eaab01b_cgraph" id="argw__admin_8cc_a47785697389493a3eba737404eaab01b_cgraph">
<area shape="rect" title=" " alt="" coords="5,5,111,32"/>
<area shape="rect" href="rgw__common_8h.html#ac97df4d17de6c87b72aaa9aee01a503a" title=" " alt="" coords="159,5,274,32"/>
<area shape="poly" title=" " alt="" coords="111,16,143,16,143,21,111,21"/>
</map>
</div>
<div class="dynheader">
이 함수를 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="rgw__admin_8cc_a47785697389493a3eba737404eaab01b_icgraph.png" border="0" usemap="#argw__admin_8cc_a47785697389493a3eba737404eaab01b_icgraph" alt=""/></div>
<map name="argw__admin_8cc_a47785697389493a3eba737404eaab01b_icgraph" id="argw__admin_8cc_a47785697389493a3eba737404eaab01b_icgraph">
<area shape="rect" title=" " alt="" coords="307,57,412,84"/>
<area shape="rect" href="rgw__admin_8cc.html#a217dbf8b442f20279ea00b898af96f52" title=" " alt="" coords="5,57,55,84"/>
<area shape="poly" title=" " alt="" coords="324,51,293,34,258,22,215,12,180,8,146,11,104,22,72,38,47,59,43,54,69,34,102,17,145,6,180,3,216,7,260,17,295,30,326,46"/>
<area shape="rect" href="rgw__admin_8cc.html#adacb41248cf30097cf288bb44a093923" title=" " alt="" coords="119,32,243,58"/>
<area shape="poly" title=" " alt="" coords="291,63,243,56,244,51,292,58"/>
<area shape="rect" href="rgw__admin_8cc.html#aeb16ac40eaa88d8f9aaf0b2def2fe2fb" title=" " alt="" coords="103,82,259,109"/>
<area shape="poly" title=" " alt="" coords="292,83,260,87,259,82,291,77"/>
<area shape="rect" href="rgw__admin_8cc.html#a45756af62516a89ecfa1951a630f7a73" title=" " alt="" coords="126,133,236,160"/>
<area shape="poly" title=" " alt="" coords="322,94,260,123,229,135,227,130,258,119,319,89"/>
<area shape="poly" title=" " alt="" coords="104,61,55,69,55,64,103,55"/>
<area shape="poly" title=" " alt="" coords="87,83,55,77,56,72,88,77"/>
<area shape="poly" title=" " alt="" coords="114,129,101,123,71,105,46,86,49,82,74,101,104,119,117,124"/>
</map>
</div>

</div>
</div>
<a id="abb9e0ffbf36a71fe5f3a9320495c0228" name="abb9e0ffbf36a71fe5f3a9320495c0228"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abb9e0ffbf36a71fe5f3a9320495c0228">&#9670;&#160;</a></span>set_ratelimit_info()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool set_ratelimit_info </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_r_g_w_rate_limit_info.html">RGWRateLimitInfo</a> &amp;&#160;</td>
          <td class="paramname"><em>ratelimit</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespacergw__admin.html#a417a68fb93cf5a708aed0d343be0856f">OPT</a>&#160;</td>
          <td class="paramname"><em>opt_cmd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int64_t&#160;</td>
          <td class="paramname"><em>max_read_ops</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int64_t&#160;</td>
          <td class="paramname"><em>max_write_ops</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int64_t&#160;</td>
          <td class="paramname"><em>max_read_bytes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int64_t&#160;</td>
          <td class="paramname"><em>max_write_bytes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>have_max_read_ops</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>have_max_write_ops</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>have_max_read_bytes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>have_max_write_bytes</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition"><a class="el" href="rgw__admin_8cc_source.html">rgw_admin.cc</a> 파일의 <a class="el" href="rgw__admin_8cc_source.html#l01298">1298</a> 번째 라인에서 정의되었습니다.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1302</span>{</div>
<div class="line"><span class="lineno"> 1303</span>  <span class="keywordtype">bool</span> ratelimit_configured = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 1304</span>  <span class="keywordflow">switch</span> (opt_cmd) {</div>
<div class="line"><span class="lineno"> 1305</span>    <span class="keywordflow">case</span> OPT::RATELIMIT_ENABLE:</div>
<div class="line"><span class="lineno"> 1306</span>    <span class="keywordflow">case</span> OPT::GLOBAL_RATELIMIT_ENABLE:</div>
<div class="line"><span class="lineno"> 1307</span>      ratelimit.<a class="code hl_variable" href="struct_r_g_w_rate_limit_info.html#af612b3c43e2220039bbe7cbc092948b6">enabled</a> = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 1308</span>      <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1309</span> </div>
<div class="line"><span class="lineno"> 1310</span>    <span class="keywordflow">case</span> OPT::RATELIMIT_SET:</div>
<div class="line"><span class="lineno"> 1311</span>    <span class="keywordflow">case</span> OPT::GLOBAL_RATELIMIT_SET:</div>
<div class="line"><span class="lineno"> 1312</span>      ratelimit_configured = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 1313</span>      <span class="keywordflow">if</span> (have_max_read_ops) {</div>
<div class="line"><span class="lineno"> 1314</span>        <span class="keywordflow">if</span> (max_read_ops &gt;= 0) {</div>
<div class="line"><span class="lineno"> 1315</span>          ratelimit.<a class="code hl_variable" href="struct_r_g_w_rate_limit_info.html#a43cde3b05855a7140c8cbe392076f779">max_read_ops</a> = max_read_ops;</div>
<div class="line"><span class="lineno"> 1316</span>          ratelimit_configured = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 1317</span>        }</div>
<div class="line"><span class="lineno"> 1318</span>      }</div>
<div class="line"><span class="lineno"> 1319</span>      <span class="keywordflow">if</span> (have_max_write_ops) {</div>
<div class="line"><span class="lineno"> 1320</span>        <span class="keywordflow">if</span> (max_write_ops &gt;= 0) {</div>
<div class="line"><span class="lineno"> 1321</span>          ratelimit.<a class="code hl_variable" href="struct_r_g_w_rate_limit_info.html#a75ad1ec0ad345664f94edbd3c7066d2c">max_write_ops</a> = max_write_ops;</div>
<div class="line"><span class="lineno"> 1322</span>          ratelimit_configured = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 1323</span>        }</div>
<div class="line"><span class="lineno"> 1324</span>      }</div>
<div class="line"><span class="lineno"> 1325</span>      <span class="keywordflow">if</span> (have_max_read_bytes) {</div>
<div class="line"><span class="lineno"> 1326</span>        <span class="keywordflow">if</span> (max_read_bytes &gt;= 0) {</div>
<div class="line"><span class="lineno"> 1327</span>          ratelimit.<a class="code hl_variable" href="struct_r_g_w_rate_limit_info.html#a22b9c76bfd6e8467c6f6a392cc8a107a">max_read_bytes</a> = max_read_bytes;</div>
<div class="line"><span class="lineno"> 1328</span>          ratelimit_configured = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 1329</span>        }</div>
<div class="line"><span class="lineno"> 1330</span>      }</div>
<div class="line"><span class="lineno"> 1331</span>      <span class="keywordflow">if</span> (have_max_write_bytes) {</div>
<div class="line"><span class="lineno"> 1332</span>        <span class="keywordflow">if</span> (max_write_bytes &gt;= 0) {</div>
<div class="line"><span class="lineno"> 1333</span>          ratelimit.<a class="code hl_variable" href="struct_r_g_w_rate_limit_info.html#af2528c744d54eed82b4cd3383255824b">max_write_bytes</a> = max_write_bytes;</div>
<div class="line"><span class="lineno"> 1334</span>          ratelimit_configured = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 1335</span>        }</div>
<div class="line"><span class="lineno"> 1336</span>      }</div>
<div class="line"><span class="lineno"> 1337</span>      <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1338</span>    <span class="keywordflow">case</span> OPT::RATELIMIT_DISABLE:</div>
<div class="line"><span class="lineno"> 1339</span>    <span class="keywordflow">case</span> OPT::GLOBAL_RATELIMIT_DISABLE:</div>
<div class="line"><span class="lineno"> 1340</span>      ratelimit.<a class="code hl_variable" href="struct_r_g_w_rate_limit_info.html#af612b3c43e2220039bbe7cbc092948b6">enabled</a> = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 1341</span>      <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1342</span>    <span class="keywordflow">default</span>:</div>
<div class="line"><span class="lineno"> 1343</span>      <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1344</span>  }</div>
<div class="line"><span class="lineno"> 1345</span>  <span class="keywordflow">return</span> ratelimit_configured;</div>
<div class="line"><span class="lineno"> 1346</span>}</div>
<div class="ttc" id="astruct_r_g_w_rate_limit_info_html_a22b9c76bfd6e8467c6f6a392cc8a107a"><div class="ttname"><a href="struct_r_g_w_rate_limit_info.html#a22b9c76bfd6e8467c6f6a392cc8a107a">RGWRateLimitInfo::max_read_bytes</a></div><div class="ttdeci">int64_t max_read_bytes</div><div class="ttdef"><b>Definition</b> <a href="rgw__common_8h_source.html#l00705">rgw_common.h:705</a></div></div>
<div class="ttc" id="astruct_r_g_w_rate_limit_info_html_a43cde3b05855a7140c8cbe392076f779"><div class="ttname"><a href="struct_r_g_w_rate_limit_info.html#a43cde3b05855a7140c8cbe392076f779">RGWRateLimitInfo::max_read_ops</a></div><div class="ttdeci">int64_t max_read_ops</div><div class="ttdef"><b>Definition</b> <a href="rgw__common_8h_source.html#l00703">rgw_common.h:703</a></div></div>
<div class="ttc" id="astruct_r_g_w_rate_limit_info_html_a75ad1ec0ad345664f94edbd3c7066d2c"><div class="ttname"><a href="struct_r_g_w_rate_limit_info.html#a75ad1ec0ad345664f94edbd3c7066d2c">RGWRateLimitInfo::max_write_ops</a></div><div class="ttdeci">int64_t max_write_ops</div><div class="ttdef"><b>Definition</b> <a href="rgw__common_8h_source.html#l00702">rgw_common.h:702</a></div></div>
<div class="ttc" id="astruct_r_g_w_rate_limit_info_html_af2528c744d54eed82b4cd3383255824b"><div class="ttname"><a href="struct_r_g_w_rate_limit_info.html#af2528c744d54eed82b4cd3383255824b">RGWRateLimitInfo::max_write_bytes</a></div><div class="ttdeci">int64_t max_write_bytes</div><div class="ttdef"><b>Definition</b> <a href="rgw__common_8h_source.html#l00704">rgw_common.h:704</a></div></div>
<div class="ttc" id="astruct_r_g_w_rate_limit_info_html_af612b3c43e2220039bbe7cbc092948b6"><div class="ttname"><a href="struct_r_g_w_rate_limit_info.html#af612b3c43e2220039bbe7cbc092948b6">RGWRateLimitInfo::enabled</a></div><div class="ttdeci">bool enabled</div><div class="ttdef"><b>Definition</b> <a href="rgw__common_8h_source.html#l00706">rgw_common.h:706</a></div></div>
</div><!-- fragment --><div class="dynheader">
이 함수를 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="rgw__admin_8cc_abb9e0ffbf36a71fe5f3a9320495c0228_icgraph.png" border="0" usemap="#argw__admin_8cc_abb9e0ffbf36a71fe5f3a9320495c0228_icgraph" alt=""/></div>
<map name="argw__admin_8cc_abb9e0ffbf36a71fe5f3a9320495c0228_icgraph" id="argw__admin_8cc_abb9e0ffbf36a71fe5f3a9320495c0228_icgraph">
<area shape="rect" title=" " alt="" coords="289,24,408,51"/>
<area shape="rect" href="rgw__admin_8cc.html#a217dbf8b442f20279ea00b898af96f52" title=" " alt="" coords="5,24,55,51"/>
<area shape="poly" title=" " alt="" coords="285,23,241,15,172,8,103,15,56,29,54,24,102,10,172,3,241,10,286,18"/>
<area shape="rect" href="rgw__admin_8cc.html#ac7ecfff67d5f6ace5a2144c93d8a7d77" title=" " alt="" coords="103,24,241,51"/>
<area shape="poly" title=" " alt="" coords="273,40,241,40,241,35,273,35"/>
<area shape="rect" href="rgw__admin_8cc.html#acdcb0d724bb4768b0809eb0f78cd4ab4" title=" " alt="" coords="110,75,234,102"/>
<area shape="poly" title=" " alt="" coords="286,58,222,77,220,72,284,53"/>
<area shape="poly" title=" " alt="" coords="87,40,55,40,55,35,87,35"/>
<area shape="poly" title=" " alt="" coords="117,72,54,49,56,44,119,67"/>
</map>
</div>

</div>
</div>
<a id="aeb16ac40eaa88d8f9aaf0b2def2fe2fb" name="aeb16ac40eaa88d8f9aaf0b2def2fe2fb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aeb16ac40eaa88d8f9aaf0b2def2fe2fb">&#9670;&#160;</a></span>set_user_bucket_quota()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int set_user_bucket_quota </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="namespacergw__admin.html#a417a68fb93cf5a708aed0d343be0856f">OPT</a>&#160;</td>
          <td class="paramname"><em>opt_cmd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_r_g_w_user.html">RGWUser</a> &amp;&#160;</td>
          <td class="paramname"><em>user</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_r_g_w_user_admin_op_state.html">RGWUserAdminOpState</a> &amp;&#160;</td>
          <td class="paramname"><em>op_state</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int64_t&#160;</td>
          <td class="paramname"><em>max_size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int64_t&#160;</td>
          <td class="paramname"><em>max_objects</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>have_max_size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>have_max_objects</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition"><a class="el" href="rgw__admin_8cc_source.html">rgw_admin.cc</a> 파일의 <a class="el" href="rgw__admin_8cc_source.html#l01541">1541</a> 번째 라인에서 정의되었습니다.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1543</span>{</div>
<div class="line"><span class="lineno"> 1544</span>  <a class="code hl_struct" href="struct_r_g_w_user_info.html">RGWUserInfo</a>&amp; user_info = op_state.<a class="code hl_function" href="struct_r_g_w_user_admin_op_state.html#a8a622d9c3ce9131d2df6c570699f3985">get_user_info</a>();</div>
<div class="line"><span class="lineno"> 1545</span> </div>
<div class="line"><span class="lineno"> 1546</span>  <a class="code hl_function" href="rgw__admin_8cc.html#a47785697389493a3eba737404eaab01b">set_quota_info</a>(user_info.<a class="code hl_variable" href="struct_r_g_w_user_info.html#a2178c8ee42bcdf92557c10c2dfe5f8b7">bucket_quota</a>, opt_cmd, max_size, max_objects, have_max_size, have_max_objects);</div>
<div class="line"><span class="lineno"> 1547</span> </div>
<div class="line"><span class="lineno"> 1548</span>  op_state.<a class="code hl_function" href="struct_r_g_w_user_admin_op_state.html#adb3ffe27c58be7ac798599612c009578">set_bucket_quota</a>(user_info.<a class="code hl_variable" href="struct_r_g_w_user_info.html#a2178c8ee42bcdf92557c10c2dfe5f8b7">bucket_quota</a>);</div>
<div class="line"><span class="lineno"> 1549</span> </div>
<div class="line"><span class="lineno"> 1550</span>  <span class="keywordtype">string</span> err;</div>
<div class="line"><span class="lineno"> 1551</span>  <span class="keywordtype">int</span> <a class="code hl_variable" href="rgw__aio_8cc.html#ae38055824c6eac64615832ad9d888539">r</a> = user.<a class="code hl_function" href="class_r_g_w_user.html#a986f339b0dcd99bc46671bf22e45c280">modify</a>(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>(), op_state, null_yield, &amp;err);</div>
<div class="line"><span class="lineno"> 1552</span>  <span class="keywordflow">if</span> (<a class="code hl_variable" href="rgw__aio_8cc.html#ae38055824c6eac64615832ad9d888539">r</a> &lt; 0) {</div>
<div class="line"><span class="lineno"> 1553</span>    cerr &lt;&lt; <span class="stringliteral">&quot;ERROR: failed updating user info: &quot;</span> &lt;&lt; cpp_strerror(-<a class="code hl_variable" href="rgw__aio_8cc.html#ae38055824c6eac64615832ad9d888539">r</a>) &lt;&lt; <span class="stringliteral">&quot;: &quot;</span> &lt;&lt; err &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 1554</span>    <span class="keywordflow">return</span> -<a class="code hl_variable" href="rgw__aio_8cc.html#ae38055824c6eac64615832ad9d888539">r</a>;</div>
<div class="line"><span class="lineno"> 1555</span>  }</div>
<div class="line"><span class="lineno"> 1556</span>  <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno"> 1557</span>}</div>
<div class="ttc" id="astruct_r_g_w_user_admin_op_state_html_a8a622d9c3ce9131d2df6c570699f3985"><div class="ttname"><a href="struct_r_g_w_user_admin_op_state.html#a8a622d9c3ce9131d2df6c570699f3985">RGWUserAdminOpState::get_user_info</a></div><div class="ttdeci">RGWUserInfo &amp; get_user_info()</div><div class="ttdef"><b>Definition</b> <a href="rgw__user_8cc_source.html#l00417">rgw_user.cc:417</a></div></div>
<div class="ttc" id="astruct_r_g_w_user_admin_op_state_html_adb3ffe27c58be7ac798599612c009578"><div class="ttname"><a href="struct_r_g_w_user_admin_op_state.html#adb3ffe27c58be7ac798599612c009578">RGWUserAdminOpState::set_bucket_quota</a></div><div class="ttdeci">void set_bucket_quota(RGWQuotaInfo &amp;quota)</div><div class="ttdef"><b>Definition</b> <a href="rgw__user_8h_source.html#l00336">rgw_user.h:336</a></div></div>
<div class="ttc" id="astruct_r_g_w_user_info_html_a2178c8ee42bcdf92557c10c2dfe5f8b7"><div class="ttname"><a href="struct_r_g_w_user_info.html#a2178c8ee42bcdf92557c10c2dfe5f8b7">RGWUserInfo::bucket_quota</a></div><div class="ttdeci">RGWQuotaInfo bucket_quota</div><div class="ttdef"><b>Definition</b> <a href="rgw__common_8h_source.html#l00752">rgw_common.h:752</a></div></div>
</div><!-- fragment --><div class="dynheader">
이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="rgw__admin_8cc_aeb16ac40eaa88d8f9aaf0b2def2fe2fb_cgraph.png" border="0" usemap="#argw__admin_8cc_aeb16ac40eaa88d8f9aaf0b2def2fe2fb_cgraph" alt=""/></div>
<map name="argw__admin_8cc_aeb16ac40eaa88d8f9aaf0b2def2fe2fb_cgraph" id="argw__admin_8cc_aeb16ac40eaa88d8f9aaf0b2def2fe2fb_cgraph">
<area shape="rect" title=" " alt="" coords="5,611,162,637"/>
<area shape="rect" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5" title=" " alt="" coords="1435,296,1478,323"/>
<area shape="poly" title=" " alt="" coords="84,610,95,558,115,477,145,378,189,273,215,221,245,171,279,126,317,85,359,51,405,25,456,9,511,3,989,3,1055,13,1157,38,1258,69,1298,85,1325,101,1368,143,1403,192,1430,240,1447,280,1442,283,1425,243,1399,195,1364,146,1322,105,1296,90,1256,74,1155,43,1054,18,989,8,511,8,457,14,407,30,362,56,321,89,283,129,250,174,220,224,193,275,150,380,120,478,100,559,90,611"/>
<area shape="rect" href="struct_r_g_w_user_admin_op_state.html#a8a622d9c3ce9131d2df6c570699f3985" title=" " alt="" coords="210,544,375,587"/>
<area shape="poly" title=" " alt="" coords="133,608,198,589,200,594,134,613"/>
<area shape="rect" href="class_r_g_w_user.html#a986f339b0dcd99bc46671bf22e45c280" title=" " alt="" coords="229,611,356,637"/>
<area shape="poly" title=" " alt="" coords="162,621,214,621,214,627,162,627"/>
<area shape="rect" href="struct_r_g_w_user_admin_op_state.html#adb3ffe27c58be7ac798599612c009578" title=" " alt="" coords="210,661,375,704"/>
<area shape="poly" title=" " alt="" coords="134,635,200,654,198,659,133,640"/>
<area shape="rect" href="rgw__admin_8cc.html#a47785697389493a3eba737404eaab01b" title=" " alt="" coords="240,1540,345,1567"/>
<area shape="poly" title=" " alt="" coords="91,637,287,1524,282,1525,85,638"/>
<area shape="poly" title=" " alt="" coords="355,610,373,597,390,575,399,555,404,513,405,468,410,443,421,416,453,346,480,280,506,218,534,164,567,118,587,99,610,83,636,71,665,61,699,55,737,53,989,53,1089,59,1130,66,1167,77,1239,111,1325,164,1360,192,1392,223,1440,282,1435,285,1388,227,1357,196,1322,169,1236,116,1165,82,1128,71,1089,64,989,59,737,59,699,61,667,66,638,76,613,88,591,104,571,122,538,167,511,221,485,282,458,348,425,418,415,445,410,469,409,514,404,556,394,578,377,601,358,614"/>
<area shape="rect" href="class_r_g_w_user.html#a74cc91251ecef822573bc104a0e36a9d" title=" " alt="" coords="916,993,1060,1020"/>
<area shape="poly" title=" " alt="" coords="358,633,377,648,394,679,405,721,415,825,419,932,426,1014,437,1085,445,1153,449,1278,449,1393,451,1499,455,1549,464,1597,477,1645,496,1691,522,1736,556,1781,599,1826,652,1871,696,1898,718,1905,739,1907,760,1905,781,1899,824,1871,847,1846,868,1810,887,1766,904,1714,931,1595,952,1464,966,1332,975,1209,983,1035,989,1035,981,1209,971,1332,957,1465,936,1596,909,1716,892,1768,873,1812,851,1849,827,1875,783,1903,761,1910,739,1913,717,1910,694,1903,649,1876,595,1830,552,1785,518,1739,491,1693,472,1646,458,1599,450,1550,445,1499,443,1393,444,1278,439,1153,432,1086,420,1015,414,933,410,826,400,722,389,681,373,651,354,637"/>
<area shape="rect" href="rgw__bucket_8cc.html#a7388b7d86227213f6b7c5f3877447d35" title=" " alt="" coords="1410,591,1503,617"/>
<area shape="poly" title=" " alt="" coords="351,608,374,596,406,573,433,548,477,494,510,437,540,383,572,333,590,312,612,293,636,277,665,266,698,259,737,256,989,256,1029,259,1068,266,1106,279,1143,295,1212,336,1275,386,1330,439,1377,492,1440,576,1436,579,1373,496,1327,443,1272,390,1209,341,1141,300,1104,284,1067,272,1029,264,989,261,737,261,699,264,666,271,638,282,615,297,594,315,576,336,545,385,515,440,481,497,437,552,409,577,376,601,353,613"/>
<area shape="rect" href="class_r_g_w_user.html#abfb6753c443b54f734b611b35336b7bf" title=" " alt="" coords="423,976,602,1003"/>
<area shape="poly" title=" " alt="" coords="357,635,377,647,409,683,436,724,458,768,476,812,499,896,511,960,505,961,494,897,471,814,454,770,432,727,405,687,373,651,354,639"/>
<area shape="rect" href="structrgw__user.html#adbd66e1d8720fb60fb3db16c9dd571a5" title=" " alt="" coords="1171,892,1302,919"/>
<area shape="poly" title=" " alt="" coords="1014,990,1075,960,1149,928,1169,921,1170,926,1151,933,1077,965,1017,995"/>
<area shape="rect" href="struct_r_g_w_user_admin_op_state.html#a3c884710d84d21793a2d5a16b8aaa259" title=" " alt="" coords="1154,759,1319,801"/>
<area shape="poly" title=" " alt="" coords="995,992,1017,956,1052,908,1097,857,1148,811,1155,807,1158,811,1152,815,1100,860,1056,911,1022,959,999,994"/>
<area shape="rect" href="struct_r_g_w_user_admin_op_state.html#ada356b4f1522a668e8a2c2d23c4f37bf" title=" " alt="" coords="1154,1095,1319,1137"/>
<area shape="poly" title=" " alt="" coords="1018,1018,1151,1080,1165,1086,1163,1091,1149,1085,1016,1023"/>
<area shape="rect" href="class_r_g_w_user.html#a2114922a0a5e4dc3a73851ed20bdd2a5" title=" " alt="" coords="1376,1279,1537,1305"/>
<area shape="poly" title=" " alt="" coords="999,1019,1021,1055,1055,1103,1099,1154,1152,1198,1202,1226,1256,1248,1310,1264,1361,1276,1360,1281,1309,1269,1254,1253,1200,1231,1148,1202,1095,1158,1051,1106,1016,1058,994,1022"/>
<area shape="rect" href="rgw__user_8h.html#a959f1e764ec64cdd500066071747edbb" title=" " alt="" coords="1150,1044,1323,1071"/>
<area shape="poly" title=" " alt="" coords="1058,1018,1153,1038,1152,1043,1057,1023"/>
<area shape="poly" title=" " alt="" coords="1052,1018,1114,1026,1185,1025,1222,1021,1257,1012,1291,998,1322,979,1359,943,1389,899,1411,851,1428,801,1439,752,1447,706,1452,633,1458,633,1452,706,1445,753,1433,803,1416,853,1393,902,1363,946,1325,983,1293,1003,1259,1017,1223,1026,1186,1031,1114,1031,1051,1023"/>
<area shape="rect" href="struct_r_g_w_user_admin_op_state.html#a06096b704f1aceac3a9d7a65a80e6951" title=" " alt="" coords="1154,825,1319,868"/>
<area shape="poly" title=" " alt="" coords="1002,991,1063,938,1105,906,1149,878,1158,873,1160,877,1151,882,1108,910,1066,942,1005,995"/>
<area shape="rect" href="structrgw__user.html#af00f510d6a9ff0580d87ee46b274d96e" title=" " alt="" coords="1180,943,1294,969"/>
<area shape="poly" title=" " alt="" coords="1057,990,1163,968,1164,973,1058,995"/>
<area shape="poly" title=" " alt="" coords="512,975,521,851,543,655,561,552,584,458,613,382,630,354,649,333,676,315,711,302,753,291,800,283,909,275,1027,274,1146,278,1258,286,1420,302,1420,308,1257,291,1146,284,1027,279,909,280,801,289,754,296,712,307,678,320,652,337,634,357,617,385,589,460,566,553,548,655,526,851,517,976"/>
<area shape="poly" title=" " alt="" coords="515,975,528,930,553,869,571,837,593,807,619,779,649,758,691,744,746,741,809,747,876,759,944,776,1007,795,1062,815,1103,835,1118,846,1128,857,1137,867,1151,878,1163,883,1161,888,1149,882,1134,871,1124,860,1115,850,1101,840,1060,820,1005,800,942,781,875,764,808,752,746,747,692,749,652,762,622,784,597,810,576,840,558,872,533,932,520,976"/>
<area shape="poly" title=" " alt="" coords="511,975,515,904,521,853,532,797,549,738,573,681,606,628,649,583,666,575,692,568,769,557,869,551,981,548,1195,551,1324,559,1368,569,1408,582,1407,587,1366,574,1323,564,1195,556,981,554,869,556,770,563,693,573,668,580,652,587,610,631,578,683,554,740,537,798,526,854,520,905,517,975"/>
<area shape="poly" title=" " alt="" coords="516,975,531,935,558,882,597,828,621,804,649,786,695,768,735,766,776,773,826,785,879,799,922,814,991,849,1060,888,1151,928,1171,935,1169,940,1149,933,1057,892,989,854,920,819,877,804,825,791,775,779,735,771,697,773,652,790,624,808,601,831,562,884,536,937,521,977"/>
<area shape="rect" href="class_r_g_w_access_key_pool.html#aaf2c2052b7273c8ae055f55835440e20" title=" " alt="" coords="650,597,826,624"/>
<area shape="poly" title=" " alt="" coords="513,975,522,915,545,826,562,777,585,728,614,682,648,641,663,629,666,634,652,645,618,685,590,730,567,779,550,828,527,916,518,976"/>
<area shape="rect" href="struct_r_g_w_user_admin_op_state.html#a841ef5c149cd6c2c36d5498c58ce3a19" title=" " alt="" coords="1154,641,1319,684"/>
<area shape="poly" title=" " alt="" coords="514,975,528,928,553,861,571,826,593,791,618,759,649,731,706,696,768,670,834,652,901,642,966,637,1029,637,1139,644,1138,650,1029,642,967,642,901,647,835,658,770,675,708,701,652,735,622,762,597,794,575,828,558,863,533,929,520,976"/>
<area shape="rect" href="class_r_g_w_user.html#aa67a4bff54e4172e07d62a5a8c7f32fb" title=" " alt="" coords="1173,1161,1300,1188"/>
<area shape="poly" title=" " alt="" coords="516,1003,518,1166,523,1292,532,1432,548,1572,573,1701,589,1757,607,1805,628,1844,652,1871,678,1890,703,1904,728,1913,752,1916,777,1915,801,1910,848,1888,895,1852,939,1805,981,1748,1021,1684,1093,1545,1152,1406,1197,1286,1224,1202,1229,1204,1202,1287,1157,1408,1098,1548,1026,1687,986,1751,943,1808,898,1856,851,1893,803,1915,777,1921,752,1922,726,1918,701,1909,675,1895,649,1875,624,1847,602,1807,584,1758,568,1702,543,1573,527,1432,517,1293,513,1166,511,1003"/>
<area shape="rect" href="classrgw_1_1sal_1_1_store.html#aca84a6ff80011b26fcd2fa8526c1152e" title=" " alt="" coords="672,800,804,827"/>
<area shape="poly" title=" " alt="" coords="521,974,570,908,606,870,649,836,659,831,661,836,652,841,610,873,574,912,525,977"/>
<area shape="rect" href="structrgw__user.html#afd8a9e36c5a9f7773c13d903c3124e99" title=" " alt="" coords="679,851,797,877"/>
<area shape="poly" title=" " alt="" coords="528,973,579,931,613,908,649,887,664,881,666,885,652,892,616,912,582,935,531,977"/>
<area shape="rect" href="struct_r_g_w_user_admin_op_state.html#a8c07a5d3917fa22d4e7a883940437d46" title=" " alt="" coords="655,901,821,944"/>
<area shape="poly" title=" " alt="" coords="560,973,648,946,650,952,561,978"/>
<area shape="rect" href="classrgw_1_1sal_1_1_bucket_list.html#ac1b3beb1f790a932241e6cd0fa15f62f" title=" " alt="" coords="670,968,806,1011"/>
<area shape="poly" title=" " alt="" coords="603,987,654,987,654,992,603,992"/>
<area shape="rect" href="struct_r_g_w_user_admin_op_state.html#a92e8129f314b4a8737356053a887bf75" title=" " alt="" coords="655,1035,821,1077"/>
<area shape="poly" title=" " alt="" coords="561,1001,650,1027,648,1032,560,1006"/>
<area shape="rect" href="struct_r_g_w_user_admin_op_state.html#aecad87de39297cf3c9d709b50131832a" title=" " alt="" coords="655,1101,821,1144"/>
<area shape="poly" title=" " alt="" coords="532,1001,583,1042,652,1087,661,1092,659,1097,649,1092,580,1047,528,1005"/>
<area shape="rect" href="struct_r_g_w_user_admin_op_state.html#ac41e3186152b9e5f40e3947b0e1abf37" title=" " alt="" coords="655,1168,821,1211"/>
<area shape="poly" title=" " alt="" coords="524,1002,572,1073,609,1116,652,1154,657,1158,654,1162,649,1158,605,1120,568,1076,520,1004"/>
<area shape="rect" href="struct_r_g_w_user_admin_op_state.html#abb85a1d98e39ae21c5f57f47349b336b" title=" " alt="" coords="655,1235,821,1277"/>
<area shape="poly" title=" " alt="" coords="521,1002,536,1044,564,1103,602,1165,626,1195,652,1221,656,1224,653,1228,649,1225,622,1198,598,1169,559,1105,532,1046,516,1004"/>
<area shape="rect" href="classrgw_1_1sal_1_1_store.html#a583f96473bf50c30d8fcca23b63de948" title=" " alt="" coords="656,1301,820,1328"/>
<area shape="poly" title=" " alt="" coords="519,1003,530,1056,554,1133,571,1175,593,1216,620,1254,652,1287,657,1291,653,1295,649,1291,616,1257,589,1218,567,1177,549,1135,525,1057,514,1004"/>
<area shape="rect" href="classrgw_1_1sal_1_1_store.html#a1cc02ac7a84639e63581f895e1dd5e7f" title=" " alt="" coords="672,1352,804,1395"/>
<area shape="poly" title=" " alt="" coords="518,1003,527,1063,550,1152,567,1202,590,1251,618,1297,652,1338,661,1345,657,1349,648,1342,614,1300,585,1253,562,1204,545,1154,522,1064,513,1004"/>
<area shape="rect" href="struct_r_g_w_user_admin_op_state.html#a22f9bcef4417155e5f3c67ef7e3dc1b0" title=" " alt="" coords="655,1419,821,1461"/>
<area shape="poly" title=" " alt="" coords="517,1003,523,1073,542,1180,559,1239,583,1299,613,1355,652,1405,654,1407,650,1411,648,1408,609,1358,578,1301,554,1241,537,1181,518,1073,512,1003"/>
<area shape="rect" href="struct_r_g_w_user_admin_op_state.html#ab2b3952b05b8e9ac002b0120a1d82dc8" title=" " alt="" coords="655,1485,821,1528"/>
<area shape="poly" title=" " alt="" coords="516,1003,519,1082,524,1141,535,1207,552,1277,576,1346,609,1413,652,1472,654,1474,650,1477,648,1475,604,1415,571,1349,546,1278,530,1208,519,1141,514,1083,511,1003"/>
<area shape="rect" href="struct_r_g_w_user_admin_op_state.html#a910580c7bcaf06c7e14f9b2f7ddaf5ae" title=" " alt="" coords="655,1552,821,1595"/>
<area shape="poly" title=" " alt="" coords="518,1003,533,1107,561,1268,580,1352,602,1430,626,1495,652,1538,654,1540,650,1543,648,1542,621,1497,597,1432,575,1354,556,1269,528,1108,513,1003"/>
<area shape="rect" href="struct_r_g_w_user_admin_op_state.html#a84ec7e31b607b731d682fc14094fa6dc" title=" " alt="" coords="655,1619,821,1661"/>
<area shape="poly" title=" " alt="" coords="518,1003,531,1118,557,1299,576,1395,598,1483,624,1555,638,1584,652,1605,654,1607,650,1610,648,1608,633,1586,619,1558,593,1484,571,1396,552,1300,525,1119,513,1003"/>
<area shape="rect" href="struct_r_g_w_user_admin_op_state.html#a5d4bf36263966404502f10a419fa8cf7" title=" " alt="" coords="655,1685,821,1728"/>
<area shape="poly" title=" " alt="" coords="518,1003,529,1129,554,1330,572,1436,594,1535,621,1616,636,1648,652,1672,654,1673,650,1677,648,1675,632,1650,616,1618,589,1536,567,1437,548,1331,523,1129,512,1003"/>
<area shape="rect" href="struct_r_g_w_user_admin_op_state.html#a336341ea4b9e69a0c347fa43fb61be2e" title=" " alt="" coords="655,1752,821,1795"/>
<area shape="poly" title=" " alt="" coords="517,1003,527,1140,550,1361,568,1478,591,1587,619,1677,635,1712,652,1738,653,1739,649,1743,648,1742,630,1714,614,1679,586,1588,563,1479,545,1361,521,1140,512,1003"/>
<area shape="rect" href="struct_r_g_w_user_admin_op_state.html#a28f37050c4ff5ea7ce1233f4db086871" title=" " alt="" coords="655,1819,821,1861"/>
<area shape="poly" title=" " alt="" coords="517,1003,525,1150,546,1391,564,1520,587,1639,617,1738,634,1776,652,1805,653,1806,649,1810,648,1808,629,1778,612,1739,582,1640,559,1521,541,1392,520,1151,512,1003"/>
<area shape="rect" href="class_r_g_w_user.html#a7776a18daac664ad89c79259e5f9d079" title=" " alt="" coords="685,169,791,196"/>
<area shape="poly" title=" " alt="" coords="512,976,517,874,536,701,553,600,577,495,608,390,648,289,677,243,709,206,713,209,681,246,653,292,613,392,582,496,558,601,541,702,522,874,517,976"/>
<area shape="rect" href="classrgw_1_1sal_1_1_bucket_list.html#ab9a3eaa381063cecc5bb8ddd82ea1ad8" title=" " alt="" coords="670,347,806,389"/>
<area shape="poly" title=" " alt="" coords="513,975,526,865,554,692,573,602,595,518,620,448,634,421,648,400,656,392,659,396,652,403,638,423,625,450,600,519,578,603,559,693,532,866,518,976"/>
<area shape="rect" href="classrgw_1_1sal_1_1_store.html#ae5ce632392536181ecf0abd73cd922e0" title=" " alt="" coords="672,413,804,456"/>
<area shape="poly" title=" " alt="" coords="511,976,511,891,516,827,526,756,542,680,567,603,602,531,623,497,648,466,658,458,661,462,652,470,628,500,606,534,572,605,547,681,531,757,521,828,517,891,516,976"/>
<area shape="rect" href="struct_r_g_w_user_admin_op_state.html#a01d1476b6667d7da702e48bc63c28608" title=" " alt="" coords="655,480,821,523"/>
<area shape="poly" title=" " alt="" coords="512,975,517,901,536,786,553,722,577,657,608,595,648,540,659,530,662,534,652,543,613,598,582,659,558,724,541,788,522,902,517,976"/>
<area shape="poly" title=" " alt="" coords="770,594,1149,430,1420,320,1422,325,1151,434,772,599"/>
<area shape="poly" title=" " alt="" coords="790,594,873,579,1000,568,1098,567,1324,584,1395,592,1394,597,1323,589,1098,573,1000,574,874,584,791,599"/>
<area shape="rect" href="class_r_g_w_access_key_pool.html#a2a698a17d621dd018da2c63615e0ea6b" title=" " alt="" coords="883,699,1093,725"/>
<area shape="poly" title=" " alt="" coords="774,622,940,690,938,695,772,627"/>
<area shape="rect" href="class_r_g_w_access_key_pool.html#a04d4fdacdf5e29bb9824ed3d5a1879d8" title=" " alt="" coords="874,593,1102,620"/>
<area shape="poly" title=" " alt="" coords="826,607,858,606,858,611,826,612"/>
<area shape="poly" title=" " alt="" coords="1040,723,1142,751,1141,757,1039,728"/>
<area shape="poly" title=" " alt="" coords="1094,719,1147,720,1206,717,1265,708,1322,693,1353,680,1381,663,1428,626,1432,630,1384,667,1355,685,1324,699,1266,714,1206,722,1148,725,1094,724"/>
<area shape="poly" title=" " alt="" coords="1066,723,1104,742,1120,759,1129,777,1137,794,1152,811,1157,815,1154,819,1148,815,1132,797,1124,779,1116,762,1100,746,1064,728"/>
<area shape="poly" title=" " alt="" coords="1058,696,1138,679,1139,685,1059,701"/>
<area shape="poly" title=" " alt="" coords="1010,590,1421,328,1424,332,1012,595"/>
<area shape="poly" title=" " alt="" coords="1103,603,1395,602,1395,607,1103,609"/>
<area shape="poly" title=" " alt="" coords="1023,618,1067,645,1087,663,1104,685,1119,728,1125,785,1123,922,1122,991,1125,1056,1134,1110,1142,1131,1152,1148,1161,1156,1158,1160,1148,1151,1137,1133,1129,1111,1119,1056,1117,992,1118,922,1120,786,1114,729,1100,688,1084,667,1063,649,1020,623"/>
<area shape="poly" title=" " alt="" coords="1299,1164,1321,1148,1334,1127,1345,1101,1359,1036,1365,958,1366,874,1362,707,1363,635,1369,578,1385,509,1405,441,1442,336,1447,338,1410,443,1390,510,1374,579,1368,635,1368,707,1371,874,1370,958,1364,1036,1350,1102,1339,1129,1325,1151,1302,1168"/>
<area shape="poly" title=" " alt="" coords="1256,1186,1306,1224,1373,1264,1387,1271,1385,1275,1370,1269,1303,1229,1253,1190"/>
<area shape="poly" title=" " alt="" coords="1299,1162,1321,1148,1331,1125,1345,1075,1382,924,1447,632,1452,633,1387,925,1350,1076,1336,1127,1325,1151,1302,1167"/>
<area shape="rect" href="classrgw_1_1sal_1_1_user.html#a42feea796cc4910bfd37426b5a75fb9f" title=" " alt="" coords="1379,1161,1534,1188"/>
<area shape="poly" title=" " alt="" coords="1301,1172,1364,1172,1364,1177,1301,1177"/>
<area shape="rect" href="struct_r_g_w_user_admin_op_state.html#a4b11aa83556ce45de4e4608a158c1fcd" title=" " alt="" coords="1374,1212,1539,1255"/>
<area shape="poly" title=" " alt="" coords="1290,1186,1360,1205,1358,1210,1289,1191"/>
<area shape="rect" href="classrgw_1_1sal_1_1_user.html#a4754e4207c6e7bb946a0fe5c32435661" title=" " alt="" coords="1393,993,1520,1036"/>
<area shape="poly" title=" " alt="" coords="1299,1160,1322,1147,1333,1135,1339,1124,1345,1099,1351,1073,1358,1059,1369,1046,1378,1039,1382,1043,1373,1050,1363,1062,1356,1075,1350,1100,1344,1126,1337,1139,1325,1151,1302,1165"/>
<area shape="rect" href="class_r_g_w_user.html#a026c65ce5d4ddc34c23bafc8f889b7e5" title=" " alt="" coords="1372,1060,1541,1087"/>
<area shape="poly" title=" " alt="" coords="1298,1158,1322,1147,1336,1135,1345,1122,1354,1109,1370,1096,1380,1091,1383,1095,1373,1101,1358,1113,1350,1126,1340,1139,1325,1152,1301,1163"/>
<area shape="rect" href="classrgw_1_1sal_1_1_user.html#a0b63b38961866a64def2e06801df2f26" title=" " alt="" coords="1371,1111,1542,1137"/>
<area shape="poly" title=" " alt="" coords="1297,1158,1380,1139,1381,1144,1299,1163"/>
<area shape="poly" title=" " alt="" coords="766,166,815,146,873,129,937,118,988,114,1039,117,1103,129,1151,143,1199,160,1290,203,1368,247,1425,285,1422,289,1365,252,1287,208,1197,165,1149,148,1101,135,1038,122,988,119,938,124,874,135,817,151,768,171"/>
<area shape="poly" title=" " alt="" coords="700,170,693,161,698,151,713,145,738,143,765,145,779,152,777,157,763,150,738,148,714,150,701,155,698,160,704,167"/>
<area shape="rect" href="class_r_g_w_user.html#a7297ab4c7b6b1b9589772c010583c5cf" title=" " alt="" coords="913,144,1063,171"/>
<area shape="poly" title=" " alt="" coords="791,175,897,164,898,169,791,180"/>
<area shape="rect" href="class_r_g_w_user.html#a1fd6b8b86da3ebbde782289d98a6a43c" title=" " alt="" coords="910,195,1066,221"/>
<area shape="poly" title=" " alt="" coords="791,185,895,196,894,201,791,191"/>
<area shape="rect" href="rgw__common_8h.html#ac97df4d17de6c87b72aaa9aee01a503a" title=" " alt="" coords="455,1987,570,2013"/>
<area shape="poly" title=" " alt="" coords="296,1567,301,1637,318,1743,334,1803,357,1861,387,1917,425,1966,442,1979,439,1984,421,1970,382,1920,352,1864,329,1804,313,1745,296,1638,291,1567"/>
</map>
</div>
<div class="dynheader">
이 함수를 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="rgw__admin_8cc_aeb16ac40eaa88d8f9aaf0b2def2fe2fb_icgraph.png" border="0" usemap="#argw__admin_8cc_aeb16ac40eaa88d8f9aaf0b2def2fe2fb_icgraph" alt=""/></div>
<map name="argw__admin_8cc_aeb16ac40eaa88d8f9aaf0b2def2fe2fb_icgraph" id="argw__admin_8cc_aeb16ac40eaa88d8f9aaf0b2def2fe2fb_icgraph">
<area shape="rect" title=" " alt="" coords="103,5,259,32"/>
<area shape="rect" href="rgw__admin_8cc.html#a217dbf8b442f20279ea00b898af96f52" title=" " alt="" coords="5,5,55,32"/>
<area shape="poly" title=" " alt="" coords="87,21,55,21,55,16,87,16"/>
</map>
</div>

</div>
</div>
<a id="a45756af62516a89ecfa1951a630f7a73" name="a45756af62516a89ecfa1951a630f7a73"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a45756af62516a89ecfa1951a630f7a73">&#9670;&#160;</a></span>set_user_quota()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int set_user_quota </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="namespacergw__admin.html#a417a68fb93cf5a708aed0d343be0856f">OPT</a>&#160;</td>
          <td class="paramname"><em>opt_cmd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_r_g_w_user.html">RGWUser</a> &amp;&#160;</td>
          <td class="paramname"><em>user</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_r_g_w_user_admin_op_state.html">RGWUserAdminOpState</a> &amp;&#160;</td>
          <td class="paramname"><em>op_state</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int64_t&#160;</td>
          <td class="paramname"><em>max_size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int64_t&#160;</td>
          <td class="paramname"><em>max_objects</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>have_max_size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>have_max_objects</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition"><a class="el" href="rgw__admin_8cc_source.html">rgw_admin.cc</a> 파일의 <a class="el" href="rgw__admin_8cc_source.html#l01559">1559</a> 번째 라인에서 정의되었습니다.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1561</span>{</div>
<div class="line"><span class="lineno"> 1562</span>  <a class="code hl_struct" href="struct_r_g_w_user_info.html">RGWUserInfo</a>&amp; user_info = op_state.<a class="code hl_function" href="struct_r_g_w_user_admin_op_state.html#a8a622d9c3ce9131d2df6c570699f3985">get_user_info</a>();</div>
<div class="line"><span class="lineno"> 1563</span> </div>
<div class="line"><span class="lineno"> 1564</span>  <a class="code hl_function" href="rgw__admin_8cc.html#a47785697389493a3eba737404eaab01b">set_quota_info</a>(user_info.<a class="code hl_variable" href="struct_r_g_w_user_info.html#ab72853686fecc81575a2920b495bdf27">user_quota</a>, opt_cmd, max_size, max_objects, have_max_size, have_max_objects);</div>
<div class="line"><span class="lineno"> 1565</span> </div>
<div class="line"><span class="lineno"> 1566</span>  op_state.<a class="code hl_function" href="struct_r_g_w_user_admin_op_state.html#aef08bf564aa24e993b8ee554fcf5bd48">set_user_quota</a>(user_info.<a class="code hl_variable" href="struct_r_g_w_user_info.html#ab72853686fecc81575a2920b495bdf27">user_quota</a>);</div>
<div class="line"><span class="lineno"> 1567</span> </div>
<div class="line"><span class="lineno"> 1568</span>  <span class="keywordtype">string</span> err;</div>
<div class="line"><span class="lineno"> 1569</span>  <span class="keywordtype">int</span> <a class="code hl_variable" href="rgw__aio_8cc.html#ae38055824c6eac64615832ad9d888539">r</a> = user.<a class="code hl_function" href="class_r_g_w_user.html#a986f339b0dcd99bc46671bf22e45c280">modify</a>(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>(), op_state, null_yield, &amp;err);</div>
<div class="line"><span class="lineno"> 1570</span>  <span class="keywordflow">if</span> (<a class="code hl_variable" href="rgw__aio_8cc.html#ae38055824c6eac64615832ad9d888539">r</a> &lt; 0) {</div>
<div class="line"><span class="lineno"> 1571</span>    cerr &lt;&lt; <span class="stringliteral">&quot;ERROR: failed updating user info: &quot;</span> &lt;&lt; cpp_strerror(-<a class="code hl_variable" href="rgw__aio_8cc.html#ae38055824c6eac64615832ad9d888539">r</a>) &lt;&lt; <span class="stringliteral">&quot;: &quot;</span> &lt;&lt; err &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 1572</span>    <span class="keywordflow">return</span> -<a class="code hl_variable" href="rgw__aio_8cc.html#ae38055824c6eac64615832ad9d888539">r</a>;</div>
<div class="line"><span class="lineno"> 1573</span>  }</div>
<div class="line"><span class="lineno"> 1574</span>  <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno"> 1575</span>}</div>
<div class="ttc" id="astruct_r_g_w_user_admin_op_state_html_aef08bf564aa24e993b8ee554fcf5bd48"><div class="ttname"><a href="struct_r_g_w_user_admin_op_state.html#aef08bf564aa24e993b8ee554fcf5bd48">RGWUserAdminOpState::set_user_quota</a></div><div class="ttdeci">void set_user_quota(RGWQuotaInfo &amp;quota)</div><div class="ttdef"><b>Definition</b> <a href="rgw__user_8h_source.html#l00341">rgw_user.h:341</a></div></div>
<div class="ttc" id="astruct_r_g_w_user_info_html_ab72853686fecc81575a2920b495bdf27"><div class="ttname"><a href="struct_r_g_w_user_info.html#ab72853686fecc81575a2920b495bdf27">RGWUserInfo::user_quota</a></div><div class="ttdeci">RGWQuotaInfo user_quota</div><div class="ttdef"><b>Definition</b> <a href="rgw__common_8h_source.html#l00754">rgw_common.h:754</a></div></div>
</div><!-- fragment --><div class="dynheader">
이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="rgw__admin_8cc_a45756af62516a89ecfa1951a630f7a73_cgraph.png" border="0" usemap="#argw__admin_8cc_a45756af62516a89ecfa1951a630f7a73_cgraph" alt=""/></div>
<map name="argw__admin_8cc_a45756af62516a89ecfa1951a630f7a73_cgraph" id="argw__admin_8cc_a45756af62516a89ecfa1951a630f7a73_cgraph">
<area shape="rect" title=" " alt="" coords="5,611,116,637"/>
<area shape="rect" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5" title=" " alt="" coords="1389,296,1432,323"/>
<area shape="poly" title=" " alt="" coords="61,610,70,558,87,477,115,378,155,273,180,221,208,172,240,126,276,85,317,51,362,25,411,9,465,3,943,3,1009,13,1111,38,1212,69,1252,85,1279,101,1322,143,1357,192,1384,240,1401,280,1396,283,1379,243,1353,195,1318,146,1276,105,1250,90,1210,74,1109,43,1008,18,943,8,465,8,412,14,364,30,320,56,280,89,244,129,212,174,184,223,160,275,120,380,93,478,75,559,66,611"/>
<area shape="rect" href="struct_r_g_w_user_admin_op_state.html#a8a622d9c3ce9131d2df6c570699f3985" title=" " alt="" coords="164,544,329,587"/>
<area shape="poly" title=" " alt="" coords="104,608,161,589,163,594,106,613"/>
<area shape="rect" href="class_r_g_w_user.html#a986f339b0dcd99bc46671bf22e45c280" title=" " alt="" coords="183,611,310,637"/>
<area shape="poly" title=" " alt="" coords="116,621,168,621,168,627,116,627"/>
<area shape="rect" href="rgw__admin_8cc.html#a47785697389493a3eba737404eaab01b" title=" " alt="" coords="194,661,299,688"/>
<area shape="poly" title=" " alt="" coords="113,635,181,654,180,659,112,641"/>
<area shape="rect" href="struct_r_g_w_user_admin_op_state.html#aef08bf564aa24e993b8ee554fcf5bd48" title=" " alt="" coords="164,712,329,755"/>
<area shape="poly" title=" " alt="" coords="79,636,117,666,165,698,174,702,171,707,162,702,114,670,76,640"/>
<area shape="poly" title=" " alt="" coords="309,610,327,597,344,575,353,555,358,513,359,468,364,443,375,416,407,346,434,280,460,218,488,164,521,118,541,99,564,83,590,71,619,61,653,55,691,53,943,53,1043,59,1084,66,1121,77,1193,111,1279,164,1314,192,1346,223,1394,282,1389,285,1342,227,1311,196,1276,169,1190,116,1119,82,1082,71,1043,64,943,59,691,59,653,61,621,66,592,76,567,88,545,104,525,122,492,167,465,221,439,282,412,348,379,418,369,445,364,469,363,514,358,556,348,578,331,601,312,614"/>
<area shape="rect" href="class_r_g_w_user.html#a74cc91251ecef822573bc104a0e36a9d" title=" " alt="" coords="870,988,1014,1015"/>
<area shape="poly" title=" " alt="" coords="312,633,331,648,348,679,359,721,369,825,373,932,380,1014,391,1085,399,1153,403,1278,403,1393,405,1499,409,1549,418,1597,431,1645,450,1691,476,1736,510,1781,553,1826,606,1871,650,1898,672,1905,693,1907,714,1905,735,1899,778,1871,801,1845,822,1810,841,1765,858,1713,886,1594,906,1462,920,1328,929,1204,937,1030,943,1030,935,1205,926,1329,911,1462,891,1595,863,1715,846,1767,827,1812,806,1849,781,1875,737,1903,715,1910,693,1913,671,1910,648,1903,603,1876,549,1830,506,1785,472,1739,445,1693,426,1646,412,1599,404,1550,399,1499,397,1393,398,1278,393,1153,386,1086,374,1015,368,933,364,826,354,722,343,681,327,651,308,637"/>
<area shape="rect" href="rgw__bucket_8cc.html#a7388b7d86227213f6b7c5f3877447d35" title=" " alt="" coords="1364,585,1457,612"/>
<area shape="poly" title=" " alt="" coords="305,608,328,596,360,573,387,548,431,494,464,437,494,383,526,333,544,312,566,293,590,277,619,266,652,259,691,256,943,256,983,259,1022,266,1060,278,1096,294,1165,335,1228,383,1283,436,1330,488,1394,571,1390,574,1326,491,1279,440,1225,388,1162,339,1094,299,1058,283,1021,271,982,264,943,261,691,261,653,264,620,271,592,282,569,297,548,315,530,336,499,385,469,440,435,497,391,552,363,577,330,601,307,613"/>
<area shape="rect" href="class_r_g_w_user.html#abfb6753c443b54f734b611b35336b7bf" title=" " alt="" coords="377,976,556,1003"/>
<area shape="poly" title=" " alt="" coords="311,635,331,647,363,683,390,724,412,768,430,812,453,896,465,960,459,961,448,897,425,814,408,770,386,727,359,687,327,651,308,639"/>
<area shape="rect" href="structrgw__user.html#adbd66e1d8720fb60fb3db16c9dd571a5" title=" " alt="" coords="1125,887,1256,913"/>
<area shape="poly" title=" " alt="" coords="968,985,1029,955,1103,923,1123,916,1124,921,1105,928,1031,960,971,990"/>
<area shape="rect" href="struct_r_g_w_user_admin_op_state.html#a3c884710d84d21793a2d5a16b8aaa259" title=" " alt="" coords="1108,753,1273,796"/>
<area shape="poly" title=" " alt="" coords="949,986,971,951,1006,903,1051,851,1102,806,1109,802,1112,806,1106,810,1054,855,1010,906,976,954,953,989"/>
<area shape="rect" href="struct_r_g_w_user_admin_op_state.html#ada356b4f1522a668e8a2c2d23c4f37bf" title=" " alt="" coords="1108,1089,1273,1132"/>
<area shape="poly" title=" " alt="" coords="972,1013,1105,1075,1119,1081,1117,1086,1103,1080,970,1018"/>
<area shape="rect" href="class_r_g_w_user.html#a2114922a0a5e4dc3a73851ed20bdd2a5" title=" " alt="" coords="1330,1273,1491,1300"/>
<area shape="poly" title=" " alt="" coords="953,1014,975,1049,1009,1098,1053,1149,1106,1192,1156,1220,1210,1242,1264,1259,1315,1270,1314,1275,1263,1264,1208,1247,1154,1225,1102,1197,1049,1152,1005,1101,970,1052,948,1016"/>
<area shape="rect" href="rgw__user_8h.html#a959f1e764ec64cdd500066071747edbb" title=" " alt="" coords="1104,1039,1277,1065"/>
<area shape="poly" title=" " alt="" coords="1012,1013,1107,1032,1106,1038,1011,1018"/>
<area shape="poly" title=" " alt="" coords="1006,1013,1068,1020,1139,1020,1176,1015,1211,1007,1245,993,1276,974,1313,937,1343,894,1365,846,1382,796,1393,746,1401,700,1406,628,1412,628,1406,701,1399,747,1387,797,1370,848,1347,897,1317,941,1279,978,1247,998,1213,1012,1177,1021,1140,1025,1068,1026,1005,1018"/>
<area shape="rect" href="struct_r_g_w_user_admin_op_state.html#a06096b704f1aceac3a9d7a65a80e6951" title=" " alt="" coords="1108,820,1273,863"/>
<area shape="poly" title=" " alt="" coords="956,985,1017,932,1059,901,1103,872,1112,867,1114,872,1105,877,1062,905,1020,936,959,990"/>
<area shape="rect" href="structrgw__user.html#af00f510d6a9ff0580d87ee46b274d96e" title=" " alt="" coords="1134,937,1248,964"/>
<area shape="poly" title=" " alt="" coords="1011,985,1117,963,1118,968,1012,990"/>
<area shape="poly" title=" " alt="" coords="466,975,475,851,497,655,515,552,538,458,567,382,584,354,603,333,630,315,665,302,707,291,754,283,863,275,981,274,1100,278,1212,286,1374,302,1374,308,1211,291,1100,284,981,279,863,280,755,289,708,296,666,307,632,320,606,337,588,357,571,385,543,460,520,553,502,655,480,851,471,976"/>
<area shape="poly" title=" " alt="" coords="468,975,481,929,506,866,524,833,546,801,572,772,603,750,645,736,700,732,763,736,831,746,899,761,962,780,1016,800,1057,820,1073,833,1082,847,1091,860,1106,872,1115,878,1113,883,1102,877,1087,864,1078,850,1069,837,1055,825,1014,805,960,785,897,767,830,751,763,741,700,737,646,741,606,754,576,776,550,804,528,835,511,868,486,931,473,976"/>
<area shape="poly" title=" " alt="" coords="465,975,469,904,475,853,486,797,503,738,527,681,560,628,603,583,620,575,646,567,723,557,823,550,935,546,1149,547,1278,555,1321,564,1361,577,1359,582,1319,569,1277,560,1149,553,935,552,823,555,724,562,647,573,622,580,606,587,564,631,532,683,508,740,491,798,480,854,474,905,471,976"/>
<area shape="poly" title=" " alt="" coords="470,975,485,935,512,882,551,828,575,804,603,786,640,768,675,757,707,751,738,750,767,754,796,761,850,785,964,854,1030,890,1105,923,1126,930,1124,935,1103,928,1027,895,962,858,848,789,794,766,766,759,738,756,708,757,676,762,642,773,606,790,578,808,555,831,516,884,490,937,475,977"/>
<area shape="rect" href="class_r_g_w_access_key_pool.html#aaf2c2052b7273c8ae055f55835440e20" title=" " alt="" coords="604,597,780,624"/>
<area shape="poly" title=" " alt="" coords="467,975,476,915,499,826,516,777,539,728,568,682,602,641,617,629,620,634,606,645,572,685,544,730,521,779,504,828,481,916,472,976"/>
<area shape="rect" href="struct_r_g_w_user_admin_op_state.html#a841ef5c149cd6c2c36d5498c58ce3a19" title=" " alt="" coords="1108,636,1273,679"/>
<area shape="poly" title=" " alt="" coords="468,975,481,927,505,858,523,821,545,785,572,751,603,723,660,688,722,662,788,645,855,635,920,630,983,630,1093,638,1092,644,983,635,921,635,855,640,789,650,724,667,662,693,606,727,576,755,550,788,528,823,510,860,486,928,473,976"/>
<area shape="rect" href="class_r_g_w_user.html#aa67a4bff54e4172e07d62a5a8c7f32fb" title=" " alt="" coords="1127,1156,1254,1183"/>
<area shape="poly" title=" " alt="" coords="470,1003,472,1166,477,1292,486,1432,502,1572,527,1701,543,1757,561,1805,582,1844,606,1871,632,1890,657,1904,682,1913,707,1916,731,1915,755,1910,803,1888,849,1852,894,1804,936,1747,976,1683,1048,1543,1107,1402,1151,1281,1178,1197,1183,1199,1156,1283,1112,1404,1052,1545,980,1685,940,1750,898,1807,853,1856,806,1892,757,1915,732,1921,706,1922,681,1918,655,1909,629,1895,603,1875,578,1847,556,1807,538,1758,522,1702,497,1573,481,1432,471,1293,467,1166,465,1003"/>
<area shape="rect" href="classrgw_1_1sal_1_1_store.html#aca84a6ff80011b26fcd2fa8526c1152e" title=" " alt="" coords="626,800,758,827"/>
<area shape="poly" title=" " alt="" coords="475,974,524,908,560,870,603,836,613,831,615,836,606,841,564,873,528,912,479,977"/>
<area shape="rect" href="structrgw__user.html#afd8a9e36c5a9f7773c13d903c3124e99" title=" " alt="" coords="633,851,751,877"/>
<area shape="poly" title=" " alt="" coords="482,973,533,931,567,908,603,887,618,881,620,885,606,892,570,912,536,935,485,977"/>
<area shape="rect" href="struct_r_g_w_user_admin_op_state.html#a8c07a5d3917fa22d4e7a883940437d46" title=" " alt="" coords="609,901,775,944"/>
<area shape="poly" title=" " alt="" coords="514,973,602,946,604,952,515,978"/>
<area shape="rect" href="classrgw_1_1sal_1_1_bucket_list.html#ac1b3beb1f790a932241e6cd0fa15f62f" title=" " alt="" coords="624,968,760,1011"/>
<area shape="poly" title=" " alt="" coords="557,987,608,987,608,992,557,992"/>
<area shape="rect" href="struct_r_g_w_user_admin_op_state.html#a92e8129f314b4a8737356053a887bf75" title=" " alt="" coords="609,1035,775,1077"/>
<area shape="poly" title=" " alt="" coords="515,1001,604,1027,602,1032,514,1006"/>
<area shape="rect" href="struct_r_g_w_user_admin_op_state.html#aecad87de39297cf3c9d709b50131832a" title=" " alt="" coords="609,1101,775,1144"/>
<area shape="poly" title=" " alt="" coords="486,1001,537,1042,606,1087,615,1092,613,1097,603,1092,534,1047,482,1005"/>
<area shape="rect" href="struct_r_g_w_user_admin_op_state.html#ac41e3186152b9e5f40e3947b0e1abf37" title=" " alt="" coords="609,1168,775,1211"/>
<area shape="poly" title=" " alt="" coords="478,1002,526,1073,563,1116,606,1154,611,1158,608,1162,603,1158,559,1120,522,1076,474,1004"/>
<area shape="rect" href="struct_r_g_w_user_admin_op_state.html#abb85a1d98e39ae21c5f57f47349b336b" title=" " alt="" coords="609,1235,775,1277"/>
<area shape="poly" title=" " alt="" coords="475,1002,490,1044,518,1103,556,1165,580,1195,606,1221,610,1224,607,1228,603,1225,576,1198,552,1169,513,1105,486,1046,470,1004"/>
<area shape="rect" href="classrgw_1_1sal_1_1_store.html#a583f96473bf50c30d8fcca23b63de948" title=" " alt="" coords="610,1301,774,1328"/>
<area shape="poly" title=" " alt="" coords="473,1003,484,1056,508,1133,525,1175,547,1216,574,1254,606,1287,611,1291,607,1295,603,1291,570,1257,543,1218,521,1177,503,1135,479,1057,468,1004"/>
<area shape="rect" href="classrgw_1_1sal_1_1_store.html#a1cc02ac7a84639e63581f895e1dd5e7f" title=" " alt="" coords="626,1352,758,1395"/>
<area shape="poly" title=" " alt="" coords="472,1003,481,1063,504,1152,521,1202,544,1251,572,1297,606,1338,615,1345,611,1349,602,1342,568,1300,539,1253,516,1204,499,1154,476,1064,467,1004"/>
<area shape="rect" href="struct_r_g_w_user_admin_op_state.html#a22f9bcef4417155e5f3c67ef7e3dc1b0" title=" " alt="" coords="609,1419,775,1461"/>
<area shape="poly" title=" " alt="" coords="471,1003,477,1073,496,1180,513,1239,537,1299,567,1355,606,1405,608,1407,604,1411,602,1408,563,1358,532,1301,508,1241,491,1181,472,1073,466,1003"/>
<area shape="rect" href="struct_r_g_w_user_admin_op_state.html#ab2b3952b05b8e9ac002b0120a1d82dc8" title=" " alt="" coords="609,1485,775,1528"/>
<area shape="poly" title=" " alt="" coords="470,1003,473,1082,478,1141,489,1207,506,1277,530,1346,563,1413,606,1472,608,1474,604,1477,602,1475,558,1415,525,1349,500,1278,484,1208,473,1141,468,1083,465,1003"/>
<area shape="rect" href="struct_r_g_w_user_admin_op_state.html#a910580c7bcaf06c7e14f9b2f7ddaf5ae" title=" " alt="" coords="609,1552,775,1595"/>
<area shape="poly" title=" " alt="" coords="472,1003,487,1107,515,1268,534,1352,556,1430,580,1495,606,1538,608,1540,604,1543,602,1542,575,1497,551,1432,529,1354,510,1269,482,1108,467,1003"/>
<area shape="rect" href="struct_r_g_w_user_admin_op_state.html#a84ec7e31b607b731d682fc14094fa6dc" title=" " alt="" coords="609,1619,775,1661"/>
<area shape="poly" title=" " alt="" coords="472,1003,485,1118,511,1299,530,1395,552,1483,578,1555,592,1584,606,1605,608,1607,604,1610,602,1608,587,1586,573,1558,547,1484,525,1396,506,1300,479,1119,467,1003"/>
<area shape="rect" href="struct_r_g_w_user_admin_op_state.html#a5d4bf36263966404502f10a419fa8cf7" title=" " alt="" coords="609,1685,775,1728"/>
<area shape="poly" title=" " alt="" coords="472,1003,483,1129,508,1330,526,1436,548,1535,575,1616,590,1648,606,1672,608,1673,604,1677,602,1675,586,1650,570,1618,543,1536,521,1437,502,1331,477,1129,466,1003"/>
<area shape="rect" href="struct_r_g_w_user_admin_op_state.html#a336341ea4b9e69a0c347fa43fb61be2e" title=" " alt="" coords="609,1752,775,1795"/>
<area shape="poly" title=" " alt="" coords="471,1003,481,1140,504,1361,522,1478,545,1587,573,1677,589,1712,606,1738,607,1739,603,1743,602,1742,584,1714,568,1679,540,1588,517,1479,499,1361,475,1140,466,1003"/>
<area shape="rect" href="struct_r_g_w_user_admin_op_state.html#a28f37050c4ff5ea7ce1233f4db086871" title=" " alt="" coords="609,1819,775,1861"/>
<area shape="poly" title=" " alt="" coords="471,1003,479,1150,500,1391,518,1520,541,1639,571,1738,588,1776,606,1805,607,1806,603,1810,602,1808,583,1778,566,1739,536,1640,513,1521,495,1392,474,1151,466,1003"/>
<area shape="rect" href="class_r_g_w_user.html#a7776a18daac664ad89c79259e5f9d079" title=" " alt="" coords="639,169,745,196"/>
<area shape="poly" title=" " alt="" coords="466,976,471,874,490,701,507,600,531,495,562,390,602,289,631,243,663,206,667,209,635,246,607,292,567,392,536,496,512,601,495,702,476,874,471,976"/>
<area shape="rect" href="classrgw_1_1sal_1_1_bucket_list.html#ab9a3eaa381063cecc5bb8ddd82ea1ad8" title=" " alt="" coords="624,347,760,389"/>
<area shape="poly" title=" " alt="" coords="467,975,480,865,508,692,527,602,549,518,574,448,588,421,602,400,610,392,613,396,606,403,592,423,579,450,554,519,532,603,513,693,486,866,472,976"/>
<area shape="rect" href="classrgw_1_1sal_1_1_store.html#ae5ce632392536181ecf0abd73cd922e0" title=" " alt="" coords="626,413,758,456"/>
<area shape="poly" title=" " alt="" coords="465,976,465,891,470,827,480,756,496,680,521,603,556,531,577,497,602,466,612,458,615,462,606,470,582,500,560,534,526,605,501,681,485,757,475,828,471,891,470,976"/>
<area shape="rect" href="struct_r_g_w_user_admin_op_state.html#a01d1476b6667d7da702e48bc63c28608" title=" " alt="" coords="609,480,775,523"/>
<area shape="poly" title=" " alt="" coords="466,975,471,901,490,786,507,722,531,657,562,595,602,540,613,530,616,534,606,543,567,598,536,659,512,724,495,788,476,902,471,976"/>
<area shape="poly" title=" " alt="" coords="722,594,884,521,1103,427,1374,320,1376,325,1105,432,886,526,725,599"/>
<area shape="poly" title=" " alt="" coords="737,594,780,583,827,575,974,565,1119,567,1249,577,1349,588,1348,593,1249,582,1119,573,974,570,828,580,781,588,738,599"/>
<area shape="rect" href="class_r_g_w_access_key_pool.html#a2a698a17d621dd018da2c63615e0ea6b" title=" " alt="" coords="837,693,1047,720"/>
<area shape="poly" title=" " alt="" coords="730,622,891,685,890,690,728,627"/>
<area shape="rect" href="class_r_g_w_access_key_pool.html#a04d4fdacdf5e29bb9824ed3d5a1879d8" title=" " alt="" coords="828,589,1056,616"/>
<area shape="poly" title=" " alt="" coords="780,605,812,604,812,609,780,611"/>
<area shape="poly" title=" " alt="" coords="994,718,1096,746,1095,751,993,723"/>
<area shape="poly" title=" " alt="" coords="1048,714,1101,714,1160,711,1219,703,1276,688,1307,675,1335,658,1382,621,1386,625,1338,662,1309,680,1278,693,1220,708,1160,717,1102,720,1048,719"/>
<area shape="poly" title=" " alt="" coords="1020,718,1058,737,1074,754,1083,772,1091,789,1106,806,1111,810,1108,814,1102,810,1086,792,1078,774,1070,757,1054,741,1018,723"/>
<area shape="poly" title=" " alt="" coords="1012,690,1092,674,1093,679,1013,695"/>
<area shape="poly" title=" " alt="" coords="964,587,1375,328,1378,332,966,591"/>
<area shape="poly" title=" " alt="" coords="1057,599,1349,597,1349,602,1057,604"/>
<area shape="poly" title=" " alt="" coords="978,614,1021,640,1042,658,1058,680,1073,723,1079,780,1078,916,1076,986,1079,1050,1088,1104,1096,1125,1106,1142,1115,1151,1112,1155,1102,1146,1091,1128,1083,1106,1073,1051,1071,986,1072,916,1074,780,1068,724,1054,683,1038,662,1018,644,976,619"/>
<area shape="poly" title=" " alt="" coords="1253,1158,1275,1142,1288,1121,1299,1095,1313,1030,1319,953,1320,868,1316,701,1317,629,1323,573,1339,505,1359,439,1396,336,1401,338,1364,440,1344,506,1328,574,1322,630,1321,701,1325,868,1324,953,1318,1031,1304,1097,1293,1124,1279,1146,1256,1163"/>
<area shape="poly" title=" " alt="" coords="1210,1181,1260,1219,1327,1259,1341,1265,1339,1270,1324,1264,1257,1224,1207,1185"/>
<area shape="poly" title=" " alt="" coords="1253,1157,1275,1142,1285,1120,1299,1070,1336,918,1401,626,1406,627,1341,920,1304,1071,1290,1122,1279,1146,1256,1161"/>
<area shape="rect" href="classrgw_1_1sal_1_1_user.html#a42feea796cc4910bfd37426b5a75fb9f" title=" " alt="" coords="1333,1156,1488,1183"/>
<area shape="poly" title=" " alt="" coords="1255,1167,1318,1167,1318,1172,1255,1172"/>
<area shape="rect" href="struct_r_g_w_user_admin_op_state.html#a4b11aa83556ce45de4e4608a158c1fcd" title=" " alt="" coords="1328,1207,1493,1249"/>
<area shape="poly" title=" " alt="" coords="1244,1181,1314,1199,1312,1205,1243,1186"/>
<area shape="rect" href="classrgw_1_1sal_1_1_user.html#a4754e4207c6e7bb946a0fe5c32435661" title=" " alt="" coords="1347,988,1474,1031"/>
<area shape="poly" title=" " alt="" coords="1253,1155,1276,1142,1287,1130,1293,1118,1299,1093,1305,1067,1312,1054,1323,1041,1332,1034,1336,1038,1327,1045,1317,1057,1310,1069,1304,1095,1298,1120,1291,1133,1279,1146,1256,1160"/>
<area shape="rect" href="class_r_g_w_user.html#a026c65ce5d4ddc34c23bafc8f889b7e5" title=" " alt="" coords="1326,1055,1495,1081"/>
<area shape="poly" title=" " alt="" coords="1252,1153,1276,1142,1290,1130,1299,1117,1308,1104,1324,1091,1334,1085,1337,1090,1327,1096,1312,1108,1304,1120,1294,1133,1279,1146,1255,1158"/>
<area shape="rect" href="classrgw_1_1sal_1_1_user.html#a0b63b38961866a64def2e06801df2f26" title=" " alt="" coords="1325,1105,1496,1132"/>
<area shape="poly" title=" " alt="" coords="1251,1153,1334,1133,1335,1139,1253,1158"/>
<area shape="poly" title=" " alt="" coords="720,166,769,146,827,129,891,118,942,114,993,117,1057,129,1105,143,1153,160,1244,203,1322,247,1379,285,1376,289,1319,252,1241,208,1151,165,1103,148,1055,135,992,122,942,119,892,124,828,135,771,151,722,171"/>
<area shape="poly" title=" " alt="" coords="654,170,647,161,652,151,667,145,692,143,719,145,733,152,731,157,717,150,692,148,668,150,655,155,652,160,658,167"/>
<area shape="rect" href="class_r_g_w_user.html#a7297ab4c7b6b1b9589772c010583c5cf" title=" " alt="" coords="867,144,1017,171"/>
<area shape="poly" title=" " alt="" coords="745,175,851,164,852,169,745,180"/>
<area shape="rect" href="class_r_g_w_user.html#a1fd6b8b86da3ebbde782289d98a6a43c" title=" " alt="" coords="864,195,1020,221"/>
<area shape="poly" title=" " alt="" coords="745,185,849,196,848,201,745,191"/>
<area shape="rect" href="rgw__common_8h.html#ac97df4d17de6c87b72aaa9aee01a503a" title=" " alt="" coords="409,1987,524,2013"/>
<area shape="poly" title=" " alt="" coords="301,678,317,686,331,698,345,731,355,782,361,849,364,929,363,1120,357,1333,351,1546,349,1738,357,1885,366,1935,379,1966,396,1982,393,1986,375,1970,361,1937,352,1886,344,1738,345,1546,351,1333,357,1120,358,929,355,849,350,782,340,732,327,702,314,690,298,683"/>
</map>
</div>
<div class="dynheader">
이 함수를 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="rgw__admin_8cc_a45756af62516a89ecfa1951a630f7a73_icgraph.png" border="0" usemap="#argw__admin_8cc_a45756af62516a89ecfa1951a630f7a73_icgraph" alt=""/></div>
<map name="argw__admin_8cc_a45756af62516a89ecfa1951a630f7a73_icgraph" id="argw__admin_8cc_a45756af62516a89ecfa1951a630f7a73_icgraph">
<area shape="rect" title=" " alt="" coords="103,5,213,32"/>
<area shape="rect" href="rgw__admin_8cc.html#a217dbf8b442f20279ea00b898af96f52" title=" " alt="" coords="5,5,55,32"/>
<area shape="poly" title=" " alt="" coords="87,21,55,21,55,16,87,16"/>
</map>
</div>

</div>
</div>
<a id="acdcb0d724bb4768b0809eb0f78cd4ab4" name="acdcb0d724bb4768b0809eb0f78cd4ab4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acdcb0d724bb4768b0809eb0f78cd4ab4">&#9670;&#160;</a></span>set_user_ratelimit()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int set_user_ratelimit </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="namespacergw__admin.html#a417a68fb93cf5a708aed0d343be0856f">OPT</a>&#160;</td>
          <td class="paramname"><em>opt_cmd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::unique_ptr&lt; <a class="el" href="classrgw_1_1sal_1_1_user.html">rgw::sal::User</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>user</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int64_t&#160;</td>
          <td class="paramname"><em>max_read_ops</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int64_t&#160;</td>
          <td class="paramname"><em>max_write_ops</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int64_t&#160;</td>
          <td class="paramname"><em>max_read_bytes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int64_t&#160;</td>
          <td class="paramname"><em>max_write_bytes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>have_max_read_ops</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>have_max_write_ops</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>have_max_read_bytes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>have_max_write_bytes</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition"><a class="el" href="rgw__admin_8cc_source.html">rgw_admin.cc</a> 파일의 <a class="el" href="rgw__admin_8cc_source.html#l01451">1451</a> 번째 라인에서 정의되었습니다.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1456</span>{</div>
<div class="line"><span class="lineno"> 1457</span>  <a class="code hl_struct" href="struct_r_g_w_rate_limit_info.html">RGWRateLimitInfo</a> ratelimit_info;</div>
<div class="line"><span class="lineno"> 1458</span>  user-&gt;load_user(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>(), null_yield);</div>
<div class="line"><span class="lineno"> 1459</span>  <span class="keyword">auto</span> iter = user-&gt;get_attrs().find(<a class="code hl_define" href="rgw__common_8h.html#a8f47ad6e030c1b57f1c83082bcd786ff">RGW_ATTR_RATELIMIT</a>);</div>
<div class="line"><span class="lineno"> 1460</span>  <span class="keywordflow">if</span>(iter != user-&gt;get_attrs().end()) {</div>
<div class="line"><span class="lineno"> 1461</span>    <span class="keywordflow">try</span> {</div>
<div class="line"><span class="lineno"> 1462</span>      bufferlist&amp; bl = iter-&gt;second;</div>
<div class="line"><span class="lineno"> 1463</span>      <span class="keyword">auto</span> biter = bl.cbegin();</div>
<div class="line"><span class="lineno"> 1464</span>      <a class="code hl_function" href="rgw__log__backing_8h.html#adc46efdde31cf790f3b383cb9e6f198e">decode</a>(ratelimit_info, biter);</div>
<div class="line"><span class="lineno"> 1465</span>    } <span class="keywordflow">catch</span> (buffer::error&amp; err) {</div>
<div class="line"><span class="lineno"> 1466</span>      ldpp_dout(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>(), 0) &lt;&lt; <span class="stringliteral">&quot;ERROR: failed to decode rate limit&quot;</span> &lt;&lt; dendl;</div>
<div class="line"><span class="lineno"> 1467</span>      <span class="keywordflow">return</span> -EIO;</div>
<div class="line"><span class="lineno"> 1468</span>    }</div>
<div class="line"><span class="lineno"> 1469</span>  }</div>
<div class="line"><span class="lineno"> 1470</span>  <span class="keywordtype">bool</span> ratelimit_configured = <a class="code hl_function" href="rgw__admin_8cc.html#abb9e0ffbf36a71fe5f3a9320495c0228">set_ratelimit_info</a>(ratelimit_info, opt_cmd, max_read_ops, max_write_ops,</div>
<div class="line"><span class="lineno"> 1471</span>                         max_read_bytes, max_write_bytes,</div>
<div class="line"><span class="lineno"> 1472</span>                         have_max_read_ops, have_max_write_ops,</div>
<div class="line"><span class="lineno"> 1473</span>                         have_max_read_bytes, have_max_write_bytes);</div>
<div class="line"><span class="lineno"> 1474</span>  <span class="keywordflow">if</span> (!ratelimit_configured) {</div>
<div class="line"><span class="lineno"> 1475</span>    ldpp_dout(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>(), 0) &lt;&lt; <span class="stringliteral">&quot;ERROR: no rate limit values have been specified&quot;</span> &lt;&lt; dendl;</div>
<div class="line"><span class="lineno"> 1476</span>    <span class="keywordflow">return</span> -EINVAL;</div>
<div class="line"><span class="lineno"> 1477</span>  }</div>
<div class="line"><span class="lineno"> 1478</span>  bufferlist bl;</div>
<div class="line"><span class="lineno"> 1479</span>  ratelimit_info.<a class="code hl_function" href="struct_r_g_w_rate_limit_info.html#a89d8a639550de630d8fcd8d9b3ff861c">encode</a>(bl);</div>
<div class="line"><span class="lineno"> 1480</span>  <a class="code hl_typedef" href="group___r_g_w_s_a_l.html#gab1b58d5f8747844fae5ddfb48fadf7bc">rgw::sal::Attrs</a> attr;</div>
<div class="line"><span class="lineno"> 1481</span>  attr[<a class="code hl_define" href="rgw__common_8h.html#a8f47ad6e030c1b57f1c83082bcd786ff">RGW_ATTR_RATELIMIT</a>] = bl;</div>
<div class="line"><span class="lineno"> 1482</span>  <span class="keywordtype">int</span> <a class="code hl_variable" href="rgw__aio_8cc.html#ae38055824c6eac64615832ad9d888539">r</a> = user-&gt;merge_and_store_attrs(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>(), attr, null_yield);</div>
<div class="line"><span class="lineno"> 1483</span>  <span class="keywordflow">if</span> (<a class="code hl_variable" href="rgw__aio_8cc.html#ae38055824c6eac64615832ad9d888539">r</a> &lt; 0) {</div>
<div class="line"><span class="lineno"> 1484</span>    cerr &lt;&lt; <span class="stringliteral">&quot;ERROR: failed writing user instance info: &quot;</span> &lt;&lt; cpp_strerror(-<a class="code hl_variable" href="rgw__aio_8cc.html#ae38055824c6eac64615832ad9d888539">r</a>) &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 1485</span>    <span class="keywordflow">return</span> -<a class="code hl_variable" href="rgw__aio_8cc.html#ae38055824c6eac64615832ad9d888539">r</a>;</div>
<div class="line"><span class="lineno"> 1486</span>  }</div>
<div class="line"><span class="lineno"> 1487</span>  <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno"> 1488</span>}</div>
</div><!-- fragment --><div class="dynheader">
이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="rgw__admin_8cc_acdcb0d724bb4768b0809eb0f78cd4ab4_cgraph.png" border="0" usemap="#argw__admin_8cc_acdcb0d724bb4768b0809eb0f78cd4ab4_cgraph" alt=""/></div>
<map name="argw__admin_8cc_acdcb0d724bb4768b0809eb0f78cd4ab4_cgraph" id="argw__admin_8cc_acdcb0d724bb4768b0809eb0f78cd4ab4_cgraph">
<area shape="rect" title=" " alt="" coords="5,117,130,144"/>
<area shape="rect" href="rgw__log__backing_8h.html#adc46efdde31cf790f3b383cb9e6f198e" title=" " alt="" coords="235,29,299,56"/>
<area shape="poly" title=" " alt="" coords="88,115,128,90,177,66,219,51,221,56,179,70,131,95,91,119"/>
<area shape="rect" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5" title=" " alt="" coords="246,80,288,107"/>
<area shape="poly" title=" " alt="" coords="129,116,230,97,231,103,130,122"/>
<area shape="rect" href="struct_r_g_w_rate_limit_info.html#a89d8a639550de630d8fcd8d9b3ff861c" title=" " alt="" coords="178,155,356,181"/>
<area shape="poly" title=" " alt="" coords="130,140,177,149,176,154,129,145"/>
<area shape="rect" href="rgw__admin_8cc.html#abb9e0ffbf36a71fe5f3a9320495c0228" title=" " alt="" coords="207,205,327,232"/>
<area shape="poly" title=" " alt="" coords="91,142,131,167,179,191,196,198,194,203,177,196,128,171,88,147"/>
<area shape="poly" title=" " alt="" coords="233,30,227,21,231,11,245,5,267,3,291,5,303,12,301,16,289,10,267,8,246,10,235,15,232,20,237,27"/>
<area shape="poly" title=" " alt="" coords="233,156,227,146,231,136,245,130,267,128,291,131,303,137,301,142,289,136,267,133,246,135,235,140,232,145,237,153"/>
</map>
</div>
<div class="dynheader">
이 함수를 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="rgw__admin_8cc_acdcb0d724bb4768b0809eb0f78cd4ab4_icgraph.png" border="0" usemap="#argw__admin_8cc_acdcb0d724bb4768b0809eb0f78cd4ab4_icgraph" alt=""/></div>
<map name="argw__admin_8cc_acdcb0d724bb4768b0809eb0f78cd4ab4_icgraph" id="argw__admin_8cc_acdcb0d724bb4768b0809eb0f78cd4ab4_icgraph">
<area shape="rect" title=" " alt="" coords="103,5,227,32"/>
<area shape="rect" href="rgw__admin_8cc.html#a217dbf8b442f20279ea00b898af96f52" title=" " alt="" coords="5,5,55,32"/>
<area shape="poly" title=" " alt="" coords="87,21,55,21,55,16,87,16"/>
</map>
</div>

</div>
</div>
<a id="af18d4697640ec840e1bf2fd7e9d30953" name="af18d4697640ec840e1bf2fd7e9d30953"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af18d4697640ec840e1bf2fd7e9d30953">&#9670;&#160;</a></span>show_bucket_ratelimit()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int show_bucket_ratelimit </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classrgw_1_1sal_1_1_store.html">rgw::sal::Store</a> *&#160;</td>
          <td class="paramname"><em>store</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const string &amp;&#160;</td>
          <td class="paramname"><em>tenant_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const string &amp;&#160;</td>
          <td class="paramname"><em>bucket_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Formatter *&#160;</td>
          <td class="paramname"><em>formatter</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition"><a class="el" href="rgw__admin_8cc_source.html">rgw_admin.cc</a> 파일의 <a class="el" href="rgw__admin_8cc_source.html#l01513">1513</a> 번째 라인에서 정의되었습니다.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1515</span>{</div>
<div class="line"><span class="lineno"> 1516</span>  std::unique_ptr&lt;rgw::sal::Bucket&gt; bucket;</div>
<div class="line"><span class="lineno"> 1517</span>  <span class="keywordtype">int</span> <a class="code hl_variable" href="rgw__aio_8cc.html#ae38055824c6eac64615832ad9d888539">r</a> = <a class="code hl_variable" href="rgw__admin_8cc.html#a6fdb26d64b14d837b60e83a6ca3e2863">store</a>-&gt;<a class="code hl_function" href="classrgw_1_1sal_1_1_store.html#a3308ce50125b19ccdf5ce7f69958bd67">get_bucket</a>(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>(), <span class="keyword">nullptr</span>, tenant_name, bucket_name, &amp;bucket, null_yield);</div>
<div class="line"><span class="lineno"> 1518</span>  <span class="keywordflow">if</span> (<a class="code hl_variable" href="rgw__aio_8cc.html#ae38055824c6eac64615832ad9d888539">r</a> &lt; 0) {</div>
<div class="line"><span class="lineno"> 1519</span>    cerr &lt;&lt; <span class="stringliteral">&quot;could not get bucket info for bucket=&quot;</span> &lt;&lt; bucket_name &lt;&lt; <span class="stringliteral">&quot;: &quot;</span> &lt;&lt; cpp_strerror(-<a class="code hl_variable" href="rgw__aio_8cc.html#ae38055824c6eac64615832ad9d888539">r</a>) &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 1520</span>    <span class="keywordflow">return</span> -<a class="code hl_variable" href="rgw__aio_8cc.html#ae38055824c6eac64615832ad9d888539">r</a>;</div>
<div class="line"><span class="lineno"> 1521</span>  }</div>
<div class="line"><span class="lineno"> 1522</span>  <a class="code hl_struct" href="struct_r_g_w_rate_limit_info.html">RGWRateLimitInfo</a> ratelimit_info;</div>
<div class="line"><span class="lineno"> 1523</span>  <span class="keyword">auto</span> iter = bucket-&gt;get_attrs().find(<a class="code hl_define" href="rgw__common_8h.html#a8f47ad6e030c1b57f1c83082bcd786ff">RGW_ATTR_RATELIMIT</a>);</div>
<div class="line"><span class="lineno"> 1524</span>  <span class="keywordflow">if</span> (iter != bucket-&gt;get_attrs().end()) {</div>
<div class="line"><span class="lineno"> 1525</span>    <span class="keywordflow">try</span> {</div>
<div class="line"><span class="lineno"> 1526</span>      bufferlist&amp; bl = iter-&gt;second;</div>
<div class="line"><span class="lineno"> 1527</span>      <span class="keyword">auto</span> biter = bl.cbegin();</div>
<div class="line"><span class="lineno"> 1528</span>      <a class="code hl_function" href="rgw__log__backing_8h.html#adc46efdde31cf790f3b383cb9e6f198e">decode</a>(ratelimit_info, biter);</div>
<div class="line"><span class="lineno"> 1529</span>    } <span class="keywordflow">catch</span> (buffer::error&amp; err) {</div>
<div class="line"><span class="lineno"> 1530</span>      ldpp_dout(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>(), 0) &lt;&lt; <span class="stringliteral">&quot;ERROR: failed to decode rate limit&quot;</span> &lt;&lt; dendl;</div>
<div class="line"><span class="lineno"> 1531</span>      <span class="keywordflow">return</span> -EIO;</div>
<div class="line"><span class="lineno"> 1532</span>    }</div>
<div class="line"><span class="lineno"> 1533</span>  }</div>
<div class="line"><span class="lineno"> 1534</span>  formatter-&gt;open_object_section(<span class="stringliteral">&quot;bucket_ratelimit&quot;</span>);</div>
<div class="line"><span class="lineno"> 1535</span>  <a class="code hl_function" href="rgw__admin_8cc.html#ab596b9e1a1fc78e98a4d13a66578b658">encode_json</a>(<span class="stringliteral">&quot;bucket_ratelimit&quot;</span>, ratelimit_info, formatter);</div>
<div class="line"><span class="lineno"> 1536</span>  formatter-&gt;close_section();</div>
<div class="line"><span class="lineno"> 1537</span>  formatter-&gt;flush(cout);</div>
<div class="line"><span class="lineno"> 1538</span>  cout &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 1539</span>  <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno"> 1540</span>}</div>
</div><!-- fragment --><div class="dynheader">
이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="rgw__admin_8cc_af18d4697640ec840e1bf2fd7e9d30953_cgraph.png" border="0" usemap="#argw__admin_8cc_af18d4697640ec840e1bf2fd7e9d30953_cgraph" alt=""/></div>
<map name="argw__admin_8cc_af18d4697640ec840e1bf2fd7e9d30953_cgraph" id="argw__admin_8cc_af18d4697640ec840e1bf2fd7e9d30953_cgraph">
<area shape="rect" title=" " alt="" coords="5,117,156,144"/>
<area shape="rect" href="rgw__log__backing_8h.html#adc46efdde31cf790f3b383cb9e6f198e" title=" " alt="" coords="238,29,301,56"/>
<area shape="poly" title=" " alt="" coords="106,114,203,66,222,57,224,62,205,70,108,119"/>
<area shape="rect" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5" title=" " alt="" coords="248,80,291,107"/>
<area shape="poly" title=" " alt="" coords="151,114,232,98,233,103,152,119"/>
<area shape="rect" href="rgw__admin_8cc.html#ab596b9e1a1fc78e98a4d13a66578b658" title=" " alt="" coords="222,155,317,181"/>
<area shape="poly" title=" " alt="" coords="152,142,208,153,207,158,151,147"/>
<area shape="rect" href="classrgw_1_1sal_1_1_store.html#a3308ce50125b19ccdf5ce7f69958bd67" title=" " alt="" coords="204,205,335,248"/>
<area shape="poly" title=" " alt="" coords="110,142,213,195,211,200,108,147"/>
<area shape="poly" title=" " alt="" coords="237,30,231,21,235,11,248,5,269,3,292,5,304,12,301,16,290,10,269,8,250,10,239,15,237,20,242,27"/>
<area shape="poly" title=" " alt="" coords="237,156,231,146,235,136,248,130,269,128,292,131,304,137,301,142,290,136,269,133,250,135,239,140,237,145,242,153"/>
</map>
</div>
<div class="dynheader">
이 함수를 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="rgw__admin_8cc_af18d4697640ec840e1bf2fd7e9d30953_icgraph.png" border="0" usemap="#argw__admin_8cc_af18d4697640ec840e1bf2fd7e9d30953_icgraph" alt=""/></div>
<map name="argw__admin_8cc_af18d4697640ec840e1bf2fd7e9d30953_icgraph" id="argw__admin_8cc_af18d4697640ec840e1bf2fd7e9d30953_icgraph">
<area shape="rect" title=" " alt="" coords="103,5,253,32"/>
<area shape="rect" href="rgw__admin_8cc.html#a217dbf8b442f20279ea00b898af96f52" title=" " alt="" coords="5,5,55,32"/>
<area shape="poly" title=" " alt="" coords="87,21,55,21,55,16,87,16"/>
</map>
</div>

</div>
</div>
<a id="adbb575f10b45b26660cb6ce9931cce22" name="adbb575f10b45b26660cb6ce9931cce22"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adbb575f10b45b26660cb6ce9931cce22">&#9670;&#160;</a></span>show_perm_policy()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void show_perm_policy </td>
          <td>(</td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>perm_policy</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Formatter *&#160;</td>
          <td class="paramname"><em>formatter</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition"><a class="el" href="rgw__admin_8cc_source.html">rgw_admin.cc</a> 파일의 <a class="el" href="rgw__admin_8cc_source.html#l01108">1108</a> 번째 라인에서 정의되었습니다.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1109</span>{</div>
<div class="line"><span class="lineno"> 1110</span>  formatter-&gt;open_object_section(<span class="stringliteral">&quot;role&quot;</span>);</div>
<div class="line"><span class="lineno"> 1111</span>  formatter-&gt;dump_string(<span class="stringliteral">&quot;Permission policy&quot;</span>, perm_policy);</div>
<div class="line"><span class="lineno"> 1112</span>  formatter-&gt;close_section();</div>
<div class="line"><span class="lineno"> 1113</span>  formatter-&gt;flush(cout);</div>
<div class="line"><span class="lineno"> 1114</span>}</div>
</div><!-- fragment --><div class="dynheader">
이 함수를 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="rgw__admin_8cc_adbb575f10b45b26660cb6ce9931cce22_icgraph.png" border="0" usemap="#argw__admin_8cc_adbb575f10b45b26660cb6ce9931cce22_icgraph" alt=""/></div>
<map name="argw__admin_8cc_adbb575f10b45b26660cb6ce9931cce22_icgraph" id="argw__admin_8cc_adbb575f10b45b26660cb6ce9931cce22_icgraph">
<area shape="rect" title=" " alt="" coords="103,5,231,32"/>
<area shape="rect" href="rgw__admin_8cc.html#a217dbf8b442f20279ea00b898af96f52" title=" " alt="" coords="5,5,55,32"/>
<area shape="poly" title=" " alt="" coords="87,21,55,21,55,16,87,16"/>
</map>
</div>

</div>
</div>
<a id="ac0f52a9c50ded977fa7b5273f6797c80" name="ac0f52a9c50ded977fa7b5273f6797c80"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac0f52a9c50ded977fa7b5273f6797c80">&#9670;&#160;</a></span>show_policy_names()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void show_policy_names </td>
          <td>(</td>
          <td class="paramtype">std::vector&lt; string &gt;&#160;</td>
          <td class="paramname"><em>policy_names</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Formatter *&#160;</td>
          <td class="paramname"><em>formatter</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition"><a class="el" href="rgw__admin_8cc_source.html">rgw_admin.cc</a> 파일의 <a class="el" href="rgw__admin_8cc_source.html#l01116">1116</a> 번째 라인에서 정의되었습니다.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1117</span>{</div>
<div class="line"><span class="lineno"> 1118</span>  formatter-&gt;open_array_section(<span class="stringliteral">&quot;PolicyNames&quot;</span>);</div>
<div class="line"><span class="lineno"> 1119</span>  <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span>&amp; it : policy_names) {</div>
<div class="line"><span class="lineno"> 1120</span>    formatter-&gt;dump_string(<span class="stringliteral">&quot;policyname&quot;</span>, it);</div>
<div class="line"><span class="lineno"> 1121</span>  }</div>
<div class="line"><span class="lineno"> 1122</span>  formatter-&gt;close_section();</div>
<div class="line"><span class="lineno"> 1123</span>  formatter-&gt;flush(cout);</div>
<div class="line"><span class="lineno"> 1124</span>}</div>
</div><!-- fragment --><div class="dynheader">
이 함수를 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="rgw__admin_8cc_ac0f52a9c50ded977fa7b5273f6797c80_icgraph.png" border="0" usemap="#argw__admin_8cc_ac0f52a9c50ded977fa7b5273f6797c80_icgraph" alt=""/></div>
<map name="argw__admin_8cc_ac0f52a9c50ded977fa7b5273f6797c80_icgraph" id="argw__admin_8cc_ac0f52a9c50ded977fa7b5273f6797c80_icgraph">
<area shape="rect" title=" " alt="" coords="103,5,241,32"/>
<area shape="rect" href="rgw__admin_8cc.html#a217dbf8b442f20279ea00b898af96f52" title=" " alt="" coords="5,5,55,32"/>
<area shape="poly" title=" " alt="" coords="87,21,55,21,55,16,87,16"/>
</map>
</div>

</div>
</div>
<a id="ace6270a6fc80e9fce3cef9c397606b5f" name="ace6270a6fc80e9fce3cef9c397606b5f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ace6270a6fc80e9fce3cef9c397606b5f">&#9670;&#160;</a></span>show_reshard_status()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void show_reshard_status </td>
          <td>(</td>
          <td class="paramtype">const list&lt; cls_rgw_bucket_instance_entry &gt; &amp;&#160;</td>
          <td class="paramname"><em>status</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Formatter *&#160;</td>
          <td class="paramname"><em>formatter</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition"><a class="el" href="rgw__admin_8cc_source.html">rgw_admin.cc</a> 파일의 <a class="el" href="rgw__admin_8cc_source.html#l01146">1146</a> 번째 라인에서 정의되었습니다.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1148</span>{</div>
<div class="line"><span class="lineno"> 1149</span>  formatter-&gt;open_array_section(<span class="stringliteral">&quot;status&quot;</span>);</div>
<div class="line"><span class="lineno"> 1150</span>  <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span>&amp; entry : status) {</div>
<div class="line"><span class="lineno"> 1151</span>    formatter-&gt;open_object_section(<span class="stringliteral">&quot;entry&quot;</span>);</div>
<div class="line"><span class="lineno"> 1152</span>    formatter-&gt;dump_string(<span class="stringliteral">&quot;reshard_status&quot;</span>, <a class="code hl_function" href="rgw__keystone_8cc.html#a97140a592af15535629f284708b8f5b4">to_string</a>(entry.reshard_status));</div>
<div class="line"><span class="lineno"> 1153</span>    formatter-&gt;dump_string(<span class="stringliteral">&quot;new_bucket_instance_id&quot;</span>,</div>
<div class="line"><span class="lineno"> 1154</span>               entry.new_bucket_instance_id);</div>
<div class="line"><span class="lineno"> 1155</span>    formatter-&gt;dump_int(<span class="stringliteral">&quot;num_shards&quot;</span>, entry.num_shards);</div>
<div class="line"><span class="lineno"> 1156</span>    formatter-&gt;close_section();</div>
<div class="line"><span class="lineno"> 1157</span>  }</div>
<div class="line"><span class="lineno"> 1158</span>  formatter-&gt;close_section();</div>
<div class="line"><span class="lineno"> 1159</span>  formatter-&gt;flush(cout);</div>
<div class="line"><span class="lineno"> 1160</span>}</div>
<div class="ttc" id="argw__keystone_8cc_html_a97140a592af15535629f284708b8f5b4"><div class="ttname"><a href="rgw__keystone_8cc.html#a97140a592af15535629f284708b8f5b4">to_string</a></div><div class="ttdeci">static std::string to_string(const std::string_view &amp;s)</div><div class="ttdef"><b>Definition</b> <a href="rgw__keystone_8cc_source.html#l00571">rgw_keystone.cc:571</a></div></div>
</div><!-- fragment --><div class="dynheader">
이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="rgw__admin_8cc_ace6270a6fc80e9fce3cef9c397606b5f_cgraph.png" border="0" usemap="#argw__admin_8cc_ace6270a6fc80e9fce3cef9c397606b5f_cgraph" alt=""/></div>
<map name="argw__admin_8cc_ace6270a6fc80e9fce3cef9c397606b5f_cgraph" id="argw__admin_8cc_ace6270a6fc80e9fce3cef9c397606b5f_cgraph">
<area shape="rect" title=" " alt="" coords="5,5,150,32"/>
<area shape="rect" href="rgw__keystone_8cc.html#a97140a592af15535629f284708b8f5b4" title=" " alt="" coords="198,5,269,32"/>
<area shape="poly" title=" " alt="" coords="150,16,182,16,182,21,150,21"/>
</map>
</div>
<div class="dynheader">
이 함수를 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="rgw__admin_8cc_ace6270a6fc80e9fce3cef9c397606b5f_icgraph.png" border="0" usemap="#argw__admin_8cc_ace6270a6fc80e9fce3cef9c397606b5f_icgraph" alt=""/></div>
<map name="argw__admin_8cc_ace6270a6fc80e9fce3cef9c397606b5f_icgraph" id="argw__admin_8cc_ace6270a6fc80e9fce3cef9c397606b5f_icgraph">
<area shape="rect" title=" " alt="" coords="103,5,247,32"/>
<area shape="rect" href="rgw__admin_8cc.html#a217dbf8b442f20279ea00b898af96f52" title=" " alt="" coords="5,5,55,32"/>
<area shape="poly" title=" " alt="" coords="87,21,55,21,55,16,87,16"/>
</map>
</div>

</div>
</div>
<a id="a2566548dda6d3a7ce1e9d3bca22d7a4c" name="a2566548dda6d3a7ce1e9d3bca22d7a4c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2566548dda6d3a7ce1e9d3bca22d7a4c">&#9670;&#160;</a></span>show_result()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class T &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void show_result </td>
          <td>(</td>
          <td class="paramtype">T &amp;&#160;</td>
          <td class="paramname"><em>obj</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Formatter *&#160;</td>
          <td class="paramname"><em>formatter</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ostream &amp;&#160;</td>
          <td class="paramname"><em>os</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition"><a class="el" href="rgw__admin_8cc_source.html">rgw_admin.cc</a> 파일의 <a class="el" href="rgw__admin_8cc_source.html#l03053">3053</a> 번째 라인에서 정의되었습니다.</p>
<div class="fragment"><div class="line"><span class="lineno"> 3056</span>{</div>
<div class="line"><span class="lineno"> 3057</span>  <a class="code hl_function" href="rgw__admin_8cc.html#ab596b9e1a1fc78e98a4d13a66578b658">encode_json</a>(<span class="stringliteral">&quot;obj&quot;</span>, obj, formatter);</div>
<div class="line"><span class="lineno"> 3058</span> </div>
<div class="line"><span class="lineno"> 3059</span>  formatter-&gt;flush(cout);</div>
<div class="line"><span class="lineno"> 3060</span>}</div>
</div><!-- fragment --><div class="dynheader">
이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="rgw__admin_8cc_a2566548dda6d3a7ce1e9d3bca22d7a4c_cgraph.png" border="0" usemap="#argw__admin_8cc_a2566548dda6d3a7ce1e9d3bca22d7a4c_cgraph" alt=""/></div>
<map name="argw__admin_8cc_a2566548dda6d3a7ce1e9d3bca22d7a4c_cgraph" id="argw__admin_8cc_a2566548dda6d3a7ce1e9d3bca22d7a4c_cgraph">
<area shape="rect" title=" " alt="" coords="5,29,96,56"/>
<area shape="rect" href="rgw__admin_8cc.html#ab596b9e1a1fc78e98a4d13a66578b658" title=" " alt="" coords="144,29,238,56"/>
<area shape="poly" title=" " alt="" coords="96,40,128,40,128,45,96,45"/>
<area shape="poly" title=" " alt="" coords="166,30,162,21,165,11,175,5,191,3,208,5,217,12,214,16,206,10,191,8,177,10,169,14,167,20,171,28"/>
</map>
</div>
<div class="dynheader">
이 함수를 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="rgw__admin_8cc_a2566548dda6d3a7ce1e9d3bca22d7a4c_icgraph.png" border="0" usemap="#argw__admin_8cc_a2566548dda6d3a7ce1e9d3bca22d7a4c_icgraph" alt=""/></div>
<map name="argw__admin_8cc_a2566548dda6d3a7ce1e9d3bca22d7a4c_icgraph" id="argw__admin_8cc_a2566548dda6d3a7ce1e9d3bca22d7a4c_icgraph">
<area shape="rect" title=" " alt="" coords="103,5,193,32"/>
<area shape="rect" href="rgw__admin_8cc.html#a217dbf8b442f20279ea00b898af96f52" title=" " alt="" coords="5,5,55,32"/>
<area shape="poly" title=" " alt="" coords="87,21,55,21,55,16,87,16"/>
</map>
</div>

</div>
</div>
<a id="ad4505e23f8adf8af749407b1b8edede4" name="ad4505e23f8adf8af749407b1b8edede4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad4505e23f8adf8af749407b1b8edede4">&#9670;&#160;</a></span>show_role_info()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void show_role_info </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classrgw_1_1sal_1_1_r_g_w_role.html">rgw::sal::RGWRole</a> *&#160;</td>
          <td class="paramname"><em>role</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Formatter *&#160;</td>
          <td class="paramname"><em>formatter</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition"><a class="el" href="rgw__admin_8cc_source.html">rgw_admin.cc</a> 파일의 <a class="el" href="rgw__admin_8cc_source.html#l01126">1126</a> 번째 라인에서 정의되었습니다.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1127</span>{</div>
<div class="line"><span class="lineno"> 1128</span>  formatter-&gt;open_object_section(<span class="stringliteral">&quot;role&quot;</span>);</div>
<div class="line"><span class="lineno"> 1129</span>  role-&gt;<a class="code hl_function" href="classrgw_1_1sal_1_1_r_g_w_role.html#a37d13b97b3f23aec4527df56b92e4a4d">dump</a>(formatter);</div>
<div class="line"><span class="lineno"> 1130</span>  formatter-&gt;close_section();</div>
<div class="line"><span class="lineno"> 1131</span>  formatter-&gt;flush(cout);</div>
<div class="line"><span class="lineno"> 1132</span>}</div>
<div class="ttc" id="aclassrgw_1_1sal_1_1_r_g_w_role_html_a37d13b97b3f23aec4527df56b92e4a4d"><div class="ttname"><a href="classrgw_1_1sal_1_1_r_g_w_role.html#a37d13b97b3f23aec4527df56b92e4a4d">rgw::sal::RGWRole::dump</a></div><div class="ttdeci">void dump(Formatter *f) const</div><div class="ttdef"><b>Definition</b> <a href="rgw__role_8cc_source.html#l00172">rgw_role.cc:172</a></div></div>
</div><!-- fragment --><div class="dynheader">
이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="rgw__admin_8cc_ad4505e23f8adf8af749407b1b8edede4_cgraph.png" border="0" usemap="#argw__admin_8cc_ad4505e23f8adf8af749407b1b8edede4_cgraph" alt=""/></div>
<map name="argw__admin_8cc_ad4505e23f8adf8af749407b1b8edede4_cgraph" id="argw__admin_8cc_ad4505e23f8adf8af749407b1b8edede4_cgraph">
<area shape="rect" title=" " alt="" coords="5,29,112,56"/>
<area shape="rect" href="classrgw_1_1sal_1_1_r_g_w_role.html#a37d13b97b3f23aec4527df56b92e4a4d" title=" " alt="" coords="160,29,332,56"/>
<area shape="poly" title=" " alt="" coords="112,40,144,40,144,45,112,45"/>
<area shape="rect" href="structrgw_1_1sal_1_1_r_g_w_role_info.html#ac9c21650ad1f52a1b65ff4efb9a8a1f7" title=" " alt="" coords="380,21,532,64"/>
<area shape="poly" title=" " alt="" coords="332,40,365,40,365,45,332,45"/>
<area shape="rect" href="rgw__admin_8cc.html#ab596b9e1a1fc78e98a4d13a66578b658" title=" " alt="" coords="580,29,675,56"/>
<area shape="poly" title=" " alt="" coords="533,40,565,40,565,45,533,45"/>
<area shape="poly" title=" " alt="" coords="598,30,593,21,596,11,608,5,628,3,648,5,659,12,656,16,646,10,627,8,610,10,600,15,598,20,603,28"/>
</map>
</div>
<div class="dynheader">
이 함수를 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="rgw__admin_8cc_ad4505e23f8adf8af749407b1b8edede4_icgraph.png" border="0" usemap="#argw__admin_8cc_ad4505e23f8adf8af749407b1b8edede4_icgraph" alt=""/></div>
<map name="argw__admin_8cc_ad4505e23f8adf8af749407b1b8edede4_icgraph" id="argw__admin_8cc_ad4505e23f8adf8af749407b1b8edede4_icgraph">
<area shape="rect" title=" " alt="" coords="103,5,209,32"/>
<area shape="rect" href="rgw__admin_8cc.html#a217dbf8b442f20279ea00b898af96f52" title=" " alt="" coords="5,5,55,32"/>
<area shape="poly" title=" " alt="" coords="87,21,55,21,55,16,87,16"/>
</map>
</div>

</div>
</div>
<a id="a1cef36570411312985736b706edeb5b2" name="a1cef36570411312985736b706edeb5b2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1cef36570411312985736b706edeb5b2">&#9670;&#160;</a></span>show_roles_info()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void show_roles_info </td>
          <td>(</td>
          <td class="paramtype">vector&lt; std::unique_ptr&lt; <a class="el" href="classrgw_1_1sal_1_1_r_g_w_role.html">rgw::sal::RGWRole</a> &gt; &gt; &amp;&#160;</td>
          <td class="paramname"><em>roles</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Formatter *&#160;</td>
          <td class="paramname"><em>formatter</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition"><a class="el" href="rgw__admin_8cc_source.html">rgw_admin.cc</a> 파일의 <a class="el" href="rgw__admin_8cc_source.html#l01134">1134</a> 번째 라인에서 정의되었습니다.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1135</span>{</div>
<div class="line"><span class="lineno"> 1136</span>  formatter-&gt;open_array_section(<span class="stringliteral">&quot;Roles&quot;</span>);</div>
<div class="line"><span class="lineno"> 1137</span>  <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span>&amp; it : roles) {</div>
<div class="line"><span class="lineno"> 1138</span>    formatter-&gt;open_object_section(<span class="stringliteral">&quot;role&quot;</span>);</div>
<div class="line"><span class="lineno"> 1139</span>    it-&gt;dump(formatter);</div>
<div class="line"><span class="lineno"> 1140</span>    formatter-&gt;close_section();</div>
<div class="line"><span class="lineno"> 1141</span>  }</div>
<div class="line"><span class="lineno"> 1142</span>  formatter-&gt;close_section();</div>
<div class="line"><span class="lineno"> 1143</span>  formatter-&gt;flush(cout);</div>
<div class="line"><span class="lineno"> 1144</span>}</div>
</div><!-- fragment --><div class="dynheader">
이 함수를 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="rgw__admin_8cc_a1cef36570411312985736b706edeb5b2_icgraph.png" border="0" usemap="#argw__admin_8cc_a1cef36570411312985736b706edeb5b2_icgraph" alt=""/></div>
<map name="argw__admin_8cc_a1cef36570411312985736b706edeb5b2_icgraph" id="argw__admin_8cc_a1cef36570411312985736b706edeb5b2_icgraph">
<area shape="rect" title=" " alt="" coords="103,5,216,32"/>
<area shape="rect" href="rgw__admin_8cc.html#a217dbf8b442f20279ea00b898af96f52" title=" " alt="" coords="5,5,55,32"/>
<area shape="poly" title=" " alt="" coords="87,21,55,21,55,16,87,16"/>
</map>
</div>

</div>
</div>
<a id="afddd1cc4dd7fba052586690f4af8a601" name="afddd1cc4dd7fba052586690f4af8a601"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afddd1cc4dd7fba052586690f4af8a601">&#9670;&#160;</a></span>show_user_info()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void show_user_info </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_r_g_w_user_info.html">RGWUserInfo</a> &amp;&#160;</td>
          <td class="paramname"><em>info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Formatter *&#160;</td>
          <td class="paramname"><em>formatter</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition"><a class="el" href="rgw__admin_8cc_source.html">rgw_admin.cc</a> 파일의 <a class="el" href="rgw__admin_8cc_source.html#l01101">1101</a> 번째 라인에서 정의되었습니다.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1102</span>{</div>
<div class="line"><span class="lineno"> 1103</span>  <a class="code hl_function" href="rgw__admin_8cc.html#ab596b9e1a1fc78e98a4d13a66578b658">encode_json</a>(<span class="stringliteral">&quot;user_info&quot;</span>, info, formatter);</div>
<div class="line"><span class="lineno"> 1104</span>  formatter-&gt;flush(cout);</div>
<div class="line"><span class="lineno"> 1105</span>  cout &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 1106</span>}</div>
</div><!-- fragment --><div class="dynheader">
이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="rgw__admin_8cc_afddd1cc4dd7fba052586690f4af8a601_cgraph.png" border="0" usemap="#argw__admin_8cc_afddd1cc4dd7fba052586690f4af8a601_cgraph" alt=""/></div>
<map name="argw__admin_8cc_afddd1cc4dd7fba052586690f4af8a601_cgraph" id="argw__admin_8cc_afddd1cc4dd7fba052586690f4af8a601_cgraph">
<area shape="rect" title=" " alt="" coords="5,29,116,56"/>
<area shape="rect" href="rgw__admin_8cc.html#ab596b9e1a1fc78e98a4d13a66578b658" title=" " alt="" coords="164,29,258,56"/>
<area shape="poly" title=" " alt="" coords="116,40,148,40,148,45,116,45"/>
<area shape="poly" title=" " alt="" coords="185,30,180,21,183,11,194,5,211,3,229,5,239,12,236,16,227,10,211,8,195,10,187,14,185,20,189,28"/>
</map>
</div>
<div class="dynheader">
이 함수를 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="rgw__admin_8cc_afddd1cc4dd7fba052586690f4af8a601_icgraph.png" border="0" usemap="#argw__admin_8cc_afddd1cc4dd7fba052586690f4af8a601_icgraph" alt=""/></div>
<map name="argw__admin_8cc_afddd1cc4dd7fba052586690f4af8a601_icgraph" id="argw__admin_8cc_afddd1cc4dd7fba052586690f4af8a601_icgraph">
<area shape="rect" title=" " alt="" coords="103,5,213,32"/>
<area shape="rect" href="rgw__admin_8cc.html#a217dbf8b442f20279ea00b898af96f52" title=" " alt="" coords="5,5,55,32"/>
<area shape="poly" title=" " alt="" coords="87,21,55,21,55,16,87,16"/>
</map>
</div>

</div>
</div>
<a id="a0a59f4856530c0ea2ecbfecf76260725" name="a0a59f4856530c0ea2ecbfecf76260725"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0a59f4856530c0ea2ecbfecf76260725">&#9670;&#160;</a></span>show_user_ratelimit()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int show_user_ratelimit </td>
          <td>(</td>
          <td class="paramtype">std::unique_ptr&lt; <a class="el" href="classrgw_1_1sal_1_1_user.html">rgw::sal::User</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>user</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Formatter *&#160;</td>
          <td class="paramname"><em>formatter</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition"><a class="el" href="rgw__admin_8cc_source.html">rgw_admin.cc</a> 파일의 <a class="el" href="rgw__admin_8cc_source.html#l01490">1490</a> 번째 라인에서 정의되었습니다.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1491</span>{</div>
<div class="line"><span class="lineno"> 1492</span>  <a class="code hl_struct" href="struct_r_g_w_rate_limit_info.html">RGWRateLimitInfo</a> ratelimit_info;</div>
<div class="line"><span class="lineno"> 1493</span>  user-&gt;load_user(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>(), null_yield);</div>
<div class="line"><span class="lineno"> 1494</span>  <span class="keyword">auto</span> iter = user-&gt;get_attrs().find(<a class="code hl_define" href="rgw__common_8h.html#a8f47ad6e030c1b57f1c83082bcd786ff">RGW_ATTR_RATELIMIT</a>);</div>
<div class="line"><span class="lineno"> 1495</span>  <span class="keywordflow">if</span>(iter != user-&gt;get_attrs().end()) {</div>
<div class="line"><span class="lineno"> 1496</span>    <span class="keywordflow">try</span> {</div>
<div class="line"><span class="lineno"> 1497</span>      bufferlist&amp; bl = iter-&gt;second;</div>
<div class="line"><span class="lineno"> 1498</span>      <span class="keyword">auto</span> biter = bl.cbegin();</div>
<div class="line"><span class="lineno"> 1499</span>      <a class="code hl_function" href="rgw__log__backing_8h.html#adc46efdde31cf790f3b383cb9e6f198e">decode</a>(ratelimit_info, biter);</div>
<div class="line"><span class="lineno"> 1500</span>    } <span class="keywordflow">catch</span> (buffer::error&amp; err) {</div>
<div class="line"><span class="lineno"> 1501</span>      ldpp_dout(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>(), 0) &lt;&lt; <span class="stringliteral">&quot;ERROR: failed to decode rate limit&quot;</span> &lt;&lt; dendl;</div>
<div class="line"><span class="lineno"> 1502</span>      <span class="keywordflow">return</span> -EIO;</div>
<div class="line"><span class="lineno"> 1503</span>    }</div>
<div class="line"><span class="lineno"> 1504</span>  }</div>
<div class="line"><span class="lineno"> 1505</span>  formatter-&gt;open_object_section(<span class="stringliteral">&quot;user_ratelimit&quot;</span>);</div>
<div class="line"><span class="lineno"> 1506</span>  <a class="code hl_function" href="rgw__admin_8cc.html#ab596b9e1a1fc78e98a4d13a66578b658">encode_json</a>(<span class="stringliteral">&quot;user_ratelimit&quot;</span>, ratelimit_info, formatter);</div>
<div class="line"><span class="lineno"> 1507</span>  formatter-&gt;close_section();</div>
<div class="line"><span class="lineno"> 1508</span>  formatter-&gt;flush(cout);</div>
<div class="line"><span class="lineno"> 1509</span>  cout &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 1510</span>  <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno"> 1511</span>}</div>
</div><!-- fragment --><div class="dynheader">
이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="rgw__admin_8cc_a0a59f4856530c0ea2ecbfecf76260725_cgraph.png" border="0" usemap="#argw__admin_8cc_a0a59f4856530c0ea2ecbfecf76260725_cgraph" alt=""/></div>
<map name="argw__admin_8cc_a0a59f4856530c0ea2ecbfecf76260725_cgraph" id="argw__admin_8cc_a0a59f4856530c0ea2ecbfecf76260725_cgraph">
<area shape="rect" title=" " alt="" coords="5,80,142,107"/>
<area shape="rect" href="rgw__log__backing_8h.html#adc46efdde31cf790f3b383cb9e6f198e" title=" " alt="" coords="205,29,269,56"/>
<area shape="poly" title=" " alt="" coords="118,77,189,54,191,60,120,82"/>
<area shape="rect" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5" title=" " alt="" coords="216,80,258,107"/>
<area shape="poly" title=" " alt="" coords="142,91,200,91,200,96,142,96"/>
<area shape="rect" href="rgw__admin_8cc.html#ab596b9e1a1fc78e98a4d13a66578b658" title=" " alt="" coords="190,155,284,181"/>
<area shape="poly" title=" " alt="" coords="106,105,193,145,191,150,104,110"/>
<area shape="poly" title=" " alt="" coords="209,30,204,21,207,11,218,5,237,3,257,5,267,12,264,16,255,10,237,8,220,10,211,15,209,20,213,28"/>
<area shape="poly" title=" " alt="" coords="209,155,204,146,207,136,218,130,237,128,257,131,267,137,264,142,255,136,237,133,220,135,211,140,209,145,213,153"/>
</map>
</div>
<div class="dynheader">
이 함수를 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="rgw__admin_8cc_a0a59f4856530c0ea2ecbfecf76260725_icgraph.png" border="0" usemap="#argw__admin_8cc_a0a59f4856530c0ea2ecbfecf76260725_icgraph" alt=""/></div>
<map name="argw__admin_8cc_a0a59f4856530c0ea2ecbfecf76260725_icgraph" id="argw__admin_8cc_a0a59f4856530c0ea2ecbfecf76260725_icgraph">
<area shape="rect" title=" " alt="" coords="103,5,239,32"/>
<area shape="rect" href="rgw__admin_8cc.html#a217dbf8b442f20279ea00b898af96f52" title=" " alt="" coords="5,5,55,32"/>
<area shape="poly" title=" " alt="" coords="87,21,55,21,55,16,87,16"/>
</map>
</div>

</div>
</div>
<a id="ab8cce19268215080781572ed7419e6be" name="ab8cce19268215080781572ed7419e6be"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab8cce19268215080781572ed7419e6be">&#9670;&#160;</a></span>symmetrical_flow_opt()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool symmetrical_flow_opt </td>
          <td>(</td>
          <td class="paramtype">const string &amp;&#160;</td>
          <td class="paramname"><em>opt</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition"><a class="el" href="rgw__admin_8cc_source.html">rgw_admin.cc</a> 파일의 <a class="el" href="rgw__admin_8cc_source.html#l03024">3024</a> 번째 라인에서 정의되었습니다.</p>
<div class="fragment"><div class="line"><span class="lineno"> 3025</span>{</div>
<div class="line"><span class="lineno"> 3026</span>  <span class="keywordflow">return</span> (opt == <span class="stringliteral">&quot;symmetrical&quot;</span> || opt == <span class="stringliteral">&quot;symmetric&quot;</span>);</div>
<div class="line"><span class="lineno"> 3027</span>}</div>
</div><!-- fragment --><div class="dynheader">
이 함수를 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="rgw__admin_8cc_ab8cce19268215080781572ed7419e6be_icgraph.png" border="0" usemap="#argw__admin_8cc_ab8cce19268215080781572ed7419e6be_icgraph" alt=""/></div>
<map name="argw__admin_8cc_ab8cce19268215080781572ed7419e6be_icgraph" id="argw__admin_8cc_ab8cce19268215080781572ed7419e6be_icgraph">
<area shape="rect" title=" " alt="" coords="103,5,249,32"/>
<area shape="rect" href="rgw__admin_8cc.html#a217dbf8b442f20279ea00b898af96f52" title=" " alt="" coords="5,5,55,32"/>
<area shape="poly" title=" " alt="" coords="87,21,55,21,55,16,87,16"/>
</map>
</div>

</div>
</div>
<a id="abfa871472fdef30cd489d5795df05b4d" name="abfa871472fdef30cd489d5795df05b4d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abfa871472fdef30cd489d5795df05b4d">&#9670;&#160;</a></span>sync_info()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int sync_info </td>
          <td>(</td>
          <td class="paramtype">std::optional&lt; <a class="el" href="structrgw__zone__id.html">rgw_zone_id</a> &gt;&#160;</td>
          <td class="paramname"><em>opt_target_zone</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::optional&lt; <a class="el" href="structrgw__bucket.html">rgw_bucket</a> &gt;&#160;</td>
          <td class="paramname"><em>opt_bucket</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Formatter *&#160;</td>
          <td class="paramname"><em>formatter</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition"><a class="el" href="rgw__admin_8cc_source.html">rgw_admin.cc</a> 파일의 <a class="el" href="rgw__admin_8cc_source.html#l02618">2618</a> 번째 라인에서 정의되었습니다.</p>
<div class="fragment"><div class="line"><span class="lineno"> 2619</span>{</div>
<div class="line"><span class="lineno"> 2620</span>  <a class="code hl_struct" href="structrgw__zone__id.html">rgw_zone_id</a> zone_id = opt_target_zone.value_or(<a class="code hl_variable" href="rgw__admin_8cc.html#a6fdb26d64b14d837b60e83a6ca3e2863">store</a>-&gt;<a class="code hl_function" href="classrgw_1_1sal_1_1_store.html#a7905b89b9f5def056e6b3379637037cc">get_zone</a>()-&gt;<a class="code hl_function" href="classrgw_1_1sal_1_1_zone.html#a7c10e9e3affc168c3782e0bb80f2b4d5">get_id</a>());</div>
<div class="line"><span class="lineno"> 2621</span> </div>
<div class="line"><span class="lineno"> 2622</span>  <span class="keyword">auto</span> zone_policy_handler = <span class="keyword">static_cast&lt;</span><a class="code hl_class" href="classrgw_1_1sal_1_1_rados_store.html">rgw::sal::RadosStore</a>*<span class="keyword">&gt;</span>(<a class="code hl_variable" href="rgw__admin_8cc.html#a6fdb26d64b14d837b60e83a6ca3e2863">store</a>)-&gt;svc()-&gt;<a class="code hl_variable" href="classrgw_1_1sal_1_1_rados_store.html#a0a94e58a4595ab519b4c3f89d33419fe">zone</a>-&gt;get_sync_policy_handler(zone_id);</div>
<div class="line"><span class="lineno"> 2623</span> </div>
<div class="line"><span class="lineno"> 2624</span>  <a class="code hl_typedef" href="rgw__sal_8h.html#a34a498a236dfdf1358ada02a62afc853">RGWBucketSyncPolicyHandlerRef</a> bucket_handler;</div>
<div class="line"><span class="lineno"> 2625</span> </div>
<div class="line"><span class="lineno"> 2626</span>  std::optional&lt;rgw_bucket&gt; eff_bucket = opt_bucket;</div>
<div class="line"><span class="lineno"> 2627</span> </div>
<div class="line"><span class="lineno"> 2628</span>  <span class="keyword">auto</span> handler = zone_policy_handler;</div>
<div class="line"><span class="lineno"> 2629</span> </div>
<div class="line"><span class="lineno"> 2630</span>  <span class="keywordflow">if</span> (eff_bucket) {</div>
<div class="line"><span class="lineno"> 2631</span>    std::unique_ptr&lt;rgw::sal::Bucket&gt; bucket;</div>
<div class="line"><span class="lineno"> 2632</span> </div>
<div class="line"><span class="lineno"> 2633</span>    <span class="keywordtype">int</span> ret = <a class="code hl_function" href="rgw__admin_8cc.html#a0023a8779e3ab0d965d9acfb3eb72cac">init_bucket</a>(<span class="keyword">nullptr</span>, *eff_bucket, &amp;bucket);</div>
<div class="line"><span class="lineno"> 2634</span>    <span class="keywordflow">if</span> (ret &lt; 0 &amp;&amp; ret != -ENOENT) {</div>
<div class="line"><span class="lineno"> 2635</span>      cerr &lt;&lt; <span class="stringliteral">&quot;ERROR: init_bucket failed: &quot;</span> &lt;&lt; cpp_strerror(-ret) &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 2636</span>      <span class="keywordflow">return</span> ret;</div>
<div class="line"><span class="lineno"> 2637</span>    }</div>
<div class="line"><span class="lineno"> 2638</span> </div>
<div class="line"><span class="lineno"> 2639</span>    <span class="keywordflow">if</span> (ret &gt;= 0) {</div>
<div class="line"><span class="lineno"> 2640</span>      <a class="code hl_typedef" href="group___r_g_w_s_a_l.html#gab1b58d5f8747844fae5ddfb48fadf7bc">rgw::sal::Attrs</a> attrs = bucket-&gt;get_attrs();</div>
<div class="line"><span class="lineno"> 2641</span>      bucket_handler.reset(handler-&gt;alloc_child(bucket-&gt;get_info(), std::move(attrs)));</div>
<div class="line"><span class="lineno"> 2642</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 2643</span>      cerr &lt;&lt; <span class="stringliteral">&quot;WARNING: bucket not found, simulating result&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 2644</span>      bucket_handler.reset(handler-&gt;alloc_child(*eff_bucket, nullopt));</div>
<div class="line"><span class="lineno"> 2645</span>    }</div>
<div class="line"><span class="lineno"> 2646</span> </div>
<div class="line"><span class="lineno"> 2647</span>    ret = bucket_handler-&gt;init(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>(), null_yield);</div>
<div class="line"><span class="lineno"> 2648</span>    <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno"> 2649</span>      cerr &lt;&lt; <span class="stringliteral">&quot;ERROR: failed to init bucket sync policy handler: &quot;</span> &lt;&lt; cpp_strerror(-ret) &lt;&lt; <span class="stringliteral">&quot; (ret=&quot;</span> &lt;&lt; ret &lt;&lt; <span class="stringliteral">&quot;)&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 2650</span>      <span class="keywordflow">return</span> ret;</div>
<div class="line"><span class="lineno"> 2651</span>    }</div>
<div class="line"><span class="lineno"> 2652</span> </div>
<div class="line"><span class="lineno"> 2653</span>    handler = bucket_handler;</div>
<div class="line"><span class="lineno"> 2654</span>  }</div>
<div class="line"><span class="lineno"> 2655</span> </div>
<div class="line"><span class="lineno"> 2656</span>  std::set&lt;rgw_sync_bucket_pipe&gt; sources;</div>
<div class="line"><span class="lineno"> 2657</span>  std::set&lt;rgw_sync_bucket_pipe&gt; dests;</div>
<div class="line"><span class="lineno"> 2658</span> </div>
<div class="line"><span class="lineno"> 2659</span>  handler-&gt;get_pipes(&amp;sources, &amp;dests, std::nullopt);</div>
<div class="line"><span class="lineno"> 2660</span> </div>
<div class="line"><span class="lineno"> 2661</span>  <span class="keyword">auto</span> source_hints_vec = <a class="code hl_function" href="rgw__admin_8cc.html#aeb5edee788c0f9992b3b44f626b6f667">convert_bucket_set_to_str_vec</a>(handler-&gt;get_source_hints());</div>
<div class="line"><span class="lineno"> 2662</span>  <span class="keyword">auto</span> target_hints_vec = <a class="code hl_function" href="rgw__admin_8cc.html#aeb5edee788c0f9992b3b44f626b6f667">convert_bucket_set_to_str_vec</a>(handler-&gt;get_target_hints());</div>
<div class="line"><span class="lineno"> 2663</span> </div>
<div class="line"><span class="lineno"> 2664</span>  std::set&lt;rgw_sync_bucket_pipe&gt; resolved_sources;</div>
<div class="line"><span class="lineno"> 2665</span>  std::set&lt;rgw_sync_bucket_pipe&gt; resolved_dests;</div>
<div class="line"><span class="lineno"> 2666</span> </div>
<div class="line"><span class="lineno"> 2667</span>  <a class="code hl_struct" href="structrgw__sync__bucket__entity.html">rgw_sync_bucket_entity</a> self_entity(zone_id, opt_bucket);</div>
<div class="line"><span class="lineno"> 2668</span> </div>
<div class="line"><span class="lineno"> 2669</span>  set&lt;rgw_zone_id&gt; source_zones;</div>
<div class="line"><span class="lineno"> 2670</span>  set&lt;rgw_zone_id&gt; target_zones;</div>
<div class="line"><span class="lineno"> 2671</span> </div>
<div class="line"><span class="lineno"> 2672</span>  zone_policy_handler-&gt;reflect(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>(), <span class="keyword">nullptr</span>, <span class="keyword">nullptr</span>,</div>
<div class="line"><span class="lineno"> 2673</span>                               <span class="keyword">nullptr</span>, <span class="keyword">nullptr</span>,</div>
<div class="line"><span class="lineno"> 2674</span>                               &amp;source_zones,</div>
<div class="line"><span class="lineno"> 2675</span>                               &amp;target_zones,</div>
<div class="line"><span class="lineno"> 2676</span>                               <span class="keyword">false</span>); <span class="comment">/* relaxed: also get all zones that we allow to sync to/from */</span></div>
<div class="line"><span class="lineno"> 2677</span> </div>
<div class="line"><span class="lineno"> 2678</span>  std::set&lt;rgw_sync_bucket_entity&gt; hint_entities;</div>
<div class="line"><span class="lineno"> 2679</span> </div>
<div class="line"><span class="lineno"> 2680</span>  <a class="code hl_function" href="rgw__admin_8cc.html#ac0d34a23b71e61b836ad1f30aea3fe0a">get_hint_entities</a>(source_zones, handler-&gt;get_source_hints(), &amp;hint_entities);</div>
<div class="line"><span class="lineno"> 2681</span>  <a class="code hl_function" href="rgw__admin_8cc.html#ac0d34a23b71e61b836ad1f30aea3fe0a">get_hint_entities</a>(target_zones, handler-&gt;get_target_hints(), &amp;hint_entities);</div>
<div class="line"><span class="lineno"> 2682</span> </div>
<div class="line"><span class="lineno"> 2683</span>  <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp; hint_entity : hint_entities) {</div>
<div class="line"><span class="lineno"> 2684</span>    <span class="keywordflow">if</span> (!hint_entity.zone ||</div>
<div class="line"><span class="lineno"> 2685</span>    !hint_entity.bucket) {</div>
<div class="line"><span class="lineno"> 2686</span>      <span class="keywordflow">continue</span>; <span class="comment">/* shouldn&#39;t really happen */</span></div>
<div class="line"><span class="lineno"> 2687</span>    }</div>
<div class="line"><span class="lineno"> 2688</span> </div>
<div class="line"><span class="lineno"> 2689</span>    <span class="keyword">auto</span> zid = <a class="code hl_function" href="rgw__admin_8cc.html#a68870a41c8445ca90e3f92b4519b8f4d">validate_zone_id</a>(*hint_entity.zone);</div>
<div class="line"><span class="lineno"> 2690</span>    <span class="keyword">auto</span>&amp; hint_bucket = *hint_entity.bucket;</div>
<div class="line"><span class="lineno"> 2691</span> </div>
<div class="line"><span class="lineno"> 2692</span>    <a class="code hl_typedef" href="rgw__sal_8h.html#a34a498a236dfdf1358ada02a62afc853">RGWBucketSyncPolicyHandlerRef</a> hint_bucket_handler;</div>
<div class="line"><span class="lineno"> 2693</span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="rgw__aio_8cc.html#ae38055824c6eac64615832ad9d888539">r</a> = <a class="code hl_variable" href="rgw__admin_8cc.html#a6fdb26d64b14d837b60e83a6ca3e2863">store</a>-&gt;<a class="code hl_function" href="classrgw_1_1sal_1_1_store.html#a49a7a48f9ae72b8387a24b328fd8e9e4">get_sync_policy_handler</a>(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>(), zid, hint_bucket, &amp;hint_bucket_handler, null_yield);</div>
<div class="line"><span class="lineno"> 2694</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="rgw__aio_8cc.html#ae38055824c6eac64615832ad9d888539">r</a> &lt; 0) {</div>
<div class="line"><span class="lineno"> 2695</span>      ldpp_dout(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>(), 20) &lt;&lt; <span class="stringliteral">&quot;could not get bucket sync policy handler for hint bucket=&quot;</span> &lt;&lt; hint_bucket &lt;&lt; <span class="stringliteral">&quot; ... skipping&quot;</span> &lt;&lt; dendl;</div>
<div class="line"><span class="lineno"> 2696</span>      <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 2697</span>    }</div>
<div class="line"><span class="lineno"> 2698</span> </div>
<div class="line"><span class="lineno"> 2699</span>    hint_bucket_handler-&gt;get_pipes(&amp;resolved_dests,</div>
<div class="line"><span class="lineno"> 2700</span>                                   &amp;resolved_sources,</div>
<div class="line"><span class="lineno"> 2701</span>                                   self_entity); <span class="comment">/* flipping resolved dests and sources as these are</span></div>
<div class="line"><span class="lineno"> 2702</span><span class="comment">                                                    relative to the remote entity */</span></div>
<div class="line"><span class="lineno"> 2703</span>  }</div>
<div class="line"><span class="lineno"> 2704</span> </div>
<div class="line"><span class="lineno"> 2705</span>  {</div>
<div class="line"><span class="lineno"> 2706</span>    Formatter::ObjectSection os(*formatter, <span class="stringliteral">&quot;result&quot;</span>);</div>
<div class="line"><span class="lineno"> 2707</span>    <a class="code hl_function" href="rgw__admin_8cc.html#ab596b9e1a1fc78e98a4d13a66578b658">encode_json</a>(<span class="stringliteral">&quot;sources&quot;</span>, sources, formatter);</div>
<div class="line"><span class="lineno"> 2708</span>    <a class="code hl_function" href="rgw__admin_8cc.html#ab596b9e1a1fc78e98a4d13a66578b658">encode_json</a>(<span class="stringliteral">&quot;dests&quot;</span>, dests, formatter);</div>
<div class="line"><span class="lineno"> 2709</span>    {</div>
<div class="line"><span class="lineno"> 2710</span>      Formatter::ObjectSection hints_section(*formatter, <span class="stringliteral">&quot;hints&quot;</span>);</div>
<div class="line"><span class="lineno"> 2711</span>      <a class="code hl_function" href="rgw__admin_8cc.html#ab596b9e1a1fc78e98a4d13a66578b658">encode_json</a>(<span class="stringliteral">&quot;sources&quot;</span>, source_hints_vec, formatter);</div>
<div class="line"><span class="lineno"> 2712</span>      <a class="code hl_function" href="rgw__admin_8cc.html#ab596b9e1a1fc78e98a4d13a66578b658">encode_json</a>(<span class="stringliteral">&quot;dests&quot;</span>, target_hints_vec, formatter);</div>
<div class="line"><span class="lineno"> 2713</span>    }</div>
<div class="line"><span class="lineno"> 2714</span>    {</div>
<div class="line"><span class="lineno"> 2715</span>      Formatter::ObjectSection resolved_hints_section(*formatter, <span class="stringliteral">&quot;resolved-hints-1&quot;</span>);</div>
<div class="line"><span class="lineno"> 2716</span>      <a class="code hl_function" href="rgw__admin_8cc.html#ab596b9e1a1fc78e98a4d13a66578b658">encode_json</a>(<span class="stringliteral">&quot;sources&quot;</span>, resolved_sources, formatter);</div>
<div class="line"><span class="lineno"> 2717</span>      <a class="code hl_function" href="rgw__admin_8cc.html#ab596b9e1a1fc78e98a4d13a66578b658">encode_json</a>(<span class="stringliteral">&quot;dests&quot;</span>, resolved_dests, formatter);</div>
<div class="line"><span class="lineno"> 2718</span>    }</div>
<div class="line"><span class="lineno"> 2719</span>    {</div>
<div class="line"><span class="lineno"> 2720</span>      Formatter::ObjectSection resolved_hints_section(*formatter, <span class="stringliteral">&quot;resolved-hints&quot;</span>);</div>
<div class="line"><span class="lineno"> 2721</span>      <a class="code hl_function" href="rgw__admin_8cc.html#ab596b9e1a1fc78e98a4d13a66578b658">encode_json</a>(<span class="stringliteral">&quot;sources&quot;</span>, handler-&gt;get_resolved_source_hints(), formatter);</div>
<div class="line"><span class="lineno"> 2722</span>      <a class="code hl_function" href="rgw__admin_8cc.html#ab596b9e1a1fc78e98a4d13a66578b658">encode_json</a>(<span class="stringliteral">&quot;dests&quot;</span>, handler-&gt;get_resolved_dest_hints(), formatter);</div>
<div class="line"><span class="lineno"> 2723</span>    }</div>
<div class="line"><span class="lineno"> 2724</span>  }</div>
<div class="line"><span class="lineno"> 2725</span> </div>
<div class="line"><span class="lineno"> 2726</span>  formatter-&gt;flush(cout);</div>
<div class="line"><span class="lineno"> 2727</span> </div>
<div class="line"><span class="lineno"> 2728</span>  <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno"> 2729</span>}</div>
<div class="ttc" id="argw__admin_8cc_html_a68870a41c8445ca90e3f92b4519b8f4d"><div class="ttname"><a href="rgw__admin_8cc.html#a68870a41c8445ca90e3f92b4519b8f4d">validate_zone_id</a></div><div class="ttdeci">rgw_zone_id validate_zone_id(const rgw_zone_id &amp;zone_id)</div><div class="ttdef"><b>Definition</b> <a href="rgw__admin_8cc_source.html#l02613">rgw_admin.cc:2613</a></div></div>
<div class="ttc" id="argw__admin_8cc_html_ac0d34a23b71e61b836ad1f30aea3fe0a"><div class="ttname"><a href="rgw__admin_8cc.html#ac0d34a23b71e61b836ad1f30aea3fe0a">get_hint_entities</a></div><div class="ttdeci">static void get_hint_entities(const std::set&lt; rgw_zone_id &gt; &amp;zones, const std::set&lt; rgw_bucket &gt; &amp;buckets, std::set&lt; rgw_sync_bucket_entity &gt; *hint_entities)</div><div class="ttdef"><b>Definition</b> <a href="rgw__admin_8cc_source.html#l02582">rgw_admin.cc:2582</a></div></div>
<div class="ttc" id="argw__admin_8cc_html_aeb5edee788c0f9992b3b44f626b6f667"><div class="ttname"><a href="rgw__admin_8cc.html#aeb5edee788c0f9992b3b44f626b6f667">convert_bucket_set_to_str_vec</a></div><div class="ttdeci">static std::vector&lt; string &gt; convert_bucket_set_to_str_vec(const std::set&lt; rgw_bucket &gt; &amp;bs)</div><div class="ttdef"><b>Definition</b> <a href="rgw__admin_8cc_source.html#l02572">rgw_admin.cc:2572</a></div></div>
</div><!-- fragment --><div class="dynheader">
이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="rgw__admin_8cc_abfa871472fdef30cd489d5795df05b4d_cgraph.png" border="0" usemap="#argw__admin_8cc_abfa871472fdef30cd489d5795df05b4d_cgraph" alt=""/></div>
<map name="argw__admin_8cc_abfa871472fdef30cd489d5795df05b4d_cgraph" id="argw__admin_8cc_abfa871472fdef30cd489d5795df05b4d_cgraph">
<area shape="rect" title=" " alt="" coords="5,248,82,275"/>
<area shape="rect" href="rgw__admin_8cc.html#aeb5edee788c0f9992b3b44f626b6f667" title=" " alt="" coords="146,5,280,48"/>
<area shape="poly" title=" " alt="" coords="45,247,53,212,69,164,93,112,128,65,139,55,143,59,132,68,98,114,74,166,58,213,50,248"/>
<area shape="rect" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5" title=" " alt="" coords="550,167,592,193"/>
<area shape="poly" title=" " alt="" coords="45,247,54,217,70,178,94,139,110,122,128,108,182,86,239,77,297,79,355,88,410,104,460,122,537,159,535,163,458,127,408,109,354,94,297,84,239,82,183,91,131,113,113,126,98,142,74,180,59,218,50,248"/>
<area shape="rect" href="rgw__admin_8cc.html#ab596b9e1a1fc78e98a4d13a66578b658" title=" " alt="" coords="166,147,260,173"/>
<area shape="poly" title=" " alt="" coords="55,246,86,214,128,183,150,173,152,178,131,188,90,218,59,249"/>
<area shape="rect" href="rgw__admin_8cc.html#ac0d34a23b71e61b836ad1f30aea3fe0a" title=" " alt="" coords="155,197,271,224"/>
<area shape="poly" title=" " alt="" coords="81,247,151,226,153,231,83,253"/>
<area shape="rect" href="rgw__admin_8cc.html#a0023a8779e3ab0d965d9acfb3eb72cac" title=" " alt="" coords="359,223,443,249"/>
<area shape="poly" title=" " alt="" coords="82,256,343,237,343,243,82,261"/>
<area shape="rect" href="classrgw_1_1sal_1_1_zone.html#a7c10e9e3affc168c3782e0bb80f2b4d5" title=" " alt="" coords="140,299,286,325"/>
<area shape="poly" title=" " alt="" coords="83,270,153,291,151,296,81,275"/>
<area shape="rect" href="classrgw_1_1sal_1_1_store.html#a49a7a48f9ae72b8387a24b328fd8e9e4" title=" " alt="" coords="140,349,286,392"/>
<area shape="poly" title=" " alt="" coords="59,273,90,304,131,335,139,340,136,344,128,340,87,308,56,277"/>
<area shape="rect" href="classrgw_1_1sal_1_1_store.html#a7905b89b9f5def056e6b3379637037cc" title=" " alt="" coords="130,416,296,443"/>
<area shape="poly" title=" " alt="" coords="52,274,79,336,102,371,131,402,138,406,134,411,128,406,98,375,74,338,47,276"/>
<area shape="rect" href="rgw__admin_8cc.html#a68870a41c8445ca90e3f92b4519b8f4d" title=" " alt="" coords="155,467,271,493"/>
<area shape="poly" title=" " alt="" coords="49,274,57,310,72,358,96,409,112,432,131,453,142,460,139,465,128,457,108,436,91,412,67,360,52,311,44,275"/>
<area shape="poly" title=" " alt="" coords="184,148,178,138,182,128,194,122,213,120,233,123,244,129,241,134,232,128,213,125,195,127,186,132,184,137,188,145"/>
<area shape="poly" title=" " alt="" coords="271,203,534,180,534,186,272,208"/>
<area shape="poly" title=" " alt="" coords="272,216,343,226,343,231,271,221"/>
<area shape="poly" title=" " alt="" coords="443,220,534,189,536,194,444,225"/>
<area shape="rect" href="classrgw_1_1sal_1_1_store.html#a3308ce50125b19ccdf5ce7f69958bd67" title=" " alt="" coords="505,217,637,260"/>
<area shape="poly" title=" " alt="" coords="443,234,490,235,490,240,443,239"/>
<area shape="rect" href="rgw__admin_8cc.html#abb5c367234c8db13f74b9ce673c1e089" title=" " alt="" coords="344,467,457,493"/>
<area shape="poly" title=" " alt="" coords="271,477,329,477,329,483,271,483"/>
</map>
</div>
<div class="dynheader">
이 함수를 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="rgw__admin_8cc_abfa871472fdef30cd489d5795df05b4d_icgraph.png" border="0" usemap="#argw__admin_8cc_abfa871472fdef30cd489d5795df05b4d_icgraph" alt=""/></div>
<map name="argw__admin_8cc_abfa871472fdef30cd489d5795df05b4d_icgraph" id="argw__admin_8cc_abfa871472fdef30cd489d5795df05b4d_icgraph">
<area shape="rect" title=" " alt="" coords="1029,280,1105,307"/>
<area shape="rect" href="structrgw__data__sync__status.html#a0efc3edb8a9d925394a5836f2e896def" title=" " alt="" coords="812,5,964,48"/>
<area shape="poly" title=" " alt="" coords="1060,265,1053,221,1038,166,1014,111,998,85,979,62,962,49,966,45,983,58,1003,82,1019,108,1043,165,1058,220,1065,264"/>
<area shape="rect" href="structrgw__meta__sync__status.html#ad88c1542f334a6deaabcf2cec315e335" title=" " alt="" coords="810,72,966,115"/>
<area shape="poly" title=" " alt="" coords="1056,266,1029,197,1007,161,979,129,963,117,966,113,982,125,1011,157,1034,195,1061,264"/>
<area shape="rect" href="structrgw__data__sync__status.html#a75f459b743f801688caa14ac8bc5744f" title=" " alt="" coords="812,139,964,181"/>
<area shape="poly" title=" " alt="" coords="1047,268,1018,231,979,195,960,184,962,180,982,191,1022,227,1051,265"/>
<area shape="rect" href="structrgw__data__sync__status.html#acd7ae109a107d8251f757ab43bcdd7f9" title=" " alt="" coords="812,205,964,248"/>
<area shape="poly" title=" " alt="" coords="1015,276,980,262,949,251,951,246,982,258,1017,271"/>
<area shape="rect" href="structrgw__data__sync__status.html#a3e37aa43047f24ad8b2d438d35d04ff2" title=" " alt="" coords="812,272,964,315"/>
<area shape="poly" title=" " alt="" coords="1013,296,964,296,964,291,1013,291"/>
<area shape="rect" href="structrgw__meta__sync__status.html#a551759a5fb384fcd3bd5ebb02844d3a0" title=" " alt="" coords="810,339,966,381"/>
<area shape="poly" title=" " alt="" coords="1017,315,982,329,951,341,949,336,980,324,1015,310"/>
<area shape="rect" href="class_r_g_w_remote_meta_log.html#a0964ba1cde7b10e005105faab2f1cfbc" title=" " alt="" coords="801,405,975,448"/>
<area shape="poly" title=" " alt="" coords="1051,321,1022,359,982,395,962,407,960,402,979,391,1018,356,1047,318"/>
<area shape="rect" href="rgw__admin_8cc.html#a217dbf8b442f20279ea00b898af96f52" title=" " alt="" coords="86,472,135,499"/>
<area shape="poly" title=" " alt="" coords="1063,323,1053,356,1038,395,1014,433,982,462,950,478,908,491,805,508,682,515,550,516,299,504,135,490,136,485,300,499,550,510,682,510,804,502,907,486,948,473,979,458,1010,429,1033,393,1048,355,1058,321"/>
<area shape="rect" href="class_r_g_w_remote_meta_log.html#a8d13af2ee432f0d8cebfa6524809ea51" title=" " alt="" coords="795,523,981,565"/>
<area shape="poly" title=" " alt="" coords="1064,323,1055,362,1039,411,1016,461,983,506,958,524,955,520,979,502,1011,459,1034,409,1050,361,1058,321"/>
<area shape="rect" href="class_r_g_w_meta_sync_status_manager.html#a54e018493477c2cff0cfb7e9dfffc781" title=" " alt="" coords="277,405,477,448"/>
<area shape="poly" title=" " alt="" coords="786,429,477,429,477,424,786,424"/>
<area shape="poly" title=" " alt="" coords="263,454,136,483,135,477,262,449"/>
<area shape="rect" href="class_r_g_w_remote_meta_log.html#acda3cdc36d0f85d5292141bca4cb37a9" title=" " alt="" coords="538,531,747,557"/>
<area shape="poly" title=" " alt="" coords="780,547,748,547,748,541,780,541"/>
<area shape="rect" href="class_r_g_w_meta_sync_status_manager.html#a2e6dcb3f153919994f8b9864c033210a" title=" " alt="" coords="264,531,490,557"/>
<area shape="poly" title=" " alt="" coords="523,547,490,547,490,541,523,541"/>
<area shape="poly" title=" " alt="" coords="297,529,135,493,136,488,298,524"/>
<area shape="rect" href="class_r_g_w_meta_sync_processor_thread.html#abe2acfcf6f22db63d007a86d6c389262" title=" " alt="" coords="5,523,216,565"/>
<area shape="poly" title=" " alt="" coords="248,547,216,547,216,541,248,541"/>
</map>
</div>

</div>
</div>
<a id="a313adbe2d817ca90ee002626049cdacf" name="a313adbe2d817ca90ee002626049cdacf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a313adbe2d817ca90ee002626049cdacf">&#9670;&#160;</a></span>sync_status()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void sync_status </td>
          <td>(</td>
          <td class="paramtype">Formatter *&#160;</td>
          <td class="paramname"><em>formatter</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition"><a class="el" href="rgw__admin_8cc_source.html">rgw_admin.cc</a> 파일의 <a class="el" href="rgw__admin_8cc_source.html#l02422">2422</a> 번째 라인에서 정의되었습니다.</p>
<div class="fragment"><div class="line"><span class="lineno"> 2423</span>{</div>
<div class="line"><span class="lineno"> 2424</span>  <span class="keyword">const</span> <a class="code hl_class" href="class_r_g_w_realm.html">RGWRealm</a>&amp; realm = <a class="code hl_variable" href="rgw__admin_8cc.html#a6fdb26d64b14d837b60e83a6ca3e2863">store</a>-&gt;<a class="code hl_function" href="classrgw_1_1sal_1_1_store.html#a7905b89b9f5def056e6b3379637037cc">get_zone</a>()-&gt;<a class="code hl_function" href="classrgw_1_1sal_1_1_zone.html#a9234806eedc8e3bc03f4b51073abe746">get_realm</a>();</div>
<div class="line"><span class="lineno"> 2425</span>  <span class="keyword">const</span> <a class="code hl_struct" href="struct_r_g_w_zone_group.html">RGWZoneGroup</a>&amp; zonegroup = <a class="code hl_variable" href="rgw__admin_8cc.html#a6fdb26d64b14d837b60e83a6ca3e2863">store</a>-&gt;<a class="code hl_function" href="classrgw_1_1sal_1_1_store.html#a7905b89b9f5def056e6b3379637037cc">get_zone</a>()-&gt;<a class="code hl_function" href="classrgw_1_1sal_1_1_zone.html#af387da06889ce1c43ccc37f64fc373a6">get_zonegroup</a>();</div>
<div class="line"><span class="lineno"> 2426</span>  <span class="keyword">const</span> <a class="code hl_struct" href="struct_r_g_w_zone.html">RGWZone</a>&amp; zone = <span class="keyword">static_cast&lt;</span><a class="code hl_class" href="classrgw_1_1sal_1_1_rados_store.html">rgw::sal::RadosStore</a>*<span class="keyword">&gt;</span>(<a class="code hl_variable" href="rgw__admin_8cc.html#a6fdb26d64b14d837b60e83a6ca3e2863">store</a>)-&gt;svc()-&gt;<a class="code hl_variable" href="classrgw_1_1sal_1_1_rados_store.html#a0a94e58a4595ab519b4c3f89d33419fe">zone</a>-&gt;get_zone();</div>
<div class="line"><span class="lineno"> 2427</span> </div>
<div class="line"><span class="lineno"> 2428</span>  <span class="keywordtype">int</span> width = 15;</div>
<div class="line"><span class="lineno"> 2429</span> </div>
<div class="line"><span class="lineno"> 2430</span>  cout &lt;&lt; std::setw(width) &lt;&lt; <span class="stringliteral">&quot;realm&quot;</span> &lt;&lt; std::setw(1) &lt;&lt; <span class="stringliteral">&quot; &quot;</span> &lt;&lt; realm.<a class="code hl_function" href="class_r_g_w_system_meta_obj.html#ab885e5d275a5396cc473703ab55f50b1">get_id</a>() &lt;&lt; <span class="stringliteral">&quot; (&quot;</span> &lt;&lt; realm.<a class="code hl_function" href="class_r_g_w_system_meta_obj.html#a333abaa7960a2c63b4341d5f9ec500bf">get_name</a>() &lt;&lt; <span class="stringliteral">&quot;)&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 2431</span>  cout &lt;&lt; std::setw(width) &lt;&lt; <span class="stringliteral">&quot;zonegroup&quot;</span> &lt;&lt; std::setw(1) &lt;&lt; <span class="stringliteral">&quot; &quot;</span> &lt;&lt; zonegroup.<a class="code hl_function" href="class_r_g_w_system_meta_obj.html#ab885e5d275a5396cc473703ab55f50b1">get_id</a>() &lt;&lt; <span class="stringliteral">&quot; (&quot;</span> &lt;&lt; zonegroup.<a class="code hl_function" href="class_r_g_w_system_meta_obj.html#a333abaa7960a2c63b4341d5f9ec500bf">get_name</a>() &lt;&lt; <span class="stringliteral">&quot;)&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 2432</span>  cout &lt;&lt; std::setw(width) &lt;&lt; <span class="stringliteral">&quot;zone&quot;</span> &lt;&lt; std::setw(1) &lt;&lt; <span class="stringliteral">&quot; &quot;</span> &lt;&lt; zone.<a class="code hl_variable" href="struct_r_g_w_zone.html#a411cd69531b0b2651a703ce470e3a2f2">id</a> &lt;&lt; <span class="stringliteral">&quot; (&quot;</span> &lt;&lt; zone.<a class="code hl_variable" href="struct_r_g_w_zone.html#a8d9d72ea420eae9a875197afccc71a28">name</a> &lt;&lt; <span class="stringliteral">&quot;)&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 2433</span> </div>
<div class="line"><span class="lineno"> 2434</span>  list&lt;string&gt; md_status;</div>
<div class="line"><span class="lineno"> 2435</span> </div>
<div class="line"><span class="lineno"> 2436</span>  <span class="keywordflow">if</span> (<a class="code hl_variable" href="rgw__admin_8cc.html#a6fdb26d64b14d837b60e83a6ca3e2863">store</a>-&gt;<a class="code hl_function" href="classrgw_1_1sal_1_1_store.html#a3f47faa0a9863670b57ba81b229918f8">is_meta_master</a>()) {</div>
<div class="line"><span class="lineno"> 2437</span>    md_status.push_back(<span class="stringliteral">&quot;no sync (zone is master)&quot;</span>);</div>
<div class="line"><span class="lineno"> 2438</span>  } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 2439</span>    <a class="code hl_function" href="rgw__admin_8cc.html#addb2515e11fb8fc09013757e769993e6">get_md_sync_status</a>(md_status);</div>
<div class="line"><span class="lineno"> 2440</span>  }</div>
<div class="line"><span class="lineno"> 2441</span> </div>
<div class="line"><span class="lineno"> 2442</span>  <a class="code hl_function" href="rgw__admin_8cc.html#a034e61ce17b52c12f92c0fe2cf0cbf9a">tab_dump</a>(<span class="stringliteral">&quot;metadata sync&quot;</span>, width, md_status);</div>
<div class="line"><span class="lineno"> 2443</span> </div>
<div class="line"><span class="lineno"> 2444</span>  list&lt;string&gt; data_status;</div>
<div class="line"><span class="lineno"> 2445</span> </div>
<div class="line"><span class="lineno"> 2446</span>  <span class="keyword">auto</span>&amp; zone_conn_map = <span class="keyword">static_cast&lt;</span><a class="code hl_class" href="classrgw_1_1sal_1_1_rados_store.html">rgw::sal::RadosStore</a>*<span class="keyword">&gt;</span>(<a class="code hl_variable" href="rgw__admin_8cc.html#a6fdb26d64b14d837b60e83a6ca3e2863">store</a>)-&gt;svc()-&gt;<a class="code hl_variable" href="classrgw_1_1sal_1_1_rados_store.html#a0a94e58a4595ab519b4c3f89d33419fe">zone</a>-&gt;get_zone_conn_map();</div>
<div class="line"><span class="lineno"> 2447</span> </div>
<div class="line"><span class="lineno"> 2448</span>  <span class="keywordflow">for</span> (<span class="keyword">auto</span> iter : zone_conn_map) {</div>
<div class="line"><span class="lineno"> 2449</span>    <span class="keyword">const</span> <a class="code hl_struct" href="structrgw__zone__id.html">rgw_zone_id</a>&amp; source_id = iter.first;</div>
<div class="line"><span class="lineno"> 2450</span>    <span class="keywordtype">string</span> source_str = <span class="stringliteral">&quot;source: &quot;</span>;</div>
<div class="line"><span class="lineno"> 2451</span>    <span class="keywordtype">string</span> s = source_str + source_id.<a class="code hl_variable" href="structrgw__zone__id.html#a9d7f1a223c9b66a551119d51a04fbda9">id</a>;</div>
<div class="line"><span class="lineno"> 2452</span>    <a class="code hl_struct" href="struct_r_g_w_zone.html">RGWZone</a> *sz;</div>
<div class="line"><span class="lineno"> 2453</span>    <span class="keywordflow">if</span> (<span class="keyword">static_cast&lt;</span><a class="code hl_class" href="classrgw_1_1sal_1_1_rados_store.html">rgw::sal::RadosStore</a>*<span class="keyword">&gt;</span>(<a class="code hl_variable" href="rgw__admin_8cc.html#a6fdb26d64b14d837b60e83a6ca3e2863">store</a>)-&gt;svc()-&gt;zone-&gt;find_zone(source_id, &amp;sz)) {</div>
<div class="line"><span class="lineno"> 2454</span>      s += <a class="code hl_enumvalue" href="namespacergw_1_1_i_a_m.html#a16270dabfb0f449a033dc28091504510ab45cffe084dd3d20d928bee85e7b0f21">string</a>(<span class="stringliteral">&quot; (&quot;</span>) + sz-&gt;<a class="code hl_variable" href="struct_r_g_w_zone.html#a8d9d72ea420eae9a875197afccc71a28">name</a> + <span class="stringliteral">&quot;)&quot;</span>;</div>
<div class="line"><span class="lineno"> 2455</span>    }</div>
<div class="line"><span class="lineno"> 2456</span>    data_status.push_back(s);</div>
<div class="line"><span class="lineno"> 2457</span>    <a class="code hl_function" href="rgw__admin_8cc.html#a72e671e3f52c5bce91c050a50dcbc75a">get_data_sync_status</a>(source_id, data_status, source_str.size());</div>
<div class="line"><span class="lineno"> 2458</span>  }</div>
<div class="line"><span class="lineno"> 2459</span> </div>
<div class="line"><span class="lineno"> 2460</span>  <a class="code hl_function" href="rgw__admin_8cc.html#a034e61ce17b52c12f92c0fe2cf0cbf9a">tab_dump</a>(<span class="stringliteral">&quot;data sync&quot;</span>, width, data_status);</div>
<div class="line"><span class="lineno"> 2461</span>}</div>
<div class="ttc" id="argw__admin_8cc_html_a034e61ce17b52c12f92c0fe2cf0cbf9a"><div class="ttname"><a href="rgw__admin_8cc.html#a034e61ce17b52c12f92c0fe2cf0cbf9a">tab_dump</a></div><div class="ttdeci">static void tab_dump(const string &amp;header, int width, const list&lt; string &gt; &amp;entries)</div><div class="ttdef"><b>Definition</b> <a href="rgw__admin_8cc_source.html#l02411">rgw_admin.cc:2411</a></div></div>
<div class="ttc" id="argw__admin_8cc_html_a72e671e3f52c5bce91c050a50dcbc75a"><div class="ttname"><a href="rgw__admin_8cc.html#a72e671e3f52c5bce91c050a50dcbc75a">get_data_sync_status</a></div><div class="ttdeci">static void get_data_sync_status(const rgw_zone_id &amp;source_zone, list&lt; string &gt; &amp;status, int tab)</div><div class="ttdef"><b>Definition</b> <a href="rgw__admin_8cc_source.html#l02251">rgw_admin.cc:2251</a></div></div>
<div class="ttc" id="argw__admin_8cc_html_addb2515e11fb8fc09013757e769993e6"><div class="ttname"><a href="rgw__admin_8cc.html#addb2515e11fb8fc09013757e769993e6">get_md_sync_status</a></div><div class="ttdeci">static void get_md_sync_status(list&lt; string &gt; &amp;status)</div><div class="ttdef"><b>Definition</b> <a href="rgw__admin_8cc_source.html#l02110">rgw_admin.cc:2110</a></div></div>
<div class="ttc" id="astructrgw__zone__id_html_a9d7f1a223c9b66a551119d51a04fbda9"><div class="ttname"><a href="structrgw__zone__id.html#a9d7f1a223c9b66a551119d51a04fbda9">rgw_zone_id::id</a></div><div class="ttdeci">std::string id</div><div class="ttdef"><b>Definition</b> <a href="rgw__basic__types_8h_source.html#l00466">rgw_basic_types.h:466</a></div></div>
</div><!-- fragment --><div class="dynheader">
이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="rgw__admin_8cc_a313adbe2d817ca90ee002626049cdacf_cgraph.png" border="0" usemap="#argw__admin_8cc_a313adbe2d817ca90ee002626049cdacf_cgraph" alt=""/></div>
<map name="argw__admin_8cc_a313adbe2d817ca90ee002626049cdacf_cgraph" id="argw__admin_8cc_a313adbe2d817ca90ee002626049cdacf_cgraph">
<area shape="rect" title=" " alt="" coords="5,811,98,837"/>
<area shape="rect" href="class_r_g_w_s_i___zone.html#a73caac1a5db730b5558f5cee51fb892e" title=" " alt="" coords="170,5,334,32"/>
<area shape="poly" title=" " alt="" coords="50,811,49,670,58,441,68,320,85,207,110,113,126,77,144,49,155,38,159,42,148,52,130,79,115,115,91,208,74,320,63,441,55,670,55,811"/>
<area shape="rect" href="rgw__admin_8cc.html#a72e671e3f52c5bce91c050a50dcbc75a" title=" " alt="" coords="432,512,581,539"/>
<area shape="poly" title=" " alt="" coords="52,810,60,770,76,717,103,661,122,635,144,613,174,591,208,573,279,549,351,535,416,529,416,534,351,541,280,554,210,578,177,595,147,617,126,638,108,664,81,719,65,772,58,811"/>
<area shape="rect" href="classrgw_1_1sal_1_1_rados_store.html#abe4f0602b771d5549a02c0a326d6a832" title=" " alt="" coords="1173,1315,1342,1341"/>
<area shape="poly" title=" " alt="" coords="72,836,106,858,147,879,178,888,208,890,262,887,287,886,312,890,336,902,360,924,379,954,391,992,398,1037,401,1087,397,1201,385,1323,374,1446,369,1559,372,1609,378,1653,390,1690,408,1720,434,1742,469,1760,512,1775,561,1787,673,1801,792,1805,908,1802,1008,1794,1080,1785,1113,1776,1137,1748,1161,1703,1182,1645,1201,1582,1231,1453,1249,1356,1254,1357,1236,1454,1206,1583,1187,1647,1166,1705,1142,1751,1115,1781,1081,1790,1008,1799,908,1807,792,1810,672,1806,560,1792,510,1780,467,1765,431,1746,404,1723,385,1693,373,1654,366,1609,364,1559,368,1445,380,1323,391,1200,396,1087,393,1037,386,993,374,956,356,927,333,906,310,895,287,891,262,892,208,896,177,893,145,884,103,863,70,840"/>
<area shape="rect" href="class_r_g_w_system_meta_obj.html#ab885e5d275a5396cc473703ab55f50b1" title=" " alt="" coords="157,937,347,964"/>
<area shape="poly" title=" " alt="" coords="65,836,98,876,121,898,147,916,174,929,172,934,144,921,118,902,95,880,61,839"/>
<area shape="rect" href="rgw__admin_8cc.html#addb2515e11fb8fc09013757e769993e6" title=" " alt="" coords="181,785,323,812"/>
<area shape="poly" title=" " alt="" coords="98,823,187,813,188,818,98,829"/>
<area shape="rect" href="class_r_g_w_system_meta_obj.html#a333abaa7960a2c63b4341d5f9ec500bf" title=" " alt="" coords="146,988,358,1015"/>
<area shape="poly" title=" " alt="" coords="60,837,71,866,89,903,114,942,147,974,155,979,152,983,144,978,110,945,84,906,66,868,55,839"/>
<area shape="rect" href="classrgw_1_1sal_1_1_zone.html#a9234806eedc8e3bc03f4b51073abe746" title=" " alt="" coords="188,1039,316,1081"/>
<area shape="poly" title=" " alt="" coords="58,837,66,874,83,925,109,978,127,1003,147,1025,174,1041,172,1046,144,1029,123,1006,105,981,78,927,61,876,53,838"/>
<area shape="rect" href="classrgw_1_1sal_1_1_store.html#a7905b89b9f5def056e6b3379637037cc" title=" " alt="" coords="169,1105,335,1132"/>
<area shape="poly" title=" " alt="" coords="56,837,60,886,73,955,85,992,101,1028,121,1062,147,1091,157,1098,153,1103,144,1095,117,1065,96,1031,80,994,68,956,55,887,51,838"/>
<area shape="rect" href="classrgw_1_1sal_1_1_zone.html#af387da06889ce1c43ccc37f64fc373a6" title=" " alt="" coords="188,1156,316,1199"/>
<area shape="poly" title=" " alt="" coords="55,838,57,893,69,975,80,1020,97,1064,119,1106,147,1142,175,1160,172,1165,144,1146,114,1109,92,1066,75,1021,64,976,52,894,50,838"/>
<area shape="rect" href="classrgw_1_1sal_1_1_store.html#a3f47faa0a9863670b57ba81b229918f8" title=" " alt="" coords="190,1223,314,1265"/>
<area shape="poly" title=" " alt="" coords="57,838,67,914,86,1026,113,1137,129,1180,148,1209,161,1220,177,1228,174,1233,158,1224,144,1212,125,1182,108,1138,80,1027,62,915,52,838"/>
<area shape="rect" href="rgw__admin_8cc.html#a034e61ce17b52c12f92c0fe2cf0cbf9a" title=" " alt="" coords="213,1289,291,1316"/>
<area shape="poly" title=" " alt="" coords="56,837,64,926,80,1058,93,1127,108,1190,126,1241,148,1275,170,1291,198,1299,196,1304,168,1296,144,1279,121,1244,103,1191,87,1128,75,1059,58,926,51,838"/>
<area shape="poly" title=" " alt="" coords="431,516,364,518,289,529,251,539,214,552,179,570,147,593,126,614,108,639,82,694,66,750,58,796,53,795,61,749,77,693,104,636,122,611,144,589,176,566,212,548,250,534,288,523,364,512,431,511"/>
<area shape="rect" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5" title=" " alt="" coords="989,604,1031,631"/>
<area shape="poly" title=" " alt="" coords="582,535,858,584,974,607,973,612,857,589,581,540"/>
<area shape="rect" href="rgw__admin_8cc.html#ab16e28e9c42b6a21c90152929eb41c23" title=" " alt="" coords="975,760,1045,787"/>
<area shape="poly" title=" " alt="" coords="537,537,591,561,655,584,712,597,759,600,804,607,859,628,899,654,936,686,991,746,987,749,932,690,896,659,856,633,803,612,758,606,711,602,654,589,589,566,535,542"/>
<area shape="rect" href="class_r_g_w_s_i___zone.html#af5de622b773633e08320d2ea30fce20b" title=" " alt="" coords="675,424,837,451"/>
<area shape="poly" title=" " alt="" coords="535,509,589,485,653,460,678,453,679,458,655,465,592,490,537,514"/>
<area shape="rect" href="class_r_g_w_data_sync_status_manager.html#a764ce37941de877e561259df11b17c40" title=" " alt="" coords="657,291,855,333"/>
<area shape="poly" title=" " alt="" coords="513,510,533,476,564,432,605,384,653,343,660,338,663,343,656,347,609,388,569,435,538,479,517,513"/>
<area shape="rect" href="rgw__admin_8cc.html#abc5dd9e1ee4071fba1cbd66896f8200c" title=" " alt="" coords="721,760,791,787"/>
<area shape="poly" title=" " alt="" coords="520,537,575,608,614,652,656,695,723,749,720,753,653,699,610,656,571,611,516,541"/>
<area shape="rect" href="class_r_g_w_data_sync_status_manager.html#a4684216d3677eceef89f14ce874d245f" title=" " alt="" coords="657,357,855,400"/>
<area shape="poly" title=" " alt="" coords="520,510,576,462,613,434,653,410,664,404,667,409,656,414,616,438,579,466,524,514"/>
<area shape="rect" href="class_r_g_w_data_sync_status_manager.html#ad03dec1feee37e716afa3e6b97b05c60" title=" " alt="" coords="657,224,855,267"/>
<area shape="poly" title=" " alt="" coords="513,510,585,381,625,314,652,277,657,273,661,277,656,281,630,317,589,384,517,513"/>
<area shape="rect" href="class_r_g_w_data_sync_status_manager.html#a896d0bd248f83318f306e477e67a2d65" title=" " alt="" coords="655,475,857,517"/>
<area shape="poly" title=" " alt="" coords="581,514,639,507,640,512,582,519"/>
<area shape="rect" href="class_r_g_w_data_sync_status_manager.html#a1e9f01ad9a9aa457c3783b3dfa4c07f0" title=" " alt="" coords="657,157,855,200"/>
<area shape="poly" title=" " alt="" coords="514,510,555,440,604,344,616,306,621,273,629,242,652,210,655,208,659,212,656,214,634,244,626,274,621,307,609,346,559,443,518,513"/>
<area shape="poly" title=" " alt="" coords="510,539,511,629,516,696,526,773,544,854,570,936,607,1013,630,1049,656,1082,726,1113,882,1177,1208,1306,1206,1311,880,1182,724,1118,653,1086,626,1052,603,1016,565,937,539,855,521,774,510,697,505,629,504,539"/>
<area shape="poly" title=" " alt="" coords="846,332,860,344,879,372,888,401,889,429,886,456,883,484,884,511,891,539,908,568,922,582,939,592,975,607,973,612,936,597,919,586,904,571,886,541,878,512,878,483,881,456,883,428,882,402,874,375,856,347,843,336"/>
<area shape="rect" href="classrgw_1_1sal_1_1_store.html#a959e7355bd4c432ddd0cd8fbab7e40c7" title=" " alt="" coords="944,315,1076,357"/>
<area shape="poly" title=" " alt="" coords="856,319,929,326,929,331,855,324"/>
<area shape="poly" title=" " alt="" coords="792,771,959,771,959,776,792,776"/>
<area shape="poly" title=" " alt="" coords="845,399,860,410,875,430,883,450,885,489,888,528,894,548,908,568,922,581,939,592,975,607,973,611,937,596,919,585,904,571,890,550,883,529,880,490,877,451,870,433,856,414,842,403"/>
<area shape="rect" href="class_r_g_w_remote_data_log.html#a0ea09aa59ca21fd4fd5ba02afc95c4a4" title=" " alt="" coords="920,381,1100,424"/>
<area shape="poly" title=" " alt="" coords="856,385,905,390,905,395,855,391"/>
<area shape="rect" href="class_r_g_w_coroutines_manager.html#a5938252866722d88fcb0b58d840ca37b" title=" " alt="" coords="1175,381,1340,424"/>
<area shape="poly" title=" " alt="" coords="1100,400,1160,400,1160,405,1100,405"/>
<area shape="rect" href="class_r_g_w_coroutines_manager.html#a38ec9d44810bfd9ad15dad3a30cb091a" title=" " alt="" coords="1162,499,1353,525"/>
<area shape="poly" title=" " alt="" coords="1093,422,1115,434,1131,447,1140,460,1149,473,1163,484,1174,490,1172,495,1161,489,1145,476,1136,463,1127,450,1113,438,1091,427"/>
<area shape="rect" href="class_r_g_w_h_t_t_p_manager.html#ad3b97916e94fd7dbbcd870b1bfceddf4" title=" " alt="" coords="1173,448,1342,475"/>
<area shape="poly" title=" " alt="" coords="1101,421,1184,441,1182,446,1099,427"/>
<area shape="rect" href="class_r_g_w_h_t_t_p_manager.html#a28da2691e647f536b1aa88a23cfb8309" title=" " alt="" coords="1174,331,1342,357"/>
<area shape="poly" title=" " alt="" coords="1099,379,1182,359,1184,364,1101,384"/>
<area shape="poly" title=" " alt="" coords="847,265,860,277,883,314,893,351,892,387,887,423,881,458,879,494,887,530,908,568,922,582,938,593,975,607,973,612,936,598,918,586,904,571,882,532,874,494,875,458,881,422,887,387,887,352,878,317,856,280,843,269"/>
<area shape="rect" href="class_r_g_w_remote_data_log.html#a9f19c1c5e5812c645d187daa4a30dd23" title=" " alt="" coords="920,248,1100,291"/>
<area shape="poly" title=" " alt="" coords="856,252,905,257,905,262,855,257"/>
<area shape="poly" title=" " alt="" coords="1102,289,1116,301,1133,325,1140,349,1140,395,1139,418,1140,441,1148,463,1164,485,1167,488,1163,491,1160,488,1143,465,1135,442,1133,418,1135,395,1135,349,1128,327,1112,304,1098,293"/>
<area shape="rect" href="class_r_g_w_remote_data_log.html#a8c47be64773374c277c2a83f595f9c3e" title=" " alt="" coords="1168,248,1347,291"/>
<area shape="poly" title=" " alt="" coords="1100,267,1152,267,1152,272,1100,272"/>
<area shape="poly" title=" " alt="" coords="820,516,859,534,883,550,907,567,976,601,973,606,904,572,880,555,856,538,818,520"/>
<area shape="rect" href="class_r_g_w_remote_data_log.html#ad0f10a47ac00d2b84a7ee68983d039a2" title=" " alt="" coords="920,515,1100,557"/>
<area shape="poly" title=" " alt="" coords="858,509,905,517,904,522,857,515"/>
<area shape="poly" title=" " alt="" coords="1100,525,1146,520,1147,525,1100,530"/>
<area shape="poly" title=" " alt="" coords="684,203,566,247,496,279,421,317,346,361,273,413,206,471,148,536,126,568,109,603,82,675,66,743,58,796,53,795,61,742,77,674,104,601,122,565,144,533,203,467,270,409,343,357,419,312,493,274,564,242,682,198"/>
<area shape="poly" title=" " alt="" coords="847,199,860,210,876,234,888,257,898,302,895,346,887,389,878,432,875,476,883,521,893,544,908,568,922,582,938,593,974,608,972,613,936,598,918,586,904,571,888,547,878,523,870,477,873,432,882,388,890,345,892,302,883,258,872,236,856,214,843,202"/>
<area shape="rect" href="class_r_g_w_remote_data_log.html#ad7c62d2805330625048edb27c009b46d" title=" " alt="" coords="920,181,1100,224"/>
<area shape="poly" title=" " alt="" coords="856,185,905,190,905,195,855,191"/>
<area shape="poly" title=" " alt="" coords="981,183,926,145,892,128,857,115,801,103,757,102,655,115,493,128,425,136,363,149,306,170,252,202,200,248,148,312,128,351,111,407,84,547,67,691,57,796,52,795,61,690,79,547,106,406,123,349,143,309,196,245,249,198,304,165,361,144,424,131,493,123,654,109,757,97,802,98,858,109,894,123,929,141,984,179"/>
<area shape="poly" title=" " alt="" coords="1100,222,1116,234,1130,251,1137,268,1141,302,1145,335,1151,351,1164,368,1167,370,1163,374,1160,371,1147,354,1139,337,1136,303,1132,270,1125,254,1112,238,1097,227"/>
<area shape="poly" title=" " alt="" coords="1102,222,1116,234,1137,267,1145,299,1144,331,1140,362,1135,393,1135,424,1143,454,1164,485,1166,487,1163,491,1160,488,1138,457,1130,425,1130,393,1135,362,1139,331,1140,300,1132,269,1112,238,1098,226"/>
<area shape="poly" title=" " alt="" coords="1101,222,1116,234,1134,260,1141,286,1142,312,1140,337,1138,362,1139,386,1147,410,1164,434,1167,437,1163,441,1160,438,1142,413,1134,387,1132,362,1135,336,1137,311,1136,287,1129,262,1112,238,1098,226"/>
<area shape="poly" title=" " alt="" coords="1096,222,1116,234,1132,251,1141,268,1149,284,1164,301,1199,322,1196,326,1160,305,1144,287,1136,270,1128,254,1112,238,1093,227"/>
<area shape="poly" title=" " alt="" coords="181,802,113,811,113,805,180,796"/>
<area shape="poly" title=" " alt="" coords="319,782,406,765,534,748,634,741,733,728,790,715,857,695,920,667,974,637,976,642,923,672,859,700,792,720,734,733,635,746,534,754,406,771,320,787"/>
<area shape="poly" title=" " alt="" coords="324,800,561,806,709,804,857,796,959,781,960,786,858,801,709,809,561,811,324,805"/>
<area shape="poly" title=" " alt="" coords="323,792,705,773,705,778,324,798"/>
<area shape="rect" href="classrgw_1_1sal_1_1_rados_zone.html#ad18d7553c6c28ae7215718f16e0ce679" title=" " alt="" coords="430,1667,583,1709"/>
<area shape="poly" title=" " alt="" coords="282,810,324,838,344,858,360,880,384,930,398,975,404,1016,404,1056,401,1140,402,1188,409,1244,457,1476,498,1651,493,1653,451,1478,403,1244,396,1188,395,1140,399,1056,398,1016,393,976,380,932,356,883,340,861,320,842,279,815"/>
<area shape="rect" href="class_r_g_w_meta_sync_status_manager.html#a16720f99e7f45e7c16f6a72acf0cae80" title=" " alt="" coords="406,1189,606,1232"/>
<area shape="poly" title=" " alt="" coords="325,807,343,816,360,829,378,851,388,872,395,914,397,958,401,983,409,1010,448,1100,487,1175,483,1177,443,1102,403,1012,395,984,392,958,390,914,383,874,373,854,356,833,341,820,322,812"/>
<area shape="rect" href="class_r_g_w_meta_sync_status_manager.html#a5b874bd603d866e6b588092efcaad4c3" title=" " alt="" coords="656,643,856,685"/>
<area shape="poly" title=" " alt="" coords="268,783,326,741,364,719,405,701,464,685,525,673,640,662,640,667,526,678,465,690,407,707,367,724,329,746,271,787"/>
<area shape="rect" href="class_r_g_w_meta_sync_status_manager.html#a5ba091b9ce8f9c059a3c6de80638e73f" title=" " alt="" coords="656,861,856,904"/>
<area shape="poly" title=" " alt="" coords="299,810,407,840,527,859,640,872,640,877,526,865,405,845,298,815"/>
<area shape="rect" href="class_r_g_w_meta_sync_status_manager.html#a01e0256f35bb9ea0a0684fe687c73463" title=" " alt="" coords="654,1029,858,1072"/>
<area shape="poly" title=" " alt="" coords="317,810,359,828,375,840,384,851,408,874,479,919,553,959,686,1020,684,1025,551,964,476,924,404,878,381,854,371,844,357,833,315,815"/>
<area shape="poly" title=" " alt="" coords="561,1707,672,1743,741,1760,816,1771,894,1775,972,1768,1009,1759,1045,1748,1080,1732,1112,1711,1152,1675,1184,1630,1208,1581,1226,1530,1238,1479,1246,1431,1253,1356,1258,1357,1252,1432,1244,1480,1231,1531,1213,1583,1188,1633,1156,1678,1116,1715,1082,1736,1047,1752,1010,1765,972,1773,894,1780,816,1776,740,1765,670,1748,559,1712"/>
<area shape="rect" href="class_r_g_w_s_i___zone.html#a0e9f0f7357c948c4d6af8df223740522" title=" " alt="" coords="669,1667,843,1709"/>
<area shape="poly" title=" " alt="" coords="583,1685,654,1685,654,1691,583,1691"/>
<area shape="rect" href="class_r_g_w_period.html#a2d8588f2db7c5bcf8d79bde99ac341c0" title=" " alt="" coords="943,1675,1077,1701"/>
<area shape="poly" title=" " alt="" coords="843,1685,928,1685,928,1691,843,1691"/>
<area shape="poly" title=" " alt="" coords="493,1190,404,990,393,957,387,930,378,907,356,883,339,873,314,864,250,849,113,831,113,826,251,844,316,859,341,869,360,879,382,904,392,929,398,956,408,988,497,1188"/>
<area shape="poly" title=" " alt="" coords="515,1188,536,1150,566,1103,605,1055,653,1015,682,1001,710,995,761,995,785,996,809,993,832,984,856,965,876,939,886,914,889,890,889,864,887,810,892,780,903,747,920,716,941,687,981,640,985,644,945,690,925,719,908,749,897,781,893,810,894,864,895,890,891,916,880,942,860,969,835,988,810,998,785,1001,761,1000,710,1000,684,1006,656,1020,609,1059,570,1106,540,1153,520,1190"/>
<area shape="poly" title=" " alt="" coords="510,1232,516,1307,524,1356,536,1410,555,1464,580,1517,613,1564,656,1602,695,1623,736,1636,778,1639,820,1635,863,1625,906,1609,990,1564,1068,1508,1137,1449,1193,1394,1233,1351,1237,1355,1197,1398,1141,1453,1072,1512,993,1569,909,1614,865,1630,821,1641,778,1645,735,1641,693,1628,653,1606,609,1567,575,1520,550,1467,531,1411,519,1357,511,1307,505,1232"/>
<area shape="rect" href="class_r_g_w_s_i___zone.html#afe763829ce716720925bc195a9cec1c3" title=" " alt="" coords="906,1285,1114,1312"/>
<area shape="poly" title=" " alt="" coords="607,1225,915,1279,914,1285,606,1231"/>
<area shape="rect" href="class_r_g_w_rados.html#a37788b697bc88b3d2f6ef16257ca69b1" title=" " alt="" coords="678,1365,834,1408"/>
<area shape="poly" title=" " alt="" coords="527,1231,580,1290,616,1323,656,1351,666,1357,663,1361,653,1356,613,1327,577,1294,523,1234"/>
<area shape="rect" href="class_r_g_w_remote_meta_log.html#aa952316ea008fd8106a5fefe448618bb" title=" " alt="" coords="669,1483,843,1525"/>
<area shape="poly" title=" " alt="" coords="516,1231,533,1280,562,1344,603,1411,628,1442,656,1469,661,1472,657,1476,653,1473,624,1445,598,1414,557,1347,528,1282,511,1233"/>
<area shape="rect" href="class_r_g_w_s_i___zone.html#a0ade599544ff866a0e9292f49c1ad179" title=" " alt="" coords="675,1549,837,1592"/>
<area shape="poly" title=" " alt="" coords="514,1232,527,1292,553,1373,572,1417,595,1460,623,1500,656,1535,664,1542,661,1546,653,1539,619,1504,591,1463,567,1419,548,1375,522,1293,508,1233"/>
<area shape="rect" href="classrgw_1_1sal_1_1_rados_store.html#aca5c28bc0f22f3f963d0475b594350e1" title=" " alt="" coords="1187,637,1329,680"/>
<area shape="poly" title=" " alt="" coords="572,1186,704,1140,857,1081,933,1056,995,1038,1023,1028,1051,1013,1081,993,1112,965,1140,933,1164,899,1202,824,1229,752,1246,694,1251,696,1234,754,1207,826,1168,901,1144,937,1116,969,1084,997,1054,1018,1026,1033,997,1043,935,1061,859,1087,706,1145,574,1191"/>
<area shape="rect" href="class_r_g_w_remote_meta_log.html#a8ab8b3b9a62246c7c2b9e598fecf8d04" title=" " alt="" coords="669,1432,843,1459"/>
<area shape="poly" title=" " alt="" coords="519,1231,538,1272,568,1322,607,1374,630,1398,656,1418,664,1423,661,1427,653,1422,627,1402,603,1378,563,1325,533,1274,514,1233"/>
<area shape="rect" href="class_r_g_w_s_i___zone.html#a7f1e75d0c6d2ae5d2916e0ecbbc5e1ea" title=" " alt="" coords="1181,1021,1335,1064"/>
<area shape="poly" title=" " alt="" coords="607,1209,714,1205,842,1193,979,1170,1047,1153,1113,1132,1169,1105,1217,1072,1220,1076,1172,1109,1115,1137,1049,1158,981,1175,843,1198,714,1210,607,1214"/>
<area shape="poly" title=" " alt="" coords="507,1189,520,1111,545,998,564,934,588,869,617,806,652,746,677,717,706,693,709,697,681,721,657,750,622,808,593,871,570,936,551,999,525,1112,513,1189"/>
<area shape="rect" href="rgw__tools_8cc.html#a1b991fc581ae47229ff5e44c3a5e5aac" title=" " alt="" coords="706,928,806,955"/>
<area shape="poly" title=" " alt="" coords="513,1188,531,1143,560,1084,601,1024,625,996,653,971,690,952,692,957,656,976,629,999,605,1027,565,1087,536,1145,518,1190"/>
<area shape="rect" href="struct_r_g_w_meta_sync_env.html#ac372e8cc10cda802d7b2f33374a467ca" title=" " alt="" coords="669,1299,843,1341"/>
<area shape="poly" title=" " alt="" coords="553,1230,655,1278,685,1290,683,1295,653,1282,551,1235"/>
<area shape="poly" title=" " alt="" coords="841,1430,856,1418,868,1400,876,1376,885,1315,886,1242,883,1163,879,1083,878,1009,885,946,893,920,903,898,927,873,953,858,981,850,1009,846,1036,842,1063,835,1088,821,1112,797,1134,756,1141,717,1138,678,1131,640,1125,602,1124,563,1134,524,1160,485,1162,483,1166,486,1164,488,1139,527,1129,564,1130,601,1137,639,1144,678,1146,717,1139,758,1116,800,1092,825,1065,840,1037,847,1009,851,982,855,955,863,931,877,908,902,898,922,890,947,884,1009,884,1083,888,1163,891,1242,890,1315,881,1377,872,1402,860,1422,845,1434"/>
<area shape="poly" title=" " alt="" coords="816,1429,1181,1343,1183,1348,817,1434"/>
<area shape="poly" title=" " alt="" coords="832,1429,856,1418,871,1406,881,1394,890,1381,904,1366,970,1318,974,1323,907,1370,894,1384,885,1397,875,1410,859,1422,834,1434"/>
<area shape="poly" title=" " alt="" coords="655,658,535,657,470,661,407,671,314,697,225,733,147,772,89,805,87,800,145,767,223,728,312,692,405,665,470,656,535,651,655,653"/>
<area shape="poly" title=" " alt="" coords="856,643,973,621,974,626,857,648"/>
<area shape="rect" href="class_r_g_w_remote_meta_log.html#a0b1f50798e7338bb54bff5872318f785" title=" " alt="" coords="919,448,1101,491"/>
<area shape="poly" title=" " alt="" coords="769,641,823,572,861,534,904,500,913,496,915,500,907,505,865,538,827,576,774,644"/>
<area shape="poly" title=" " alt="" coords="917,450,904,438,890,419,881,399,874,361,877,322,884,285,892,248,893,213,882,179,872,163,856,147,831,130,809,121,786,117,764,119,714,132,655,148,490,185,422,205,362,229,307,261,254,303,202,358,148,428,120,475,99,525,83,577,71,629,58,725,55,795,50,795,53,724,66,628,78,576,94,523,116,472,143,425,198,354,250,299,304,257,360,225,421,200,488,180,654,143,713,127,763,114,786,112,810,115,834,125,859,143,876,160,887,177,898,212,897,249,890,286,882,323,879,360,886,398,894,416,908,434,920,446"/>
<area shape="poly" title=" " alt="" coords="1091,445,1160,426,1162,431,1092,450"/>
<area shape="poly" title=" " alt="" coords="1102,482,1162,493,1161,498,1101,488"/>
<area shape="poly" title=" " alt="" coords="1101,464,1158,462,1158,467,1101,469"/>
<area shape="poly" title=" " alt="" coords="1093,445,1112,434,1128,418,1135,401,1144,384,1160,367,1169,362,1172,367,1164,371,1148,387,1140,404,1132,421,1116,438,1096,450"/>
<area shape="poly" title=" " alt="" coords="1103,488,1116,501,1130,523,1140,550,1154,617,1159,695,1160,780,1157,948,1158,1019,1165,1075,1182,1140,1204,1202,1246,1300,1241,1302,1199,1204,1177,1141,1159,1077,1152,1020,1151,948,1155,780,1154,695,1148,617,1135,552,1125,525,1112,504,1099,492"/>
<area shape="poly" title=" " alt="" coords="1094,489,1115,500,1152,528,1185,560,1235,623,1231,626,1181,564,1148,532,1113,505,1091,494"/>
<area shape="poly" title=" " alt="" coords="1102,489,1116,501,1134,524,1146,546,1155,589,1156,636,1165,691,1249,1006,1244,1007,1159,693,1151,636,1149,590,1141,548,1130,527,1112,505,1098,493"/>
<area shape="poly" title=" " alt="" coords="806,936,833,929,856,914,872,895,881,876,887,837,888,795,893,772,903,747,942,688,982,640,986,644,946,691,908,749,898,774,894,796,892,838,886,877,877,898,859,918,835,934,807,942"/>
<area shape="poly" title=" " alt="" coords="784,859,856,797,931,713,987,641,992,645,935,717,860,801,788,863"/>
<area shape="rect" href="class_r_g_w_remote_meta_log.html#adf5f7b9c4c1a543098ca9d4fb51584e0" title=" " alt="" coords="919,912,1101,955"/>
<area shape="poly" title=" " alt="" coords="857,900,904,910,903,915,856,905"/>
<area shape="poly" title=" " alt="" coords="1044,909,1080,880,1112,841,1126,812,1134,785,1138,735,1141,684,1147,656,1160,624,1192,574,1228,535,1232,538,1196,578,1164,627,1152,657,1146,685,1143,736,1139,786,1131,813,1116,844,1084,883,1048,913"/>
<area shape="poly" title=" " alt="" coords="1031,953,1072,1004,1116,1067,1192,1195,1245,1299,1241,1302,1187,1198,1112,1069,1067,1007,1027,957"/>
<area shape="poly" title=" " alt="" coords="1061,953,1195,1012,1193,1017,1059,958"/>
<area shape="poly" title=" " alt="" coords="834,1027,856,1009,877,976,887,946,890,916,889,886,885,822,890,786,903,747,920,716,940,687,981,640,985,644,945,690,925,719,908,749,895,787,891,822,894,885,896,916,893,947,882,979,860,1012,838,1031"/>
<area shape="rect" href="class_r_g_w_remote_meta_log.html#a6835924071933cde93d06155bcd32f01" title=" " alt="" coords="919,1080,1101,1123"/>
<area shape="poly" title=" " alt="" coords="859,1068,904,1078,903,1083,858,1074"/>
<area shape="poly" title=" " alt="" coords="1032,1078,1074,1029,1095,998,1112,966,1128,917,1135,873,1136,834,1134,796,1132,758,1134,718,1142,674,1160,624,1174,598,1191,574,1228,534,1231,538,1195,577,1178,601,1164,626,1147,675,1139,718,1138,758,1140,795,1141,833,1140,874,1133,918,1116,968,1099,1001,1078,1032,1036,1081"/>
<area shape="poly" title=" " alt="" coords="1038,1121,1116,1190,1233,1302,1230,1306,1112,1194,1035,1125"/>
<area shape="poly" title=" " alt="" coords="1100,1077,1165,1062,1166,1067,1102,1082"/>
</map>
</div>
<div class="dynheader">
이 함수를 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="rgw__admin_8cc_a313adbe2d817ca90ee002626049cdacf_icgraph.png" border="0" usemap="#argw__admin_8cc_a313adbe2d817ca90ee002626049cdacf_icgraph" alt=""/></div>
<map name="argw__admin_8cc_a313adbe2d817ca90ee002626049cdacf_icgraph" id="argw__admin_8cc_a313adbe2d817ca90ee002626049cdacf_icgraph">
<area shape="rect" title=" " alt="" coords="2064,1087,2157,1113"/>
<area shape="rect" href="class_r_g_w_period.html#a1b78df2d42f8148b6d94e9787cc55b0f" title=" " alt="" coords="1309,131,1450,157"/>
<area shape="poly" title=" " alt="" coords="2106,1071,2099,878,2083,595,2070,453,2055,329,2036,235,2026,204,2014,186,1982,159,1947,137,1910,120,1870,107,1787,91,1702,88,1620,93,1543,105,1426,133,1424,127,1542,99,1619,88,1702,83,1788,86,1871,102,1912,115,1950,133,1985,155,2018,182,2031,202,2041,233,2060,328,2076,453,2088,595,2104,878,2111,1071"/>
<area shape="rect" href="rgw__admin_8cc.html#a217dbf8b442f20279ea00b898af96f52" title=" " alt="" coords="5,804,55,831"/>
<area shape="poly" title=" " alt="" coords="2106,1071,2100,990,2087,871,2062,729,2044,655,2023,580,1996,507,1965,438,1928,375,1885,318,1836,272,1780,236,1718,213,1683,207,1647,205,428,205,362,211,309,228,266,255,230,291,199,334,170,385,105,504,85,545,69,588,48,676,37,752,34,804,29,804,32,752,42,675,64,586,80,543,100,501,165,383,195,331,226,287,263,251,307,223,361,206,428,200,1647,200,1684,202,1719,208,1783,231,1839,268,1889,315,1932,372,1969,436,2001,505,2028,578,2050,653,2067,728,2092,870,2105,989,2111,1071"/>
<area shape="rect" href="class_r_g_w_period.html#a789657c727994fc695ddf1248f678eac" title=" " alt="" coords="1309,560,1450,587"/>
<area shape="poly" title=" " alt="" coords="2104,1072,2094,984,2077,870,2050,762,2033,720,2014,692,1984,667,1951,644,1879,608,1802,584,1723,569,1645,561,1571,559,1450,566,1450,561,1571,554,1645,556,1724,563,1804,579,1881,603,1954,639,1987,662,2018,689,2038,718,2055,760,2082,869,2100,984,2109,1071"/>
<area shape="rect" href="rgw__admin_8cc.html#a72e671e3f52c5bce91c050a50dcbc75a" title=" " alt="" coords="1305,1345,1454,1372"/>
<area shape="poly" title=" " alt="" coords="2110,1129,2103,1177,2087,1234,2060,1290,2041,1315,2018,1336,1974,1356,1913,1370,1839,1379,1758,1383,1592,1382,1454,1373,1455,1368,1592,1377,1758,1378,1838,1374,1912,1365,1972,1351,2015,1331,2037,1311,2056,1287,2082,1232,2098,1176,2105,1129"/>
<area shape="rect" href="rgw__admin_8cc.html#addb2515e11fb8fc09013757e769993e6" title=" " alt="" coords="1050,1063,1192,1089"/>
<area shape="poly" title=" " alt="" coords="2049,1106,1625,1100,1193,1085,1193,1080,1626,1095,2049,1100"/>
<area shape="rect" href="class_r_g_w_period.html#a962d1ba643a8dd2463b72c77188df35c" title=" " alt="" coords="1836,1408,1987,1451"/>
<area shape="poly" title=" " alt="" coords="2111,1129,2104,1184,2090,1253,2062,1326,2043,1361,2018,1391,1989,1412,1986,1408,2014,1387,2038,1358,2057,1324,2084,1252,2099,1183,2105,1129"/>
<area shape="rect" href="class_r_g_w_meta_sync_status_manager.html#a16720f99e7f45e7c16f6a72acf0cae80" title=" " alt="" coords="1279,915,1480,957"/>
<area shape="poly" title=" " alt="" coords="2099,1073,2088,1042,2070,1007,2046,973,2015,948,1946,916,1872,896,1796,885,1720,883,1646,886,1577,894,1461,917,1460,911,1576,889,1646,881,1720,878,1797,880,1873,891,1948,911,2018,943,2050,970,2075,1004,2093,1040,2104,1071"/>
<area shape="rect" href="rgw__zone_8cc.html#acbc9d0f3bd530587c7e7e64073d5bf2c" title=" " alt="" coords="1059,729,1183,756"/>
<area shape="poly" title=" " alt="" coords="2106,1071,2101,1018,2087,950,2075,915,2060,882,2040,851,2015,825,1966,789,1914,759,1859,735,1801,716,1741,702,1681,693,1560,685,1443,689,1337,701,1246,716,1176,731,1175,726,1245,711,1336,696,1443,684,1560,680,1682,688,1742,697,1802,711,1860,730,1916,754,1969,784,2018,821,2044,848,2064,879,2080,913,2092,949,2106,1017,2111,1071"/>
<area shape="rect" href="class_r_g_w_remote_data_log.html#aa781e10fae1b2aad769f12ae97692004" title=" " alt="" coords="1826,1149,1997,1192"/>
<area shape="poly" title=" " alt="" coords="2057,1122,1975,1151,1973,1146,2055,1117"/>
<area shape="rect" href="class_r_g_w_remote_data_log.html#ad7c62d2805330625048edb27c009b46d" title=" " alt="" coords="1822,1267,2001,1309"/>
<area shape="poly" title=" " alt="" coords="2101,1129,2069,1189,2046,1222,2018,1250,1988,1268,1985,1264,2015,1246,2042,1218,2065,1186,2096,1127"/>
<area shape="rect" href="class_r_g_w_data_sync_status_manager.html#a1e9f01ad9a9aa457c3783b3dfa4c07f0" title=" " alt="" coords="1547,1263,1745,1305"/>
<area shape="poly" title=" " alt="" coords="2095,1128,2062,1169,2041,1189,2018,1206,1979,1219,1911,1236,1746,1269,1745,1263,1910,1230,1978,1214,2015,1202,2038,1185,2058,1165,2090,1125"/>
<area shape="rect" href="class_r_g_w_remote_meta_log.html#a0b1f50798e7338bb54bff5872318f785" title=" " alt="" coords="1821,957,2002,1000"/>
<area shape="poly" title=" " alt="" coords="2084,1078,2053,1049,2015,1021,1978,1003,1981,998,2018,1016,2056,1044,2088,1074"/>
<area shape="rect" href="class_r_g_w_meta_sync_status_manager.html#a5b874bd603d866e6b588092efcaad4c3" title=" " alt="" coords="1546,965,1746,1008"/>
<area shape="poly" title=" " alt="" coords="2055,1084,2016,1072,1875,1037,1746,1009,1747,1004,1876,1031,2017,1067,2056,1079"/>
<area shape="rect" href="class_r_g_w_remote_bucket_manager.html#a25798d2aa486ddf8a666e96e9574790f" title=" " alt="" coords="1817,1475,2006,1517"/>
<area shape="poly" title=" " alt="" coords="2108,1129,2096,1207,2077,1307,2051,1402,2035,1439,2018,1464,2004,1476,2001,1472,2014,1461,2031,1436,2046,1400,2072,1306,2091,1206,2103,1129"/>
<area shape="rect" href="class_r_g_w_remote_meta_log.html#acda3cdc36d0f85d5292141bca4cb37a9" title=" " alt="" coords="1807,835,2016,861"/>
<area shape="poly" title=" " alt="" coords="2100,1072,2088,1035,2070,991,2046,944,2014,903,1985,880,1953,864,1955,860,1988,876,2018,899,2051,942,2075,988,2093,1033,2105,1071"/>
<area shape="rect" href="class_r_g_w_period.html#a9f872876d61c9bdc3413d4ebc3d9c806" title=" " alt="" coords="805,5,955,32"/>
<area shape="poly" title=" " alt="" coords="1308,129,936,35,937,30,1309,124"/>
<area shape="rect" href="class_r_g_w_period.html#a0bb4affb3673a6086cd2d6b2de0d0ca7" title=" " alt="" coords="1040,123,1202,165"/>
<area shape="poly" title=" " alt="" coords="1294,147,1203,147,1203,141,1294,141"/>
<area shape="rect" href="class_r_g_w_period.html#a858b78a44963a5743a561f45098cd32d" title=" " alt="" coords="593,68,708,95"/>
<area shape="poly" title=" " alt="" coords="814,39,703,70,702,65,813,34"/>
<area shape="rect" href="class_r_g_w_period.html#a732df12a248a940293ecab3f005c7c81" title=" " alt="" coords="802,56,958,99"/>
<area shape="poly" title=" " alt="" coords="1026,121,957,101,959,96,1028,115"/>
<area shape="rect" href="class_r_g_w_period.html#a171e0664b28ddedf9facc578d12c7a9a" title=" " alt="" coords="792,341,968,384"/>
<area shape="poly" title=" " alt="" coords="1087,178,907,343,903,339,1083,174"/>
<area shape="rect" href="class_r_g_w_period.html#a3ff0e67155215f85caaa4909c49b3b5f" title=" " alt="" coords="801,123,959,165"/>
<area shape="poly" title=" " alt="" coords="1025,147,959,147,959,141,1025,141"/>
<area shape="rect" href="class_r_g_w_period.html#ac2ee7a44ae93d4f27a9cb89fff99337c" title=" " alt="" coords="580,560,721,587"/>
<area shape="poly" title=" " alt="" coords="846,397,794,449,745,499,672,561,668,557,742,495,790,445,842,393"/>
<area shape="rect" href="class_r_g_w_op___period___post.html#abcff3a2b0a17526dc84c53af6949df85" title=" " alt="" coords="351,509,507,552"/>
<area shape="poly" title=" " alt="" coords="776,358,724,360,668,366,612,378,559,398,522,422,491,452,446,511,442,507,487,449,519,418,556,394,610,373,667,360,724,354,776,353"/>
<area shape="rect" href="rgw__admin_8cc.html#a693377846b7628a32c724cf0200e5a9e" title=" " alt="" coords="598,307,703,333"/>
<area shape="poly" title=" " alt="" coords="776,346,702,332,703,327,777,341"/>
<area shape="rect" href="class_r_g_w_period_puller.html#a926a489065e72d0f2b0fe48ac773bfa3" title=" " alt="" coords="575,408,726,435"/>
<area shape="poly" title=" " alt="" coords="780,391,706,410,705,405,779,386"/>
<area shape="rect" href="rgw__admin_8cc.html#aa84c5ba46881dc6ab82e752f5864a5d6" title=" " alt="" coords="376,677,482,704"/>
<area shape="poly" title=" " alt="" coords="611,597,458,679,455,674,609,592"/>
<area shape="poly" title=" " alt="" coords="564,559,507,548,508,543,565,554"/>
<area shape="poly" title=" " alt="" coords="361,696,303,702,237,712,169,730,104,756,70,780,44,806,41,802,66,776,101,751,167,725,236,707,303,696,360,691"/>
<area shape="rect" href="rgw__admin_8cc.html#a4dd5fe9ff30e3225bca7a06c01dde2bd" title=" " alt="" coords="151,765,253,792"/>
<area shape="poly" title=" " alt="" coords="379,713,240,767,238,762,377,708"/>
<area shape="poly" title=" " alt="" coords="136,796,55,815,54,809,135,791"/>
<area shape="poly" title=" " alt="" coords="584,338,479,369,416,392,349,421,282,456,218,496,157,544,105,598,87,623,72,651,51,711,40,765,35,804,30,803,34,764,46,709,67,649,82,621,101,594,154,540,214,492,280,451,347,416,414,387,477,364,583,332"/>
<area shape="poly" title=" " alt="" coords="785,121,702,98,703,93,786,116"/>
<area shape="rect" href="class_r_g_w_period.html#aad876e2bf1fe7bd5c326dca3e5d06167" title=" " alt="" coords="1044,396,1199,439"/>
<area shape="poly" title=" " alt="" coords="1341,554,1157,442,1160,437,1344,550"/>
<area shape="rect" href="class_r_g_w_period.html#a9f31f8de41684b5f70a40eedf88385ac" title=" " alt="" coords="1044,560,1198,587"/>
<area shape="poly" title=" " alt="" coords="1294,576,1199,576,1199,571,1294,571"/>
<area shape="poly" title=" " alt="" coords="1028,399,968,385,969,380,1029,394"/>
<area shape="poly" title=" " alt="" coords="1091,386,1037,336,1004,312,967,295,891,288,755,287,623,290,559,297,533,326,519,355,516,385,518,416,525,485,523,523,512,565,496,598,478,630,444,678,439,675,473,627,492,596,507,563,517,523,520,485,512,416,510,384,514,353,528,323,556,292,622,285,755,282,891,283,969,289,1006,308,1041,331,1094,382"/>
<area shape="rect" href="class_r_g_w_period.html#a712625093a5b4aa41606a5bd88dba2d7" title=" " alt="" coords="813,459,947,485"/>
<area shape="poly" title=" " alt="" coords="1029,441,943,461,941,455,1028,436"/>
<area shape="poly" title=" " alt="" coords="835,494,684,562,682,557,833,490"/>
<area shape="rect" href="class_r_g_w_realm.html#a94df61b7090e87e6c429ba8817667e91" title=" " alt="" coords="583,459,718,485"/>
<area shape="poly" title=" " alt="" coords="797,475,718,475,718,469,797,469"/>
<area shape="poly" title=" " alt="" coords="568,468,517,468,462,473,405,482,350,500,269,541,239,562,214,585,165,639,105,710,67,761,41,805,36,802,63,758,101,706,161,635,210,581,236,558,266,536,348,495,403,477,461,467,517,463,568,463"/>
<area shape="rect" href="class_r_g_w_s_i___zone.html#a205deedd36f60c1cbe8fb13b70fa497c" title=" " alt="" coords="349,745,509,788"/>
<area shape="poly" title=" " alt="" coords="614,496,585,520,560,550,547,572,541,593,537,633,533,673,525,695,511,718,496,734,478,747,475,743,493,730,507,714,521,692,528,672,532,633,536,592,543,570,555,546,581,516,611,492"/>
<area shape="rect" href="class_r_g_w_s_i___zone.html#ad23dec454ebb23b2404d687a81ae0d70" title=" " alt="" coords="124,816,280,843"/>
<area shape="poly" title=" " alt="" coords="341,795,302,807,259,818,257,813,300,801,339,790"/>
<area shape="poly" title=" " alt="" coords="1028,576,722,576,722,571,1028,571"/>
<area shape="poly" title=" " alt="" coords="1093,599,1038,636,1004,654,969,668,903,685,834,696,698,707,576,706,483,699,483,694,576,700,698,701,833,691,901,679,967,663,1002,649,1035,632,1090,594"/>
<area shape="poly" title=" " alt="" coords="1102,601,1062,654,1018,719,1006,745,1000,768,990,789,969,808,943,820,909,829,827,839,729,841,622,836,412,814,253,790,254,785,412,808,622,830,729,836,827,834,908,824,941,815,967,803,986,786,995,766,1001,743,1014,716,1058,651,1098,598"/>
<area shape="poly" title=" " alt="" coords="1028,564,968,557,716,542,508,535,508,530,716,537,968,552,1029,558"/>
<area shape="poly" title=" " alt="" coords="1093,551,1053,507,1014,452,1000,416,996,384,989,356,980,344,966,332,935,314,902,303,866,296,830,294,761,298,702,309,701,303,760,293,830,288,867,291,903,297,938,309,970,327,984,340,994,354,1001,383,1005,415,1018,449,1057,503,1097,547"/>
<area shape="poly" title=" " alt="" coords="1097,550,1042,497,1006,470,967,449,906,430,842,420,781,417,726,418,726,412,781,411,843,415,907,425,969,444,1009,465,1046,492,1101,546"/>
<area shape="poly" title=" " alt="" coords="1076,555,967,506,920,488,922,483,969,502,1078,550"/>
<area shape="poly" title=" " alt="" coords="1104,601,1038,688,1001,729,969,754,911,778,850,794,787,803,725,806,607,801,509,787,510,782,607,796,725,801,787,798,849,789,910,773,967,750,997,725,1034,684,1100,598"/>
<area shape="rect" href="class_r_g_w_period.html#ac34e6f602944e47c4e1d4b39bc7b9ed7" title=" " alt="" coords="557,728,744,755"/>
<area shape="poly" title=" " alt="" coords="1102,601,1047,659,1010,688,969,712,913,731,854,743,797,748,744,749,744,744,797,743,854,737,912,726,967,707,1007,684,1043,655,1098,597"/>
<area shape="poly" title=" " alt="" coords="542,756,510,760,509,755,542,751"/>
<area shape="poly" title=" " alt="" coords="1470,1355,1608,1357,1769,1355,1846,1349,1916,1340,1974,1326,2015,1307,2038,1287,2056,1263,2083,1207,2098,1154,2105,1114,2110,1114,2103,1155,2088,1209,2061,1265,2042,1291,2018,1312,1976,1331,1917,1346,1847,1355,1769,1360,1608,1363,1470,1360"/>
<area shape="poly" title=" " alt="" coords="1208,1070,1655,1077,2064,1092,2064,1098,1654,1083,1208,1075"/>
<area shape="rect" href="class_r_g_w_meta_sync_c_r.html#afad7b38b095d66c0aea14d72c5b2505a" title=" " alt="" coords="1555,1416,1737,1443"/>
<area shape="poly" title=" " alt="" coords="1821,1432,1737,1432,1737,1427,1821,1427"/>
<area shape="poly" title=" " alt="" coords="1264,942,881,947,428,947,334,952,258,957,223,956,186,950,146,936,101,914,78,897,59,874,35,833,40,830,64,871,82,893,104,910,148,931,187,944,223,951,258,952,333,946,428,941,881,941,1264,936"/>
<area shape="poly" title=" " alt="" coords="1326,967,1149,1064,1147,1060,1324,963"/>
<area shape="rect" href="class_r_g_w_meta_sync_processor_thread.html#afc360f6d27adbc707c78067d8f789be1" title=" " alt="" coords="1016,864,1226,907"/>
<area shape="poly" title=" " alt="" coords="1263,916,1226,909,1227,903,1264,911"/>
<area shape="poly" title=" " alt="" coords="1294,910,1273,898,1209,837,1133,758,1137,754,1213,834,1276,894,1297,906"/>
<area shape="rect" href="class_r_g_w_period.html#af20e32f528fccfe8767df0541ed422af" title=" " alt="" coords="794,611,966,653"/>
<area shape="poly" title=" " alt="" coords="1075,725,927,656,930,652,1077,720"/>
<area shape="poly" title=" " alt="" coords="779,609,705,590,706,585,780,604"/>
<area shape="rect" href="class_r_g_w_data_sync_status_manager.html#a42ca31291a2adf642041ed34ce58095c" title=" " alt="" coords="103,1088,301,1131"/>
<area shape="poly" title=" " alt="" coords="1810,1173,1381,1173,649,1173,556,1170,463,1160,301,1133,302,1128,464,1155,557,1164,649,1168,1381,1168,1810,1168"/>
<area shape="poly" title=" " alt="" coords="159,1080,128,1050,100,1015,74,965,54,912,32,832,37,830,59,911,79,962,105,1012,132,1047,163,1076"/>
<area shape="poly" title=" " alt="" coords="1806,1289,1745,1288,1746,1283,1806,1284"/>
<area shape="poly" title=" " alt="" coords="1534,1262,1484,1253,1304,1232,1122,1227,428,1227,329,1229,248,1226,211,1218,175,1203,139,1179,101,1144,85,1120,71,1083,50,991,37,897,30,831,35,831,42,896,55,990,76,1082,89,1117,105,1141,142,1175,178,1198,213,1213,249,1221,329,1224,428,1221,1123,1221,1304,1226,1485,1248,1535,1257"/>
<area shape="poly" title=" " alt="" coords="1553,1313,1431,1347,1429,1342,1552,1307"/>
<area shape="rect" href="class_r_g_w_op___d_a_t_a_log___status.html#a4f79dca41731b7246ffaef20a77180be" title=" " alt="" coords="1291,1263,1468,1305"/>
<area shape="poly" title=" " alt="" coords="1531,1287,1469,1287,1469,1281,1531,1281"/>
<area shape="poly" title=" " alt="" coords="1805,985,1747,986,1746,981,1805,979"/>
<area shape="poly" title=" " alt="" coords="1530,992,1123,997,428,997,333,1004,256,1012,219,1011,183,1004,144,989,101,963,71,934,51,897,38,860,31,832,36,831,43,859,56,895,76,930,104,959,146,984,184,999,220,1006,255,1006,332,998,428,992,1122,992,1530,987"/>
<area shape="poly" title=" " alt="" coords="1531,1009,1193,1067,1192,1061,1530,1004"/>
<area shape="poly" title=" " alt="" coords="1530,967,1480,958,1481,952,1531,962"/>
<area shape="poly" title=" " alt="" coords="1590,960,1484,905,1298,820,1155,759,1157,754,1301,816,1486,900,1593,955"/>
<area shape="rect" href="class_r_g_w_meta_sync_status_manager.html#a2e6dcb3f153919994f8b9864c033210a" title=" " alt="" coords="1533,813,1759,840"/>
<area shape="poly" title=" " alt="" coords="1791,841,1759,838,1760,833,1792,836"/>
<area shape="poly" title=" " alt="" coords="1517,832,1284,839,1016,855,914,866,835,880,755,891,652,896,428,896,335,896,263,893,191,881,102,857,52,834,54,829,104,852,192,876,263,887,335,891,428,891,652,891,754,886,834,875,913,861,1016,849,1284,834,1517,826"/>
<area shape="rect" href="class_r_g_w_meta_sync_processor_thread.html#abe2acfcf6f22db63d007a86d6c389262" title=" " alt="" coords="1274,747,1485,789"/>
<area shape="poly" title=" " alt="" coords="1566,812,1479,792,1480,787,1567,807"/>
</map>
</div>

</div>
</div>
<a id="a034e61ce17b52c12f92c0fe2cf0cbf9a" name="a034e61ce17b52c12f92c0fe2cf0cbf9a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a034e61ce17b52c12f92c0fe2cf0cbf9a">&#9670;&#160;</a></span>tab_dump()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void tab_dump </td>
          <td>(</td>
          <td class="paramtype">const string &amp;&#160;</td>
          <td class="paramname"><em>header</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>width</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const list&lt; string &gt; &amp;&#160;</td>
          <td class="paramname"><em>entries</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition"><a class="el" href="rgw__admin_8cc_source.html">rgw_admin.cc</a> 파일의 <a class="el" href="rgw__admin_8cc_source.html#l02411">2411</a> 번째 라인에서 정의되었습니다.</p>
<div class="fragment"><div class="line"><span class="lineno"> 2412</span>{</div>
<div class="line"><span class="lineno"> 2413</span>  <span class="keywordtype">string</span> s = header;</div>
<div class="line"><span class="lineno"> 2414</span> </div>
<div class="line"><span class="lineno"> 2415</span>  <span class="keywordflow">for</span> (<span class="keyword">auto</span> e : <a class="code hl_variable" href="cls__fifo__legacy_8cc.html#a0341b0ec09e77f9d6274d5b1517f7711">entries</a>) {</div>
<div class="line"><span class="lineno"> 2416</span>    cout &lt;&lt; std::setw(width) &lt;&lt; s &lt;&lt; std::setw(1) &lt;&lt; <span class="stringliteral">&quot; &quot;</span> &lt;&lt; e &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 2417</span>    s.clear();</div>
<div class="line"><span class="lineno"> 2418</span>  }</div>
<div class="line"><span class="lineno"> 2419</span>}</div>
</div><!-- fragment --><div class="dynheader">
이 함수를 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="rgw__admin_8cc_a034e61ce17b52c12f92c0fe2cf0cbf9a_icgraph.png" border="0" usemap="#argw__admin_8cc_a034e61ce17b52c12f92c0fe2cf0cbf9a_icgraph" alt=""/></div>
<map name="argw__admin_8cc_a034e61ce17b52c12f92c0fe2cf0cbf9a_icgraph" id="argw__admin_8cc_a034e61ce17b52c12f92c0fe2cf0cbf9a_icgraph">
<area shape="rect" title=" " alt="" coords="2205,1087,2283,1113"/>
<area shape="rect" href="rgw__admin_8cc.html#a313adbe2d817ca90ee002626049cdacf" title=" " alt="" coords="2064,1087,2157,1113"/>
<area shape="poly" title=" " alt="" coords="2189,1103,2157,1103,2157,1097,2189,1097"/>
<area shape="rect" href="class_r_g_w_period.html#a1b78df2d42f8148b6d94e9787cc55b0f" title=" " alt="" coords="1309,131,1450,157"/>
<area shape="poly" title=" " alt="" coords="2106,1071,2099,878,2083,595,2070,453,2055,329,2036,235,2026,204,2014,186,1982,159,1947,137,1910,120,1870,107,1787,91,1702,88,1620,93,1543,105,1426,133,1424,127,1542,99,1619,88,1702,83,1788,86,1871,102,1912,115,1950,133,1985,155,2018,182,2031,202,2041,233,2060,328,2076,453,2088,595,2104,878,2111,1071"/>
<area shape="rect" href="rgw__admin_8cc.html#a217dbf8b442f20279ea00b898af96f52" title=" " alt="" coords="5,804,55,831"/>
<area shape="poly" title=" " alt="" coords="2106,1071,2100,990,2087,871,2062,729,2044,655,2023,580,1996,507,1965,438,1928,375,1885,318,1836,272,1780,236,1718,213,1683,207,1647,205,428,205,362,211,309,228,266,255,230,291,199,334,170,385,105,504,85,545,69,588,48,676,37,752,34,804,29,804,32,752,42,675,64,586,80,543,100,501,165,383,195,331,226,287,263,251,307,223,361,206,428,200,1647,200,1684,202,1719,208,1783,231,1839,268,1889,315,1932,372,1969,436,2001,505,2028,578,2050,653,2067,728,2092,870,2105,989,2111,1071"/>
<area shape="rect" href="class_r_g_w_period.html#a789657c727994fc695ddf1248f678eac" title=" " alt="" coords="1309,560,1450,587"/>
<area shape="poly" title=" " alt="" coords="2104,1072,2094,984,2077,870,2050,762,2033,720,2014,692,1984,667,1951,644,1879,608,1802,584,1723,569,1645,561,1571,559,1450,566,1450,561,1571,554,1645,556,1724,563,1804,579,1881,603,1954,639,1987,662,2018,689,2038,718,2055,760,2082,869,2100,984,2109,1071"/>
<area shape="rect" href="rgw__admin_8cc.html#a72e671e3f52c5bce91c050a50dcbc75a" title=" " alt="" coords="1305,1345,1454,1372"/>
<area shape="poly" title=" " alt="" coords="2110,1129,2103,1177,2087,1234,2060,1290,2041,1315,2018,1336,1974,1356,1913,1370,1839,1379,1758,1383,1592,1382,1454,1373,1455,1368,1592,1377,1758,1378,1838,1374,1912,1365,1972,1351,2015,1331,2037,1311,2056,1287,2082,1232,2098,1176,2105,1129"/>
<area shape="rect" href="rgw__admin_8cc.html#addb2515e11fb8fc09013757e769993e6" title=" " alt="" coords="1050,1063,1192,1089"/>
<area shape="poly" title=" " alt="" coords="2049,1106,1625,1100,1193,1085,1193,1080,1626,1095,2049,1100"/>
<area shape="rect" href="class_r_g_w_period.html#a962d1ba643a8dd2463b72c77188df35c" title=" " alt="" coords="1836,1408,1987,1451"/>
<area shape="poly" title=" " alt="" coords="2111,1129,2104,1184,2090,1253,2062,1326,2043,1361,2018,1391,1989,1412,1986,1408,2014,1387,2038,1358,2057,1324,2084,1252,2099,1183,2105,1129"/>
<area shape="rect" href="class_r_g_w_meta_sync_status_manager.html#a16720f99e7f45e7c16f6a72acf0cae80" title=" " alt="" coords="1279,915,1480,957"/>
<area shape="poly" title=" " alt="" coords="2099,1073,2088,1042,2070,1007,2046,973,2015,948,1946,916,1872,896,1796,885,1720,883,1646,886,1577,894,1461,917,1460,911,1576,889,1646,881,1720,878,1797,880,1873,891,1948,911,2018,943,2050,970,2075,1004,2093,1040,2104,1071"/>
<area shape="rect" href="rgw__zone_8cc.html#acbc9d0f3bd530587c7e7e64073d5bf2c" title=" " alt="" coords="1059,729,1183,756"/>
<area shape="poly" title=" " alt="" coords="2106,1071,2101,1018,2087,950,2075,915,2060,882,2040,851,2015,825,1966,789,1914,759,1859,735,1801,716,1741,702,1681,693,1560,685,1443,689,1337,701,1246,716,1176,731,1175,726,1245,711,1336,696,1443,684,1560,680,1682,688,1742,697,1802,711,1860,730,1916,754,1969,784,2018,821,2044,848,2064,879,2080,913,2092,949,2106,1017,2111,1071"/>
<area shape="rect" href="class_r_g_w_remote_data_log.html#aa781e10fae1b2aad769f12ae97692004" title=" " alt="" coords="1826,1149,1997,1192"/>
<area shape="poly" title=" " alt="" coords="2057,1122,1975,1151,1973,1146,2055,1117"/>
<area shape="rect" href="class_r_g_w_remote_data_log.html#ad7c62d2805330625048edb27c009b46d" title=" " alt="" coords="1822,1267,2001,1309"/>
<area shape="poly" title=" " alt="" coords="2101,1129,2069,1189,2046,1222,2018,1250,1988,1268,1985,1264,2015,1246,2042,1218,2065,1186,2096,1127"/>
<area shape="rect" href="class_r_g_w_data_sync_status_manager.html#a1e9f01ad9a9aa457c3783b3dfa4c07f0" title=" " alt="" coords="1547,1263,1745,1305"/>
<area shape="poly" title=" " alt="" coords="2095,1128,2062,1169,2041,1189,2018,1206,1979,1219,1911,1236,1746,1269,1745,1263,1910,1230,1978,1214,2015,1202,2038,1185,2058,1165,2090,1125"/>
<area shape="rect" href="class_r_g_w_remote_meta_log.html#a0b1f50798e7338bb54bff5872318f785" title=" " alt="" coords="1821,957,2002,1000"/>
<area shape="poly" title=" " alt="" coords="2084,1078,2053,1049,2015,1021,1978,1003,1981,998,2018,1016,2056,1044,2088,1074"/>
<area shape="rect" href="class_r_g_w_meta_sync_status_manager.html#a5b874bd603d866e6b588092efcaad4c3" title=" " alt="" coords="1546,965,1746,1008"/>
<area shape="poly" title=" " alt="" coords="2055,1084,2016,1072,1875,1037,1746,1009,1747,1004,1876,1031,2017,1067,2056,1079"/>
<area shape="rect" href="class_r_g_w_remote_bucket_manager.html#a25798d2aa486ddf8a666e96e9574790f" title=" " alt="" coords="1817,1475,2006,1517"/>
<area shape="poly" title=" " alt="" coords="2108,1129,2096,1207,2077,1307,2051,1402,2035,1439,2018,1464,2004,1476,2001,1472,2014,1461,2031,1436,2046,1400,2072,1306,2091,1206,2103,1129"/>
<area shape="rect" href="class_r_g_w_remote_meta_log.html#acda3cdc36d0f85d5292141bca4cb37a9" title=" " alt="" coords="1807,835,2016,861"/>
<area shape="poly" title=" " alt="" coords="2100,1072,2088,1035,2070,991,2046,944,2014,903,1985,880,1953,864,1955,860,1988,876,2018,899,2051,942,2075,988,2093,1033,2105,1071"/>
<area shape="rect" href="class_r_g_w_period.html#a9f872876d61c9bdc3413d4ebc3d9c806" title=" " alt="" coords="805,5,955,32"/>
<area shape="poly" title=" " alt="" coords="1308,129,936,35,937,30,1309,124"/>
<area shape="rect" href="class_r_g_w_period.html#a0bb4affb3673a6086cd2d6b2de0d0ca7" title=" " alt="" coords="1040,123,1202,165"/>
<area shape="poly" title=" " alt="" coords="1294,147,1203,147,1203,141,1294,141"/>
<area shape="rect" href="class_r_g_w_period.html#a858b78a44963a5743a561f45098cd32d" title=" " alt="" coords="593,68,708,95"/>
<area shape="poly" title=" " alt="" coords="814,39,703,70,702,65,813,34"/>
<area shape="rect" href="class_r_g_w_period.html#a732df12a248a940293ecab3f005c7c81" title=" " alt="" coords="802,56,958,99"/>
<area shape="poly" title=" " alt="" coords="1026,121,957,101,959,96,1028,115"/>
<area shape="rect" href="class_r_g_w_period.html#a171e0664b28ddedf9facc578d12c7a9a" title=" " alt="" coords="792,341,968,384"/>
<area shape="poly" title=" " alt="" coords="1087,178,907,343,903,339,1083,174"/>
<area shape="rect" href="class_r_g_w_period.html#a3ff0e67155215f85caaa4909c49b3b5f" title=" " alt="" coords="801,123,959,165"/>
<area shape="poly" title=" " alt="" coords="1025,147,959,147,959,141,1025,141"/>
<area shape="rect" href="class_r_g_w_period.html#ac2ee7a44ae93d4f27a9cb89fff99337c" title=" " alt="" coords="580,560,721,587"/>
<area shape="poly" title=" " alt="" coords="846,397,794,449,745,499,672,561,668,557,742,495,790,445,842,393"/>
<area shape="rect" href="class_r_g_w_op___period___post.html#abcff3a2b0a17526dc84c53af6949df85" title=" " alt="" coords="351,509,507,552"/>
<area shape="poly" title=" " alt="" coords="776,358,724,360,668,366,612,378,559,398,522,422,491,452,446,511,442,507,487,449,519,418,556,394,610,373,667,360,724,354,776,353"/>
<area shape="rect" href="rgw__admin_8cc.html#a693377846b7628a32c724cf0200e5a9e" title=" " alt="" coords="598,307,703,333"/>
<area shape="poly" title=" " alt="" coords="776,346,702,332,703,327,777,341"/>
<area shape="rect" href="class_r_g_w_period_puller.html#a926a489065e72d0f2b0fe48ac773bfa3" title=" " alt="" coords="575,408,726,435"/>
<area shape="poly" title=" " alt="" coords="780,391,706,410,705,405,779,386"/>
<area shape="rect" href="rgw__admin_8cc.html#aa84c5ba46881dc6ab82e752f5864a5d6" title=" " alt="" coords="376,677,482,704"/>
<area shape="poly" title=" " alt="" coords="611,597,458,679,455,674,609,592"/>
<area shape="poly" title=" " alt="" coords="564,559,507,548,508,543,565,554"/>
<area shape="poly" title=" " alt="" coords="361,696,303,702,237,712,169,730,104,756,70,780,44,806,41,802,66,776,101,751,167,725,236,707,303,696,360,691"/>
<area shape="rect" href="rgw__admin_8cc.html#a4dd5fe9ff30e3225bca7a06c01dde2bd" title=" " alt="" coords="151,765,253,792"/>
<area shape="poly" title=" " alt="" coords="379,713,240,767,238,762,377,708"/>
<area shape="poly" title=" " alt="" coords="136,796,55,815,54,809,135,791"/>
<area shape="poly" title=" " alt="" coords="584,338,479,369,416,392,349,421,282,456,218,496,157,544,105,598,87,623,72,651,51,711,40,765,35,804,30,803,34,764,46,709,67,649,82,621,101,594,154,540,214,492,280,451,347,416,414,387,477,364,583,332"/>
<area shape="poly" title=" " alt="" coords="785,121,702,98,703,93,786,116"/>
<area shape="rect" href="class_r_g_w_period.html#aad876e2bf1fe7bd5c326dca3e5d06167" title=" " alt="" coords="1044,396,1199,439"/>
<area shape="poly" title=" " alt="" coords="1341,554,1157,442,1160,437,1344,550"/>
<area shape="rect" href="class_r_g_w_period.html#a9f31f8de41684b5f70a40eedf88385ac" title=" " alt="" coords="1044,560,1198,587"/>
<area shape="poly" title=" " alt="" coords="1294,576,1199,576,1199,571,1294,571"/>
<area shape="poly" title=" " alt="" coords="1028,399,968,385,969,380,1029,394"/>
<area shape="poly" title=" " alt="" coords="1091,386,1037,336,1004,312,967,295,891,288,755,287,623,290,559,297,533,326,519,355,516,385,518,416,525,485,523,523,512,565,496,598,478,630,444,678,439,675,473,627,492,596,507,563,517,523,520,485,512,416,510,384,514,353,528,323,556,292,622,285,755,282,891,283,969,289,1006,308,1041,331,1094,382"/>
<area shape="rect" href="class_r_g_w_period.html#a712625093a5b4aa41606a5bd88dba2d7" title=" " alt="" coords="813,459,947,485"/>
<area shape="poly" title=" " alt="" coords="1029,441,943,461,941,455,1028,436"/>
<area shape="poly" title=" " alt="" coords="835,494,684,562,682,557,833,490"/>
<area shape="rect" href="class_r_g_w_realm.html#a94df61b7090e87e6c429ba8817667e91" title=" " alt="" coords="583,459,718,485"/>
<area shape="poly" title=" " alt="" coords="797,475,718,475,718,469,797,469"/>
<area shape="poly" title=" " alt="" coords="568,468,517,468,462,473,405,482,350,500,269,541,239,562,214,585,165,639,105,710,67,761,41,805,36,802,63,758,101,706,161,635,210,581,236,558,266,536,348,495,403,477,461,467,517,463,568,463"/>
<area shape="rect" href="class_r_g_w_s_i___zone.html#a205deedd36f60c1cbe8fb13b70fa497c" title=" " alt="" coords="349,745,509,788"/>
<area shape="poly" title=" " alt="" coords="614,496,585,520,560,550,547,572,541,593,537,633,533,673,525,695,511,718,496,734,478,747,475,743,493,730,507,714,521,692,528,672,532,633,536,592,543,570,555,546,581,516,611,492"/>
<area shape="rect" href="class_r_g_w_s_i___zone.html#ad23dec454ebb23b2404d687a81ae0d70" title=" " alt="" coords="124,816,280,843"/>
<area shape="poly" title=" " alt="" coords="341,795,302,807,259,818,257,813,300,801,339,790"/>
<area shape="poly" title=" " alt="" coords="1028,576,722,576,722,571,1028,571"/>
<area shape="poly" title=" " alt="" coords="1093,599,1038,636,1004,654,969,668,903,685,834,696,698,707,576,706,483,699,483,694,576,700,698,701,833,691,901,679,967,663,1002,649,1035,632,1090,594"/>
<area shape="poly" title=" " alt="" coords="1102,601,1062,654,1018,719,1006,745,1000,768,990,789,969,808,943,820,909,829,827,839,729,841,622,836,412,814,253,790,254,785,412,808,622,830,729,836,827,834,908,824,941,815,967,803,986,786,995,766,1001,743,1014,716,1058,651,1098,598"/>
<area shape="poly" title=" " alt="" coords="1028,564,968,557,716,542,508,535,508,530,716,537,968,552,1029,558"/>
<area shape="poly" title=" " alt="" coords="1093,551,1053,507,1014,452,1000,416,996,384,989,356,980,344,966,332,935,314,902,303,866,296,830,294,761,298,702,309,701,303,760,293,830,288,867,291,903,297,938,309,970,327,984,340,994,354,1001,383,1005,415,1018,449,1057,503,1097,547"/>
<area shape="poly" title=" " alt="" coords="1097,550,1042,497,1006,470,967,449,906,430,842,420,781,417,726,418,726,412,781,411,843,415,907,425,969,444,1009,465,1046,492,1101,546"/>
<area shape="poly" title=" " alt="" coords="1076,555,967,506,920,488,922,483,969,502,1078,550"/>
<area shape="poly" title=" " alt="" coords="1104,601,1038,688,1001,729,969,754,911,778,850,794,787,803,725,806,607,801,509,787,510,782,607,796,725,801,787,798,849,789,910,773,967,750,997,725,1034,684,1100,598"/>
<area shape="rect" href="class_r_g_w_period.html#ac34e6f602944e47c4e1d4b39bc7b9ed7" title=" " alt="" coords="557,728,744,755"/>
<area shape="poly" title=" " alt="" coords="1102,601,1047,659,1010,688,969,712,913,731,854,743,797,748,744,749,744,744,797,743,854,737,912,726,967,707,1007,684,1043,655,1098,597"/>
<area shape="poly" title=" " alt="" coords="542,756,510,760,509,755,542,751"/>
<area shape="poly" title=" " alt="" coords="1470,1355,1608,1357,1769,1355,1846,1349,1916,1340,1974,1326,2015,1307,2038,1287,2056,1263,2083,1207,2098,1154,2105,1114,2110,1114,2103,1155,2088,1209,2061,1265,2042,1291,2018,1312,1976,1331,1917,1346,1847,1355,1769,1360,1608,1363,1470,1360"/>
<area shape="poly" title=" " alt="" coords="1208,1070,1655,1077,2064,1092,2064,1098,1654,1083,1208,1075"/>
<area shape="rect" href="class_r_g_w_meta_sync_c_r.html#afad7b38b095d66c0aea14d72c5b2505a" title=" " alt="" coords="1555,1416,1737,1443"/>
<area shape="poly" title=" " alt="" coords="1821,1432,1737,1432,1737,1427,1821,1427"/>
<area shape="poly" title=" " alt="" coords="1264,942,881,947,428,947,334,952,258,957,223,956,186,950,146,936,101,914,78,897,59,874,35,833,40,830,64,871,82,893,104,910,148,931,187,944,223,951,258,952,333,946,428,941,881,941,1264,936"/>
<area shape="poly" title=" " alt="" coords="1326,967,1149,1064,1147,1060,1324,963"/>
<area shape="rect" href="class_r_g_w_meta_sync_processor_thread.html#afc360f6d27adbc707c78067d8f789be1" title=" " alt="" coords="1016,864,1226,907"/>
<area shape="poly" title=" " alt="" coords="1263,916,1226,909,1227,903,1264,911"/>
<area shape="poly" title=" " alt="" coords="1294,910,1273,898,1209,837,1133,758,1137,754,1213,834,1276,894,1297,906"/>
<area shape="rect" href="class_r_g_w_period.html#af20e32f528fccfe8767df0541ed422af" title=" " alt="" coords="794,611,966,653"/>
<area shape="poly" title=" " alt="" coords="1075,725,927,656,930,652,1077,720"/>
<area shape="poly" title=" " alt="" coords="779,609,705,590,706,585,780,604"/>
<area shape="rect" href="class_r_g_w_data_sync_status_manager.html#a42ca31291a2adf642041ed34ce58095c" title=" " alt="" coords="103,1088,301,1131"/>
<area shape="poly" title=" " alt="" coords="1810,1173,1381,1173,649,1173,556,1170,463,1160,301,1133,302,1128,464,1155,557,1164,649,1168,1381,1168,1810,1168"/>
<area shape="poly" title=" " alt="" coords="159,1080,128,1050,100,1015,74,965,54,912,32,832,37,830,59,911,79,962,105,1012,132,1047,163,1076"/>
<area shape="poly" title=" " alt="" coords="1806,1289,1745,1288,1746,1283,1806,1284"/>
<area shape="poly" title=" " alt="" coords="1534,1262,1484,1253,1304,1232,1122,1227,428,1227,329,1229,248,1226,211,1218,175,1203,139,1179,101,1144,85,1120,71,1083,50,991,37,897,30,831,35,831,42,896,55,990,76,1082,89,1117,105,1141,142,1175,178,1198,213,1213,249,1221,329,1224,428,1221,1123,1221,1304,1226,1485,1248,1535,1257"/>
<area shape="poly" title=" " alt="" coords="1553,1313,1431,1347,1429,1342,1552,1307"/>
<area shape="rect" href="class_r_g_w_op___d_a_t_a_log___status.html#a4f79dca41731b7246ffaef20a77180be" title=" " alt="" coords="1291,1263,1468,1305"/>
<area shape="poly" title=" " alt="" coords="1531,1287,1469,1287,1469,1281,1531,1281"/>
<area shape="poly" title=" " alt="" coords="1805,985,1747,986,1746,981,1805,979"/>
<area shape="poly" title=" " alt="" coords="1530,992,1123,997,428,997,333,1004,256,1012,219,1011,183,1004,144,989,101,963,71,934,51,897,38,860,31,832,36,831,43,859,56,895,76,930,104,959,146,984,184,999,220,1006,255,1006,332,998,428,992,1122,992,1530,987"/>
<area shape="poly" title=" " alt="" coords="1531,1009,1193,1067,1192,1061,1530,1004"/>
<area shape="poly" title=" " alt="" coords="1530,967,1480,958,1481,952,1531,962"/>
<area shape="poly" title=" " alt="" coords="1590,960,1484,905,1298,820,1155,759,1157,754,1301,816,1486,900,1593,955"/>
<area shape="rect" href="class_r_g_w_meta_sync_status_manager.html#a2e6dcb3f153919994f8b9864c033210a" title=" " alt="" coords="1533,813,1759,840"/>
<area shape="poly" title=" " alt="" coords="1791,841,1759,838,1760,833,1792,836"/>
<area shape="poly" title=" " alt="" coords="1517,832,1284,839,1016,855,914,866,835,880,755,891,652,896,428,896,335,896,263,893,191,881,102,857,52,834,54,829,104,852,192,876,263,887,335,891,428,891,652,891,754,886,834,875,913,861,1016,849,1284,834,1517,826"/>
<area shape="rect" href="class_r_g_w_meta_sync_processor_thread.html#abe2acfcf6f22db63d007a86d6c389262" title=" " alt="" coords="1274,747,1485,789"/>
<area shape="poly" title=" " alt="" coords="1566,812,1479,792,1480,787,1567,807"/>
</map>
</div>

</div>
</div>
<a id="a15dd52ecddc8de71b5476bac51af66b7" name="a15dd52ecddc8de71b5476bac51af66b7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a15dd52ecddc8de71b5476bac51af66b7">&#9670;&#160;</a></span>trim_sync_error_log()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int trim_sync_error_log </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>shard_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const string &amp;&#160;</td>
          <td class="paramname"><em>marker</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>delay_ms</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition"><a class="el" href="rgw__admin_8cc_source.html">rgw_admin.cc</a> 파일의 <a class="el" href="rgw__admin_8cc_source.html#l02999">2999</a> 번째 라인에서 정의되었습니다.</p>
<div class="fragment"><div class="line"><span class="lineno"> 3000</span>{</div>
<div class="line"><span class="lineno"> 3001</span>  <span class="keyword">auto</span> oid = <a class="code hl_function" href="class_r_g_w_sync_error_logger.html#afaa584ebdd99faff55eec43fe1e48ae8">RGWSyncErrorLogger::get_shard_oid</a>(<a class="code hl_define" href="rgw__sync_8h.html#ac5f423d1a7806a5f3e8995fa874d51c4">RGW_SYNC_ERROR_LOG_SHARD_PREFIX</a>,</div>
<div class="line"><span class="lineno"> 3002</span>                                               shard_id);</div>
<div class="line"><span class="lineno"> 3003</span>  <span class="comment">// call cls_log_trim() until it returns -ENODATA</span></div>
<div class="line"><span class="lineno"> 3004</span>  <span class="keywordflow">for</span> (;;) {</div>
<div class="line"><span class="lineno"> 3005</span>    <span class="keywordtype">int</span> ret = <span class="keyword">static_cast&lt;</span><a class="code hl_class" href="classrgw_1_1sal_1_1_rados_store.html">rgw::sal::RadosStore</a>*<span class="keyword">&gt;</span>(<a class="code hl_variable" href="rgw__admin_8cc.html#a6fdb26d64b14d837b60e83a6ca3e2863">store</a>)-&gt;svc()-&gt;cls-&gt;timelog.trim(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>(), oid, {}, {}, {}, marker, <span class="keyword">nullptr</span>,</div>
<div class="line"><span class="lineno"> 3006</span>                          null_yield);</div>
<div class="line"><span class="lineno"> 3007</span>    <span class="keywordflow">if</span> (ret == -ENODATA) {</div>
<div class="line"><span class="lineno"> 3008</span>      <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno"> 3009</span>    }</div>
<div class="line"><span class="lineno"> 3010</span>    <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno"> 3011</span>      <span class="keywordflow">return</span> ret;</div>
<div class="line"><span class="lineno"> 3012</span>    }</div>
<div class="line"><span class="lineno"> 3013</span>    <span class="keywordflow">if</span> (delay_ms) {</div>
<div class="line"><span class="lineno"> 3014</span>      std::this_thread::sleep_for(std::chrono::milliseconds(delay_ms));</div>
<div class="line"><span class="lineno"> 3015</span>    }</div>
<div class="line"><span class="lineno"> 3016</span>  }</div>
<div class="line"><span class="lineno"> 3017</span>  <span class="comment">// unreachable</span></div>
<div class="line"><span class="lineno"> 3018</span>}</div>
</div><!-- fragment --><div class="dynheader">
이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="rgw__admin_8cc_a15dd52ecddc8de71b5476bac51af66b7_cgraph.png" border="0" usemap="#argw__admin_8cc_a15dd52ecddc8de71b5476bac51af66b7_cgraph" alt=""/></div>
<map name="argw__admin_8cc_a15dd52ecddc8de71b5476bac51af66b7_cgraph" id="argw__admin_8cc_a15dd52ecddc8de71b5476bac51af66b7_cgraph">
<area shape="rect" title=" " alt="" coords="5,35,141,61"/>
<area shape="rect" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5" title=" " alt="" coords="243,5,285,32"/>
<area shape="poly" title=" " alt="" coords="141,35,227,21,228,27,142,40"/>
<area shape="rect" href="class_r_g_w_sync_error_logger.html#afaa584ebdd99faff55eec43fe1e48ae8" title=" " alt="" coords="189,56,339,99"/>
<area shape="poly" title=" " alt="" coords="142,56,174,61,173,66,141,61"/>
</map>
</div>
<div class="dynheader">
이 함수를 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="rgw__admin_8cc_a15dd52ecddc8de71b5476bac51af66b7_icgraph.png" border="0" usemap="#argw__admin_8cc_a15dd52ecddc8de71b5476bac51af66b7_icgraph" alt=""/></div>
<map name="argw__admin_8cc_a15dd52ecddc8de71b5476bac51af66b7_icgraph" id="argw__admin_8cc_a15dd52ecddc8de71b5476bac51af66b7_icgraph">
<area shape="rect" title=" " alt="" coords="103,5,238,32"/>
<area shape="rect" href="rgw__admin_8cc.html#a217dbf8b442f20279ea00b898af96f52" title=" " alt="" coords="5,5,55,32"/>
<area shape="poly" title=" " alt="" coords="87,21,55,21,55,16,87,16"/>
</map>
</div>

</div>
</div>
<a id="a33812c768aaef292f4ee9a7dbfb1e6dd" name="a33812c768aaef292f4ee9a7dbfb1e6dd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a33812c768aaef292f4ee9a7dbfb1e6dd">&#9670;&#160;</a></span>try_to_resolve_local_entities()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int try_to_resolve_local_entities </td>
          <td>(</td>
          <td class="paramtype">string &amp;&#160;</td>
          <td class="paramname"><em>realm_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string &amp;&#160;</td>
          <td class="paramname"><em>realm_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string &amp;&#160;</td>
          <td class="paramname"><em>zonegroup_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string &amp;&#160;</td>
          <td class="paramname"><em>zonegroup_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string &amp;&#160;</td>
          <td class="paramname"><em>zone_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string &amp;&#160;</td>
          <td class="paramname"><em>zone_name</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition"><a class="el" href="rgw__admin_8cc_source.html">rgw_admin.cc</a> 파일의 <a class="el" href="rgw__admin_8cc_source.html#l03300">3300</a> 번째 라인에서 정의되었습니다.</p>
<div class="fragment"><div class="line"><span class="lineno"> 3303</span>{</div>
<div class="line"><span class="lineno"> 3304</span>  <span class="comment">/*</span></div>
<div class="line"><span class="lineno"> 3305</span><span class="comment">   * Try to figure out realm, zonegroup, and zone entities, based on provided params and local zone.</span></div>
<div class="line"><span class="lineno"> 3306</span><span class="comment">   *</span></div>
<div class="line"><span class="lineno"> 3307</span><span class="comment">   * First read the local zone info (for zone id/name). Then search existing realm and period</span></div>
<div class="line"><span class="lineno"> 3308</span><span class="comment">   *  configuration and if found, update (but don&#39;t override) passed params.</span></div>
<div class="line"><span class="lineno"> 3309</span><span class="comment">   *</span></div>
<div class="line"><span class="lineno"> 3310</span><span class="comment">   */</span></div>
<div class="line"><span class="lineno"> 3311</span> </div>
<div class="line"><span class="lineno"> 3312</span>  ldpp_dout(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>(), 20) &lt;&lt; __func__ &lt;&lt; <span class="stringliteral">&quot;(): before: realm_id=&quot;</span> &lt;&lt; realm_id &lt;&lt; <span class="stringliteral">&quot; realm_name=&quot;</span> &lt;&lt; realm_name &lt;&lt; <span class="stringliteral">&quot; zonegroup_id=&quot;</span> &lt;&lt; zonegroup_id &lt;&lt; <span class="stringliteral">&quot; zonegroup_name=&quot;</span> &lt;&lt; zonegroup_name &lt;&lt; <span class="stringliteral">&quot; zone_id=&quot;</span> &lt;&lt; zone_id &lt;&lt; <span class="stringliteral">&quot; zone_name=&quot;</span> &lt;&lt; zone_name &lt;&lt; dendl;</div>
<div class="line"><span class="lineno"> 3313</span>  <span class="keywordtype">int</span> <a class="code hl_variable" href="rgw__aio_8cc.html#ae38055824c6eac64615832ad9d888539">r</a> = <a class="code hl_function" href="rgw__admin_8cc.html#a004948fa8d9f2a3b5f6801bebab78398">try_to_resolve_local_zone</a>(zone_id, zone_name);</div>
<div class="line"><span class="lineno"> 3314</span>  <span class="keywordflow">if</span> (<a class="code hl_variable" href="rgw__aio_8cc.html#ae38055824c6eac64615832ad9d888539">r</a> == -ENOENT) {</div>
<div class="line"><span class="lineno"> 3315</span>    <span class="comment">/* this local zone doesn&#39;t exist, abort */</span></div>
<div class="line"><span class="lineno"> 3316</span>    <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno"> 3317</span>  }</div>
<div class="line"><span class="lineno"> 3318</span>  <span class="keywordflow">if</span> (<a class="code hl_variable" href="rgw__aio_8cc.html#ae38055824c6eac64615832ad9d888539">r</a> &lt; 0) {</div>
<div class="line"><span class="lineno"> 3319</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="rgw__aio_8cc.html#ae38055824c6eac64615832ad9d888539">r</a>;</div>
<div class="line"><span class="lineno"> 3320</span>  }</div>
<div class="line"><span class="lineno"> 3321</span> </div>
<div class="line"><span class="lineno"> 3322</span>  <span class="keywordflow">if</span> (zone_id.empty()) {</div>
<div class="line"><span class="lineno"> 3323</span>    <span class="comment">/* not sure it&#39;s possible, but let&#39;s abort */</span></div>
<div class="line"><span class="lineno"> 3324</span>    <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno"> 3325</span>  }</div>
<div class="line"><span class="lineno"> 3326</span> </div>
<div class="line"><span class="lineno"> 3327</span>  <span class="keywordtype">bool</span> found;</div>
<div class="line"><span class="lineno"> 3328</span>  <a class="code hl_class" href="class_r_g_w_realm.html">RGWRealm</a> realm;</div>
<div class="line"><span class="lineno"> 3329</span>  <a class="code hl_class" href="class_r_g_w_period.html">RGWPeriod</a> period;</div>
<div class="line"><span class="lineno"> 3330</span>  <a class="code hl_struct" href="struct_r_g_w_zone_group.html">RGWZoneGroup</a> zonegroup;</div>
<div class="line"><span class="lineno"> 3331</span>  <a class="code hl_variable" href="rgw__aio_8cc.html#ae38055824c6eac64615832ad9d888539">r</a> = <a class="code hl_function" href="rgw__admin_8cc.html#a84cea37ccd3887febf97098889bfb364">search_entities_by_zone</a>(zone_id, &amp;realm, &amp;period, &amp;zonegroup, &amp;found);</div>
<div class="line"><span class="lineno"> 3332</span>  <span class="keywordflow">if</span> (<a class="code hl_variable" href="rgw__aio_8cc.html#ae38055824c6eac64615832ad9d888539">r</a> &lt; 0) {</div>
<div class="line"><span class="lineno"> 3333</span>    ldpp_dout(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>(), 0) &lt;&lt; <span class="stringliteral">&quot;ERROR: error when searching for realm id (r=&quot;</span> &lt;&lt; <a class="code hl_variable" href="rgw__aio_8cc.html#ae38055824c6eac64615832ad9d888539">r</a> &lt;&lt; <span class="stringliteral">&quot;), ignoring&quot;</span> &lt;&lt; dendl;</div>
<div class="line"><span class="lineno"> 3334</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="rgw__aio_8cc.html#ae38055824c6eac64615832ad9d888539">r</a>;</div>
<div class="line"><span class="lineno"> 3335</span>  }</div>
<div class="line"><span class="lineno"> 3336</span> </div>
<div class="line"><span class="lineno"> 3337</span>  <span class="keywordflow">if</span> (!found) {</div>
<div class="line"><span class="lineno"> 3338</span>    <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno"> 3339</span>  }</div>
<div class="line"><span class="lineno"> 3340</span> </div>
<div class="line"><span class="lineno"> 3341</span>  <a class="code hl_function" href="rgw__admin_8cc.html#a8152a0df0f659eada315ad2bd06088eb">check_set_consistent</a>(realm.<a class="code hl_function" href="class_r_g_w_system_meta_obj.html#ab885e5d275a5396cc473703ab55f50b1">get_id</a>(), realm_id, <span class="stringliteral">&quot;realm id (--realm-id)&quot;</span>);</div>
<div class="line"><span class="lineno"> 3342</span>  <a class="code hl_function" href="rgw__admin_8cc.html#a8152a0df0f659eada315ad2bd06088eb">check_set_consistent</a>(realm.<a class="code hl_function" href="class_r_g_w_system_meta_obj.html#a333abaa7960a2c63b4341d5f9ec500bf">get_name</a>(), realm_name, <span class="stringliteral">&quot;realm name (--rgw-realm)&quot;</span>);</div>
<div class="line"><span class="lineno"> 3343</span>  <a class="code hl_function" href="rgw__admin_8cc.html#a8152a0df0f659eada315ad2bd06088eb">check_set_consistent</a>(zonegroup.<a class="code hl_function" href="class_r_g_w_system_meta_obj.html#ab885e5d275a5396cc473703ab55f50b1">get_id</a>(), zonegroup_id, <span class="stringliteral">&quot;zonegroup id (--zonegroup-id)&quot;</span>);</div>
<div class="line"><span class="lineno"> 3344</span>  <a class="code hl_function" href="rgw__admin_8cc.html#a8152a0df0f659eada315ad2bd06088eb">check_set_consistent</a>(zonegroup.<a class="code hl_function" href="class_r_g_w_system_meta_obj.html#a333abaa7960a2c63b4341d5f9ec500bf">get_name</a>(), zonegroup_name, <span class="stringliteral">&quot;zonegroup name (--rgw-zonegroup)&quot;</span>);</div>
<div class="line"><span class="lineno"> 3345</span> </div>
<div class="line"><span class="lineno"> 3346</span>  ldpp_dout(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>(), 20) &lt;&lt; __func__ &lt;&lt; <span class="stringliteral">&quot;(): after: realm_id=&quot;</span> &lt;&lt; realm_id &lt;&lt; <span class="stringliteral">&quot; realm_name=&quot;</span> &lt;&lt; realm_name &lt;&lt; <span class="stringliteral">&quot; zonegroup_id=&quot;</span> &lt;&lt; zonegroup_id &lt;&lt; <span class="stringliteral">&quot; zonegroup_name=&quot;</span> &lt;&lt; zonegroup_name &lt;&lt; <span class="stringliteral">&quot; zone_id=&quot;</span> &lt;&lt; zone_id &lt;&lt; <span class="stringliteral">&quot; zone_name=&quot;</span> &lt;&lt; zone_name &lt;&lt; dendl;</div>
<div class="line"><span class="lineno"> 3347</span> </div>
<div class="line"><span class="lineno"> 3348</span>  <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno"> 3349</span>}</div>
<div class="ttc" id="argw__admin_8cc_html_a004948fa8d9f2a3b5f6801bebab78398"><div class="ttname"><a href="rgw__admin_8cc.html#a004948fa8d9f2a3b5f6801bebab78398">try_to_resolve_local_zone</a></div><div class="ttdeci">static int try_to_resolve_local_zone(string &amp;zone_id, string &amp;zone_name)</div><div class="ttdef"><b>Definition</b> <a href="rgw__admin_8cc_source.html#l03264">rgw_admin.cc:3264</a></div></div>
<div class="ttc" id="argw__admin_8cc_html_a8152a0df0f659eada315ad2bd06088eb"><div class="ttname"><a href="rgw__admin_8cc.html#a8152a0df0f659eada315ad2bd06088eb">check_set_consistent</a></div><div class="ttdeci">static void check_set_consistent(const string &amp;resolved_param, string &amp;param, const string &amp;param_name)</div><div class="ttdef"><b>Definition</b> <a href="rgw__admin_8cc_source.html#l03286">rgw_admin.cc:3286</a></div></div>
<div class="ttc" id="argw__admin_8cc_html_a84cea37ccd3887febf97098889bfb364"><div class="ttname"><a href="rgw__admin_8cc.html#a84cea37ccd3887febf97098889bfb364">search_entities_by_zone</a></div><div class="ttdeci">static int search_entities_by_zone(rgw_zone_id zone_id, RGWRealm *prealm, RGWPeriod *pperiod, RGWZoneGroup *pzonegroup, bool *pfound)</div><div class="ttdef"><b>Definition</b> <a href="rgw__admin_8cc_source.html#l03225">rgw_admin.cc:3225</a></div></div>
</div><!-- fragment --><div class="dynheader">
이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="rgw__admin_8cc_a33812c768aaef292f4ee9a7dbfb1e6dd_cgraph.png" border="0" usemap="#argw__admin_8cc_a33812c768aaef292f4ee9a7dbfb1e6dd_cgraph" alt=""/></div>
<map name="argw__admin_8cc_a33812c768aaef292f4ee9a7dbfb1e6dd_cgraph" id="argw__admin_8cc_a33812c768aaef292f4ee9a7dbfb1e6dd_cgraph">
<area shape="rect" title=" " alt="" coords="5,143,141,186"/>
<area shape="rect" href="rgw__admin_8cc.html#a8152a0df0f659eada315ad2bd06088eb" title=" " alt="" coords="1875,62,2023,88"/>
<area shape="poly" title=" " alt="" coords="134,140,204,118,291,96,386,79,482,72,1455,72,1859,72,1859,78,1455,78,482,78,387,85,292,101,206,123,136,145"/>
<area shape="rect" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5" title=" " alt="" coords="2564,631,2606,658"/>
<area shape="poly" title=" " alt="" coords="99,140,139,111,188,85,267,53,331,34,397,24,482,22,2188,22,2240,19,2287,14,2368,3,2406,4,2443,13,2480,32,2518,64,2532,95,2545,152,2565,313,2578,488,2585,615,2580,616,2573,488,2559,314,2540,153,2527,97,2514,67,2477,36,2441,18,2405,10,2369,9,2287,19,2241,25,2188,27,482,27,398,30,332,39,268,58,190,90,142,116,102,145"/>
<area shape="rect" href="class_r_g_w_system_meta_obj.html#ab885e5d275a5396cc473703ab55f50b1" title=" " alt="" coords="619,366,810,392"/>
<area shape="poly" title=" " alt="" coords="94,184,136,225,162,246,190,263,241,287,295,307,405,337,512,357,604,369,603,374,511,363,404,342,293,312,239,292,187,268,159,250,132,229,91,188"/>
<area shape="rect" href="class_r_g_w_system_meta_obj.html#a333abaa7960a2c63b4341d5f9ec500bf" title=" " alt="" coords="608,163,821,190"/>
<area shape="poly" title=" " alt="" coords="141,163,593,172,593,177,141,168"/>
<area shape="rect" href="rgw__admin_8cc.html#a84cea37ccd3887febf97098889bfb364" title=" " alt="" coords="191,227,357,254"/>
<area shape="poly" title=" " alt="" coords="133,184,223,219,221,224,131,189"/>
<area shape="rect" href="rgw__admin_8cc.html#a004948fa8d9f2a3b5f6801bebab78398" title=" " alt="" coords="189,416,359,443"/>
<area shape="poly" title=" " alt="" coords="82,186,94,229,116,286,148,344,168,372,190,396,206,407,203,411,187,400,164,375,143,347,111,288,89,231,77,187"/>
<area shape="poly" title=" " alt="" coords="2024,66,2148,58,2295,57,2366,61,2430,70,2482,84,2518,105,2532,134,2544,186,2564,335,2577,496,2585,616,2580,616,2572,497,2558,335,2539,187,2527,136,2514,109,2480,89,2429,75,2366,66,2295,62,2149,63,2024,71"/>
<area shape="poly" title=" " alt="" coords="316,224,445,185,526,165,608,148,706,134,783,126,959,123,2188,123,2289,121,2332,121,2371,125,2409,133,2445,149,2481,175,2518,211,2537,242,2552,288,2563,343,2572,404,2582,524,2586,616,2581,616,2577,525,2566,404,2558,344,2546,289,2532,244,2514,214,2477,179,2442,154,2407,138,2370,130,2331,126,2289,126,2188,128,959,128,783,131,706,139,609,154,527,170,447,191,317,229"/>
<area shape="rect" href="class_r_g_w_realm.html#ac49ccaf2e8d356f93478e5ea109c1c91" title=" " alt="" coords="407,264,560,291"/>
<area shape="poly" title=" " alt="" coords="353,252,392,259,391,264,352,257"/>
<area shape="rect" href="class_r_g_w_system_meta_obj.html#a23150c4c841a29335f5a93ede8f8ecb6" title=" " alt="" coords="628,591,801,618"/>
<area shape="poly" title=" " alt="" coords="294,252,687,579,683,583,290,256"/>
<area shape="poly" title=" " alt="" coords="543,261,608,250,983,205,1276,183,1570,175,1948,174,2188,174,2290,174,2333,177,2372,183,2409,195,2445,214,2481,241,2518,279,2534,305,2547,342,2566,437,2579,537,2585,615,2580,616,2573,538,2561,438,2542,344,2529,307,2514,282,2477,245,2442,218,2407,200,2371,188,2332,182,2290,179,2188,179,1948,179,1570,180,1276,188,983,211,609,255,544,267"/>
<area shape="poly" title=" " alt="" coords="526,289,562,308,576,319,586,331,595,341,610,351,623,358,621,362,607,356,592,345,582,334,573,323,559,312,523,294"/>
<area shape="poly" title=" " alt="" coords="522,261,559,244,582,225,607,206,638,193,641,198,610,211,586,229,562,248,524,266"/>
<area shape="rect" href="class_r_g_w_period.html#a7abd7a6f88765d4c711d822ff99990da" title=" " alt="" coords="638,315,791,342"/>
<area shape="poly" title=" " alt="" coords="549,289,636,309,635,314,547,294"/>
<area shape="rect" href="class_r_g_w_period.html#aa5e1b5147ab3f01311c33cc73927d1c2" title=" " alt="" coords="657,264,772,291"/>
<area shape="poly" title=" " alt="" coords="561,275,641,275,641,280,561,280"/>
<area shape="rect" href="struct_r_g_w_period_map.html#a5ffb8865827c5780d09feabd3d0f31ca" title=" " alt="" coords="889,307,1032,350"/>
<area shape="poly" title=" " alt="" coords="791,326,873,326,873,331,791,331"/>
<area shape="poly" title=" " alt="" coords="722,617,737,668,765,741,785,780,809,819,838,854,870,885,912,916,951,938,987,953,1023,963,1101,971,1200,971,2188,971,2240,974,2286,980,2366,994,2402,995,2438,989,2475,973,2514,945,2528,927,2540,898,2559,822,2572,740,2579,673,2584,674,2577,741,2565,823,2545,900,2533,929,2518,949,2478,978,2440,994,2403,1000,2365,999,2285,986,2240,979,2188,976,1200,976,1101,976,1022,968,985,958,948,943,910,920,867,889,834,858,805,822,781,783,760,743,732,670,717,619"/>
<area shape="rect" href="class_r_g_w_system_meta_obj.html#a817e95ad94657bfe6db891f4d9881468" title=" " alt="" coords="874,432,1047,475"/>
<area shape="poly" title=" " alt="" coords="729,589,787,539,826,511,867,485,877,480,880,484,870,489,829,515,790,544,732,593"/>
<area shape="rect" href="class_r_g_w_system_meta_obj.html#aba55c7315c627119d622b006378a8025" title=" " alt="" coords="874,499,1047,542"/>
<area shape="poly" title=" " alt="" coords="755,588,880,545,882,550,757,593"/>
<area shape="rect" href="class_r_g_w_system_meta_obj.html#ab3b9b6a166d26f18f7aab617d35d57cd" title=" " alt="" coords="1355,523,1553,550"/>
<area shape="poly" title=" " alt="" coords="801,594,1340,544,1340,549,801,599"/>
<area shape="rect" href="class_r_g_w_system_meta_obj.html#ae7e3aff329eedbd281ac07a44ecd6a61" title=" " alt="" coords="1350,574,1558,600"/>
<area shape="poly" title=" " alt="" coords="801,602,1027,602,1302,595,1335,593,1335,599,1302,600,1028,607,801,608"/>
<area shape="rect" href="class_r_g_w_system_meta_obj.html#a62f5b26f43f66ec573d39b441f754f91" title=" " alt="" coords="869,832,1052,875"/>
<area shape="poly" title=" " alt="" coords="731,616,871,761,928,819,924,823,867,765,727,620"/>
<area shape="rect" href="class_r_g_w_system_meta_obj.html#a5a8935b9b30c0fa33b9a7944f6011466" title=" " alt="" coords="872,708,1049,751"/>
<area shape="poly" title=" " alt="" coords="744,616,904,698,902,703,742,621"/>
<area shape="poly" title=" " alt="" coords="1457,522,1474,479,1503,421,1523,391,1547,362,1574,337,1604,317,1662,297,1759,277,1884,260,2025,248,2170,246,2241,249,2308,256,2371,268,2428,283,2477,304,2518,330,2533,351,2547,381,2566,461,2578,547,2585,615,2579,616,2573,547,2561,462,2542,383,2529,353,2514,334,2475,309,2426,288,2370,273,2307,262,2240,255,2170,251,2025,253,1884,265,1760,282,1664,302,1607,321,1577,341,1551,366,1528,394,1508,424,1479,481,1462,524"/>
<area shape="rect" href="class_r_g_w_system_meta_obj.html#acac7c925fbb228672af3985d25b211d1" title=" " alt="" coords="1609,707,1807,734"/>
<area shape="poly" title=" " alt="" coords="1541,548,1559,560,1572,573,1580,587,1586,614,1591,642,1597,655,1608,669,1627,685,1649,698,1647,703,1624,690,1604,673,1592,658,1586,643,1580,615,1575,589,1568,576,1556,564,1538,553"/>
<area shape="rect" href="class_r_g_w_system_meta_obj.html#a4a7c4b8d2f38faaa98a08a4671a48f28" title=" " alt="" coords="1621,214,1795,256"/>
<area shape="poly" title=" " alt="" coords="1457,522,1474,476,1504,409,1547,337,1574,303,1604,273,1619,262,1622,267,1607,277,1578,307,1551,340,1508,412,1479,478,1462,524"/>
<area shape="rect" href="class_r_g_w_s_i___sys_obj.html#a07a9aa07a04694c3df0dcefd1c84e12f" title=" " alt="" coords="1625,758,1791,784"/>
<area shape="poly" title=" " alt="" coords="1544,548,1560,560,1577,583,1585,607,1586,630,1584,654,1583,677,1584,700,1591,722,1608,744,1613,749,1610,753,1604,748,1586,724,1579,701,1577,677,1579,654,1581,630,1579,608,1572,586,1556,564,1541,553"/>
<area shape="rect" href="class_r_g_w_system_meta_obj.html#ab4375285103f2c85951f748607dab8d9" title=" " alt="" coords="1606,331,1810,358"/>
<area shape="poly" title=" " alt="" coords="1461,521,1483,489,1515,448,1556,404,1604,368,1615,362,1617,367,1607,372,1560,408,1519,451,1487,493,1466,524"/>
<area shape="rect" href="class_r_g_w_s_i___sys_obj.html#a42dbd3046b9d94873446090556f05e63" title=" " alt="" coords="1638,566,1778,608"/>
<area shape="poly" title=" " alt="" coords="1525,548,1623,568,1622,573,1524,553"/>
<area shape="rect" href="struct_r_g_w_s_i___sys_obj_1_1_obj_1_1_r_op.html#a55890f78a9ed31e3ae4e5f22e84f9cbf" title=" " alt="" coords="1632,499,1784,542"/>
<area shape="poly" title=" " alt="" coords="1553,528,1617,523,1617,529,1553,533"/>
<area shape="rect" href="class_r_g_w_s_i___sys_obj_1_1_obj.html#a4cb9ed748128c5e25d73056b4bc11bc5" title=" " alt="" coords="1623,632,1793,659"/>
<area shape="poly" title=" " alt="" coords="1535,548,1559,560,1575,574,1584,590,1592,605,1607,618,1616,623,1614,628,1604,623,1588,608,1579,592,1571,578,1556,564,1533,553"/>
<area shape="poly" title=" " alt="" coords="1667,708,1660,698,1665,689,1681,683,1708,680,1737,683,1752,690,1750,695,1736,688,1708,686,1682,688,1669,693,1665,698,1672,705"/>
<area shape="poly" title=" " alt="" coords="1782,540,1811,551,1855,572,1890,593,1948,633,2007,669,2044,686,2089,701,2209,735,2259,747,2306,755,2352,756,2401,751,2454,737,2515,714,2544,694,2566,669,2570,672,2547,698,2517,719,2456,742,2402,756,2352,762,2305,760,2258,752,2207,740,2088,706,2042,691,2005,674,1945,637,1887,597,1852,577,1809,556,1780,545"/>
<area shape="rect" href="class_r_g_w_s_i___sys_obj___core.html#a03e9b419187607394a0ea471f2fc9423" title=" " alt="" coords="1858,507,2040,534"/>
<area shape="poly" title=" " alt="" coords="1784,518,1843,518,1843,523,1784,523"/>
<area shape="poly" title=" " alt="" coords="2040,512,2180,495,2242,482,2284,466,2300,451,2307,433,2315,415,2332,400,2383,377,2427,367,2449,368,2471,373,2494,384,2518,400,2530,415,2542,437,2560,496,2583,615,2577,616,2555,497,2537,439,2526,417,2514,404,2491,389,2470,378,2449,373,2428,372,2384,382,2335,404,2319,418,2312,435,2304,454,2287,471,2243,487,2181,500,2041,517"/>
<area shape="rect" href="class_r_g_w_s_i___r_a_d_o_s_1_1_obj.html#acba7765f4366625406a8ce0e0a39e712" title=" " alt="" coords="2101,414,2273,456"/>
<area shape="poly" title=" " alt="" coords="1988,504,2110,460,2112,465,1990,509"/>
<area shape="rect" href="class_r_g_w_s_i___sys_obj___core.html#a761aa8f43c2fd7a005e3ce10f8997afd" title=" " alt="" coords="2108,598,2266,640"/>
<area shape="poly" title=" " alt="" coords="1979,532,2089,583,2105,589,2103,594,2087,588,1976,537"/>
<area shape="rect" href="class_r_g_w_s_i___r_a_d_o_s_1_1_obj.html#a7cf0358834aa8caa78893cc5d4d98f2b" title=" " alt="" coords="2088,664,2286,691"/>
<area shape="poly" title=" " alt="" coords="1963,533,2013,590,2049,622,2090,650,2102,656,2100,661,2087,655,2046,627,2010,594,1959,536"/>
<area shape="rect" href="struct_r_g_w_obj_version_tracker.html#a00fa9eb065d43718c02325862a0d1df7" title=" " alt="" coords="2107,531,2267,574"/>
<area shape="poly" title=" " alt="" coords="2041,530,2092,537,2091,542,2040,535"/>
<area shape="rect" href="rgw__tools_8cc.html#a6cc59136e1df61d96f404169c4a300ce" title=" " alt="" coords="2129,363,2245,390"/>
<area shape="poly" title=" " alt="" coords="1960,505,2012,454,2048,424,2087,399,2113,388,2115,393,2090,404,2051,429,2015,457,1964,509"/>
<area shape="poly" title=" " alt="" coords="2252,595,2333,567,2427,550,2468,551,2517,567,2548,589,2570,616,2566,620,2544,593,2515,572,2467,557,2427,555,2334,572,2253,600"/>
<area shape="rect" href="class_r_g_w_s_i___r_a_d_o_s.html#ad7d4a82ecd8081a59c37e3730345711d" title=" " alt="" coords="2353,480,2497,507"/>
<area shape="poly" title=" " alt="" coords="2264,595,2284,584,2299,569,2307,555,2316,539,2332,524,2354,511,2357,516,2335,528,2320,542,2312,557,2303,573,2287,588,2267,600"/>
<area shape="rect" href="class_r_g_w_s_i___r_a_d_o_s_1_1_obj.html#adc703eaa1aad5a55504ce25bea09836a" title=" " alt="" coords="2334,606,2516,632"/>
<area shape="poly" title=" " alt="" coords="2266,616,2318,616,2318,622,2266,622"/>
<area shape="poly" title=" " alt="" coords="2513,630,2549,636,2548,641,2512,636"/>
<area shape="poly" title=" " alt="" coords="2397,607,2392,597,2396,587,2407,581,2425,579,2444,582,2455,588,2452,593,2442,587,2425,584,2408,586,2400,591,2397,597,2402,604"/>
<area shape="poly" title=" " alt="" coords="2240,689,2297,701,2367,708,2442,707,2479,702,2515,693,2538,681,2558,666,2561,671,2541,686,2517,698,2480,707,2443,713,2367,714,2297,706,2239,694"/>
<area shape="rect" href="rgw__tools_8cc.html#ac8fd9a95626d93661d7280c9455eba5c" title="perform the rados operation, using the yield context when given" alt="" coords="2360,656,2490,683"/>
<area shape="poly" title=" " alt="" coords="2286,672,2344,670,2344,675,2286,677"/>
<area shape="poly" title=" " alt="" coords="2490,657,2548,647,2549,653,2491,662"/>
<area shape="rect" href="struct_r_g_w_obj_version_tracker.html#a962d855794c47d114e825f836d0e12dc" title=" " alt="" coords="2345,414,2505,456"/>
<area shape="poly" title=" " alt="" coords="2249,528,2284,510,2308,488,2317,478,2332,466,2341,461,2344,466,2335,471,2321,481,2311,492,2287,515,2252,533"/>
<area shape="poly" title=" " alt="" coords="1535,571,1556,560,1572,542,1579,523,1587,504,1604,485,1631,468,1656,457,1702,448,1750,445,1809,434,1887,409,1947,385,2008,365,2088,348,2143,343,2187,342,2286,348,2322,347,2353,343,2410,333,2436,331,2462,335,2489,345,2518,365,2532,383,2544,409,2563,479,2576,554,2584,615,2578,616,2571,554,2558,480,2539,411,2527,386,2514,369,2487,350,2461,340,2436,337,2410,338,2354,348,2322,353,2286,354,2187,348,2144,348,2089,354,2009,370,1949,391,1889,414,1811,439,1751,450,1703,453,1658,462,1634,473,1607,489,1591,507,1584,525,1576,545,1559,564,1538,576"/>
<area shape="poly" title=" " alt="" coords="1516,599,1559,618,1575,631,1584,644,1593,656,1607,669,1658,698,1655,703,1604,673,1589,660,1580,647,1571,635,1556,623,1514,603"/>
<area shape="poly" title=" " alt="" coords="1527,599,1559,618,1573,635,1580,651,1584,683,1588,715,1595,729,1608,744,1613,749,1610,753,1604,748,1590,732,1583,716,1579,684,1575,652,1568,637,1556,622,1525,603"/>
<area shape="poly" title=" " alt="" coords="1541,571,1556,560,1573,537,1580,514,1581,490,1579,466,1577,442,1578,417,1586,392,1604,368,1607,365,1611,369,1608,372,1591,395,1583,418,1582,441,1584,466,1586,490,1585,515,1577,539,1560,564,1544,575"/>
<area shape="poly" title=" " alt="" coords="1558,584,1622,584,1622,590,1558,590"/>
<area shape="poly" title=" " alt="" coords="1512,571,1557,559,1616,543,1618,548,1558,564,1513,576"/>
<area shape="poly" title=" " alt="" coords="1515,598,1633,626,1632,631,1514,604"/>
<area shape="rect" href="class_r_g_w_system_meta_obj.html#a528019413d7412cf8012455239149972" title=" " alt="" coords="1621,382,1795,424"/>
<area shape="poly" title=" " alt="" coords="1539,571,1556,560,1568,546,1575,532,1580,503,1585,473,1591,457,1604,441,1616,431,1620,435,1608,445,1596,460,1590,474,1585,504,1580,534,1573,549,1559,564,1542,575"/>
<area shape="rect" href="class_r_g_w_s_i___sys_obj.html#aaf17b23ff4d23d6f1fc8b36b6101a731" title=" " alt="" coords="1100,898,1302,924"/>
<area shape="poly" title=" " alt="" coords="1053,873,1128,891,1126,896,1052,878"/>
<area shape="rect" href="class_r_g_w_s_i___sys_obj___core.html#a17855cbd7e8d1b9c2b3028280e501180" title=" " alt="" coords="1375,894,1533,936"/>
<area shape="poly" title=" " alt="" coords="1303,910,1359,911,1359,916,1303,915"/>
<area shape="poly" title=" " alt="" coords="1032,749,1178,792,1351,835,1481,860,1648,888,1817,911,1948,920,2188,920,2240,923,2286,929,2365,939,2402,939,2437,932,2474,916,2514,888,2526,873,2536,851,2555,792,2577,673,2583,674,2560,794,2541,853,2530,876,2518,892,2477,921,2439,937,2402,944,2365,945,2285,934,2240,928,2188,926,1948,926,1816,916,1648,894,1480,866,1350,840,1176,797,1030,754"/>
<area shape="rect" href="class_r_g_w_system_meta_obj.html#a4be124d4d443be01809092c073247dfb" title=" " alt="" coords="1111,708,1291,751"/>
<area shape="poly" title=" " alt="" coords="1049,727,1095,727,1095,732,1049,732"/>
<area shape="poly" title=" " alt="" coords="1264,749,1418,799,1511,824,1606,844,1701,860,1776,867,1948,870,2188,870,2286,876,2364,883,2400,881,2436,873,2474,856,2514,828,2531,812,2544,794,2563,752,2574,709,2580,673,2585,674,2580,711,2568,754,2548,796,2535,815,2518,832,2476,860,2438,878,2401,886,2364,888,2285,881,2188,875,1948,875,1776,873,1701,865,1605,850,1510,829,1416,804,1262,754"/>
<area shape="rect" href="class_r_g_w_system_meta_obj.html#a0b81e3c32bdde9292a8af7d648e1b3b3" title=" " alt="" coords="1367,708,1541,751"/>
<area shape="poly" title=" " alt="" coords="1292,727,1352,727,1352,732,1292,732"/>
<area shape="rect" href="class_r_g_w_system_meta_obj.html#a02c1108ff6e95f87fb595e4665ca0b35" title=" " alt="" coords="1364,632,1544,675"/>
<area shape="poly" title=" " alt="" coords="1274,705,1365,677,1367,683,1276,710"/>
<area shape="poly" title=" " alt="" coords="1529,674,1559,694,1571,708,1577,722,1582,748,1588,773,1595,784,1607,794,1651,820,1691,834,1729,840,1767,839,1847,827,1894,822,1948,819,2188,819,2285,822,2362,822,2398,817,2434,806,2472,788,2514,761,2535,742,2552,719,2573,671,2578,674,2556,721,2539,745,2518,765,2475,792,2436,811,2399,822,2363,827,2285,827,2188,824,1948,824,1895,827,1848,833,1767,844,1729,845,1690,839,1649,825,1604,799,1591,787,1584,775,1577,749,1572,723,1566,711,1556,698,1526,678"/>
<area shape="poly" title=" " alt="" coords="1539,673,1640,700,1638,705,1537,678"/>
<area shape="poly" title=" " alt="" coords="1520,673,1559,694,1574,707,1583,720,1592,732,1607,744,1619,749,1616,754,1604,748,1589,736,1579,723,1570,711,1556,699,1518,678"/>
<area shape="poly" title=" " alt="" coords="1532,630,1556,611,1574,580,1581,550,1581,520,1577,490,1573,459,1573,429,1582,398,1604,368,1606,365,1610,369,1608,371,1587,401,1579,430,1578,459,1582,489,1586,519,1587,550,1579,582,1560,614,1536,634"/>
<area shape="poly" title=" " alt="" coords="1537,629,1622,607,1623,612,1539,634"/>
<area shape="poly" title=" " alt="" coords="1522,630,1556,610,1571,596,1579,581,1588,566,1604,552,1616,544,1619,549,1607,556,1592,570,1584,584,1575,599,1559,615,1525,634"/>
<area shape="poly" title=" " alt="" coords="1545,648,1608,646,1608,652,1545,654"/>
<area shape="poly" title=" " alt="" coords="280,443,290,496,310,580,341,683,385,793,412,847,442,898,477,946,515,987,558,1023,605,1049,657,1066,713,1072,2188,1072,2240,1076,2286,1083,2367,1100,2403,1103,2439,1098,2475,1083,2514,1055,2533,1028,2548,986,2559,935,2568,877,2578,762,2581,673,2586,674,2583,762,2573,878,2565,936,2553,988,2538,1030,2518,1058,2478,1088,2440,1103,2403,1108,2366,1105,2285,1089,2240,1081,2188,1078,713,1078,656,1072,603,1054,555,1027,512,991,473,949,438,901,407,849,380,795,336,685,305,582,285,498,275,444"/>
<area shape="poly" title=" " alt="" coords="359,418,560,395,604,390,604,395,561,400,360,423"/>
<area shape="poly" title=" " alt="" coords="279,415,296,381,323,336,360,290,406,250,442,233,495,217,615,191,617,196,496,222,444,238,408,255,364,293,328,340,301,384,284,417"/>
<area shape="rect" href="struct_r_g_w_zone_params.html#a84e418e67fee30c72c959daba3b6fa46" title=" " alt="" coords="408,591,559,618"/>
<area shape="poly" title=" " alt="" coords="293,442,456,579,453,583,290,446"/>
<area shape="poly" title=" " alt="" coords="494,617,547,711,592,777,647,847,712,913,748,943,787,969,827,991,869,1007,913,1018,959,1022,2188,1022,2240,1025,2286,1032,2366,1047,2403,1050,2439,1045,2475,1029,2514,1001,2531,978,2544,943,2564,850,2575,751,2580,673,2585,673,2580,751,2569,851,2549,945,2535,981,2518,1005,2478,1034,2440,1050,2403,1055,2366,1053,2285,1037,2240,1030,2188,1027,959,1027,912,1023,868,1013,825,996,784,974,745,947,709,917,643,851,587,780,543,714,489,620"/>
<area shape="poly" title=" " alt="" coords="560,602,613,602,613,607,560,607"/>
</map>
</div>
<div class="dynheader">
이 함수를 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="rgw__admin_8cc_a33812c768aaef292f4ee9a7dbfb1e6dd_icgraph.png" border="0" usemap="#argw__admin_8cc_a33812c768aaef292f4ee9a7dbfb1e6dd_icgraph" alt=""/></div>
<map name="argw__admin_8cc_a33812c768aaef292f4ee9a7dbfb1e6dd_icgraph" id="argw__admin_8cc_a33812c768aaef292f4ee9a7dbfb1e6dd_icgraph">
<area shape="rect" title=" " alt="" coords="103,5,238,48"/>
<area shape="rect" href="rgw__admin_8cc.html#a217dbf8b442f20279ea00b898af96f52" title=" " alt="" coords="5,13,55,40"/>
<area shape="poly" title=" " alt="" coords="87,29,55,29,55,24,87,24"/>
</map>
</div>

</div>
</div>
<a id="a004948fa8d9f2a3b5f6801bebab78398" name="a004948fa8d9f2a3b5f6801bebab78398"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a004948fa8d9f2a3b5f6801bebab78398">&#9670;&#160;</a></span>try_to_resolve_local_zone()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int try_to_resolve_local_zone </td>
          <td>(</td>
          <td class="paramtype">string &amp;&#160;</td>
          <td class="paramname"><em>zone_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string &amp;&#160;</td>
          <td class="paramname"><em>zone_name</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition"><a class="el" href="rgw__admin_8cc_source.html">rgw_admin.cc</a> 파일의 <a class="el" href="rgw__admin_8cc_source.html#l03264">3264</a> 번째 라인에서 정의되었습니다.</p>
<div class="fragment"><div class="line"><span class="lineno"> 3265</span>{</div>
<div class="line"><span class="lineno"> 3266</span>  <span class="comment">/* try to read zone info */</span></div>
<div class="line"><span class="lineno"> 3267</span>  <a class="code hl_struct" href="struct_r_g_w_zone_params.html">RGWZoneParams</a> zone(zone_id, zone_name);</div>
<div class="line"><span class="lineno"> 3268</span>  <span class="keywordtype">int</span> <a class="code hl_variable" href="rgw__aio_8cc.html#ae38055824c6eac64615832ad9d888539">r</a> = zone.init(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>(), g_ceph_context, <span class="keyword">static_cast&lt;</span><a class="code hl_class" href="classrgw_1_1sal_1_1_rados_store.html">rgw::sal::RadosStore</a>*<span class="keyword">&gt;</span>(<a class="code hl_variable" href="rgw__admin_8cc.html#a6fdb26d64b14d837b60e83a6ca3e2863">store</a>)-&gt;svc()-&gt;sysobj, null_yield);</div>
<div class="line"><span class="lineno"> 3269</span>  <span class="keywordflow">if</span> (<a class="code hl_variable" href="rgw__aio_8cc.html#ae38055824c6eac64615832ad9d888539">r</a> == -ENOENT) {</div>
<div class="line"><span class="lineno"> 3270</span>    ldpp_dout(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>(), 20) &lt;&lt; __func__ &lt;&lt; <span class="stringliteral">&quot;(): local zone not found (id=&quot;</span> &lt;&lt; zone_id &lt;&lt; <span class="stringliteral">&quot;, name= &quot;</span> &lt;&lt; zone_name &lt;&lt; <span class="stringliteral">&quot;)&quot;</span> &lt;&lt; dendl;</div>
<div class="line"><span class="lineno"> 3271</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="rgw__aio_8cc.html#ae38055824c6eac64615832ad9d888539">r</a>;</div>
<div class="line"><span class="lineno"> 3272</span>  }</div>
<div class="line"><span class="lineno"> 3273</span> </div>
<div class="line"><span class="lineno"> 3274</span>  <span class="keywordflow">if</span> (<a class="code hl_variable" href="rgw__aio_8cc.html#ae38055824c6eac64615832ad9d888539">r</a> &lt; 0) {</div>
<div class="line"><span class="lineno"> 3275</span>    ldpp_dout(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>(), 0) &lt;&lt; __func__ &lt;&lt; <span class="stringliteral">&quot;(): unable to read zone (id=&quot;</span> &lt;&lt; zone_id &lt;&lt; <span class="stringliteral">&quot;, name= &quot;</span> &lt;&lt; zone_name &lt;&lt; <span class="stringliteral">&quot;): &quot;</span> &lt;&lt; cpp_strerror(-<a class="code hl_variable" href="rgw__aio_8cc.html#ae38055824c6eac64615832ad9d888539">r</a>) &lt;&lt; dendl;</div>
<div class="line"><span class="lineno"> 3276</span> </div>
<div class="line"><span class="lineno"> 3277</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="rgw__aio_8cc.html#ae38055824c6eac64615832ad9d888539">r</a>;</div>
<div class="line"><span class="lineno"> 3278</span>  }</div>
<div class="line"><span class="lineno"> 3279</span> </div>
<div class="line"><span class="lineno"> 3280</span>  zone_id = zone.get_id();</div>
<div class="line"><span class="lineno"> 3281</span>  zone_name = zone.get_name();</div>
<div class="line"><span class="lineno"> 3282</span> </div>
<div class="line"><span class="lineno"> 3283</span>  <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno"> 3284</span>}</div>
</div><!-- fragment --><div class="dynheader">
이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="rgw__admin_8cc_a004948fa8d9f2a3b5f6801bebab78398_cgraph.png" border="0" usemap="#argw__admin_8cc_a004948fa8d9f2a3b5f6801bebab78398_cgraph" alt=""/></div>
<map name="argw__admin_8cc_a004948fa8d9f2a3b5f6801bebab78398_cgraph" id="argw__admin_8cc_a004948fa8d9f2a3b5f6801bebab78398_cgraph">
<area shape="rect" title=" " alt="" coords="5,76,176,103"/>
<area shape="rect" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5" title=" " alt="" coords="2400,444,2442,471"/>
<area shape="poly" title=" " alt="" coords="119,73,167,53,223,36,319,18,395,11,569,11,2024,11,2123,6,2205,4,2242,10,2279,23,2315,45,2354,78,2371,105,2385,144,2404,243,2416,348,2421,429,2416,429,2411,348,2399,244,2379,145,2366,107,2350,82,2312,49,2276,27,2241,15,2204,10,2123,12,2024,16,569,16,395,16,320,23,224,41,169,58,121,78"/>
<area shape="rect" href="class_r_g_w_system_meta_obj.html#ab885e5d275a5396cc473703ab55f50b1" title=" " alt="" coords="235,102,425,128"/>
<area shape="poly" title=" " alt="" coords="177,96,219,101,219,106,176,101"/>
<area shape="rect" href="class_r_g_w_system_meta_obj.html#a333abaa7960a2c63b4341d5f9ec500bf" title=" " alt="" coords="224,152,436,179"/>
<area shape="poly" title=" " alt="" coords="125,101,224,138,251,145,250,150,223,143,124,106"/>
<area shape="rect" href="struct_r_g_w_zone_params.html#a84e418e67fee30c72c959daba3b6fa46" title=" " alt="" coords="254,51,406,78"/>
<area shape="poly" title=" " alt="" coords="176,78,239,71,239,76,177,83"/>
<area shape="poly" title=" " alt="" coords="406,62,795,62,2024,62,2123,58,2205,58,2242,65,2278,79,2315,102,2354,136,2368,158,2381,190,2400,271,2413,359,2420,428,2415,429,2408,359,2395,272,2376,191,2364,160,2350,139,2312,106,2276,84,2241,70,2204,64,2123,63,2024,67,795,67,406,67"/>
<area shape="rect" href="class_r_g_w_system_meta_obj.html#a23150c4c841a29335f5a93ede8f8ecb6" title=" " alt="" coords="484,362,656,388"/>
<area shape="poly" title=" " alt="" coords="407,71,438,87,467,116,492,149,512,184,529,221,553,290,567,345,561,347,548,292,524,223,507,186,487,152,463,119,434,92,405,76"/>
<area shape="poly" title=" " alt="" coords="579,387,625,494,666,571,718,653,782,731,817,766,856,796,897,822,941,842,987,854,1036,859,2024,859,2076,862,2122,869,2202,884,2239,886,2274,881,2311,866,2350,837,2367,812,2381,775,2393,727,2401,675,2412,569,2416,486,2421,487,2417,569,2406,676,2398,729,2386,776,2372,815,2354,841,2314,870,2276,886,2239,892,2202,889,2121,874,2075,867,2024,864,1035,864,986,860,939,847,894,827,853,801,814,770,778,734,714,656,661,574,620,497,574,389"/>
<area shape="rect" href="class_r_g_w_system_meta_obj.html#a817e95ad94657bfe6db891f4d9881468" title=" " alt="" coords="709,266,883,308"/>
<area shape="poly" title=" " alt="" coords="606,358,724,312,726,317,608,363"/>
<area shape="rect" href="class_r_g_w_system_meta_obj.html#aba55c7315c627119d622b006378a8025" title=" " alt="" coords="709,383,883,426"/>
<area shape="poly" title=" " alt="" coords="657,383,694,388,693,394,656,389"/>
<area shape="rect" href="class_r_g_w_system_meta_obj.html#ab3b9b6a166d26f18f7aab617d35d57cd" title=" " alt="" coords="1191,332,1388,359"/>
<area shape="poly" title=" " alt="" coords="657,369,1175,348,1175,353,657,374"/>
<area shape="rect" href="class_r_g_w_system_meta_obj.html#ae7e3aff329eedbd281ac07a44ecd6a61" title=" " alt="" coords="1186,571,1393,598"/>
<area shape="poly" title=" " alt="" coords="583,387,631,445,666,476,706,502,763,526,824,546,886,561,948,572,1067,584,1170,587,1170,592,1067,589,947,577,884,566,822,551,761,531,703,507,662,481,627,448,579,390"/>
<area shape="rect" href="class_r_g_w_system_meta_obj.html#a62f5b26f43f66ec573d39b441f754f91" title=" " alt="" coords="704,148,888,191"/>
<area shape="poly" title=" " alt="" coords="585,359,758,200,762,204,588,363"/>
<area shape="rect" href="class_r_g_w_system_meta_obj.html#a5a8935b9b30c0fa33b9a7944f6011466" title=" " alt="" coords="708,450,884,492"/>
<area shape="poly" title=" " alt="" coords="600,386,705,435,720,441,718,446,703,440,598,391"/>
<area shape="poly" title=" " alt="" coords="1297,330,1318,299,1350,259,1392,220,1440,189,1489,169,1531,157,1570,152,1607,151,1685,158,1784,163,2024,163,2124,163,2166,166,2204,172,2241,183,2277,200,2314,225,2354,260,2384,299,2403,345,2415,391,2420,429,2415,429,2410,392,2398,347,2379,302,2350,263,2311,229,2274,205,2239,188,2203,177,2165,171,2124,168,2024,168,1783,168,1685,163,1607,157,1570,157,1532,162,1490,174,1443,193,1395,224,1354,263,1323,302,1302,333"/>
<area shape="rect" href="class_r_g_w_system_meta_obj.html#acac7c925fbb228672af3985d25b211d1" title=" " alt="" coords="1445,462,1642,488"/>
<area shape="poly" title=" " alt="" coords="1360,357,1395,373,1410,385,1420,398,1429,410,1443,423,1493,452,1491,457,1440,428,1425,414,1416,401,1407,389,1392,377,1358,362"/>
<area shape="rect" href="class_r_g_w_system_meta_obj.html#a4a7c4b8d2f38faaa98a08a4671a48f28" title=" " alt="" coords="1457,203,1630,246"/>
<area shape="poly" title=" " alt="" coords="1310,329,1368,293,1440,255,1455,249,1457,254,1442,260,1370,298,1313,334"/>
<area shape="rect" href="class_r_g_w_s_i___sys_obj.html#a07a9aa07a04694c3df0dcefd1c84e12f" title=" " alt="" coords="1461,630,1626,656"/>
<area shape="poly" title=" " alt="" coords="1374,357,1395,373,1416,404,1424,435,1424,466,1419,497,1415,527,1415,557,1423,586,1443,616,1450,622,1446,625,1439,619,1418,589,1410,558,1410,527,1414,496,1419,466,1419,436,1411,406,1391,377,1371,362"/>
<area shape="rect" href="class_r_g_w_system_meta_obj.html#ab4375285103f2c85951f748607dab8d9" title=" " alt="" coords="1441,270,1646,296"/>
<area shape="poly" title=" " alt="" coords="1346,329,1471,298,1472,303,1347,334"/>
<area shape="rect" href="class_r_g_w_s_i___sys_obj.html#a42dbd3046b9d94873446090556f05e63" title=" " alt="" coords="1473,320,1614,363"/>
<area shape="poly" title=" " alt="" coords="1389,341,1458,340,1458,346,1389,347"/>
<area shape="rect" href="struct_r_g_w_s_i___sys_obj_1_1_obj_1_1_r_op.html#a55890f78a9ed31e3ae4e5f22e84f9cbf" title=" " alt="" coords="1468,563,1619,606"/>
<area shape="poly" title=" " alt="" coords="1370,357,1395,373,1409,388,1417,404,1423,434,1428,465,1434,481,1443,499,1469,527,1498,552,1494,556,1465,531,1439,502,1429,484,1423,466,1418,435,1412,406,1404,391,1392,377,1367,362"/>
<area shape="rect" href="class_r_g_w_s_i___sys_obj_1_1_obj.html#a4cb9ed748128c5e25d73056b4bc11bc5" title=" " alt="" coords="1459,387,1628,414"/>
<area shape="poly" title=" " alt="" coords="1356,357,1464,381,1463,386,1354,362"/>
<area shape="poly" title=" " alt="" coords="1503,463,1496,453,1501,443,1517,437,1544,435,1573,438,1588,444,1586,449,1571,443,1543,440,1518,442,1504,447,1501,452,1507,459"/>
<area shape="poly" title=" " alt="" coords="1606,560,1644,542,1689,514,1723,486,1779,430,1806,404,1836,380,1875,357,1923,338,1964,327,2017,318,2141,309,2204,309,2263,313,2314,323,2353,338,2376,356,2393,380,2415,428,2410,431,2389,383,2372,360,2350,343,2313,328,2262,319,2204,314,2141,314,2018,324,1965,332,1925,343,1877,362,1839,384,1809,408,1782,434,1727,490,1692,518,1647,547,1608,565"/>
<area shape="rect" href="class_r_g_w_s_i___sys_obj___core.html#a03e9b419187607394a0ea471f2fc9423" title=" " alt="" coords="1694,536,1876,563"/>
<area shape="poly" title=" " alt="" coords="1619,571,1678,562,1679,567,1620,576"/>
<area shape="poly" title=" " alt="" coords="1849,561,1924,572,2023,580,2066,579,2121,572,2145,565,2169,556,2221,543,2262,536,2302,526,2350,506,2391,479,2394,483,2353,511,2303,531,2263,541,2222,548,2170,561,2146,571,2122,577,2066,585,2023,586,1924,578,1848,566"/>
<area shape="rect" href="class_r_g_w_s_i___r_a_d_o_s_1_1_obj.html#acba7765f4366625406a8ce0e0a39e712" title=" " alt="" coords="1937,419,2109,462"/>
<area shape="poly" title=" " alt="" coords="1807,533,1859,503,1923,471,1938,465,1940,470,1925,476,1862,508,1810,538"/>
<area shape="rect" href="class_r_g_w_s_i___sys_obj___core.html#a761aa8f43c2fd7a005e3ce10f8997afd" title=" " alt="" coords="1944,638,2101,680"/>
<area shape="poly" title=" " alt="" coords="1813,561,1925,616,1953,629,1951,634,1923,621,1811,566"/>
<area shape="rect" href="class_r_g_w_s_i___r_a_d_o_s_1_1_obj.html#a7cf0358834aa8caa78893cc5d4d98f2b" title=" " alt="" coords="1924,486,2121,512"/>
<area shape="poly" title=" " alt="" coords="1850,533,1941,513,1943,519,1852,538"/>
<area shape="rect" href="struct_r_g_w_obj_version_tracker.html#a00fa9eb065d43718c02325862a0d1df7" title=" " alt="" coords="1943,352,2103,395"/>
<area shape="poly" title=" " alt="" coords="1794,534,1844,472,1881,436,1923,405,1931,400,1934,404,1925,409,1885,440,1848,476,1798,537"/>
<area shape="rect" href="rgw__tools_8cc.html#a6cc59136e1df61d96f404169c4a300ce" title=" " alt="" coords="1965,536,2081,563"/>
<area shape="poly" title=" " alt="" coords="1876,547,1949,547,1949,552,1876,552"/>
<area shape="poly" title=" " alt="" coords="2073,678,2134,699,2207,713,2245,715,2283,711,2318,700,2350,682,2371,663,2387,639,2399,613,2407,586,2416,531,2418,486,2423,486,2422,532,2412,587,2404,615,2391,642,2375,666,2353,686,2320,705,2284,716,2245,720,2207,718,2133,704,2071,683"/>
<area shape="rect" href="class_r_g_w_s_i___r_a_d_o_s.html#ad7d4a82ecd8081a59c37e3730345711d" title=" " alt="" coords="2189,571,2332,598"/>
<area shape="poly" title=" " alt="" coords="2086,634,2169,607,2193,600,2194,605,2170,612,2087,639"/>
<area shape="rect" href="class_r_g_w_s_i___r_a_d_o_s_1_1_obj.html#adc703eaa1aad5a55504ce25bea09836a" title=" " alt="" coords="2169,646,2352,672"/>
<area shape="poly" title=" " alt="" coords="2102,656,2154,656,2154,662,2102,662"/>
<area shape="poly" title=" " alt="" coords="2298,643,2325,628,2350,608,2372,578,2389,546,2410,485,2415,487,2394,548,2376,581,2354,611,2328,632,2300,647"/>
<area shape="poly" title=" " alt="" coords="2233,646,2228,637,2231,627,2242,621,2261,619,2280,621,2290,628,2287,633,2278,626,2260,624,2244,626,2235,631,2233,636,2237,644"/>
<area shape="poly" title=" " alt="" coords="2080,482,2121,471,2144,462,2169,455,2228,449,2287,447,2385,451,2384,457,2287,452,2228,454,2170,460,2146,467,2122,476,2081,487"/>
<area shape="rect" href="rgw__tools_8cc.html#ac8fd9a95626d93661d7280c9455eba5c" title="perform the rados operation, using the yield context when given" alt="" coords="2195,470,2326,496"/>
<area shape="poly" title=" " alt="" coords="2122,490,2180,486,2180,491,2122,495"/>
<area shape="poly" title=" " alt="" coords="2326,470,2384,461,2385,466,2326,475"/>
<area shape="rect" href="struct_r_g_w_obj_version_tracker.html#a962d855794c47d114e825f836d0e12dc" title=" " alt="" coords="2180,352,2341,395"/>
<area shape="poly" title=" " alt="" coords="2103,371,2165,371,2165,376,2103,376"/>
<area shape="poly" title=" " alt="" coords="1302,596,1323,626,1355,664,1395,703,1443,733,1490,752,1532,763,1570,768,1607,769,1685,763,1783,758,2024,758,2076,760,2122,765,2202,774,2238,774,2274,766,2311,749,2350,720,2362,704,2373,680,2392,615,2405,545,2414,486,2419,487,2410,545,2397,616,2378,681,2367,706,2354,723,2313,753,2275,771,2238,779,2201,780,2121,770,2075,765,2024,763,1784,763,1685,768,1607,774,1570,774,1531,768,1489,757,1440,737,1392,707,1351,668,1319,630,1297,599"/>
<area shape="poly" title=" " alt="" coords="1322,568,1495,492,1497,497,1324,573"/>
<area shape="poly" title=" " alt="" coords="1351,596,1469,623,1468,628,1350,601"/>
<area shape="poly" title=" " alt="" coords="1318,568,1357,543,1375,526,1391,507,1405,479,1410,454,1409,404,1409,380,1411,356,1421,331,1439,306,1443,303,1446,307,1443,310,1425,334,1416,357,1414,380,1415,404,1416,454,1410,481,1396,510,1379,530,1360,547,1321,573"/>
<area shape="poly" title=" " alt="" coords="1316,568,1355,542,1391,507,1402,489,1408,472,1412,439,1418,406,1426,390,1440,373,1458,360,1461,364,1443,377,1430,393,1423,408,1417,439,1413,473,1407,491,1395,510,1358,547,1319,573"/>
<area shape="poly" title=" " alt="" coords="1394,582,1453,582,1453,587,1394,587"/>
<area shape="poly" title=" " alt="" coords="1314,568,1352,542,1391,506,1406,484,1413,464,1421,443,1440,424,1446,419,1449,423,1443,428,1426,446,1418,466,1410,487,1395,510,1356,546,1317,572"/>
<area shape="rect" href="class_r_g_w_system_meta_obj.html#a528019413d7412cf8012455239149972" title=" " alt="" coords="1457,680,1630,723"/>
<area shape="poly" title=" " alt="" coords="1314,596,1371,630,1442,666,1457,672,1455,677,1440,671,1369,634,1311,600"/>
<area shape="rect" href="class_r_g_w_s_i___sys_obj.html#aaf17b23ff4d23d6f1fc8b36b6101a731" title=" " alt="" coords="936,134,1138,160"/>
<area shape="poly" title=" " alt="" coords="888,158,920,155,920,161,888,164"/>
<area shape="rect" href="class_r_g_w_s_i___sys_obj___core.html#a17855cbd7e8d1b9c2b3028280e501180" title=" " alt="" coords="1211,102,1368,144"/>
<area shape="poly" title=" " alt="" coords="1138,135,1195,129,1195,134,1139,140"/>
<area shape="poly" title=" " alt="" coords="834,491,934,549,1081,628,1256,709,1349,744,1442,774,1536,796,1611,806,1686,809,1783,808,2024,808,2076,811,2122,817,2202,830,2238,831,2274,825,2311,808,2350,780,2365,759,2377,728,2397,646,2409,557,2415,486,2420,487,2414,557,2402,647,2382,730,2369,762,2354,783,2314,813,2276,830,2239,836,2201,835,2121,823,2075,816,2024,814,1784,814,1686,814,1610,812,1535,802,1441,779,1347,749,1254,714,1079,633,931,554,831,495"/>
<area shape="rect" href="class_r_g_w_system_meta_obj.html#a4be124d4d443be01809092c073247dfb" title=" " alt="" coords="947,420,1127,463"/>
<area shape="poly" title=" " alt="" coords="884,457,931,452,932,457,885,463"/>
<area shape="poly" title=" " alt="" coords="1061,418,1117,371,1184,318,1305,223,1362,186,1440,152,1533,124,1609,113,1686,111,1784,112,2024,112,2124,110,2205,114,2242,122,2278,138,2315,161,2354,196,2366,213,2377,238,2395,302,2418,428,2413,429,2390,303,2372,240,2361,216,2350,199,2312,166,2275,142,2240,127,2204,119,2124,116,2024,118,1783,118,1686,117,1609,118,1535,129,1442,157,1364,191,1308,227,1188,322,1120,375,1065,422"/>
<area shape="rect" href="class_r_g_w_system_meta_obj.html#a0b81e3c32bdde9292a8af7d648e1b3b3" title=" " alt="" coords="1203,387,1376,430"/>
<area shape="poly" title=" " alt="" coords="1127,427,1187,419,1188,424,1128,432"/>
<area shape="rect" href="class_r_g_w_system_meta_obj.html#a02c1108ff6e95f87fb595e4665ca0b35" title=" " alt="" coords="1200,454,1380,496"/>
<area shape="poly" title=" " alt="" coords="1128,451,1185,458,1184,464,1127,456"/>
<area shape="poly" title=" " alt="" coords="1347,494,1411,513,1489,525,1529,527,1569,523,1608,514,1644,498,1662,481,1669,462,1676,439,1692,417,1748,371,1798,342,1852,323,1923,306,2046,273,2098,260,2147,251,2195,249,2244,256,2296,274,2353,306,2380,332,2399,364,2411,398,2418,428,2413,429,2406,400,2394,366,2376,335,2350,310,2294,279,2243,261,2195,255,2148,256,2099,265,2047,279,1925,311,1854,328,1800,347,1751,375,1696,421,1681,442,1674,463,1666,484,1647,502,1610,519,1570,529,1529,532,1488,531,1410,518,1346,499"/>
<area shape="poly" title=" " alt="" coords="1380,472,1429,472,1429,478,1380,478"/>
<area shape="poly" title=" " alt="" coords="1322,495,1395,557,1409,574,1418,589,1427,602,1443,615,1452,621,1449,625,1440,620,1423,606,1413,592,1405,577,1391,561,1319,499"/>
<area shape="poly" title=" " alt="" coords="1376,451,1391,440,1404,424,1411,408,1414,374,1418,340,1425,323,1439,306,1444,302,1447,307,1443,310,1430,326,1423,341,1419,375,1416,409,1409,426,1395,443,1380,455"/>
<area shape="poly" title=" " alt="" coords="1373,451,1392,439,1407,424,1415,407,1423,390,1440,373,1458,362,1460,366,1443,377,1428,393,1420,409,1411,427,1395,444,1376,455"/>
<area shape="poly" title=" " alt="" coords="1338,494,1442,542,1472,554,1470,559,1440,547,1336,499"/>
<area shape="poly" title=" " alt="" coords="1358,450,1392,439,1441,423,1468,415,1470,421,1442,428,1394,444,1360,455"/>
</map>
</div>
<div class="dynheader">
이 함수를 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="rgw__admin_8cc_a004948fa8d9f2a3b5f6801bebab78398_icgraph.png" border="0" usemap="#argw__admin_8cc_a004948fa8d9f2a3b5f6801bebab78398_icgraph" alt=""/></div>
<map name="argw__admin_8cc_a004948fa8d9f2a3b5f6801bebab78398_icgraph" id="argw__admin_8cc_a004948fa8d9f2a3b5f6801bebab78398_icgraph">
<area shape="rect" title=" " alt="" coords="286,13,456,40"/>
<area shape="rect" href="rgw__admin_8cc.html#a33812c768aaef292f4ee9a7dbfb1e6dd" title=" " alt="" coords="103,5,238,48"/>
<area shape="poly" title=" " alt="" coords="270,29,238,29,238,24,270,24"/>
<area shape="rect" href="rgw__admin_8cc.html#a217dbf8b442f20279ea00b898af96f52" title=" " alt="" coords="5,13,55,40"/>
<area shape="poly" title=" " alt="" coords="87,29,55,29,55,24,87,24"/>
</map>
</div>

</div>
</div>
<a id="a4dd5fe9ff30e3225bca7a06c01dde2bd" name="a4dd5fe9ff30e3225bca7a06c01dde2bd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4dd5fe9ff30e3225bca7a06c01dde2bd">&#9670;&#160;</a></span>update_period()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int update_period </td>
          <td>(</td>
          <td class="paramtype">const string &amp;&#160;</td>
          <td class="paramname"><em>realm_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const string &amp;&#160;</td>
          <td class="paramname"><em>realm_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const string &amp;&#160;</td>
          <td class="paramname"><em>period_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const string &amp;&#160;</td>
          <td class="paramname"><em>period_epoch</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>commit</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const string &amp;&#160;</td>
          <td class="paramname"><em>remote</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const string &amp;&#160;</td>
          <td class="paramname"><em>url</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::optional&lt; string &gt;&#160;</td>
          <td class="paramname"><em>opt_region</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const string &amp;&#160;</td>
          <td class="paramname"><em>access</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const string &amp;&#160;</td>
          <td class="paramname"><em>secret</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Formatter *&#160;</td>
          <td class="paramname"><em>formatter</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>force</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition"><a class="el" href="rgw__admin_8cc_source.html">rgw_admin.cc</a> 파일의 <a class="el" href="rgw__admin_8cc_source.html#l01968">1968</a> 번째 라인에서 정의되었습니다.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1974</span>{</div>
<div class="line"><span class="lineno"> 1975</span>  <a class="code hl_class" href="class_r_g_w_realm.html">RGWRealm</a> realm(realm_id, realm_name);</div>
<div class="line"><span class="lineno"> 1976</span>  <span class="keywordtype">int</span> ret = realm.init(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>(), g_ceph_context, <span class="keyword">static_cast&lt;</span><a class="code hl_class" href="classrgw_1_1sal_1_1_rados_store.html">rgw::sal::RadosStore</a>*<span class="keyword">&gt;</span>(<a class="code hl_variable" href="rgw__admin_8cc.html#a6fdb26d64b14d837b60e83a6ca3e2863">store</a>)-&gt;svc()-&gt;sysobj, null_yield);</div>
<div class="line"><span class="lineno"> 1977</span>  <span class="keywordflow">if</span> (ret &lt; 0 ) {</div>
<div class="line"><span class="lineno"> 1978</span>    cerr &lt;&lt; <span class="stringliteral">&quot;Error initializing realm &quot;</span> &lt;&lt; cpp_strerror(-ret) &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 1979</span>    <span class="keywordflow">return</span> ret;</div>
<div class="line"><span class="lineno"> 1980</span>  }</div>
<div class="line"><span class="lineno"> 1981</span>  epoch_t epoch = 0;</div>
<div class="line"><span class="lineno"> 1982</span>  <span class="keywordflow">if</span> (!period_epoch.empty()) {</div>
<div class="line"><span class="lineno"> 1983</span>    epoch = atoi(period_epoch.c_str());</div>
<div class="line"><span class="lineno"> 1984</span>  }</div>
<div class="line"><span class="lineno"> 1985</span>  <a class="code hl_class" href="class_r_g_w_period.html">RGWPeriod</a> period(period_id, epoch);</div>
<div class="line"><span class="lineno"> 1986</span>  ret = period.init(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>(), g_ceph_context, <span class="keyword">static_cast&lt;</span><a class="code hl_class" href="classrgw_1_1sal_1_1_rados_store.html">rgw::sal::RadosStore</a>*<span class="keyword">&gt;</span>(<a class="code hl_variable" href="rgw__admin_8cc.html#a6fdb26d64b14d837b60e83a6ca3e2863">store</a>)-&gt;svc()-&gt;sysobj, realm.get_id(), null_yield);</div>
<div class="line"><span class="lineno"> 1987</span>  <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno"> 1988</span>    cerr &lt;&lt; <span class="stringliteral">&quot;period init failed: &quot;</span> &lt;&lt; cpp_strerror(-ret) &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 1989</span>    <span class="keywordflow">return</span> ret;</div>
<div class="line"><span class="lineno"> 1990</span>  }</div>
<div class="line"><span class="lineno"> 1991</span>  period.fork();</div>
<div class="line"><span class="lineno"> 1992</span>  ret = period.update(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>(), null_yield);</div>
<div class="line"><span class="lineno"> 1993</span>  <span class="keywordflow">if</span>(ret &lt; 0) {</div>
<div class="line"><span class="lineno"> 1994</span>    <span class="comment">// Dropping the error message here, as both the ret codes were handled in</span></div>
<div class="line"><span class="lineno"> 1995</span>    <span class="comment">// period.update()</span></div>
<div class="line"><span class="lineno"> 1996</span>    <span class="keywordflow">return</span> ret;</div>
<div class="line"><span class="lineno"> 1997</span>  }</div>
<div class="line"><span class="lineno"> 1998</span>  ret = period.store_info(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>(), <span class="keyword">false</span>, null_yield);</div>
<div class="line"><span class="lineno"> 1999</span>  <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno"> 2000</span>    cerr &lt;&lt; <span class="stringliteral">&quot;failed to store period: &quot;</span> &lt;&lt; cpp_strerror(-ret) &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 2001</span>    <span class="keywordflow">return</span> ret;</div>
<div class="line"><span class="lineno"> 2002</span>  }</div>
<div class="line"><span class="lineno"> 2003</span>  <span class="keywordflow">if</span> (commit) {</div>
<div class="line"><span class="lineno"> 2004</span>    ret = <a class="code hl_function" href="rgw__admin_8cc.html#aa84c5ba46881dc6ab82e752f5864a5d6">commit_period</a>(realm, period, remote, url, opt_region, access, secret, force);</div>
<div class="line"><span class="lineno"> 2005</span>    <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno"> 2006</span>      cerr &lt;&lt; <span class="stringliteral">&quot;failed to commit period: &quot;</span> &lt;&lt; cpp_strerror(-ret) &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 2007</span>      <span class="keywordflow">return</span> ret;</div>
<div class="line"><span class="lineno"> 2008</span>    }</div>
<div class="line"><span class="lineno"> 2009</span>  }</div>
<div class="line"><span class="lineno"> 2010</span>  <a class="code hl_function" href="rgw__admin_8cc.html#ab596b9e1a1fc78e98a4d13a66578b658">encode_json</a>(<span class="stringliteral">&quot;period&quot;</span>, period, formatter);</div>
<div class="line"><span class="lineno"> 2011</span>  formatter-&gt;flush(cout);</div>
<div class="line"><span class="lineno"> 2012</span>  <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno"> 2013</span>}</div>
</div><!-- fragment --><div class="dynheader">
이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="rgw__admin_8cc_a4dd5fe9ff30e3225bca7a06c01dde2bd_cgraph.png" border="0" usemap="#argw__admin_8cc_a4dd5fe9ff30e3225bca7a06c01dde2bd_cgraph" alt=""/></div>
<map name="argw__admin_8cc_a4dd5fe9ff30e3225bca7a06c01dde2bd_cgraph" id="argw__admin_8cc_a4dd5fe9ff30e3225bca7a06c01dde2bd_cgraph">
<area shape="rect" title=" " alt="" coords="5,1080,108,1107"/>
<area shape="rect" href="rgw__admin_8cc.html#aa84c5ba46881dc6ab82e752f5864a5d6" title=" " alt="" coords="162,625,269,652"/>
<area shape="poly" title=" " alt="" coords="60,1079,202,666,207,668,65,1081"/>
<area shape="rect" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5" title=" " alt="" coords="1373,1168,1416,1195"/>
<area shape="poly" title=" " alt="" coords="60,1107,61,1169,66,1268,79,1390,104,1521,123,1586,146,1647,174,1704,208,1754,247,1796,292,1828,345,1849,405,1856,903,1856,1015,1850,1061,1841,1102,1827,1141,1807,1178,1780,1215,1744,1253,1698,1294,1637,1326,1570,1350,1499,1367,1429,1378,1361,1386,1301,1391,1210,1396,1210,1391,1301,1384,1362,1372,1430,1355,1501,1331,1572,1299,1640,1257,1702,1219,1747,1181,1784,1144,1812,1104,1832,1062,1847,1016,1855,903,1861,405,1861,344,1854,290,1833,243,1800,203,1758,169,1707,141,1649,118,1587,99,1522,74,1391,60,1269,55,1169,55,1107"/>
<area shape="rect" href="class_r_g_w_period.html#a9f31f8de41684b5f70a40eedf88385ac" title=" " alt="" coords="824,319,979,345"/>
<area shape="poly" title=" " alt="" coords="57,1079,82,914,105,786,135,644,172,503,215,374,239,319,265,271,292,233,322,207,348,200,395,196,527,195,663,202,717,208,751,215,789,233,824,257,879,305,876,309,821,261,786,238,749,220,716,213,663,207,527,200,395,201,349,205,324,212,296,237,269,274,244,321,220,376,177,504,140,645,110,787,87,915,62,1080"/>
<area shape="rect" href="class_r_g_w_system_meta_obj.html#ab885e5d275a5396cc473703ab55f50b1" title=" " alt="" coords="806,1037,997,1064"/>
<area shape="poly" title=" " alt="" coords="108,1097,208,1107,323,1116,371,1121,408,1126,444,1127,488,1116,502,1108,512,1099,521,1088,536,1079,600,1059,666,1048,731,1042,791,1041,791,1047,732,1048,667,1053,601,1065,538,1084,525,1092,515,1102,506,1113,490,1121,445,1132,407,1132,370,1126,323,1121,207,1113,108,1102"/>
<area shape="rect" href="rgw__admin_8cc.html#ab596b9e1a1fc78e98a4d13a66578b658" title=" " alt="" coords="359,1029,453,1056"/>
<area shape="poly" title=" " alt="" coords="108,1081,155,1072,344,1047,344,1052,156,1077,108,1086"/>
<area shape="rect" href="class_r_g_w_period.html#aa5e1b5147ab3f01311c33cc73927d1c2" title=" " alt="" coords="349,1080,464,1107"/>
<area shape="poly" title=" " alt="" coords="108,1091,333,1091,333,1096,108,1096"/>
<area shape="rect" href="class_r_g_w_period.html#ad88d58c1ac62e6a5608a4d509d623804" title=" " alt="" coords="156,43,275,69"/>
<area shape="poly" title=" " alt="" coords="56,1079,63,915,80,639,93,490,109,348,129,227,153,138,169,107,189,80,193,83,174,109,158,140,134,228,115,349,98,490,85,639,68,915,61,1080"/>
<area shape="rect" href="class_r_g_w_system_meta_obj.html#a23150c4c841a29335f5a93ede8f8ecb6" title=" " alt="" coords="557,1595,730,1621"/>
<area shape="poly" title=" " alt="" coords="67,1106,102,1169,128,1208,158,1245,253,1345,334,1416,422,1479,539,1554,597,1585,595,1590,536,1558,419,1483,330,1420,249,1349,154,1248,124,1211,98,1171,62,1108"/>
<area shape="rect" href="class_r_g_w_period.html#af922d931b1a8658043a67386a0eea57a" title=" " alt="" coords="338,1316,475,1343"/>
<area shape="poly" title=" " alt="" coords="79,1105,157,1160,373,1305,370,1310,154,1165,76,1109"/>
<area shape="rect" href="class_r_g_w_period.html#ac2ee7a44ae93d4f27a9cb89fff99337c" title=" " alt="" coords="336,651,477,677"/>
<area shape="poly" title=" " alt="" coords="269,643,320,650,320,655,269,648"/>
<area shape="poly" title=" " alt="" coords="216,625,227,541,249,416,280,291,299,241,321,208,358,172,393,145,428,127,464,115,502,108,544,105,642,104,903,104,958,101,1008,96,1096,85,1137,87,1176,96,1216,117,1257,152,1271,174,1284,210,1309,317,1330,459,1350,621,1379,940,1394,1152,1389,1153,1373,940,1344,621,1325,460,1303,318,1279,211,1266,176,1253,155,1213,121,1174,101,1136,92,1096,91,1009,101,959,107,903,109,642,109,544,110,503,113,466,120,430,131,396,150,362,176,325,211,304,244,285,293,254,417,232,541,221,625"/>
<area shape="rect" href="class_r_g_w_period.html#aad876e2bf1fe7bd5c326dca3e5d06167" title=" " alt="" coords="824,376,979,419"/>
<area shape="poly" title=" " alt="" coords="226,623,266,582,293,559,322,539,346,528,369,522,411,518,450,511,468,502,487,485,504,460,510,434,510,408,507,382,504,355,505,330,515,305,536,282,563,263,589,250,615,244,640,243,666,246,693,254,751,282,770,298,778,317,785,337,799,355,816,366,813,371,796,359,780,339,773,319,765,301,748,286,691,259,665,251,640,248,616,249,591,255,566,268,539,286,519,308,511,331,509,355,512,381,516,408,516,435,509,462,491,488,471,506,451,516,412,523,370,527,348,533,324,544,296,563,270,586,230,627"/>
<area shape="poly" title=" " alt="" coords="215,625,226,543,246,423,261,361,278,306,298,260,322,231,348,224,395,220,527,222,663,231,750,244,785,257,817,273,872,307,869,312,815,278,782,262,749,249,663,237,526,227,395,225,349,229,324,236,302,263,283,307,266,363,251,424,231,544,221,625"/>
<area shape="rect" href="class_r_g_w_period.html#ac82a2f1f3a82dfa1a5023204a28fc4a8" title=" " alt="" coords="564,784,723,811"/>
<area shape="poly" title=" " alt="" coords="245,650,324,687,407,716,490,744,538,763,580,776,578,781,536,768,488,749,405,722,322,692,243,655"/>
<area shape="poly" title=" " alt="" coords="224,651,238,681,259,720,288,761,325,795,346,809,366,817,403,824,443,829,490,843,515,857,538,871,597,888,645,893,693,900,720,908,751,922,789,945,824,972,879,1024,876,1028,821,976,786,949,748,926,718,913,692,905,644,898,596,893,536,876,512,862,488,848,442,834,403,830,364,822,344,814,321,799,284,764,255,723,233,684,220,654"/>
<area shape="rect" href="class_r_g_w_period.html#a2d8588f2db7c5bcf8d79bde99ac341c0" title=" " alt="" coords="577,936,710,963"/>
<area shape="poly" title=" " alt="" coords="223,651,235,688,255,736,285,788,304,812,325,833,346,848,365,858,402,868,442,874,490,890,538,915,576,928,574,933,536,920,488,894,441,880,401,873,363,863,343,853,321,837,300,815,280,791,250,739,230,689,218,653"/>
<area shape="rect" href="class_r_g_w_period.html#a00ac7a4f54b74dd12fc9f8c055d5783b" title=" " alt="" coords="544,835,743,861"/>
<area shape="poly" title=" " alt="" coords="229,651,267,697,294,722,324,744,368,765,405,773,443,780,490,795,514,808,538,820,560,827,558,833,536,825,512,813,488,800,442,785,404,779,366,770,322,749,291,726,263,700,224,654"/>
<area shape="rect" href="class_r_g_w_realm.html#a65354a9b77a58471234e615d8df02968" title="notify the zone of a new period" alt="" coords="564,448,723,491"/>
<area shape="poly" title=" " alt="" coords="269,636,318,633,375,624,434,607,488,579,504,563,512,545,519,526,536,507,553,496,556,500,539,511,524,529,516,547,508,566,491,583,436,612,377,629,319,638,269,642"/>
<area shape="rect" href="class_r_g_w_period.html#a39130b4428595731c29a05940d438e85" title=" " alt="" coords="577,1189,710,1216"/>
<area shape="poly" title=" " alt="" coords="220,652,225,706,241,783,254,826,272,868,296,907,325,941,345,956,365,963,407,965,449,967,470,975,491,991,508,1015,516,1039,515,1086,514,1109,515,1132,523,1154,539,1175,564,1191,561,1196,536,1179,518,1156,510,1133,508,1109,510,1086,510,1040,503,1018,487,995,468,980,448,972,407,970,364,968,343,960,321,945,291,910,268,870,249,828,236,785,220,707,215,653"/>
<area shape="rect" href="class_r_g_w_period.html#afd41507a4587ed631e889ba472cad5f2" title=" " alt="" coords="577,296,710,323"/>
<area shape="poly" title=" " alt="" coords="244,622,322,587,372,573,413,568,450,558,468,546,487,529,503,506,510,482,510,436,509,412,510,388,518,364,535,339,561,322,564,326,539,343,523,366,515,389,514,412,515,435,516,483,508,508,491,532,472,551,452,563,414,573,373,578,324,592,246,627"/>
<area shape="rect" href="rgw__basic__types_8cc.html#a83dfe8268c0c76ff6ceaf083ad129d5c" title=" " alt="" coords="347,245,465,272"/>
<area shape="poly" title=" " alt="" coords="214,625,217,563,230,472,243,421,262,371,288,324,321,282,332,274,335,278,325,286,292,327,267,373,248,423,235,473,222,564,219,625"/>
<area shape="poly" title=" " alt="" coords="220,652,227,710,244,796,258,845,275,894,298,941,325,985,343,1004,364,1019,360,1023,339,1008,321,988,293,944,270,896,252,846,239,797,222,710,215,653"/>
<area shape="rect" href="classrgw_1_1sal_1_1_zone.html#a7c10e9e3affc168c3782e0bb80f2b4d5" title=" " alt="" coords="334,296,479,323"/>
<area shape="poly" title=" " alt="" coords="215,625,220,571,236,493,250,450,268,407,291,368,321,333,325,329,328,333,325,337,296,371,273,410,255,452,241,494,225,572,220,625"/>
<area shape="rect" href="class_r_g_w_period.html#ae71b43676ee8fe59fbb914422c17e711" title=" " alt="" coords="332,347,480,373"/>
<area shape="poly" title=" " alt="" coords="216,624,224,578,242,514,274,444,295,412,321,383,326,380,329,384,325,387,299,415,278,447,247,516,229,580,221,625"/>
<area shape="rect" href="rgw__admin_8cc.html#a30b65084fc8065e4fcfc47abe3775e67" title="search for a matching zone/zonegroup id and return a connection if found" alt="" coords="346,904,467,931"/>
<area shape="poly" title=" " alt="" coords="221,652,231,696,250,758,280,825,301,856,325,883,340,895,337,899,321,887,296,859,276,827,245,760,226,697,216,653"/>
<area shape="rect" href="classrgw_1_1sal_1_1_store.html#a7905b89b9f5def056e6b3379637037cc" title=" " alt="" coords="323,397,489,424"/>
<area shape="poly" title=" " alt="" coords="217,624,229,587,249,535,279,481,299,456,321,434,327,430,330,434,325,438,303,460,284,484,254,538,234,588,222,626"/>
<area shape="poly" title=" " alt="" coords="221,652,232,736,254,861,285,985,304,1034,325,1066,336,1075,333,1079,321,1070,299,1036,280,987,249,862,227,737,216,653"/>
<area shape="rect" href="rgw__admin_8cc.html#aff0d5161d67f7441b3696da1f415130d" title=" " alt="" coords="330,448,483,475"/>
<area shape="poly" title=" " alt="" coords="221,624,258,561,287,524,321,491,341,479,344,484,325,495,291,528,262,564,226,626"/>
<area shape="rect" href="class_r_g_w_period.html#a712625093a5b4aa41606a5bd88dba2d7" title=" " alt="" coords="576,397,711,424"/>
<area shape="poly" title=" " alt="" coords="424,648,456,619,487,580,497,559,502,540,505,504,511,469,520,452,536,434,560,419,563,423,539,438,525,455,516,471,511,505,507,541,502,561,492,583,460,622,427,652"/>
<area shape="poly" title=" " alt="" coords="471,648,488,638,498,628,504,617,509,594,516,571,524,561,536,551,592,525,617,519,642,518,693,527,751,551,768,563,779,576,787,591,800,608,965,776,1131,936,1369,1156,1365,1160,1127,940,961,780,796,611,783,594,774,579,765,566,748,556,691,533,642,523,618,525,594,530,539,556,528,564,521,574,515,595,508,619,502,631,491,642,474,652"/>
<area shape="poly" title=" " alt="" coords="429,648,460,625,487,593,500,564,505,536,503,484,502,458,505,433,515,408,536,383,555,371,582,360,651,345,731,336,808,331,808,337,732,341,652,351,583,365,557,375,539,387,519,411,510,435,507,459,508,484,511,537,505,566,492,596,464,629,432,652"/>
<area shape="poly" title=" " alt="" coords="458,676,491,694,507,712,515,730,523,747,539,763,560,775,558,780,536,767,519,750,511,732,503,715,488,698,455,680"/>
<area shape="poly" title=" " alt="" coords="441,675,538,712,599,725,650,729,698,739,724,751,751,770,781,798,808,830,849,900,878,968,895,1022,890,1023,873,970,845,902,803,833,777,801,748,774,721,756,696,744,649,735,599,731,537,717,439,680"/>
<area shape="poly" title=" " alt="" coords="416,677,462,764,497,819,539,872,572,901,607,925,604,930,569,905,535,875,493,822,457,766,411,679"/>
<area shape="poly" title=" " alt="" coords="425,676,457,706,491,745,505,767,513,787,522,804,539,821,546,825,543,830,536,825,517,807,508,789,500,770,487,748,453,710,421,680"/>
<area shape="rect" href="class_r_g_w_period.html#ab2edb46dd5cdd598ab2cb344e11036c1" title=" " alt="" coords="546,632,741,659"/>
<area shape="poly" title=" " alt="" coords="477,656,530,652,531,657,477,661"/>
<area shape="rect" href="class_r_g_w_period.html#a16605b1787a45c5463d2cff97ceec51b" title=" " alt="" coords="566,565,721,608"/>
<area shape="poly" title=" " alt="" coords="447,648,536,617,557,611,559,616,538,623,449,653"/>
<area shape="rect" href="class_r_g_w_s_i___sys_obj.html#aaf17b23ff4d23d6f1fc8b36b6101a731" title=" " alt="" coords="1053,1295,1255,1321"/>
<area shape="poly" title=" " alt="" coords="478,668,629,689,701,705,751,723,802,755,844,785,878,815,907,848,956,923,1007,1024,1020,1054,1026,1082,1028,1130,1032,1178,1040,1203,1055,1230,1082,1261,1114,1284,1111,1288,1079,1265,1051,1234,1036,1205,1027,1179,1023,1131,1021,1082,1015,1056,1003,1026,951,926,903,851,875,819,841,789,800,759,749,728,699,710,628,695,477,674"/>
<area shape="poly" title=" " alt="" coords="460,648,488,630,499,615,506,600,511,570,516,539,523,523,535,507,549,497,552,501,539,511,527,526,521,541,516,571,511,602,504,618,491,634,463,652"/>
<area shape="poly" title=" " alt="" coords="416,677,451,766,492,891,500,936,501,976,495,1046,495,1078,500,1110,514,1142,539,1175,564,1192,561,1196,536,1179,509,1145,495,1111,490,1079,490,1046,496,976,494,936,487,893,446,768,411,679"/>
<area shape="poly" title=" " alt="" coords="425,648,457,619,487,580,500,546,505,515,502,456,501,427,504,399,514,370,535,339,561,321,564,326,539,343,519,372,509,400,506,427,508,455,511,515,506,547,492,583,461,623,428,652"/>
<area shape="poly" title=" " alt="" coords="706,422,750,433,902,481,1054,529,1085,537,1113,540,1164,542,1187,545,1210,552,1233,565,1257,586,1272,605,1286,631,1311,696,1333,775,1351,861,1378,1031,1393,1152,1388,1153,1373,1031,1346,862,1328,776,1306,697,1281,633,1268,608,1253,590,1230,570,1208,557,1186,550,1163,547,1113,545,1084,542,1052,535,901,486,749,439,705,427"/>
<area shape="poly" title=" " alt="" coords="711,405,808,399,808,405,711,410"/>
<area shape="poly" title=" " alt="" coords="690,394,749,376,840,348,842,353,750,381,692,399"/>
<area shape="poly" title=" " alt="" coords="941,417,994,445,1054,472,1085,482,1113,486,1163,488,1187,490,1210,497,1233,509,1257,530,1273,552,1288,580,1314,651,1337,739,1355,834,1381,1021,1394,1152,1388,1153,1375,1021,1350,835,1331,740,1309,653,1283,582,1269,554,1253,534,1230,514,1208,502,1186,496,1163,493,1112,491,1083,487,1052,477,992,450,939,422"/>
<area shape="rect" href="class_r_g_w_period.html#a789657c727994fc695ddf1248f678eac" title=" " alt="" coords="1084,319,1224,345"/>
<area shape="poly" title=" " alt="" coords="979,374,1052,355,1082,347,1083,352,1054,360,980,379"/>
<area shape="rect" href="class_r_g_w_s_i___sys_obj.html#a07a9aa07a04694c3df0dcefd1c84e12f" title=" " alt="" coords="1072,1396,1237,1423"/>
<area shape="poly" title=" " alt="" coords="909,419,1008,1025,1013,1073,1014,1114,1013,1186,1015,1219,1021,1254,1034,1290,1055,1332,1081,1362,1113,1386,1110,1390,1078,1366,1051,1335,1029,1293,1016,1255,1010,1220,1008,1186,1009,1114,1008,1073,1002,1026,904,419"/>
<area shape="rect" href="class_r_g_w_period.html#a200f98de2cfdd95c627aa8eb165fc74c" title=" " alt="" coords="1081,369,1228,396"/>
<area shape="poly" title=" " alt="" coords="979,390,1065,385,1065,390,980,395"/>
<area shape="rect" href="class_r_g_w_s_i___sys_obj.html#a42dbd3046b9d94873446090556f05e63" title=" " alt="" coords="1084,1447,1224,1489"/>
<area shape="poly" title=" " alt="" coords="909,419,951,662,1008,1025,1012,1117,1015,1237,1018,1298,1026,1353,1037,1399,1055,1433,1072,1448,1069,1452,1051,1436,1032,1401,1020,1354,1013,1298,1009,1237,1007,1118,1002,1026,946,663,904,419"/>
<area shape="rect" href="struct_r_g_w_s_i___sys_obj_1_1_obj_1_1_w_op.html#ad7644cb1049482b88dbb298a5183fd36" title=" " alt="" coords="1079,201,1230,244"/>
<area shape="poly" title=" " alt="" coords="977,373,1003,355,1014,343,1020,331,1026,306,1032,280,1040,267,1051,254,1063,245,1067,249,1055,258,1044,270,1037,282,1031,307,1025,333,1018,346,1007,359,980,378"/>
<area shape="rect" href="class_r_g_w_s_i___sys_obj_1_1_obj.html#a0ddd19bd81a0df0b260bfddc8f49796d" title=" " alt="" coords="1067,268,1241,295"/>
<area shape="poly" title=" " alt="" coords="970,373,1003,355,1018,343,1026,330,1036,317,1052,304,1063,298,1066,303,1054,309,1040,321,1031,333,1022,346,1007,360,972,378"/>
<area shape="rect" href="struct_r_g_w_s_i___sys_obj_1_1_obj_1_1_w_op.html#a13c75344c42af6a581c66ead1a294e21" title=" " alt="" coords="1079,420,1230,463"/>
<area shape="poly" title=" " alt="" coords="980,408,1063,423,1063,428,979,413"/>
<area shape="poly" title=" " alt="" coords="1232,459,1257,480,1274,504,1288,535,1315,613,1337,708,1355,812,1381,1012,1394,1152,1388,1153,1376,1013,1350,813,1332,709,1310,615,1283,537,1269,506,1253,483,1229,463"/>
<area shape="poly" title=" " alt="" coords="909,317,931,287,963,251,1004,214,1052,187,1110,164,1160,152,1184,152,1208,157,1232,169,1257,187,1271,208,1285,242,1309,345,1331,481,1350,637,1379,945,1394,1152,1389,1153,1374,946,1345,637,1326,482,1304,346,1280,244,1267,210,1253,191,1229,173,1206,162,1183,157,1160,157,1111,170,1054,192,1007,219,967,254,935,291,914,320"/>
<area shape="poly" title=" " alt="" coords="979,329,1068,329,1068,335,979,335"/>
<area shape="poly" title=" " alt="" coords="980,342,995,350,1007,362,1018,387,1027,426,1036,538,1039,683,1038,845,1036,1154,1042,1268,1048,1307,1055,1332,1080,1363,1111,1386,1108,1390,1076,1366,1051,1335,1042,1308,1037,1268,1031,1154,1032,845,1033,683,1031,538,1021,427,1013,389,1003,366,992,355,977,346"/>
<area shape="poly" title=" " alt="" coords="972,343,1070,363,1069,368,971,349"/>
<area shape="poly" title=" " alt="" coords="980,342,995,350,1007,362,1019,390,1028,433,1036,558,1036,719,1032,899,1028,1079,1028,1240,1036,1365,1044,1407,1055,1433,1072,1448,1068,1452,1051,1436,1039,1409,1031,1366,1023,1241,1023,1079,1027,899,1031,719,1030,558,1022,434,1014,391,1003,366,992,355,977,346"/>
<area shape="poly" title=" " alt="" coords="926,316,983,286,1052,254,1068,247,1070,252,1054,258,985,291,928,321"/>
<area shape="poly" title=" " alt="" coords="971,315,1069,296,1070,301,972,321"/>
<area shape="poly" title=" " alt="" coords="963,343,1006,362,1021,373,1031,384,1040,395,1054,406,1066,412,1063,417,1052,410,1037,399,1027,388,1018,377,1004,366,961,348"/>
<area shape="rect" href="class_r_g_w_period.html#a943fab10b91bbb99abcd31dab3937e1b" title=" " alt="" coords="1063,43,1245,69"/>
<area shape="poly" title=" " alt="" coords="910,317,968,241,1051,143,1122,78,1126,82,1055,147,972,244,915,320"/>
<area shape="rect" href="class_r_g_w_period.html#abc1527dee0d6211fc4caeabf0af3a46a" title=" " alt="" coords="1303,17,1486,44"/>
<area shape="poly" title=" " alt="" coords="1245,44,1288,39,1288,45,1246,49"/>
<area shape="poly" title=" " alt="" coords="719,489,751,507,767,523,775,539,784,554,799,567,832,583,863,593,893,599,923,600,980,595,1036,585,1090,577,1145,577,1172,583,1200,593,1228,609,1257,631,1272,648,1286,671,1311,729,1332,801,1351,881,1378,1038,1393,1152,1387,1153,1373,1039,1346,882,1327,803,1306,731,1281,673,1268,651,1254,635,1225,613,1198,598,1171,588,1144,582,1091,582,1037,591,981,601,923,606,893,604,862,598,830,588,796,572,779,557,771,542,762,526,748,511,716,493"/>
<area shape="poly" title=" " alt="" coords="710,1196,867,1186,1053,1179,1224,1177,1358,1178,1358,1183,1224,1182,1053,1184,867,1192,711,1201"/>
<area shape="poly" title=" " alt="" coords="710,1193,730,1186,748,1175,765,1156,772,1135,779,1114,796,1091,834,1068,836,1072,799,1095,784,1116,777,1137,769,1159,751,1179,732,1191,711,1198"/>
<area shape="rect" href="struct_r_g_w_zone_group.html#aa36e0ee7c567e9284cb5f2af7fe1ff99" title=" " alt="" coords="811,1105,992,1148"/>
<area shape="poly" title=" " alt="" coords="706,1186,749,1175,824,1151,825,1156,750,1180,707,1191"/>
<area shape="rect" href="class_r_g_w_system_meta_obj.html#a62f5b26f43f66ec573d39b441f754f91" title=" " alt="" coords="810,1392,993,1435"/>
<area shape="poly" title=" " alt="" coords="663,1214,864,1380,860,1384,660,1219"/>
<area shape="poly" title=" " alt="" coords="964,1389,1004,1371,1027,1354,1052,1338,1084,1324,1086,1329,1054,1342,1030,1359,1006,1376,967,1394"/>
<area shape="poly" title=" " alt="" coords="374,1030,368,1021,372,1011,385,1005,406,1003,429,1005,441,1012,439,1016,427,1010,406,1008,386,1010,376,1015,373,1020,378,1027"/>
<area shape="poly" title=" " alt="" coords="447,929,491,947,514,960,538,972,602,993,668,1009,791,1033,790,1039,667,1015,601,998,536,977,512,965,488,952,445,934"/>
<area shape="poly" title=" " alt="" coords="268,39,323,28,482,7,642,3,903,3,1108,8,1288,19,1288,25,1108,14,903,8,642,8,482,12,323,33,269,45"/>
<area shape="rect" href="struct_r_g_w_period_map.html#a9cf6f2518ef740e9bd487287de60ce6b" title=" " alt="" coords="330,43,482,69"/>
<area shape="poly" title=" " alt="" coords="275,53,314,53,314,59,275,59"/>
<area shape="poly" title=" " alt="" coords="697,1619,827,1650,993,1680,1075,1690,1150,1692,1211,1685,1235,1678,1254,1667,1280,1636,1304,1586,1325,1523,1344,1453,1371,1313,1387,1209,1392,1210,1377,1314,1349,1454,1330,1525,1309,1588,1285,1639,1257,1671,1237,1683,1212,1690,1150,1697,1075,1695,992,1686,826,1656,696,1625"/>
<area shape="poly" title=" " alt="" coords="665,1592,706,1563,748,1524,762,1502,769,1483,778,1464,796,1445,801,1441,805,1445,799,1449,783,1467,774,1485,766,1505,752,1527,709,1567,668,1596"/>
<area shape="rect" href="class_r_g_w_system_meta_obj.html#a817e95ad94657bfe6db891f4d9881468" title=" " alt="" coords="815,1712,988,1755"/>
<area shape="poly" title=" " alt="" coords="668,1619,727,1653,799,1691,827,1703,825,1708,797,1696,724,1658,666,1624"/>
<area shape="rect" href="class_r_g_w_system_meta_obj.html#aba55c7315c627119d622b006378a8025" title=" " alt="" coords="815,1779,988,1821"/>
<area shape="poly" title=" " alt="" coords="656,1620,712,1689,753,1729,799,1764,807,1769,805,1774,796,1769,749,1733,708,1692,652,1623"/>
<area shape="rect" href="class_r_g_w_system_meta_obj.html#ab3b9b6a166d26f18f7aab617d35d57cd" title=" " alt="" coords="803,1560,1000,1587"/>
<area shape="poly" title=" " alt="" coords="730,1594,787,1586,788,1591,731,1599"/>
<area shape="rect" href="class_r_g_w_system_meta_obj.html#ae7e3aff329eedbd281ac07a44ecd6a61" title=" " alt="" coords="798,1509,1005,1536"/>
<area shape="poly" title=" " alt="" coords="698,1592,749,1574,772,1559,797,1546,817,1538,819,1543,799,1550,775,1564,751,1578,700,1597"/>
<area shape="rect" href="class_r_g_w_system_meta_obj.html#a5a8935b9b30c0fa33b9a7944f6011466" title=" " alt="" coords="1066,1615,1242,1657"/>
<area shape="poly" title=" " alt="" coords="730,1610,1050,1628,1050,1633,730,1615"/>
<area shape="poly" title=" " alt="" coords="959,1585,1025,1594,1103,1597,1143,1593,1182,1584,1220,1570,1254,1550,1291,1514,1322,1472,1345,1425,1362,1376,1383,1282,1390,1210,1395,1210,1388,1282,1367,1377,1350,1427,1326,1475,1295,1518,1257,1554,1222,1575,1184,1589,1144,1598,1103,1602,1025,1600,959,1590"/>
<area shape="poly" title=" " alt="" coords="985,1557,1003,1546,1015,1533,1022,1520,1026,1491,1031,1462,1039,1447,1051,1433,1057,1428,1060,1433,1055,1437,1043,1450,1036,1463,1032,1492,1027,1521,1020,1536,1007,1550,988,1562"/>
<area shape="poly" title=" " alt="" coords="969,1557,1004,1546,1057,1522,1104,1495,1107,1500,1059,1526,1006,1550,970,1562"/>
<area shape="poly" title=" " alt="" coords="963,1534,1028,1543,1105,1544,1144,1540,1183,1532,1220,1519,1254,1499,1287,1470,1315,1434,1337,1394,1355,1353,1378,1272,1388,1210,1393,1210,1383,1274,1360,1355,1342,1397,1319,1437,1291,1473,1257,1504,1222,1523,1184,1537,1145,1546,1105,1550,1028,1548,962,1539"/>
<area shape="poly" title=" " alt="" coords="981,1506,1003,1495,1019,1481,1027,1465,1035,1448,1051,1433,1061,1427,1063,1432,1055,1437,1039,1451,1031,1467,1023,1484,1007,1500,983,1511"/>
<area shape="poly" title=" " alt="" coords="966,1506,1068,1484,1069,1489,967,1511"/>
<area shape="poly" title=" " alt="" coords="1230,1612,1253,1594,1289,1548,1319,1497,1342,1443,1359,1388,1381,1285,1389,1210,1394,1210,1386,1286,1364,1389,1347,1444,1323,1499,1294,1551,1257,1598,1233,1616"/>
<area shape="poly" title=" " alt="" coords="475,1324,618,1316,813,1300,1033,1272,1146,1253,1255,1229,1310,1213,1358,1194,1360,1199,1311,1218,1256,1235,1147,1258,1034,1277,813,1305,619,1322,476,1330"/>
<area shape="poly" title=" " alt="" coords="409,1315,424,1277,450,1225,487,1170,510,1146,536,1124,580,1104,644,1087,790,1061,791,1067,646,1092,582,1109,539,1129,514,1149,491,1174,455,1227,429,1279,414,1317"/>
<area shape="poly" title=" " alt="" coords="411,1314,459,1215,495,1148,535,1081,578,1022,618,973,622,976,582,1025,540,1084,500,1151,464,1218,416,1317"/>
<area shape="poly" title=" " alt="" coords="418,1342,436,1369,463,1404,497,1438,539,1463,596,1485,646,1494,669,1493,693,1488,748,1463,759,1455,766,1445,772,1423,778,1400,785,1388,796,1378,838,1358,898,1342,1037,1318,1038,1324,899,1347,840,1363,799,1382,789,1392,783,1402,777,1425,770,1447,763,1458,751,1468,695,1493,670,1499,645,1500,595,1490,536,1468,494,1442,459,1407,431,1373,413,1345"/>
<area shape="poly" title=" " alt="" coords="421,1341,469,1387,502,1411,538,1428,598,1448,647,1458,671,1458,694,1453,720,1444,748,1429,880,1161,885,1163,752,1433,722,1449,696,1459,671,1463,647,1464,596,1453,536,1433,499,1415,465,1391,418,1345"/>
<area shape="poly" title=" " alt="" coords="419,1342,453,1394,492,1462,504,1495,510,1523,519,1548,539,1574,555,1585,552,1590,536,1578,514,1551,505,1525,499,1496,487,1464,448,1396,415,1345"/>
<area shape="rect" href="structrgw__zone__id.html#a5b69701e74c5168f32c07c3459c22272" title=" " alt="" coords="575,1341,712,1368"/>
<area shape="poly" title=" " alt="" coords="476,1334,560,1343,559,1348,475,1339"/>
<area shape="rect" href="class_r_g_w_system_meta_obj.html#a333abaa7960a2c63b4341d5f9ec500bf" title=" " alt="" coords="537,1392,750,1419"/>
<area shape="poly" title=" " alt="" coords="441,1341,538,1377,565,1385,564,1390,536,1383,439,1346"/>
<area shape="rect" href="class_r_g_w_s_i___zone.html#a335248298d5d3a9c84e45beae69b7dd0" title=" " alt="" coords="1055,1193,1254,1220"/>
<area shape="poly" title=" " alt="" coords="441,1313,486,1297,537,1283,671,1256,806,1236,1039,1212,1039,1217,807,1241,671,1261,538,1288,488,1302,443,1318"/>
<area shape="rect" href="struct_r_g_w_period_config.html#a5b691415ee5c66b16b412028814bfac8" title=" " alt="" coords="822,1459,981,1485"/>
<area shape="poly" title=" " alt="" coords="418,1342,486,1447,539,1523,593,1545,617,1549,640,1549,689,1539,749,1523,763,1517,773,1510,796,1495,817,1488,819,1493,799,1500,776,1515,765,1522,751,1528,690,1545,641,1554,617,1554,592,1550,536,1527,481,1450,414,1344"/>
<area shape="rect" href="struct_r_g_w_period_map.html#a64aaec0c294ac150ab64f4617c31fabd" title=" " alt="" coords="562,1139,725,1165"/>
<area shape="poly" title=" " alt="" coords="413,1314,459,1247,494,1208,536,1175,547,1169,549,1174,539,1180,498,1212,463,1250,417,1317"/>
<area shape="poly" title=" " alt="" coords="1254,1193,1357,1182,1358,1188,1255,1199"/>
<area shape="poly" title=" " alt="" coords="980,1456,1003,1444,1019,1430,1027,1414,1035,1398,1051,1382,1080,1367,1106,1359,1153,1355,1201,1352,1226,1345,1254,1331,1292,1303,1325,1270,1374,1206,1379,1209,1329,1273,1295,1307,1257,1336,1228,1350,1202,1357,1154,1360,1107,1364,1082,1372,1055,1386,1039,1401,1031,1417,1023,1433,1007,1449,983,1461"/>
<area shape="poly" title=" " alt="" coords="958,1456,1004,1444,1082,1424,1084,1430,1006,1449,960,1461"/>
<area shape="poly" title=" " alt="" coords="981,1468,1068,1467,1068,1472,982,1473"/>
<area shape="poly" title=" " alt="" coords="698,1136,749,1118,796,1091,849,1068,851,1073,799,1096,751,1122,699,1141"/>
<area shape="poly" title=" " alt="" coords="725,1141,795,1134,795,1140,725,1147"/>
</map>
</div>
<div class="dynheader">
이 함수를 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="rgw__admin_8cc_a4dd5fe9ff30e3225bca7a06c01dde2bd_icgraph.png" border="0" usemap="#argw__admin_8cc_a4dd5fe9ff30e3225bca7a06c01dde2bd_icgraph" alt=""/></div>
<map name="argw__admin_8cc_a4dd5fe9ff30e3225bca7a06c01dde2bd_icgraph" id="argw__admin_8cc_a4dd5fe9ff30e3225bca7a06c01dde2bd_icgraph">
<area shape="rect" title=" " alt="" coords="103,5,205,32"/>
<area shape="rect" href="rgw__admin_8cc.html#a217dbf8b442f20279ea00b898af96f52" title=" " alt="" coords="5,5,55,32"/>
<area shape="poly" title=" " alt="" coords="87,21,55,21,55,16,87,16"/>
</map>
</div>

</div>
</div>
<a id="a2ef30c42cbc289d899a8be5d2d8f77d0" name="a2ef30c42cbc289d899a8be5d2d8f77d0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2ef30c42cbc289d899a8be5d2d8f77d0">&#9670;&#160;</a></span>usage()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void usage </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition"><a class="el" href="rgw__admin_8cc_source.html">rgw_admin.cc</a> 파일의 <a class="el" href="rgw__admin_8cc_source.html#l00108">108</a> 번째 라인에서 정의되었습니다.</p>
<div class="fragment"><div class="line"><span class="lineno">  109</span>{</div>
<div class="line"><span class="lineno">  110</span>  cout &lt;&lt; <span class="stringliteral">&quot;usage: radosgw-admin &lt;cmd&gt; [options...]&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno">  111</span>  cout &lt;&lt; <span class="stringliteral">&quot;commands:\n&quot;</span>;</div>
<div class="line"><span class="lineno">  112</span>  cout &lt;&lt; <span class="stringliteral">&quot;  user create                create a new user\n&quot;</span> ;</div>
<div class="line"><span class="lineno">  113</span>  cout &lt;&lt; <span class="stringliteral">&quot;  user modify                modify user\n&quot;</span>;</div>
<div class="line"><span class="lineno">  114</span>  cout &lt;&lt; <span class="stringliteral">&quot;  user info                  get user info\n&quot;</span>;</div>
<div class="line"><span class="lineno">  115</span>  cout &lt;&lt; <span class="stringliteral">&quot;  user rename                rename user\n&quot;</span>;</div>
<div class="line"><span class="lineno">  116</span>  cout &lt;&lt; <span class="stringliteral">&quot;  user rm                    remove user\n&quot;</span>;</div>
<div class="line"><span class="lineno">  117</span>  cout &lt;&lt; <span class="stringliteral">&quot;  user suspend               suspend a user\n&quot;</span>;</div>
<div class="line"><span class="lineno">  118</span>  cout &lt;&lt; <span class="stringliteral">&quot;  user enable                re-enable user after suspension\n&quot;</span>;</div>
<div class="line"><span class="lineno">  119</span>  cout &lt;&lt; <span class="stringliteral">&quot;  user check                 check user info\n&quot;</span>;</div>
<div class="line"><span class="lineno">  120</span>  cout &lt;&lt; <span class="stringliteral">&quot;  user stats                 show user stats as accounted by quota subsystem\n&quot;</span>;</div>
<div class="line"><span class="lineno">  121</span>  cout &lt;&lt; <span class="stringliteral">&quot;  user list                  list users\n&quot;</span>;</div>
<div class="line"><span class="lineno">  122</span>  cout &lt;&lt; <span class="stringliteral">&quot;  caps add                   add user capabilities\n&quot;</span>;</div>
<div class="line"><span class="lineno">  123</span>  cout &lt;&lt; <span class="stringliteral">&quot;  caps rm                    remove user capabilities\n&quot;</span>;</div>
<div class="line"><span class="lineno">  124</span>  cout &lt;&lt; <span class="stringliteral">&quot;  subuser create             create a new subuser\n&quot;</span> ;</div>
<div class="line"><span class="lineno">  125</span>  cout &lt;&lt; <span class="stringliteral">&quot;  subuser modify             modify subuser\n&quot;</span>;</div>
<div class="line"><span class="lineno">  126</span>  cout &lt;&lt; <span class="stringliteral">&quot;  subuser rm                 remove subuser\n&quot;</span>;</div>
<div class="line"><span class="lineno">  127</span>  cout &lt;&lt; <span class="stringliteral">&quot;  key create                 create access key\n&quot;</span>;</div>
<div class="line"><span class="lineno">  128</span>  cout &lt;&lt; <span class="stringliteral">&quot;  key rm                     remove access key\n&quot;</span>;</div>
<div class="line"><span class="lineno">  129</span>  cout &lt;&lt; <span class="stringliteral">&quot;  bucket list                list buckets (specify --allow-unordered for\n&quot;</span>;</div>
<div class="line"><span class="lineno">  130</span>  cout &lt;&lt; <span class="stringliteral">&quot;                             faster, unsorted listing)\n&quot;</span>;</div>
<div class="line"><span class="lineno">  131</span>  cout &lt;&lt; <span class="stringliteral">&quot;  bucket limit check         show bucket sharding stats\n&quot;</span>;</div>
<div class="line"><span class="lineno">  132</span>  cout &lt;&lt; <span class="stringliteral">&quot;  bucket link                link bucket to specified user\n&quot;</span>;</div>
<div class="line"><span class="lineno">  133</span>  cout &lt;&lt; <span class="stringliteral">&quot;  bucket unlink              unlink bucket from specified user\n&quot;</span>;</div>
<div class="line"><span class="lineno">  134</span>  cout &lt;&lt; <span class="stringliteral">&quot;  bucket stats               returns bucket statistics\n&quot;</span>;</div>
<div class="line"><span class="lineno">  135</span>  cout &lt;&lt; <span class="stringliteral">&quot;  bucket rm                  remove bucket\n&quot;</span>;</div>
<div class="line"><span class="lineno">  136</span>  cout &lt;&lt; <span class="stringliteral">&quot;  bucket check               check bucket index\n&quot;</span>;</div>
<div class="line"><span class="lineno">  137</span>  cout &lt;&lt; <span class="stringliteral">&quot;  bucket chown               link bucket to specified user and update its object ACLs\n&quot;</span>;</div>
<div class="line"><span class="lineno">  138</span>  cout &lt;&lt; <span class="stringliteral">&quot;  bucket reshard             reshard bucket\n&quot;</span>;</div>
<div class="line"><span class="lineno">  139</span>  cout &lt;&lt; <span class="stringliteral">&quot;  bucket rewrite             rewrite all objects in the specified bucket\n&quot;</span>;</div>
<div class="line"><span class="lineno">  140</span>  cout &lt;&lt; <span class="stringliteral">&quot;  bucket sync checkpoint     poll a bucket&#39;s sync status until it catches up to its remote\n&quot;</span>;</div>
<div class="line"><span class="lineno">  141</span>  cout &lt;&lt; <span class="stringliteral">&quot;  bucket sync disable        disable bucket sync\n&quot;</span>;</div>
<div class="line"><span class="lineno">  142</span>  cout &lt;&lt; <span class="stringliteral">&quot;  bucket sync enable         enable bucket sync\n&quot;</span>;</div>
<div class="line"><span class="lineno">  143</span>  cout &lt;&lt; <span class="stringliteral">&quot;  bucket radoslist           list rados objects backing bucket&#39;s objects\n&quot;</span>;</div>
<div class="line"><span class="lineno">  144</span>  cout &lt;&lt; <span class="stringliteral">&quot;  bi get                     retrieve bucket index object entries\n&quot;</span>;</div>
<div class="line"><span class="lineno">  145</span>  cout &lt;&lt; <span class="stringliteral">&quot;  bi put                     store bucket index object entries\n&quot;</span>;</div>
<div class="line"><span class="lineno">  146</span>  cout &lt;&lt; <span class="stringliteral">&quot;  bi list                    list raw bucket index entries\n&quot;</span>;</div>
<div class="line"><span class="lineno">  147</span>  cout &lt;&lt; <span class="stringliteral">&quot;  bi purge                   purge bucket index entries\n&quot;</span>;</div>
<div class="line"><span class="lineno">  148</span>  cout &lt;&lt; <span class="stringliteral">&quot;  object rm                  remove object\n&quot;</span>;</div>
<div class="line"><span class="lineno">  149</span>  cout &lt;&lt; <span class="stringliteral">&quot;  object put                 put object\n&quot;</span>;</div>
<div class="line"><span class="lineno">  150</span>  cout &lt;&lt; <span class="stringliteral">&quot;  object stat                stat an object for its metadata\n&quot;</span>;</div>
<div class="line"><span class="lineno">  151</span>  cout &lt;&lt; <span class="stringliteral">&quot;  object unlink              unlink object from bucket index\n&quot;</span>;</div>
<div class="line"><span class="lineno">  152</span>  cout &lt;&lt; <span class="stringliteral">&quot;  object rewrite             rewrite the specified object\n&quot;</span>;</div>
<div class="line"><span class="lineno">  153</span>  cout &lt;&lt; <span class="stringliteral">&quot;  objects expire             run expired objects cleanup\n&quot;</span>;</div>
<div class="line"><span class="lineno">  154</span>  cout &lt;&lt; <span class="stringliteral">&quot;  objects expire-stale list  list stale expired objects (caused by reshard)\n&quot;</span>;</div>
<div class="line"><span class="lineno">  155</span>  cout &lt;&lt; <span class="stringliteral">&quot;  objects expire-stale rm    remove stale expired objects\n&quot;</span>;</div>
<div class="line"><span class="lineno">  156</span>  cout &lt;&lt; <span class="stringliteral">&quot;  period rm                  remove a period\n&quot;</span>;</div>
<div class="line"><span class="lineno">  157</span>  cout &lt;&lt; <span class="stringliteral">&quot;  period get                 get period info\n&quot;</span>;</div>
<div class="line"><span class="lineno">  158</span>  cout &lt;&lt; <span class="stringliteral">&quot;  period get-current         get current period info\n&quot;</span>;</div>
<div class="line"><span class="lineno">  159</span>  cout &lt;&lt; <span class="stringliteral">&quot;  period pull                pull a period\n&quot;</span>;</div>
<div class="line"><span class="lineno">  160</span>  cout &lt;&lt; <span class="stringliteral">&quot;  period push                push a period\n&quot;</span>;</div>
<div class="line"><span class="lineno">  161</span>  cout &lt;&lt; <span class="stringliteral">&quot;  period list                list all periods\n&quot;</span>;</div>
<div class="line"><span class="lineno">  162</span>  cout &lt;&lt; <span class="stringliteral">&quot;  period update              update the staging period\n&quot;</span>;</div>
<div class="line"><span class="lineno">  163</span>  cout &lt;&lt; <span class="stringliteral">&quot;  period commit              commit the staging period\n&quot;</span>;</div>
<div class="line"><span class="lineno">  164</span>  cout &lt;&lt; <span class="stringliteral">&quot;  quota set                  set quota params\n&quot;</span>;</div>
<div class="line"><span class="lineno">  165</span>  cout &lt;&lt; <span class="stringliteral">&quot;  quota enable               enable quota\n&quot;</span>;</div>
<div class="line"><span class="lineno">  166</span>  cout &lt;&lt; <span class="stringliteral">&quot;  quota disable              disable quota\n&quot;</span>;</div>
<div class="line"><span class="lineno">  167</span>  cout &lt;&lt; <span class="stringliteral">&quot;  ratelimit get              get ratelimit params\n&quot;</span>;</div>
<div class="line"><span class="lineno">  168</span>  cout &lt;&lt; <span class="stringliteral">&quot;  ratelimit set              set ratelimit params\n&quot;</span>;</div>
<div class="line"><span class="lineno">  169</span>  cout &lt;&lt; <span class="stringliteral">&quot;  ratelimit enable           enable ratelimit\n&quot;</span>;</div>
<div class="line"><span class="lineno">  170</span>  cout &lt;&lt; <span class="stringliteral">&quot;  ratelimit disable          disable ratelimit\n&quot;</span>;</div>
<div class="line"><span class="lineno">  171</span>  cout &lt;&lt; <span class="stringliteral">&quot;  global quota get           view global quota params\n&quot;</span>;</div>
<div class="line"><span class="lineno">  172</span>  cout &lt;&lt; <span class="stringliteral">&quot;  global quota set           set global quota params\n&quot;</span>;</div>
<div class="line"><span class="lineno">  173</span>  cout &lt;&lt; <span class="stringliteral">&quot;  global quota enable        enable a global quota\n&quot;</span>;</div>
<div class="line"><span class="lineno">  174</span>  cout &lt;&lt; <span class="stringliteral">&quot;  global quota disable       disable a global quota\n&quot;</span>;</div>
<div class="line"><span class="lineno">  175</span>  cout &lt;&lt; <span class="stringliteral">&quot;  global ratelimit get       view global ratelimit params\n&quot;</span>;</div>
<div class="line"><span class="lineno">  176</span>  cout &lt;&lt; <span class="stringliteral">&quot;  global ratelimit set       set global ratelimit params\n&quot;</span>;</div>
<div class="line"><span class="lineno">  177</span>  cout &lt;&lt; <span class="stringliteral">&quot;  global ratelimit enable    enable a ratelimit quota\n&quot;</span>;</div>
<div class="line"><span class="lineno">  178</span>  cout &lt;&lt; <span class="stringliteral">&quot;  global ratelimit disable   disable a ratelimit quota\n&quot;</span>;</div>
<div class="line"><span class="lineno">  179</span>  cout &lt;&lt; <span class="stringliteral">&quot;  realm create               create a new realm\n&quot;</span>;</div>
<div class="line"><span class="lineno">  180</span>  cout &lt;&lt; <span class="stringliteral">&quot;  realm rm                   remove a realm\n&quot;</span>;</div>
<div class="line"><span class="lineno">  181</span>  cout &lt;&lt; <span class="stringliteral">&quot;  realm get                  show realm info\n&quot;</span>;</div>
<div class="line"><span class="lineno">  182</span>  cout &lt;&lt; <span class="stringliteral">&quot;  realm get-default          get default realm name\n&quot;</span>;</div>
<div class="line"><span class="lineno">  183</span>  cout &lt;&lt; <span class="stringliteral">&quot;  realm list                 list realms\n&quot;</span>;</div>
<div class="line"><span class="lineno">  184</span>  cout &lt;&lt; <span class="stringliteral">&quot;  realm list-periods         list all realm periods\n&quot;</span>;</div>
<div class="line"><span class="lineno">  185</span>  cout &lt;&lt; <span class="stringliteral">&quot;  realm rename               rename a realm\n&quot;</span>;</div>
<div class="line"><span class="lineno">  186</span>  cout &lt;&lt; <span class="stringliteral">&quot;  realm set                  set realm info (requires infile)\n&quot;</span>;</div>
<div class="line"><span class="lineno">  187</span>  cout &lt;&lt; <span class="stringliteral">&quot;  realm default              set realm as default\n&quot;</span>;</div>
<div class="line"><span class="lineno">  188</span>  cout &lt;&lt; <span class="stringliteral">&quot;  realm pull                 pull a realm and its current period\n&quot;</span>;</div>
<div class="line"><span class="lineno">  189</span>  cout &lt;&lt; <span class="stringliteral">&quot;  zonegroup add              add a zone to a zonegroup\n&quot;</span>;</div>
<div class="line"><span class="lineno">  190</span>  cout &lt;&lt; <span class="stringliteral">&quot;  zonegroup create           create a new zone group info\n&quot;</span>;</div>
<div class="line"><span class="lineno">  191</span>  cout &lt;&lt; <span class="stringliteral">&quot;  zonegroup default          set default zone group\n&quot;</span>;</div>
<div class="line"><span class="lineno">  192</span>  cout &lt;&lt; <span class="stringliteral">&quot;  zonegroup delete           delete a zone group info\n&quot;</span>;</div>
<div class="line"><span class="lineno">  193</span>  cout &lt;&lt; <span class="stringliteral">&quot;  zonegroup get              show zone group info\n&quot;</span>;</div>
<div class="line"><span class="lineno">  194</span>  cout &lt;&lt; <span class="stringliteral">&quot;  zonegroup modify           modify an existing zonegroup\n&quot;</span>;</div>
<div class="line"><span class="lineno">  195</span>  cout &lt;&lt; <span class="stringliteral">&quot;  zonegroup set              set zone group info (requires infile)\n&quot;</span>;</div>
<div class="line"><span class="lineno">  196</span>  cout &lt;&lt; <span class="stringliteral">&quot;  zonegroup rm               remove a zone from a zonegroup\n&quot;</span>;</div>
<div class="line"><span class="lineno">  197</span>  cout &lt;&lt; <span class="stringliteral">&quot;  zonegroup rename           rename a zone group\n&quot;</span>;</div>
<div class="line"><span class="lineno">  198</span>  cout &lt;&lt; <span class="stringliteral">&quot;  zonegroup list             list all zone groups set on this cluster\n&quot;</span>;</div>
<div class="line"><span class="lineno">  199</span>  cout &lt;&lt; <span class="stringliteral">&quot;  zonegroup placement list   list zonegroup&#39;s placement targets\n&quot;</span>;</div>
<div class="line"><span class="lineno">  200</span>  cout &lt;&lt; <span class="stringliteral">&quot;  zonegroup placement get    get a placement target of a specific zonegroup\n&quot;</span>;</div>
<div class="line"><span class="lineno">  201</span>  cout &lt;&lt; <span class="stringliteral">&quot;  zonegroup placement add    add a placement target id to a zonegroup\n&quot;</span>;</div>
<div class="line"><span class="lineno">  202</span>  cout &lt;&lt; <span class="stringliteral">&quot;  zonegroup placement modify modify a placement target of a specific zonegroup\n&quot;</span>;</div>
<div class="line"><span class="lineno">  203</span>  cout &lt;&lt; <span class="stringliteral">&quot;  zonegroup placement rm     remove a placement target from a zonegroup\n&quot;</span>;</div>
<div class="line"><span class="lineno">  204</span>  cout &lt;&lt; <span class="stringliteral">&quot;  zonegroup placement default  set a zonegroup&#39;s default placement target\n&quot;</span>;</div>
<div class="line"><span class="lineno">  205</span>  cout &lt;&lt; <span class="stringliteral">&quot;  zone create                create a new zone\n&quot;</span>;</div>
<div class="line"><span class="lineno">  206</span>  cout &lt;&lt; <span class="stringliteral">&quot;  zone rm                    remove a zone\n&quot;</span>;</div>
<div class="line"><span class="lineno">  207</span>  cout &lt;&lt; <span class="stringliteral">&quot;  zone get                   show zone cluster params\n&quot;</span>;</div>
<div class="line"><span class="lineno">  208</span>  cout &lt;&lt; <span class="stringliteral">&quot;  zone modify                modify an existing zone\n&quot;</span>;</div>
<div class="line"><span class="lineno">  209</span>  cout &lt;&lt; <span class="stringliteral">&quot;  zone set                   set zone cluster params (requires infile)\n&quot;</span>;</div>
<div class="line"><span class="lineno">  210</span>  cout &lt;&lt; <span class="stringliteral">&quot;  zone list                  list all zones set on this cluster\n&quot;</span>;</div>
<div class="line"><span class="lineno">  211</span>  cout &lt;&lt; <span class="stringliteral">&quot;  zone rename                rename a zone\n&quot;</span>;</div>
<div class="line"><span class="lineno">  212</span>  cout &lt;&lt; <span class="stringliteral">&quot;  zone placement list        list zone&#39;s placement targets\n&quot;</span>;</div>
<div class="line"><span class="lineno">  213</span>  cout &lt;&lt; <span class="stringliteral">&quot;  zone placement get         get a zone placement target\n&quot;</span>;</div>
<div class="line"><span class="lineno">  214</span>  cout &lt;&lt; <span class="stringliteral">&quot;  zone placement add         add a zone placement target\n&quot;</span>;</div>
<div class="line"><span class="lineno">  215</span>  cout &lt;&lt; <span class="stringliteral">&quot;  zone placement modify      modify a zone placement target\n&quot;</span>;</div>
<div class="line"><span class="lineno">  216</span>  cout &lt;&lt; <span class="stringliteral">&quot;  zone placement rm          remove a zone placement target\n&quot;</span>;</div>
<div class="line"><span class="lineno">  217</span>  cout &lt;&lt; <span class="stringliteral">&quot;  metadata sync status       get metadata sync status\n&quot;</span>;</div>
<div class="line"><span class="lineno">  218</span>  cout &lt;&lt; <span class="stringliteral">&quot;  metadata sync init         init metadata sync\n&quot;</span>;</div>
<div class="line"><span class="lineno">  219</span>  cout &lt;&lt; <span class="stringliteral">&quot;  metadata sync run          run metadata sync\n&quot;</span>;</div>
<div class="line"><span class="lineno">  220</span>  cout &lt;&lt; <span class="stringliteral">&quot;  data sync status           get data sync status of the specified source zone\n&quot;</span>;</div>
<div class="line"><span class="lineno">  221</span>  cout &lt;&lt; <span class="stringliteral">&quot;  data sync init             init data sync for the specified source zone\n&quot;</span>;</div>
<div class="line"><span class="lineno">  222</span>  cout &lt;&lt; <span class="stringliteral">&quot;  data sync run              run data sync for the specified source zone\n&quot;</span>;</div>
<div class="line"><span class="lineno">  223</span>  cout &lt;&lt; <span class="stringliteral">&quot;  pool add                   add an existing pool for data placement\n&quot;</span>;</div>
<div class="line"><span class="lineno">  224</span>  cout &lt;&lt; <span class="stringliteral">&quot;  pool rm                    remove an existing pool from data placement set\n&quot;</span>;</div>
<div class="line"><span class="lineno">  225</span>  cout &lt;&lt; <span class="stringliteral">&quot;  pools list                 list placement active set\n&quot;</span>;</div>
<div class="line"><span class="lineno">  226</span>  cout &lt;&lt; <span class="stringliteral">&quot;  policy                     read bucket/object policy\n&quot;</span>;</div>
<div class="line"><span class="lineno">  227</span>  cout &lt;&lt; <span class="stringliteral">&quot;  log list                   list log objects\n&quot;</span>;</div>
<div class="line"><span class="lineno">  228</span>  cout &lt;&lt; <span class="stringliteral">&quot;  log show                   dump a log from specific object or (bucket + date\n&quot;</span>;</div>
<div class="line"><span class="lineno">  229</span>  cout &lt;&lt; <span class="stringliteral">&quot;                             + bucket-id)\n&quot;</span>;</div>
<div class="line"><span class="lineno">  230</span>  cout &lt;&lt; <span class="stringliteral">&quot;                             (NOTE: required to specify formatting of date\n&quot;</span>;</div>
<div class="line"><span class="lineno">  231</span>  cout &lt;&lt; <span class="stringliteral">&quot;                             to \&quot;YYYY-MM-DD-hh\&quot;)\n&quot;</span>;</div>
<div class="line"><span class="lineno">  232</span>  cout &lt;&lt; <span class="stringliteral">&quot;  log rm                     remove log object\n&quot;</span>;</div>
<div class="line"><span class="lineno">  233</span>  cout &lt;&lt; <span class="stringliteral">&quot;  usage show                 show usage (by user, by bucket, date range)\n&quot;</span>;</div>
<div class="line"><span class="lineno">  234</span>  cout &lt;&lt; <span class="stringliteral">&quot;  usage trim                 trim usage (by user, by bucket, date range)\n&quot;</span>;</div>
<div class="line"><span class="lineno">  235</span>  cout &lt;&lt; <span class="stringliteral">&quot;  usage clear                reset all the usage stats for the cluster\n&quot;</span>;</div>
<div class="line"><span class="lineno">  236</span>  cout &lt;&lt; <span class="stringliteral">&quot;  gc list                    dump expired garbage collection objects (specify\n&quot;</span>;</div>
<div class="line"><span class="lineno">  237</span>  cout &lt;&lt; <span class="stringliteral">&quot;                             --include-all to list all entries, including unexpired)\n&quot;</span>;</div>
<div class="line"><span class="lineno">  238</span>  cout &lt;&lt; <span class="stringliteral">&quot;  gc process                 manually process garbage (specify\n&quot;</span>;</div>
<div class="line"><span class="lineno">  239</span>  cout &lt;&lt; <span class="stringliteral">&quot;                             --include-all to process all entries, including unexpired)\n&quot;</span>;</div>
<div class="line"><span class="lineno">  240</span>  cout &lt;&lt; <span class="stringliteral">&quot;  lc list                    list all bucket lifecycle progress\n&quot;</span>;</div>
<div class="line"><span class="lineno">  241</span>  cout &lt;&lt; <span class="stringliteral">&quot;  lc get                     get a lifecycle bucket configuration\n&quot;</span>;</div>
<div class="line"><span class="lineno">  242</span>  cout &lt;&lt; <span class="stringliteral">&quot;  lc process                 manually process lifecycle\n&quot;</span>;</div>
<div class="line"><span class="lineno">  243</span>  cout &lt;&lt; <span class="stringliteral">&quot;  lc reshard fix             fix LC for a resharded bucket\n&quot;</span>;</div>
<div class="line"><span class="lineno">  244</span>  cout &lt;&lt; <span class="stringliteral">&quot;  metadata get               get metadata info\n&quot;</span>;</div>
<div class="line"><span class="lineno">  245</span>  cout &lt;&lt; <span class="stringliteral">&quot;  metadata put               put metadata info\n&quot;</span>;</div>
<div class="line"><span class="lineno">  246</span>  cout &lt;&lt; <span class="stringliteral">&quot;  metadata rm                remove metadata info\n&quot;</span>;</div>
<div class="line"><span class="lineno">  247</span>  cout &lt;&lt; <span class="stringliteral">&quot;  metadata list              list metadata info\n&quot;</span>;</div>
<div class="line"><span class="lineno">  248</span>  cout &lt;&lt; <span class="stringliteral">&quot;  mdlog list                 list metadata log\n&quot;</span>;</div>
<div class="line"><span class="lineno">  249</span>  cout &lt;&lt; <span class="stringliteral">&quot;  mdlog autotrim             auto trim metadata log\n&quot;</span>;</div>
<div class="line"><span class="lineno">  250</span>  cout &lt;&lt; <span class="stringliteral">&quot;  mdlog trim                 trim metadata log (use marker)\n&quot;</span>;</div>
<div class="line"><span class="lineno">  251</span>  cout &lt;&lt; <span class="stringliteral">&quot;  mdlog status               read metadata log status\n&quot;</span>;</div>
<div class="line"><span class="lineno">  252</span>  cout &lt;&lt; <span class="stringliteral">&quot;  bilog list                 list bucket index log\n&quot;</span>;</div>
<div class="line"><span class="lineno">  253</span>  cout &lt;&lt; <span class="stringliteral">&quot;  bilog trim                 trim bucket index log (use start-marker, end-marker)\n&quot;</span>;</div>
<div class="line"><span class="lineno">  254</span>  cout &lt;&lt; <span class="stringliteral">&quot;  bilog status               read bucket index log status\n&quot;</span>;</div>
<div class="line"><span class="lineno">  255</span>  cout &lt;&lt; <span class="stringliteral">&quot;  bilog autotrim             auto trim bucket index log\n&quot;</span>;</div>
<div class="line"><span class="lineno">  256</span>  cout &lt;&lt; <span class="stringliteral">&quot;  datalog list               list data log\n&quot;</span>;</div>
<div class="line"><span class="lineno">  257</span>  cout &lt;&lt; <span class="stringliteral">&quot;  datalog trim               trim data log\n&quot;</span>;</div>
<div class="line"><span class="lineno">  258</span>  cout &lt;&lt; <span class="stringliteral">&quot;  datalog status             read data log status\n&quot;</span>;</div>
<div class="line"><span class="lineno">  259</span>  cout &lt;&lt; <span class="stringliteral">&quot;  datalog type               change datalog type to --log_type={fifo,omap}\n&quot;</span>;</div>
<div class="line"><span class="lineno">  260</span>  cout &lt;&lt; <span class="stringliteral">&quot;  orphans find               deprecated -- init and run search for leaked rados objects (use job-id, pool)\n&quot;</span>;</div>
<div class="line"><span class="lineno">  261</span>  cout &lt;&lt; <span class="stringliteral">&quot;  orphans finish             deprecated -- clean up search for leaked rados objects\n&quot;</span>;</div>
<div class="line"><span class="lineno">  262</span>  cout &lt;&lt; <span class="stringliteral">&quot;  orphans list-jobs          deprecated -- list the current job-ids for orphans search\n&quot;</span>;</div>
<div class="line"><span class="lineno">  263</span>  cout &lt;&lt; <span class="stringliteral">&quot;                           * the three &#39;orphans&#39; sub-commands are now deprecated; consider using the `rgw-orphan-list` tool\n&quot;</span>;</div>
<div class="line"><span class="lineno">  264</span>  cout &lt;&lt; <span class="stringliteral">&quot;  role create                create a AWS role for use with STS\n&quot;</span>;</div>
<div class="line"><span class="lineno">  265</span>  cout &lt;&lt; <span class="stringliteral">&quot;  role delete                remove a role\n&quot;</span>;</div>
<div class="line"><span class="lineno">  266</span>  cout &lt;&lt; <span class="stringliteral">&quot;  role get                   get a role\n&quot;</span>;</div>
<div class="line"><span class="lineno">  267</span>  cout &lt;&lt; <span class="stringliteral">&quot;  role list                  list roles with specified path prefix\n&quot;</span>;</div>
<div class="line"><span class="lineno">  268</span>  cout &lt;&lt; <span class="stringliteral">&quot;  role modify                modify the assume role policy of an existing role\n&quot;</span>;</div>
<div class="line"><span class="lineno">  269</span>  cout &lt;&lt; <span class="stringliteral">&quot;  role-policy put            add/update permission policy to role\n&quot;</span>;</div>
<div class="line"><span class="lineno">  270</span>  cout &lt;&lt; <span class="stringliteral">&quot;  role-policy list           list policies attached to a role\n&quot;</span>;</div>
<div class="line"><span class="lineno">  271</span>  cout &lt;&lt; <span class="stringliteral">&quot;  role-policy get            get the specified inline policy document embedded with the given role\n&quot;</span>;</div>
<div class="line"><span class="lineno">  272</span>  cout &lt;&lt; <span class="stringliteral">&quot;  role-policy delete         remove policy attached to a role\n&quot;</span>;</div>
<div class="line"><span class="lineno">  273</span>  cout &lt;&lt; <span class="stringliteral">&quot;  reshard add                schedule a resharding of a bucket\n&quot;</span>;</div>
<div class="line"><span class="lineno">  274</span>  cout &lt;&lt; <span class="stringliteral">&quot;  reshard list               list all bucket resharding or scheduled to be resharded\n&quot;</span>;</div>
<div class="line"><span class="lineno">  275</span>  cout &lt;&lt; <span class="stringliteral">&quot;  reshard status             read bucket resharding status\n&quot;</span>;</div>
<div class="line"><span class="lineno">  276</span>  cout &lt;&lt; <span class="stringliteral">&quot;  reshard process            process of scheduled reshard jobs\n&quot;</span>;</div>
<div class="line"><span class="lineno">  277</span>  cout &lt;&lt; <span class="stringliteral">&quot;  reshard cancel             cancel resharding a bucket\n&quot;</span>;</div>
<div class="line"><span class="lineno">  278</span>  cout &lt;&lt; <span class="stringliteral">&quot;  reshard stale-instances list list stale-instances from bucket resharding\n&quot;</span>;</div>
<div class="line"><span class="lineno">  279</span>  cout &lt;&lt; <span class="stringliteral">&quot;  reshard stale-instances rm   cleanup stale-instances from bucket resharding\n&quot;</span>;</div>
<div class="line"><span class="lineno">  280</span>  cout &lt;&lt; <span class="stringliteral">&quot;  sync error list            list sync error\n&quot;</span>;</div>
<div class="line"><span class="lineno">  281</span>  cout &lt;&lt; <span class="stringliteral">&quot;  sync error trim            trim sync error\n&quot;</span>;</div>
<div class="line"><span class="lineno">  282</span>  cout &lt;&lt; <span class="stringliteral">&quot;  mfa create                 create a new MFA TOTP token\n&quot;</span>;</div>
<div class="line"><span class="lineno">  283</span>  cout &lt;&lt; <span class="stringliteral">&quot;  mfa list                   list MFA TOTP tokens\n&quot;</span>;</div>
<div class="line"><span class="lineno">  284</span>  cout &lt;&lt; <span class="stringliteral">&quot;  mfa get                    show MFA TOTP token\n&quot;</span>;</div>
<div class="line"><span class="lineno">  285</span>  cout &lt;&lt; <span class="stringliteral">&quot;  mfa remove                 delete MFA TOTP token\n&quot;</span>;</div>
<div class="line"><span class="lineno">  286</span>  cout &lt;&lt; <span class="stringliteral">&quot;  mfa check                  check MFA TOTP token\n&quot;</span>;</div>
<div class="line"><span class="lineno">  287</span>  cout &lt;&lt; <span class="stringliteral">&quot;  mfa resync                 re-sync MFA TOTP token\n&quot;</span>;</div>
<div class="line"><span class="lineno">  288</span>  cout &lt;&lt; <span class="stringliteral">&quot;  topic list                 list bucket notifications/pubsub topics\n&quot;</span>;</div>
<div class="line"><span class="lineno">  289</span>  cout &lt;&lt; <span class="stringliteral">&quot;  topic get                  get a bucket notifications/pubsub topic\n&quot;</span>;</div>
<div class="line"><span class="lineno">  290</span>  cout &lt;&lt; <span class="stringliteral">&quot;  topic rm                   remove a bucket notifications/pubsub topic\n&quot;</span>;</div>
<div class="line"><span class="lineno">  291</span>  cout &lt;&lt; <span class="stringliteral">&quot;  subscription get           get a pubsub subscription definition\n&quot;</span>;</div>
<div class="line"><span class="lineno">  292</span>  cout &lt;&lt; <span class="stringliteral">&quot;  subscription rm            remove a pubsub subscription\n&quot;</span>;</div>
<div class="line"><span class="lineno">  293</span>  cout &lt;&lt; <span class="stringliteral">&quot;  subscription pull          show events in a pubsub subscription\n&quot;</span>;</div>
<div class="line"><span class="lineno">  294</span>  cout &lt;&lt; <span class="stringliteral">&quot;  subscription ack           ack (remove) an events in a pubsub subscription\n&quot;</span>;</div>
<div class="line"><span class="lineno">  295</span>  cout &lt;&lt; <span class="stringliteral">&quot;  script put                 upload a lua script to a context\n&quot;</span>;</div>
<div class="line"><span class="lineno">  296</span>  cout &lt;&lt; <span class="stringliteral">&quot;  script get                 get the lua script of a context\n&quot;</span>;</div>
<div class="line"><span class="lineno">  297</span>  cout &lt;&lt; <span class="stringliteral">&quot;  script rm                  remove the lua scripts of a context\n&quot;</span>;</div>
<div class="line"><span class="lineno">  298</span>  cout &lt;&lt; <span class="stringliteral">&quot;  script-package add         add a lua package to the scripts allowlist\n&quot;</span>;</div>
<div class="line"><span class="lineno">  299</span>  cout &lt;&lt; <span class="stringliteral">&quot;  script-package rm          remove a lua package from the scripts allowlist\n&quot;</span>;</div>
<div class="line"><span class="lineno">  300</span>  cout &lt;&lt; <span class="stringliteral">&quot;  script-package list        get the lua packages allowlist\n&quot;</span>;</div>
<div class="line"><span class="lineno">  301</span>  cout &lt;&lt; <span class="stringliteral">&quot;options:\n&quot;</span>;</div>
<div class="line"><span class="lineno">  302</span>  cout &lt;&lt; <span class="stringliteral">&quot;   --tenant=&lt;tenant&gt;         tenant name\n&quot;</span>;</div>
<div class="line"><span class="lineno">  303</span>  cout &lt;&lt; <span class="stringliteral">&quot;   --user_ns=&lt;namespace&gt;     namespace of user (oidc in case of users authenticated with oidc provider)\n&quot;</span>;</div>
<div class="line"><span class="lineno">  304</span>  cout &lt;&lt; <span class="stringliteral">&quot;   --uid=&lt;id&gt;                user id\n&quot;</span>;</div>
<div class="line"><span class="lineno">  305</span>  cout &lt;&lt; <span class="stringliteral">&quot;   --new-uid=&lt;id&gt;            new user id\n&quot;</span>;</div>
<div class="line"><span class="lineno">  306</span>  cout &lt;&lt; <span class="stringliteral">&quot;   --subuser=&lt;name&gt;          subuser name\n&quot;</span>;</div>
<div class="line"><span class="lineno">  307</span>  cout &lt;&lt; <span class="stringliteral">&quot;   --access-key=&lt;key&gt;        S3 access key\n&quot;</span>;</div>
<div class="line"><span class="lineno">  308</span>  cout &lt;&lt; <span class="stringliteral">&quot;   --email=&lt;email&gt;           user&#39;s email address\n&quot;</span>;</div>
<div class="line"><span class="lineno">  309</span>  cout &lt;&lt; <span class="stringliteral">&quot;   --secret/--secret-key=&lt;key&gt;\n&quot;</span>;</div>
<div class="line"><span class="lineno">  310</span>  cout &lt;&lt; <span class="stringliteral">&quot;                             specify secret key\n&quot;</span>;</div>
<div class="line"><span class="lineno">  311</span>  cout &lt;&lt; <span class="stringliteral">&quot;   --gen-access-key          generate random access key (for S3)\n&quot;</span>;</div>
<div class="line"><span class="lineno">  312</span>  cout &lt;&lt; <span class="stringliteral">&quot;   --gen-secret              generate random secret key\n&quot;</span>;</div>
<div class="line"><span class="lineno">  313</span>  cout &lt;&lt; <span class="stringliteral">&quot;   --key-type=&lt;type&gt;         key type, options are: swift, s3\n&quot;</span>;</div>
<div class="line"><span class="lineno">  314</span>  cout &lt;&lt; <span class="stringliteral">&quot;   --temp-url-key[-2]=&lt;key&gt;  temp url key\n&quot;</span>;</div>
<div class="line"><span class="lineno">  315</span>  cout &lt;&lt; <span class="stringliteral">&quot;   --access=&lt;access&gt;         Set access permissions for sub-user, should be one\n&quot;</span>;</div>
<div class="line"><span class="lineno">  316</span>  cout &lt;&lt; <span class="stringliteral">&quot;                             of read, write, readwrite, full\n&quot;</span>;</div>
<div class="line"><span class="lineno">  317</span>  cout &lt;&lt; <span class="stringliteral">&quot;   --display-name=&lt;name&gt;     user&#39;s display name\n&quot;</span>;</div>
<div class="line"><span class="lineno">  318</span>  cout &lt;&lt; <span class="stringliteral">&quot;   --max-buckets             max number of buckets for a user\n&quot;</span>;</div>
<div class="line"><span class="lineno">  319</span>  cout &lt;&lt; <span class="stringliteral">&quot;   --admin                   set the admin flag on the user\n&quot;</span>;</div>
<div class="line"><span class="lineno">  320</span>  cout &lt;&lt; <span class="stringliteral">&quot;   --system                  set the system flag on the user\n&quot;</span>;</div>
<div class="line"><span class="lineno">  321</span>  cout &lt;&lt; <span class="stringliteral">&quot;   --op-mask                 set the op mask on the user\n&quot;</span>;</div>
<div class="line"><span class="lineno">  322</span>  cout &lt;&lt; <span class="stringliteral">&quot;   --bucket=&lt;bucket&gt;         Specify the bucket name. Also used by the quota command.\n&quot;</span>;</div>
<div class="line"><span class="lineno">  323</span>  cout &lt;&lt; <span class="stringliteral">&quot;   --pool=&lt;pool&gt;             Specify the pool name. Also used to scan for leaked rados objects.\n&quot;</span>;</div>
<div class="line"><span class="lineno">  324</span>  cout &lt;&lt; <span class="stringliteral">&quot;   --object=&lt;object&gt;         object name\n&quot;</span>;</div>
<div class="line"><span class="lineno">  325</span>  cout &lt;&lt; <span class="stringliteral">&quot;   --object-version=&lt;version&gt;         object version\n&quot;</span>;</div>
<div class="line"><span class="lineno">  326</span>  cout &lt;&lt; <span class="stringliteral">&quot;   --date=&lt;date&gt;             date in the format yyyy-mm-dd\n&quot;</span>;</div>
<div class="line"><span class="lineno">  327</span>  cout &lt;&lt; <span class="stringliteral">&quot;   --start-date=&lt;date&gt;       start date in the format yyyy-mm-dd\n&quot;</span>;</div>
<div class="line"><span class="lineno">  328</span>  cout &lt;&lt; <span class="stringliteral">&quot;   --end-date=&lt;date&gt;         end date in the format yyyy-mm-dd\n&quot;</span>;</div>
<div class="line"><span class="lineno">  329</span>  cout &lt;&lt; <span class="stringliteral">&quot;   --bucket-id=&lt;bucket-id&gt;   bucket id\n&quot;</span>;</div>
<div class="line"><span class="lineno">  330</span>  cout &lt;&lt; <span class="stringliteral">&quot;   --bucket-new-name=&lt;bucket&gt;\n&quot;</span>;</div>
<div class="line"><span class="lineno">  331</span>  cout &lt;&lt; <span class="stringliteral">&quot;                             for bucket link: optional new name\n&quot;</span>;</div>
<div class="line"><span class="lineno">  332</span>  cout &lt;&lt; <span class="stringliteral">&quot;   --shard-id=&lt;shard-id&gt;     optional for: \n&quot;</span>;</div>
<div class="line"><span class="lineno">  333</span>  cout &lt;&lt; <span class="stringliteral">&quot;                               mdlog list\n&quot;</span>;</div>
<div class="line"><span class="lineno">  334</span>  cout &lt;&lt; <span class="stringliteral">&quot;                               data sync status\n&quot;</span>;</div>
<div class="line"><span class="lineno">  335</span>  cout &lt;&lt; <span class="stringliteral">&quot;                             required for: \n&quot;</span>;</div>
<div class="line"><span class="lineno">  336</span>  cout &lt;&lt; <span class="stringliteral">&quot;                               mdlog trim\n&quot;</span>;</div>
<div class="line"><span class="lineno">  337</span>  cout &lt;&lt; <span class="stringliteral">&quot;   --max-entries=&lt;entries&gt;   max entries for listing operations\n&quot;</span>;</div>
<div class="line"><span class="lineno">  338</span>  cout &lt;&lt; <span class="stringliteral">&quot;   --metadata-key=&lt;key&gt;      key to retrieve metadata from with metadata get\n&quot;</span>;</div>
<div class="line"><span class="lineno">  339</span>  cout &lt;&lt; <span class="stringliteral">&quot;   --remote=&lt;remote&gt;         zone or zonegroup id of remote gateway\n&quot;</span>;</div>
<div class="line"><span class="lineno">  340</span>  cout &lt;&lt; <span class="stringliteral">&quot;   --period=&lt;id&gt;             period id\n&quot;</span>;</div>
<div class="line"><span class="lineno">  341</span>  cout &lt;&lt; <span class="stringliteral">&quot;   --url=&lt;url&gt;               url for pushing/pulling period/realm\n&quot;</span>;</div>
<div class="line"><span class="lineno">  342</span>  cout &lt;&lt; <span class="stringliteral">&quot;   --epoch=&lt;number&gt;          period epoch\n&quot;</span>;</div>
<div class="line"><span class="lineno">  343</span>  cout &lt;&lt; <span class="stringliteral">&quot;   --commit                  commit the period during &#39;period update&#39;\n&quot;</span>;</div>
<div class="line"><span class="lineno">  344</span>  cout &lt;&lt; <span class="stringliteral">&quot;   --staging                 get staging period info\n&quot;</span>;</div>
<div class="line"><span class="lineno">  345</span>  cout &lt;&lt; <span class="stringliteral">&quot;   --master                  set as master\n&quot;</span>;</div>
<div class="line"><span class="lineno">  346</span>  cout &lt;&lt; <span class="stringliteral">&quot;   --master-zone=&lt;id&gt;        master zone id\n&quot;</span>;</div>
<div class="line"><span class="lineno">  347</span>  cout &lt;&lt; <span class="stringliteral">&quot;   --rgw-realm=&lt;name&gt;        realm name\n&quot;</span>;</div>
<div class="line"><span class="lineno">  348</span>  cout &lt;&lt; <span class="stringliteral">&quot;   --realm-id=&lt;id&gt;           realm id\n&quot;</span>;</div>
<div class="line"><span class="lineno">  349</span>  cout &lt;&lt; <span class="stringliteral">&quot;   --realm-new-name=&lt;name&gt;   realm new name\n&quot;</span>;</div>
<div class="line"><span class="lineno">  350</span>  cout &lt;&lt; <span class="stringliteral">&quot;   --rgw-zonegroup=&lt;name&gt;    zonegroup name\n&quot;</span>;</div>
<div class="line"><span class="lineno">  351</span>  cout &lt;&lt; <span class="stringliteral">&quot;   --zonegroup-id=&lt;id&gt;       zonegroup id\n&quot;</span>;</div>
<div class="line"><span class="lineno">  352</span>  cout &lt;&lt; <span class="stringliteral">&quot;   --zonegroup-new-name=&lt;name&gt;\n&quot;</span>;</div>
<div class="line"><span class="lineno">  353</span>  cout &lt;&lt; <span class="stringliteral">&quot;                             zonegroup new name\n&quot;</span>;</div>
<div class="line"><span class="lineno">  354</span>  cout &lt;&lt; <span class="stringliteral">&quot;   --rgw-zone=&lt;name&gt;         name of zone in which radosgw is running\n&quot;</span>;</div>
<div class="line"><span class="lineno">  355</span>  cout &lt;&lt; <span class="stringliteral">&quot;   --zone-id=&lt;id&gt;            zone id\n&quot;</span>;</div>
<div class="line"><span class="lineno">  356</span>  cout &lt;&lt; <span class="stringliteral">&quot;   --zone-new-name=&lt;name&gt;    zone new name\n&quot;</span>;</div>
<div class="line"><span class="lineno">  357</span>  cout &lt;&lt; <span class="stringliteral">&quot;   --source-zone             specify the source zone (for data sync)\n&quot;</span>;</div>
<div class="line"><span class="lineno">  358</span>  cout &lt;&lt; <span class="stringliteral">&quot;   --default                 set entity (realm, zonegroup, zone) as default\n&quot;</span>;</div>
<div class="line"><span class="lineno">  359</span>  cout &lt;&lt; <span class="stringliteral">&quot;   --read-only               set zone as read-only (when adding to zonegroup)\n&quot;</span>;</div>
<div class="line"><span class="lineno">  360</span>  cout &lt;&lt; <span class="stringliteral">&quot;   --redirect-zone           specify zone id to redirect when response is 404 (not found)\n&quot;</span>;</div>
<div class="line"><span class="lineno">  361</span>  cout &lt;&lt; <span class="stringliteral">&quot;   --placement-id            placement id for zonegroup placement commands\n&quot;</span>;</div>
<div class="line"><span class="lineno">  362</span>  cout &lt;&lt; <span class="stringliteral">&quot;   --storage-class           storage class for zonegroup placement commands\n&quot;</span>;</div>
<div class="line"><span class="lineno">  363</span>  cout &lt;&lt; <span class="stringliteral">&quot;   --tags=&lt;list&gt;             list of tags for zonegroup placement add and modify commands\n&quot;</span>;</div>
<div class="line"><span class="lineno">  364</span>  cout &lt;&lt; <span class="stringliteral">&quot;   --tags-add=&lt;list&gt;         list of tags to add for zonegroup placement modify command\n&quot;</span>;</div>
<div class="line"><span class="lineno">  365</span>  cout &lt;&lt; <span class="stringliteral">&quot;   --tags-rm=&lt;list&gt;          list of tags to remove for zonegroup placement modify command\n&quot;</span>;</div>
<div class="line"><span class="lineno">  366</span>  cout &lt;&lt; <span class="stringliteral">&quot;   --endpoints=&lt;list&gt;        zone endpoints\n&quot;</span>;</div>
<div class="line"><span class="lineno">  367</span>  cout &lt;&lt; <span class="stringliteral">&quot;   --index-pool=&lt;pool&gt;       placement target index pool\n&quot;</span>;</div>
<div class="line"><span class="lineno">  368</span>  cout &lt;&lt; <span class="stringliteral">&quot;   --data-pool=&lt;pool&gt;        placement target data pool\n&quot;</span>;</div>
<div class="line"><span class="lineno">  369</span>  cout &lt;&lt; <span class="stringliteral">&quot;   --data-extra-pool=&lt;pool&gt;  placement target data extra (non-ec) pool\n&quot;</span>;</div>
<div class="line"><span class="lineno">  370</span>  cout &lt;&lt; <span class="stringliteral">&quot;   --placement-index-type=&lt;type&gt;\n&quot;</span>;</div>
<div class="line"><span class="lineno">  371</span>  cout &lt;&lt; <span class="stringliteral">&quot;                             placement target index type (normal, indexless, or #id)\n&quot;</span>;</div>
<div class="line"><span class="lineno">  372</span>  cout &lt;&lt; <span class="stringliteral">&quot;   --placement-inline-data=&lt;true&gt;\n&quot;</span>;</div>
<div class="line"><span class="lineno">  373</span>  cout &lt;&lt; <span class="stringliteral">&quot;                             set whether the placement target is configured to store a data\n&quot;</span>;</div>
<div class="line"><span class="lineno">  374</span>  cout &lt;&lt; <span class="stringliteral">&quot;                             chunk inline in head objects\n&quot;</span>;</div>
<div class="line"><span class="lineno">  375</span>  cout &lt;&lt; <span class="stringliteral">&quot;   --compression=&lt;type&gt;      placement target compression type (plugin name or empty/none)\n&quot;</span>;</div>
<div class="line"><span class="lineno">  376</span>  cout &lt;&lt; <span class="stringliteral">&quot;   --tier-type=&lt;type&gt;        zone tier type\n&quot;</span>;</div>
<div class="line"><span class="lineno">  377</span>  cout &lt;&lt; <span class="stringliteral">&quot;   --tier-config=&lt;k&gt;=&lt;v&gt;[,...]\n&quot;</span>;</div>
<div class="line"><span class="lineno">  378</span>  cout &lt;&lt; <span class="stringliteral">&quot;                             set zone tier config keys, values\n&quot;</span>;</div>
<div class="line"><span class="lineno">  379</span>  cout &lt;&lt; <span class="stringliteral">&quot;   --tier-config-rm=&lt;k&gt;[,...]\n&quot;</span>;</div>
<div class="line"><span class="lineno">  380</span>  cout &lt;&lt; <span class="stringliteral">&quot;                             unset zone tier config keys\n&quot;</span>;</div>
<div class="line"><span class="lineno">  381</span>  cout &lt;&lt; <span class="stringliteral">&quot;   --sync-from-all[=false]   set/reset whether zone syncs from all zonegroup peers\n&quot;</span>;</div>
<div class="line"><span class="lineno">  382</span>  cout &lt;&lt; <span class="stringliteral">&quot;   --sync-from=[zone-name][,...]\n&quot;</span>;</div>
<div class="line"><span class="lineno">  383</span>  cout &lt;&lt; <span class="stringliteral">&quot;                             set list of zones to sync from\n&quot;</span>;</div>
<div class="line"><span class="lineno">  384</span>  cout &lt;&lt; <span class="stringliteral">&quot;   --sync-from-rm=[zone-name][,...]\n&quot;</span>;</div>
<div class="line"><span class="lineno">  385</span>  cout &lt;&lt; <span class="stringliteral">&quot;                             remove zones from list of zones to sync from\n&quot;</span>;</div>
<div class="line"><span class="lineno">  386</span>  cout &lt;&lt; <span class="stringliteral">&quot;   --bucket-index-max-shards override a zone/zonegroup&#39;s default bucket index shard count\n&quot;</span>;</div>
<div class="line"><span class="lineno">  387</span>  cout &lt;&lt; <span class="stringliteral">&quot;   --fix                     besides checking bucket index, will also fix it\n&quot;</span>;</div>
<div class="line"><span class="lineno">  388</span>  cout &lt;&lt; <span class="stringliteral">&quot;   --check-objects           bucket check: rebuilds bucket index according to\n&quot;</span>;</div>
<div class="line"><span class="lineno">  389</span>  cout &lt;&lt; <span class="stringliteral">&quot;                             actual objects state\n&quot;</span>;</div>
<div class="line"><span class="lineno">  390</span>  cout &lt;&lt; <span class="stringliteral">&quot;   --format=&lt;format&gt;         specify output format for certain operations: xml,\n&quot;</span>;</div>
<div class="line"><span class="lineno">  391</span>  cout &lt;&lt; <span class="stringliteral">&quot;                             json\n&quot;</span>;</div>
<div class="line"><span class="lineno">  392</span>  cout &lt;&lt; <span class="stringliteral">&quot;   --purge-data              when specified, user removal will also purge all the\n&quot;</span>;</div>
<div class="line"><span class="lineno">  393</span>  cout &lt;&lt; <span class="stringliteral">&quot;                             user data\n&quot;</span>;</div>
<div class="line"><span class="lineno">  394</span>  cout &lt;&lt; <span class="stringliteral">&quot;   --purge-keys              when specified, subuser removal will also purge all the\n&quot;</span>;</div>
<div class="line"><span class="lineno">  395</span>  cout &lt;&lt; <span class="stringliteral">&quot;                             subuser keys\n&quot;</span>;</div>
<div class="line"><span class="lineno">  396</span>  cout &lt;&lt; <span class="stringliteral">&quot;   --purge-objects           remove a bucket&#39;s objects before deleting it\n&quot;</span>;</div>
<div class="line"><span class="lineno">  397</span>  cout &lt;&lt; <span class="stringliteral">&quot;                             (NOTE: required to delete a non-empty bucket)\n&quot;</span>;</div>
<div class="line"><span class="lineno">  398</span>  cout &lt;&lt; <span class="stringliteral">&quot;   --sync-stats              option to &#39;user stats&#39;, update user stats with current\n&quot;</span>;</div>
<div class="line"><span class="lineno">  399</span>  cout &lt;&lt; <span class="stringliteral">&quot;                             stats reported by user&#39;s buckets indexes\n&quot;</span>;</div>
<div class="line"><span class="lineno">  400</span>  cout &lt;&lt; <span class="stringliteral">&quot;   --reset-stats             option to &#39;user stats&#39;, reset stats in accordance with user buckets\n&quot;</span>;</div>
<div class="line"><span class="lineno">  401</span>  cout &lt;&lt; <span class="stringliteral">&quot;   --show-config             show configuration\n&quot;</span>;</div>
<div class="line"><span class="lineno">  402</span>  cout &lt;&lt; <span class="stringliteral">&quot;   --show-log-entries=&lt;flag&gt; enable/disable dump of log entries on log show\n&quot;</span>;</div>
<div class="line"><span class="lineno">  403</span>  cout &lt;&lt; <span class="stringliteral">&quot;   --show-log-sum=&lt;flag&gt;     enable/disable dump of log summation on log show\n&quot;</span>;</div>
<div class="line"><span class="lineno">  404</span>  cout &lt;&lt; <span class="stringliteral">&quot;   --skip-zero-entries       log show only dumps entries that don&#39;t have zero value\n&quot;</span>;</div>
<div class="line"><span class="lineno">  405</span>  cout &lt;&lt; <span class="stringliteral">&quot;                             in one of the numeric field\n&quot;</span>;</div>
<div class="line"><span class="lineno">  406</span>  cout &lt;&lt; <span class="stringliteral">&quot;   --infile=&lt;file&gt;           specify a file to read in when setting data\n&quot;</span>;</div>
<div class="line"><span class="lineno">  407</span>  cout &lt;&lt; <span class="stringliteral">&quot;   --categories=&lt;list&gt;       comma separated list of categories, used in usage show\n&quot;</span>;</div>
<div class="line"><span class="lineno">  408</span>  cout &lt;&lt; <span class="stringliteral">&quot;   --caps=&lt;caps&gt;             list of caps (e.g., \&quot;usage=read, write; user=read\&quot;)\n&quot;</span>;</div>
<div class="line"><span class="lineno">  409</span>  cout &lt;&lt; <span class="stringliteral">&quot;   --op-mask=&lt;op-mask&gt;       permission of user&#39;s operations (e.g., \&quot;read, write, delete, *\&quot;)\n&quot;</span>;</div>
<div class="line"><span class="lineno">  410</span>  cout &lt;&lt; <span class="stringliteral">&quot;   --yes-i-really-mean-it    required for certain operations\n&quot;</span>;</div>
<div class="line"><span class="lineno">  411</span>  cout &lt;&lt; <span class="stringliteral">&quot;   --warnings-only           when specified with bucket limit check, list\n&quot;</span>;</div>
<div class="line"><span class="lineno">  412</span>  cout &lt;&lt; <span class="stringliteral">&quot;                             only buckets nearing or over the current max\n&quot;</span>;</div>
<div class="line"><span class="lineno">  413</span>  cout &lt;&lt; <span class="stringliteral">&quot;                             objects per shard value\n&quot;</span>;</div>
<div class="line"><span class="lineno">  414</span>  cout &lt;&lt; <span class="stringliteral">&quot;   --bypass-gc               when specified with bucket deletion, triggers\n&quot;</span>;</div>
<div class="line"><span class="lineno">  415</span>  cout &lt;&lt; <span class="stringliteral">&quot;                             object deletions by not involving GC\n&quot;</span>;</div>
<div class="line"><span class="lineno">  416</span>  cout &lt;&lt; <span class="stringliteral">&quot;   --inconsistent-index      when specified with bucket deletion and bypass-gc set to true,\n&quot;</span>;</div>
<div class="line"><span class="lineno">  417</span>  cout &lt;&lt; <span class="stringliteral">&quot;                             ignores bucket index consistency\n&quot;</span>;</div>
<div class="line"><span class="lineno">  418</span>  cout &lt;&lt; <span class="stringliteral">&quot;   --min-rewrite-size        min object size for bucket rewrite (default 4M)\n&quot;</span>;</div>
<div class="line"><span class="lineno">  419</span>  cout &lt;&lt; <span class="stringliteral">&quot;   --max-rewrite-size        max object size for bucket rewrite (default ULLONG_MAX)\n&quot;</span>;</div>
<div class="line"><span class="lineno">  420</span>  cout &lt;&lt; <span class="stringliteral">&quot;   --min-rewrite-stripe-size min stripe size for object rewrite (default 0)\n&quot;</span>;</div>
<div class="line"><span class="lineno">  421</span>  cout &lt;&lt; <span class="stringliteral">&quot;   --trim-delay-ms           time interval in msec to limit the frequency of sync error log entries trimming operations,\n&quot;</span>;</div>
<div class="line"><span class="lineno">  422</span>  cout &lt;&lt; <span class="stringliteral">&quot;                             the trimming process will sleep the specified msec for every 1000 entries trimmed\n&quot;</span>;</div>
<div class="line"><span class="lineno">  423</span>  cout &lt;&lt; <span class="stringliteral">&quot;   --max-concurrent-ios      maximum concurrent ios for bucket operations (default: 32)\n&quot;</span>;</div>
<div class="line"><span class="lineno">  424</span>  cout &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><span class="lineno">  425</span>  cout &lt;&lt; <span class="stringliteral">&quot;&lt;date&gt; := \&quot;YYYY-MM-DD[ hh:mm:ss]\&quot;\n&quot;</span>;</div>
<div class="line"><span class="lineno">  426</span>  cout &lt;&lt; <span class="stringliteral">&quot;\nQuota options:\n&quot;</span>;</div>
<div class="line"><span class="lineno">  427</span>  cout &lt;&lt; <span class="stringliteral">&quot;   --max-objects             specify max objects (negative value to disable)\n&quot;</span>;</div>
<div class="line"><span class="lineno">  428</span>  cout &lt;&lt; <span class="stringliteral">&quot;   --max-size                specify max size (in B/K/M/G/T, negative value to disable)\n&quot;</span>;</div>
<div class="line"><span class="lineno">  429</span>  cout &lt;&lt; <span class="stringliteral">&quot;   --quota-scope             scope of quota (bucket, user)\n&quot;</span>;</div>
<div class="line"><span class="lineno">  430</span>  cout &lt;&lt; <span class="stringliteral">&quot;\nRate limiting options:\n&quot;</span>;</div>
<div class="line"><span class="lineno">  431</span>  cout &lt;&lt; <span class="stringliteral">&quot;   --max-read-ops            specify max requests per minute for READ ops per RGW (GET and HEAD request methods), 0 means unlimited\n&quot;</span>;</div>
<div class="line"><span class="lineno">  432</span>  cout &lt;&lt; <span class="stringliteral">&quot;   --max-read-bytes          specify max bytes per minute for READ ops per RGW (GET and HEAD request methods), 0 means unlimited\n&quot;</span>;</div>
<div class="line"><span class="lineno">  433</span>  cout &lt;&lt; <span class="stringliteral">&quot;   --max-write-ops           specify max requests per minute for WRITE ops per RGW (Not GET or HEAD request methods), 0 means unlimited\n&quot;</span>;</div>
<div class="line"><span class="lineno">  434</span>  cout &lt;&lt; <span class="stringliteral">&quot;   --max-write-bytes         specify max bytes per minute for WRITE ops per RGW (Not GET or HEAD request methods), 0 means unlimited\n&quot;</span>;</div>
<div class="line"><span class="lineno">  435</span>  cout &lt;&lt; <span class="stringliteral">&quot;   --ratelimit-scope         scope of rate limiting: bucket, user, anonymous\n&quot;</span>;</div>
<div class="line"><span class="lineno">  436</span>  cout &lt;&lt; <span class="stringliteral">&quot;                             anonymous can be configured only with global rate limit\n&quot;</span>;</div>
<div class="line"><span class="lineno">  437</span>  cout &lt;&lt; <span class="stringliteral">&quot;\nOrphans search options:\n&quot;</span>;</div>
<div class="line"><span class="lineno">  438</span>  cout &lt;&lt; <span class="stringliteral">&quot;   --num-shards              num of shards to use for keeping the temporary scan info\n&quot;</span>;</div>
<div class="line"><span class="lineno">  439</span>  cout &lt;&lt; <span class="stringliteral">&quot;   --orphan-stale-secs       num of seconds to wait before declaring an object to be an orphan (default: 86400)\n&quot;</span>;</div>
<div class="line"><span class="lineno">  440</span>  cout &lt;&lt; <span class="stringliteral">&quot;   --job-id                  set the job id (for orphans find)\n&quot;</span>;</div>
<div class="line"><span class="lineno">  441</span>  cout &lt;&lt; <span class="stringliteral">&quot;   --detail                  detailed mode, log and stat head objects as well\n&quot;</span>;</div>
<div class="line"><span class="lineno">  442</span>  cout &lt;&lt; <span class="stringliteral">&quot;\nOrphans list-jobs options:\n&quot;</span>;</div>
<div class="line"><span class="lineno">  443</span>  cout &lt;&lt; <span class="stringliteral">&quot;   --extra-info              provide extra info in job list\n&quot;</span>;</div>
<div class="line"><span class="lineno">  444</span>  cout &lt;&lt; <span class="stringliteral">&quot;\nRole options:\n&quot;</span>;</div>
<div class="line"><span class="lineno">  445</span>  cout &lt;&lt; <span class="stringliteral">&quot;   --role-name               name of the role to create\n&quot;</span>;</div>
<div class="line"><span class="lineno">  446</span>  cout &lt;&lt; <span class="stringliteral">&quot;   --path                    path to the role\n&quot;</span>;</div>
<div class="line"><span class="lineno">  447</span>  cout &lt;&lt; <span class="stringliteral">&quot;   --assume-role-policy-doc  the trust relationship policy document that grants an entity permission to assume the role\n&quot;</span>;</div>
<div class="line"><span class="lineno">  448</span>  cout &lt;&lt; <span class="stringliteral">&quot;   --policy-name             name of the policy document\n&quot;</span>;</div>
<div class="line"><span class="lineno">  449</span>  cout &lt;&lt; <span class="stringliteral">&quot;   --policy-doc              permission policy document\n&quot;</span>;</div>
<div class="line"><span class="lineno">  450</span>  cout &lt;&lt; <span class="stringliteral">&quot;   --path-prefix             path prefix for filtering roles\n&quot;</span>;</div>
<div class="line"><span class="lineno">  451</span>  cout &lt;&lt; <span class="stringliteral">&quot;\nMFA options:\n&quot;</span>;</div>
<div class="line"><span class="lineno">  452</span>  cout &lt;&lt; <span class="stringliteral">&quot;   --totp-serial             a string that represents the ID of a TOTP token\n&quot;</span>;</div>
<div class="line"><span class="lineno">  453</span>  cout &lt;&lt; <span class="stringliteral">&quot;   --totp-seed               the secret seed that is used to calculate the TOTP\n&quot;</span>;</div>
<div class="line"><span class="lineno">  454</span>  cout &lt;&lt; <span class="stringliteral">&quot;   --totp-seconds            the time resolution that is being used for TOTP generation\n&quot;</span>;</div>
<div class="line"><span class="lineno">  455</span>  cout &lt;&lt; <span class="stringliteral">&quot;   --totp-window             the number of TOTP tokens that are checked before and after the current token when validating token\n&quot;</span>;</div>
<div class="line"><span class="lineno">  456</span>  cout &lt;&lt; <span class="stringliteral">&quot;   --totp-pin                the valid value of a TOTP token at a certain time\n&quot;</span>;</div>
<div class="line"><span class="lineno">  457</span>  cout &lt;&lt; <span class="stringliteral">&quot;\nBucket notifications/pubsub options:\n&quot;</span>;</div>
<div class="line"><span class="lineno">  458</span>  cout &lt;&lt; <span class="stringliteral">&quot;   --topic                   bucket notifications/pubsub topic name\n&quot;</span>;</div>
<div class="line"><span class="lineno">  459</span>  cout &lt;&lt; <span class="stringliteral">&quot;   --subscription            pubsub subscription name\n&quot;</span>;</div>
<div class="line"><span class="lineno">  460</span>  cout &lt;&lt; <span class="stringliteral">&quot;   --event-id                event id in a pubsub subscription\n&quot;</span>;</div>
<div class="line"><span class="lineno">  461</span>  cout &lt;&lt; <span class="stringliteral">&quot;\nScript options:\n&quot;</span>;</div>
<div class="line"><span class="lineno">  462</span>  cout &lt;&lt; <span class="stringliteral">&quot;   --context                 context in which the script runs. one of: preRequest, postRequest\n&quot;</span>;</div>
<div class="line"><span class="lineno">  463</span>  cout &lt;&lt; <span class="stringliteral">&quot;   --package                 name of the lua package that should be added/removed to/from the allowlist\n&quot;</span>;</div>
<div class="line"><span class="lineno">  464</span>  cout &lt;&lt; <span class="stringliteral">&quot;   --allow-compilation       package is allowed to compile C code as part of its installation\n&quot;</span>;</div>
<div class="line"><span class="lineno">  465</span>  cout &lt;&lt; <span class="stringliteral">&quot;\nradoslist options:\n&quot;</span>;</div>
<div class="line"><span class="lineno">  466</span>  cout &lt;&lt; <span class="stringliteral">&quot;   --rgw-obj-fs              the field separator that will separate the rados\n&quot;</span>;</div>
<div class="line"><span class="lineno">  467</span>  cout &lt;&lt; <span class="stringliteral">&quot;                             object name from the rgw object name;\n&quot;</span>;</div>
<div class="line"><span class="lineno">  468</span>  cout &lt;&lt; <span class="stringliteral">&quot;                             additionally rados objects for incomplete\n&quot;</span>;</div>
<div class="line"><span class="lineno">  469</span>  cout &lt;&lt; <span class="stringliteral">&quot;                             multipart uploads will not be output\n&quot;</span>;</div>
<div class="line"><span class="lineno">  470</span>  cout &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><span class="lineno">  471</span>  generic_client_usage();</div>
<div class="line"><span class="lineno">  472</span>}</div>
</div><!-- fragment --><div class="dynheader">
이 함수를 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="rgw__admin_8cc_a2ef30c42cbc289d899a8be5d2d8f77d0_icgraph.png" border="0" usemap="#argw__admin_8cc_a2ef30c42cbc289d899a8be5d2d8f77d0_icgraph" alt=""/></div>
<map name="argw__admin_8cc_a2ef30c42cbc289d899a8be5d2d8f77d0_icgraph" id="argw__admin_8cc_a2ef30c42cbc289d899a8be5d2d8f77d0_icgraph">
<area shape="rect" title=" " alt="" coords="704,224,761,251"/>
<area shape="rect" href="class_r_g_w_rados.html#a98e1553c2f6703b0a780cbd46e0d2b77" title=" " alt="" coords="471,5,652,48"/>
<area shape="poly" title=" " alt="" coords="724,209,716,175,702,136,682,96,654,62,639,51,642,46,658,58,687,93,707,134,721,174,729,208"/>
<area shape="rect" href="rgw__rest__s3_8cc.html#a499743410b296af7916fef185c740847" title=" " alt="" coords="467,72,656,99"/>
<area shape="poly" title=" " alt="" coords="718,211,693,164,676,140,655,119,622,102,625,97,658,115,680,136,698,161,723,208"/>
<area shape="rect" href="class_r_g_w_usage.html#a4db8133d74a06eeb306079d785e1c0c7" title=" " alt="" coords="270,123,399,149"/>
<area shape="poly" title=" " alt="" coords="710,214,685,190,655,170,590,149,521,137,456,133,399,133,399,128,456,127,522,132,591,143,657,166,689,186,714,210"/>
<area shape="rect" href="rgw__admin_8cc.html#a217dbf8b442f20279ea00b898af96f52" title=" " alt="" coords="79,173,128,200"/>
<area shape="poly" title=" " alt="" coords="689,224,656,215,579,202,500,194,346,186,216,185,129,188,129,183,215,180,346,180,500,189,579,197,657,209,690,218"/>
<area shape="rect" href="rgw__usage_8cc.html#a499743410b296af7916fef185c740847" title=" " alt="" coords="467,224,656,251"/>
<area shape="poly" title=" " alt="" coords="688,240,657,240,657,235,688,235"/>
<area shape="rect" href="classrgw_1_1sal_1_1_rados_store.html#a0ae68a4b35683c3590a4ff60b5e5ca62" title=" " alt="" coords="263,276,406,319"/>
<area shape="poly" title=" " alt="" coords="690,256,657,265,524,287,406,297,406,292,523,281,656,260,689,251"/>
<area shape="rect" href="class_r_g_w_rados.html#a0784e49542fdeae286b67d4d6808dcc5" title=" " alt="" coords="479,376,644,403"/>
<area shape="poly" title=" " alt="" coords="723,266,698,314,680,338,658,359,625,378,622,373,655,355,676,335,693,311,718,264"/>
<area shape="rect" href="classrgw_1_1sal_1_1_rados_user.html#a87c159e3d195d1afc7e7120ce2dc2347" title=" " alt="" coords="265,345,404,388"/>
<area shape="poly" title=" " alt="" coords="707,263,684,280,657,296,592,321,525,340,405,362,404,357,524,335,591,316,655,291,681,276,704,259"/>
<area shape="rect" href="classrgw_1_1sal_1_1_rados_bucket.html#af94a43ceef150d8f1772cce54f2906cb" title=" " alt="" coords="258,416,411,459"/>
<area shape="poly" title=" " alt="" coords="731,267,724,302,711,344,690,384,675,402,658,417,629,434,599,446,534,459,469,461,411,455,411,450,469,455,533,454,597,441,627,429,655,413,671,398,685,381,706,342,719,301,726,266"/>
<area shape="rect" href="class_r_g_w_get_usage___obj_store___s3.html#ae25c7d4dafe4d309e3a6a1d0126737d7" title=" " alt="" coords="250,56,419,99"/>
<area shape="poly" title=" " alt="" coords="451,84,420,83,420,78,451,79"/>
<area shape="poly" title=" " alt="" coords="484,105,398,125,397,119,483,100"/>
<area shape="rect" href="class_r_g_w_op___usage___get.html#ac5b8e8accd5a07888ac8b202d2bb6f89" title=" " alt="" coords="5,123,202,149"/>
<area shape="poly" title=" " alt="" coords="255,139,202,139,202,133,255,133"/>
<area shape="poly" title=" " alt="" coords="256,156,129,184,128,179,255,151"/>
<area shape="poly" title=" " alt="" coords="511,372,388,322,390,317,513,367"/>
<area shape="poly" title=" " alt="" coords="463,382,404,376,404,371,464,377"/>
<area shape="poly" title=" " alt="" coords="481,409,411,424,410,419,480,404"/>
</map>
</div>

</div>
</div>
<a id="a68870a41c8445ca90e3f92b4519b8f4d" name="a68870a41c8445ca90e3f92b4519b8f4d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a68870a41c8445ca90e3f92b4519b8f4d">&#9670;&#160;</a></span>validate_zone_id()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structrgw__zone__id.html">rgw_zone_id</a> validate_zone_id </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structrgw__zone__id.html">rgw_zone_id</a> &amp;&#160;</td>
          <td class="paramname"><em>zone_id</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition"><a class="el" href="rgw__admin_8cc_source.html">rgw_admin.cc</a> 파일의 <a class="el" href="rgw__admin_8cc_source.html#l02613">2613</a> 번째 라인에서 정의되었습니다.</p>
<div class="fragment"><div class="line"><span class="lineno"> 2614</span>{</div>
<div class="line"><span class="lineno"> 2615</span>  <span class="keywordflow">return</span> <a class="code hl_function" href="rgw__admin_8cc.html#abb5c367234c8db13f74b9ce673c1e089">resolve_zone_id</a>(zone_id.<a class="code hl_variable" href="structrgw__zone__id.html#a9d7f1a223c9b66a551119d51a04fbda9">id</a>);</div>
<div class="line"><span class="lineno"> 2616</span>}</div>
<div class="ttc" id="argw__admin_8cc_html_abb5c367234c8db13f74b9ce673c1e089"><div class="ttname"><a href="rgw__admin_8cc.html#abb5c367234c8db13f74b9ce673c1e089">resolve_zone_id</a></div><div class="ttdeci">static rgw_zone_id resolve_zone_id(const string &amp;s)</div><div class="ttdef"><b>Definition</b> <a href="rgw__admin_8cc_source.html#l02599">rgw_admin.cc:2599</a></div></div>
</div><!-- fragment --><div class="dynheader">
이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="rgw__admin_8cc_a68870a41c8445ca90e3f92b4519b8f4d_cgraph.png" border="0" usemap="#argw__admin_8cc_a68870a41c8445ca90e3f92b4519b8f4d_cgraph" alt=""/></div>
<map name="argw__admin_8cc_a68870a41c8445ca90e3f92b4519b8f4d_cgraph" id="argw__admin_8cc_a68870a41c8445ca90e3f92b4519b8f4d_cgraph">
<area shape="rect" title=" " alt="" coords="5,5,122,32"/>
<area shape="rect" href="rgw__admin_8cc.html#abb5c367234c8db13f74b9ce673c1e089" title=" " alt="" coords="170,5,283,32"/>
<area shape="poly" title=" " alt="" coords="122,16,154,16,154,21,122,21"/>
</map>
</div>
<div class="dynheader">
이 함수를 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="rgw__admin_8cc_a68870a41c8445ca90e3f92b4519b8f4d_icgraph.png" border="0" usemap="#argw__admin_8cc_a68870a41c8445ca90e3f92b4519b8f4d_icgraph" alt=""/></div>
<map name="argw__admin_8cc_a68870a41c8445ca90e3f92b4519b8f4d_icgraph" id="argw__admin_8cc_a68870a41c8445ca90e3f92b4519b8f4d_icgraph">
<area shape="rect" title=" " alt="" coords="1153,280,1269,307"/>
<area shape="rect" href="rgw__admin_8cc.html#abfa871472fdef30cd489d5795df05b4d" title=" " alt="" coords="1029,280,1105,307"/>
<area shape="poly" title=" " alt="" coords="1138,296,1106,296,1106,291,1138,291"/>
<area shape="rect" href="structrgw__data__sync__status.html#a0efc3edb8a9d925394a5836f2e896def" title=" " alt="" coords="812,5,964,48"/>
<area shape="poly" title=" " alt="" coords="1060,265,1053,221,1038,166,1014,111,998,85,979,62,962,49,966,45,983,58,1003,82,1019,108,1043,165,1058,220,1065,264"/>
<area shape="rect" href="structrgw__meta__sync__status.html#ad88c1542f334a6deaabcf2cec315e335" title=" " alt="" coords="810,72,966,115"/>
<area shape="poly" title=" " alt="" coords="1056,266,1029,197,1007,161,979,129,963,117,966,113,982,125,1011,157,1034,195,1061,264"/>
<area shape="rect" href="structrgw__data__sync__status.html#a75f459b743f801688caa14ac8bc5744f" title=" " alt="" coords="812,139,964,181"/>
<area shape="poly" title=" " alt="" coords="1047,268,1018,231,979,195,960,184,962,180,982,191,1022,227,1051,265"/>
<area shape="rect" href="structrgw__data__sync__status.html#acd7ae109a107d8251f757ab43bcdd7f9" title=" " alt="" coords="812,205,964,248"/>
<area shape="poly" title=" " alt="" coords="1015,276,980,262,949,251,951,246,982,258,1017,271"/>
<area shape="rect" href="structrgw__data__sync__status.html#a3e37aa43047f24ad8b2d438d35d04ff2" title=" " alt="" coords="812,272,964,315"/>
<area shape="poly" title=" " alt="" coords="1013,296,964,296,964,291,1013,291"/>
<area shape="rect" href="structrgw__meta__sync__status.html#a551759a5fb384fcd3bd5ebb02844d3a0" title=" " alt="" coords="810,339,966,381"/>
<area shape="poly" title=" " alt="" coords="1017,315,982,329,951,341,949,336,980,324,1015,310"/>
<area shape="rect" href="class_r_g_w_remote_meta_log.html#a0964ba1cde7b10e005105faab2f1cfbc" title=" " alt="" coords="801,405,975,448"/>
<area shape="poly" title=" " alt="" coords="1051,321,1022,359,982,395,962,407,960,402,979,391,1018,356,1047,318"/>
<area shape="rect" href="rgw__admin_8cc.html#a217dbf8b442f20279ea00b898af96f52" title=" " alt="" coords="86,472,135,499"/>
<area shape="poly" title=" " alt="" coords="1063,323,1053,356,1038,395,1014,433,982,462,950,478,908,491,805,508,682,515,550,516,299,504,135,490,136,485,300,499,550,510,682,510,804,502,907,486,948,473,979,458,1010,429,1033,393,1048,355,1058,321"/>
<area shape="rect" href="class_r_g_w_remote_meta_log.html#a8d13af2ee432f0d8cebfa6524809ea51" title=" " alt="" coords="795,523,981,565"/>
<area shape="poly" title=" " alt="" coords="1064,323,1055,362,1039,411,1016,461,983,506,958,524,955,520,979,502,1011,459,1034,409,1050,361,1058,321"/>
<area shape="rect" href="class_r_g_w_meta_sync_status_manager.html#a54e018493477c2cff0cfb7e9dfffc781" title=" " alt="" coords="277,405,477,448"/>
<area shape="poly" title=" " alt="" coords="786,429,477,429,477,424,786,424"/>
<area shape="poly" title=" " alt="" coords="263,454,136,483,135,477,262,449"/>
<area shape="rect" href="class_r_g_w_remote_meta_log.html#acda3cdc36d0f85d5292141bca4cb37a9" title=" " alt="" coords="538,531,747,557"/>
<area shape="poly" title=" " alt="" coords="780,547,748,547,748,541,780,541"/>
<area shape="rect" href="class_r_g_w_meta_sync_status_manager.html#a2e6dcb3f153919994f8b9864c033210a" title=" " alt="" coords="264,531,490,557"/>
<area shape="poly" title=" " alt="" coords="523,547,490,547,490,541,523,541"/>
<area shape="poly" title=" " alt="" coords="297,529,135,493,136,488,298,524"/>
<area shape="rect" href="class_r_g_w_meta_sync_processor_thread.html#abe2acfcf6f22db63d007a86d6c389262" title=" " alt="" coords="5,523,216,565"/>
<area shape="poly" title=" " alt="" coords="248,547,216,547,216,541,248,541"/>
</map>
</div>

</div>
</div>
<a id="a9a0d9e9a1fa47ab694cdf7f78d2f7112" name="a9a0d9e9a1fa47ab694cdf7f78d2f7112"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9a0d9e9a1fa47ab694cdf7f78d2f7112">&#9670;&#160;</a></span>zone_ids_from_str()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static vector&lt; <a class="el" href="structrgw__zone__id.html">rgw_zone_id</a> &gt; zone_ids_from_str </td>
          <td>(</td>
          <td class="paramtype">const string &amp;&#160;</td>
          <td class="paramname"><em>val</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition"><a class="el" href="rgw__admin_8cc_source.html">rgw_admin.cc</a> 파일의 <a class="el" href="rgw__admin_8cc_source.html#l03183">3183</a> 번째 라인에서 정의되었습니다.</p>
<div class="fragment"><div class="line"><span class="lineno"> 3184</span>{</div>
<div class="line"><span class="lineno"> 3185</span>  vector&lt;rgw_zone_id&gt; result;</div>
<div class="line"><span class="lineno"> 3186</span>  vector&lt;string&gt; v;</div>
<div class="line"><span class="lineno"> 3187</span>  <a class="code hl_function" href="namespacergw_1_1auth_1_1s3.html#a7c0fc27ad98410d070dc5bd0a675529b">get_str_vec</a>(val, v);</div>
<div class="line"><span class="lineno"> 3188</span>  <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp; z : v) {</div>
<div class="line"><span class="lineno"> 3189</span>    result.push_back(<a class="code hl_struct" href="structrgw__zone__id.html">rgw_zone_id</a>(z));</div>
<div class="line"><span class="lineno"> 3190</span>  }</div>
<div class="line"><span class="lineno"> 3191</span>  <span class="keywordflow">return</span> result;</div>
<div class="line"><span class="lineno"> 3192</span>}</div>
</div><!-- fragment --><div class="dynheader">
이 함수를 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="rgw__admin_8cc_a9a0d9e9a1fa47ab694cdf7f78d2f7112_icgraph.png" border="0" usemap="#argw__admin_8cc_a9a0d9e9a1fa47ab694cdf7f78d2f7112_icgraph" alt=""/></div>
<map name="argw__admin_8cc_a9a0d9e9a1fa47ab694cdf7f78d2f7112_icgraph" id="argw__admin_8cc_a9a0d9e9a1fa47ab694cdf7f78d2f7112_icgraph">
<area shape="rect" title=" " alt="" coords="103,5,230,32"/>
<area shape="rect" href="rgw__admin_8cc.html#a217dbf8b442f20279ea00b898af96f52" title=" " alt="" coords="5,5,55,32"/>
<area shape="poly" title=" " alt="" coords="87,21,55,21,55,16,87,16"/>
</map>
</div>

</div>
</div>
<h2 class="groupheader">변수 문서화</h2>
<a id="aaac958120d2ef3eda1862455254121e9" name="aaac958120d2ef3eda1862455254121e9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaac958120d2ef3eda1862455254121e9">&#9670;&#160;</a></span>all_cmds</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_simple_cmd.html#ae5491dfb72f6fb92ea509e9494b2e15b">SimpleCmd::Commands</a> all_cmds</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition"><a class="el" href="rgw__admin_8cc_source.html">rgw_admin.cc</a> 파일의 <a class="el" href="rgw__admin_8cc_source.html#l00823">823</a> 번째 라인에서 정의되었습니다.</p>
<div class="fragment"><div class="line"><span class="lineno">  823</span>                                    {</div>
<div class="line"><span class="lineno">  824</span>  { <span class="stringliteral">&quot;user create&quot;</span>, OPT::USER_CREATE },</div>
<div class="line"><span class="lineno">  825</span>  { <span class="stringliteral">&quot;user info&quot;</span>, OPT::USER_INFO },</div>
<div class="line"><span class="lineno">  826</span>  { <span class="stringliteral">&quot;user modify&quot;</span>, OPT::USER_MODIFY },</div>
<div class="line"><span class="lineno">  827</span>  { <span class="stringliteral">&quot;user rename&quot;</span>, OPT::USER_RENAME },</div>
<div class="line"><span class="lineno">  828</span>  { <span class="stringliteral">&quot;user rm&quot;</span>, OPT::USER_RM },</div>
<div class="line"><span class="lineno">  829</span>  { <span class="stringliteral">&quot;user suspend&quot;</span>, OPT::USER_SUSPEND },</div>
<div class="line"><span class="lineno">  830</span>  { <span class="stringliteral">&quot;user enable&quot;</span>, OPT::USER_ENABLE },</div>
<div class="line"><span class="lineno">  831</span>  { <span class="stringliteral">&quot;user check&quot;</span>, OPT::USER_CHECK },</div>
<div class="line"><span class="lineno">  832</span>  { <span class="stringliteral">&quot;user stats&quot;</span>, OPT::USER_STATS },</div>
<div class="line"><span class="lineno">  833</span>  { <span class="stringliteral">&quot;user list&quot;</span>, OPT::USER_LIST },</div>
<div class="line"><span class="lineno">  834</span>  { <span class="stringliteral">&quot;subuser create&quot;</span>, OPT::SUBUSER_CREATE },</div>
<div class="line"><span class="lineno">  835</span>  { <span class="stringliteral">&quot;subuser modify&quot;</span>, OPT::SUBUSER_MODIFY },</div>
<div class="line"><span class="lineno">  836</span>  { <span class="stringliteral">&quot;subuser rm&quot;</span>, OPT::SUBUSER_RM },</div>
<div class="line"><span class="lineno">  837</span>  { <span class="stringliteral">&quot;key create&quot;</span>, OPT::KEY_CREATE },</div>
<div class="line"><span class="lineno">  838</span>  { <span class="stringliteral">&quot;key rm&quot;</span>, OPT::KEY_RM },</div>
<div class="line"><span class="lineno">  839</span>  { <span class="stringliteral">&quot;buckets list&quot;</span>, OPT::BUCKETS_LIST },</div>
<div class="line"><span class="lineno">  840</span>  { <span class="stringliteral">&quot;bucket list&quot;</span>, OPT::BUCKETS_LIST },</div>
<div class="line"><span class="lineno">  841</span>  { <span class="stringliteral">&quot;bucket limit check&quot;</span>, OPT::BUCKET_LIMIT_CHECK },</div>
<div class="line"><span class="lineno">  842</span>  { <span class="stringliteral">&quot;bucket link&quot;</span>, OPT::BUCKET_LINK },</div>
<div class="line"><span class="lineno">  843</span>  { <span class="stringliteral">&quot;bucket unlink&quot;</span>, OPT::BUCKET_UNLINK },</div>
<div class="line"><span class="lineno">  844</span>  { <span class="stringliteral">&quot;bucket stats&quot;</span>, OPT::BUCKET_STATS },</div>
<div class="line"><span class="lineno">  845</span>  { <span class="stringliteral">&quot;bucket check&quot;</span>, OPT::BUCKET_CHECK },</div>
<div class="line"><span class="lineno">  846</span>  { <span class="stringliteral">&quot;bucket sync checkpoint&quot;</span>, OPT::BUCKET_SYNC_CHECKPOINT },</div>
<div class="line"><span class="lineno">  847</span>  { <span class="stringliteral">&quot;bucket sync info&quot;</span>, OPT::BUCKET_SYNC_INFO },</div>
<div class="line"><span class="lineno">  848</span>  { <span class="stringliteral">&quot;bucket sync status&quot;</span>, OPT::BUCKET_SYNC_STATUS },</div>
<div class="line"><span class="lineno">  849</span>  { <span class="stringliteral">&quot;bucket sync markers&quot;</span>, OPT::BUCKET_SYNC_MARKERS },</div>
<div class="line"><span class="lineno">  850</span>  { <span class="stringliteral">&quot;bucket sync init&quot;</span>, OPT::BUCKET_SYNC_INIT },</div>
<div class="line"><span class="lineno">  851</span>  { <span class="stringliteral">&quot;bucket sync run&quot;</span>, OPT::BUCKET_SYNC_RUN },</div>
<div class="line"><span class="lineno">  852</span>  { <span class="stringliteral">&quot;bucket sync disable&quot;</span>, OPT::BUCKET_SYNC_DISABLE },</div>
<div class="line"><span class="lineno">  853</span>  { <span class="stringliteral">&quot;bucket sync enable&quot;</span>, OPT::BUCKET_SYNC_ENABLE },</div>
<div class="line"><span class="lineno">  854</span>  { <span class="stringliteral">&quot;bucket rm&quot;</span>, OPT::BUCKET_RM },</div>
<div class="line"><span class="lineno">  855</span>  { <span class="stringliteral">&quot;bucket rewrite&quot;</span>, OPT::BUCKET_REWRITE },</div>
<div class="line"><span class="lineno">  856</span>  { <span class="stringliteral">&quot;bucket reshard&quot;</span>, OPT::BUCKET_RESHARD },</div>
<div class="line"><span class="lineno">  857</span>  { <span class="stringliteral">&quot;bucket chown&quot;</span>, OPT::BUCKET_CHOWN },</div>
<div class="line"><span class="lineno">  858</span>  { <span class="stringliteral">&quot;bucket radoslist&quot;</span>, OPT::BUCKET_RADOS_LIST },</div>
<div class="line"><span class="lineno">  859</span>  { <span class="stringliteral">&quot;bucket rados list&quot;</span>, OPT::BUCKET_RADOS_LIST },</div>
<div class="line"><span class="lineno">  860</span>  { <span class="stringliteral">&quot;policy&quot;</span>, OPT::POLICY },</div>
<div class="line"><span class="lineno">  861</span>  { <span class="stringliteral">&quot;pool add&quot;</span>, OPT::POOL_ADD },</div>
<div class="line"><span class="lineno">  862</span>  { <span class="stringliteral">&quot;pool rm&quot;</span>, OPT::POOL_RM },</div>
<div class="line"><span class="lineno">  863</span>  { <span class="stringliteral">&quot;pool list&quot;</span>, OPT::POOLS_LIST },</div>
<div class="line"><span class="lineno">  864</span>  { <span class="stringliteral">&quot;pools list&quot;</span>, OPT::POOLS_LIST },</div>
<div class="line"><span class="lineno">  865</span>  { <span class="stringliteral">&quot;log list&quot;</span>, OPT::LOG_LIST },</div>
<div class="line"><span class="lineno">  866</span>  { <span class="stringliteral">&quot;log show&quot;</span>, OPT::LOG_SHOW },</div>
<div class="line"><span class="lineno">  867</span>  { <span class="stringliteral">&quot;log rm&quot;</span>, OPT::LOG_RM },</div>
<div class="line"><span class="lineno">  868</span>  { <span class="stringliteral">&quot;usage show&quot;</span>, OPT::USAGE_SHOW },</div>
<div class="line"><span class="lineno">  869</span>  { <span class="stringliteral">&quot;usage trim&quot;</span>, OPT::USAGE_TRIM },</div>
<div class="line"><span class="lineno">  870</span>  { <span class="stringliteral">&quot;usage clear&quot;</span>, OPT::USAGE_CLEAR },</div>
<div class="line"><span class="lineno">  871</span>  { <span class="stringliteral">&quot;object put&quot;</span>, OPT::OBJECT_PUT },</div>
<div class="line"><span class="lineno">  872</span>  { <span class="stringliteral">&quot;object rm&quot;</span>, OPT::OBJECT_RM },</div>
<div class="line"><span class="lineno">  873</span>  { <span class="stringliteral">&quot;object unlink&quot;</span>, OPT::OBJECT_UNLINK },</div>
<div class="line"><span class="lineno">  874</span>  { <span class="stringliteral">&quot;object stat&quot;</span>, OPT::OBJECT_STAT },</div>
<div class="line"><span class="lineno">  875</span>  { <span class="stringliteral">&quot;object rewrite&quot;</span>, OPT::OBJECT_REWRITE },</div>
<div class="line"><span class="lineno">  876</span>  { <span class="stringliteral">&quot;objects expire&quot;</span>, OPT::OBJECTS_EXPIRE },</div>
<div class="line"><span class="lineno">  877</span>  { <span class="stringliteral">&quot;objects expire-stale list&quot;</span>, OPT::OBJECTS_EXPIRE_STALE_LIST },</div>
<div class="line"><span class="lineno">  878</span>  { <span class="stringliteral">&quot;objects expire-stale rm&quot;</span>, OPT::OBJECTS_EXPIRE_STALE_RM },</div>
<div class="line"><span class="lineno">  879</span>  { <span class="stringliteral">&quot;bi get&quot;</span>, OPT::BI_GET },</div>
<div class="line"><span class="lineno">  880</span>  { <span class="stringliteral">&quot;bi put&quot;</span>, OPT::BI_PUT },</div>
<div class="line"><span class="lineno">  881</span>  { <span class="stringliteral">&quot;bi list&quot;</span>, OPT::BI_LIST },</div>
<div class="line"><span class="lineno">  882</span>  { <span class="stringliteral">&quot;bi purge&quot;</span>, OPT::BI_PURGE },</div>
<div class="line"><span class="lineno">  883</span>  { <span class="stringliteral">&quot;olh get&quot;</span>, OPT::OLH_GET },</div>
<div class="line"><span class="lineno">  884</span>  { <span class="stringliteral">&quot;olh readlog&quot;</span>, OPT::OLH_READLOG },</div>
<div class="line"><span class="lineno">  885</span>  { <span class="stringliteral">&quot;quota set&quot;</span>, OPT::QUOTA_SET },</div>
<div class="line"><span class="lineno">  886</span>  { <span class="stringliteral">&quot;quota enable&quot;</span>, OPT::QUOTA_ENABLE },</div>
<div class="line"><span class="lineno">  887</span>  { <span class="stringliteral">&quot;quota disable&quot;</span>, OPT::QUOTA_DISABLE },</div>
<div class="line"><span class="lineno">  888</span>  { <span class="stringliteral">&quot;ratelimit get&quot;</span>, OPT::RATELIMIT_GET },</div>
<div class="line"><span class="lineno">  889</span>  { <span class="stringliteral">&quot;ratelimit set&quot;</span>, OPT::RATELIMIT_SET },</div>
<div class="line"><span class="lineno">  890</span>  { <span class="stringliteral">&quot;ratelimit enable&quot;</span>, OPT::RATELIMIT_ENABLE },</div>
<div class="line"><span class="lineno">  891</span>  { <span class="stringliteral">&quot;ratelimit disable&quot;</span>, OPT::RATELIMIT_DISABLE },</div>
<div class="line"><span class="lineno">  892</span>  { <span class="stringliteral">&quot;gc list&quot;</span>, OPT::GC_LIST },</div>
<div class="line"><span class="lineno">  893</span>  { <span class="stringliteral">&quot;gc process&quot;</span>, OPT::GC_PROCESS },</div>
<div class="line"><span class="lineno">  894</span>  { <span class="stringliteral">&quot;lc list&quot;</span>, OPT::LC_LIST },</div>
<div class="line"><span class="lineno">  895</span>  { <span class="stringliteral">&quot;lc get&quot;</span>, OPT::LC_GET },</div>
<div class="line"><span class="lineno">  896</span>  { <span class="stringliteral">&quot;lc process&quot;</span>, OPT::LC_PROCESS },</div>
<div class="line"><span class="lineno">  897</span>  { <span class="stringliteral">&quot;lc reshard fix&quot;</span>, OPT::LC_RESHARD_FIX },</div>
<div class="line"><span class="lineno">  898</span>  { <span class="stringliteral">&quot;orphans find&quot;</span>, OPT::ORPHANS_FIND },</div>
<div class="line"><span class="lineno">  899</span>  { <span class="stringliteral">&quot;orphans finish&quot;</span>, OPT::ORPHANS_FINISH },</div>
<div class="line"><span class="lineno">  900</span>  { <span class="stringliteral">&quot;orphans list jobs&quot;</span>, OPT::ORPHANS_LIST_JOBS },</div>
<div class="line"><span class="lineno">  901</span>  { <span class="stringliteral">&quot;orphans list-jobs&quot;</span>, OPT::ORPHANS_LIST_JOBS },</div>
<div class="line"><span class="lineno">  902</span>  { <span class="stringliteral">&quot;zonegroup add&quot;</span>, OPT::ZONEGROUP_ADD },</div>
<div class="line"><span class="lineno">  903</span>  { <span class="stringliteral">&quot;zonegroup create&quot;</span>, OPT::ZONEGROUP_CREATE },</div>
<div class="line"><span class="lineno">  904</span>  { <span class="stringliteral">&quot;zonegroup default&quot;</span>, OPT::ZONEGROUP_DEFAULT },</div>
<div class="line"><span class="lineno">  905</span>  { <span class="stringliteral">&quot;zonegroup delete&quot;</span>, OPT::ZONEGROUP_DELETE },</div>
<div class="line"><span class="lineno">  906</span>  { <span class="stringliteral">&quot;zonegroup get&quot;</span>, OPT::ZONEGROUP_GET },</div>
<div class="line"><span class="lineno">  907</span>  { <span class="stringliteral">&quot;zonegroup modify&quot;</span>, OPT::ZONEGROUP_MODIFY },</div>
<div class="line"><span class="lineno">  908</span>  { <span class="stringliteral">&quot;zonegroup set&quot;</span>, OPT::ZONEGROUP_SET },</div>
<div class="line"><span class="lineno">  909</span>  { <span class="stringliteral">&quot;zonegroup list&quot;</span>, OPT::ZONEGROUP_LIST },</div>
<div class="line"><span class="lineno">  910</span>  { <span class="stringliteral">&quot;zonegroups list&quot;</span>, OPT::ZONEGROUP_LIST },</div>
<div class="line"><span class="lineno">  911</span>  { <span class="stringliteral">&quot;zonegroup remove&quot;</span>, OPT::ZONEGROUP_REMOVE },</div>
<div class="line"><span class="lineno">  912</span>  { <span class="stringliteral">&quot;zonegroup remove zone&quot;</span>, OPT::ZONEGROUP_REMOVE },</div>
<div class="line"><span class="lineno">  913</span>  { <span class="stringliteral">&quot;zonegroup rename&quot;</span>, OPT::ZONEGROUP_RENAME },</div>
<div class="line"><span class="lineno">  914</span>  { <span class="stringliteral">&quot;zonegroup placement add&quot;</span>, OPT::ZONEGROUP_PLACEMENT_ADD },</div>
<div class="line"><span class="lineno">  915</span>  { <span class="stringliteral">&quot;zonegroup placement modify&quot;</span>, OPT::ZONEGROUP_PLACEMENT_MODIFY },</div>
<div class="line"><span class="lineno">  916</span>  { <span class="stringliteral">&quot;zonegroup placement rm&quot;</span>, OPT::ZONEGROUP_PLACEMENT_RM },</div>
<div class="line"><span class="lineno">  917</span>  { <span class="stringliteral">&quot;zonegroup placement list&quot;</span>, OPT::ZONEGROUP_PLACEMENT_LIST },</div>
<div class="line"><span class="lineno">  918</span>  { <span class="stringliteral">&quot;zonegroup placement get&quot;</span>, OPT::ZONEGROUP_PLACEMENT_GET },</div>
<div class="line"><span class="lineno">  919</span>  { <span class="stringliteral">&quot;zonegroup placement default&quot;</span>, OPT::ZONEGROUP_PLACEMENT_DEFAULT },</div>
<div class="line"><span class="lineno">  920</span>  { <span class="stringliteral">&quot;zone create&quot;</span>, OPT::ZONE_CREATE },</div>
<div class="line"><span class="lineno">  921</span>  { <span class="stringliteral">&quot;zone delete&quot;</span>, OPT::ZONE_DELETE },</div>
<div class="line"><span class="lineno">  922</span>  { <span class="stringliteral">&quot;zone get&quot;</span>, OPT::ZONE_GET },</div>
<div class="line"><span class="lineno">  923</span>  { <span class="stringliteral">&quot;zone modify&quot;</span>, OPT::ZONE_MODIFY },</div>
<div class="line"><span class="lineno">  924</span>  { <span class="stringliteral">&quot;zone set&quot;</span>, OPT::ZONE_SET },</div>
<div class="line"><span class="lineno">  925</span>  { <span class="stringliteral">&quot;zone list&quot;</span>, OPT::ZONE_LIST },</div>
<div class="line"><span class="lineno">  926</span>  { <span class="stringliteral">&quot;zones list&quot;</span>, OPT::ZONE_LIST },</div>
<div class="line"><span class="lineno">  927</span>  { <span class="stringliteral">&quot;zone rename&quot;</span>, OPT::ZONE_RENAME },</div>
<div class="line"><span class="lineno">  928</span>  { <span class="stringliteral">&quot;zone default&quot;</span>, OPT::ZONE_DEFAULT },</div>
<div class="line"><span class="lineno">  929</span>  { <span class="stringliteral">&quot;zone placement add&quot;</span>, OPT::ZONE_PLACEMENT_ADD },</div>
<div class="line"><span class="lineno">  930</span>  { <span class="stringliteral">&quot;zone placement modify&quot;</span>, OPT::ZONE_PLACEMENT_MODIFY },</div>
<div class="line"><span class="lineno">  931</span>  { <span class="stringliteral">&quot;zone placement rm&quot;</span>, OPT::ZONE_PLACEMENT_RM },</div>
<div class="line"><span class="lineno">  932</span>  { <span class="stringliteral">&quot;zone placement list&quot;</span>, OPT::ZONE_PLACEMENT_LIST },</div>
<div class="line"><span class="lineno">  933</span>  { <span class="stringliteral">&quot;zone placement get&quot;</span>, OPT::ZONE_PLACEMENT_GET },</div>
<div class="line"><span class="lineno">  934</span>  { <span class="stringliteral">&quot;caps add&quot;</span>, OPT::CAPS_ADD },</div>
<div class="line"><span class="lineno">  935</span>  { <span class="stringliteral">&quot;caps rm&quot;</span>, OPT::CAPS_RM },</div>
<div class="line"><span class="lineno">  936</span>  { <span class="stringliteral">&quot;metadata get [*]&quot;</span>, OPT::METADATA_GET },</div>
<div class="line"><span class="lineno">  937</span>  { <span class="stringliteral">&quot;metadata put [*]&quot;</span>, OPT::METADATA_PUT },</div>
<div class="line"><span class="lineno">  938</span>  { <span class="stringliteral">&quot;metadata rm [*]&quot;</span>, OPT::METADATA_RM },</div>
<div class="line"><span class="lineno">  939</span>  { <span class="stringliteral">&quot;metadata list [*]&quot;</span>, OPT::METADATA_LIST },</div>
<div class="line"><span class="lineno">  940</span>  { <span class="stringliteral">&quot;metadata sync status&quot;</span>, OPT::METADATA_SYNC_STATUS },</div>
<div class="line"><span class="lineno">  941</span>  { <span class="stringliteral">&quot;metadata sync init&quot;</span>, OPT::METADATA_SYNC_INIT },</div>
<div class="line"><span class="lineno">  942</span>  { <span class="stringliteral">&quot;metadata sync run&quot;</span>, OPT::METADATA_SYNC_RUN },</div>
<div class="line"><span class="lineno">  943</span>  { <span class="stringliteral">&quot;mdlog list&quot;</span>, OPT::MDLOG_LIST },</div>
<div class="line"><span class="lineno">  944</span>  { <span class="stringliteral">&quot;mdlog autotrim&quot;</span>, OPT::MDLOG_AUTOTRIM },</div>
<div class="line"><span class="lineno">  945</span>  { <span class="stringliteral">&quot;mdlog trim&quot;</span>, OPT::MDLOG_TRIM },</div>
<div class="line"><span class="lineno">  946</span>  { <span class="stringliteral">&quot;mdlog fetch&quot;</span>, OPT::MDLOG_FETCH },</div>
<div class="line"><span class="lineno">  947</span>  { <span class="stringliteral">&quot;mdlog status&quot;</span>, OPT::MDLOG_STATUS },</div>
<div class="line"><span class="lineno">  948</span>  { <span class="stringliteral">&quot;sync error list&quot;</span>, OPT::SYNC_ERROR_LIST },</div>
<div class="line"><span class="lineno">  949</span>  { <span class="stringliteral">&quot;sync error trim&quot;</span>, OPT::SYNC_ERROR_TRIM },</div>
<div class="line"><span class="lineno">  950</span>  { <span class="stringliteral">&quot;sync policy get&quot;</span>, OPT::SYNC_POLICY_GET },</div>
<div class="line"><span class="lineno">  951</span>  { <span class="stringliteral">&quot;sync group create&quot;</span>, OPT::SYNC_GROUP_CREATE },</div>
<div class="line"><span class="lineno">  952</span>  { <span class="stringliteral">&quot;sync group modify&quot;</span>, OPT::SYNC_GROUP_MODIFY },</div>
<div class="line"><span class="lineno">  953</span>  { <span class="stringliteral">&quot;sync group get&quot;</span>, OPT::SYNC_GROUP_GET },</div>
<div class="line"><span class="lineno">  954</span>  { <span class="stringliteral">&quot;sync group remove&quot;</span>, OPT::SYNC_GROUP_REMOVE },</div>
<div class="line"><span class="lineno">  955</span>  { <span class="stringliteral">&quot;sync group flow create&quot;</span>, OPT::SYNC_GROUP_FLOW_CREATE },</div>
<div class="line"><span class="lineno">  956</span>  { <span class="stringliteral">&quot;sync group flow remove&quot;</span>, OPT::SYNC_GROUP_FLOW_REMOVE },</div>
<div class="line"><span class="lineno">  957</span>  { <span class="stringliteral">&quot;sync group pipe create&quot;</span>, OPT::SYNC_GROUP_PIPE_CREATE },</div>
<div class="line"><span class="lineno">  958</span>  { <span class="stringliteral">&quot;sync group pipe modify&quot;</span>, OPT::SYNC_GROUP_PIPE_MODIFY },</div>
<div class="line"><span class="lineno">  959</span>  { <span class="stringliteral">&quot;sync group pipe remove&quot;</span>, OPT::SYNC_GROUP_PIPE_REMOVE },</div>
<div class="line"><span class="lineno">  960</span>  { <span class="stringliteral">&quot;bilog list&quot;</span>, OPT::BILOG_LIST },</div>
<div class="line"><span class="lineno">  961</span>  { <span class="stringliteral">&quot;bilog trim&quot;</span>, OPT::BILOG_TRIM },</div>
<div class="line"><span class="lineno">  962</span>  { <span class="stringliteral">&quot;bilog status&quot;</span>, OPT::BILOG_STATUS },</div>
<div class="line"><span class="lineno">  963</span>  { <span class="stringliteral">&quot;bilog autotrim&quot;</span>, OPT::BILOG_AUTOTRIM },</div>
<div class="line"><span class="lineno">  964</span>  { <span class="stringliteral">&quot;data sync status&quot;</span>, OPT::DATA_SYNC_STATUS },</div>
<div class="line"><span class="lineno">  965</span>  { <span class="stringliteral">&quot;data sync init&quot;</span>, OPT::DATA_SYNC_INIT },</div>
<div class="line"><span class="lineno">  966</span>  { <span class="stringliteral">&quot;data sync run&quot;</span>, OPT::DATA_SYNC_RUN },</div>
<div class="line"><span class="lineno">  967</span>  { <span class="stringliteral">&quot;datalog list&quot;</span>, OPT::DATALOG_LIST },</div>
<div class="line"><span class="lineno">  968</span>  { <span class="stringliteral">&quot;datalog status&quot;</span>, OPT::DATALOG_STATUS },</div>
<div class="line"><span class="lineno">  969</span>  { <span class="stringliteral">&quot;datalog autotrim&quot;</span>, OPT::DATALOG_AUTOTRIM },</div>
<div class="line"><span class="lineno">  970</span>  { <span class="stringliteral">&quot;datalog trim&quot;</span>, OPT::DATALOG_TRIM },</div>
<div class="line"><span class="lineno">  971</span>  { <span class="stringliteral">&quot;datalog type&quot;</span>, OPT::DATALOG_TYPE },</div>
<div class="line"><span class="lineno">  972</span>  { <span class="stringliteral">&quot;datalog prune&quot;</span>, OPT::DATALOG_PRUNE },</div>
<div class="line"><span class="lineno">  973</span>  { <span class="stringliteral">&quot;realm create&quot;</span>, OPT::REALM_CREATE },</div>
<div class="line"><span class="lineno">  974</span>  { <span class="stringliteral">&quot;realm rm&quot;</span>, OPT::REALM_DELETE },</div>
<div class="line"><span class="lineno">  975</span>  { <span class="stringliteral">&quot;realm get&quot;</span>, OPT::REALM_GET },</div>
<div class="line"><span class="lineno">  976</span>  { <span class="stringliteral">&quot;realm get default&quot;</span>, OPT::REALM_GET_DEFAULT },</div>
<div class="line"><span class="lineno">  977</span>  { <span class="stringliteral">&quot;realm get-default&quot;</span>, OPT::REALM_GET_DEFAULT },</div>
<div class="line"><span class="lineno">  978</span>  { <span class="stringliteral">&quot;realm list&quot;</span>, OPT::REALM_LIST },</div>
<div class="line"><span class="lineno">  979</span>  { <span class="stringliteral">&quot;realm list periods&quot;</span>, OPT::REALM_LIST_PERIODS },</div>
<div class="line"><span class="lineno">  980</span>  { <span class="stringliteral">&quot;realm list-periods&quot;</span>, OPT::REALM_LIST_PERIODS },</div>
<div class="line"><span class="lineno">  981</span>  { <span class="stringliteral">&quot;realm rename&quot;</span>, OPT::REALM_RENAME },</div>
<div class="line"><span class="lineno">  982</span>  { <span class="stringliteral">&quot;realm set&quot;</span>, OPT::REALM_SET },</div>
<div class="line"><span class="lineno">  983</span>  { <span class="stringliteral">&quot;realm default&quot;</span>, OPT::REALM_DEFAULT },</div>
<div class="line"><span class="lineno">  984</span>  { <span class="stringliteral">&quot;realm pull&quot;</span>, OPT::REALM_PULL },</div>
<div class="line"><span class="lineno">  985</span>  { <span class="stringliteral">&quot;period delete&quot;</span>, OPT::PERIOD_DELETE },</div>
<div class="line"><span class="lineno">  986</span>  { <span class="stringliteral">&quot;period get&quot;</span>, OPT::PERIOD_GET },</div>
<div class="line"><span class="lineno">  987</span>  { <span class="stringliteral">&quot;period get-current&quot;</span>, OPT::PERIOD_GET_CURRENT },</div>
<div class="line"><span class="lineno">  988</span>  { <span class="stringliteral">&quot;period get current&quot;</span>, OPT::PERIOD_GET_CURRENT },</div>
<div class="line"><span class="lineno">  989</span>  { <span class="stringliteral">&quot;period pull&quot;</span>, OPT::PERIOD_PULL },</div>
<div class="line"><span class="lineno">  990</span>  { <span class="stringliteral">&quot;period push&quot;</span>, OPT::PERIOD_PUSH },</div>
<div class="line"><span class="lineno">  991</span>  { <span class="stringliteral">&quot;period list&quot;</span>, OPT::PERIOD_LIST },</div>
<div class="line"><span class="lineno">  992</span>  { <span class="stringliteral">&quot;period update&quot;</span>, OPT::PERIOD_UPDATE },</div>
<div class="line"><span class="lineno">  993</span>  { <span class="stringliteral">&quot;period commit&quot;</span>, OPT::PERIOD_COMMIT },</div>
<div class="line"><span class="lineno">  994</span>  { <span class="stringliteral">&quot;global quota get&quot;</span>, OPT::GLOBAL_QUOTA_GET },</div>
<div class="line"><span class="lineno">  995</span>  { <span class="stringliteral">&quot;global quota set&quot;</span>, OPT::GLOBAL_QUOTA_SET },</div>
<div class="line"><span class="lineno">  996</span>  { <span class="stringliteral">&quot;global quota enable&quot;</span>, OPT::GLOBAL_QUOTA_ENABLE },</div>
<div class="line"><span class="lineno">  997</span>  { <span class="stringliteral">&quot;global quota disable&quot;</span>, OPT::GLOBAL_QUOTA_DISABLE },</div>
<div class="line"><span class="lineno">  998</span>  { <span class="stringliteral">&quot;global ratelimit get&quot;</span>, OPT::GLOBAL_RATELIMIT_GET },</div>
<div class="line"><span class="lineno">  999</span>  { <span class="stringliteral">&quot;global ratelimit set&quot;</span>, OPT::GLOBAL_RATELIMIT_SET },</div>
<div class="line"><span class="lineno"> 1000</span>  { <span class="stringliteral">&quot;global ratelimit enable&quot;</span>, OPT::GLOBAL_RATELIMIT_ENABLE },</div>
<div class="line"><span class="lineno"> 1001</span>  { <span class="stringliteral">&quot;global ratelimit disable&quot;</span>, OPT::GLOBAL_RATELIMIT_DISABLE },</div>
<div class="line"><span class="lineno"> 1002</span>  { <span class="stringliteral">&quot;sync info&quot;</span>, OPT::SYNC_INFO },</div>
<div class="line"><span class="lineno"> 1003</span>  { <span class="stringliteral">&quot;sync status&quot;</span>, OPT::SYNC_STATUS },</div>
<div class="line"><span class="lineno"> 1004</span>  { <span class="stringliteral">&quot;role create&quot;</span>, OPT::ROLE_CREATE },</div>
<div class="line"><span class="lineno"> 1005</span>  { <span class="stringliteral">&quot;role delete&quot;</span>, OPT::ROLE_DELETE },</div>
<div class="line"><span class="lineno"> 1006</span>  { <span class="stringliteral">&quot;role get&quot;</span>, OPT::ROLE_GET },</div>
<div class="line"><span class="lineno"> 1007</span>  { <span class="stringliteral">&quot;role modify&quot;</span>, OPT::ROLE_MODIFY },</div>
<div class="line"><span class="lineno"> 1008</span>  { <span class="stringliteral">&quot;role list&quot;</span>, OPT::ROLE_LIST },</div>
<div class="line"><span class="lineno"> 1009</span>  { <span class="stringliteral">&quot;role policy put&quot;</span>, OPT::ROLE_POLICY_PUT },</div>
<div class="line"><span class="lineno"> 1010</span>  { <span class="stringliteral">&quot;role-policy put&quot;</span>, OPT::ROLE_POLICY_PUT },</div>
<div class="line"><span class="lineno"> 1011</span>  { <span class="stringliteral">&quot;role policy list&quot;</span>, OPT::ROLE_POLICY_LIST },</div>
<div class="line"><span class="lineno"> 1012</span>  { <span class="stringliteral">&quot;role-policy list&quot;</span>, OPT::ROLE_POLICY_LIST },</div>
<div class="line"><span class="lineno"> 1013</span>  { <span class="stringliteral">&quot;role policy get&quot;</span>, OPT::ROLE_POLICY_GET },</div>
<div class="line"><span class="lineno"> 1014</span>  { <span class="stringliteral">&quot;role-policy get&quot;</span>, OPT::ROLE_POLICY_GET },</div>
<div class="line"><span class="lineno"> 1015</span>  { <span class="stringliteral">&quot;role policy delete&quot;</span>, OPT::ROLE_POLICY_DELETE },</div>
<div class="line"><span class="lineno"> 1016</span>  { <span class="stringliteral">&quot;role-policy delete&quot;</span>, OPT::ROLE_POLICY_DELETE },</div>
<div class="line"><span class="lineno"> 1017</span>  { <span class="stringliteral">&quot;reshard bucket&quot;</span>, OPT::BUCKET_RESHARD },</div>
<div class="line"><span class="lineno"> 1018</span>  { <span class="stringliteral">&quot;reshard add&quot;</span>, OPT::RESHARD_ADD },</div>
<div class="line"><span class="lineno"> 1019</span>  { <span class="stringliteral">&quot;reshard list&quot;</span>, OPT::RESHARD_LIST },</div>
<div class="line"><span class="lineno"> 1020</span>  { <span class="stringliteral">&quot;reshard status&quot;</span>, OPT::RESHARD_STATUS },</div>
<div class="line"><span class="lineno"> 1021</span>  { <span class="stringliteral">&quot;reshard process&quot;</span>, OPT::RESHARD_PROCESS },</div>
<div class="line"><span class="lineno"> 1022</span>  { <span class="stringliteral">&quot;reshard cancel&quot;</span>, OPT::RESHARD_CANCEL },</div>
<div class="line"><span class="lineno"> 1023</span>  { <span class="stringliteral">&quot;mfa create&quot;</span>, OPT::MFA_CREATE },</div>
<div class="line"><span class="lineno"> 1024</span>  { <span class="stringliteral">&quot;mfa remove&quot;</span>, OPT::MFA_REMOVE },</div>
<div class="line"><span class="lineno"> 1025</span>  { <span class="stringliteral">&quot;mfa get&quot;</span>, OPT::MFA_GET },</div>
<div class="line"><span class="lineno"> 1026</span>  { <span class="stringliteral">&quot;mfa list&quot;</span>, OPT::MFA_LIST },</div>
<div class="line"><span class="lineno"> 1027</span>  { <span class="stringliteral">&quot;mfa check&quot;</span>, OPT::MFA_CHECK },</div>
<div class="line"><span class="lineno"> 1028</span>  { <span class="stringliteral">&quot;mfa resync&quot;</span>, OPT::MFA_RESYNC },</div>
<div class="line"><span class="lineno"> 1029</span>  { <span class="stringliteral">&quot;reshard stale-instances list&quot;</span>, OPT::RESHARD_STALE_INSTANCES_LIST },</div>
<div class="line"><span class="lineno"> 1030</span>  { <span class="stringliteral">&quot;reshard stale list&quot;</span>, OPT::RESHARD_STALE_INSTANCES_LIST },</div>
<div class="line"><span class="lineno"> 1031</span>  { <span class="stringliteral">&quot;reshard stale-instances delete&quot;</span>, OPT::RESHARD_STALE_INSTANCES_DELETE },</div>
<div class="line"><span class="lineno"> 1032</span>  { <span class="stringliteral">&quot;reshard stale delete&quot;</span>, OPT::RESHARD_STALE_INSTANCES_DELETE },</div>
<div class="line"><span class="lineno"> 1033</span>  { <span class="stringliteral">&quot;topic list&quot;</span>, OPT::PUBSUB_TOPICS_LIST },</div>
<div class="line"><span class="lineno"> 1034</span>  { <span class="stringliteral">&quot;topic get&quot;</span>, OPT::PUBSUB_TOPIC_GET },</div>
<div class="line"><span class="lineno"> 1035</span>  { <span class="stringliteral">&quot;topic rm&quot;</span>, OPT::PUBSUB_TOPIC_RM },</div>
<div class="line"><span class="lineno"> 1036</span>  { <span class="stringliteral">&quot;subscription get&quot;</span>, OPT::PUBSUB_SUB_GET },</div>
<div class="line"><span class="lineno"> 1037</span>  { <span class="stringliteral">&quot;subscription rm&quot;</span>, OPT::PUBSUB_SUB_RM },</div>
<div class="line"><span class="lineno"> 1038</span>  { <span class="stringliteral">&quot;subscription pull&quot;</span>, OPT::PUBSUB_SUB_PULL },</div>
<div class="line"><span class="lineno"> 1039</span>  { <span class="stringliteral">&quot;subscription ack&quot;</span>, OPT::PUBSUB_EVENT_RM },</div>
<div class="line"><span class="lineno"> 1040</span>  { <span class="stringliteral">&quot;script put&quot;</span>, OPT::SCRIPT_PUT },</div>
<div class="line"><span class="lineno"> 1041</span>  { <span class="stringliteral">&quot;script get&quot;</span>, OPT::SCRIPT_GET },</div>
<div class="line"><span class="lineno"> 1042</span>  { <span class="stringliteral">&quot;script rm&quot;</span>, OPT::SCRIPT_RM },</div>
<div class="line"><span class="lineno"> 1043</span>  { <span class="stringliteral">&quot;script-package add&quot;</span>, OPT::SCRIPT_PACKAGE_ADD },</div>
<div class="line"><span class="lineno"> 1044</span>  { <span class="stringliteral">&quot;script-package rm&quot;</span>, OPT::SCRIPT_PACKAGE_RM },</div>
<div class="line"><span class="lineno"> 1045</span>  { <span class="stringliteral">&quot;script-package list&quot;</span>, OPT::SCRIPT_PACKAGE_LIST },</div>
<div class="line"><span class="lineno"> 1046</span>};</div>
</div><!-- fragment -->
</div>
</div>
<a id="a5e69901da81978961356b5eed1955990" name="a5e69901da81978961356b5eed1955990"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5e69901da81978961356b5eed1955990">&#9670;&#160;</a></span>cmd_aliases</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_simple_cmd.html#a8ebaeb02632ad61f7a112966f0e4f33e">SimpleCmd::Aliases</a> cmd_aliases</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<b>초기값:</b><div class="fragment"><div class="line">= {</div>
<div class="line">  { <span class="stringliteral">&quot;delete&quot;</span>, <span class="stringliteral">&quot;del&quot;</span> },</div>
<div class="line">  { <span class="stringliteral">&quot;remove&quot;</span>, <span class="stringliteral">&quot;rm&quot;</span> },</div>
<div class="line">  { <span class="stringliteral">&quot;rename&quot;</span>, <span class="stringliteral">&quot;mv&quot;</span> },</div>
<div class="line">}</div>
</div><!-- fragment -->
<p class="definition"><a class="el" href="rgw__admin_8cc_source.html">rgw_admin.cc</a> 파일의 <a class="el" href="rgw__admin_8cc_source.html#l01048">1048</a> 번째 라인에서 정의되었습니다.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1048</span>                                      {</div>
<div class="line"><span class="lineno"> 1049</span>  { <span class="stringliteral">&quot;delete&quot;</span>, <span class="stringliteral">&quot;del&quot;</span> },</div>
<div class="line"><span class="lineno"> 1050</span>  { <span class="stringliteral">&quot;remove&quot;</span>, <span class="stringliteral">&quot;rm&quot;</span> },</div>
<div class="line"><span class="lineno"> 1051</span>  { <span class="stringliteral">&quot;rename&quot;</span>, <span class="stringliteral">&quot;mv&quot;</span> },</div>
<div class="line"><span class="lineno"> 1052</span>};</div>
</div><!-- fragment -->
</div>
</div>
<a id="affb734b98a76ff7b06b1ba2b67d2a5ee" name="affb734b98a76ff7b06b1ba2b67d2a5ee"></a>
<h2 class="memtitle"><span class="permalink"><a href="#affb734b98a76ff7b06b1ba2b67d2a5ee">&#9670;&#160;</a></span>MAX_REST_RESPONSE</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">constexpr size_t MAX_REST_RESPONSE = 128 * 1024</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">constexpr</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition"><a class="el" href="rgw__admin_8cc_source.html">rgw_admin.cc</a> 파일의 <a class="el" href="rgw__admin_8cc_source.html#l01799">1799</a> 번째 라인에서 정의되었습니다.</p>

</div>
</div>
<a id="a6fdb26d64b14d837b60e83a6ca3e2863" name="a6fdb26d64b14d837b60e83a6ca3e2863"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6fdb26d64b14d837b60e83a6ca3e2863">&#9670;&#160;</a></span>store</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classrgw_1_1sal_1_1_store.html">rgw::sal::Store</a>* store = NULL</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition"><a class="el" href="rgw__admin_8cc_source.html">rgw_admin.cc</a> 파일의 <a class="el" href="rgw__admin_8cc_source.html#l00079">79</a> 번째 라인에서 정의되었습니다.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_275089585c7fc1b5fd5d7d42c69cb1da.html">D:</a></li><li class="navelem"><a class="el" href="dir_e050007e69745d5ed950ce16eed8ed32.html">git</a></li><li class="navelem"><a class="el" href="dir_6892619f22dbda2b625e50c3cfe72b21.html">ceph</a></li><li class="navelem"><a class="el" href="dir_07a1996344d62ceb57ddf5fb87d6faf4.html">src</a></li><li class="navelem"><a class="el" href="dir_ddd8fa4b54862d6407f5aaf9a827e64e.html">rgw</a></li><li class="navelem"><a class="el" href="rgw__admin_8cc.html">rgw_admin.cc</a></li>
    <li class="footer">다음에 의해 생성됨 :  <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8 </li>
  </ul>
</div>
</body>
</html>
