<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="ko">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>My Project: D:/git/ceph/src/rgw/rgw_lc_tier.cc 파일 참조</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">My Project
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- 다음에 의해 생성됨 :  Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','검색');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('rgw__lc__tier_8cc.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">로딩중...</div>
<div class="SRStatus" id="Searching">검색중...</div>
<div class="SRStatus" id="NoMatches">일치하는것 없음</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">클래스</a> &#124;
<a href="#define-members">매크로</a> &#124;
<a href="#func-members">함수</a> &#124;
<a href="#var-members">변수</a>  </div>
  <div class="headertitle"><div class="title">rgw_lc_tier.cc 파일 참조</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;string.h&gt;</code><br />
<code>#include &lt;iostream&gt;</code><br />
<code>#include &lt;map&gt;</code><br />
<code>#include &quot;common/Formatter.h&quot;</code><br />
<code>#include &lt;common/errno.h&gt;</code><br />
<code>#include &quot;<a class="el" href="rgw__lc_8h_source.html">rgw_lc.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="rgw__lc__tier_8h_source.html">rgw_lc_tier.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="rgw__string_8h_source.html">rgw_string.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="rgw__zone_8h_source.html">rgw_zone.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="rgw__common_8h_source.html">rgw_common.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="rgw__rest_8h_source.html">rgw_rest.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="svc__zone_8h_source.html">svc_zone.h</a>&quot;</code><br />
<code>#include &lt;boost/algorithm/string/split.hpp&gt;</code><br />
<code>#include &lt;boost/algorithm/string.hpp&gt;</code><br />
<code>#include &lt;boost/algorithm/string/predicate.hpp&gt;</code><br />
</div><div class="textblock"><div class="dynheader">
rgw_lc_tier.cc에 대한 include 의존 그래프</div>
<div class="dyncontent">
<div class="center"><img src="rgw__lc__tier_8cc__incl.png" border="0" usemap="#a_d_1_2git_2ceph_2src_2rgw_2rgw__lc__tier_8cc" alt=""/></div>
<map name="a_d_1_2git_2ceph_2src_2rgw_2rgw__lc__tier_8cc" id="a_d_1_2git_2ceph_2src_2rgw_2rgw__lc__tier_8cc">
<area shape="rect" title=" " alt="" coords="1316,5,1447,48"/>
<area shape="rect" title=" " alt="" coords="5,104,70,131"/>
<area shape="poly" title=" " alt="" coords="1316,31,1061,36,706,47,348,67,200,81,89,99,80,101,79,96,88,93,200,76,348,61,706,41,1061,30,1316,26"/>
<area shape="rect" title=" " alt="" coords="297,493,368,520"/>
<area shape="poly" title=" " alt="" coords="1316,32,1236,36,1132,45,1010,63,878,90,741,129,672,153,605,181,539,214,477,251,417,292,362,338,350,352,340,369,330,406,328,444,330,477,325,478,323,445,325,406,336,367,345,349,358,334,414,288,474,246,537,209,603,177,670,148,739,123,877,84,1009,57,1131,40,1235,31,1316,26"/>
<area shape="rect" title=" " alt="" coords="857,584,903,611"/>
<area shape="poly" title=" " alt="" coords="1316,32,1042,40,674,54,344,74,234,86,201,92,184,98,166,119,159,141,160,199,160,425,162,446,167,463,176,477,187,488,218,507,257,526,300,544,340,557,413,569,481,569,545,562,611,553,681,549,758,553,846,573,849,574,847,579,845,579,758,559,681,554,612,559,546,568,481,575,413,575,339,562,298,549,255,530,215,512,184,492,172,480,162,465,157,447,155,425,155,199,154,141,161,117,181,94,199,87,234,80,344,68,674,49,1042,35,1316,27"/>
<area shape="rect" title=" " alt="" coords="194,104,337,131"/>
<area shape="poly" title=" " alt="" coords="1316,31,1147,35,907,45,630,65,489,80,350,99,327,103,326,98,349,93,488,75,630,60,907,40,1147,30,1316,26"/>
<area shape="rect" title=" " alt="" coords="361,104,477,131"/>
<area shape="poly" title=" " alt="" coords="1316,32,1168,36,964,47,731,67,495,99,476,102,475,97,494,93,730,62,964,42,1168,31,1316,26"/>
<area shape="rect" href="rgw__lc_8h.html" title=" " alt="" coords="1576,261,1646,288"/>
<area shape="poly" title=" " alt="" coords="1403,47,1591,249,1587,252,1399,50"/>
<area shape="rect" href="rgw__common_8h.html" title=" " alt="" coords="1246,336,1355,363"/>
<area shape="poly" title=" " alt="" coords="1386,48,1389,93,1388,154,1379,223,1371,257,1359,289,1346,310,1330,327,1326,324,1341,307,1354,287,1366,255,1374,222,1383,154,1384,93,1381,49"/>
<area shape="rect" title=" " alt="" coords="687,576,833,619"/>
<area shape="poly" title=" " alt="" coords="1316,30,1046,31,680,39,499,48,341,60,220,77,179,87,154,98,130,119,117,140,111,166,109,199,109,425,114,460,126,485,147,506,177,526,216,542,268,556,401,576,546,587,672,592,672,597,546,592,401,581,267,561,214,547,175,530,144,510,122,488,108,461,104,425,104,199,106,165,112,138,126,115,151,94,178,82,219,71,340,55,499,42,680,34,1046,26,1316,25"/>
<area shape="rect" href="rgw__string_8h.html" title=" " alt="" coords="2323,493,2414,520"/>
<area shape="poly" title=" " alt="" coords="1447,26,1585,30,1772,41,1985,61,2093,75,2199,93,2247,100,2290,103,2366,107,2401,114,2433,127,2465,150,2496,185,2516,218,2529,250,2533,281,2530,312,2521,342,2507,373,2465,439,2439,467,2409,488,2406,483,2435,463,2461,436,2502,371,2516,341,2525,311,2527,282,2523,252,2512,221,2491,188,2461,154,2431,132,2399,119,2366,112,2290,108,2247,105,2198,99,2093,81,1984,66,1772,46,1585,35,1447,31"/>
<area shape="rect" href="rgw__lc__tier_8h.html" title=" " alt="" coords="1996,104,2090,131"/>
<area shape="poly" title=" " alt="" coords="1448,34,1980,105,1980,110,1447,39"/>
<area shape="rect" href="rgw__zone_8h.html" title=" " alt="" coords="1257,261,1344,288"/>
<area shape="poly" title=" " alt="" coords="1377,49,1312,248,1306,246,1372,48"/>
<area shape="rect" href="rgw__rest_8h.html" title=" " alt="" coords="2400,187,2481,213"/>
<area shape="poly" title=" " alt="" coords="1447,27,1570,33,1733,44,1917,64,2102,93,2183,112,2263,135,2393,178,2392,183,2262,140,2182,117,2101,99,1916,69,1733,50,1569,38,1447,32"/>
<area shape="rect" href="svc__zone_8h.html" title=" " alt="" coords="2486,104,2573,131"/>
<area shape="poly" title=" " alt="" coords="1447,27,1960,49,2254,68,2376,80,2469,93,2482,97,2481,102,2468,99,2376,85,2254,73,1960,54,1447,33"/>
<area shape="rect" title=" " alt="" coords="2596,96,2743,139"/>
<area shape="poly" title=" " alt="" coords="1447,25,1638,27,1917,36,2244,56,2414,72,2582,93,2581,98,2413,78,2244,62,1917,41,1638,32,1447,30"/>
<area shape="rect" title=" " alt="" coords="2767,104,2938,131"/>
<area shape="poly" title=" " alt="" coords="1447,25,1665,27,1988,35,2368,56,2563,72,2755,93,2784,98,2783,103,2754,99,2563,78,2367,61,1988,41,1665,32,1447,30"/>
<area shape="poly" title=" " alt="" coords="1576,280,393,339,377,350,364,366,346,403,338,443,335,478,329,478,332,442,341,401,360,363,374,346,391,333,1576,275"/>
<area shape="poly" title=" " alt="" coords="1576,280,361,338,309,379,288,402,272,427,263,451,262,476,269,501,286,526,305,541,329,552,391,566,468,571,552,570,719,563,791,564,846,573,849,574,847,579,845,579,790,570,719,568,552,575,467,576,390,572,327,558,302,546,282,530,264,504,256,477,258,450,268,424,284,399,305,376,359,334,1576,275"/>
<area shape="rect" title=" " alt="" coords="1207,584,1260,611"/>
<area shape="poly" title=" " alt="" coords="1647,278,1753,297,1804,313,1823,323,1835,334,1854,359,1865,378,1874,401,1877,429,1873,459,1859,493,1831,530,1801,545,1746,557,1588,577,1412,590,1276,597,1276,592,1412,585,1587,572,1745,552,1799,540,1828,526,1854,491,1868,458,1872,429,1869,403,1860,380,1850,362,1832,338,1820,328,1802,318,1752,303,1646,283"/>
<area shape="rect" title=" " alt="" coords="928,584,1049,611"/>
<area shape="poly" title=" " alt="" coords="1576,280,1103,307,838,324,683,339,603,346,537,348,508,353,481,364,454,383,428,412,423,424,427,435,624,493,928,577,927,582,623,498,424,439,417,424,423,409,451,379,478,359,507,348,537,343,603,340,683,333,837,319,1103,301,1576,275"/>
<area shape="rect" title=" " alt="" coords="1074,584,1183,611"/>
<area shape="poly" title=" " alt="" coords="1576,288,1541,301,1508,319,1496,329,1489,339,1488,350,1494,361,1510,377,1527,387,1562,396,1600,393,1638,384,1677,375,1716,372,1753,381,1771,393,1788,409,1807,439,1814,470,1808,500,1787,530,1773,539,1751,546,1684,557,1498,568,1308,573,1195,579,1181,582,1179,577,1194,573,1308,567,1498,563,1683,552,1749,541,1771,534,1784,526,1803,498,1809,470,1802,441,1783,412,1767,397,1751,386,1715,378,1678,380,1639,389,1600,398,1562,401,1525,392,1507,381,1490,364,1483,351,1484,337,1492,325,1505,314,1538,297,1575,283"/>
<area shape="rect" title=" " alt="" coords="2185,411,2357,437"/>
<area shape="poly" title=" " alt="" coords="1646,278,1771,298,1849,314,1926,333,1960,347,1993,360,2090,386,2182,405,2180,410,2089,391,1991,365,1958,352,1925,339,1847,319,1770,303,1645,283"/>
<area shape="rect" title=" " alt="" coords="2048,336,2206,363"/>
<area shape="poly" title=" " alt="" coords="1646,278,2033,332,2032,338,1646,284"/>
<area shape="rect" title=" " alt="" coords="1505,336,1621,363"/>
<area shape="poly" title=" " alt="" coords="1605,290,1582,325,1577,322,1600,287"/>
<area shape="rect" title=" " alt="" coords="1304,493,1443,520"/>
<area shape="poly" title=" " alt="" coords="1622,287,1639,323,1642,344,1636,364,1618,389,1597,411,1548,447,1495,473,1444,491,1442,486,1493,468,1545,442,1594,407,1614,385,1631,362,1636,343,1634,324,1617,290"/>
<area shape="rect" title=" " alt="" coords="1696,336,1822,363"/>
<area shape="poly" title=" " alt="" coords="1638,286,1720,326,1718,331,1635,291"/>
<area shape="poly" title=" " alt="" coords="1576,287,1370,335,1369,329,1575,282"/>
<area shape="rect" title=" " alt="" coords="2069,493,2129,520"/>
<area shape="poly" title=" " alt="" coords="1646,276,1792,293,1886,310,1978,333,2008,347,2037,360,2069,366,2112,368,2211,371,2262,374,2307,380,2345,391,2372,409,2378,424,2372,439,2356,452,2334,463,2273,482,2206,495,2145,503,2144,498,2205,490,2272,476,2332,458,2353,448,2367,436,2372,424,2367,412,2343,396,2306,385,2261,379,2211,376,2112,374,2069,371,2035,365,2006,352,1977,339,1884,315,1792,299,1646,281"/>
<area shape="rect" href="rgw__tag_8h.html" title=" " alt="" coords="842,493,919,520"/>
<area shape="poly" title=" " alt="" coords="1576,281,1323,302,949,337,604,376,489,396,454,405,438,413,433,424,438,436,464,454,504,470,554,481,610,490,727,500,826,503,826,508,727,505,609,495,553,487,502,475,462,459,434,439,428,424,434,409,452,400,488,390,603,371,949,331,1322,297,1575,276"/>
<area shape="rect" title=" " alt="" coords="2000,411,2160,437"/>
<area shape="poly" title=" " alt="" coords="1646,279,1751,300,1878,333,2038,402,2036,406,1877,339,1750,305,1645,284"/>
<area shape="rect" href="rgw__sal_8h.html" title="Base abstractions and API for SAL" alt="" coords="2281,336,2357,363"/>
<area shape="poly" title=" " alt="" coords="1646,277,2218,333,2266,339,2265,344,2217,339,1646,282"/>
<area shape="rect" title=" " alt="" coords="1380,336,1429,363"/>
<area shape="poly" title=" " alt="" coords="1577,291,1444,337,1442,332,1575,286"/>
<area shape="poly" title=" " alt="" coords="1356,358,1367,360,1590,381,1766,388,1943,393,2169,408,2169,413,1943,398,1766,393,1590,386,1367,365,1355,364"/>
<area shape="rect" title=" " alt="" coords="651,411,701,437"/>
<area shape="poly" title=" " alt="" coords="1245,355,1018,370,870,387,717,413,716,408,869,382,1018,365,1245,350"/>
<area shape="rect" title=" " alt="" coords="1870,584,1954,611"/>
<area shape="poly" title=" " alt="" coords="1356,360,1585,415,1703,449,1751,467,1787,483,1818,503,1847,526,1893,571,1889,574,1843,530,1815,508,1784,488,1749,471,1701,454,1583,420,1355,365"/>
<area shape="poly" title=" " alt="" coords="1356,358,1367,360,1485,374,1577,380,1669,388,1786,408,1934,447,2055,486,2053,492,1933,452,1785,413,1668,394,1577,385,1484,379,1366,365,1355,364"/>
<area shape="rect" title=" " alt="" coords="725,411,835,437"/>
<area shape="poly" title=" " alt="" coords="1245,360,1073,381,851,413,850,407,1073,376,1245,354"/>
<area shape="rect" title=" " alt="" coords="859,411,1016,437"/>
<area shape="poly" title=" " alt="" coords="1246,364,1016,410,1015,405,1245,359"/>
<area shape="rect" title=" " alt="" coords="1040,411,1208,437"/>
<area shape="poly" title=" " alt="" coords="1271,366,1170,407,1168,402,1269,361"/>
<area shape="rect" href="rgw__acl_8h.html" title=" " alt="" coords="994,493,1070,520"/>
<area shape="poly" title=" " alt="" coords="1245,354,1092,358,901,368,730,386,671,398,652,405,640,413,612,433,583,442,563,443,557,440,561,437,589,436,653,441,764,455,931,483,979,492,978,497,930,488,763,460,653,446,589,441,562,442,562,440,563,438,582,437,610,428,637,408,649,400,670,393,729,380,900,363,1092,353,1245,349"/>
<area shape="rect" href="rgw__bucket__layout_8h.html" title=" " alt="" coords="1467,493,1608,520"/>
<area shape="poly" title=" " alt="" coords="1356,359,1413,378,1442,392,1469,409,1502,443,1526,478,1522,481,1498,446,1465,413,1439,396,1411,383,1355,364"/>
<area shape="rect" href="rgw__cors_8h.html" title=" " alt="" coords="1094,493,1178,520"/>
<area shape="poly" title=" " alt="" coords="1300,364,1289,400,1279,421,1266,439,1230,469,1190,489,1188,485,1227,464,1262,436,1275,418,1284,398,1295,363"/>
<area shape="rect" href="rgw__iam__policy_8h.html" title=" " alt="" coords="1334,411,1456,437"/>
<area shape="poly" title=" " alt="" coords="1318,361,1368,399,1365,403,1315,365"/>
<area shape="poly" title=" " alt="" coords="1356,358,1367,360,1504,376,1612,383,1719,391,1857,408,1923,421,1989,435,2308,492,2307,497,1988,440,1922,426,1856,413,1719,396,1611,388,1504,381,1366,365,1355,364"/>
<area shape="rect" href="rgw__quota_8h.html" title=" " alt="" coords="1683,411,1774,437"/>
<area shape="poly" title=" " alt="" coords="1356,358,1367,360,1667,410,1667,415,1366,365,1355,363"/>
<area shape="rect" title=" " alt="" coords="1632,485,1774,528"/>
<area shape="poly" title=" " alt="" coords="1349,361,1421,381,1500,408,1579,442,1650,476,1648,480,1577,447,1498,413,1419,386,1348,366"/>
<area shape="poly" title=" " alt="" coords="1295,365,1266,403,1245,423,1221,440,1182,458,1147,469,1114,473,1083,475,1018,476,981,479,938,488,928,491,927,486,937,483,980,474,1018,470,1083,470,1114,468,1146,463,1180,453,1219,435,1242,419,1262,399,1290,362"/>
<area shape="rect" href="rgw__sync__policy_8h.html" title=" " alt="" coords="448,411,576,437"/>
<area shape="poly" title=" " alt="" coords="1245,357,966,378,595,413,592,414,591,408,595,408,966,372,1245,352"/>
<area shape="poly" title=" " alt="" coords="1356,358,1367,360,1985,412,1985,418,1367,365,1355,364"/>
<area shape="poly" title=" " alt="" coords="1012,523,916,578,914,574,1009,518"/>
<area shape="poly" title=" " alt="" coords="1064,518,1196,574,1197,574,1195,579,1194,578,1062,523"/>
<area shape="poly" title=" " alt="" coords="1028,522,1004,571,999,569,1023,519"/>
<area shape="poly" title=" " alt="" coords="1048,519,1105,571,1102,575,1044,523"/>
<area shape="poly" title=" " alt="" coords="1060,518,1082,525,1151,538,1242,549,1462,569,1855,591,1854,596,1462,574,1241,555,1150,543,1081,531,1058,523"/>
<area shape="poly" title=" " alt="" coords="997,523,976,531,842,573,841,568,974,525,996,518"/>
<area shape="poly" title=" " alt="" coords="1495,523,1276,586,1275,581,1493,518"/>
<area shape="poly" title=" " alt="" coords="1105,523,1084,531,999,552,962,562,916,578,914,579,912,574,914,574,960,557,997,547,1082,525,1103,518"/>
<area shape="poly" title=" " alt="" coords="1152,519,1210,571,1207,575,1148,523"/>
<area shape="poly" title=" " alt="" coords="1138,521,1133,569,1128,568,1132,520"/>
<area shape="poly" title=" " alt="" coords="1334,433,383,504,383,499,1334,427"/>
<area shape="poly" title=" " alt="" coords="1335,438,1288,456,1268,470,1250,487,1240,506,1234,527,1233,568,1227,568,1229,526,1235,504,1246,484,1264,465,1286,451,1333,433"/>
<area shape="poly" title=" " alt="" coords="1394,439,1383,479,1378,478,1389,437"/>
<area shape="poly" title=" " alt="" coords="1355,440,1321,459,1306,471,1295,487,1287,508,1288,517,1294,526,1322,540,1376,552,1533,572,1710,584,1855,591,1855,597,1710,590,1532,577,1375,558,1320,545,1290,530,1283,519,1281,507,1290,484,1302,468,1318,454,1353,436"/>
<area shape="poly" title=" " alt="" coords="1334,436,1217,456,1082,488,1075,490,1073,485,1081,483,1216,451,1333,431"/>
<area shape="poly" title=" " alt="" coords="1334,435,1130,461,1035,475,983,488,967,497,958,507,947,519,932,530,887,554,841,573,839,568,885,549,929,526,944,515,954,504,964,493,980,483,1034,470,1129,456,1333,430"/>
<area shape="poly" title=" " alt="" coords="1456,427,2142,483,2308,497,2307,503,2141,488,1456,433"/>
<area shape="poly" title=" " alt="" coords="2322,515,2142,531,1276,596,1276,590,2141,525,2322,510"/>
<area shape="poly" title=" " alt="" coords="2332,523,2305,531,2122,567,1970,591,1969,586,2121,562,2304,525,2330,518"/>
<area shape="rect" title=" " alt="" coords="2602,584,2663,611"/>
<area shape="poly" title=" " alt="" coords="2415,518,2497,542,2590,573,2594,575,2592,580,2589,579,2496,547,2413,523"/>
<area shape="rect" title=" " alt="" coords="2154,584,2217,611"/>
<area shape="poly" title=" " alt="" coords="2343,523,2226,579,2224,574,2341,518"/>
<area shape="rect" title=" " alt="" coords="2242,584,2305,611"/>
<area shape="poly" title=" " alt="" coords="2356,523,2300,575,2296,571,2353,519"/>
<area shape="rect" title=" " alt="" coords="2329,584,2407,611"/>
<area shape="poly" title=" " alt="" coords="2371,521,2371,568,2366,568,2366,521"/>
<area shape="rect" title=" " alt="" coords="2432,576,2577,619"/>
<area shape="poly" title=" " alt="" coords="2389,518,2461,565,2459,570,2386,523"/>
<area shape="poly" title=" " alt="" coords="1775,433,2054,493,2053,498,1774,438"/>
<area shape="poly" title=" " alt="" coords="1727,439,1716,471,1711,470,1722,437"/>
<area shape="poly" title=" " alt="" coords="883,521,883,568,878,568,878,521"/>
<area shape="poly" title=" " alt="" coords="920,513,1077,546,1196,573,1199,575,1197,580,1194,579,1076,551,919,518"/>
<area shape="poly" title=" " alt="" coords="917,518,1079,576,1078,581,915,523"/>
<area shape="poly" title=" " alt="" coords="571,435,827,491,826,496,570,441"/>
<area shape="poly" title=" " alt="" coords="2008,134,1661,258,1659,253,2007,129"/>
<area shape="rect" href="rgw__rest__conn_8h.html" title=" " alt="" coords="2261,261,2377,288"/>
<area shape="poly" title=" " alt="" coords="2082,129,2142,152,2208,184,2256,216,2295,249,2292,253,2253,221,2205,189,2140,157,2080,134"/>
<area shape="rect" href="rgw__rados_8h.html" title=" " alt="" coords="2092,261,2183,288"/>
<area shape="poly" title=" " alt="" coords="2046,131,2053,169,2060,191,2070,212,2087,233,2107,250,2104,254,2083,236,2066,215,2055,193,2048,170,2041,132"/>
<area shape="poly" title=" " alt="" coords="1996,131,1359,264,1358,259,1995,126"/>
<area shape="rect" href="rgw__sal__rados_8h.html" title=" " alt="" coords="2080,187,2195,213"/>
<area shape="poly" title=" " alt="" coords="2059,129,2113,175,2110,179,2056,133"/>
<area shape="rect" href="rgw__cr__rest_8h.html" title=" " alt="" coords="2269,187,2369,213"/>
<area shape="poly" title=" " alt="" coords="2087,129,2262,179,2260,184,2085,134"/>
<area shape="poly" title=" " alt="" coords="2341,286,2368,307,2393,334,2411,362,2425,387,2428,412,2415,439,2402,448,2377,457,2304,474,2145,501,2144,496,2303,469,2375,451,2399,443,2412,436,2423,411,2420,388,2407,364,2389,338,2364,311,2338,290"/>
<area shape="poly" title=" " alt="" coords="2184,279,2292,298,2341,314,2359,323,2372,334,2377,345,2378,356,2367,376,2346,393,2320,406,2317,402,2343,388,2363,372,2373,355,2372,347,2367,338,2356,328,2339,319,2290,303,2183,284"/>
<area shape="poly" title=" " alt="" coords="2138,289,2134,321,2128,320,2133,288"/>
<area shape="poly" title=" " alt="" coords="2091,281,1792,298,1586,315,1371,338,1370,333,1585,310,1792,293,2091,275"/>
<area shape="poly" title=" " alt="" coords="2166,286,2190,301,2211,319,2224,340,2225,352,2220,364,2194,390,2162,407,2159,403,2191,386,2215,361,2219,351,2219,342,2207,322,2187,305,2163,291"/>
<area shape="poly" title=" " alt="" coords="2170,286,2274,327,2272,332,2168,291"/>
<area shape="poly" title=" " alt="" coords="1303,289,1303,320,1298,320,1298,289"/>
<area shape="poly" title=" " alt="" coords="1257,287,592,411,591,405,1256,282"/>
<area shape="poly" title=" " alt="" coords="2155,212,2293,324,2290,328,2151,216"/>
<area shape="poly" title=" " alt="" coords="2140,214,2140,246,2135,246,2135,214"/>
<area shape="poly" title=" " alt="" coords="2322,214,2322,246,2316,246,2316,214"/>
<area shape="poly" title=" " alt="" coords="2447,213,2459,254,2468,313,2469,346,2465,379,2456,410,2439,439,2420,450,2378,465,2249,505,1970,583,1968,578,2247,500,2376,460,2418,445,2436,435,2451,408,2460,378,2463,346,2463,314,2454,255,2442,214"/>
</map>
</div>
</div>
<p><a href="rgw__lc__tier_8cc_source.html">이 파일의 소스 코드 페이지로 가기</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
클래스</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structrgw__lc__multipart__part__info.html">rgw_lc_multipart_part_info</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structrgw__lc__obj__properties.html">rgw_lc_obj_properties</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structrgw__lc__multipart__upload__info.html">rgw_lc_multipart_upload_info</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_r_g_w_l_c_stream_read.html">RGWLCStreamRead</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_r_g_w_l_c_cloud_stream_put.html">RGWLCCloudStreamPut</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_r_g_w_l_c_cloud_stream_put_1_1multipart__info.html">RGWLCCloudStreamPut::multipart_info</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="define-members" name="define-members"></a>
매크로</h2></td></tr>
<tr class="memitem:ac9f1b8ed4aca7999d392b2d432030e30" id="r_ac9f1b8ed4aca7999d392b2d432030e30"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rgw__lc__tier_8cc.html#ac9f1b8ed4aca7999d392b2d432030e30">dout_context</a>&#160;&#160;&#160;g_ceph_context</td></tr>
<tr class="separator:ac9f1b8ed4aca7999d392b2d432030e30"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5580a2b7c4743669bb9ca22b07e84324" id="r_a5580a2b7c4743669bb9ca22b07e84324"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rgw__lc__tier_8cc.html#a5580a2b7c4743669bb9ca22b07e84324">dout_subsys</a>&#160;&#160;&#160;ceph_subsys_rgw</td></tr>
<tr class="separator:a5580a2b7c4743669bb9ca22b07e84324"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac9e727e0c4741d28bf70975bfec93498" id="r_ac9e727e0c4741d28bf70975bfec93498"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rgw__lc__tier_8cc.html#ac9e727e0c4741d28bf70975bfec93498">MULTIPART_MAX_PARTS</a>&#160;&#160;&#160;10000</td></tr>
<tr class="separator:ac9e727e0c4741d28bf70975bfec93498"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac9e727e0c4741d28bf70975bfec93498" id="r_ac9e727e0c4741d28bf70975bfec93498"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rgw__lc__tier_8cc.html#ac9e727e0c4741d28bf70975bfec93498">MULTIPART_MAX_PARTS</a>&#160;&#160;&#160;10000</td></tr>
<tr class="separator:ac9e727e0c4741d28bf70975bfec93498"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
함수</h2></td></tr>
<tr class="memitem:aea4258058a85e5b1179ec1dba3054041" id="r_aea4258058a85e5b1179ec1dba3054041"><td class="memItemLeft" align="right" valign="top">static string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rgw__lc__tier_8cc.html#aea4258058a85e5b1179ec1dba3054041">get_key_instance</a> (const <a class="el" href="structrgw__obj__key.html">rgw_obj_key</a> &amp;key)</td></tr>
<tr class="separator:aea4258058a85e5b1179ec1dba3054041"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a63abc6bf9cc9fb36ee499c732b4d99de" id="r_a63abc6bf9cc9fb36ee499c732b4d99de"><td class="memItemLeft" align="right" valign="top">static string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rgw__lc__tier_8cc.html#a63abc6bf9cc9fb36ee499c732b4d99de">get_key_oid</a> (const <a class="el" href="structrgw__obj__key.html">rgw_obj_key</a> &amp;key)</td></tr>
<tr class="separator:a63abc6bf9cc9fb36ee499c732b4d99de"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a93e85f685511afc70138260718b4f759" id="r_a93e85f685511afc70138260718b4f759"><td class="memItemLeft" align="right" valign="top">static string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rgw__lc__tier_8cc.html#a93e85f685511afc70138260718b4f759">obj_to_aws_path</a> (const <a class="el" href="structrgw__obj.html">rgw_obj</a> &amp;obj)</td></tr>
<tr class="separator:a93e85f685511afc70138260718b4f759"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1a318bf893149ea31426d89445c69d60" id="r_a1a318bf893149ea31426d89445c69d60"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rgw__lc__tier_8cc.html#a1a318bf893149ea31426d89445c69d60">read_upload_status</a> (const DoutPrefixProvider *<a class="el" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>, <a class="el" href="classrgw_1_1sal_1_1_store.html">rgw::sal::Store</a> *<a class="el" href="rgw__admin_8cc.html#a6fdb26d64b14d837b60e83a6ca3e2863">store</a>, const <a class="el" href="structrgw__raw__obj.html">rgw_raw_obj</a> *status_obj, <a class="el" href="structrgw__lc__multipart__upload__info.html">rgw_lc_multipart_upload_info</a> *status)</td></tr>
<tr class="separator:a1a318bf893149ea31426d89445c69d60"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0817e31380203858cc25fc9e2b0e5c4e" id="r_a0817e31380203858cc25fc9e2b0e5c4e"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rgw__lc__tier_8cc.html#a0817e31380203858cc25fc9e2b0e5c4e">put_upload_status</a> (const DoutPrefixProvider *<a class="el" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>, <a class="el" href="classrgw_1_1sal_1_1_store.html">rgw::sal::Store</a> *<a class="el" href="rgw__admin_8cc.html#a6fdb26d64b14d837b60e83a6ca3e2863">store</a>, const <a class="el" href="structrgw__raw__obj.html">rgw_raw_obj</a> *status_obj, <a class="el" href="structrgw__lc__multipart__upload__info.html">rgw_lc_multipart_upload_info</a> *status)</td></tr>
<tr class="separator:a0817e31380203858cc25fc9e2b0e5c4e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8346ef5c144b99b4d473eb3c7657340e" id="r_a8346ef5c144b99b4d473eb3c7657340e"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rgw__lc__tier_8cc.html#a8346ef5c144b99b4d473eb3c7657340e">delete_upload_status</a> (const DoutPrefixProvider *<a class="el" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>, <a class="el" href="classrgw_1_1sal_1_1_store.html">rgw::sal::Store</a> *<a class="el" href="rgw__admin_8cc.html#a6fdb26d64b14d837b60e83a6ca3e2863">store</a>, const <a class="el" href="structrgw__raw__obj.html">rgw_raw_obj</a> *status_obj)</td></tr>
<tr class="separator:a8346ef5c144b99b4d473eb3c7657340e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a16290ce4ec307cf96f669fdc2fd8651f" id="r_a16290ce4ec307cf96f669fdc2fd8651f"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rgw__lc__tier_8cc.html#a16290ce4ec307cf96f669fdc2fd8651f">init_headers</a> (map&lt; string, bufferlist &gt; &amp;attrs, map&lt; string, string &gt; &amp;headers)</td></tr>
<tr class="separator:a16290ce4ec307cf96f669fdc2fd8651f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a13867e0190d6ba39f79eae9b639818b2" id="r_a13867e0190d6ba39f79eae9b639818b2"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rgw__lc__tier_8cc.html#a13867e0190d6ba39f79eae9b639818b2">cloud_tier_get_object</a> (<a class="el" href="struct_r_g_w_l_c_cloud_tier_ctx.html">RGWLCCloudTierCtx</a> &amp;tier_ctx, bool head, std::map&lt; std::string, std::string &gt; &amp;headers)</td></tr>
<tr class="separator:a13867e0190d6ba39f79eae9b639818b2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a08a23ca5c5c5a005d592ea4e4b228862" id="r_a08a23ca5c5c5a005d592ea4e4b228862"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rgw__lc__tier_8cc.html#a08a23ca5c5c5a005d592ea4e4b228862">is_already_tiered</a> (const DoutPrefixProvider *<a class="el" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>, std::map&lt; std::string, std::string &gt; &amp;headers, ceph::real_time &amp;mtime)</td></tr>
<tr class="separator:a08a23ca5c5c5a005d592ea4e4b228862"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a812ed54814d78a19a8d2edb5c3660750" id="r_a812ed54814d78a19a8d2edb5c3660750"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rgw__lc__tier_8cc.html#a812ed54814d78a19a8d2edb5c3660750">cloud_tier_transfer_object</a> (const DoutPrefixProvider *<a class="el" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>, <a class="el" href="class_r_g_w_l_c_stream_read.html">RGWLCStreamRead</a> *readf, <a class="el" href="class_r_g_w_l_c_cloud_stream_put.html">RGWLCCloudStreamPut</a> *writef)</td></tr>
<tr class="separator:a812ed54814d78a19a8d2edb5c3660750"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a708d92898f0d0340a422c6f4d41179df" id="r_a708d92898f0d0340a422c6f4d41179df"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rgw__lc__tier_8cc.html#a708d92898f0d0340a422c6f4d41179df">cloud_tier_plain_transfer</a> (<a class="el" href="struct_r_g_w_l_c_cloud_tier_ctx.html">RGWLCCloudTierCtx</a> &amp;tier_ctx)</td></tr>
<tr class="separator:a708d92898f0d0340a422c6f4d41179df"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3bf8a95e6d9ba53115bfb1118a771df4" id="r_a3bf8a95e6d9ba53115bfb1118a771df4"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rgw__lc__tier_8cc.html#a3bf8a95e6d9ba53115bfb1118a771df4">cloud_tier_send_multipart_part</a> (<a class="el" href="struct_r_g_w_l_c_cloud_tier_ctx.html">RGWLCCloudTierCtx</a> &amp;tier_ctx, const std::string &amp;upload_id, const <a class="el" href="structrgw__lc__multipart__part__info.html">rgw_lc_multipart_part_info</a> &amp;part_info, std::string *petag)</td></tr>
<tr class="separator:a3bf8a95e6d9ba53115bfb1118a771df4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa090bf66802d07265afcdbe0cb35dd4e" id="r_aa090bf66802d07265afcdbe0cb35dd4e"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rgw__lc__tier_8cc.html#aa090bf66802d07265afcdbe0cb35dd4e">cloud_tier_abort_multipart</a> (const DoutPrefixProvider *<a class="el" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>, <a class="el" href="class_r_g_w_r_e_s_t_conn.html">RGWRESTConn</a> &amp;dest_conn, const <a class="el" href="structrgw__obj.html">rgw_obj</a> &amp;dest_obj, const std::string &amp;upload_id)</td></tr>
<tr class="separator:aa090bf66802d07265afcdbe0cb35dd4e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af4a541b5f9dc56144d816078a8092597" id="r_af4a541b5f9dc56144d816078a8092597"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rgw__lc__tier_8cc.html#af4a541b5f9dc56144d816078a8092597">cloud_tier_init_multipart</a> (const DoutPrefixProvider *<a class="el" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>, <a class="el" href="class_r_g_w_r_e_s_t_conn.html">RGWRESTConn</a> &amp;dest_conn, const <a class="el" href="structrgw__obj.html">rgw_obj</a> &amp;dest_obj, uint64_t obj_size, std::map&lt; std::string, std::string &gt; &amp;attrs, std::string &amp;upload_id)</td></tr>
<tr class="separator:af4a541b5f9dc56144d816078a8092597"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a14cca91b5600848ab8a3726b6e01a7cf" id="r_a14cca91b5600848ab8a3726b6e01a7cf"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rgw__lc__tier_8cc.html#a14cca91b5600848ab8a3726b6e01a7cf">cloud_tier_complete_multipart</a> (const DoutPrefixProvider *<a class="el" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>, <a class="el" href="class_r_g_w_r_e_s_t_conn.html">RGWRESTConn</a> &amp;dest_conn, const <a class="el" href="structrgw__obj.html">rgw_obj</a> &amp;dest_obj, std::string &amp;upload_id, const std::map&lt; int, <a class="el" href="structrgw__lc__multipart__part__info.html">rgw_lc_multipart_part_info</a> &gt; &amp;parts)</td></tr>
<tr class="separator:a14cca91b5600848ab8a3726b6e01a7cf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae302c4d72a8677228743aa6c720c3c3b" id="r_ae302c4d72a8677228743aa6c720c3c3b"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rgw__lc__tier_8cc.html#ae302c4d72a8677228743aa6c720c3c3b">cloud_tier_abort_multipart_upload</a> (<a class="el" href="struct_r_g_w_l_c_cloud_tier_ctx.html">RGWLCCloudTierCtx</a> &amp;tier_ctx, const <a class="el" href="structrgw__obj.html">rgw_obj</a> &amp;dest_obj, const <a class="el" href="structrgw__raw__obj.html">rgw_raw_obj</a> &amp;status_obj, const std::string &amp;upload_id)</td></tr>
<tr class="separator:ae302c4d72a8677228743aa6c720c3c3b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4fac4a9dcad607bf27557e0109f826b2" id="r_a4fac4a9dcad607bf27557e0109f826b2"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rgw__lc__tier_8cc.html#a4fac4a9dcad607bf27557e0109f826b2">cloud_tier_multipart_transfer</a> (<a class="el" href="struct_r_g_w_l_c_cloud_tier_ctx.html">RGWLCCloudTierCtx</a> &amp;tier_ctx)</td></tr>
<tr class="separator:a4fac4a9dcad607bf27557e0109f826b2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2cf3fcb693fce2e948055ee3e01bfb5b" id="r_a2cf3fcb693fce2e948055ee3e01bfb5b"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rgw__lc__tier_8cc.html#a2cf3fcb693fce2e948055ee3e01bfb5b">cloud_tier_check_object</a> (<a class="el" href="struct_r_g_w_l_c_cloud_tier_ctx.html">RGWLCCloudTierCtx</a> &amp;tier_ctx, bool &amp;already_tiered)</td></tr>
<tr class="separator:a2cf3fcb693fce2e948055ee3e01bfb5b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9256577a99379ecd94234749f6b9b343" id="r_a9256577a99379ecd94234749f6b9b343"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rgw__lc__tier_8cc.html#a9256577a99379ecd94234749f6b9b343">cloud_tier_create_bucket</a> (<a class="el" href="struct_r_g_w_l_c_cloud_tier_ctx.html">RGWLCCloudTierCtx</a> &amp;tier_ctx)</td></tr>
<tr class="separator:a9256577a99379ecd94234749f6b9b343"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2906f85e3121b2099d65e0f9047553e9" id="r_a2906f85e3121b2099d65e0f9047553e9"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rgw__lc__tier_8cc.html#a2906f85e3121b2099d65e0f9047553e9">rgw_cloud_tier_transfer_object</a> (<a class="el" href="struct_r_g_w_l_c_cloud_tier_ctx.html">RGWLCCloudTierCtx</a> &amp;tier_ctx, std::set&lt; std::string &gt; &amp;cloud_targets)</td></tr>
<tr class="separator:a2906f85e3121b2099d65e0f9047553e9"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="var-members" name="var-members"></a>
변수</h2></td></tr>
<tr class="memitem:ab30fa20f4f9223d982f8557c890c3886" id="r_ab30fa20f4f9223d982f8557c890c3886"><td class="memItemLeft" align="right" valign="top">static std::set&lt; string &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rgw__lc__tier_8cc.html#ab30fa20f4f9223d982f8557c890c3886">keep_headers</a></td></tr>
<tr class="separator:ab30fa20f4f9223d982f8557c890c3886"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">매크로 문서화</h2>
<a id="ac9f1b8ed4aca7999d392b2d432030e30" name="ac9f1b8ed4aca7999d392b2d432030e30"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac9f1b8ed4aca7999d392b2d432030e30">&#9670;&#160;</a></span>dout_context</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define dout_context&#160;&#160;&#160;g_ceph_context</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition"><a class="el" href="rgw__lc__tier_8cc_source.html">rgw_lc_tier.cc</a> 파일의 <a class="el" href="rgw__lc__tier_8cc_source.html#l00022">22</a> 번째 라인에서 정의되었습니다.</p>

</div>
</div>
<a id="a5580a2b7c4743669bb9ca22b07e84324" name="a5580a2b7c4743669bb9ca22b07e84324"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5580a2b7c4743669bb9ca22b07e84324">&#9670;&#160;</a></span>dout_subsys</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define dout_subsys&#160;&#160;&#160;ceph_subsys_rgw</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition"><a class="el" href="rgw__lc__tier_8cc_source.html">rgw_lc_tier.cc</a> 파일의 <a class="el" href="rgw__lc__tier_8cc_source.html#l00023">23</a> 번째 라인에서 정의되었습니다.</p>

</div>
</div>
<a id="ac9e727e0c4741d28bf70975bfec93498" name="ac9e727e0c4741d28bf70975bfec93498"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac9e727e0c4741d28bf70975bfec93498">&#9670;&#160;</a></span>MULTIPART_MAX_PARTS <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MULTIPART_MAX_PARTS&#160;&#160;&#160;10000</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="ac9e727e0c4741d28bf70975bfec93498" name="ac9e727e0c4741d28bf70975bfec93498"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac9e727e0c4741d28bf70975bfec93498">&#9670;&#160;</a></span>MULTIPART_MAX_PARTS <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MULTIPART_MAX_PARTS&#160;&#160;&#160;10000</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">함수 문서화</h2>
<a id="aa090bf66802d07265afcdbe0cb35dd4e" name="aa090bf66802d07265afcdbe0cb35dd4e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa090bf66802d07265afcdbe0cb35dd4e">&#9670;&#160;</a></span>cloud_tier_abort_multipart()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int cloud_tier_abort_multipart </td>
          <td>(</td>
          <td class="paramtype">const DoutPrefixProvider *&#160;</td>
          <td class="paramname"><em>dpp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_r_g_w_r_e_s_t_conn.html">RGWRESTConn</a> &amp;&#160;</td>
          <td class="paramname"><em>dest_conn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structrgw__obj.html">rgw_obj</a> &amp;&#160;</td>
          <td class="paramname"><em>dest_obj</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>upload_id</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition"><a class="el" href="rgw__lc__tier_8cc_source.html">rgw_lc_tier.cc</a> 파일의 <a class="el" href="rgw__lc__tier_8cc_source.html#l00877">877</a> 번째 라인에서 정의되었습니다.</p>
<div class="fragment"><div class="line"><span class="lineno">  879</span>                                  {</div>
<div class="line"><span class="lineno">  880</span>  <span class="keywordtype">int</span> ret;</div>
<div class="line"><span class="lineno">  881</span>  bufferlist out_bl;</div>
<div class="line"><span class="lineno">  882</span>  bufferlist bl;</div>
<div class="line"><span class="lineno">  883</span>  <a class="code hl_struct" href="structrgw__http__param__pair.html">rgw_http_param_pair</a> params[] = { { <span class="stringliteral">&quot;uploadId&quot;</span>, upload_id.c_str() }, {<span class="keyword">nullptr</span>, <span class="keyword">nullptr</span>} };</div>
<div class="line"><span class="lineno">  884</span> </div>
<div class="line"><span class="lineno">  885</span>  <span class="keywordtype">string</span> resource = <a class="code hl_function" href="rgw__lc__tier_8cc.html#a93e85f685511afc70138260718b4f759">obj_to_aws_path</a>(dest_obj);</div>
<div class="line"><span class="lineno">  886</span>  ret = dest_conn.<a class="code hl_function" href="class_r_g_w_r_e_s_t_conn.html#a8423ed928e48e2ac23b4fb57de2792d3">send_resource</a>(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>, <span class="stringliteral">&quot;DELETE&quot;</span>, resource, params, <span class="keyword">nullptr</span>,</div>
<div class="line"><span class="lineno">  887</span>      out_bl, &amp;bl, <span class="keyword">nullptr</span>, null_yield);</div>
<div class="line"><span class="lineno">  888</span> </div>
<div class="line"><span class="lineno">  889</span> </div>
<div class="line"><span class="lineno">  890</span>  <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno">  891</span>    ldpp_dout(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>, 0) &lt;&lt; <span class="stringliteral">&quot;ERROR: failed to abort multipart upload for dest object=&quot;</span> &lt;&lt; dest_obj &lt;&lt; <span class="stringliteral">&quot; (ret=&quot;</span> &lt;&lt; ret &lt;&lt; <span class="stringliteral">&quot;)&quot;</span> &lt;&lt; dendl;</div>
<div class="line"><span class="lineno">  892</span>    <span class="keywordflow">return</span> ret;</div>
<div class="line"><span class="lineno">  893</span>  }</div>
<div class="line"><span class="lineno">  894</span> </div>
<div class="line"><span class="lineno">  895</span>  <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">  896</span>}</div>
<div class="ttc" id="aclass_r_g_w_r_e_s_t_conn_html_a8423ed928e48e2ac23b4fb57de2792d3"><div class="ttname"><a href="class_r_g_w_r_e_s_t_conn.html#a8423ed928e48e2ac23b4fb57de2792d3">RGWRESTConn::send_resource</a></div><div class="ttdeci">int send_resource(const DoutPrefixProvider *dpp, const std::string &amp;method, const std::string &amp;resource, rgw_http_param_pair *extra_params, std::map&lt; std::string, std::string &gt; *extra_headers, bufferlist &amp;bl, bufferlist *send_data, RGWHTTPManager *mgr, optional_yield y)</div><div class="ttdef"><b>Definition</b> <a href="rgw__rest__conn_8cc_source.html#l00397">rgw_rest_conn.cc:397</a></div></div>
<div class="ttc" id="argw__admin_8cc_html_afe3e74bcdf0327f8777c02b83cfea5b5"><div class="ttname"><a href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a></div><div class="ttdeci">static const DoutPrefixProvider * dpp()</div><div class="ttdef"><b>Definition</b> <a href="rgw__admin_8cc_source.html#l00081">rgw_admin.cc:81</a></div></div>
<div class="ttc" id="argw__lc__tier_8cc_html_a93e85f685511afc70138260718b4f759"><div class="ttname"><a href="rgw__lc__tier_8cc.html#a93e85f685511afc70138260718b4f759">obj_to_aws_path</a></div><div class="ttdeci">static string obj_to_aws_path(const rgw_obj &amp;obj)</div><div class="ttdef"><b>Definition</b> <a href="rgw__lc__tier_8cc_source.html#l00096">rgw_lc_tier.cc:96</a></div></div>
<div class="ttc" id="astructrgw__http__param__pair_html"><div class="ttname"><a href="structrgw__http__param__pair.html">rgw_http_param_pair</a></div><div class="ttdef"><b>Definition</b> <a href="rgw__rest__conn_8h_source.html#l00035">rgw_rest_conn.h:35</a></div></div>
</div><!-- fragment --><div class="dynheader">
이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="rgw__lc__tier_8cc_aa090bf66802d07265afcdbe0cb35dd4e_cgraph.png" border="0" usemap="#argw__lc__tier_8cc_aa090bf66802d07265afcdbe0cb35dd4e_cgraph" alt=""/></div>
<map name="argw__lc__tier_8cc_aa090bf66802d07265afcdbe0cb35dd4e_cgraph" id="argw__lc__tier_8cc_aa090bf66802d07265afcdbe0cb35dd4e_cgraph">
<area shape="rect" title=" " alt="" coords="5,70,176,96"/>
<area shape="rect" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5" title=" " alt="" coords="1034,128,1076,155"/>
<area shape="poly" title=" " alt="" coords="142,66,281,36,374,21,478,9,589,3,704,6,818,20,874,32,929,47,959,60,987,78,1032,115,1028,119,984,82,956,65,927,52,873,37,817,25,704,11,589,9,478,14,375,26,282,41,143,72"/>
<area shape="rect" href="rgw__lc__tier_8cc.html#a93e85f685511afc70138260718b4f759" title=" " alt="" coords="270,70,388,96"/>
<area shape="poly" title=" " alt="" coords="176,80,254,80,254,86,176,86"/>
<area shape="rect" href="class_r_g_w_r_e_s_t_conn.html#a8423ed928e48e2ac23b4fb57de2792d3" title=" " alt="" coords="224,278,434,304"/>
<area shape="poly" title=" " alt="" coords="109,95,302,265,299,269,106,99"/>
<area shape="rect" href="rgw__lc__tier_8cc.html#a63abc6bf9cc9fb36ee499c732b4d99de" title=" " alt="" coords="536,70,627,96"/>
<area shape="poly" title=" " alt="" coords="388,80,520,80,520,86,388,86"/>
<area shape="rect" href="structrgw__obj__key.html#abbd337f0dc4c9396c885b3bf7e6da7bf" title=" " alt="" coords="751,62,906,104"/>
<area shape="poly" title=" " alt="" coords="628,80,736,80,736,86,628,86"/>
<area shape="poly" title=" " alt="" coords="341,275,397,223,437,194,481,172,556,150,634,135,712,126,788,122,923,125,1019,134,1018,139,923,131,788,128,712,131,634,140,557,155,483,177,440,199,401,227,345,279"/>
<area shape="rect" href="class_r_g_w_h_t_t_p_stream_r_w_request.html#a28de0acc4dc43fc97efbfc4a6ba82c43" title=" " alt="" coords="483,187,680,230"/>
<area shape="poly" title=" " alt="" coords="371,275,499,232,501,237,373,280"/>
<area shape="rect" href="class_r_g_w_r_e_s_t_conn.html#ac833f895cae6760d02b776c2a597f02d" title=" " alt="" coords="500,278,664,304"/>
<area shape="poly" title=" " alt="" coords="434,288,484,288,484,294,434,294"/>
<area shape="rect" href="rgw__rest__conn_8h.html#aa14583ec12a68d63cf797488bb75ec5c" title=" " alt="" coords="522,328,642,355"/>
<area shape="poly" title=" " alt="" coords="400,302,507,324,506,329,399,308"/>
<area shape="rect" href="class_r_g_w_r_e_s_t_conn.html#a919ee8e18b3c046e8b64029ab3427130" title=" " alt="" coords="495,379,669,422"/>
<area shape="poly" title=" " alt="" coords="356,302,414,332,483,365,499,371,497,376,481,369,411,337,354,307"/>
<area shape="rect" href="class_r_g_w_r_e_s_t_stream_r_w_request.html#ac991b0ba9e3086ee97283a7d26abdfb3" title=" " alt="" coords="482,446,681,488"/>
<area shape="poly" title=" " alt="" coords="343,303,399,364,439,400,483,431,492,436,490,441,481,436,436,404,396,368,339,307"/>
<area shape="rect" href="rgw__rest__client_8cc.html#afe35f1027a22ea12c1e9d5479572cafa" title=" " alt="" coords="763,179,894,206"/>
<area shape="poly" title=" " alt="" coords="681,199,748,195,748,200,681,205"/>
<area shape="rect" href="rgw__rest__client_8cc.html#ab4f60e826eb9d1f1c246a8dc52a1d1f6" title=" " alt="" coords="755,230,902,256"/>
<area shape="poly" title=" " alt="" coords="681,220,740,228,739,233,681,225"/>
<area shape="rect" href="class_r_g_w_h_t_t_p_client.html#a7d489c6689cd946b572415111b0c97b5" title=" " alt="" coords="754,280,903,307"/>
<area shape="poly" title=" " alt="" coords="654,228,682,239,706,253,730,266,750,273,749,278,728,271,704,258,680,244,652,233"/>
<area shape="poly" title=" " alt="" coords="891,176,1018,147,1019,152,892,181"/>
<area shape="rect" href="structrgw__http__req__data.html#a2cb0db213911deffc4b43a81a37098b5" title=" " alt="" coords="976,280,1134,307"/>
<area shape="poly" title=" " alt="" coords="904,291,960,291,960,296,904,296"/>
<area shape="rect" href="structrgw__http__req__data.html#a5d6962235aabed5aabe98213b486ccb1" title=" " alt="" coords="1182,272,1317,315"/>
<area shape="poly" title=" " alt="" coords="1134,291,1167,291,1167,296,1134,296"/>
<area shape="poly" title=" " alt="" coords="540,279,533,269,538,259,555,253,582,251,611,254,627,260,625,265,610,259,582,256,556,258,541,263,538,268,545,276"/>
<area shape="rect" href="rgw__rest__conn_8h.html#a1df0923b4723e3b3f42709b425eb0215" title=" " alt="" coords="763,331,894,358"/>
<area shape="poly" title=" " alt="" coords="642,340,748,341,748,346,642,345"/>
<area shape="rect" href="class_r_g_w_r_e_s_t_conn.html#ae90bac8b6344ad9f172ce25c12cf82e9" title=" " alt="" coords="729,383,928,410"/>
<area shape="poly" title=" " alt="" coords="669,396,713,396,713,401,669,402"/>
<area shape="rect" href="class_r_g_w_r_e_s_t_conn.html#a80208c730562921a2e3b4d9dde10855e" title=" " alt="" coords="741,434,916,476"/>
<area shape="poly" title=" " alt="" coords="670,417,727,430,725,435,669,422"/>
<area shape="rect" href="structrgw__user.html#afd8a9e36c5a9f7773c13d903c3124e99" title=" " alt="" coords="996,356,1114,383"/>
<area shape="poly" title=" " alt="" coords="928,382,981,376,981,381,928,387"/>
<area shape="rect" href="structrgw__user.html#af00f510d6a9ff0580d87ee46b274d96e" title=" " alt="" coords="998,407,1112,434"/>
<area shape="poly" title=" " alt="" coords="928,404,983,410,982,415,928,409"/>
</map>
</div>
<div class="dynheader">
이 함수를 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="rgw__lc__tier_8cc_aa090bf66802d07265afcdbe0cb35dd4e_icgraph.png" border="0" usemap="#argw__lc__tier_8cc_aa090bf66802d07265afcdbe0cb35dd4e_icgraph" alt=""/></div>
<map name="argw__lc__tier_8cc_aa090bf66802d07265afcdbe0cb35dd4e_icgraph" id="argw__lc__tier_8cc_aa090bf66802d07265afcdbe0cb35dd4e_icgraph">
<area shape="rect" title=" " alt="" coords="819,13,989,40"/>
<area shape="rect" href="rgw__lc__tier_8cc.html#ae302c4d72a8677228743aa6c720c3c3b" title=" " alt="" coords="600,5,771,48"/>
<area shape="poly" title=" " alt="" coords="803,29,771,29,771,24,803,24"/>
<area shape="rect" href="rgw__lc__tier_8cc.html#a4fac4a9dcad607bf27557e0109f826b2" title=" " alt="" coords="418,5,552,48"/>
<area shape="poly" title=" " alt="" coords="585,29,553,29,553,24,585,24"/>
<area shape="rect" href="rgw__lc__tier_8cc.html#a2906f85e3121b2099d65e0f9047553e9" title=" " alt="" coords="216,5,370,48"/>
<area shape="poly" title=" " alt="" coords="402,29,371,29,371,24,402,24"/>
<area shape="rect" href="class_l_c_op_action___transition.html#a11d3ae78bd110a735d53bb533e68b59b" title=" " alt="" coords="5,5,168,48"/>
<area shape="poly" title=" " alt="" coords="200,29,168,29,168,24,200,24"/>
</map>
</div>

</div>
</div>
<a id="ae302c4d72a8677228743aa6c720c3c3b" name="ae302c4d72a8677228743aa6c720c3c3b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae302c4d72a8677228743aa6c720c3c3b">&#9670;&#160;</a></span>cloud_tier_abort_multipart_upload()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int cloud_tier_abort_multipart_upload </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_r_g_w_l_c_cloud_tier_ctx.html">RGWLCCloudTierCtx</a> &amp;&#160;</td>
          <td class="paramname"><em>tier_ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structrgw__obj.html">rgw_obj</a> &amp;&#160;</td>
          <td class="paramname"><em>dest_obj</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structrgw__raw__obj.html">rgw_raw_obj</a> &amp;&#160;</td>
          <td class="paramname"><em>status_obj</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>upload_id</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition"><a class="el" href="rgw__lc__tier_8cc_source.html">rgw_lc_tier.cc</a> 파일의 <a class="el" href="rgw__lc__tier_8cc_source.html#l01046">1046</a> 번째 라인에서 정의되었습니다.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1048</span>                                  {</div>
<div class="line"><span class="lineno"> 1049</span>  <span class="keywordtype">int</span> ret;</div>
<div class="line"><span class="lineno"> 1050</span> </div>
<div class="line"><span class="lineno"> 1051</span>  ret = <a class="code hl_function" href="rgw__lc__tier_8cc.html#aa090bf66802d07265afcdbe0cb35dd4e">cloud_tier_abort_multipart</a>(tier_ctx.<a class="code hl_variable" href="struct_r_g_w_l_c_cloud_tier_ctx.html#a10433e11720af1b72f2fec265ce02143">dpp</a>, tier_ctx.<a class="code hl_variable" href="struct_r_g_w_l_c_cloud_tier_ctx.html#af3287a0bb4c2ff1d3c49b458004722c8">conn</a>, dest_obj, upload_id);</div>
<div class="line"><span class="lineno"> 1052</span> </div>
<div class="line"><span class="lineno"> 1053</span>  <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno"> 1054</span>    ldpp_dout(tier_ctx.<a class="code hl_variable" href="struct_r_g_w_l_c_cloud_tier_ctx.html#a10433e11720af1b72f2fec265ce02143">dpp</a>, 0) &lt;&lt; <span class="stringliteral">&quot;ERROR: failed to abort multipart upload dest obj=&quot;</span> &lt;&lt; dest_obj &lt;&lt; <span class="stringliteral">&quot; upload_id=&quot;</span> &lt;&lt; upload_id &lt;&lt; <span class="stringliteral">&quot; ret=&quot;</span> &lt;&lt; ret &lt;&lt; dendl;</div>
<div class="line"><span class="lineno"> 1055</span>    <span class="comment">/* ignore error, best effort */</span></div>
<div class="line"><span class="lineno"> 1056</span>  }</div>
<div class="line"><span class="lineno"> 1057</span>  <span class="comment">/* remove status obj */</span></div>
<div class="line"><span class="lineno"> 1058</span>  ret = <a class="code hl_function" href="rgw__lc__tier_8cc.html#a8346ef5c144b99b4d473eb3c7657340e">delete_upload_status</a>(tier_ctx.<a class="code hl_variable" href="struct_r_g_w_l_c_cloud_tier_ctx.html#a10433e11720af1b72f2fec265ce02143">dpp</a>, tier_ctx.<a class="code hl_variable" href="struct_r_g_w_l_c_cloud_tier_ctx.html#acd12ed9b2dc9868f9081a968d67763b6">store</a>, &amp;status_obj);</div>
<div class="line"><span class="lineno"> 1059</span>  <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno"> 1060</span>    ldpp_dout(tier_ctx.<a class="code hl_variable" href="struct_r_g_w_l_c_cloud_tier_ctx.html#a10433e11720af1b72f2fec265ce02143">dpp</a>, 0) &lt;&lt; <span class="stringliteral">&quot;ERROR: failed to remove sync status obj obj=&quot;</span> &lt;&lt; status_obj &lt;&lt; <span class="stringliteral">&quot; ret=&quot;</span> &lt;&lt; ret &lt;&lt; dendl;</div>
<div class="line"><span class="lineno"> 1061</span>    <span class="comment">// ignore error, best effort </span></div>
<div class="line"><span class="lineno"> 1062</span>  }</div>
<div class="line"><span class="lineno"> 1063</span>  <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno"> 1064</span>}</div>
<div class="ttc" id="argw__lc__tier_8cc_html_a8346ef5c144b99b4d473eb3c7657340e"><div class="ttname"><a href="rgw__lc__tier_8cc.html#a8346ef5c144b99b4d473eb3c7657340e">delete_upload_status</a></div><div class="ttdeci">static int delete_upload_status(const DoutPrefixProvider *dpp, rgw::sal::Store *store, const rgw_raw_obj *status_obj)</div><div class="ttdef"><b>Definition</b> <a href="rgw__lc__tier_8cc_source.html#l00164">rgw_lc_tier.cc:164</a></div></div>
<div class="ttc" id="argw__lc__tier_8cc_html_aa090bf66802d07265afcdbe0cb35dd4e"><div class="ttname"><a href="rgw__lc__tier_8cc.html#aa090bf66802d07265afcdbe0cb35dd4e">cloud_tier_abort_multipart</a></div><div class="ttdeci">static int cloud_tier_abort_multipart(const DoutPrefixProvider *dpp, RGWRESTConn &amp;dest_conn, const rgw_obj &amp;dest_obj, const std::string &amp;upload_id)</div><div class="ttdef"><b>Definition</b> <a href="rgw__lc__tier_8cc_source.html#l00877">rgw_lc_tier.cc:877</a></div></div>
<div class="ttc" id="astruct_r_g_w_l_c_cloud_tier_ctx_html_a10433e11720af1b72f2fec265ce02143"><div class="ttname"><a href="struct_r_g_w_l_c_cloud_tier_ctx.html#a10433e11720af1b72f2fec265ce02143">RGWLCCloudTierCtx::dpp</a></div><div class="ttdeci">const DoutPrefixProvider * dpp</div><div class="ttdef"><b>Definition</b> <a href="rgw__lc__tier_8h_source.html#l00019">rgw_lc_tier.h:19</a></div></div>
<div class="ttc" id="astruct_r_g_w_l_c_cloud_tier_ctx_html_acd12ed9b2dc9868f9081a968d67763b6"><div class="ttname"><a href="struct_r_g_w_l_c_cloud_tier_ctx.html#acd12ed9b2dc9868f9081a968d67763b6">RGWLCCloudTierCtx::store</a></div><div class="ttdeci">rgw::sal::Store * store</div><div class="ttdef"><b>Definition</b> <a href="rgw__lc__tier_8h_source.html#l00023">rgw_lc_tier.h:23</a></div></div>
<div class="ttc" id="astruct_r_g_w_l_c_cloud_tier_ctx_html_af3287a0bb4c2ff1d3c49b458004722c8"><div class="ttname"><a href="struct_r_g_w_l_c_cloud_tier_ctx.html#af3287a0bb4c2ff1d3c49b458004722c8">RGWLCCloudTierCtx::conn</a></div><div class="ttdeci">RGWRESTConn &amp; conn</div><div class="ttdef"><b>Definition</b> <a href="rgw__lc__tier_8h_source.html#l00031">rgw_lc_tier.h:31</a></div></div>
</div><!-- fragment --><div class="dynheader">
이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="rgw__lc__tier_8cc_ae302c4d72a8677228743aa6c720c3c3b_cgraph.png" border="0" usemap="#argw__lc__tier_8cc_ae302c4d72a8677228743aa6c720c3c3b_cgraph" alt=""/></div>
<map name="argw__lc__tier_8cc_ae302c4d72a8677228743aa6c720c3c3b_cgraph" id="argw__lc__tier_8cc_ae302c4d72a8677228743aa6c720c3c3b_cgraph">
<area shape="rect" title=" " alt="" coords="5,455,176,497"/>
<area shape="rect" href="rgw__lc__tier_8cc.html#aa090bf66802d07265afcdbe0cb35dd4e" title=" " alt="" coords="224,429,394,456"/>
<area shape="poly" title=" " alt="" coords="175,460,208,455,208,461,176,466"/>
<area shape="rect" href="rgw__lc__tier_8cc.html#a8346ef5c144b99b4d473eb3c7657340e" title=" " alt="" coords="728,524,872,551"/>
<area shape="poly" title=" " alt="" coords="176,481,712,527,712,532,176,486"/>
<area shape="rect" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5" title=" " alt="" coords="1265,381,1307,408"/>
<area shape="poly" title=" " alt="" coords="386,426,442,419,683,402,919,393,1249,391,1249,397,919,399,684,407,442,424,386,431"/>
<area shape="rect" href="rgw__lc__tier_8cc.html#a93e85f685511afc70138260718b4f759" title=" " alt="" coords="488,433,606,460"/>
<area shape="poly" title=" " alt="" coords="395,441,472,443,472,448,395,447"/>
<area shape="rect" href="class_r_g_w_r_e_s_t_conn.html#a8423ed928e48e2ac23b4fb57de2792d3" title=" " alt="" coords="442,197,652,224"/>
<area shape="poly" title=" " alt="" coords="322,427,520,233,523,236,326,431"/>
<area shape="rect" href="rgw__lc__tier_8cc.html#a63abc6bf9cc9fb36ee499c732b4d99de" title=" " alt="" coords="754,437,846,464"/>
<area shape="poly" title=" " alt="" coords="607,445,739,447,739,452,606,450"/>
<area shape="rect" href="structrgw__obj__key.html#abbd337f0dc4c9396c885b3bf7e6da7bf" title=" " alt="" coords="970,432,1124,475"/>
<area shape="poly" title=" " alt="" coords="846,448,954,450,954,455,846,454"/>
<area shape="poly" title=" " alt="" coords="564,222,621,270,660,296,701,316,766,338,821,352,871,359,919,362,1019,364,1078,366,1146,373,1250,387,1249,393,1146,379,1077,372,1019,369,919,368,871,365,820,357,764,344,699,321,657,300,618,274,561,226"/>
<area shape="rect" href="class_r_g_w_h_t_t_p_stream_r_w_request.html#a28de0acc4dc43fc97efbfc4a6ba82c43" title=" " alt="" coords="701,189,899,232"/>
<area shape="poly" title=" " alt="" coords="653,208,686,208,686,213,653,213"/>
<area shape="rect" href="class_r_g_w_r_e_s_t_conn.html#ac833f895cae6760d02b776c2a597f02d" title=" " alt="" coords="718,280,882,307"/>
<area shape="poly" title=" " alt="" coords="591,222,743,272,742,277,590,227"/>
<area shape="rect" href="rgw__rest__conn_8h.html#aa14583ec12a68d63cf797488bb75ec5c" title=" " alt="" coords="740,5,860,32"/>
<area shape="poly" title=" " alt="" coords="555,195,576,164,609,122,650,79,699,42,724,30,726,35,702,46,654,83,613,126,581,167,559,198"/>
<area shape="rect" href="class_r_g_w_r_e_s_t_conn.html#a919ee8e18b3c046e8b64029ab3427130" title=" " alt="" coords="713,56,887,99"/>
<area shape="poly" title=" " alt="" coords="565,195,623,153,699,108,712,102,714,107,702,113,626,158,568,199"/>
<area shape="rect" href="class_r_g_w_r_e_s_t_stream_r_w_request.html#ac991b0ba9e3086ee97283a7d26abdfb3" title=" " alt="" coords="700,123,900,165"/>
<area shape="poly" title=" " alt="" coords="600,194,701,167,702,172,602,199"/>
<area shape="rect" href="rgw__rest__client_8cc.html#afe35f1027a22ea12c1e9d5479572cafa" title=" " alt="" coords="982,227,1112,253"/>
<area shape="poly" title=" " alt="" coords="900,220,966,228,966,233,899,225"/>
<area shape="rect" href="rgw__rest__client_8cc.html#ab4f60e826eb9d1f1c246a8dc52a1d1f6" title=" " alt="" coords="974,277,1120,304"/>
<area shape="poly" title=" " alt="" coords="870,230,901,242,949,263,971,270,969,275,947,268,899,246,868,235"/>
<area shape="rect" href="class_r_g_w_h_t_t_p_client.html#a7d489c6689cd946b572415111b0c97b5" title=" " alt="" coords="972,176,1122,203"/>
<area shape="poly" title=" " alt="" coords="899,199,957,194,957,200,899,205"/>
<area shape="poly" title=" " alt="" coords="1114,249,1147,263,1183,287,1216,314,1266,367,1263,371,1212,318,1180,291,1145,268,1112,254"/>
<area shape="rect" href="structrgw__http__req__data.html#a2cb0db213911deffc4b43a81a37098b5" title=" " alt="" coords="1207,176,1365,203"/>
<area shape="poly" title=" " alt="" coords="1122,187,1191,187,1191,192,1122,192"/>
<area shape="rect" href="structrgw__http__req__data.html#a5d6962235aabed5aabe98213b486ccb1" title=" " alt="" coords="1441,168,1577,211"/>
<area shape="poly" title=" " alt="" coords="1366,187,1426,187,1426,192,1366,192"/>
<area shape="poly" title=" " alt="" coords="759,281,751,271,756,261,773,255,800,253,830,256,845,263,843,268,828,261,800,259,774,261,760,265,756,271,763,278"/>
<area shape="rect" href="rgw__rest__conn_8h.html#a1df0923b4723e3b3f42709b425eb0215" title=" " alt="" coords="982,5,1112,32"/>
<area shape="poly" title=" " alt="" coords="860,16,966,16,966,21,860,21"/>
<area shape="rect" href="class_r_g_w_r_e_s_t_conn.html#ae90bac8b6344ad9f172ce25c12cf82e9" title=" " alt="" coords="948,57,1146,84"/>
<area shape="poly" title=" " alt="" coords="888,72,932,71,932,76,888,78"/>
<area shape="rect" href="class_r_g_w_r_e_s_t_conn.html#a80208c730562921a2e3b4d9dde10855e" title=" " alt="" coords="960,108,1134,151"/>
<area shape="poly" title=" " alt="" coords="888,93,945,105,944,110,887,98"/>
<area shape="rect" href="structrgw__user.html#afd8a9e36c5a9f7773c13d903c3124e99" title=" " alt="" coords="1228,32,1345,59"/>
<area shape="poly" title=" " alt="" coords="1146,57,1212,50,1213,56,1147,63"/>
<area shape="rect" href="structrgw__user.html#af00f510d6a9ff0580d87ee46b274d96e" title=" " alt="" coords="1229,83,1343,109"/>
<area shape="poly" title=" " alt="" coords="1147,79,1214,86,1213,91,1146,84"/>
<area shape="poly" title=" " alt="" coords="872,533,932,529,1002,520,1075,506,1145,484,1206,452,1256,416,1259,420,1209,457,1147,489,1076,511,1003,526,933,534,873,539"/>
<area shape="rect" href="rgw__tools_8cc.html#a046ce687b6bb951e6c13fcb3b373bbe5" title=" " alt="" coords="968,549,1126,576"/>
<area shape="poly" title=" " alt="" coords="873,542,953,550,953,556,872,547"/>
<area shape="rect" href="classrgw_1_1sal_1_1_rados_store.html#abe4f0602b771d5549a02c0a326d6a832" title=" " alt="" coords="962,600,1132,627"/>
<area shape="poly" title=" " alt="" coords="840,549,948,585,974,593,973,598,947,591,838,554"/>
<area shape="poly" title=" " alt="" coords="1104,546,1145,528,1180,503,1213,474,1263,418,1267,422,1217,477,1184,507,1147,533,1107,551"/>
<area shape="rect" href="class_r_g_w_sys_object_ctx.html#af7d781dbb202cbc5b5d510034a18e83a" title=" " alt="" coords="1194,520,1378,547"/>
<area shape="poly" title=" " alt="" coords="1125,550,1178,544,1179,549,1126,556"/>
<area shape="rect" href="class_r_g_w_s_i___sys_obj.html#a42dbd3046b9d94873446090556f05e63" title=" " alt="" coords="1216,571,1356,613"/>
<area shape="poly" title=" " alt="" coords="1126,570,1201,579,1200,584,1125,575"/>
<area shape="rect" href="class_r_g_w_s_i___sys_obj.html#a07a9aa07a04694c3df0dcefd1c84e12f" title=" " alt="" coords="1426,520,1592,547"/>
<area shape="poly" title=" " alt="" coords="1379,531,1411,531,1411,536,1379,536"/>
</map>
</div>
<div class="dynheader">
이 함수를 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="rgw__lc__tier_8cc_ae302c4d72a8677228743aa6c720c3c3b_icgraph.png" border="0" usemap="#argw__lc__tier_8cc_ae302c4d72a8677228743aa6c720c3c3b_icgraph" alt=""/></div>
<map name="argw__lc__tier_8cc_ae302c4d72a8677228743aa6c720c3c3b_icgraph" id="argw__lc__tier_8cc_ae302c4d72a8677228743aa6c720c3c3b_icgraph">
<area shape="rect" title=" " alt="" coords="600,5,771,48"/>
<area shape="rect" href="rgw__lc__tier_8cc.html#a4fac4a9dcad607bf27557e0109f826b2" title=" " alt="" coords="418,5,552,48"/>
<area shape="poly" title=" " alt="" coords="585,29,553,29,553,24,585,24"/>
<area shape="rect" href="rgw__lc__tier_8cc.html#a2906f85e3121b2099d65e0f9047553e9" title=" " alt="" coords="216,5,370,48"/>
<area shape="poly" title=" " alt="" coords="402,29,371,29,371,24,402,24"/>
<area shape="rect" href="class_l_c_op_action___transition.html#a11d3ae78bd110a735d53bb533e68b59b" title=" " alt="" coords="5,5,168,48"/>
<area shape="poly" title=" " alt="" coords="200,29,168,29,168,24,200,24"/>
</map>
</div>

</div>
</div>
<a id="a2cf3fcb693fce2e948055ee3e01bfb5b" name="a2cf3fcb693fce2e948055ee3e01bfb5b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2cf3fcb693fce2e948055ee3e01bfb5b">&#9670;&#160;</a></span>cloud_tier_check_object()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int cloud_tier_check_object </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_r_g_w_l_c_cloud_tier_ctx.html">RGWLCCloudTierCtx</a> &amp;&#160;</td>
          <td class="paramname"><em>tier_ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool &amp;&#160;</td>
          <td class="paramname"><em>already_tiered</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition"><a class="el" href="rgw__lc__tier_8cc_source.html">rgw_lc_tier.cc</a> 파일의 <a class="el" href="rgw__lc__tier_8cc_source.html#l01206">1206</a> 번째 라인에서 정의되었습니다.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1206</span>                                                                                      {</div>
<div class="line"><span class="lineno"> 1207</span>  <span class="keywordtype">int</span> ret;</div>
<div class="line"><span class="lineno"> 1208</span>  std::map&lt;std::string, std::string&gt; headers;</div>
<div class="line"><span class="lineno"> 1209</span> </div>
<div class="line"><span class="lineno"> 1210</span>  <span class="comment">/* Fetch Head object */</span></div>
<div class="line"><span class="lineno"> 1211</span>  ret = <a class="code hl_function" href="rgw__lc__tier_8cc.html#a13867e0190d6ba39f79eae9b639818b2">cloud_tier_get_object</a>(tier_ctx, <span class="keyword">true</span>, headers);</div>
<div class="line"><span class="lineno"> 1212</span> </div>
<div class="line"><span class="lineno"> 1213</span>  <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno"> 1214</span>    ldpp_dout(tier_ctx.<a class="code hl_variable" href="struct_r_g_w_l_c_cloud_tier_ctx.html#a10433e11720af1b72f2fec265ce02143">dpp</a>, 0) &lt;&lt; <span class="stringliteral">&quot;ERROR: failed to fetch HEAD from cloud for obj=&quot;</span> &lt;&lt; tier_ctx.<a class="code hl_variable" href="struct_r_g_w_l_c_cloud_tier_ctx.html#a679e2551051f8c0fda753bc1bc6db7cc">obj</a> &lt;&lt; <span class="stringliteral">&quot; , ret = &quot;</span> &lt;&lt; ret &lt;&lt; dendl;</div>
<div class="line"><span class="lineno"> 1215</span>    <span class="keywordflow">return</span> ret;</div>
<div class="line"><span class="lineno"> 1216</span>  }</div>
<div class="line"><span class="lineno"> 1217</span> </div>
<div class="line"><span class="lineno"> 1218</span>  already_tiered = <a class="code hl_function" href="rgw__lc__tier_8cc.html#a08a23ca5c5c5a005d592ea4e4b228862">is_already_tiered</a>(tier_ctx.<a class="code hl_variable" href="struct_r_g_w_l_c_cloud_tier_ctx.html#a10433e11720af1b72f2fec265ce02143">dpp</a>, headers, tier_ctx.<a class="code hl_variable" href="struct_r_g_w_l_c_cloud_tier_ctx.html#ac7696914982b184b5a468f23791d91a6">o</a>.meta.mtime);</div>
<div class="line"><span class="lineno"> 1219</span> </div>
<div class="line"><span class="lineno"> 1220</span>  <span class="keywordflow">if</span> (already_tiered) {</div>
<div class="line"><span class="lineno"> 1221</span>    ldpp_dout(tier_ctx.<a class="code hl_variable" href="struct_r_g_w_l_c_cloud_tier_ctx.html#a10433e11720af1b72f2fec265ce02143">dpp</a>, 20) &lt;&lt; <span class="stringliteral">&quot;is_already_tiered true&quot;</span> &lt;&lt; dendl;</div>
<div class="line"><span class="lineno"> 1222</span>  } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 1223</span>    ldpp_dout(tier_ctx.<a class="code hl_variable" href="struct_r_g_w_l_c_cloud_tier_ctx.html#a10433e11720af1b72f2fec265ce02143">dpp</a>, 20) &lt;&lt; <span class="stringliteral">&quot;is_already_tiered false..going with out_crf writing&quot;</span> &lt;&lt; dendl;</div>
<div class="line"><span class="lineno"> 1224</span>  }</div>
<div class="line"><span class="lineno"> 1225</span> </div>
<div class="line"><span class="lineno"> 1226</span>  <span class="keywordflow">return</span> ret;</div>
<div class="line"><span class="lineno"> 1227</span>}</div>
<div class="ttc" id="argw__lc__tier_8cc_html_a08a23ca5c5c5a005d592ea4e4b228862"><div class="ttname"><a href="rgw__lc__tier_8cc.html#a08a23ca5c5c5a005d592ea4e4b228862">is_already_tiered</a></div><div class="ttdeci">static bool is_already_tiered(const DoutPrefixProvider *dpp, std::map&lt; std::string, std::string &gt; &amp;headers, ceph::real_time &amp;mtime)</div><div class="ttdef"><b>Definition</b> <a href="rgw__lc__tier_8cc_source.html#l00291">rgw_lc_tier.cc:291</a></div></div>
<div class="ttc" id="argw__lc__tier_8cc_html_a13867e0190d6ba39f79eae9b639818b2"><div class="ttname"><a href="rgw__lc__tier_8cc.html#a13867e0190d6ba39f79eae9b639818b2">cloud_tier_get_object</a></div><div class="ttdeci">static int cloud_tier_get_object(RGWLCCloudTierCtx &amp;tier_ctx, bool head, std::map&lt; std::string, std::string &gt; &amp;headers)</div><div class="ttdef"><b>Definition</b> <a href="rgw__lc__tier_8cc_source.html#l00237">rgw_lc_tier.cc:237</a></div></div>
<div class="ttc" id="astruct_r_g_w_l_c_cloud_tier_ctx_html_a679e2551051f8c0fda753bc1bc6db7cc"><div class="ttname"><a href="struct_r_g_w_l_c_cloud_tier_ctx.html#a679e2551051f8c0fda753bc1bc6db7cc">RGWLCCloudTierCtx::obj</a></div><div class="ttdeci">rgw::sal::Object * obj</div><div class="ttdef"><b>Definition</b> <a href="rgw__lc__tier_8h_source.html#l00027">rgw_lc_tier.h:27</a></div></div>
<div class="ttc" id="astruct_r_g_w_l_c_cloud_tier_ctx_html_ac7696914982b184b5a468f23791d91a6"><div class="ttname"><a href="struct_r_g_w_l_c_cloud_tier_ctx.html#ac7696914982b184b5a468f23791d91a6">RGWLCCloudTierCtx::o</a></div><div class="ttdeci">rgw_bucket_dir_entry &amp; o</div><div class="ttdef"><b>Definition</b> <a href="rgw__lc__tier_8h_source.html#l00022">rgw_lc_tier.h:22</a></div></div>
</div><!-- fragment --><div class="dynheader">
이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="rgw__lc__tier_8cc_a2cf3fcb693fce2e948055ee3e01bfb5b_cgraph.png" border="0" usemap="#argw__lc__tier_8cc_a2cf3fcb693fce2e948055ee3e01bfb5b_cgraph" alt=""/></div>
<map name="argw__lc__tier_8cc_a2cf3fcb693fce2e948055ee3e01bfb5b_cgraph" id="argw__lc__tier_8cc_a2cf3fcb693fce2e948055ee3e01bfb5b_cgraph">
<area shape="rect" title=" " alt="" coords="5,433,167,460"/>
<area shape="rect" href="rgw__lc__tier_8cc.html#a13867e0190d6ba39f79eae9b639818b2" title=" " alt="" coords="215,357,359,384"/>
<area shape="poly" title=" " alt="" coords="123,430,234,388,236,393,125,435"/>
<area shape="rect" href="rgw__lc__tier_8cc.html#a08a23ca5c5c5a005d592ea4e4b228862" title=" " alt="" coords="227,459,347,485"/>
<area shape="poly" title=" " alt="" coords="167,454,212,460,211,465,166,459"/>
<area shape="rect" href="class_r_g_w_r_e_s_t_conn.html#a2316b6676a813928a2caf6dadc445c8f" title=" " alt="" coords="407,224,585,267"/>
<area shape="poly" title=" " alt="" coords="301,355,346,317,406,276,415,271,418,276,408,281,349,321,305,359"/>
<area shape="rect" href="classrgw_1_1sal_1_1_store.html#a3308ce50125b19ccdf5ce7f69958bd67" title=" " alt="" coords="431,291,562,333"/>
<area shape="poly" title=" " alt="" coords="336,354,415,332,416,337,338,359"/>
<area shape="rect" href="classrgw_1_1sal_1_1_object.html#af492ef7b108fe3b0045349261ba80c3c" title=" " alt="" coords="413,357,579,384"/>
<area shape="poly" title=" " alt="" coords="359,368,398,368,398,373,359,373"/>
<area shape="rect" href="rgw__lc__tier_8cc.html#aea4258058a85e5b1179ec1dba3054041" title=" " alt="" coords="435,408,558,435"/>
<area shape="poly" title=" " alt="" coords="346,382,424,401,423,406,345,387"/>
<area shape="rect" href="classrgw_1_1sal_1_1_object.html#aa4a801a7e7dfbb29ccf622603dee6ae3" title=" " alt="" coords="408,459,585,485"/>
<area shape="poly" title=" " alt="" coords="308,382,352,413,408,444,425,451,423,456,406,449,349,418,305,387"/>
<area shape="rect" href="class_r_g_w_r_e_s_t_conn.html#af03a1214e15aa9729d5c59fc2543079b" title=" " alt="" coords="413,173,580,200"/>
<area shape="poly" title=" " alt="" coords="292,355,333,286,366,245,405,210,414,205,417,209,409,214,370,249,337,289,297,358"/>
<area shape="rect" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5" title=" " alt="" coords="699,463,742,489"/>
<area shape="poly" title=" " alt="" coords="572,198,587,210,605,234,615,258,618,281,617,304,617,351,623,376,636,403,660,431,688,454,685,458,656,435,631,405,618,378,612,352,612,304,612,281,609,259,601,237,583,214,569,203"/>
<area shape="rect" href="classrgw_1_1sal_1_1_object.html#aa6e4eac7bc3684c96e95b184ed54b0b2" title=" " alt="" coords="651,56,790,99"/>
<area shape="poly" title=" " alt="" coords="519,170,570,141,632,108,645,103,647,107,634,113,573,145,521,175"/>
<area shape="rect" href="class_r_g_w_env.html#a602b05b4518e49e23e4ecb22dbebbcaa" title=" " alt="" coords="654,123,787,149"/>
<area shape="poly" title=" " alt="" coords="558,170,643,151,644,156,559,175"/>
<area shape="rect" href="classrgw_1_1sal_1_1_object.html#a770aa088f13a4a4063055cc423de4478" title=" " alt="" coords="639,173,802,200"/>
<area shape="poly" title=" " alt="" coords="580,184,624,184,624,189,580,189"/>
<area shape="rect" href="class_r_g_w_r_e_s_t_conn.html#ac833f895cae6760d02b776c2a597f02d" title=" " alt="" coords="638,248,803,275"/>
<area shape="poly" title=" " alt="" coords="549,198,586,209,670,240,669,245,584,215,548,203"/>
<area shape="rect" href="class_r_g_w_r_e_s_t_conn.html#a919ee8e18b3c046e8b64029ab3427130" title=" " alt="" coords="633,299,808,341"/>
<area shape="poly" title=" " alt="" coords="566,198,587,210,604,229,612,248,620,266,635,285,640,288,636,292,631,289,615,269,607,250,600,232,584,214,564,203"/>
<area shape="rect" href="rgw__rest__conn_8cc.html#af8e281c6830ff0d27520b7e9e48ab0c5" title=" " alt="" coords="662,365,779,392"/>
<area shape="poly" title=" " alt="" coords="570,198,587,210,602,228,609,246,612,282,615,318,622,335,635,351,649,362,646,366,631,355,617,337,610,319,607,283,604,248,597,231,584,214,567,203"/>
<area shape="rect" href="rgw__rest__conn_8cc.html#aadb2f269beb4e57221fe9a16e36c1cdc" title=" " alt="" coords="678,5,763,32"/>
<area shape="poly" title=" " alt="" coords="505,171,554,109,590,73,632,42,662,28,664,33,635,46,594,77,558,113,509,175"/>
<area shape="rect" href="classrgw_1_1sal_1_1_bucket.html#a0fbf4f16a181a9f8d58d1d75fb8dff2d" title=" " alt="" coords="870,152,1040,179"/>
<area shape="poly" title=" " alt="" coords="802,177,854,172,855,177,802,182"/>
<area shape="rect" href="structrgw__obj.html#a244794360fcf52da4b630ae69f884c68" title=" " alt="" coords="867,203,1043,229"/>
<area shape="poly" title=" " alt="" coords="803,194,852,200,851,206,802,199"/>
<area shape="poly" title=" " alt="" coords="683,249,676,239,681,229,696,223,721,221,747,224,761,230,759,235,746,229,720,227,697,229,684,233,681,239,687,246"/>
<area shape="rect" href="class_r_g_w_r_e_s_t_conn.html#ae90bac8b6344ad9f172ce25c12cf82e9" title=" " alt="" coords="856,269,1054,296"/>
<area shape="poly" title=" " alt="" coords="808,303,851,296,852,302,809,309"/>
<area shape="rect" href="class_r_g_w_r_e_s_t_conn.html#a80208c730562921a2e3b4d9dde10855e" title=" " alt="" coords="868,320,1042,363"/>
<area shape="poly" title=" " alt="" coords="808,325,852,329,852,335,808,331"/>
<area shape="rect" href="structrgw__user.html#afd8a9e36c5a9f7773c13d903c3124e99" title=" " alt="" coords="1102,244,1219,271"/>
<area shape="poly" title=" " alt="" coords="1054,268,1086,264,1087,269,1055,273"/>
<area shape="rect" href="structrgw__user.html#af00f510d6a9ff0580d87ee46b274d96e" title=" " alt="" coords="1104,295,1218,321"/>
<area shape="poly" title=" " alt="" coords="1055,292,1088,296,1088,302,1054,298"/>
<area shape="poly" title=" " alt="" coords="342,483,407,495,496,500,585,495,684,481,684,486,586,500,496,505,407,500,341,489"/>
</map>
</div>
<div class="dynheader">
이 함수를 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="rgw__lc__tier_8cc_a2cf3fcb693fce2e948055ee3e01bfb5b_icgraph.png" border="0" usemap="#argw__lc__tier_8cc_a2cf3fcb693fce2e948055ee3e01bfb5b_icgraph" alt=""/></div>
<map name="argw__lc__tier_8cc_a2cf3fcb693fce2e948055ee3e01bfb5b_icgraph" id="argw__lc__tier_8cc_a2cf3fcb693fce2e948055ee3e01bfb5b_icgraph">
<area shape="rect" title=" " alt="" coords="418,13,579,40"/>
<area shape="rect" href="rgw__lc__tier_8cc.html#a2906f85e3121b2099d65e0f9047553e9" title=" " alt="" coords="216,5,370,48"/>
<area shape="poly" title=" " alt="" coords="402,29,370,29,370,24,402,24"/>
<area shape="rect" href="class_l_c_op_action___transition.html#a11d3ae78bd110a735d53bb533e68b59b" title=" " alt="" coords="5,5,168,48"/>
<area shape="poly" title=" " alt="" coords="200,29,168,29,168,24,200,24"/>
</map>
</div>

</div>
</div>
<a id="a14cca91b5600848ab8a3726b6e01a7cf" name="a14cca91b5600848ab8a3726b6e01a7cf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a14cca91b5600848ab8a3726b6e01a7cf">&#9670;&#160;</a></span>cloud_tier_complete_multipart()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int cloud_tier_complete_multipart </td>
          <td>(</td>
          <td class="paramtype">const DoutPrefixProvider *&#160;</td>
          <td class="paramname"><em>dpp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_r_g_w_r_e_s_t_conn.html">RGWRESTConn</a> &amp;&#160;</td>
          <td class="paramname"><em>dest_conn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structrgw__obj.html">rgw_obj</a> &amp;&#160;</td>
          <td class="paramname"><em>dest_obj</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::string &amp;&#160;</td>
          <td class="paramname"><em>upload_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::map&lt; int, <a class="el" href="structrgw__lc__multipart__part__info.html">rgw_lc_multipart_part_info</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>parts</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition"><a class="el" href="rgw__lc__tier_8cc_source.html">rgw_lc_tier.cc</a> 파일의 <a class="el" href="rgw__lc__tier_8cc_source.html#l00961">961</a> 번째 라인에서 정의되었습니다.</p>
<div class="fragment"><div class="line"><span class="lineno">  964</span>                                                            {</div>
<div class="line"><span class="lineno">  965</span>  <a class="code hl_struct" href="structrgw__http__param__pair.html">rgw_http_param_pair</a> params[] = { { <span class="stringliteral">&quot;uploadId&quot;</span>, upload_id.c_str() }, {<span class="keyword">nullptr</span>, <span class="keyword">nullptr</span>} };</div>
<div class="line"><span class="lineno">  966</span> </div>
<div class="line"><span class="lineno">  967</span>  stringstream ss;</div>
<div class="line"><span class="lineno">  968</span>  XMLFormatter formatter;</div>
<div class="line"><span class="lineno">  969</span>  <span class="keywordtype">int</span> ret;</div>
<div class="line"><span class="lineno">  970</span> </div>
<div class="line"><span class="lineno">  971</span>  bufferlist bl, out_bl;</div>
<div class="line"><span class="lineno">  972</span>  <span class="keywordtype">string</span> resource = <a class="code hl_function" href="rgw__lc__tier_8cc.html#a93e85f685511afc70138260718b4f759">obj_to_aws_path</a>(dest_obj);</div>
<div class="line"><span class="lineno">  973</span> </div>
<div class="line"><span class="lineno">  974</span>  <span class="keyword">struct </span>CompleteMultipartReq {</div>
<div class="line"><span class="lineno">  975</span>    std::map&lt;int, rgw_lc_multipart_part_info&gt; parts;</div>
<div class="line"><span class="lineno">  976</span> </div>
<div class="line"><span class="lineno">  977</span>    <span class="keyword">explicit</span> CompleteMultipartReq(<span class="keyword">const</span> std::map&lt;int, rgw_lc_multipart_part_info&gt;&amp; _parts) : parts(_parts) {}</div>
<div class="line"><span class="lineno">  978</span> </div>
<div class="line"><span class="lineno">  979</span>    <span class="keywordtype">void</span> dump_xml(Formatter *f)<span class="keyword"> const </span>{</div>
<div class="line"><span class="lineno">  980</span>      <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span>&amp; p : parts) {</div>
<div class="line"><span class="lineno">  981</span>        f-&gt;open_object_section(<span class="stringliteral">&quot;Part&quot;</span>);</div>
<div class="line"><span class="lineno">  982</span>        <a class="code hl_function" href="rgw__basic__types_8cc.html#a0a8bb5599abd436eaa39a31634f1f5e3">encode_xml</a>(<span class="stringliteral">&quot;PartNumber&quot;</span>, p.first, f);</div>
<div class="line"><span class="lineno">  983</span>        <a class="code hl_function" href="rgw__basic__types_8cc.html#a0a8bb5599abd436eaa39a31634f1f5e3">encode_xml</a>(<span class="stringliteral">&quot;ETag&quot;</span>, p.second.etag, f);</div>
<div class="line"><span class="lineno">  984</span>        f-&gt;close_section();</div>
<div class="line"><span class="lineno">  985</span>      };</div>
<div class="line"><span class="lineno">  986</span>    }</div>
<div class="line"><span class="lineno">  987</span>  } req_enc(parts);</div>
<div class="line"><span class="lineno">  988</span> </div>
<div class="line"><span class="lineno">  989</span>  <span class="keyword">struct </span>CompleteMultipartResult {</div>
<div class="line"><span class="lineno">  990</span>    std::string location;</div>
<div class="line"><span class="lineno">  991</span>    std::string bucket;</div>
<div class="line"><span class="lineno">  992</span>    std::string key;</div>
<div class="line"><span class="lineno">  993</span>    std::string etag;</div>
<div class="line"><span class="lineno">  994</span> </div>
<div class="line"><span class="lineno">  995</span>    <span class="keywordtype">void</span> <a class="code hl_function" href="namespace_r_g_w_x_m_l_decoder.html#afd109a7a9a8e6466d3365860e0b2426f">decode_xml</a>(<a class="code hl_class" href="class_x_m_l_obj.html">XMLObj</a> *obj) {</div>
<div class="line"><span class="lineno">  996</span>      <a class="code hl_function" href="namespace_r_g_w_x_m_l_decoder.html#afd109a7a9a8e6466d3365860e0b2426f">RGWXMLDecoder::decode_xml</a>(<span class="stringliteral">&quot;Location&quot;</span>, bucket, obj);</div>
<div class="line"><span class="lineno">  997</span>      <a class="code hl_function" href="namespace_r_g_w_x_m_l_decoder.html#afd109a7a9a8e6466d3365860e0b2426f">RGWXMLDecoder::decode_xml</a>(<span class="stringliteral">&quot;Bucket&quot;</span>, bucket, obj);</div>
<div class="line"><span class="lineno">  998</span>      <a class="code hl_function" href="namespace_r_g_w_x_m_l_decoder.html#afd109a7a9a8e6466d3365860e0b2426f">RGWXMLDecoder::decode_xml</a>(<span class="stringliteral">&quot;Key&quot;</span>, key, obj);</div>
<div class="line"><span class="lineno">  999</span>      <a class="code hl_function" href="namespace_r_g_w_x_m_l_decoder.html#afd109a7a9a8e6466d3365860e0b2426f">RGWXMLDecoder::decode_xml</a>(<span class="stringliteral">&quot;ETag&quot;</span>, etag, obj);</div>
<div class="line"><span class="lineno"> 1000</span>    }</div>
<div class="line"><span class="lineno"> 1001</span>  } result;</div>
<div class="line"><span class="lineno"> 1002</span> </div>
<div class="line"><span class="lineno"> 1003</span>  <a class="code hl_function" href="rgw__basic__types_8cc.html#a0a8bb5599abd436eaa39a31634f1f5e3">encode_xml</a>(<span class="stringliteral">&quot;CompleteMultipartUpload&quot;</span>, req_enc, &amp;formatter);</div>
<div class="line"><span class="lineno"> 1004</span> </div>
<div class="line"><span class="lineno"> 1005</span>  formatter.flush(ss);</div>
<div class="line"><span class="lineno"> 1006</span>  bl.append(ss.str());</div>
<div class="line"><span class="lineno"> 1007</span> </div>
<div class="line"><span class="lineno"> 1008</span>  ret = dest_conn.<a class="code hl_function" href="class_r_g_w_r_e_s_t_conn.html#a8423ed928e48e2ac23b4fb57de2792d3">send_resource</a>(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>, <span class="stringliteral">&quot;POST&quot;</span>, resource, params, <span class="keyword">nullptr</span>,</div>
<div class="line"><span class="lineno"> 1009</span>      out_bl, &amp;bl, <span class="keyword">nullptr</span>, null_yield);</div>
<div class="line"><span class="lineno"> 1010</span> </div>
<div class="line"><span class="lineno"> 1011</span> </div>
<div class="line"><span class="lineno"> 1012</span>  <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno"> 1013</span>    ldpp_dout(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>, 0) &lt;&lt; <span class="stringliteral">&quot;ERROR: failed to complete multipart upload for dest object=&quot;</span> &lt;&lt; dest_obj &lt;&lt; dendl;</div>
<div class="line"><span class="lineno"> 1014</span>    <span class="keywordflow">return</span> ret;</div>
<div class="line"><span class="lineno"> 1015</span>  }</div>
<div class="line"><span class="lineno"> 1016</span>  <span class="comment">/*</span></div>
<div class="line"><span class="lineno"> 1017</span><span class="comment">   * If one of the following fails we cannot abort upload, as we cannot</span></div>
<div class="line"><span class="lineno"> 1018</span><span class="comment">   * extract the upload id. If one of these fail it&#39;s very likely that that&#39;s</span></div>
<div class="line"><span class="lineno"> 1019</span><span class="comment">   * the least of our problem.</span></div>
<div class="line"><span class="lineno"> 1020</span><span class="comment">   */</span></div>
<div class="line"><span class="lineno"> 1021</span>  <a class="code hl_class" href="class_r_g_w_x_m_l_parser.html">RGWXMLDecoder::XMLParser</a> parser;</div>
<div class="line"><span class="lineno"> 1022</span>  <span class="keywordflow">if</span> (!parser.<a class="code hl_function" href="class_r_g_w_x_m_l_parser.html#ad5cf8ac16b134a9269ade6a2d0072a64">init</a>()) {</div>
<div class="line"><span class="lineno"> 1023</span>    ldpp_dout(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>, 0) &lt;&lt; <span class="stringliteral">&quot;ERROR: failed to initialize xml parser for parsing multipart init response from server&quot;</span> &lt;&lt; dendl;</div>
<div class="line"><span class="lineno"> 1024</span>    <span class="keywordflow">return</span> -EIO;</div>
<div class="line"><span class="lineno"> 1025</span>  }</div>
<div class="line"><span class="lineno"> 1026</span> </div>
<div class="line"><span class="lineno"> 1027</span>  <span class="keywordflow">if</span> (!parser.<a class="code hl_function" href="class_r_g_w_x_m_l_parser.html#a4e20926588ef848ab1b68a29e79e91e8">parse</a>(out_bl.c_str(), out_bl.length(), 1)) {</div>
<div class="line"><span class="lineno"> 1028</span>    <span class="keywordtype">string</span> str(out_bl.c_str(), out_bl.length());</div>
<div class="line"><span class="lineno"> 1029</span>    ldpp_dout(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>, 5) &lt;&lt; <span class="stringliteral">&quot;ERROR: failed to parse xml Completemultipart: &quot;</span> &lt;&lt; str &lt;&lt; dendl;</div>
<div class="line"><span class="lineno"> 1030</span>    <span class="keywordflow">return</span> -EIO;</div>
<div class="line"><span class="lineno"> 1031</span>  }</div>
<div class="line"><span class="lineno"> 1032</span> </div>
<div class="line"><span class="lineno"> 1033</span>  <span class="keywordflow">try</span> {</div>
<div class="line"><span class="lineno"> 1034</span>    <a class="code hl_function" href="namespace_r_g_w_x_m_l_decoder.html#afd109a7a9a8e6466d3365860e0b2426f">RGWXMLDecoder::decode_xml</a>(<span class="stringliteral">&quot;CompleteMultipartUploadResult&quot;</span>, result, &amp;parser, <span class="keyword">true</span>);</div>
<div class="line"><span class="lineno"> 1035</span>  } <span class="keywordflow">catch</span> (<a class="code hl_struct" href="struct_r_g_w_x_m_l_decoder_1_1err.html">RGWXMLDecoder::err</a>&amp; err) {</div>
<div class="line"><span class="lineno"> 1036</span>    <span class="keywordtype">string</span> str(out_bl.c_str(), out_bl.length());</div>
<div class="line"><span class="lineno"> 1037</span>    ldpp_dout(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>, 5) &lt;&lt; <span class="stringliteral">&quot;ERROR: unexpected xml: &quot;</span> &lt;&lt; str &lt;&lt; dendl;</div>
<div class="line"><span class="lineno"> 1038</span>    <span class="keywordflow">return</span> -EIO;</div>
<div class="line"><span class="lineno"> 1039</span>  }</div>
<div class="line"><span class="lineno"> 1040</span> </div>
<div class="line"><span class="lineno"> 1041</span>  ldpp_dout(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>, 20) &lt;&lt; <span class="stringliteral">&quot;complete multipart result: location=&quot;</span> &lt;&lt; result.location &lt;&lt; <span class="stringliteral">&quot; bucket=&quot;</span> &lt;&lt; result.bucket &lt;&lt; <span class="stringliteral">&quot; key=&quot;</span> &lt;&lt; result.key &lt;&lt; <span class="stringliteral">&quot; etag=&quot;</span> &lt;&lt; result.etag &lt;&lt; dendl;</div>
<div class="line"><span class="lineno"> 1042</span> </div>
<div class="line"><span class="lineno"> 1043</span>  <span class="keywordflow">return</span> ret;</div>
<div class="line"><span class="lineno"> 1044</span>}</div>
<div class="ttc" id="aclass_r_g_w_x_m_l_parser_html"><div class="ttname"><a href="class_r_g_w_x_m_l_parser.html">RGWXMLParser</a></div><div class="ttdef"><b>Definition</b> <a href="rgw__xml_8h_source.html#l00099">rgw_xml.h:100</a></div></div>
<div class="ttc" id="aclass_r_g_w_x_m_l_parser_html_a4e20926588ef848ab1b68a29e79e91e8"><div class="ttname"><a href="class_r_g_w_x_m_l_parser.html#a4e20926588ef848ab1b68a29e79e91e8">RGWXMLParser::parse</a></div><div class="ttdeci">bool parse(const char *buf, int len, int done)</div><div class="ttdef"><b>Definition</b> <a href="rgw__xml_8cc_source.html#l00225">rgw_xml.cc:225</a></div></div>
<div class="ttc" id="aclass_r_g_w_x_m_l_parser_html_ad5cf8ac16b134a9269ade6a2d0072a64"><div class="ttname"><a href="class_r_g_w_x_m_l_parser.html#ad5cf8ac16b134a9269ade6a2d0072a64">RGWXMLParser::init</a></div><div class="ttdeci">bool init()</div><div class="ttdef"><b>Definition</b> <a href="rgw__xml_8cc_source.html#l00213">rgw_xml.cc:213</a></div></div>
<div class="ttc" id="aclass_x_m_l_obj_html"><div class="ttname"><a href="class_x_m_l_obj.html">XMLObj</a></div><div class="ttdef"><b>Definition</b> <a href="rgw__xml_8h_source.html#l00039">rgw_xml.h:40</a></div></div>
<div class="ttc" id="anamespace_r_g_w_x_m_l_decoder_html_afd109a7a9a8e6466d3365860e0b2426f"><div class="ttname"><a href="namespace_r_g_w_x_m_l_decoder.html#afd109a7a9a8e6466d3365860e0b2426f">RGWXMLDecoder::decode_xml</a></div><div class="ttdeci">bool decode_xml(const char *name, T &amp;val, XMLObj *obj, bool mandatory=false)</div><div class="ttdef"><b>Definition</b> <a href="rgw__xml_8h_source.html#l00218">rgw_xml.h:218</a></div></div>
<div class="ttc" id="argw__basic__types_8cc_html_a0a8bb5599abd436eaa39a31634f1f5e3"><div class="ttname"><a href="rgw__basic__types_8cc.html#a0a8bb5599abd436eaa39a31634f1f5e3">encode_xml</a></div><div class="ttdeci">void encode_xml(const char *name, const rgw_user &amp;val, Formatter *f)</div><div class="ttdef"><b>Definition</b> <a href="rgw__basic__types_8cc_source.html#l00033">rgw_basic_types.cc:33</a></div></div>
<div class="ttc" id="astruct_r_g_w_x_m_l_decoder_1_1err_html"><div class="ttname"><a href="struct_r_g_w_x_m_l_decoder_1_1err.html">RGWXMLDecoder::err</a></div><div class="ttdef"><b>Definition</b> <a href="rgw__xml_8h_source.html#l00149">rgw_xml.h:149</a></div></div>
</div><!-- fragment --><div class="dynheader">
이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="rgw__lc__tier_8cc_a14cca91b5600848ab8a3726b6e01a7cf_cgraph.png" border="0" usemap="#argw__lc__tier_8cc_a14cca91b5600848ab8a3726b6e01a7cf_cgraph" alt=""/></div>
<map name="argw__lc__tier_8cc_a14cca91b5600848ab8a3726b6e01a7cf_cgraph" id="argw__lc__tier_8cc_a14cca91b5600848ab8a3726b6e01a7cf_cgraph">
<area shape="rect" title=" " alt="" coords="5,563,143,605"/>
<area shape="rect" href="namespace_r_g_w_x_m_l_decoder.html#afd109a7a9a8e6466d3365860e0b2426f" title=" " alt="" coords="194,81,398,108"/>
<area shape="poly" title=" " alt="" coords="75,562,84,495,104,398,138,290,161,237,188,186,222,146,259,115,263,119,226,150,193,190,166,239,143,292,109,400,89,496,80,562"/>
<area shape="rect" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5" title=" " alt="" coords="1001,915,1043,941"/>
<area shape="poly" title=" " alt="" coords="143,597,191,607,548,650,768,682,849,699,896,716,920,735,941,758,975,807,999,858,1015,899,1010,901,994,860,970,810,937,761,916,739,893,721,848,704,767,688,547,656,190,612,142,602"/>
<area shape="rect" href="rgw__basic__types_8cc.html#a0a8bb5599abd436eaa39a31634f1f5e3" title=" " alt="" coords="250,224,342,251"/>
<area shape="poly" title=" " alt="" coords="83,561,126,473,188,364,230,307,270,261,274,264,234,311,193,367,130,476,88,563"/>
<area shape="rect" href="class_r_g_w_x_m_l_parser.html#ad5cf8ac16b134a9269ade6a2d0072a64" title=" " alt="" coords="225,377,367,404"/>
<area shape="poly" title=" " alt="" coords="98,560,266,413,269,417,102,564"/>
<area shape="rect" href="rgw__lc__tier_8cc.html#a93e85f685511afc70138260718b4f759" title=" " alt="" coords="237,571,355,597"/>
<area shape="poly" title=" " alt="" coords="143,581,221,581,221,587,143,587"/>
<area shape="rect" href="class_r_g_w_x_m_l_parser.html#a4e20926588ef848ab1b68a29e79e91e8" title=" " alt="" coords="218,731,374,757"/>
<area shape="poly" title=" " alt="" coords="92,604,133,657,161,686,192,710,217,722,215,727,189,714,157,690,129,661,87,608"/>
<area shape="rect" href="class_r_g_w_r_e_s_t_conn.html#a8423ed928e48e2ac23b4fb57de2792d3" title=" " alt="" coords="191,856,401,883"/>
<area shape="poly" title=" " alt="" coords="89,604,131,679,193,768,231,809,268,844,265,848,227,813,189,771,127,682,84,607"/>
<area shape="rect" href="rgw__xml_8h.html#a1512966c3f0c8cf0ea07adbfb90d7fd8" title=" " alt="" coords="491,5,606,32"/>
<area shape="poly" title=" " alt="" coords="335,78,448,41,475,34,477,39,450,47,337,83"/>
<area shape="rect" href="class_x_m_l_obj.html#a97256c1a1fe4c0b1fb7f422ed6ac30f3" title=" " alt="" coords="502,56,596,83"/>
<area shape="poly" title=" " alt="" coords="398,82,485,73,486,78,399,87"/>
<area shape="rect" href="class_x_m_l_obj_iter.html#a3a22d90225f573459c9c5afc925eceb3" title=" " alt="" coords="478,107,620,133"/>
<area shape="poly" title=" " alt="" coords="399,102,462,109,461,114,398,108"/>
<area shape="rect" href="class_x_m_l_obj_iter.html#a930f9d8fc441b9fee57a9eacb5056e73" title=" " alt="" coords="740,56,851,83"/>
<area shape="poly" title=" " alt="" coords="596,67,725,67,725,72,596,72"/>
<area shape="poly" title=" " alt="" coords="258,225,252,215,256,205,271,199,296,197,322,200,336,206,334,211,321,205,296,203,273,205,260,209,257,215,263,222"/>
<area shape="rect" href="structrgw__user.html#af00f510d6a9ff0580d87ee46b274d96e" title=" " alt="" coords="965,368,1079,395"/>
<area shape="poly" title=" " alt="" coords="330,221,431,187,500,169,576,155,657,147,739,149,820,164,859,177,896,194,919,209,939,227,973,270,998,315,1014,353,1009,355,993,317,969,273,935,231,916,213,893,198,857,182,819,169,739,155,657,153,577,160,501,174,433,192,332,226"/>
<area shape="rect" href="class_r_g_w_x_m_l_parser.html#a9158068a148005dc85110a7a05fefd02" title=" " alt="" coords="477,251,621,293"/>
<area shape="poly" title=" " alt="" coords="323,374,448,312,481,297,483,302,450,317,325,379"/>
<area shape="rect" href="class_r_g_w_x_m_l_parser.html#a543b357ac6cc4df349a538f48f903bf5" title=" " alt="" coords="477,327,621,369"/>
<area shape="poly" title=" " alt="" coords="366,376,461,360,462,365,367,381"/>
<area shape="rect" href="class_r_g_w_x_m_l_parser.html#aa733447e36337bf43cebf65c4cd706b8" title=" " alt="" coords="477,403,621,445"/>
<area shape="poly" title=" " alt="" coords="367,397,461,410,460,415,366,403"/>
<area shape="rect" href="class_x_m_l_obj.html#a67225287f3e7f7e2a70fbd912ea83a52" title=" " alt="" coords="728,208,863,235"/>
<area shape="poly" title=" " alt="" coords="621,255,712,236,713,241,622,260"/>
<area shape="rect" href="class_x_m_l_obj.html#a04cda6857ea35269c1f977e1dac49ab7" title=" " alt="" coords="734,259,857,285"/>
<area shape="poly" title=" " alt="" coords="621,269,718,269,718,275,621,275"/>
<area shape="rect" href="class_x_m_l_obj.html#a2650f73dc3e4e97f0876491af9072175" title=" " alt="" coords="709,309,882,336"/>
<area shape="poly" title=" " alt="" coords="621,338,694,330,694,336,622,343"/>
<area shape="rect" href="class_x_m_l_obj.html#a722edbc56c148af8512965c9ea031dd5" title=" " alt="" coords="731,461,860,488"/>
<area shape="poly" title=" " alt="" coords="622,436,716,456,715,461,621,441"/>
<area shape="rect" href="class_r_g_w_x_m_l_parser.html#a2d9754ab36520fe48d4558f8f5900c2d" title=" " alt="" coords="708,512,883,539"/>
<area shape="poly" title=" " alt="" coords="587,443,639,471,697,498,718,505,716,510,695,502,636,476,585,448"/>
<area shape="rect" href="class_x_m_l_obj.html#a69de7cf613ab0259396c2eecddc0c9b7" title=" " alt="" coords="731,360,860,387"/>
<area shape="poly" title=" " alt="" coords="621,407,715,387,716,392,622,412"/>
<area shape="rect" href="class_x_m_l_obj.html#a54469a1b31d2623718d274dea3699fbc" title=" " alt="" coords="736,411,855,437"/>
<area shape="poly" title=" " alt="" coords="621,421,721,421,721,427,621,427"/>
<area shape="rect" href="rgw__lc__tier_8cc.html#a63abc6bf9cc9fb36ee499c732b4d99de" title=" " alt="" coords="503,571,594,597"/>
<area shape="poly" title=" " alt="" coords="355,581,487,581,487,587,355,587"/>
<area shape="rect" href="structrgw__obj__key.html#abbd337f0dc4c9396c885b3bf7e6da7bf" title=" " alt="" coords="718,563,873,605"/>
<area shape="poly" title=" " alt="" coords="595,581,703,581,703,587,595,587"/>
<area shape="poly" title=" " alt="" coords="351,881,449,900,605,915,759,923,985,926,985,931,759,929,605,921,449,905,350,886"/>
<area shape="rect" href="class_r_g_w_h_t_t_p_stream_r_w_request.html#a28de0acc4dc43fc97efbfc4a6ba82c43" title=" " alt="" coords="450,965,647,1008"/>
<area shape="poly" title=" " alt="" coords="324,881,450,944,478,957,476,962,448,949,321,886"/>
<area shape="rect" href="class_r_g_w_r_e_s_t_conn.html#ac833f895cae6760d02b776c2a597f02d" title=" " alt="" coords="467,1056,631,1083"/>
<area shape="poly" title=" " alt="" coords="311,881,367,945,407,983,451,1018,501,1047,498,1051,447,1022,404,987,364,948,307,885"/>
<area shape="rect" href="rgw__rest__conn_8h.html#aa14583ec12a68d63cf797488bb75ec5c" title=" " alt="" coords="489,797,609,824"/>
<area shape="poly" title=" " alt="" coords="356,853,472,825,474,831,357,858"/>
<area shape="rect" href="class_r_g_w_r_e_s_t_conn.html#a919ee8e18b3c046e8b64029ab3427130" title=" " alt="" coords="462,731,636,773"/>
<area shape="poly" title=" " alt="" coords="318,853,376,819,448,783,462,777,464,782,450,788,378,824,321,858"/>
<area shape="rect" href="class_r_g_w_r_e_s_t_stream_r_w_request.html#ac991b0ba9e3086ee97283a7d26abdfb3" title=" " alt="" coords="449,848,648,891"/>
<area shape="poly" title=" " alt="" coords="401,867,433,867,433,872,401,872"/>
<area shape="rect" href="rgw__rest__client_8cc.html#afe35f1027a22ea12c1e9d5479572cafa" title=" " alt="" coords="730,965,861,992"/>
<area shape="poly" title=" " alt="" coords="648,981,715,979,715,984,648,986"/>
<area shape="rect" href="rgw__rest__client_8cc.html#ab4f60e826eb9d1f1c246a8dc52a1d1f6" title=" " alt="" coords="722,1016,869,1043"/>
<area shape="poly" title=" " alt="" coords="648,1001,707,1011,706,1017,647,1006"/>
<area shape="rect" href="class_r_g_w_h_t_t_p_client.html#a7d489c6689cd946b572415111b0c97b5" title=" " alt="" coords="721,1067,870,1093"/>
<area shape="poly" title=" " alt="" coords="624,1006,650,1018,674,1035,698,1052,713,1059,711,1064,695,1057,671,1040,647,1022,622,1011"/>
<area shape="poly" title=" " alt="" coords="858,962,985,933,986,939,859,967"/>
<area shape="rect" href="structrgw__http__req__data.html#a2cb0db213911deffc4b43a81a37098b5" title=" " alt="" coords="943,1067,1101,1093"/>
<area shape="poly" title=" " alt="" coords="871,1077,927,1077,927,1083,871,1083"/>
<area shape="rect" href="structrgw__http__req__data.html#a5d6962235aabed5aabe98213b486ccb1" title=" " alt="" coords="1149,1059,1284,1101"/>
<area shape="poly" title=" " alt="" coords="1101,1077,1134,1077,1134,1083,1101,1083"/>
<area shape="poly" title=" " alt="" coords="507,1057,500,1047,505,1037,522,1031,549,1029,578,1032,594,1039,592,1044,577,1037,549,1035,523,1037,508,1041,505,1047,512,1054"/>
<area shape="rect" href="rgw__rest__conn_8h.html#a1df0923b4723e3b3f42709b425eb0215" title=" " alt="" coords="730,797,861,824"/>
<area shape="poly" title=" " alt="" coords="609,808,715,808,715,813,609,813"/>
<area shape="rect" href="class_r_g_w_r_e_s_t_conn.html#ae90bac8b6344ad9f172ce25c12cf82e9" title=" " alt="" coords="696,629,895,656"/>
<area shape="poly" title=" " alt="" coords="598,728,749,660,751,665,600,733"/>
<area shape="rect" href="class_r_g_w_r_e_s_t_conn.html#a80208c730562921a2e3b4d9dde10855e" title=" " alt="" coords="708,731,883,773"/>
<area shape="poly" title=" " alt="" coords="636,749,693,749,693,755,636,755"/>
<area shape="poly" title=" " alt="" coords="874,626,893,615,917,593,938,567,972,511,996,455,1011,409,1016,411,1001,457,977,513,943,570,921,597,896,619,877,631"/>
<area shape="rect" href="structrgw__user.html#afd8a9e36c5a9f7773c13d903c3124e99" title=" " alt="" coords="963,629,1081,656"/>
<area shape="poly" title=" " alt="" coords="895,640,948,640,948,645,895,645"/>
</map>
</div>
<div class="dynheader">
이 함수를 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="rgw__lc__tier_8cc_a14cca91b5600848ab8a3726b6e01a7cf_icgraph.png" border="0" usemap="#argw__lc__tier_8cc_a14cca91b5600848ab8a3726b6e01a7cf_icgraph" alt=""/></div>
<map name="argw__lc__tier_8cc_a14cca91b5600848ab8a3726b6e01a7cf_icgraph" id="argw__lc__tier_8cc_a14cca91b5600848ab8a3726b6e01a7cf_icgraph">
<area shape="rect" title=" " alt="" coords="600,5,738,48"/>
<area shape="rect" href="rgw__lc__tier_8cc.html#a4fac4a9dcad607bf27557e0109f826b2" title=" " alt="" coords="418,5,552,48"/>
<area shape="poly" title=" " alt="" coords="585,29,552,29,552,24,585,24"/>
<area shape="rect" href="rgw__lc__tier_8cc.html#a2906f85e3121b2099d65e0f9047553e9" title=" " alt="" coords="216,5,370,48"/>
<area shape="poly" title=" " alt="" coords="402,29,371,29,371,24,402,24"/>
<area shape="rect" href="class_l_c_op_action___transition.html#a11d3ae78bd110a735d53bb533e68b59b" title=" " alt="" coords="5,5,168,48"/>
<area shape="poly" title=" " alt="" coords="200,29,168,29,168,24,200,24"/>
</map>
</div>

</div>
</div>
<a id="a9256577a99379ecd94234749f6b9b343" name="a9256577a99379ecd94234749f6b9b343"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9256577a99379ecd94234749f6b9b343">&#9670;&#160;</a></span>cloud_tier_create_bucket()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int cloud_tier_create_bucket </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_r_g_w_l_c_cloud_tier_ctx.html">RGWLCCloudTierCtx</a> &amp;&#160;</td>
          <td class="paramname"><em>tier_ctx</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition"><a class="el" href="rgw__lc__tier_8cc_source.html">rgw_lc_tier.cc</a> 파일의 <a class="el" href="rgw__lc__tier_8cc_source.html#l01229">1229</a> 번째 라인에서 정의되었습니다.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1229</span>                                                                 {</div>
<div class="line"><span class="lineno"> 1230</span>  bufferlist out_bl;</div>
<div class="line"><span class="lineno"> 1231</span>  <span class="keywordtype">int</span> ret = 0;</div>
<div class="line"><span class="lineno"> 1232</span>  pair&lt;string, string&gt; key(tier_ctx.<a class="code hl_variable" href="struct_r_g_w_l_c_cloud_tier_ctx.html#a35b52ef87ff86e8894687eed5a93e9e9">storage_class</a>, tier_ctx.<a class="code hl_variable" href="struct_r_g_w_l_c_cloud_tier_ctx.html#a6a3c18ecc5b2850180a938c6fd21d567">target_bucket_name</a>);</div>
<div class="line"><span class="lineno"> 1233</span>  <span class="keyword">struct </span>CreateBucketResult {</div>
<div class="line"><span class="lineno"> 1234</span>    std::string code;</div>
<div class="line"><span class="lineno"> 1235</span> </div>
<div class="line"><span class="lineno"> 1236</span>    <span class="keywordtype">void</span> <a class="code hl_function" href="namespace_r_g_w_x_m_l_decoder.html#afd109a7a9a8e6466d3365860e0b2426f">decode_xml</a>(<a class="code hl_class" href="class_x_m_l_obj.html">XMLObj</a> *obj) {</div>
<div class="line"><span class="lineno"> 1237</span>      <a class="code hl_function" href="namespace_r_g_w_x_m_l_decoder.html#afd109a7a9a8e6466d3365860e0b2426f">RGWXMLDecoder::decode_xml</a>(<span class="stringliteral">&quot;Code&quot;</span>, code, obj);</div>
<div class="line"><span class="lineno"> 1238</span>    }</div>
<div class="line"><span class="lineno"> 1239</span>  } result;</div>
<div class="line"><span class="lineno"> 1240</span> </div>
<div class="line"><span class="lineno"> 1241</span>  ldpp_dout(tier_ctx.<a class="code hl_variable" href="struct_r_g_w_l_c_cloud_tier_ctx.html#a10433e11720af1b72f2fec265ce02143">dpp</a>, 30) &lt;&lt; <span class="stringliteral">&quot;Cloud_tier_ctx: creating bucket:&quot;</span> &lt;&lt; tier_ctx.<a class="code hl_variable" href="struct_r_g_w_l_c_cloud_tier_ctx.html#a6a3c18ecc5b2850180a938c6fd21d567">target_bucket_name</a> &lt;&lt; dendl;</div>
<div class="line"><span class="lineno"> 1242</span>  bufferlist bl;</div>
<div class="line"><span class="lineno"> 1243</span>  <span class="keywordtype">string</span> resource = tier_ctx.<a class="code hl_variable" href="struct_r_g_w_l_c_cloud_tier_ctx.html#a6a3c18ecc5b2850180a938c6fd21d567">target_bucket_name</a>;</div>
<div class="line"><span class="lineno"> 1244</span> </div>
<div class="line"><span class="lineno"> 1245</span>  ret = tier_ctx.<a class="code hl_variable" href="struct_r_g_w_l_c_cloud_tier_ctx.html#af3287a0bb4c2ff1d3c49b458004722c8">conn</a>.<a class="code hl_function" href="class_r_g_w_r_e_s_t_conn.html#a8423ed928e48e2ac23b4fb57de2792d3">send_resource</a>(tier_ctx.<a class="code hl_variable" href="struct_r_g_w_l_c_cloud_tier_ctx.html#a10433e11720af1b72f2fec265ce02143">dpp</a>, <span class="stringliteral">&quot;PUT&quot;</span>, resource, <span class="keyword">nullptr</span>, <span class="keyword">nullptr</span>,</div>
<div class="line"><span class="lineno"> 1246</span>                                    out_bl, &amp;bl, <span class="keyword">nullptr</span>, null_yield);</div>
<div class="line"><span class="lineno"> 1247</span> </div>
<div class="line"><span class="lineno"> 1248</span>  <span class="keywordflow">if</span> (ret &lt; 0 ) {</div>
<div class="line"><span class="lineno"> 1249</span>    ldpp_dout(tier_ctx.<a class="code hl_variable" href="struct_r_g_w_l_c_cloud_tier_ctx.html#a10433e11720af1b72f2fec265ce02143">dpp</a>, 0) &lt;&lt; <span class="stringliteral">&quot;create target bucket : &quot;</span> &lt;&lt; tier_ctx.<a class="code hl_variable" href="struct_r_g_w_l_c_cloud_tier_ctx.html#a6a3c18ecc5b2850180a938c6fd21d567">target_bucket_name</a> &lt;&lt; <span class="stringliteral">&quot; returned ret:&quot;</span> &lt;&lt; ret &lt;&lt; dendl;</div>
<div class="line"><span class="lineno"> 1250</span>  }</div>
<div class="line"><span class="lineno"> 1251</span>  <span class="keywordflow">if</span> (out_bl.length() &gt; 0) {</div>
<div class="line"><span class="lineno"> 1252</span>    <a class="code hl_class" href="class_r_g_w_x_m_l_parser.html">RGWXMLDecoder::XMLParser</a> parser;</div>
<div class="line"><span class="lineno"> 1253</span>    <span class="keywordflow">if</span> (!parser.<a class="code hl_function" href="class_r_g_w_x_m_l_parser.html#ad5cf8ac16b134a9269ade6a2d0072a64">init</a>()) {</div>
<div class="line"><span class="lineno"> 1254</span>      ldpp_dout(tier_ctx.<a class="code hl_variable" href="struct_r_g_w_l_c_cloud_tier_ctx.html#a10433e11720af1b72f2fec265ce02143">dpp</a>, 0) &lt;&lt; <span class="stringliteral">&quot;ERROR: failed to initialize xml parser for parsing create_bucket response from server&quot;</span> &lt;&lt; dendl;</div>
<div class="line"><span class="lineno"> 1255</span>      <span class="keywordflow">return</span> -EIO;</div>
<div class="line"><span class="lineno"> 1256</span>    }</div>
<div class="line"><span class="lineno"> 1257</span> </div>
<div class="line"><span class="lineno"> 1258</span>    <span class="keywordflow">if</span> (!parser.<a class="code hl_function" href="class_r_g_w_x_m_l_parser.html#a4e20926588ef848ab1b68a29e79e91e8">parse</a>(out_bl.c_str(), out_bl.length(), 1)) {</div>
<div class="line"><span class="lineno"> 1259</span>      <span class="keywordtype">string</span> str(out_bl.c_str(), out_bl.length());</div>
<div class="line"><span class="lineno"> 1260</span>      ldpp_dout(tier_ctx.<a class="code hl_variable" href="struct_r_g_w_l_c_cloud_tier_ctx.html#a10433e11720af1b72f2fec265ce02143">dpp</a>, 5) &lt;&lt; <span class="stringliteral">&quot;ERROR: failed to parse xml createbucket: &quot;</span> &lt;&lt; str &lt;&lt; dendl;</div>
<div class="line"><span class="lineno"> 1261</span>      <span class="keywordflow">return</span> -EIO;</div>
<div class="line"><span class="lineno"> 1262</span>    }</div>
<div class="line"><span class="lineno"> 1263</span> </div>
<div class="line"><span class="lineno"> 1264</span>    <span class="keywordflow">try</span> {</div>
<div class="line"><span class="lineno"> 1265</span>      <a class="code hl_function" href="namespace_r_g_w_x_m_l_decoder.html#afd109a7a9a8e6466d3365860e0b2426f">RGWXMLDecoder::decode_xml</a>(<span class="stringliteral">&quot;Error&quot;</span>, result, &amp;parser, <span class="keyword">true</span>);</div>
<div class="line"><span class="lineno"> 1266</span>    } <span class="keywordflow">catch</span> (<a class="code hl_struct" href="struct_r_g_w_x_m_l_decoder_1_1err.html">RGWXMLDecoder::err</a>&amp; err) {</div>
<div class="line"><span class="lineno"> 1267</span>      <span class="keywordtype">string</span> str(out_bl.c_str(), out_bl.length());</div>
<div class="line"><span class="lineno"> 1268</span>      ldpp_dout(tier_ctx.<a class="code hl_variable" href="struct_r_g_w_l_c_cloud_tier_ctx.html#a10433e11720af1b72f2fec265ce02143">dpp</a>, 5) &lt;&lt; <span class="stringliteral">&quot;ERROR: unexpected xml: &quot;</span> &lt;&lt; str &lt;&lt; dendl;</div>
<div class="line"><span class="lineno"> 1269</span>      <span class="keywordflow">return</span> -EIO;</div>
<div class="line"><span class="lineno"> 1270</span>    }</div>
<div class="line"><span class="lineno"> 1271</span> </div>
<div class="line"><span class="lineno"> 1272</span>    <span class="keywordflow">if</span> (result.code != <span class="stringliteral">&quot;BucketAlreadyOwnedByYou&quot;</span> &amp;&amp; result.code != <span class="stringliteral">&quot;BucketAlreadyExists&quot;</span>) {</div>
<div class="line"><span class="lineno"> 1273</span>      ldpp_dout(tier_ctx.<a class="code hl_variable" href="struct_r_g_w_l_c_cloud_tier_ctx.html#a10433e11720af1b72f2fec265ce02143">dpp</a>, 0) &lt;&lt; <span class="stringliteral">&quot;ERROR: Creating target bucket failed with error: &quot;</span> &lt;&lt; result.code &lt;&lt; dendl;</div>
<div class="line"><span class="lineno"> 1274</span>      <span class="keywordflow">return</span> -EIO;</div>
<div class="line"><span class="lineno"> 1275</span>    }</div>
<div class="line"><span class="lineno"> 1276</span>  }</div>
<div class="line"><span class="lineno"> 1277</span> </div>
<div class="line"><span class="lineno"> 1278</span>  <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno"> 1279</span>}</div>
<div class="ttc" id="astruct_r_g_w_l_c_cloud_tier_ctx_html_a35b52ef87ff86e8894687eed5a93e9e9"><div class="ttname"><a href="struct_r_g_w_l_c_cloud_tier_ctx.html#a35b52ef87ff86e8894687eed5a93e9e9">RGWLCCloudTierCtx::storage_class</a></div><div class="ttdeci">std::string storage_class</div><div class="ttdef"><b>Definition</b> <a href="rgw__lc__tier_8h_source.html#l00025">rgw_lc_tier.h:25</a></div></div>
<div class="ttc" id="astruct_r_g_w_l_c_cloud_tier_ctx_html_a6a3c18ecc5b2850180a938c6fd21d567"><div class="ttname"><a href="struct_r_g_w_l_c_cloud_tier_ctx.html#a6a3c18ecc5b2850180a938c6fd21d567">RGWLCCloudTierCtx::target_bucket_name</a></div><div class="ttdeci">std::string target_bucket_name</div><div class="ttdef"><b>Definition</b> <a href="rgw__lc__tier_8h_source.html#l00032">rgw_lc_tier.h:32</a></div></div>
</div><!-- fragment --><div class="dynheader">
이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="rgw__lc__tier_8cc_a9256577a99379ecd94234749f6b9b343_cgraph.png" border="0" usemap="#argw__lc__tier_8cc_a9256577a99379ecd94234749f6b9b343_cgraph" alt=""/></div>
<map name="argw__lc__tier_8cc_a9256577a99379ecd94234749f6b9b343_cgraph" id="argw__lc__tier_8cc_a9256577a99379ecd94234749f6b9b343_cgraph">
<area shape="rect" title=" " alt="" coords="5,257,172,284"/>
<area shape="rect" href="namespace_r_g_w_x_m_l_decoder.html#afd109a7a9a8e6466d3365860e0b2426f" title=" " alt="" coords="223,81,427,108"/>
<area shape="poly" title=" " alt="" coords="107,255,292,115,295,120,110,259"/>
<area shape="rect" href="class_r_g_w_x_m_l_parser.html#ad5cf8ac16b134a9269ade6a2d0072a64" title=" " alt="" coords="254,232,396,259"/>
<area shape="poly" title=" " alt="" coords="172,259,239,252,239,257,173,264"/>
<area shape="rect" href="class_r_g_w_x_m_l_parser.html#a4e20926588ef848ab1b68a29e79e91e8" title=" " alt="" coords="247,283,403,309"/>
<area shape="poly" title=" " alt="" coords="173,277,232,283,231,289,172,282"/>
<area shape="rect" href="class_r_g_w_r_e_s_t_conn.html#a8423ed928e48e2ac23b4fb57de2792d3" title=" " alt="" coords="220,621,430,648"/>
<area shape="poly" title=" " alt="" coords="101,283,309,607,304,610,96,286"/>
<area shape="rect" href="rgw__xml_8h.html#a1512966c3f0c8cf0ea07adbfb90d7fd8" title=" " alt="" coords="520,5,635,32"/>
<area shape="poly" title=" " alt="" coords="364,78,477,41,504,34,506,39,479,47,366,83"/>
<area shape="rect" href="class_x_m_l_obj.html#a97256c1a1fe4c0b1fb7f422ed6ac30f3" title=" " alt="" coords="531,56,625,83"/>
<area shape="poly" title=" " alt="" coords="427,82,514,73,515,78,428,87"/>
<area shape="rect" href="class_x_m_l_obj_iter.html#a3a22d90225f573459c9c5afc925eceb3" title=" " alt="" coords="507,107,649,133"/>
<area shape="poly" title=" " alt="" coords="428,102,491,109,490,114,427,108"/>
<area shape="rect" href="class_x_m_l_obj_iter.html#a930f9d8fc441b9fee57a9eacb5056e73" title=" " alt="" coords="769,56,880,83"/>
<area shape="poly" title=" " alt="" coords="625,67,754,67,754,72,625,72"/>
<area shape="rect" href="class_r_g_w_x_m_l_parser.html#a9158068a148005dc85110a7a05fefd02" title=" " alt="" coords="506,157,650,200"/>
<area shape="poly" title=" " alt="" coords="378,229,490,199,491,204,379,234"/>
<area shape="rect" href="class_r_g_w_x_m_l_parser.html#a543b357ac6cc4df349a538f48f903bf5" title=" " alt="" coords="506,224,650,267"/>
<area shape="poly" title=" " alt="" coords="396,243,490,243,490,248,396,248"/>
<area shape="rect" href="class_r_g_w_x_m_l_parser.html#aa733447e36337bf43cebf65c4cd706b8" title=" " alt="" coords="506,309,650,352"/>
<area shape="poly" title=" " alt="" coords="390,257,431,268,515,300,513,305,429,273,389,262"/>
<area shape="rect" href="class_x_m_l_obj.html#a67225287f3e7f7e2a70fbd912ea83a52" title=" " alt="" coords="757,165,892,192"/>
<area shape="poly" title=" " alt="" coords="650,176,741,176,741,181,650,181"/>
<area shape="rect" href="class_x_m_l_obj.html#a04cda6857ea35269c1f977e1dac49ab7" title=" " alt="" coords="763,115,886,141"/>
<area shape="poly" title=" " alt="" coords="650,161,747,141,748,146,651,166"/>
<area shape="rect" href="class_x_m_l_obj.html#a2650f73dc3e4e97f0876491af9072175" title=" " alt="" coords="738,216,911,243"/>
<area shape="poly" title=" " alt="" coords="650,238,723,233,723,239,650,243"/>
<area shape="rect" href="class_x_m_l_obj.html#a722edbc56c148af8512965c9ea031dd5" title=" " alt="" coords="760,419,889,445"/>
<area shape="poly" title=" " alt="" coords="616,350,668,378,726,404,747,411,745,416,724,409,665,383,614,355"/>
<area shape="rect" href="class_r_g_w_x_m_l_parser.html#a2d9754ab36520fe48d4558f8f5900c2d" title=" " alt="" coords="737,267,912,293"/>
<area shape="poly" title=" " alt="" coords="650,313,740,294,742,300,651,318"/>
<area shape="rect" href="class_x_m_l_obj.html#a69de7cf613ab0259396c2eecddc0c9b7" title=" " alt="" coords="760,317,889,344"/>
<area shape="poly" title=" " alt="" coords="650,328,745,328,745,333,650,333"/>
<area shape="rect" href="class_x_m_l_obj.html#a54469a1b31d2623718d274dea3699fbc" title=" " alt="" coords="765,368,884,395"/>
<area shape="poly" title=" " alt="" coords="651,343,750,363,749,369,650,348"/>
<area shape="rect" href="class_r_g_w_h_t_t_p_stream_r_w_request.html#a28de0acc4dc43fc97efbfc4a6ba82c43" title=" " alt="" coords="479,531,676,573"/>
<area shape="poly" title=" " alt="" coords="367,618,495,576,497,581,369,623"/>
<area shape="rect" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5" title=" " alt="" coords="1030,520,1072,547"/>
<area shape="poly" title=" " alt="" coords="336,619,393,566,433,538,477,516,552,495,630,484,708,481,784,484,920,501,1015,521,1014,527,919,506,784,489,708,486,630,490,553,501,479,521,435,543,396,570,340,623"/>
<area shape="rect" href="class_r_g_w_r_e_s_t_conn.html#ac833f895cae6760d02b776c2a597f02d" title=" " alt="" coords="496,621,660,648"/>
<area shape="poly" title=" " alt="" coords="430,632,480,632,480,637,430,637"/>
<area shape="rect" href="rgw__rest__conn_8h.html#aa14583ec12a68d63cf797488bb75ec5c" title=" " alt="" coords="518,672,638,699"/>
<area shape="poly" title=" " alt="" coords="396,646,503,668,502,673,395,651"/>
<area shape="rect" href="class_r_g_w_r_e_s_t_conn.html#a919ee8e18b3c046e8b64029ab3427130" title=" " alt="" coords="491,723,665,765"/>
<area shape="poly" title=" " alt="" coords="352,646,410,676,479,708,495,714,493,719,477,713,407,681,350,651"/>
<area shape="rect" href="class_r_g_w_r_e_s_t_stream_r_w_request.html#ac991b0ba9e3086ee97283a7d26abdfb3" title=" " alt="" coords="478,789,677,832"/>
<area shape="poly" title=" " alt="" coords="339,647,395,708,435,744,479,775,488,780,486,785,477,780,432,748,392,712,335,650"/>
<area shape="rect" href="rgw__rest__client_8cc.html#afe35f1027a22ea12c1e9d5479572cafa" title=" " alt="" coords="759,571,890,597"/>
<area shape="poly" title=" " alt="" coords="677,562,744,571,743,576,677,567"/>
<area shape="rect" href="rgw__rest__client_8cc.html#ab4f60e826eb9d1f1c246a8dc52a1d1f6" title=" " alt="" coords="751,520,898,547"/>
<area shape="poly" title=" " alt="" coords="677,542,736,537,736,543,677,547"/>
<area shape="rect" href="class_r_g_w_h_t_t_p_client.html#a7d489c6689cd946b572415111b0c97b5" title=" " alt="" coords="750,621,899,648"/>
<area shape="poly" title=" " alt="" coords="649,571,678,583,726,607,748,614,746,619,724,612,676,588,647,576"/>
<area shape="poly" title=" " alt="" coords="887,567,1014,539,1015,544,888,573"/>
<area shape="rect" href="structrgw__http__req__data.html#a2cb0db213911deffc4b43a81a37098b5" title=" " alt="" coords="972,621,1130,648"/>
<area shape="poly" title=" " alt="" coords="900,632,956,632,956,637,900,637"/>
<area shape="rect" href="structrgw__http__req__data.html#a5d6962235aabed5aabe98213b486ccb1" title=" " alt="" coords="1178,613,1313,656"/>
<area shape="poly" title=" " alt="" coords="1130,632,1163,632,1163,637,1130,637"/>
<area shape="poly" title=" " alt="" coords="536,623,529,613,534,603,551,597,578,595,607,597,623,604,621,609,606,602,578,600,552,602,537,607,534,612,541,619"/>
<area shape="rect" href="rgw__rest__conn_8h.html#a1df0923b4723e3b3f42709b425eb0215" title=" " alt="" coords="759,672,890,699"/>
<area shape="poly" title=" " alt="" coords="638,683,744,683,744,688,638,688"/>
<area shape="rect" href="class_r_g_w_r_e_s_t_conn.html#ae90bac8b6344ad9f172ce25c12cf82e9" title=" " alt="" coords="725,789,924,816"/>
<area shape="poly" title=" " alt="" coords="666,762,751,783,750,788,665,767"/>
<area shape="rect" href="class_r_g_w_r_e_s_t_conn.html#a80208c730562921a2e3b4d9dde10855e" title=" " alt="" coords="737,723,912,765"/>
<area shape="poly" title=" " alt="" coords="665,741,722,741,722,747,665,747"/>
<area shape="rect" href="structrgw__user.html#afd8a9e36c5a9f7773c13d903c3124e99" title=" " alt="" coords="992,764,1110,791"/>
<area shape="poly" title=" " alt="" coords="924,789,977,783,977,788,924,794"/>
<area shape="rect" href="structrgw__user.html#af00f510d6a9ff0580d87ee46b274d96e" title=" " alt="" coords="994,815,1108,841"/>
<area shape="poly" title=" " alt="" coords="924,811,979,817,978,823,924,816"/>
</map>
</div>
<div class="dynheader">
이 함수를 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="rgw__lc__tier_8cc_a9256577a99379ecd94234749f6b9b343_icgraph.png" border="0" usemap="#argw__lc__tier_8cc_a9256577a99379ecd94234749f6b9b343_icgraph" alt=""/></div>
<map name="argw__lc__tier_8cc_a9256577a99379ecd94234749f6b9b343_icgraph" id="argw__lc__tier_8cc_a9256577a99379ecd94234749f6b9b343_icgraph">
<area shape="rect" title=" " alt="" coords="418,13,584,40"/>
<area shape="rect" href="rgw__lc__tier_8cc.html#a2906f85e3121b2099d65e0f9047553e9" title=" " alt="" coords="216,5,370,48"/>
<area shape="poly" title=" " alt="" coords="402,29,371,29,371,24,402,24"/>
<area shape="rect" href="class_l_c_op_action___transition.html#a11d3ae78bd110a735d53bb533e68b59b" title=" " alt="" coords="5,5,168,48"/>
<area shape="poly" title=" " alt="" coords="200,29,168,29,168,24,200,24"/>
</map>
</div>

</div>
</div>
<a id="a13867e0190d6ba39f79eae9b639818b2" name="a13867e0190d6ba39f79eae9b639818b2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a13867e0190d6ba39f79eae9b639818b2">&#9670;&#160;</a></span>cloud_tier_get_object()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int cloud_tier_get_object </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_r_g_w_l_c_cloud_tier_ctx.html">RGWLCCloudTierCtx</a> &amp;&#160;</td>
          <td class="paramname"><em>tier_ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>head</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::map&lt; std::string, std::string &gt; &amp;&#160;</td>
          <td class="paramname"><em>headers</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition"><a class="el" href="rgw__lc__tier_8cc_source.html">rgw_lc_tier.cc</a> 파일의 <a class="el" href="rgw__lc__tier_8cc_source.html#l00237">237</a> 번째 라인에서 정의되었습니다.</p>
<div class="fragment"><div class="line"><span class="lineno">  238</span>                                                                {</div>
<div class="line"><span class="lineno">  239</span>  <a class="code hl_struct" href="struct_r_g_w_r_e_s_t_conn_1_1get__obj__params.html">RGWRESTConn::get_obj_params</a> req_params;</div>
<div class="line"><span class="lineno">  240</span>  <a class="code hl_struct" href="struct_r_g_w_bucket_info.html">RGWBucketInfo</a> b;</div>
<div class="line"><span class="lineno">  241</span>  std::string target_obj_name;</div>
<div class="line"><span class="lineno">  242</span>  <span class="keywordtype">int</span> ret = 0;</div>
<div class="line"><span class="lineno">  243</span>  std::unique_ptr&lt;rgw::sal::Bucket&gt; dest_bucket;</div>
<div class="line"><span class="lineno">  244</span>  std::unique_ptr&lt;rgw::sal::Object&gt; dest_obj;</div>
<div class="line"><span class="lineno">  245</span>  <a class="code hl_struct" href="structrgw__lc__obj__properties.html">rgw_lc_obj_properties</a> obj_properties(tier_ctx.<a class="code hl_variable" href="struct_r_g_w_l_c_cloud_tier_ctx.html#ac7696914982b184b5a468f23791d91a6">o</a>.meta.mtime, tier_ctx.<a class="code hl_variable" href="struct_r_g_w_l_c_cloud_tier_ctx.html#ac7696914982b184b5a468f23791d91a6">o</a>.meta.etag,</div>
<div class="line"><span class="lineno">  246</span>        tier_ctx.<a class="code hl_variable" href="struct_r_g_w_l_c_cloud_tier_ctx.html#ac7696914982b184b5a468f23791d91a6">o</a>.versioned_epoch, tier_ctx.<a class="code hl_variable" href="struct_r_g_w_l_c_cloud_tier_ctx.html#a9bd1ff6151286d286ab6bc40fbe21db3">acl_mappings</a>,</div>
<div class="line"><span class="lineno">  247</span>        tier_ctx.<a class="code hl_variable" href="struct_r_g_w_l_c_cloud_tier_ctx.html#aff4bd36e5f90f32bc457cd1da40f8d18">target_storage_class</a>);</div>
<div class="line"><span class="lineno">  248</span>  std::string etag;</div>
<div class="line"><span class="lineno">  249</span>  <a class="code hl_class" href="class_r_g_w_r_e_s_t_stream_r_w_request.html">RGWRESTStreamRWRequest</a> *in_req;</div>
<div class="line"><span class="lineno">  250</span> </div>
<div class="line"><span class="lineno">  251</span>  b.<a class="code hl_variable" href="struct_r_g_w_bucket_info.html#afbd8422e16061abdf72d710794ac74d4">bucket</a>.<a class="code hl_variable" href="structrgw__bucket.html#a32d3529f5b0c53051c856a7abe867a6b">name</a> = tier_ctx.<a class="code hl_variable" href="struct_r_g_w_l_c_cloud_tier_ctx.html#a6a3c18ecc5b2850180a938c6fd21d567">target_bucket_name</a>;</div>
<div class="line"><span class="lineno">  252</span>  target_obj_name = tier_ctx.<a class="code hl_variable" href="struct_r_g_w_l_c_cloud_tier_ctx.html#a6f880c4c8f05cd4b045c925244da71f8">bucket_info</a>.<a class="code hl_variable" href="struct_r_g_w_bucket_info.html#afbd8422e16061abdf72d710794ac74d4">bucket</a>.<a class="code hl_variable" href="structrgw__bucket.html#a32d3529f5b0c53051c856a7abe867a6b">name</a> + <span class="stringliteral">&quot;/&quot;</span> +</div>
<div class="line"><span class="lineno">  253</span>                    tier_ctx.<a class="code hl_variable" href="struct_r_g_w_l_c_cloud_tier_ctx.html#a679e2551051f8c0fda753bc1bc6db7cc">obj</a>-&gt;<a class="code hl_function" href="classrgw_1_1sal_1_1_object.html#aa4a801a7e7dfbb29ccf622603dee6ae3">get_name</a>();</div>
<div class="line"><span class="lineno">  254</span>  <span class="keywordflow">if</span> (!tier_ctx.<a class="code hl_variable" href="struct_r_g_w_l_c_cloud_tier_ctx.html#ac7696914982b184b5a468f23791d91a6">o</a>.is_current()) {</div>
<div class="line"><span class="lineno">  255</span>    target_obj_name += <a class="code hl_function" href="rgw__lc__tier_8cc.html#aea4258058a85e5b1179ec1dba3054041">get_key_instance</a>(tier_ctx.<a class="code hl_variable" href="struct_r_g_w_l_c_cloud_tier_ctx.html#a679e2551051f8c0fda753bc1bc6db7cc">obj</a>-&gt;<a class="code hl_function" href="classrgw_1_1sal_1_1_object.html#af492ef7b108fe3b0045349261ba80c3c">get_key</a>());</div>
<div class="line"><span class="lineno">  256</span>  }</div>
<div class="line"><span class="lineno">  257</span> </div>
<div class="line"><span class="lineno">  258</span>  ret = tier_ctx.<a class="code hl_variable" href="struct_r_g_w_l_c_cloud_tier_ctx.html#acd12ed9b2dc9868f9081a968d67763b6">store</a>-&gt;<a class="code hl_function" href="classrgw_1_1sal_1_1_store.html#a3308ce50125b19ccdf5ce7f69958bd67">get_bucket</a>(<span class="keyword">nullptr</span>, b, &amp;dest_bucket);</div>
<div class="line"><span class="lineno">  259</span>  <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno">  260</span>    ldpp_dout(tier_ctx.<a class="code hl_variable" href="struct_r_g_w_l_c_cloud_tier_ctx.html#a10433e11720af1b72f2fec265ce02143">dpp</a>, 0) &lt;&lt; <span class="stringliteral">&quot;ERROR: failed to initialize dest_bucket - &quot;</span> &lt;&lt; tier_ctx.<a class="code hl_variable" href="struct_r_g_w_l_c_cloud_tier_ctx.html#a6a3c18ecc5b2850180a938c6fd21d567">target_bucket_name</a> &lt;&lt; <span class="stringliteral">&quot; , reterr = &quot;</span> &lt;&lt; ret &lt;&lt; dendl;</div>
<div class="line"><span class="lineno">  261</span>    <span class="keywordflow">return</span> ret;</div>
<div class="line"><span class="lineno">  262</span>  }</div>
<div class="line"><span class="lineno">  263</span> </div>
<div class="line"><span class="lineno">  264</span>  dest_obj = dest_bucket-&gt;get_object(<a class="code hl_struct" href="structrgw__obj__key.html">rgw_obj_key</a>(target_obj_name));</div>
<div class="line"><span class="lineno">  265</span>  <span class="keywordflow">if</span> (!dest_obj) {</div>
<div class="line"><span class="lineno">  266</span>    ldpp_dout(tier_ctx.<a class="code hl_variable" href="struct_r_g_w_l_c_cloud_tier_ctx.html#a10433e11720af1b72f2fec265ce02143">dpp</a>, 0) &lt;&lt; <span class="stringliteral">&quot;ERROR: failed to initialize dest_object path - &quot;</span> &lt;&lt; target_obj_name &lt;&lt; dendl;</div>
<div class="line"><span class="lineno">  267</span>    <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno">  268</span>  }</div>
<div class="line"><span class="lineno">  269</span>  <span class="comment">/* init input connection */</span></div>
<div class="line"><span class="lineno">  270</span>  req_params.<a class="code hl_variable" href="struct_r_g_w_r_e_s_t_conn_1_1get__obj__params.html#aae42d843ea072c9a2a74ce68d51ead9e">get_op</a> = !head;</div>
<div class="line"><span class="lineno">  271</span>  req_params.<a class="code hl_variable" href="struct_r_g_w_r_e_s_t_conn_1_1get__obj__params.html#a2505e57e07e2cbd460d8e2909794fa6a">prepend_metadata</a> = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  272</span>  req_params.<a class="code hl_variable" href="struct_r_g_w_r_e_s_t_conn_1_1get__obj__params.html#a6814babb5cfd9416931b615d2101dc82">rgwx_stat</a> = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  273</span>  req_params.<a class="code hl_variable" href="struct_r_g_w_r_e_s_t_conn_1_1get__obj__params.html#a484346156bc8beed98595c67c0ecc3af">sync_manifest</a> = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  274</span>  req_params.<a class="code hl_variable" href="struct_r_g_w_r_e_s_t_conn_1_1get__obj__params.html#abe948c58f6041fde7caa65380f3871e6">skip_decrypt</a> = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  275</span> </div>
<div class="line"><span class="lineno">  276</span>  ret = tier_ctx.<a class="code hl_variable" href="struct_r_g_w_l_c_cloud_tier_ctx.html#af3287a0bb4c2ff1d3c49b458004722c8">conn</a>.<a class="code hl_function" href="class_r_g_w_r_e_s_t_conn.html#af03a1214e15aa9729d5c59fc2543079b">get_obj</a>(tier_ctx.<a class="code hl_variable" href="struct_r_g_w_l_c_cloud_tier_ctx.html#a10433e11720af1b72f2fec265ce02143">dpp</a>, dest_obj.get(), req_params, <span class="keyword">true</span> <span class="comment">/* send */</span>, &amp;in_req);</div>
<div class="line"><span class="lineno">  277</span>  <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno">  278</span>    ldpp_dout(tier_ctx.<a class="code hl_variable" href="struct_r_g_w_l_c_cloud_tier_ctx.html#a10433e11720af1b72f2fec265ce02143">dpp</a>, 0) &lt;&lt; <span class="stringliteral">&quot;ERROR: &quot;</span> &lt;&lt; __func__ &lt;&lt; <span class="stringliteral">&quot;(): conn.get_obj() returned ret=&quot;</span> &lt;&lt; ret &lt;&lt; dendl;</div>
<div class="line"><span class="lineno">  279</span>    <span class="keywordflow">return</span> ret;</div>
<div class="line"><span class="lineno">  280</span>  }</div>
<div class="line"><span class="lineno">  281</span> </div>
<div class="line"><span class="lineno">  282</span>  <span class="comment">/* fetch headers */</span></div>
<div class="line"><span class="lineno">  283</span>  ret = tier_ctx.<a class="code hl_variable" href="struct_r_g_w_l_c_cloud_tier_ctx.html#af3287a0bb4c2ff1d3c49b458004722c8">conn</a>.<a class="code hl_function" href="class_r_g_w_r_e_s_t_conn.html#a2316b6676a813928a2caf6dadc445c8f">complete_request</a>(in_req, <span class="keyword">nullptr</span>, <span class="keyword">nullptr</span>, <span class="keyword">nullptr</span>, <span class="keyword">nullptr</span>, &amp;headers, null_yield);</div>
<div class="line"><span class="lineno">  284</span>  <span class="keywordflow">if</span> (ret &lt; 0 &amp;&amp; ret != -ENOENT) {</div>
<div class="line"><span class="lineno">  285</span>    ldpp_dout(tier_ctx.<a class="code hl_variable" href="struct_r_g_w_l_c_cloud_tier_ctx.html#a10433e11720af1b72f2fec265ce02143">dpp</a>, 20) &lt;&lt; <span class="stringliteral">&quot;ERROR: &quot;</span> &lt;&lt; __func__ &lt;&lt; <span class="stringliteral">&quot;(): conn.complete_request() returned ret=&quot;</span> &lt;&lt; ret &lt;&lt; dendl;</div>
<div class="line"><span class="lineno">  286</span>    <span class="keywordflow">return</span> ret;</div>
<div class="line"><span class="lineno">  287</span>  }</div>
<div class="line"><span class="lineno">  288</span>  <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">  289</span>}</div>
<div class="ttc" id="aclass_r_g_w_r_e_s_t_conn_html_a2316b6676a813928a2caf6dadc445c8f"><div class="ttname"><a href="class_r_g_w_r_e_s_t_conn.html#a2316b6676a813928a2caf6dadc445c8f">RGWRESTConn::complete_request</a></div><div class="ttdeci">int complete_request(RGWRESTStreamS3PutObj *req, std::string &amp;etag, ceph::real_time *mtime, optional_yield y)</div></div>
<div class="ttc" id="aclass_r_g_w_r_e_s_t_conn_html_af03a1214e15aa9729d5c59fc2543079b"><div class="ttname"><a href="class_r_g_w_r_e_s_t_conn.html#af03a1214e15aa9729d5c59fc2543079b">RGWRESTConn::get_obj</a></div><div class="ttdeci">int get_obj(const DoutPrefixProvider *dpp, const rgw::sal::Object *obj, const get_obj_params &amp;params, bool send, RGWRESTStreamRWRequest **req)</div><div class="ttdef"><b>Definition</b> <a href="rgw__rest__conn_8cc_source.html#l00260">rgw_rest_conn.cc:260</a></div></div>
<div class="ttc" id="aclass_r_g_w_r_e_s_t_stream_r_w_request_html"><div class="ttname"><a href="class_r_g_w_r_e_s_t_stream_r_w_request.html">RGWRESTStreamRWRequest</a></div><div class="ttdef"><b>Definition</b> <a href="rgw__rest__client_8h_source.html#l00177">rgw_rest_client.h:177</a></div></div>
<div class="ttc" id="aclassrgw_1_1sal_1_1_object_html_aa4a801a7e7dfbb29ccf622603dee6ae3"><div class="ttname"><a href="classrgw_1_1sal_1_1_object.html#aa4a801a7e7dfbb29ccf622603dee6ae3">rgw::sal::Object::get_name</a></div><div class="ttdeci">const std::string &amp; get_name() const</div><div class="ttdef"><b>Definition</b> <a href="rgw__sal_8h_source.html#l01001">rgw_sal.h:1001</a></div></div>
<div class="ttc" id="aclassrgw_1_1sal_1_1_object_html_af492ef7b108fe3b0045349261ba80c3c"><div class="ttname"><a href="classrgw_1_1sal_1_1_object.html#af492ef7b108fe3b0045349261ba80c3c">rgw::sal::Object::get_key</a></div><div class="ttdeci">rgw_obj_key &amp; get_key()</div><div class="ttdef"><b>Definition</b> <a href="rgw__sal_8h_source.html#l01113">rgw_sal.h:1113</a></div></div>
<div class="ttc" id="aclassrgw_1_1sal_1_1_store_html_a3308ce50125b19ccdf5ce7f69958bd67"><div class="ttname"><a href="classrgw_1_1sal_1_1_store.html#a3308ce50125b19ccdf5ce7f69958bd67">rgw::sal::Store::get_bucket</a></div><div class="ttdeci">virtual int get_bucket(User *u, const RGWBucketInfo &amp;i, std::unique_ptr&lt; Bucket &gt; *bucket)=0</div></div>
<div class="ttc" id="argw__lc__tier_8cc_html_aea4258058a85e5b1179ec1dba3054041"><div class="ttname"><a href="rgw__lc__tier_8cc.html#aea4258058a85e5b1179ec1dba3054041">get_key_instance</a></div><div class="ttdeci">static string get_key_instance(const rgw_obj_key &amp;key)</div><div class="ttdef"><b>Definition</b> <a href="rgw__lc__tier_8cc_source.html#l00077">rgw_lc_tier.cc:77</a></div></div>
<div class="ttc" id="astruct_r_g_w_bucket_info_html"><div class="ttname"><a href="struct_r_g_w_bucket_info.html">RGWBucketInfo</a></div><div class="ttdef"><b>Definition</b> <a href="rgw__common_8h_source.html#l01062">rgw_common.h:1062</a></div></div>
<div class="ttc" id="astruct_r_g_w_bucket_info_html_afbd8422e16061abdf72d710794ac74d4"><div class="ttname"><a href="struct_r_g_w_bucket_info.html#afbd8422e16061abdf72d710794ac74d4">RGWBucketInfo::bucket</a></div><div class="ttdeci">rgw_bucket bucket</div><div class="ttdef"><b>Definition</b> <a href="rgw__common_8h_source.html#l01063">rgw_common.h:1063</a></div></div>
<div class="ttc" id="astruct_r_g_w_l_c_cloud_tier_ctx_html_a6f880c4c8f05cd4b045c925244da71f8"><div class="ttname"><a href="struct_r_g_w_l_c_cloud_tier_ctx.html#a6f880c4c8f05cd4b045c925244da71f8">RGWLCCloudTierCtx::bucket_info</a></div><div class="ttdeci">RGWBucketInfo &amp; bucket_info</div><div class="ttdef"><b>Definition</b> <a href="rgw__lc__tier_8h_source.html#l00024">rgw_lc_tier.h:24</a></div></div>
<div class="ttc" id="astruct_r_g_w_l_c_cloud_tier_ctx_html_a9bd1ff6151286d286ab6bc40fbe21db3"><div class="ttname"><a href="struct_r_g_w_l_c_cloud_tier_ctx.html#a9bd1ff6151286d286ab6bc40fbe21db3">RGWLCCloudTierCtx::acl_mappings</a></div><div class="ttdeci">std::map&lt; std::string, RGWTierACLMapping &gt; acl_mappings</div><div class="ttdef"><b>Definition</b> <a href="rgw__lc__tier_8h_source.html#l00035">rgw_lc_tier.h:35</a></div></div>
<div class="ttc" id="astruct_r_g_w_l_c_cloud_tier_ctx_html_aff4bd36e5f90f32bc457cd1da40f8d18"><div class="ttname"><a href="struct_r_g_w_l_c_cloud_tier_ctx.html#aff4bd36e5f90f32bc457cd1da40f8d18">RGWLCCloudTierCtx::target_storage_class</a></div><div class="ttdeci">std::string target_storage_class</div><div class="ttdef"><b>Definition</b> <a href="rgw__lc__tier_8h_source.html#l00033">rgw_lc_tier.h:33</a></div></div>
<div class="ttc" id="astruct_r_g_w_r_e_s_t_conn_1_1get__obj__params_html"><div class="ttname"><a href="struct_r_g_w_r_e_s_t_conn_1_1get__obj__params.html">RGWRESTConn::get_obj_params</a></div><div class="ttdef"><b>Definition</b> <a href="rgw__rest__conn_8h_source.html#l00157">rgw_rest_conn.h:157</a></div></div>
<div class="ttc" id="astruct_r_g_w_r_e_s_t_conn_1_1get__obj__params_html_a2505e57e07e2cbd460d8e2909794fa6a"><div class="ttname"><a href="struct_r_g_w_r_e_s_t_conn_1_1get__obj__params.html#a2505e57e07e2cbd460d8e2909794fa6a">RGWRESTConn::get_obj_params::prepend_metadata</a></div><div class="ttdeci">bool prepend_metadata</div><div class="ttdef"><b>Definition</b> <a href="rgw__rest__conn_8h_source.html#l00169">rgw_rest_conn.h:169</a></div></div>
<div class="ttc" id="astruct_r_g_w_r_e_s_t_conn_1_1get__obj__params_html_a484346156bc8beed98595c67c0ecc3af"><div class="ttname"><a href="struct_r_g_w_r_e_s_t_conn_1_1get__obj__params.html#a484346156bc8beed98595c67c0ecc3af">RGWRESTConn::get_obj_params::sync_manifest</a></div><div class="ttdeci">bool sync_manifest</div><div class="ttdef"><b>Definition</b> <a href="rgw__rest__conn_8h_source.html#l00172">rgw_rest_conn.h:172</a></div></div>
<div class="ttc" id="astruct_r_g_w_r_e_s_t_conn_1_1get__obj__params_html_a6814babb5cfd9416931b615d2101dc82"><div class="ttname"><a href="struct_r_g_w_r_e_s_t_conn_1_1get__obj__params.html#a6814babb5cfd9416931b615d2101dc82">RGWRESTConn::get_obj_params::rgwx_stat</a></div><div class="ttdeci">bool rgwx_stat</div><div class="ttdef"><b>Definition</b> <a href="rgw__rest__conn_8h_source.html#l00171">rgw_rest_conn.h:171</a></div></div>
<div class="ttc" id="astruct_r_g_w_r_e_s_t_conn_1_1get__obj__params_html_aae42d843ea072c9a2a74ce68d51ead9e"><div class="ttname"><a href="struct_r_g_w_r_e_s_t_conn_1_1get__obj__params.html#aae42d843ea072c9a2a74ce68d51ead9e">RGWRESTConn::get_obj_params::get_op</a></div><div class="ttdeci">bool get_op</div><div class="ttdef"><b>Definition</b> <a href="rgw__rest__conn_8h_source.html#l00170">rgw_rest_conn.h:170</a></div></div>
<div class="ttc" id="astruct_r_g_w_r_e_s_t_conn_1_1get__obj__params_html_abe948c58f6041fde7caa65380f3871e6"><div class="ttname"><a href="struct_r_g_w_r_e_s_t_conn_1_1get__obj__params.html#abe948c58f6041fde7caa65380f3871e6">RGWRESTConn::get_obj_params::skip_decrypt</a></div><div class="ttdeci">bool skip_decrypt</div><div class="ttdef"><b>Definition</b> <a href="rgw__rest__conn_8h_source.html#l00174">rgw_rest_conn.h:174</a></div></div>
<div class="ttc" id="astructrgw__bucket_html_a32d3529f5b0c53051c856a7abe867a6b"><div class="ttname"><a href="structrgw__bucket.html#a32d3529f5b0c53051c856a7abe867a6b">rgw_bucket::name</a></div><div class="ttdeci">std::string name</div><div class="ttdef"><b>Definition</b> <a href="rgw__basic__types_8h_source.html#l00291">rgw_basic_types.h:291</a></div></div>
<div class="ttc" id="astructrgw__lc__obj__properties_html"><div class="ttname"><a href="structrgw__lc__obj__properties.html">rgw_lc_obj_properties</a></div><div class="ttdef"><b>Definition</b> <a href="rgw__lc__tier_8cc_source.html#l00034">rgw_lc_tier.cc:34</a></div></div>
<div class="ttc" id="astructrgw__obj__key_html"><div class="ttname"><a href="structrgw__obj__key.html">rgw_obj_key</a></div><div class="ttdef"><b>Definition</b> <a href="rgw__common_8h_source.html#l01248">rgw_common.h:1248</a></div></div>
</div><!-- fragment --><div class="dynheader">
이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="rgw__lc__tier_8cc_a13867e0190d6ba39f79eae9b639818b2_cgraph.png" border="0" usemap="#argw__lc__tier_8cc_a13867e0190d6ba39f79eae9b639818b2_cgraph" alt=""/></div>
<map name="argw__lc__tier_8cc_a13867e0190d6ba39f79eae9b639818b2_cgraph" id="argw__lc__tier_8cc_a13867e0190d6ba39f79eae9b639818b2_cgraph">
<area shape="rect" title=" " alt="" coords="5,164,150,191"/>
<area shape="rect" href="class_r_g_w_r_e_s_t_conn.html#a2316b6676a813928a2caf6dadc445c8f" title=" " alt="" coords="198,5,376,48"/>
<area shape="poly" title=" " alt="" coords="88,162,132,112,162,83,196,58,204,53,207,58,199,62,166,87,135,116,92,165"/>
<area shape="rect" href="classrgw_1_1sal_1_1_store.html#a3308ce50125b19ccdf5ce7f69958bd67" title=" " alt="" coords="221,72,353,115"/>
<area shape="poly" title=" " alt="" coords="109,161,197,124,212,118,214,123,199,129,112,166"/>
<area shape="rect" href="classrgw_1_1sal_1_1_object.html#af492ef7b108fe3b0045349261ba80c3c" title=" " alt="" coords="204,139,370,165"/>
<area shape="poly" title=" " alt="" coords="150,166,188,161,189,167,150,171"/>
<area shape="rect" href="rgw__lc__tier_8cc.html#aea4258058a85e5b1179ec1dba3054041" title=" " alt="" coords="225,189,349,216"/>
<area shape="poly" title=" " alt="" coords="150,183,210,191,209,196,150,189"/>
<area shape="rect" href="classrgw_1_1sal_1_1_object.html#aa4a801a7e7dfbb29ccf622603dee6ae3" title=" " alt="" coords="198,240,376,267"/>
<area shape="poly" title=" " alt="" coords="110,189,199,226,219,232,218,238,197,230,108,194"/>
<area shape="rect" href="class_r_g_w_r_e_s_t_conn.html#af03a1214e15aa9729d5c59fc2543079b" title=" " alt="" coords="203,291,371,317"/>
<area shape="poly" title=" " alt="" coords="93,189,137,232,167,256,199,276,212,282,209,287,196,281,164,260,134,236,89,193"/>
<area shape="rect" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5" title=" " alt="" coords="490,85,532,112"/>
<area shape="poly" title=" " alt="" coords="359,288,374,277,388,258,395,240,397,201,399,162,407,142,422,122,447,106,474,99,475,104,449,111,426,126,412,144,405,163,403,202,401,241,393,261,378,281,362,292"/>
<area shape="rect" href="classrgw_1_1sal_1_1_object.html#aa6e4eac7bc3684c96e95b184ed54b0b2" title=" " alt="" coords="442,136,580,179"/>
<area shape="poly" title=" " alt="" coords="356,288,374,277,391,256,398,234,405,212,422,189,427,184,431,189,426,193,410,214,403,236,396,259,378,281,358,292"/>
<area shape="rect" href="class_r_g_w_env.html#a602b05b4518e49e23e4ecb22dbebbcaa" title=" " alt="" coords="445,203,577,229"/>
<area shape="poly" title=" " alt="" coords="347,288,375,276,398,258,423,239,437,233,439,238,425,244,402,262,377,281,349,293"/>
<area shape="rect" href="classrgw_1_1sal_1_1_object.html#a770aa088f13a4a4063055cc423de4478" title=" " alt="" coords="430,253,592,280"/>
<area shape="poly" title=" " alt="" coords="370,287,414,280,415,285,371,293"/>
<area shape="rect" href="class_r_g_w_r_e_s_t_conn.html#ac833f895cae6760d02b776c2a597f02d" title=" " alt="" coords="429,328,593,355"/>
<area shape="poly" title=" " alt="" coords="371,315,414,323,413,328,370,321"/>
<area shape="rect" href="class_r_g_w_r_e_s_t_conn.html#a919ee8e18b3c046e8b64029ab3427130" title=" " alt="" coords="424,379,598,421"/>
<area shape="poly" title=" " alt="" coords="318,316,425,364,439,370,437,375,423,369,316,320"/>
<area shape="rect" href="rgw__rest__conn_8cc.html#af8e281c6830ff0d27520b7e9e48ab0c5" title=" " alt="" coords="453,445,570,472"/>
<area shape="poly" title=" " alt="" coords="301,316,351,372,386,404,425,431,439,438,437,443,423,436,383,408,347,376,297,320"/>
<area shape="rect" href="rgw__rest__conn_8cc.html#aadb2f269beb4e57221fe9a16e36c1cdc" title=" " alt="" coords="469,496,554,523"/>
<area shape="poly" title=" " alt="" coords="297,316,315,350,343,395,380,442,425,482,455,496,452,501,423,486,376,445,339,398,310,353,292,319"/>
<area shape="rect" href="classrgw_1_1sal_1_1_bucket.html#a0fbf4f16a181a9f8d58d1d75fb8dff2d" title=" " alt="" coords="661,232,830,259"/>
<area shape="poly" title=" " alt="" coords="593,257,645,252,645,257,593,262"/>
<area shape="rect" href="structrgw__obj.html#a244794360fcf52da4b630ae69f884c68" title=" " alt="" coords="657,283,834,309"/>
<area shape="poly" title=" " alt="" coords="593,274,642,280,642,286,593,279"/>
<area shape="poly" title=" " alt="" coords="473,329,467,319,471,309,486,303,511,301,538,304,552,310,550,315,536,309,511,307,488,309,475,313,472,319,478,326"/>
<area shape="rect" href="class_r_g_w_r_e_s_t_conn.html#ae90bac8b6344ad9f172ce25c12cf82e9" title=" " alt="" coords="646,349,845,376"/>
<area shape="poly" title=" " alt="" coords="598,383,642,376,643,382,599,389"/>
<area shape="rect" href="class_r_g_w_r_e_s_t_conn.html#a80208c730562921a2e3b4d9dde10855e" title=" " alt="" coords="658,400,833,443"/>
<area shape="poly" title=" " alt="" coords="599,405,643,409,642,415,599,411"/>
<area shape="rect" href="structrgw__user.html#afd8a9e36c5a9f7773c13d903c3124e99" title=" " alt="" coords="893,324,1010,351"/>
<area shape="poly" title=" " alt="" coords="845,348,877,344,878,349,845,353"/>
<area shape="rect" href="structrgw__user.html#af00f510d6a9ff0580d87ee46b274d96e" title=" " alt="" coords="894,375,1009,401"/>
<area shape="poly" title=" " alt="" coords="845,372,879,376,878,382,845,378"/>
</map>
</div>
<div class="dynheader">
이 함수를 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="rgw__lc__tier_8cc_a13867e0190d6ba39f79eae9b639818b2_icgraph.png" border="0" usemap="#argw__lc__tier_8cc_a13867e0190d6ba39f79eae9b639818b2_icgraph" alt=""/></div>
<map name="argw__lc__tier_8cc_a13867e0190d6ba39f79eae9b639818b2_icgraph" id="argw__lc__tier_8cc_a13867e0190d6ba39f79eae9b639818b2_icgraph">
<area shape="rect" title=" " alt="" coords="627,13,772,40"/>
<area shape="rect" href="rgw__lc__tier_8cc.html#a2cf3fcb693fce2e948055ee3e01bfb5b" title=" " alt="" coords="418,13,579,40"/>
<area shape="poly" title=" " alt="" coords="612,29,580,29,580,24,612,24"/>
<area shape="rect" href="rgw__lc__tier_8cc.html#a2906f85e3121b2099d65e0f9047553e9" title=" " alt="" coords="216,5,370,48"/>
<area shape="poly" title=" " alt="" coords="402,29,370,29,370,24,402,24"/>
<area shape="rect" href="class_l_c_op_action___transition.html#a11d3ae78bd110a735d53bb533e68b59b" title=" " alt="" coords="5,5,168,48"/>
<area shape="poly" title=" " alt="" coords="200,29,168,29,168,24,200,24"/>
</map>
</div>

</div>
</div>
<a id="af4a541b5f9dc56144d816078a8092597" name="af4a541b5f9dc56144d816078a8092597"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af4a541b5f9dc56144d816078a8092597">&#9670;&#160;</a></span>cloud_tier_init_multipart()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int cloud_tier_init_multipart </td>
          <td>(</td>
          <td class="paramtype">const DoutPrefixProvider *&#160;</td>
          <td class="paramname"><em>dpp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_r_g_w_r_e_s_t_conn.html">RGWRESTConn</a> &amp;&#160;</td>
          <td class="paramname"><em>dest_conn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structrgw__obj.html">rgw_obj</a> &amp;&#160;</td>
          <td class="paramname"><em>dest_obj</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t&#160;</td>
          <td class="paramname"><em>obj_size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::map&lt; std::string, std::string &gt; &amp;&#160;</td>
          <td class="paramname"><em>attrs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::string &amp;&#160;</td>
          <td class="paramname"><em>upload_id</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition"><a class="el" href="rgw__lc__tier_8cc_source.html">rgw_lc_tier.cc</a> 파일의 <a class="el" href="rgw__lc__tier_8cc_source.html#l00898">898</a> 번째 라인에서 정의되었습니다.</p>
<div class="fragment"><div class="line"><span class="lineno">  901</span>                            {</div>
<div class="line"><span class="lineno">  902</span>  bufferlist out_bl;</div>
<div class="line"><span class="lineno">  903</span>  bufferlist bl;</div>
<div class="line"><span class="lineno">  904</span> </div>
<div class="line"><span class="lineno">  905</span>  <span class="keyword">struct </span>InitMultipartResult {</div>
<div class="line"><span class="lineno">  906</span>    std::string bucket;</div>
<div class="line"><span class="lineno">  907</span>    std::string key;</div>
<div class="line"><span class="lineno">  908</span>    std::string upload_id;</div>
<div class="line"><span class="lineno">  909</span> </div>
<div class="line"><span class="lineno">  910</span>    <span class="keywordtype">void</span> <a class="code hl_function" href="namespace_r_g_w_x_m_l_decoder.html#afd109a7a9a8e6466d3365860e0b2426f">decode_xml</a>(<a class="code hl_class" href="class_x_m_l_obj.html">XMLObj</a> *obj) {</div>
<div class="line"><span class="lineno">  911</span>      <a class="code hl_function" href="namespace_r_g_w_x_m_l_decoder.html#afd109a7a9a8e6466d3365860e0b2426f">RGWXMLDecoder::decode_xml</a>(<span class="stringliteral">&quot;Bucket&quot;</span>, bucket, obj);</div>
<div class="line"><span class="lineno">  912</span>      <a class="code hl_function" href="namespace_r_g_w_x_m_l_decoder.html#afd109a7a9a8e6466d3365860e0b2426f">RGWXMLDecoder::decode_xml</a>(<span class="stringliteral">&quot;Key&quot;</span>, key, obj);</div>
<div class="line"><span class="lineno">  913</span>      <a class="code hl_function" href="namespace_r_g_w_x_m_l_decoder.html#afd109a7a9a8e6466d3365860e0b2426f">RGWXMLDecoder::decode_xml</a>(<span class="stringliteral">&quot;UploadId&quot;</span>, upload_id, obj);</div>
<div class="line"><span class="lineno">  914</span>    }</div>
<div class="line"><span class="lineno">  915</span>  } result;</div>
<div class="line"><span class="lineno">  916</span> </div>
<div class="line"><span class="lineno">  917</span>  <span class="keywordtype">int</span> ret;</div>
<div class="line"><span class="lineno">  918</span>  <a class="code hl_struct" href="structrgw__http__param__pair.html">rgw_http_param_pair</a> params[] = { { <span class="stringliteral">&quot;uploads&quot;</span>, <span class="keyword">nullptr</span> }, {<span class="keyword">nullptr</span>, <span class="keyword">nullptr</span>} };</div>
<div class="line"><span class="lineno">  919</span> </div>
<div class="line"><span class="lineno">  920</span>  <span class="keywordtype">string</span> resource = <a class="code hl_function" href="rgw__lc__tier_8cc.html#a93e85f685511afc70138260718b4f759">obj_to_aws_path</a>(dest_obj);</div>
<div class="line"><span class="lineno">  921</span> </div>
<div class="line"><span class="lineno">  922</span>  ret = dest_conn.<a class="code hl_function" href="class_r_g_w_r_e_s_t_conn.html#a8423ed928e48e2ac23b4fb57de2792d3">send_resource</a>(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>, <span class="stringliteral">&quot;POST&quot;</span>, resource, params, &amp;attrs,</div>
<div class="line"><span class="lineno">  923</span>      out_bl, &amp;bl, <span class="keyword">nullptr</span>, null_yield);</div>
<div class="line"><span class="lineno">  924</span> </div>
<div class="line"><span class="lineno">  925</span>  <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno">  926</span>    ldpp_dout(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>, 0) &lt;&lt; <span class="stringliteral">&quot;ERROR: failed to initialize multipart upload for dest object=&quot;</span> &lt;&lt; dest_obj &lt;&lt; dendl;</div>
<div class="line"><span class="lineno">  927</span>    <span class="keywordflow">return</span> ret;</div>
<div class="line"><span class="lineno">  928</span>  }</div>
<div class="line"><span class="lineno">  929</span>  <span class="comment">/*</span></div>
<div class="line"><span class="lineno">  930</span><span class="comment">   * If one of the following fails we cannot abort upload, as we cannot</span></div>
<div class="line"><span class="lineno">  931</span><span class="comment">   * extract the upload id. If one of these fail it&#39;s very likely that that&#39;s</span></div>
<div class="line"><span class="lineno">  932</span><span class="comment">   * the least of our problem.</span></div>
<div class="line"><span class="lineno">  933</span><span class="comment">   */</span></div>
<div class="line"><span class="lineno">  934</span>  <a class="code hl_class" href="class_r_g_w_x_m_l_parser.html">RGWXMLDecoder::XMLParser</a> parser;</div>
<div class="line"><span class="lineno">  935</span>  <span class="keywordflow">if</span> (!parser.<a class="code hl_function" href="class_r_g_w_x_m_l_parser.html#ad5cf8ac16b134a9269ade6a2d0072a64">init</a>()) {</div>
<div class="line"><span class="lineno">  936</span>    ldpp_dout(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>, 0) &lt;&lt; <span class="stringliteral">&quot;ERROR: failed to initialize xml parser for parsing multipart init response from server&quot;</span> &lt;&lt; dendl;</div>
<div class="line"><span class="lineno">  937</span>    <span class="keywordflow">return</span> -EIO;</div>
<div class="line"><span class="lineno">  938</span>  }</div>
<div class="line"><span class="lineno">  939</span> </div>
<div class="line"><span class="lineno">  940</span>  <span class="keywordflow">if</span> (!parser.<a class="code hl_function" href="class_r_g_w_x_m_l_parser.html#a4e20926588ef848ab1b68a29e79e91e8">parse</a>(out_bl.c_str(), out_bl.length(), 1)) {</div>
<div class="line"><span class="lineno">  941</span>    <span class="keywordtype">string</span> str(out_bl.c_str(), out_bl.length());</div>
<div class="line"><span class="lineno">  942</span>    ldpp_dout(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>, 5) &lt;&lt; <span class="stringliteral">&quot;ERROR: failed to parse xml initmultipart: &quot;</span> &lt;&lt; str &lt;&lt; dendl;</div>
<div class="line"><span class="lineno">  943</span>    <span class="keywordflow">return</span> -EIO;</div>
<div class="line"><span class="lineno">  944</span>  }</div>
<div class="line"><span class="lineno">  945</span> </div>
<div class="line"><span class="lineno">  946</span>  <span class="keywordflow">try</span> {</div>
<div class="line"><span class="lineno">  947</span>    <a class="code hl_function" href="namespace_r_g_w_x_m_l_decoder.html#afd109a7a9a8e6466d3365860e0b2426f">RGWXMLDecoder::decode_xml</a>(<span class="stringliteral">&quot;InitiateMultipartUploadResult&quot;</span>, result, &amp;parser, <span class="keyword">true</span>);</div>
<div class="line"><span class="lineno">  948</span>  } <span class="keywordflow">catch</span> (<a class="code hl_struct" href="struct_r_g_w_x_m_l_decoder_1_1err.html">RGWXMLDecoder::err</a>&amp; err) {</div>
<div class="line"><span class="lineno">  949</span>    <span class="keywordtype">string</span> str(out_bl.c_str(), out_bl.length());</div>
<div class="line"><span class="lineno">  950</span>    ldpp_dout(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>, 5) &lt;&lt; <span class="stringliteral">&quot;ERROR: unexpected xml: &quot;</span> &lt;&lt; str &lt;&lt; dendl;</div>
<div class="line"><span class="lineno">  951</span>    <span class="keywordflow">return</span> -EIO;</div>
<div class="line"><span class="lineno">  952</span>  }</div>
<div class="line"><span class="lineno">  953</span> </div>
<div class="line"><span class="lineno">  954</span>  ldpp_dout(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>, 20) &lt;&lt; <span class="stringliteral">&quot;init multipart result: bucket=&quot;</span> &lt;&lt; result.bucket &lt;&lt; <span class="stringliteral">&quot; key=&quot;</span> &lt;&lt; result.key &lt;&lt; <span class="stringliteral">&quot; upload_id=&quot;</span> &lt;&lt; result.upload_id &lt;&lt; dendl;</div>
<div class="line"><span class="lineno">  955</span> </div>
<div class="line"><span class="lineno">  956</span>  upload_id = result.upload_id;</div>
<div class="line"><span class="lineno">  957</span> </div>
<div class="line"><span class="lineno">  958</span>  <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">  959</span>}</div>
</div><!-- fragment --><div class="dynheader">
이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="rgw__lc__tier_8cc_af4a541b5f9dc56144d816078a8092597_cgraph.png" border="0" usemap="#argw__lc__tier_8cc_af4a541b5f9dc56144d816078a8092597_cgraph" alt=""/></div>
<map name="argw__lc__tier_8cc_af4a541b5f9dc56144d816078a8092597_cgraph" id="argw__lc__tier_8cc_af4a541b5f9dc56144d816078a8092597_cgraph">
<area shape="rect" title=" " alt="" coords="5,343,164,369"/>
<area shape="rect" href="namespace_r_g_w_x_m_l_decoder.html#afd109a7a9a8e6466d3365860e0b2426f" title=" " alt="" coords="215,81,419,108"/>
<area shape="poly" title=" " alt="" coords="89,341,131,255,167,200,210,150,237,129,265,113,268,117,240,134,214,154,171,203,136,257,94,344"/>
<area shape="rect" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5" title=" " alt="" coords="1022,629,1064,656"/>
<area shape="poly" title=" " alt="" coords="117,340,211,303,366,250,466,220,572,193,677,172,773,163,817,164,856,169,890,178,917,194,942,224,964,269,984,326,1001,390,1026,517,1041,613,1035,614,1021,518,995,391,979,328,959,271,938,227,914,198,888,183,855,174,816,169,774,168,677,178,573,198,468,225,368,256,213,308,119,345"/>
<area shape="rect" href="class_r_g_w_x_m_l_parser.html#ad5cf8ac16b134a9269ade6a2d0072a64" title=" " alt="" coords="246,317,388,344"/>
<area shape="poly" title=" " alt="" coords="164,345,230,337,231,343,165,350"/>
<area shape="rect" href="rgw__lc__tier_8cc.html#a93e85f685511afc70138260718b4f759" title=" " alt="" coords="258,368,376,395"/>
<area shape="poly" title=" " alt="" coords="165,362,242,371,242,376,164,367"/>
<area shape="rect" href="class_r_g_w_x_m_l_parser.html#a4e20926588ef848ab1b68a29e79e91e8" title=" " alt="" coords="239,419,395,445"/>
<area shape="poly" title=" " alt="" coords="118,367,213,404,238,412,237,417,211,409,116,372"/>
<area shape="rect" href="class_r_g_w_r_e_s_t_conn.html#a8423ed928e48e2ac23b4fb57de2792d3" title=" " alt="" coords="212,779,422,805"/>
<area shape="poly" title=" " alt="" coords="95,368,304,764,299,766,91,371"/>
<area shape="rect" href="rgw__xml_8h.html#a1512966c3f0c8cf0ea07adbfb90d7fd8" title=" " alt="" coords="512,5,627,32"/>
<area shape="poly" title=" " alt="" coords="356,78,469,41,496,34,498,39,471,47,358,83"/>
<area shape="rect" href="class_x_m_l_obj.html#a97256c1a1fe4c0b1fb7f422ed6ac30f3" title=" " alt="" coords="523,56,617,83"/>
<area shape="poly" title=" " alt="" coords="419,82,506,73,507,78,420,87"/>
<area shape="rect" href="class_x_m_l_obj_iter.html#a3a22d90225f573459c9c5afc925eceb3" title=" " alt="" coords="499,107,641,133"/>
<area shape="poly" title=" " alt="" coords="420,102,483,109,482,114,419,108"/>
<area shape="rect" href="class_x_m_l_obj_iter.html#a930f9d8fc441b9fee57a9eacb5056e73" title=" " alt="" coords="761,56,872,83"/>
<area shape="poly" title=" " alt="" coords="617,67,746,67,746,72,617,72"/>
<area shape="rect" href="class_r_g_w_x_m_l_parser.html#a9158068a148005dc85110a7a05fefd02" title=" " alt="" coords="498,243,642,285"/>
<area shape="poly" title=" " alt="" coords="370,314,482,284,483,289,371,319"/>
<area shape="rect" href="class_r_g_w_x_m_l_parser.html#a543b357ac6cc4df349a538f48f903bf5" title=" " alt="" coords="498,309,642,352"/>
<area shape="poly" title=" " alt="" coords="388,328,482,328,482,333,388,333"/>
<area shape="rect" href="class_r_g_w_x_m_l_parser.html#aa733447e36337bf43cebf65c4cd706b8" title=" " alt="" coords="498,403,642,445"/>
<area shape="poly" title=" " alt="" coords="384,342,423,353,515,393,512,398,421,359,383,347"/>
<area shape="rect" href="class_x_m_l_obj.html#a67225287f3e7f7e2a70fbd912ea83a52" title=" " alt="" coords="749,208,884,235"/>
<area shape="poly" title=" " alt="" coords="642,249,733,233,734,238,643,254"/>
<area shape="rect" href="class_x_m_l_obj.html#a04cda6857ea35269c1f977e1dac49ab7" title=" " alt="" coords="755,259,878,285"/>
<area shape="poly" title=" " alt="" coords="642,264,739,267,739,272,642,269"/>
<area shape="rect" href="class_x_m_l_obj.html#a2650f73dc3e4e97f0876491af9072175" title=" " alt="" coords="730,309,903,336"/>
<area shape="poly" title=" " alt="" coords="642,326,715,323,715,329,642,331"/>
<area shape="rect" href="class_x_m_l_obj.html#a722edbc56c148af8512965c9ea031dd5" title=" " alt="" coords="752,360,881,387"/>
<area shape="poly" title=" " alt="" coords="642,407,736,387,737,392,643,412"/>
<area shape="rect" href="class_r_g_w_x_m_l_parser.html#a2d9754ab36520fe48d4558f8f5900c2d" title=" " alt="" coords="729,411,904,437"/>
<area shape="poly" title=" " alt="" coords="642,421,713,421,713,427,642,427"/>
<area shape="rect" href="class_x_m_l_obj.html#a69de7cf613ab0259396c2eecddc0c9b7" title=" " alt="" coords="752,461,881,488"/>
<area shape="poly" title=" " alt="" coords="643,436,737,456,736,461,642,441"/>
<area shape="rect" href="class_x_m_l_obj.html#a54469a1b31d2623718d274dea3699fbc" title=" " alt="" coords="757,512,876,539"/>
<area shape="poly" title=" " alt="" coords="608,443,660,471,718,498,743,506,741,511,716,502,657,476,606,448"/>
<area shape="rect" href="rgw__lc__tier_8cc.html#a63abc6bf9cc9fb36ee499c732b4d99de" title=" " alt="" coords="524,520,615,547"/>
<area shape="poly" title=" " alt="" coords="377,387,423,404,439,416,449,428,472,455,538,509,535,513,468,459,445,432,436,420,421,409,376,392"/>
<area shape="rect" href="structrgw__obj__key.html#abbd337f0dc4c9396c885b3bf7e6da7bf" title=" " alt="" coords="739,563,894,605"/>
<area shape="poly" title=" " alt="" coords="616,540,725,562,723,568,615,545"/>
<area shape="poly" title=" " alt="" coords="329,776,385,724,425,695,469,674,544,651,622,636,700,627,776,623,911,626,1007,635,1006,641,911,632,776,629,700,632,622,641,545,656,471,678,428,700,389,728,333,780"/>
<area shape="rect" href="class_r_g_w_h_t_t_p_stream_r_w_request.html#a28de0acc4dc43fc97efbfc4a6ba82c43" title=" " alt="" coords="471,688,668,731"/>
<area shape="poly" title=" " alt="" coords="359,776,487,733,489,739,361,781"/>
<area shape="rect" href="class_r_g_w_r_e_s_t_conn.html#ac833f895cae6760d02b776c2a597f02d" title=" " alt="" coords="488,779,652,805"/>
<area shape="poly" title=" " alt="" coords="422,789,472,789,472,795,422,795"/>
<area shape="rect" href="rgw__rest__conn_8h.html#aa14583ec12a68d63cf797488bb75ec5c" title=" " alt="" coords="510,829,630,856"/>
<area shape="poly" title=" " alt="" coords="388,803,495,825,494,830,387,809"/>
<area shape="rect" href="class_r_g_w_r_e_s_t_conn.html#a919ee8e18b3c046e8b64029ab3427130" title=" " alt="" coords="483,880,657,923"/>
<area shape="poly" title=" " alt="" coords="344,803,402,833,471,866,487,872,485,877,469,870,399,838,342,808"/>
<area shape="rect" href="class_r_g_w_r_e_s_t_stream_r_w_request.html#ac991b0ba9e3086ee97283a7d26abdfb3" title=" " alt="" coords="470,947,669,989"/>
<area shape="poly" title=" " alt="" coords="331,804,387,865,427,901,471,932,480,937,478,942,469,937,424,905,384,869,327,808"/>
<area shape="rect" href="rgw__rest__client_8cc.html#afe35f1027a22ea12c1e9d5479572cafa" title=" " alt="" coords="751,680,882,707"/>
<area shape="poly" title=" " alt="" coords="669,700,736,696,736,701,669,706"/>
<area shape="rect" href="rgw__rest__client_8cc.html#ab4f60e826eb9d1f1c246a8dc52a1d1f6" title=" " alt="" coords="743,731,890,757"/>
<area shape="poly" title=" " alt="" coords="669,721,728,729,727,734,669,726"/>
<area shape="rect" href="class_r_g_w_h_t_t_p_client.html#a7d489c6689cd946b572415111b0c97b5" title=" " alt="" coords="742,781,891,808"/>
<area shape="poly" title=" " alt="" coords="642,729,670,740,694,754,718,767,738,774,737,779,716,772,692,759,668,745,640,734"/>
<area shape="poly" title=" " alt="" coords="879,677,1006,648,1007,653,880,682"/>
<area shape="rect" href="structrgw__http__req__data.html#a2cb0db213911deffc4b43a81a37098b5" title=" " alt="" coords="964,781,1122,808"/>
<area shape="poly" title=" " alt="" coords="892,792,948,792,948,797,892,797"/>
<area shape="rect" href="structrgw__http__req__data.html#a5d6962235aabed5aabe98213b486ccb1" title=" " alt="" coords="1170,773,1305,816"/>
<area shape="poly" title=" " alt="" coords="1122,792,1155,792,1155,797,1122,797"/>
<area shape="poly" title=" " alt="" coords="528,780,521,770,526,760,543,754,570,752,599,755,615,761,613,766,598,760,570,757,544,759,529,764,526,769,533,777"/>
<area shape="rect" href="rgw__rest__conn_8h.html#a1df0923b4723e3b3f42709b425eb0215" title=" " alt="" coords="751,832,882,859"/>
<area shape="poly" title=" " alt="" coords="630,841,736,842,736,847,630,846"/>
<area shape="rect" href="class_r_g_w_r_e_s_t_conn.html#ae90bac8b6344ad9f172ce25c12cf82e9" title=" " alt="" coords="717,884,916,911"/>
<area shape="poly" title=" " alt="" coords="657,897,701,897,701,902,657,903"/>
<area shape="rect" href="class_r_g_w_r_e_s_t_conn.html#a80208c730562921a2e3b4d9dde10855e" title=" " alt="" coords="729,935,904,977"/>
<area shape="poly" title=" " alt="" coords="658,918,715,931,713,936,657,923"/>
<area shape="rect" href="structrgw__user.html#afd8a9e36c5a9f7773c13d903c3124e99" title=" " alt="" coords="984,857,1102,884"/>
<area shape="poly" title=" " alt="" coords="916,883,969,877,969,882,916,888"/>
<area shape="rect" href="structrgw__user.html#af00f510d6a9ff0580d87ee46b274d96e" title=" " alt="" coords="986,908,1100,935"/>
<area shape="poly" title=" " alt="" coords="916,905,971,911,970,916,916,911"/>
</map>
</div>
<div class="dynheader">
이 함수를 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="rgw__lc__tier_8cc_af4a541b5f9dc56144d816078a8092597_icgraph.png" border="0" usemap="#argw__lc__tier_8cc_af4a541b5f9dc56144d816078a8092597_icgraph" alt=""/></div>
<map name="argw__lc__tier_8cc_af4a541b5f9dc56144d816078a8092597_icgraph" id="argw__lc__tier_8cc_af4a541b5f9dc56144d816078a8092597_icgraph">
<area shape="rect" title=" " alt="" coords="600,13,759,40"/>
<area shape="rect" href="rgw__lc__tier_8cc.html#a4fac4a9dcad607bf27557e0109f826b2" title=" " alt="" coords="418,5,552,48"/>
<area shape="poly" title=" " alt="" coords="585,29,553,29,553,24,585,24"/>
<area shape="rect" href="rgw__lc__tier_8cc.html#a2906f85e3121b2099d65e0f9047553e9" title=" " alt="" coords="216,5,370,48"/>
<area shape="poly" title=" " alt="" coords="402,29,371,29,371,24,402,24"/>
<area shape="rect" href="class_l_c_op_action___transition.html#a11d3ae78bd110a735d53bb533e68b59b" title=" " alt="" coords="5,5,168,48"/>
<area shape="poly" title=" " alt="" coords="200,29,168,29,168,24,200,24"/>
</map>
</div>

</div>
</div>
<a id="a4fac4a9dcad607bf27557e0109f826b2" name="a4fac4a9dcad607bf27557e0109f826b2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4fac4a9dcad607bf27557e0109f826b2">&#9670;&#160;</a></span>cloud_tier_multipart_transfer()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int cloud_tier_multipart_transfer </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_r_g_w_l_c_cloud_tier_ctx.html">RGWLCCloudTierCtx</a> &amp;&#160;</td>
          <td class="paramname"><em>tier_ctx</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition"><a class="el" href="rgw__lc__tier_8cc_source.html">rgw_lc_tier.cc</a> 파일의 <a class="el" href="rgw__lc__tier_8cc_source.html#l01066">1066</a> 번째 라인에서 정의되었습니다.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1066</span>                                                                      {</div>
<div class="line"><span class="lineno"> 1067</span>  <a class="code hl_struct" href="structrgw__obj.html">rgw_obj</a> src_obj;</div>
<div class="line"><span class="lineno"> 1068</span>  <a class="code hl_struct" href="structrgw__obj.html">rgw_obj</a> dest_obj;</div>
<div class="line"><span class="lineno"> 1069</span> </div>
<div class="line"><span class="lineno"> 1070</span>  uint64_t obj_size;</div>
<div class="line"><span class="lineno"> 1071</span>  std::string src_etag;</div>
<div class="line"><span class="lineno"> 1072</span>  <a class="code hl_struct" href="structrgw__rest__obj.html">rgw_rest_obj</a> rest_obj;</div>
<div class="line"><span class="lineno"> 1073</span> </div>
<div class="line"><span class="lineno"> 1074</span>  <a class="code hl_struct" href="structrgw__lc__multipart__upload__info.html">rgw_lc_multipart_upload_info</a> status;</div>
<div class="line"><span class="lineno"> 1075</span> </div>
<div class="line"><span class="lineno"> 1076</span>  std::map&lt;std::string, std::string&gt; new_attrs;</div>
<div class="line"><span class="lineno"> 1077</span> </div>
<div class="line"><span class="lineno"> 1078</span>  <a class="code hl_struct" href="structrgw__raw__obj.html">rgw_raw_obj</a> status_obj;</div>
<div class="line"><span class="lineno"> 1079</span> </div>
<div class="line"><span class="lineno"> 1080</span>  <a class="code hl_struct" href="struct_r_g_w_bucket_info.html">RGWBucketInfo</a> b;</div>
<div class="line"><span class="lineno"> 1081</span>  std::string target_obj_name;</div>
<div class="line"><span class="lineno"> 1082</span>  <a class="code hl_struct" href="structrgw__bucket.html">rgw_bucket</a> target_bucket;</div>
<div class="line"><span class="lineno"> 1083</span> </div>
<div class="line"><span class="lineno"> 1084</span>  <span class="keywordtype">int</span> ret;</div>
<div class="line"><span class="lineno"> 1085</span> </div>
<div class="line"><span class="lineno"> 1086</span>  <a class="code hl_struct" href="structrgw__lc__obj__properties.html">rgw_lc_obj_properties</a> obj_properties(tier_ctx.<a class="code hl_variable" href="struct_r_g_w_l_c_cloud_tier_ctx.html#ac7696914982b184b5a468f23791d91a6">o</a>.meta.mtime, tier_ctx.<a class="code hl_variable" href="struct_r_g_w_l_c_cloud_tier_ctx.html#ac7696914982b184b5a468f23791d91a6">o</a>.meta.etag,</div>
<div class="line"><span class="lineno"> 1087</span>        tier_ctx.<a class="code hl_variable" href="struct_r_g_w_l_c_cloud_tier_ctx.html#ac7696914982b184b5a468f23791d91a6">o</a>.versioned_epoch, tier_ctx.<a class="code hl_variable" href="struct_r_g_w_l_c_cloud_tier_ctx.html#a9bd1ff6151286d286ab6bc40fbe21db3">acl_mappings</a>,</div>
<div class="line"><span class="lineno"> 1088</span>        tier_ctx.<a class="code hl_variable" href="struct_r_g_w_l_c_cloud_tier_ctx.html#aff4bd36e5f90f32bc457cd1da40f8d18">target_storage_class</a>);</div>
<div class="line"><span class="lineno"> 1089</span> </div>
<div class="line"><span class="lineno"> 1090</span>  uint32_t part_size{0};</div>
<div class="line"><span class="lineno"> 1091</span>  uint32_t num_parts{0};</div>
<div class="line"><span class="lineno"> 1092</span> </div>
<div class="line"><span class="lineno"> 1093</span>  <span class="keywordtype">int</span> cur_part{0};</div>
<div class="line"><span class="lineno"> 1094</span>  uint64_t cur_ofs{0};</div>
<div class="line"><span class="lineno"> 1095</span>  std::map&lt;int, rgw_lc_multipart_part_info&gt; parts;</div>
<div class="line"><span class="lineno"> 1096</span> </div>
<div class="line"><span class="lineno"> 1097</span>  obj_size = tier_ctx.<a class="code hl_variable" href="struct_r_g_w_l_c_cloud_tier_ctx.html#ac7696914982b184b5a468f23791d91a6">o</a>.meta.size;</div>
<div class="line"><span class="lineno"> 1098</span> </div>
<div class="line"><span class="lineno"> 1099</span>  target_bucket.<a class="code hl_variable" href="structrgw__bucket.html#a32d3529f5b0c53051c856a7abe867a6b">name</a> = tier_ctx.<a class="code hl_variable" href="struct_r_g_w_l_c_cloud_tier_ctx.html#a6a3c18ecc5b2850180a938c6fd21d567">target_bucket_name</a>;</div>
<div class="line"><span class="lineno"> 1100</span> </div>
<div class="line"><span class="lineno"> 1101</span>  target_obj_name = tier_ctx.<a class="code hl_variable" href="struct_r_g_w_l_c_cloud_tier_ctx.html#a6f880c4c8f05cd4b045c925244da71f8">bucket_info</a>.<a class="code hl_variable" href="struct_r_g_w_bucket_info.html#afbd8422e16061abdf72d710794ac74d4">bucket</a>.<a class="code hl_variable" href="structrgw__bucket.html#a32d3529f5b0c53051c856a7abe867a6b">name</a> + <span class="stringliteral">&quot;/&quot;</span> +</div>
<div class="line"><span class="lineno"> 1102</span>    tier_ctx.<a class="code hl_variable" href="struct_r_g_w_l_c_cloud_tier_ctx.html#a679e2551051f8c0fda753bc1bc6db7cc">obj</a>-&gt;<a class="code hl_function" href="classrgw_1_1sal_1_1_object.html#aa4a801a7e7dfbb29ccf622603dee6ae3">get_name</a>();</div>
<div class="line"><span class="lineno"> 1103</span>  <span class="keywordflow">if</span> (!tier_ctx.<a class="code hl_variable" href="struct_r_g_w_l_c_cloud_tier_ctx.html#ac7696914982b184b5a468f23791d91a6">o</a>.is_current()) {</div>
<div class="line"><span class="lineno"> 1104</span>    target_obj_name += <a class="code hl_function" href="rgw__lc__tier_8cc.html#aea4258058a85e5b1179ec1dba3054041">get_key_instance</a>(tier_ctx.<a class="code hl_variable" href="struct_r_g_w_l_c_cloud_tier_ctx.html#a679e2551051f8c0fda753bc1bc6db7cc">obj</a>-&gt;<a class="code hl_function" href="classrgw_1_1sal_1_1_object.html#af492ef7b108fe3b0045349261ba80c3c">get_key</a>());</div>
<div class="line"><span class="lineno"> 1105</span>  }</div>
<div class="line"><span class="lineno"> 1106</span>  dest_obj.<a class="code hl_function" href="structrgw__obj.html#a1c3e53e85a06152cc59b17f1c57cb416">init</a>(target_bucket, target_obj_name);</div>
<div class="line"><span class="lineno"> 1107</span> </div>
<div class="line"><span class="lineno"> 1108</span>  status_obj = <a class="code hl_struct" href="structrgw__raw__obj.html">rgw_raw_obj</a>(tier_ctx.<a class="code hl_variable" href="struct_r_g_w_l_c_cloud_tier_ctx.html#acd12ed9b2dc9868f9081a968d67763b6">store</a>-&gt;<a class="code hl_function" href="classrgw_1_1sal_1_1_store.html#a7905b89b9f5def056e6b3379637037cc">get_zone</a>()-&gt;<a class="code hl_function" href="classrgw_1_1sal_1_1_zone.html#aad5682df06309df9be7bc8fdab823b50">get_params</a>().<a class="code hl_variable" href="struct_r_g_w_zone_params.html#a802daf944c39f049022b963570ebfaa0">log_pool</a>,</div>
<div class="line"><span class="lineno"> 1109</span>      <span class="stringliteral">&quot;lc_multipart_&quot;</span> + tier_ctx.<a class="code hl_variable" href="struct_r_g_w_l_c_cloud_tier_ctx.html#a679e2551051f8c0fda753bc1bc6db7cc">obj</a>-&gt;<a class="code hl_function" href="classrgw_1_1sal_1_1_object.html#a179f38a720d7ff3bd1a860203391a52d">get_oid</a>());</div>
<div class="line"><span class="lineno"> 1110</span> </div>
<div class="line"><span class="lineno"> 1111</span>  ret = <a class="code hl_function" href="rgw__lc__tier_8cc.html#a1a318bf893149ea31426d89445c69d60">read_upload_status</a>(tier_ctx.<a class="code hl_variable" href="struct_r_g_w_l_c_cloud_tier_ctx.html#a10433e11720af1b72f2fec265ce02143">dpp</a>, tier_ctx.<a class="code hl_variable" href="struct_r_g_w_l_c_cloud_tier_ctx.html#acd12ed9b2dc9868f9081a968d67763b6">store</a>, &amp;status_obj, &amp;status);</div>
<div class="line"><span class="lineno"> 1112</span> </div>
<div class="line"><span class="lineno"> 1113</span>  <span class="keywordflow">if</span> (ret &lt; 0 &amp;&amp; ret != -ENOENT) {</div>
<div class="line"><span class="lineno"> 1114</span>    ldpp_dout(tier_ctx.<a class="code hl_variable" href="struct_r_g_w_l_c_cloud_tier_ctx.html#a10433e11720af1b72f2fec265ce02143">dpp</a>, 0) &lt;&lt; <span class="stringliteral">&quot;ERROR: failed to read sync status of object &quot;</span> &lt;&lt; src_obj &lt;&lt; <span class="stringliteral">&quot; ret=&quot;</span> &lt;&lt; ret &lt;&lt; dendl;</div>
<div class="line"><span class="lineno"> 1115</span>    <span class="keywordflow">return</span> ret;</div>
<div class="line"><span class="lineno"> 1116</span>  }</div>
<div class="line"><span class="lineno"> 1117</span> </div>
<div class="line"><span class="lineno"> 1118</span>  <span class="keywordflow">if</span> (ret &gt;= 0) {</div>
<div class="line"><span class="lineno"> 1119</span>    <span class="comment">// check here that mtime and size did not change </span></div>
<div class="line"><span class="lineno"> 1120</span>    <span class="keywordflow">if</span> (status.<a class="code hl_variable" href="structrgw__lc__multipart__upload__info.html#acebc87897790bb3a12b5cb8f023ce8f3">mtime</a> != obj_properties.mtime || status.<a class="code hl_variable" href="structrgw__lc__multipart__upload__info.html#afbd7213a9bf5f52af81200b87c371c4b">obj_size</a> != obj_size ||</div>
<div class="line"><span class="lineno"> 1121</span>        status.<a class="code hl_variable" href="structrgw__lc__multipart__upload__info.html#ac9c89f7bc0b79946dc7286429541d72b">etag</a> != obj_properties.etag) {</div>
<div class="line"><span class="lineno"> 1122</span>      <a class="code hl_function" href="rgw__lc__tier_8cc.html#ae302c4d72a8677228743aa6c720c3c3b">cloud_tier_abort_multipart_upload</a>(tier_ctx, dest_obj, status_obj, status.<a class="code hl_variable" href="structrgw__lc__multipart__upload__info.html#abb8b86a3071500e334a85c3f2079dd2e">upload_id</a>);</div>
<div class="line"><span class="lineno"> 1123</span>      ret = -ENOENT;</div>
<div class="line"><span class="lineno"> 1124</span>    }</div>
<div class="line"><span class="lineno"> 1125</span>  }</div>
<div class="line"><span class="lineno"> 1126</span> </div>
<div class="line"><span class="lineno"> 1127</span>  <span class="keywordflow">if</span> (ret == -ENOENT) { </div>
<div class="line"><span class="lineno"> 1128</span>    <a class="code hl_class" href="class_r_g_w_l_c_stream_read.html">RGWLCStreamRead</a> readf(tier_ctx.<a class="code hl_variable" href="struct_r_g_w_l_c_cloud_tier_ctx.html#aaa953630ccef16688265f292162d994e">cct</a>, tier_ctx.<a class="code hl_variable" href="struct_r_g_w_l_c_cloud_tier_ctx.html#a10433e11720af1b72f2fec265ce02143">dpp</a>, tier_ctx.<a class="code hl_variable" href="struct_r_g_w_l_c_cloud_tier_ctx.html#a9e2fe5d0f93b543cbd0f793f39c0a27b">rctx</a>, tier_ctx.<a class="code hl_variable" href="struct_r_g_w_l_c_cloud_tier_ctx.html#a679e2551051f8c0fda753bc1bc6db7cc">obj</a>, tier_ctx.<a class="code hl_variable" href="struct_r_g_w_l_c_cloud_tier_ctx.html#ac7696914982b184b5a468f23791d91a6">o</a>.meta.mtime);</div>
<div class="line"><span class="lineno"> 1129</span> </div>
<div class="line"><span class="lineno"> 1130</span>    readf.init();</div>
<div class="line"><span class="lineno"> 1131</span> </div>
<div class="line"><span class="lineno"> 1132</span>    rest_obj = readf.get_rest_obj();</div>
<div class="line"><span class="lineno"> 1133</span> </div>
<div class="line"><span class="lineno"> 1134</span>    <a class="code hl_function" href="class_r_g_w_l_c_cloud_stream_put.html#aee0a9faf946f162d660f141a03209222">RGWLCCloudStreamPut::init_send_attrs</a>(tier_ctx.<a class="code hl_variable" href="struct_r_g_w_l_c_cloud_tier_ctx.html#a10433e11720af1b72f2fec265ce02143">dpp</a>, rest_obj, obj_properties, new_attrs);</div>
<div class="line"><span class="lineno"> 1135</span> </div>
<div class="line"><span class="lineno"> 1136</span>    ret = <a class="code hl_function" href="rgw__lc__tier_8cc.html#af4a541b5f9dc56144d816078a8092597">cloud_tier_init_multipart</a>(tier_ctx.<a class="code hl_variable" href="struct_r_g_w_l_c_cloud_tier_ctx.html#a10433e11720af1b72f2fec265ce02143">dpp</a>, tier_ctx.<a class="code hl_variable" href="struct_r_g_w_l_c_cloud_tier_ctx.html#af3287a0bb4c2ff1d3c49b458004722c8">conn</a>, dest_obj, obj_size, new_attrs, status.<a class="code hl_variable" href="structrgw__lc__multipart__upload__info.html#abb8b86a3071500e334a85c3f2079dd2e">upload_id</a>);</div>
<div class="line"><span class="lineno"> 1137</span>    <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno"> 1138</span>      <span class="keywordflow">return</span> ret;</div>
<div class="line"><span class="lineno"> 1139</span>    }</div>
<div class="line"><span class="lineno"> 1140</span> </div>
<div class="line"><span class="lineno"> 1141</span>    status.<a class="code hl_variable" href="structrgw__lc__multipart__upload__info.html#afbd7213a9bf5f52af81200b87c371c4b">obj_size</a> = obj_size;</div>
<div class="line"><span class="lineno"> 1142</span>    status.<a class="code hl_variable" href="structrgw__lc__multipart__upload__info.html#acebc87897790bb3a12b5cb8f023ce8f3">mtime</a> = obj_properties.mtime;</div>
<div class="line"><span class="lineno"> 1143</span>    status.<a class="code hl_variable" href="structrgw__lc__multipart__upload__info.html#ac9c89f7bc0b79946dc7286429541d72b">etag</a> = obj_properties.etag;</div>
<div class="line"><span class="lineno"> 1144</span> </div>
<div class="line"><span class="lineno"> 1145</span>    ret = <a class="code hl_function" href="rgw__lc__tier_8cc.html#a0817e31380203858cc25fc9e2b0e5c4e">put_upload_status</a>(tier_ctx.<a class="code hl_variable" href="struct_r_g_w_l_c_cloud_tier_ctx.html#a10433e11720af1b72f2fec265ce02143">dpp</a>, tier_ctx.<a class="code hl_variable" href="struct_r_g_w_l_c_cloud_tier_ctx.html#acd12ed9b2dc9868f9081a968d67763b6">store</a>, &amp;status_obj, &amp;status);</div>
<div class="line"><span class="lineno"> 1146</span> </div>
<div class="line"><span class="lineno"> 1147</span>    <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno"> 1148</span>      ldpp_dout(tier_ctx.<a class="code hl_variable" href="struct_r_g_w_l_c_cloud_tier_ctx.html#a10433e11720af1b72f2fec265ce02143">dpp</a>, 0) &lt;&lt; <span class="stringliteral">&quot;ERROR: failed to store multipart upload state, ret=&quot;</span> &lt;&lt; ret &lt;&lt; dendl;</div>
<div class="line"><span class="lineno"> 1149</span>      <span class="comment">// continue with upload anyway </span></div>
<div class="line"><span class="lineno"> 1150</span>    }</div>
<div class="line"><span class="lineno"> 1151</span> </div>
<div class="line"><span class="lineno"> 1152</span><span class="preprocessor">#define MULTIPART_MAX_PARTS 10000</span></div>
<div class="line"><span class="lineno"> 1153</span><span class="preprocessor">#define MULTIPART_MAX_PARTS 10000</span></div>
<div class="line"><span class="lineno"> 1154</span>    uint64_t min_part_size = obj_size / <a class="code hl_define" href="rgw__lc__tier_8cc.html#ac9e727e0c4741d28bf70975bfec93498">MULTIPART_MAX_PARTS</a>;</div>
<div class="line"><span class="lineno"> 1155</span>    uint64_t min_conf_size = tier_ctx.<a class="code hl_variable" href="struct_r_g_w_l_c_cloud_tier_ctx.html#a3ea43a6ce6eb12888719d6d75697e462">multipart_min_part_size</a>;</div>
<div class="line"><span class="lineno"> 1156</span> </div>
<div class="line"><span class="lineno"> 1157</span>    <span class="keywordflow">if</span> (min_conf_size &lt; <a class="code hl_define" href="rgw__lc__tier_8h.html#af4a5704f03c523b1039a0726ce189a5a">MULTIPART_MIN_POSSIBLE_PART_SIZE</a>) {</div>
<div class="line"><span class="lineno"> 1158</span>      min_conf_size = <a class="code hl_define" href="rgw__lc__tier_8h.html#af4a5704f03c523b1039a0726ce189a5a">MULTIPART_MIN_POSSIBLE_PART_SIZE</a>;</div>
<div class="line"><span class="lineno"> 1159</span>    }</div>
<div class="line"><span class="lineno"> 1160</span> </div>
<div class="line"><span class="lineno"> 1161</span>    part_size = std::max(min_conf_size, min_part_size);</div>
<div class="line"><span class="lineno"> 1162</span>    num_parts = (obj_size + part_size - 1) / part_size;</div>
<div class="line"><span class="lineno"> 1163</span>    cur_part = 1;</div>
<div class="line"><span class="lineno"> 1164</span>    cur_ofs = 0;</div>
<div class="line"><span class="lineno"> 1165</span>  }</div>
<div class="line"><span class="lineno"> 1166</span> </div>
<div class="line"><span class="lineno"> 1167</span>  <span class="keywordflow">for</span> (; (uint32_t)cur_part &lt;= num_parts; ++cur_part) {</div>
<div class="line"><span class="lineno"> 1168</span>    ldpp_dout(tier_ctx.<a class="code hl_variable" href="struct_r_g_w_l_c_cloud_tier_ctx.html#a10433e11720af1b72f2fec265ce02143">dpp</a>, 20) &lt;&lt; <span class="stringliteral">&quot;cur_part = &quot;</span>&lt;&lt; cur_part &lt;&lt; <span class="stringliteral">&quot;, info.ofs = &quot;</span> &lt;&lt; cur_ofs &lt;&lt; <span class="stringliteral">&quot;, info.size = &quot;</span> &lt;&lt; part_size &lt;&lt; <span class="stringliteral">&quot;, obj size = &quot;</span> &lt;&lt; obj_size&lt;&lt; <span class="stringliteral">&quot;, num_parts:&quot;</span> &lt;&lt; num_parts &lt;&lt; dendl;</div>
<div class="line"><span class="lineno"> 1169</span>    <a class="code hl_struct" href="structrgw__lc__multipart__part__info.html">rgw_lc_multipart_part_info</a>&amp; cur_part_info = parts[cur_part];</div>
<div class="line"><span class="lineno"> 1170</span>    cur_part_info.<a class="code hl_variable" href="structrgw__lc__multipart__part__info.html#a30a2a42af140ca3986191a3f3a5efe3a">part_num</a> = cur_part;</div>
<div class="line"><span class="lineno"> 1171</span>    cur_part_info.<a class="code hl_variable" href="structrgw__lc__multipart__part__info.html#a6412fafd66ed2e11305b05d187e48fc1">ofs</a> = cur_ofs;</div>
<div class="line"><span class="lineno"> 1172</span>    cur_part_info.<a class="code hl_variable" href="structrgw__lc__multipart__part__info.html#a48918c5b169e02d87cc6a7fa492bea1f">size</a> = std::min((uint64_t)part_size, obj_size - cur_ofs);</div>
<div class="line"><span class="lineno"> 1173</span> </div>
<div class="line"><span class="lineno"> 1174</span>    cur_ofs += cur_part_info.<a class="code hl_variable" href="structrgw__lc__multipart__part__info.html#a48918c5b169e02d87cc6a7fa492bea1f">size</a>;</div>
<div class="line"><span class="lineno"> 1175</span> </div>
<div class="line"><span class="lineno"> 1176</span>    ret = <a class="code hl_function" href="rgw__lc__tier_8cc.html#a3bf8a95e6d9ba53115bfb1118a771df4">cloud_tier_send_multipart_part</a>(tier_ctx,</div>
<div class="line"><span class="lineno"> 1177</span>            status.<a class="code hl_variable" href="structrgw__lc__multipart__upload__info.html#abb8b86a3071500e334a85c3f2079dd2e">upload_id</a>,</div>
<div class="line"><span class="lineno"> 1178</span>            cur_part_info,</div>
<div class="line"><span class="lineno"> 1179</span>            &amp;cur_part_info.<a class="code hl_variable" href="structrgw__lc__multipart__part__info.html#ad310400b70bd9853adc5434402673add">etag</a>);</div>
<div class="line"><span class="lineno"> 1180</span> </div>
<div class="line"><span class="lineno"> 1181</span>    <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno"> 1182</span>      ldpp_dout(tier_ctx.<a class="code hl_variable" href="struct_r_g_w_l_c_cloud_tier_ctx.html#a10433e11720af1b72f2fec265ce02143">dpp</a>, 0) &lt;&lt; <span class="stringliteral">&quot;ERROR: failed to send multipart part of obj=&quot;</span> &lt;&lt; tier_ctx.<a class="code hl_variable" href="struct_r_g_w_l_c_cloud_tier_ctx.html#a679e2551051f8c0fda753bc1bc6db7cc">obj</a> &lt;&lt; <span class="stringliteral">&quot;, sync via multipart upload, upload_id=&quot;</span> &lt;&lt; status.<a class="code hl_variable" href="structrgw__lc__multipart__upload__info.html#abb8b86a3071500e334a85c3f2079dd2e">upload_id</a> &lt;&lt; <span class="stringliteral">&quot; part number &quot;</span> &lt;&lt; cur_part &lt;&lt; <span class="stringliteral">&quot; (error: &quot;</span> &lt;&lt; cpp_strerror(-ret) &lt;&lt; <span class="stringliteral">&quot;)&quot;</span> &lt;&lt; dendl;</div>
<div class="line"><span class="lineno"> 1183</span>      <a class="code hl_function" href="rgw__lc__tier_8cc.html#ae302c4d72a8677228743aa6c720c3c3b">cloud_tier_abort_multipart_upload</a>(tier_ctx, dest_obj, status_obj, status.<a class="code hl_variable" href="structrgw__lc__multipart__upload__info.html#abb8b86a3071500e334a85c3f2079dd2e">upload_id</a>);</div>
<div class="line"><span class="lineno"> 1184</span>      <span class="keywordflow">return</span> ret;</div>
<div class="line"><span class="lineno"> 1185</span>    }</div>
<div class="line"><span class="lineno"> 1186</span> </div>
<div class="line"><span class="lineno"> 1187</span>  }</div>
<div class="line"><span class="lineno"> 1188</span> </div>
<div class="line"><span class="lineno"> 1189</span>  ret = <a class="code hl_function" href="rgw__lc__tier_8cc.html#a14cca91b5600848ab8a3726b6e01a7cf">cloud_tier_complete_multipart</a>(tier_ctx.<a class="code hl_variable" href="struct_r_g_w_l_c_cloud_tier_ctx.html#a10433e11720af1b72f2fec265ce02143">dpp</a>, tier_ctx.<a class="code hl_variable" href="struct_r_g_w_l_c_cloud_tier_ctx.html#af3287a0bb4c2ff1d3c49b458004722c8">conn</a>, dest_obj, status.<a class="code hl_variable" href="structrgw__lc__multipart__upload__info.html#abb8b86a3071500e334a85c3f2079dd2e">upload_id</a>, parts);</div>
<div class="line"><span class="lineno"> 1190</span>  <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno"> 1191</span>    ldpp_dout(tier_ctx.<a class="code hl_variable" href="struct_r_g_w_l_c_cloud_tier_ctx.html#a10433e11720af1b72f2fec265ce02143">dpp</a>, 0) &lt;&lt; <span class="stringliteral">&quot;ERROR: failed to complete multipart upload of obj=&quot;</span> &lt;&lt; tier_ctx.<a class="code hl_variable" href="struct_r_g_w_l_c_cloud_tier_ctx.html#a679e2551051f8c0fda753bc1bc6db7cc">obj</a> &lt;&lt; <span class="stringliteral">&quot; (error: &quot;</span> &lt;&lt; cpp_strerror(-ret) &lt;&lt; <span class="stringliteral">&quot;)&quot;</span> &lt;&lt; dendl;</div>
<div class="line"><span class="lineno"> 1192</span>    <a class="code hl_function" href="rgw__lc__tier_8cc.html#ae302c4d72a8677228743aa6c720c3c3b">cloud_tier_abort_multipart_upload</a>(tier_ctx, dest_obj, status_obj, status.<a class="code hl_variable" href="structrgw__lc__multipart__upload__info.html#abb8b86a3071500e334a85c3f2079dd2e">upload_id</a>);</div>
<div class="line"><span class="lineno"> 1193</span>    <span class="keywordflow">return</span> ret;</div>
<div class="line"><span class="lineno"> 1194</span>  }</div>
<div class="line"><span class="lineno"> 1195</span> </div>
<div class="line"><span class="lineno"> 1196</span>  <span class="comment">/* remove status obj */</span></div>
<div class="line"><span class="lineno"> 1197</span>  ret = <a class="code hl_function" href="rgw__lc__tier_8cc.html#a8346ef5c144b99b4d473eb3c7657340e">delete_upload_status</a>(tier_ctx.<a class="code hl_variable" href="struct_r_g_w_l_c_cloud_tier_ctx.html#a10433e11720af1b72f2fec265ce02143">dpp</a>, tier_ctx.<a class="code hl_variable" href="struct_r_g_w_l_c_cloud_tier_ctx.html#acd12ed9b2dc9868f9081a968d67763b6">store</a>, &amp;status_obj);</div>
<div class="line"><span class="lineno"> 1198</span>  <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno"> 1199</span>    ldpp_dout(tier_ctx.<a class="code hl_variable" href="struct_r_g_w_l_c_cloud_tier_ctx.html#a10433e11720af1b72f2fec265ce02143">dpp</a>, 0) &lt;&lt; <span class="stringliteral">&quot;ERROR: failed to abort multipart upload obj=&quot;</span> &lt;&lt; tier_ctx.<a class="code hl_variable" href="struct_r_g_w_l_c_cloud_tier_ctx.html#a679e2551051f8c0fda753bc1bc6db7cc">obj</a> &lt;&lt; <span class="stringliteral">&quot; upload_id=&quot;</span> &lt;&lt; status.<a class="code hl_variable" href="structrgw__lc__multipart__upload__info.html#abb8b86a3071500e334a85c3f2079dd2e">upload_id</a> &lt;&lt; <span class="stringliteral">&quot; part number &quot;</span> &lt;&lt; cur_part &lt;&lt; <span class="stringliteral">&quot; (&quot;</span> &lt;&lt; cpp_strerror(-ret) &lt;&lt; <span class="stringliteral">&quot;)&quot;</span> &lt;&lt; dendl;</div>
<div class="line"><span class="lineno"> 1200</span>    <span class="comment">// ignore error, best effort </span></div>
<div class="line"><span class="lineno"> 1201</span>  }</div>
<div class="line"><span class="lineno"> 1202</span>  <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno"> 1203</span>}</div>
<div class="ttc" id="aclass_r_g_w_l_c_cloud_stream_put_html_aee0a9faf946f162d660f141a03209222"><div class="ttname"><a href="class_r_g_w_l_c_cloud_stream_put.html#aee0a9faf946f162d660f141a03209222">RGWLCCloudStreamPut::init_send_attrs</a></div><div class="ttdeci">static void init_send_attrs(const DoutPrefixProvider *dpp, const rgw_rest_obj &amp;rest_obj, const rgw_lc_obj_properties &amp;obj_properties, std::map&lt; std::string, std::string &gt; &amp;attrs)</div><div class="ttdef"><b>Definition</b> <a href="rgw__lc__tier_8cc_source.html#l00522">rgw_lc_tier.cc:522</a></div></div>
<div class="ttc" id="aclass_r_g_w_l_c_stream_read_html"><div class="ttname"><a href="class_r_g_w_l_c_stream_read.html">RGWLCStreamRead</a></div><div class="ttdef"><b>Definition</b> <a href="rgw__lc__tier_8cc_source.html#l00320">rgw_lc_tier.cc:321</a></div></div>
<div class="ttc" id="aclassrgw_1_1sal_1_1_object_html_a179f38a720d7ff3bd1a860203391a52d"><div class="ttname"><a href="classrgw_1_1sal_1_1_object.html#a179f38a720d7ff3bd1a860203391a52d">rgw::sal::Object::get_oid</a></div><div class="ttdeci">std::string get_oid(void) const</div><div class="ttdef"><b>Definition</b> <a href="rgw__sal_8h_source.html#l01052">rgw_sal.h:1052</a></div></div>
<div class="ttc" id="aclassrgw_1_1sal_1_1_store_html_a7905b89b9f5def056e6b3379637037cc"><div class="ttname"><a href="classrgw_1_1sal_1_1_store.html#a7905b89b9f5def056e6b3379637037cc">rgw::sal::Store::get_zone</a></div><div class="ttdeci">virtual Zone * get_zone()=0</div></div>
<div class="ttc" id="aclassrgw_1_1sal_1_1_zone_html_aad5682df06309df9be7bc8fdab823b50"><div class="ttname"><a href="classrgw_1_1sal_1_1_zone.html#aad5682df06309df9be7bc8fdab823b50">rgw::sal::Zone::get_params</a></div><div class="ttdeci">virtual const RGWZoneParams &amp; get_params()=0</div></div>
<div class="ttc" id="argw__lc__tier_8cc_html_a0817e31380203858cc25fc9e2b0e5c4e"><div class="ttname"><a href="rgw__lc__tier_8cc.html#a0817e31380203858cc25fc9e2b0e5c4e">put_upload_status</a></div><div class="ttdeci">static int put_upload_status(const DoutPrefixProvider *dpp, rgw::sal::Store *store, const rgw_raw_obj *status_obj, rgw_lc_multipart_upload_info *status)</div><div class="ttdef"><b>Definition</b> <a href="rgw__lc__tier_8cc_source.html#l00141">rgw_lc_tier.cc:141</a></div></div>
<div class="ttc" id="argw__lc__tier_8cc_html_a14cca91b5600848ab8a3726b6e01a7cf"><div class="ttname"><a href="rgw__lc__tier_8cc.html#a14cca91b5600848ab8a3726b6e01a7cf">cloud_tier_complete_multipart</a></div><div class="ttdeci">static int cloud_tier_complete_multipart(const DoutPrefixProvider *dpp, RGWRESTConn &amp;dest_conn, const rgw_obj &amp;dest_obj, std::string &amp;upload_id, const std::map&lt; int, rgw_lc_multipart_part_info &gt; &amp;parts)</div><div class="ttdef"><b>Definition</b> <a href="rgw__lc__tier_8cc_source.html#l00961">rgw_lc_tier.cc:961</a></div></div>
<div class="ttc" id="argw__lc__tier_8cc_html_a1a318bf893149ea31426d89445c69d60"><div class="ttname"><a href="rgw__lc__tier_8cc.html#a1a318bf893149ea31426d89445c69d60">read_upload_status</a></div><div class="ttdeci">static int read_upload_status(const DoutPrefixProvider *dpp, rgw::sal::Store *store, const rgw_raw_obj *status_obj, rgw_lc_multipart_upload_info *status)</div><div class="ttdef"><b>Definition</b> <a href="rgw__lc__tier_8cc_source.html#l00102">rgw_lc_tier.cc:102</a></div></div>
<div class="ttc" id="argw__lc__tier_8cc_html_a3bf8a95e6d9ba53115bfb1118a771df4"><div class="ttname"><a href="rgw__lc__tier_8cc.html#a3bf8a95e6d9ba53115bfb1118a771df4">cloud_tier_send_multipart_part</a></div><div class="ttdeci">static int cloud_tier_send_multipart_part(RGWLCCloudTierCtx &amp;tier_ctx, const std::string &amp;upload_id, const rgw_lc_multipart_part_info &amp;part_info, std::string *petag)</div><div class="ttdef"><b>Definition</b> <a href="rgw__lc__tier_8cc_source.html#l00809">rgw_lc_tier.cc:809</a></div></div>
<div class="ttc" id="argw__lc__tier_8cc_html_ac9e727e0c4741d28bf70975bfec93498"><div class="ttname"><a href="rgw__lc__tier_8cc.html#ac9e727e0c4741d28bf70975bfec93498">MULTIPART_MAX_PARTS</a></div><div class="ttdeci">#define MULTIPART_MAX_PARTS</div></div>
<div class="ttc" id="argw__lc__tier_8cc_html_ae302c4d72a8677228743aa6c720c3c3b"><div class="ttname"><a href="rgw__lc__tier_8cc.html#ae302c4d72a8677228743aa6c720c3c3b">cloud_tier_abort_multipart_upload</a></div><div class="ttdeci">static int cloud_tier_abort_multipart_upload(RGWLCCloudTierCtx &amp;tier_ctx, const rgw_obj &amp;dest_obj, const rgw_raw_obj &amp;status_obj, const std::string &amp;upload_id)</div><div class="ttdef"><b>Definition</b> <a href="rgw__lc__tier_8cc_source.html#l01046">rgw_lc_tier.cc:1046</a></div></div>
<div class="ttc" id="argw__lc__tier_8cc_html_af4a541b5f9dc56144d816078a8092597"><div class="ttname"><a href="rgw__lc__tier_8cc.html#af4a541b5f9dc56144d816078a8092597">cloud_tier_init_multipart</a></div><div class="ttdeci">static int cloud_tier_init_multipart(const DoutPrefixProvider *dpp, RGWRESTConn &amp;dest_conn, const rgw_obj &amp;dest_obj, uint64_t obj_size, std::map&lt; std::string, std::string &gt; &amp;attrs, std::string &amp;upload_id)</div><div class="ttdef"><b>Definition</b> <a href="rgw__lc__tier_8cc_source.html#l00898">rgw_lc_tier.cc:898</a></div></div>
<div class="ttc" id="argw__lc__tier_8h_html_af4a5704f03c523b1039a0726ce189a5a"><div class="ttname"><a href="rgw__lc__tier_8h.html#af4a5704f03c523b1039a0726ce189a5a">MULTIPART_MIN_POSSIBLE_PART_SIZE</a></div><div class="ttdeci">#define MULTIPART_MIN_POSSIBLE_PART_SIZE</div><div class="ttdef"><b>Definition</b> <a href="rgw__lc__tier_8h_source.html#l00015">rgw_lc_tier.h:15</a></div></div>
<div class="ttc" id="astruct_r_g_w_l_c_cloud_tier_ctx_html_a3ea43a6ce6eb12888719d6d75697e462"><div class="ttname"><a href="struct_r_g_w_l_c_cloud_tier_ctx.html#a3ea43a6ce6eb12888719d6d75697e462">RGWLCCloudTierCtx::multipart_min_part_size</a></div><div class="ttdeci">uint64_t multipart_min_part_size</div><div class="ttdef"><b>Definition</b> <a href="rgw__lc__tier_8h_source.html#l00036">rgw_lc_tier.h:36</a></div></div>
<div class="ttc" id="astruct_r_g_w_l_c_cloud_tier_ctx_html_a9e2fe5d0f93b543cbd0f793f39c0a27b"><div class="ttname"><a href="struct_r_g_w_l_c_cloud_tier_ctx.html#a9e2fe5d0f93b543cbd0f793f39c0a27b">RGWLCCloudTierCtx::rctx</a></div><div class="ttdeci">RGWObjectCtx &amp; rctx</div><div class="ttdef"><b>Definition</b> <a href="rgw__lc__tier_8h_source.html#l00028">rgw_lc_tier.h:28</a></div></div>
<div class="ttc" id="astruct_r_g_w_l_c_cloud_tier_ctx_html_aaa953630ccef16688265f292162d994e"><div class="ttname"><a href="struct_r_g_w_l_c_cloud_tier_ctx.html#aaa953630ccef16688265f292162d994e">RGWLCCloudTierCtx::cct</a></div><div class="ttdeci">CephContext * cct</div><div class="ttdef"><b>Definition</b> <a href="rgw__lc__tier_8h_source.html#l00018">rgw_lc_tier.h:18</a></div></div>
<div class="ttc" id="astruct_r_g_w_zone_params_html_a802daf944c39f049022b963570ebfaa0"><div class="ttname"><a href="struct_r_g_w_zone_params.html#a802daf944c39f049022b963570ebfaa0">RGWZoneParams::log_pool</a></div><div class="ttdeci">rgw_pool log_pool</div><div class="ttdef"><b>Definition</b> <a href="rgw__zone_8h_source.html#l00375">rgw_zone.h:375</a></div></div>
<div class="ttc" id="astructrgw__bucket_html"><div class="ttname"><a href="structrgw__bucket.html">rgw_bucket</a></div><div class="ttdef"><b>Definition</b> <a href="rgw__basic__types_8h_source.html#l00289">rgw_basic_types.h:289</a></div></div>
<div class="ttc" id="astructrgw__lc__multipart__part__info_html"><div class="ttname"><a href="structrgw__lc__multipart__part__info.html">rgw_lc_multipart_part_info</a></div><div class="ttdef"><b>Definition</b> <a href="rgw__lc__tier_8cc_source.html#l00027">rgw_lc_tier.cc:27</a></div></div>
<div class="ttc" id="astructrgw__lc__multipart__part__info_html_a30a2a42af140ca3986191a3f3a5efe3a"><div class="ttname"><a href="structrgw__lc__multipart__part__info.html#a30a2a42af140ca3986191a3f3a5efe3a">rgw_lc_multipart_part_info::part_num</a></div><div class="ttdeci">int part_num</div><div class="ttdef"><b>Definition</b> <a href="rgw__lc__tier_8cc_source.html#l00028">rgw_lc_tier.cc:28</a></div></div>
<div class="ttc" id="astructrgw__lc__multipart__part__info_html_a48918c5b169e02d87cc6a7fa492bea1f"><div class="ttname"><a href="structrgw__lc__multipart__part__info.html#a48918c5b169e02d87cc6a7fa492bea1f">rgw_lc_multipart_part_info::size</a></div><div class="ttdeci">uint64_t size</div><div class="ttdef"><b>Definition</b> <a href="rgw__lc__tier_8cc_source.html#l00030">rgw_lc_tier.cc:30</a></div></div>
<div class="ttc" id="astructrgw__lc__multipart__part__info_html_a6412fafd66ed2e11305b05d187e48fc1"><div class="ttname"><a href="structrgw__lc__multipart__part__info.html#a6412fafd66ed2e11305b05d187e48fc1">rgw_lc_multipart_part_info::ofs</a></div><div class="ttdeci">uint64_t ofs</div><div class="ttdef"><b>Definition</b> <a href="rgw__lc__tier_8cc_source.html#l00029">rgw_lc_tier.cc:29</a></div></div>
<div class="ttc" id="astructrgw__lc__multipart__part__info_html_ad310400b70bd9853adc5434402673add"><div class="ttname"><a href="structrgw__lc__multipart__part__info.html#ad310400b70bd9853adc5434402673add">rgw_lc_multipart_part_info::etag</a></div><div class="ttdeci">std::string etag</div><div class="ttdef"><b>Definition</b> <a href="rgw__lc__tier_8cc_source.html#l00031">rgw_lc_tier.cc:31</a></div></div>
<div class="ttc" id="astructrgw__lc__multipart__upload__info_html"><div class="ttname"><a href="structrgw__lc__multipart__upload__info.html">rgw_lc_multipart_upload_info</a></div><div class="ttdef"><b>Definition</b> <a href="rgw__lc__tier_8cc_source.html#l00051">rgw_lc_tier.cc:51</a></div></div>
<div class="ttc" id="astructrgw__lc__multipart__upload__info_html_abb8b86a3071500e334a85c3f2079dd2e"><div class="ttname"><a href="structrgw__lc__multipart__upload__info.html#abb8b86a3071500e334a85c3f2079dd2e">rgw_lc_multipart_upload_info::upload_id</a></div><div class="ttdeci">std::string upload_id</div><div class="ttdef"><b>Definition</b> <a href="rgw__lc__tier_8cc_source.html#l00052">rgw_lc_tier.cc:52</a></div></div>
<div class="ttc" id="astructrgw__lc__multipart__upload__info_html_ac9c89f7bc0b79946dc7286429541d72b"><div class="ttname"><a href="structrgw__lc__multipart__upload__info.html#ac9c89f7bc0b79946dc7286429541d72b">rgw_lc_multipart_upload_info::etag</a></div><div class="ttdeci">std::string etag</div><div class="ttdef"><b>Definition</b> <a href="rgw__lc__tier_8cc_source.html#l00055">rgw_lc_tier.cc:55</a></div></div>
<div class="ttc" id="astructrgw__lc__multipart__upload__info_html_acebc87897790bb3a12b5cb8f023ce8f3"><div class="ttname"><a href="structrgw__lc__multipart__upload__info.html#acebc87897790bb3a12b5cb8f023ce8f3">rgw_lc_multipart_upload_info::mtime</a></div><div class="ttdeci">ceph::real_time mtime</div><div class="ttdef"><b>Definition</b> <a href="rgw__lc__tier_8cc_source.html#l00054">rgw_lc_tier.cc:54</a></div></div>
<div class="ttc" id="astructrgw__lc__multipart__upload__info_html_afbd7213a9bf5f52af81200b87c371c4b"><div class="ttname"><a href="structrgw__lc__multipart__upload__info.html#afbd7213a9bf5f52af81200b87c371c4b">rgw_lc_multipart_upload_info::obj_size</a></div><div class="ttdeci">uint64_t obj_size</div><div class="ttdef"><b>Definition</b> <a href="rgw__lc__tier_8cc_source.html#l00053">rgw_lc_tier.cc:53</a></div></div>
<div class="ttc" id="astructrgw__obj_html"><div class="ttname"><a href="structrgw__obj.html">rgw_obj</a></div><div class="ttdef"><b>Definition</b> <a href="rgw__common_8h_source.html#l01802">rgw_common.h:1802</a></div></div>
<div class="ttc" id="astructrgw__obj_html_a1c3e53e85a06152cc59b17f1c57cb416"><div class="ttname"><a href="structrgw__obj.html#a1c3e53e85a06152cc59b17f1c57cb416">rgw_obj::init</a></div><div class="ttdeci">void init(const rgw_bucket &amp;b, const std::string &amp;name)</div><div class="ttdef"><b>Definition</b> <a href="rgw__common_8h_source.html#l01816">rgw_common.h:1816</a></div></div>
<div class="ttc" id="astructrgw__raw__obj_html"><div class="ttname"><a href="structrgw__raw__obj.html">rgw_raw_obj</a></div><div class="ttdef"><b>Definition</b> <a href="rgw__common_8h_source.html#l00922">rgw_common.h:922</a></div></div>
<div class="ttc" id="astructrgw__rest__obj_html"><div class="ttname"><a href="structrgw__rest__obj.html">rgw_rest_obj</a></div><div class="ttdef"><b>Definition</b> <a href="rgw__cr__rest_8h_source.html#l00014">rgw_cr_rest.h:14</a></div></div>
</div><!-- fragment --><div class="dynheader">
이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="rgw__lc__tier_8cc_a4fac4a9dcad607bf27557e0109f826b2_cgraph.png" border="0" usemap="#argw__lc__tier_8cc_a4fac4a9dcad607bf27557e0109f826b2_cgraph" alt=""/></div>
<map name="argw__lc__tier_8cc_a4fac4a9dcad607bf27557e0109f826b2_cgraph" id="argw__lc__tier_8cc_a4fac4a9dcad607bf27557e0109f826b2_cgraph">
<area shape="rect" title=" " alt="" coords="5,1335,140,1377"/>
<area shape="rect" href="rgw__lc__tier_8cc.html#ae302c4d72a8677228743aa6c720c3c3b" title=" " alt="" coords="202,848,372,891"/>
<area shape="poly" title=" " alt="" coords="71,1334,73,1258,88,1148,102,1087,122,1025,150,967,186,914,205,897,208,901,190,918,154,970,127,1027,107,1088,93,1148,79,1258,76,1334"/>
<area shape="rect" href="rgw__lc__tier_8cc.html#a8346ef5c144b99b4d473eb3c7657340e" title=" " alt="" coords="451,856,595,883"/>
<area shape="poly" title=" " alt="" coords="77,1334,91,1288,113,1228,145,1163,186,1102,241,1052,323,993,484,889,487,893,326,997,244,1056,190,1106,149,1166,118,1230,96,1290,82,1335"/>
<area shape="rect" href="rgw__lc__tier_8cc.html#a14cca91b5600848ab8a3726b6e01a7cf" title=" " alt="" coords="454,247,591,289"/>
<area shape="poly" title=" " alt="" coords="71,1334,74,1226,88,1056,103,957,123,855,150,753,185,655,235,549,285,471,347,402,432,321,465,296,468,300,436,325,350,406,289,474,240,551,190,657,155,754,128,856,108,958,94,1056,79,1227,76,1334"/>
<area shape="rect" href="rgw__lc__tier_8cc.html#af4a541b5f9dc56144d816078a8092597" title=" " alt="" coords="444,335,602,361"/>
<area shape="poly" title=" " alt="" coords="73,1334,83,1251,103,1126,137,980,159,906,185,835,219,761,260,689,348,555,433,445,496,371,500,375,437,448,353,558,264,692,224,764,190,837,164,908,142,982,109,1127,88,1252,78,1335"/>
<area shape="rect" href="rgw__lc__tier_8cc.html#a3bf8a95e6d9ba53115bfb1118a771df4" title=" " alt="" coords="188,1393,386,1420"/>
<area shape="poly" title=" " alt="" coords="141,1369,213,1387,212,1392,140,1374"/>
<area shape="rect" href="class_r_g_w_l_c_stream_read.html#acfd0ab57202a875349ffce0f0e808699" title=" " alt="" coords="681,1175,848,1217"/>
<area shape="poly" title=" " alt="" coords="128,1332,187,1308,255,1278,308,1253,362,1230,433,1211,493,1200,553,1194,665,1190,665,1196,554,1200,494,1206,435,1216,363,1236,310,1258,257,1283,189,1313,130,1337"/>
<area shape="rect" href="class_r_g_w_l_c_stream_read.html#a21972de2ea9e99cb973e15c8e6915b9f" title=" " alt="" coords="681,1292,848,1319"/>
<area shape="poly" title=" " alt="" coords="140,1341,187,1335,446,1314,666,1305,666,1310,447,1320,188,1340,140,1347"/>
<area shape="rect" href="classrgw_1_1sal_1_1_object.html#af492ef7b108fe3b0045349261ba80c3c" title=" " alt="" coords="1133,1343,1299,1369"/>
<area shape="poly" title=" " alt="" coords="140,1353,521,1353,766,1353,1117,1353,1117,1359,766,1359,521,1359,140,1359"/>
<area shape="rect" href="rgw__lc__tier_8cc.html#aea4258058a85e5b1179ec1dba3054041" title=" " alt="" coords="461,1577,584,1604"/>
<area shape="poly" title=" " alt="" coords="103,1376,142,1404,189,1430,218,1441,244,1447,291,1452,337,1460,361,1470,388,1487,405,1507,412,1526,420,1545,436,1563,448,1571,445,1575,432,1567,415,1548,408,1528,400,1509,384,1491,359,1475,335,1465,290,1457,243,1452,216,1446,187,1434,140,1408,100,1380"/>
<area shape="rect" href="classrgw_1_1sal_1_1_object.html#aa4a801a7e7dfbb29ccf622603dee6ae3" title=" " alt="" coords="434,1628,611,1655"/>
<area shape="poly" title=" " alt="" coords="88,1376,128,1433,157,1462,189,1487,216,1500,241,1506,289,1506,336,1508,361,1516,388,1531,406,1552,413,1573,420,1594,436,1614,442,1618,439,1623,432,1618,415,1597,408,1575,401,1554,384,1535,359,1520,335,1513,288,1511,241,1511,215,1505,186,1492,153,1466,124,1436,84,1379"/>
<area shape="rect" href="classrgw_1_1sal_1_1_object.html#a179f38a720d7ff3bd1a860203391a52d" title=" " alt="" coords="206,1545,368,1572"/>
<area shape="poly" title=" " alt="" coords="85,1377,101,1409,123,1449,153,1490,189,1525,209,1536,206,1541,186,1529,149,1493,119,1452,96,1412,80,1379"/>
<area shape="rect" href="classrgw_1_1sal_1_1_zone.html#aad5682df06309df9be7bc8fdab823b50" title=" " alt="" coords="223,1596,351,1639"/>
<area shape="poly" title=" " alt="" coords="81,1377,94,1420,115,1475,147,1533,167,1559,189,1582,210,1595,207,1600,186,1586,163,1562,142,1535,111,1478,89,1422,76,1379"/>
<area shape="rect" href="classrgw_1_1sal_1_1_store.html#a7905b89b9f5def056e6b3379637037cc" title=" " alt="" coords="204,1663,370,1689"/>
<area shape="poly" title=" " alt="" coords="78,1378,86,1433,105,1506,119,1545,138,1583,161,1618,189,1649,194,1652,190,1656,186,1653,157,1621,133,1586,114,1547,100,1508,81,1434,73,1378"/>
<area shape="rect" href="structrgw__obj.html#a1c3e53e85a06152cc59b17f1c57cb416" title=" " alt="" coords="242,1721,332,1748"/>
<area shape="poly" title=" " alt="" coords="77,1377,83,1440,100,1526,115,1573,134,1619,159,1662,190,1699,207,1713,228,1722,226,1727,205,1717,186,1703,154,1665,129,1621,110,1575,95,1528,78,1441,72,1378"/>
<area shape="rect" href="class_r_g_w_l_c_cloud_stream_put.html#aee0a9faf946f162d660f141a03209222" title=" " alt="" coords="205,1780,369,1823"/>
<area shape="poly" title=" " alt="" coords="76,1378,80,1449,95,1550,110,1605,129,1660,156,1712,190,1758,202,1769,198,1773,186,1762,151,1715,125,1662,104,1607,90,1551,75,1450,71,1378"/>
<area shape="rect" href="rgw__lc__tier_8cc.html#a0817e31380203858cc25fc9e2b0e5c4e" title=" " alt="" coords="459,700,586,727"/>
<area shape="poly" title=" " alt="" coords="73,1334,81,1273,100,1188,114,1141,133,1094,157,1050,186,1009,210,985,234,968,282,950,331,934,357,921,384,901,436,833,502,738,506,741,440,836,388,905,360,926,333,939,284,955,236,973,213,989,190,1012,161,1052,138,1097,119,1143,105,1189,86,1274,78,1335"/>
<area shape="rect" href="rgw__lc__tier_8cc.html#a1a318bf893149ea31426d89445c69d60" title=" " alt="" coords="456,1033,590,1060"/>
<area shape="poly" title=" " alt="" coords="79,1333,94,1298,117,1253,148,1207,186,1167,247,1127,313,1096,380,1073,440,1058,441,1063,381,1078,315,1101,249,1131,189,1171,152,1211,122,1256,99,1300,84,1335"/>
<area shape="rect" href="rgw__lc__tier_8cc.html#aa090bf66802d07265afcdbe0cb35dd4e" title=" " alt="" coords="438,461,608,488"/>
<area shape="poly" title=" " alt="" coords="299,846,503,500,508,503,303,849"/>
<area shape="poly" title=" " alt="" coords="372,867,435,867,435,872,372,872"/>
<area shape="rect" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5" title=" " alt="" coords="980,588,1023,615"/>
<area shape="poly" title=" " alt="" coords="609,486,733,510,870,545,967,583,965,588,869,551,732,515,608,491"/>
<area shape="rect" href="rgw__lc__tier_8cc.html#a93e85f685511afc70138260718b4f759" title=" " alt="" coords="705,385,824,412"/>
<area shape="poly" title=" " alt="" coords="557,458,659,421,690,413,691,418,660,427,558,463"/>
<area shape="rect" href="class_r_g_w_r_e_s_t_conn.html#a8423ed928e48e2ac23b4fb57de2792d3" title=" " alt="" coords="659,436,870,463"/>
<area shape="poly" title=" " alt="" coords="608,463,644,459,644,465,609,468"/>
<area shape="poly" title=" " alt="" coords="828,461,871,479,904,501,934,526,981,574,977,578,930,530,900,505,868,484,826,466"/>
<area shape="poly" title=" " alt="" coords="558,853,721,786,807,747,868,715,928,669,975,624,979,628,931,673,871,720,810,752,723,791,560,858"/>
<area shape="rect" href="rgw__tools_8cc.html#a046ce687b6bb951e6c13fcb3b373bbe5" title=" " alt="" coords="686,831,843,857"/>
<area shape="poly" title=" " alt="" coords="595,859,670,851,670,857,595,864"/>
<area shape="rect" href="classrgw_1_1sal_1_1_rados_store.html#abe4f0602b771d5549a02c0a326d6a832" title=" " alt="" coords="680,881,849,908"/>
<area shape="poly" title=" " alt="" coords="595,874,665,882,664,887,595,880"/>
<area shape="poly" title=" " alt="" coords="834,828,868,810,911,767,945,718,971,669,988,628,993,630,976,671,950,720,915,771,871,814,837,832"/>
<area shape="rect" href="class_r_g_w_s_i___sys_obj.html#a42dbd3046b9d94873446090556f05e63" title=" " alt="" coords="931,823,1072,865"/>
<area shape="poly" title=" " alt="" coords="844,841,916,841,916,847,844,847"/>
<area shape="poly" title=" " alt="" coords="591,246,655,234,728,230,766,232,803,239,838,252,871,270,891,291,911,323,946,407,976,499,996,572,990,573,971,500,941,409,906,325,887,294,868,274,836,256,801,245,765,238,728,235,656,239,592,251"/>
<area shape="poly" title=" " alt="" coords="565,288,726,375,723,380,563,292"/>
<area shape="poly" title=" " alt="" coords="571,288,593,302,613,321,630,349,636,375,643,399,661,422,666,426,663,430,657,426,638,401,631,376,625,351,609,324,590,307,568,292"/>
<area shape="rect" href="namespace_r_g_w_x_m_l_decoder.html#afd109a7a9a8e6466d3365860e0b2426f" title=" " alt="" coords="662,132,867,159"/>
<area shape="poly" title=" " alt="" coords="546,244,596,205,658,168,675,161,677,166,661,173,599,210,550,248"/>
<area shape="rect" href="rgw__basic__types_8cc.html#a0a8bb5599abd436eaa39a31634f1f5e3" title=" " alt="" coords="719,44,810,71"/>
<area shape="poly" title=" " alt="" coords="539,244,589,184,658,118,721,76,724,81,661,122,593,188,543,248"/>
<area shape="rect" href="class_r_g_w_x_m_l_parser.html#ad5cf8ac16b134a9269ade6a2d0072a64" title=" " alt="" coords="694,183,835,209"/>
<area shape="poly" title=" " alt="" coords="591,245,702,212,703,217,593,250"/>
<area shape="rect" href="class_r_g_w_x_m_l_parser.html#a4e20926588ef848ab1b68a29e79e91e8" title=" " alt="" coords="686,284,843,311"/>
<area shape="poly" title=" " alt="" coords="592,274,671,283,670,289,592,279"/>
<area shape="rect" href="rgw__xml_8h.html#a1512966c3f0c8cf0ea07adbfb90d7fd8" title=" " alt="" coords="944,107,1059,133"/>
<area shape="poly" title=" " alt="" coords="867,132,928,125,929,130,867,137"/>
<area shape="rect" href="class_x_m_l_obj.html#a97256c1a1fe4c0b1fb7f422ed6ac30f3" title=" " alt="" coords="954,157,1049,184"/>
<area shape="poly" title=" " alt="" coords="867,154,939,161,938,167,867,159"/>
<area shape="rect" href="class_x_m_l_obj_iter.html#a3a22d90225f573459c9c5afc925eceb3" title=" " alt="" coords="930,56,1073,83"/>
<area shape="poly" title=" " alt="" coords="806,129,917,92,939,85,941,90,918,97,807,134"/>
<area shape="poly" title=" " alt="" coords="725,45,718,35,722,25,738,19,765,17,793,20,808,27,806,32,792,25,764,23,740,25,726,29,723,35,729,42"/>
<area shape="rect" href="structrgw__user.html#af00f510d6a9ff0580d87ee46b274d96e" title=" " alt="" coords="944,5,1059,32"/>
<area shape="poly" title=" " alt="" coords="810,47,928,28,929,33,811,53"/>
<area shape="rect" href="class_r_g_w_x_m_l_parser.html#a9158068a148005dc85110a7a05fefd02" title=" " alt="" coords="929,275,1074,317"/>
<area shape="poly" title=" " alt="" coords="824,207,871,226,895,243,919,260,928,265,926,270,916,265,892,247,868,230,822,212"/>
<area shape="rect" href="class_r_g_w_x_m_l_parser.html#a543b357ac6cc4df349a538f48f903bf5" title=" " alt="" coords="929,208,1074,251"/>
<area shape="poly" title=" " alt="" coords="836,203,914,214,913,220,835,209"/>
<area shape="poly" title=" " alt="" coords="602,331,664,327,734,329,805,342,839,354,871,371,897,391,920,415,956,471,981,526,996,572,991,574,976,528,951,473,916,419,894,395,868,376,837,359,804,347,733,334,664,332,602,337"/>
<area shape="poly" title=" " alt="" coords="591,359,691,381,689,386,589,365"/>
<area shape="poly" title=" " alt="" coords="546,360,597,391,660,422,681,429,679,434,658,426,594,395,543,364"/>
<area shape="poly" title=" " alt="" coords="563,332,588,318,609,300,621,283,627,266,631,234,636,201,643,185,657,169,662,165,666,169,661,173,648,188,641,203,636,234,632,268,626,285,613,303,591,323,565,336"/>
<area shape="poly" title=" " alt="" coords="551,332,610,299,731,216,734,221,613,304,553,336"/>
<area shape="poly" title=" " alt="" coords="589,331,682,312,683,317,591,337"/>
<area shape="rect" href="rgw__lc__tier_8cc.html#a812ed54814d78a19a8d2edb5c3660750" title=" " alt="" coords="459,1225,586,1268"/>
<area shape="poly" title=" " alt="" coords="307,1391,476,1275,479,1279,310,1395"/>
<area shape="poly" title=" " alt="" coords="386,1403,698,1396,891,1386,1085,1372,1117,1368,1118,1374,1085,1377,891,1392,698,1401,387,1409"/>
<area shape="rect" href="classrgw_1_1sal_1_1_store.html#a3308ce50125b19ccdf5ce7f69958bd67" title=" " alt="" coords="457,1444,588,1487"/>
<area shape="poly" title=" " alt="" coords="344,1418,443,1443,441,1448,343,1423"/>
<area shape="poly" title=" " alt="" coords="359,1418,388,1437,401,1453,408,1470,412,1502,417,1533,423,1548,436,1563,448,1572,445,1577,432,1567,419,1551,411,1535,407,1503,403,1471,396,1456,384,1441,356,1423"/>
<area shape="poly" title=" " alt="" coords="312,1418,351,1448,388,1488,399,1506,405,1523,409,1555,415,1585,423,1599,436,1614,440,1618,437,1622,432,1618,418,1602,410,1587,404,1556,399,1525,394,1508,384,1491,347,1452,309,1423"/>
<area shape="rect" href="classrgw_1_1sal_1_1_object.html#aebb3bdb3cf25ba091ff6034a877fe976" title=" " alt="" coords="454,1511,592,1553"/>
<area shape="poly" title=" " alt="" coords="350,1418,388,1436,404,1452,412,1467,421,1482,436,1497,442,1501,439,1505,432,1501,417,1485,408,1470,399,1455,384,1441,348,1423"/>
<area shape="poly" title=" " alt="" coords="587,1250,663,1255,747,1255,821,1247,849,1239,868,1227,879,1214,888,1196,900,1149,906,1092,908,1030,908,905,909,852,915,810,949,708,984,628,989,630,954,710,920,811,915,852,913,905,913,1030,912,1093,905,1150,893,1198,883,1217,871,1231,851,1244,822,1252,747,1260,663,1260,587,1255"/>
<area shape="poly" title=" " alt="" coords="586,1231,665,1214,666,1219,587,1236"/>
<area shape="poly" title=" " alt="" coords="587,1259,692,1285,691,1290,586,1265"/>
<area shape="rect" href="classrgw_1_1sal_1_1_object.html#aa8e83e47dd8615028e1eec9d9d7f8ec4" title=" " alt="" coords="932,1209,1071,1252"/>
<area shape="poly" title=" " alt="" coords="811,1289,869,1271,919,1255,920,1260,870,1276,812,1294"/>
<area shape="rect" href="classrgw_1_1sal_1_1_object.html#a323199c62db43c2e9293e423dc248440" title=" " alt="" coords="932,1276,1071,1319"/>
<area shape="poly" title=" " alt="" coords="848,1300,916,1298,917,1303,848,1305"/>
<area shape="rect" href="class_r_g_w_l_c_stream_read.html#aaba38d0462fb5736f83b56c24c977901" title=" " alt="" coords="918,1076,1085,1119"/>
<area shape="poly" title=" " alt="" coords="840,1289,868,1271,881,1254,888,1238,892,1203,895,1166,902,1148,916,1129,918,1126,922,1130,920,1132,907,1150,900,1168,897,1203,894,1239,886,1257,871,1275,843,1294"/>
<area shape="rect" href="class_r_g_w_l_c_stream_read.html#ad0ee3cb320002c52545ff6a4094652fc" title=" " alt="" coords="918,1143,1085,1185"/>
<area shape="poly" title=" " alt="" coords="834,1289,868,1271,884,1253,892,1235,899,1215,916,1195,920,1192,923,1196,920,1199,904,1218,897,1237,888,1256,871,1275,836,1294"/>
<area shape="poly" title=" " alt="" coords="1070,1117,1087,1129,1130,1177,1165,1231,1191,1284,1208,1327,1203,1329,1186,1286,1160,1234,1126,1180,1083,1133,1067,1121"/>
<area shape="rect" href="structrgw__obj__key.html#a682d70974b3d3eee6b3a947f076d7d68" title=" " alt="" coords="451,1679,594,1705"/>
<area shape="poly" title=" " alt="" coords="367,1570,388,1582,405,1603,413,1624,419,1645,436,1665,442,1669,439,1673,432,1669,415,1648,408,1626,401,1605,384,1586,365,1575"/>
<area shape="rect" href="structrgw__obj__key.html#a5f4ffdd2fe9907848474cc0ef1c610f5" title=" " alt="" coords="463,1729,582,1756"/>
<area shape="poly" title=" " alt="" coords="333,1734,447,1737,447,1743,332,1739"/>
<area shape="rect" href="class_r_g_w_access_control_policy.html#a9fa6936da8a5fcccadb72dad7c478eab" title=" " alt="" coords="436,1847,610,1889"/>
<area shape="poly" title=" " alt="" coords="365,1821,430,1839,429,1844,364,1826"/>
<area shape="rect" href="class_r_g_w_l_c_cloud_stream_put.html#ada534365609225a4902582fd7982581a" title=" " alt="" coords="441,1780,605,1823"/>
<area shape="poly" title=" " alt="" coords="369,1799,425,1799,425,1804,369,1804"/>
<area shape="poly" title=" " alt="" coords="530,698,549,670,577,635,614,600,658,574,699,561,742,554,785,553,828,555,906,569,966,586,965,591,905,574,827,561,785,558,742,559,700,566,660,578,618,604,581,638,553,673,534,701"/>
<area shape="poly" title=" " alt="" coords="576,725,917,818,915,824,574,730"/>
<area shape="poly" title=" " alt="" coords="534,726,581,794,618,834,661,867,671,873,669,877,658,872,614,838,577,797,530,729"/>
<area shape="rect" href="structrgw__lc__multipart__upload__info.html#ab4a5a392fa05398038b12202ece9d04e" title=" " alt="" coords="684,663,845,705"/>
<area shape="poly" title=" " alt="" coords="587,703,669,693,669,698,587,708"/>
<area shape="rect" href="rgw__tools_8cc.html#a5a37218cbf7acd34def1915314441451" title=" " alt="" coords="694,588,835,615"/>
<area shape="poly" title=" " alt="" coords="540,697,591,661,658,624,679,617,681,622,660,629,594,666,543,702"/>
<area shape="poly" title=" " alt="" coords="720,663,718,653,725,644,741,638,765,636,790,638,805,645,803,650,789,644,764,641,742,643,728,648,723,654,725,662"/>
<area shape="poly" title=" " alt="" coords="835,599,965,599,965,604,835,604"/>
<area shape="poly" title=" " alt="" coords="543,1031,594,999,658,968,690,958,719,954,771,953,794,952,818,947,842,936,868,918,918,800,987,628,992,630,923,802,872,922,845,941,819,952,795,957,771,958,720,959,692,964,660,973,597,1004,546,1035"/>
<area shape="poly" title=" " alt="" coords="547,1058,607,1090,646,1107,690,1122,736,1132,782,1134,827,1128,868,1110,884,1095,900,1073,933,1010,963,940,985,879,990,881,968,942,938,1012,905,1075,888,1099,871,1114,828,1133,782,1140,735,1137,689,1127,644,1112,605,1095,545,1063"/>
<area shape="poly" title=" " alt="" coords="534,1031,585,979,620,950,658,924,687,911,690,916,661,929,623,954,588,983,538,1035"/>
<area shape="rect" href="structrgw__lc__multipart__upload__info.html#aca861638916781628148c932a6379877" title=" " alt="" coords="684,1057,845,1100"/>
<area shape="poly" title=" " alt="" coords="590,1053,669,1063,669,1069,590,1058"/>
<area shape="rect" href="rgw__tools_8cc.html#a3e647ae97c113ee3ad07bad363e640b6" title=" " alt="" coords="694,983,835,1009"/>
<area shape="poly" title=" " alt="" coords="589,1030,682,1010,683,1016,591,1035"/>
<area shape="poly" title=" " alt="" coords="720,1057,718,1047,725,1038,741,1033,765,1031,790,1033,805,1039,803,1044,789,1038,764,1036,742,1038,728,1043,723,1049,725,1056"/>
<area shape="poly" title=" " alt="" coords="834,982,852,974,868,962,883,944,893,927,901,893,905,856,915,810,986,628,991,630,920,811,910,856,906,894,898,929,887,947,871,966,855,978,836,987"/>
</map>
</div>
<div class="dynheader">
이 함수를 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="rgw__lc__tier_8cc_a4fac4a9dcad607bf27557e0109f826b2_icgraph.png" border="0" usemap="#argw__lc__tier_8cc_a4fac4a9dcad607bf27557e0109f826b2_icgraph" alt=""/></div>
<map name="argw__lc__tier_8cc_a4fac4a9dcad607bf27557e0109f826b2_icgraph" id="argw__lc__tier_8cc_a4fac4a9dcad607bf27557e0109f826b2_icgraph">
<area shape="rect" title=" " alt="" coords="418,5,552,48"/>
<area shape="rect" href="rgw__lc__tier_8cc.html#a2906f85e3121b2099d65e0f9047553e9" title=" " alt="" coords="216,5,370,48"/>
<area shape="poly" title=" " alt="" coords="402,29,371,29,371,24,402,24"/>
<area shape="rect" href="class_l_c_op_action___transition.html#a11d3ae78bd110a735d53bb533e68b59b" title=" " alt="" coords="5,5,168,48"/>
<area shape="poly" title=" " alt="" coords="200,29,168,29,168,24,200,24"/>
</map>
</div>

</div>
</div>
<a id="a708d92898f0d0340a422c6f4d41179df" name="a708d92898f0d0340a422c6f4d41179df"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a708d92898f0d0340a422c6f4d41179df">&#9670;&#160;</a></span>cloud_tier_plain_transfer()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int cloud_tier_plain_transfer </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_r_g_w_l_c_cloud_tier_ctx.html">RGWLCCloudTierCtx</a> &amp;&#160;</td>
          <td class="paramname"><em>tier_ctx</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition"><a class="el" href="rgw__lc__tier_8cc_source.html">rgw_lc_tier.cc</a> 파일의 <a class="el" href="rgw__lc__tier_8cc_source.html#l00758">758</a> 번째 라인에서 정의되었습니다.</p>
<div class="fragment"><div class="line"><span class="lineno">  758</span>                                                                  {</div>
<div class="line"><span class="lineno">  759</span>  <span class="keywordtype">int</span> ret;</div>
<div class="line"><span class="lineno">  760</span>  std::unique_ptr&lt;rgw::sal::Bucket&gt; dest_bucket;</div>
<div class="line"><span class="lineno">  761</span>  std::unique_ptr&lt;rgw::sal::Object&gt; dest_obj;</div>
<div class="line"><span class="lineno">  762</span> </div>
<div class="line"><span class="lineno">  763</span>  <a class="code hl_struct" href="structrgw__lc__obj__properties.html">rgw_lc_obj_properties</a> obj_properties(tier_ctx.<a class="code hl_variable" href="struct_r_g_w_l_c_cloud_tier_ctx.html#ac7696914982b184b5a468f23791d91a6">o</a>.meta.mtime, tier_ctx.<a class="code hl_variable" href="struct_r_g_w_l_c_cloud_tier_ctx.html#ac7696914982b184b5a468f23791d91a6">o</a>.meta.etag,</div>
<div class="line"><span class="lineno">  764</span>                        tier_ctx.<a class="code hl_variable" href="struct_r_g_w_l_c_cloud_tier_ctx.html#ac7696914982b184b5a468f23791d91a6">o</a>.versioned_epoch, tier_ctx.<a class="code hl_variable" href="struct_r_g_w_l_c_cloud_tier_ctx.html#a9bd1ff6151286d286ab6bc40fbe21db3">acl_mappings</a>,</div>
<div class="line"><span class="lineno">  765</span>                        tier_ctx.<a class="code hl_variable" href="struct_r_g_w_l_c_cloud_tier_ctx.html#aff4bd36e5f90f32bc457cd1da40f8d18">target_storage_class</a>);</div>
<div class="line"><span class="lineno">  766</span>  <a class="code hl_struct" href="struct_r_g_w_bucket_info.html">RGWBucketInfo</a> b;</div>
<div class="line"><span class="lineno">  767</span>  std::string target_obj_name;</div>
<div class="line"><span class="lineno">  768</span> </div>
<div class="line"><span class="lineno">  769</span>  b.<a class="code hl_variable" href="struct_r_g_w_bucket_info.html#afbd8422e16061abdf72d710794ac74d4">bucket</a>.<a class="code hl_variable" href="structrgw__bucket.html#a32d3529f5b0c53051c856a7abe867a6b">name</a> = tier_ctx.<a class="code hl_variable" href="struct_r_g_w_l_c_cloud_tier_ctx.html#a6a3c18ecc5b2850180a938c6fd21d567">target_bucket_name</a>;</div>
<div class="line"><span class="lineno">  770</span>  target_obj_name = tier_ctx.<a class="code hl_variable" href="struct_r_g_w_l_c_cloud_tier_ctx.html#a6f880c4c8f05cd4b045c925244da71f8">bucket_info</a>.<a class="code hl_variable" href="struct_r_g_w_bucket_info.html#afbd8422e16061abdf72d710794ac74d4">bucket</a>.<a class="code hl_variable" href="structrgw__bucket.html#a32d3529f5b0c53051c856a7abe867a6b">name</a> + <span class="stringliteral">&quot;/&quot;</span> +</div>
<div class="line"><span class="lineno">  771</span>    tier_ctx.<a class="code hl_variable" href="struct_r_g_w_l_c_cloud_tier_ctx.html#a679e2551051f8c0fda753bc1bc6db7cc">obj</a>-&gt;<a class="code hl_function" href="classrgw_1_1sal_1_1_object.html#aa4a801a7e7dfbb29ccf622603dee6ae3">get_name</a>();</div>
<div class="line"><span class="lineno">  772</span>  <span class="keywordflow">if</span> (!tier_ctx.<a class="code hl_variable" href="struct_r_g_w_l_c_cloud_tier_ctx.html#ac7696914982b184b5a468f23791d91a6">o</a>.is_current()) {</div>
<div class="line"><span class="lineno">  773</span>    target_obj_name += <a class="code hl_function" href="rgw__lc__tier_8cc.html#aea4258058a85e5b1179ec1dba3054041">get_key_instance</a>(tier_ctx.<a class="code hl_variable" href="struct_r_g_w_l_c_cloud_tier_ctx.html#a679e2551051f8c0fda753bc1bc6db7cc">obj</a>-&gt;<a class="code hl_function" href="classrgw_1_1sal_1_1_object.html#af492ef7b108fe3b0045349261ba80c3c">get_key</a>());</div>
<div class="line"><span class="lineno">  774</span>  }</div>
<div class="line"><span class="lineno">  775</span> </div>
<div class="line"><span class="lineno">  776</span>  ret = tier_ctx.<a class="code hl_variable" href="struct_r_g_w_l_c_cloud_tier_ctx.html#acd12ed9b2dc9868f9081a968d67763b6">store</a>-&gt;<a class="code hl_function" href="classrgw_1_1sal_1_1_store.html#a3308ce50125b19ccdf5ce7f69958bd67">get_bucket</a>(<span class="keyword">nullptr</span>, b, &amp;dest_bucket);</div>
<div class="line"><span class="lineno">  777</span>  <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno">  778</span>    ldpp_dout(tier_ctx.<a class="code hl_variable" href="struct_r_g_w_l_c_cloud_tier_ctx.html#a10433e11720af1b72f2fec265ce02143">dpp</a>, 0) &lt;&lt; <span class="stringliteral">&quot;ERROR: failed to initialize dest_bucket - &quot;</span> &lt;&lt; tier_ctx.<a class="code hl_variable" href="struct_r_g_w_l_c_cloud_tier_ctx.html#a6a3c18ecc5b2850180a938c6fd21d567">target_bucket_name</a> &lt;&lt; <span class="stringliteral">&quot; , ret = &quot;</span> &lt;&lt; ret &lt;&lt; dendl;</div>
<div class="line"><span class="lineno">  779</span>    <span class="keywordflow">return</span> ret;</div>
<div class="line"><span class="lineno">  780</span>  }</div>
<div class="line"><span class="lineno">  781</span> </div>
<div class="line"><span class="lineno">  782</span>  dest_obj = dest_bucket-&gt;get_object(<a class="code hl_struct" href="structrgw__obj__key.html">rgw_obj_key</a>(target_obj_name));</div>
<div class="line"><span class="lineno">  783</span>  <span class="keywordflow">if</span> (!dest_obj) {</div>
<div class="line"><span class="lineno">  784</span>    ldpp_dout(tier_ctx.<a class="code hl_variable" href="struct_r_g_w_l_c_cloud_tier_ctx.html#a10433e11720af1b72f2fec265ce02143">dpp</a>, 0) &lt;&lt; <span class="stringliteral">&quot;ERROR: failed to initialize dest_object path - &quot;</span> &lt;&lt; target_obj_name &lt;&lt; dendl;</div>
<div class="line"><span class="lineno">  785</span>    <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno">  786</span>  }</div>
<div class="line"><span class="lineno">  787</span> </div>
<div class="line"><span class="lineno">  788</span>  tier_ctx.<a class="code hl_variable" href="struct_r_g_w_l_c_cloud_tier_ctx.html#a679e2551051f8c0fda753bc1bc6db7cc">obj</a>-&gt;<a class="code hl_function" href="classrgw_1_1sal_1_1_object.html#aebb3bdb3cf25ba091ff6034a877fe976">set_atomic</a>(&amp;tier_ctx.<a class="code hl_variable" href="struct_r_g_w_l_c_cloud_tier_ctx.html#a9e2fe5d0f93b543cbd0f793f39c0a27b">rctx</a>);</div>
<div class="line"><span class="lineno">  789</span> </div>
<div class="line"><span class="lineno">  790</span>  <span class="comment">/* Prepare Read from source */</span></div>
<div class="line"><span class="lineno">  791</span>  <span class="comment">/* TODO: Define readf, writef as stack variables. For some reason,</span></div>
<div class="line"><span class="lineno">  792</span><span class="comment">   * when used as stack variables (esp., readf), the transition seems to</span></div>
<div class="line"><span class="lineno">  793</span><span class="comment">   * be taking lot of time eventually erroring out at times.</span></div>
<div class="line"><span class="lineno">  794</span><span class="comment">   */</span></div>
<div class="line"><span class="lineno">  795</span>  std::shared_ptr&lt;RGWLCStreamRead&gt; readf;</div>
<div class="line"><span class="lineno">  796</span>  readf.reset(<span class="keyword">new</span> <a class="code hl_class" href="class_r_g_w_l_c_stream_read.html">RGWLCStreamRead</a>(tier_ctx.<a class="code hl_variable" href="struct_r_g_w_l_c_cloud_tier_ctx.html#aaa953630ccef16688265f292162d994e">cct</a>, tier_ctx.<a class="code hl_variable" href="struct_r_g_w_l_c_cloud_tier_ctx.html#a10433e11720af1b72f2fec265ce02143">dpp</a>,</div>
<div class="line"><span class="lineno">  797</span>        tier_ctx.<a class="code hl_variable" href="struct_r_g_w_l_c_cloud_tier_ctx.html#a9e2fe5d0f93b543cbd0f793f39c0a27b">rctx</a>, tier_ctx.<a class="code hl_variable" href="struct_r_g_w_l_c_cloud_tier_ctx.html#a679e2551051f8c0fda753bc1bc6db7cc">obj</a>, tier_ctx.<a class="code hl_variable" href="struct_r_g_w_l_c_cloud_tier_ctx.html#ac7696914982b184b5a468f23791d91a6">o</a>.meta.mtime));</div>
<div class="line"><span class="lineno">  798</span> </div>
<div class="line"><span class="lineno">  799</span>  std::shared_ptr&lt;RGWLCCloudStreamPut&gt; writef;</div>
<div class="line"><span class="lineno">  800</span>  writef.reset(<span class="keyword">new</span> <a class="code hl_class" href="class_r_g_w_l_c_cloud_stream_put.html">RGWLCCloudStreamPut</a>(tier_ctx.<a class="code hl_variable" href="struct_r_g_w_l_c_cloud_tier_ctx.html#a10433e11720af1b72f2fec265ce02143">dpp</a>, obj_properties, tier_ctx.<a class="code hl_variable" href="struct_r_g_w_l_c_cloud_tier_ctx.html#af3287a0bb4c2ff1d3c49b458004722c8">conn</a>,</div>
<div class="line"><span class="lineno">  801</span>               dest_obj.get()));</div>
<div class="line"><span class="lineno">  802</span> </div>
<div class="line"><span class="lineno">  803</span>  <span class="comment">/* actual Read &amp; Write */</span></div>
<div class="line"><span class="lineno">  804</span>  ret = <a class="code hl_function" href="rgw__lc__tier_8cc.html#a812ed54814d78a19a8d2edb5c3660750">cloud_tier_transfer_object</a>(tier_ctx.<a class="code hl_variable" href="struct_r_g_w_l_c_cloud_tier_ctx.html#a10433e11720af1b72f2fec265ce02143">dpp</a>, readf.get(), writef.get());</div>
<div class="line"><span class="lineno">  805</span> </div>
<div class="line"><span class="lineno">  806</span>  <span class="keywordflow">return</span> ret;</div>
<div class="line"><span class="lineno">  807</span>}</div>
<div class="ttc" id="aclass_r_g_w_l_c_cloud_stream_put_html"><div class="ttname"><a href="class_r_g_w_l_c_cloud_stream_put.html">RGWLCCloudStreamPut</a></div><div class="ttdef"><b>Definition</b> <a href="rgw__lc__tier_8cc_source.html#l00359">rgw_lc_tier.cc:360</a></div></div>
<div class="ttc" id="aclassrgw_1_1sal_1_1_object_html_aebb3bdb3cf25ba091ff6034a877fe976"><div class="ttname"><a href="classrgw_1_1sal_1_1_object.html#aebb3bdb3cf25ba091ff6034a877fe976">rgw::sal::Object::set_atomic</a></div><div class="ttdeci">virtual void set_atomic(RGWObjectCtx *rctx) const =0</div></div>
<div class="ttc" id="argw__lc__tier_8cc_html_a812ed54814d78a19a8d2edb5c3660750"><div class="ttname"><a href="rgw__lc__tier_8cc.html#a812ed54814d78a19a8d2edb5c3660750">cloud_tier_transfer_object</a></div><div class="ttdeci">static int cloud_tier_transfer_object(const DoutPrefixProvider *dpp, RGWLCStreamRead *readf, RGWLCCloudStreamPut *writef)</div><div class="ttdef"><b>Definition</b> <a href="rgw__lc__tier_8cc_source.html#l00711">rgw_lc_tier.cc:711</a></div></div>
</div><!-- fragment --><div class="dynheader">
이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="rgw__lc__tier_8cc_a708d92898f0d0340a422c6f4d41179df_cgraph.png" border="0" usemap="#argw__lc__tier_8cc_a708d92898f0d0340a422c6f4d41179df_cgraph" alt=""/></div>
<map name="argw__lc__tier_8cc_a708d92898f0d0340a422c6f4d41179df_cgraph" id="argw__lc__tier_8cc_a708d92898f0d0340a422c6f4d41179df_cgraph">
<area shape="rect" title=" " alt="" coords="5,1147,167,1173"/>
<area shape="rect" href="rgw__lc__tier_8cc.html#a812ed54814d78a19a8d2edb5c3660750" title=" " alt="" coords="240,715,367,757"/>
<area shape="poly" title=" " alt="" coords="92,1145,282,770,286,773,97,1148"/>
<area shape="rect" href="classrgw_1_1sal_1_1_object.html#af492ef7b108fe3b0045349261ba80c3c" title=" " alt="" coords="905,1080,1072,1107"/>
<area shape="poly" title=" " alt="" coords="107,1144,154,1117,214,1095,305,1077,399,1066,493,1060,586,1059,755,1065,890,1077,890,1083,755,1070,586,1064,494,1065,400,1071,306,1082,215,1100,156,1122,109,1149"/>
<area shape="rect" href="classrgw_1_1sal_1_1_store.html#a3308ce50125b19ccdf5ce7f69958bd67" title=" " alt="" coords="238,1109,369,1152"/>
<area shape="poly" title=" " alt="" coords="167,1146,222,1139,223,1144,168,1152"/>
<area shape="rect" href="rgw__lc__tier_8cc.html#aea4258058a85e5b1179ec1dba3054041" title=" " alt="" coords="242,1176,365,1203"/>
<area shape="poly" title=" " alt="" coords="168,1168,227,1176,226,1182,167,1174"/>
<area shape="rect" href="classrgw_1_1sal_1_1_object.html#aa4a801a7e7dfbb29ccf622603dee6ae3" title=" " alt="" coords="215,1227,392,1253"/>
<area shape="poly" title=" " alt="" coords="118,1171,216,1212,236,1219,235,1224,214,1217,116,1176"/>
<area shape="rect" href="classrgw_1_1sal_1_1_object.html#aebb3bdb3cf25ba091ff6034a877fe976" title=" " alt="" coords="234,1277,373,1320"/>
<area shape="poly" title=" " alt="" coords="103,1172,151,1216,216,1263,225,1268,222,1273,213,1268,147,1220,99,1176"/>
<area shape="rect" href="class_r_g_w_l_c_cloud_stream_put.html#a6be5108f1473e2a4502d0b486000f2c3" title=" " alt="" coords="445,597,609,640"/>
<area shape="poly" title=" " alt="" coords="335,712,383,681,439,650,450,644,452,649,441,654,386,686,337,716"/>
<area shape="rect" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5" title=" " alt="" coords="506,664,548,691"/>
<area shape="poly" title=" " alt="" coords="367,717,490,684,491,689,368,722"/>
<area shape="rect" href="class_r_g_w_l_c_cloud_stream_put.html#a2109ca30d4f1d8282ff973bbd1df484e" title=" " alt="" coords="445,715,609,757"/>
<area shape="poly" title=" " alt="" coords="367,733,430,733,430,739,367,739"/>
<area shape="rect" href="class_r_g_w_l_c_stream_read.html#a245dc5b10c37bdf174695d7e033abcfe" title=" " alt="" coords="444,781,611,824"/>
<area shape="poly" title=" " alt="" coords="368,752,439,774,438,779,367,757"/>
<area shape="rect" href="class_r_g_w_l_c_stream_read.html#acfd0ab57202a875349ffce0f0e808699" title=" " alt="" coords="444,848,611,891"/>
<area shape="poly" title=" " alt="" coords="331,756,381,794,441,834,451,839,448,843,439,838,378,799,328,760"/>
<area shape="rect" href="class_r_g_w_l_c_stream_read.html#a21972de2ea9e99cb973e15c8e6915b9f" title=" " alt="" coords="444,915,610,941"/>
<area shape="poly" title=" " alt="" coords="319,756,366,828,401,867,442,900,450,906,447,910,438,905,397,871,362,831,314,759"/>
<area shape="rect" href="class_r_g_w_l_c_cloud_stream_put.html#a729b9ffc1e9d5f3074edce985a48f7dd" title=" " alt="" coords="445,368,609,411"/>
<area shape="poly" title=" " alt="" coords="308,713,325,663,353,595,390,520,438,450,474,418,477,422,442,454,395,523,357,597,330,665,314,715"/>
<area shape="rect" href="class_r_g_w_l_c_stream_read.html#a6dbe62f26c67bfbee0aa84ceda13a5a5" title=" " alt="" coords="440,965,614,992"/>
<area shape="poly" title=" " alt="" coords="315,757,332,798,359,851,395,905,417,930,442,951,448,956,445,960,438,955,413,934,391,908,354,854,327,801,310,759"/>
<area shape="rect" href="class_r_g_w_l_c_cloud_stream_put.html#a29cef8d3b27e69f3c1293558b2bc8825" title=" " alt="" coords="445,464,609,507"/>
<area shape="poly" title=" " alt="" coords="310,713,328,672,355,620,392,565,438,517,443,513,446,517,442,521,396,568,360,622,333,674,315,715"/>
<area shape="rect" href="class_r_g_w_l_c_cloud_stream_put.html#a8450a93477210c6b0b6f4548dbc448d3" title=" " alt="" coords="445,531,609,573"/>
<area shape="poly" title=" " alt="" coords="317,712,366,649,400,614,438,583,445,579,448,583,442,587,404,618,370,653,321,716"/>
<area shape="rect" href="class_r_g_w_r_e_s_t_conn.html#a2316b6676a813928a2caf6dadc445c8f" title=" " alt="" coords="666,648,844,691"/>
<area shape="poly" title=" " alt="" coords="610,634,651,644,650,649,609,640"/>
<area shape="rect" href="class_r_g_w_r_e_s_t_stream_s3_put_obj.html#ade6f7183efe6b10daef1da01bd397106" title=" " alt="" coords="662,715,848,757"/>
<area shape="poly" title=" " alt="" coords="610,733,647,733,647,739,610,739"/>
<area shape="rect" href="classrgw_1_1sal_1_1_object.html#aa8e83e47dd8615028e1eec9d9d7f8ec4" title=" " alt="" coords="686,848,824,891"/>
<area shape="poly" title=" " alt="" coords="581,912,670,888,671,894,583,917"/>
<area shape="rect" href="classrgw_1_1sal_1_1_object.html#a323199c62db43c2e9293e423dc248440" title=" " alt="" coords="686,915,824,957"/>
<area shape="poly" title=" " alt="" coords="611,928,670,930,670,936,610,934"/>
<area shape="rect" href="class_r_g_w_l_c_stream_read.html#aaba38d0462fb5736f83b56c24c977901" title=" " alt="" coords="672,981,838,1024"/>
<area shape="poly" title=" " alt="" coords="578,939,615,951,681,973,679,978,614,956,576,944"/>
<area shape="rect" href="class_r_g_w_l_c_stream_read.html#ad0ee3cb320002c52545ff6a4094652fc" title=" " alt="" coords="671,781,839,824"/>
<area shape="poly" title=" " alt="" coords="592,912,613,901,628,885,636,869,645,851,661,834,666,830,669,834,664,838,649,854,641,871,632,888,616,905,594,916"/>
<area shape="rect" href="class_r_g_w_access_control_policy.html#a0fa9952c93c911480e7428afd77bce88" title=" " alt="" coords="901,912,1076,955"/>
<area shape="poly" title=" " alt="" coords="829,978,899,957,901,962,830,983"/>
<area shape="poly" title=" " alt="" coords="799,1022,897,1066,917,1073,916,1078,895,1070,797,1027"/>
<area shape="rect" href="structrgw__rest__obj.html#ad8a7e0c4d495f791192355f400a55fd9" title=" " alt="" coords="929,979,1048,1005"/>
<area shape="poly" title=" " alt="" coords="838,996,913,993,913,998,838,1002"/>
<area shape="rect" href="rgw__lc__tier_8cc.html#a16290ce4ec307cf96f669fdc2fd8651f" title=" " alt="" coords="943,1029,1034,1056"/>
<area shape="poly" title=" " alt="" coords="839,1014,928,1030,927,1035,838,1020"/>
<area shape="rect" href="class_r_g_w_access_control_policy.html#aaded4552d8caf3c6e0eb1d520a8cf8dc" title=" " alt="" coords="901,841,1076,884"/>
<area shape="poly" title=" " alt="" coords="828,979,846,967,861,951,869,934,878,916,894,898,905,890,909,894,897,902,882,919,874,936,866,954,849,971,831,983"/>
<area shape="rect" href="rgw__log__backing_8h.html#adc46efdde31cf790f3b383cb9e6f198e" title=" " alt="" coords="1208,928,1271,955"/>
<area shape="poly" title=" " alt="" coords="1076,933,1192,937,1192,943,1076,939"/>
<area shape="poly" title=" " alt="" coords="1205,934,1191,923,1192,912,1209,904,1239,901,1264,903,1280,908,1288,915,1286,924,1281,923,1283,917,1278,912,1263,908,1239,907,1210,909,1197,915,1196,921,1209,930"/>
<area shape="rect" href="rgw__common_8h.html#a2e4359f75954d7742311c0bac880159d" title=" " alt="" coords="1199,1029,1279,1056"/>
<area shape="poly" title=" " alt="" coords="1035,1040,1184,1040,1184,1045,1035,1045"/>
<area shape="rect" href="class_r_g_w_access_control_list.html#af5087fff71ca9a21a499d99a59645162" title=" " alt="" coords="1160,837,1319,880"/>
<area shape="poly" title=" " alt="" coords="1076,859,1144,858,1144,863,1076,864"/>
<area shape="rect" href="class_r_g_w_r_e_s_t_conn.html#a89154d253f7423b412c328e354a81696" title=" " alt="" coords="671,317,839,360"/>
<area shape="poly" title=" " alt="" coords="609,368,656,358,657,363,610,374"/>
<area shape="rect" href="rgw__rest__conn_8h.html#a1df0923b4723e3b3f42709b425eb0215" title=" " alt="" coords="923,251,1054,277"/>
<area shape="poly" title=" " alt="" coords="814,314,895,287,919,280,920,285,896,292,816,319"/>
<area shape="rect" href="class_r_g_w_r_e_s_t_conn.html#ac833f895cae6760d02b776c2a597f02d" title=" " alt="" coords="906,325,1071,352"/>
<area shape="poly" title=" " alt="" coords="839,336,891,336,891,341,839,341"/>
<area shape="rect" href="class_r_g_w_r_e_s_t_conn.html#a919ee8e18b3c046e8b64029ab3427130" title=" " alt="" coords="901,376,1076,419"/>
<area shape="poly" title=" " alt="" coords="840,357,886,369,885,374,838,362"/>
<area shape="rect" href="class_r_g_w_r_e_s_t_stream_s3_put_obj.html#a386285f97226c3e4c3329a2e910213ad" title=" " alt="" coords="896,173,1081,216"/>
<area shape="poly" title=" " alt="" coords="782,315,833,277,894,236,923,221,926,225,897,241,836,281,785,319"/>
<area shape="poly" title=" " alt="" coords="949,327,942,317,947,307,963,301,988,299,1017,301,1031,308,1029,313,1015,306,988,304,964,306,950,311,947,316,953,323"/>
<area shape="rect" href="class_r_g_w_r_e_s_t_conn.html#ae90bac8b6344ad9f172ce25c12cf82e9" title=" " alt="" coords="1140,424,1338,451"/>
<area shape="poly" title=" " alt="" coords="1077,409,1137,418,1136,424,1076,414"/>
<area shape="rect" href="class_r_g_w_r_e_s_t_conn.html#a80208c730562921a2e3b4d9dde10855e" title=" " alt="" coords="1152,357,1326,400"/>
<area shape="poly" title=" " alt="" coords="1076,388,1136,384,1137,389,1076,393"/>
<area shape="rect" href="classrgw_1_1sal_1_1_object.html#a0cdac8c36c06ebf81fb580038205487f" title=" " alt="" coords="1170,291,1308,333"/>
<area shape="poly" title=" " alt="" coords="1042,214,1083,236,1106,257,1130,276,1156,288,1154,293,1128,281,1103,261,1079,241,1039,219"/>
<area shape="rect" href="classrgw_1_1sal_1_1_bucket.html#ab9ec2756b101c59e885d487256b3d7df" title=" " alt="" coords="1149,5,1329,32"/>
<area shape="poly" title=" " alt="" coords="1001,171,1051,107,1087,71,1128,42,1139,36,1142,40,1130,46,1090,75,1055,110,1006,175"/>
<area shape="rect" href="classrgw_1_1sal_1_1_object.html#a179f38a720d7ff3bd1a860203391a52d" title=" " alt="" coords="1158,56,1320,83"/>
<area shape="poly" title=" " alt="" coords="1012,171,1063,131,1128,92,1146,85,1148,90,1130,97,1066,135,1015,175"/>
<area shape="rect" href="class_r_g_w_r_e_s_t_generate_h_t_t_p_headers.html#a62bad167b9c8b4344230f51f50033864" title=" " alt="" coords="1129,107,1349,149"/>
<area shape="poly" title=" " alt="" coords="1071,170,1141,151,1143,156,1072,175"/>
<area shape="rect" href="class_r_g_w_r_e_s_t_generate_h_t_t_p_headers.html#a3e552ccf217cd98709d0c1e6d83a1070" title=" " alt="" coords="1129,173,1349,216"/>
<area shape="poly" title=" " alt="" coords="1081,192,1113,192,1113,197,1081,197"/>
<area shape="rect" href="rgw__common_8cc.html#affdd013cb068d033d4287181693e4aba" title=" " alt="" coords="1197,240,1281,267"/>
<area shape="poly" title=" " alt="" coords="1082,214,1130,225,1182,238,1181,243,1128,231,1080,219"/>
<area shape="rect" href="class_r_g_w_h_t_t_p.html#ac8ab575c584649a3aaa6c3391f918e3a" title=" " alt="" coords="694,472,816,499"/>
<area shape="poly" title=" " alt="" coords="610,483,679,483,679,488,610,488"/>
<area shape="rect" href="class_r_g_w_h_t_t_p_manager.html#a12fb23d99e733aa22fdfd983c7581698" title=" " alt="" coords="906,464,1071,507"/>
<area shape="poly" title=" " alt="" coords="816,483,890,483,890,488,816,488"/>
<area shape="rect" href="class_r_g_w_h_t_t_p_manager.html#a16579a72dddb523cd5bdbf2957d22ef8" title=" " alt="" coords="1153,475,1326,517"/>
<area shape="poly" title=" " alt="" coords="1071,486,1137,489,1137,494,1071,491"/>
<area shape="rect" href="class_r_g_w_r_e_s_t_conn.html#aa8566192403e5db015175f5ecdd13009" title=" " alt="" coords="669,597,841,624"/>
<area shape="poly" title=" " alt="" coords="610,571,686,590,685,595,609,576"/>
<area shape="rect" href="class_r_g_w_l_c_cloud_stream_put.html#aee0a9faf946f162d660f141a03209222" title=" " alt="" coords="673,531,837,573"/>
<area shape="poly" title=" " alt="" coords="610,549,657,549,657,555,610,555"/>
<area shape="rect" href="class_r_g_w_access_control_policy.html#a9fa6936da8a5fcccadb72dad7c478eab" title=" " alt="" coords="901,597,1076,640"/>
<area shape="poly" title=" " alt="" coords="833,571,897,590,896,595,831,576"/>
<area shape="rect" href="class_r_g_w_l_c_cloud_stream_put.html#ada534365609225a4902582fd7982581a" title=" " alt="" coords="906,531,1071,573"/>
<area shape="poly" title=" " alt="" coords="838,549,890,549,890,555,838,555"/>
</map>
</div>
<div class="dynheader">
이 함수를 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="rgw__lc__tier_8cc_a708d92898f0d0340a422c6f4d41179df_icgraph.png" border="0" usemap="#argw__lc__tier_8cc_a708d92898f0d0340a422c6f4d41179df_icgraph" alt=""/></div>
<map name="argw__lc__tier_8cc_a708d92898f0d0340a422c6f4d41179df_icgraph" id="argw__lc__tier_8cc_a708d92898f0d0340a422c6f4d41179df_icgraph">
<area shape="rect" title=" " alt="" coords="418,13,579,40"/>
<area shape="rect" href="rgw__lc__tier_8cc.html#a2906f85e3121b2099d65e0f9047553e9" title=" " alt="" coords="216,5,370,48"/>
<area shape="poly" title=" " alt="" coords="402,29,370,29,370,24,402,24"/>
<area shape="rect" href="class_l_c_op_action___transition.html#a11d3ae78bd110a735d53bb533e68b59b" title=" " alt="" coords="5,5,168,48"/>
<area shape="poly" title=" " alt="" coords="200,29,168,29,168,24,200,24"/>
</map>
</div>

</div>
</div>
<a id="a3bf8a95e6d9ba53115bfb1118a771df4" name="a3bf8a95e6d9ba53115bfb1118a771df4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3bf8a95e6d9ba53115bfb1118a771df4">&#9670;&#160;</a></span>cloud_tier_send_multipart_part()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int cloud_tier_send_multipart_part </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_r_g_w_l_c_cloud_tier_ctx.html">RGWLCCloudTierCtx</a> &amp;&#160;</td>
          <td class="paramname"><em>tier_ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>upload_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structrgw__lc__multipart__part__info.html">rgw_lc_multipart_part_info</a> &amp;&#160;</td>
          <td class="paramname"><em>part_info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::string *&#160;</td>
          <td class="paramname"><em>petag</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition"><a class="el" href="rgw__lc__tier_8cc_source.html">rgw_lc_tier.cc</a> 파일의 <a class="el" href="rgw__lc__tier_8cc_source.html#l00809">809</a> 번째 라인에서 정의되었습니다.</p>
<div class="fragment"><div class="line"><span class="lineno">  812</span>                                                  {</div>
<div class="line"><span class="lineno">  813</span>  <span class="keywordtype">int</span> ret;</div>
<div class="line"><span class="lineno">  814</span>  std::unique_ptr&lt;rgw::sal::Bucket&gt; dest_bucket;</div>
<div class="line"><span class="lineno">  815</span>  std::unique_ptr&lt;rgw::sal::Object&gt; dest_obj;</div>
<div class="line"><span class="lineno">  816</span> </div>
<div class="line"><span class="lineno">  817</span>  <a class="code hl_struct" href="structrgw__lc__obj__properties.html">rgw_lc_obj_properties</a> obj_properties(tier_ctx.<a class="code hl_variable" href="struct_r_g_w_l_c_cloud_tier_ctx.html#ac7696914982b184b5a468f23791d91a6">o</a>.meta.mtime, tier_ctx.<a class="code hl_variable" href="struct_r_g_w_l_c_cloud_tier_ctx.html#ac7696914982b184b5a468f23791d91a6">o</a>.meta.etag,</div>
<div class="line"><span class="lineno">  818</span>                        tier_ctx.<a class="code hl_variable" href="struct_r_g_w_l_c_cloud_tier_ctx.html#ac7696914982b184b5a468f23791d91a6">o</a>.versioned_epoch, tier_ctx.<a class="code hl_variable" href="struct_r_g_w_l_c_cloud_tier_ctx.html#a9bd1ff6151286d286ab6bc40fbe21db3">acl_mappings</a>,</div>
<div class="line"><span class="lineno">  819</span>                        tier_ctx.<a class="code hl_variable" href="struct_r_g_w_l_c_cloud_tier_ctx.html#aff4bd36e5f90f32bc457cd1da40f8d18">target_storage_class</a>);</div>
<div class="line"><span class="lineno">  820</span>  <a class="code hl_struct" href="struct_r_g_w_bucket_info.html">RGWBucketInfo</a> b;</div>
<div class="line"><span class="lineno">  821</span>  std::string target_obj_name;</div>
<div class="line"><span class="lineno">  822</span>  off_t end;</div>
<div class="line"><span class="lineno">  823</span> </div>
<div class="line"><span class="lineno">  824</span>  b.<a class="code hl_variable" href="struct_r_g_w_bucket_info.html#afbd8422e16061abdf72d710794ac74d4">bucket</a>.<a class="code hl_variable" href="structrgw__bucket.html#a32d3529f5b0c53051c856a7abe867a6b">name</a> = tier_ctx.<a class="code hl_variable" href="struct_r_g_w_l_c_cloud_tier_ctx.html#a6a3c18ecc5b2850180a938c6fd21d567">target_bucket_name</a>;</div>
<div class="line"><span class="lineno">  825</span>  target_obj_name = tier_ctx.<a class="code hl_variable" href="struct_r_g_w_l_c_cloud_tier_ctx.html#a6f880c4c8f05cd4b045c925244da71f8">bucket_info</a>.<a class="code hl_variable" href="struct_r_g_w_bucket_info.html#afbd8422e16061abdf72d710794ac74d4">bucket</a>.<a class="code hl_variable" href="structrgw__bucket.html#a32d3529f5b0c53051c856a7abe867a6b">name</a> + <span class="stringliteral">&quot;/&quot;</span> +</div>
<div class="line"><span class="lineno">  826</span>    tier_ctx.<a class="code hl_variable" href="struct_r_g_w_l_c_cloud_tier_ctx.html#a679e2551051f8c0fda753bc1bc6db7cc">obj</a>-&gt;<a class="code hl_function" href="classrgw_1_1sal_1_1_object.html#aa4a801a7e7dfbb29ccf622603dee6ae3">get_name</a>();</div>
<div class="line"><span class="lineno">  827</span>  <span class="keywordflow">if</span> (!tier_ctx.<a class="code hl_variable" href="struct_r_g_w_l_c_cloud_tier_ctx.html#ac7696914982b184b5a468f23791d91a6">o</a>.is_current()) {</div>
<div class="line"><span class="lineno">  828</span>    target_obj_name += <a class="code hl_function" href="rgw__lc__tier_8cc.html#aea4258058a85e5b1179ec1dba3054041">get_key_instance</a>(tier_ctx.<a class="code hl_variable" href="struct_r_g_w_l_c_cloud_tier_ctx.html#a679e2551051f8c0fda753bc1bc6db7cc">obj</a>-&gt;<a class="code hl_function" href="classrgw_1_1sal_1_1_object.html#af492ef7b108fe3b0045349261ba80c3c">get_key</a>());</div>
<div class="line"><span class="lineno">  829</span>  }</div>
<div class="line"><span class="lineno">  830</span> </div>
<div class="line"><span class="lineno">  831</span>  ret = tier_ctx.<a class="code hl_variable" href="struct_r_g_w_l_c_cloud_tier_ctx.html#acd12ed9b2dc9868f9081a968d67763b6">store</a>-&gt;<a class="code hl_function" href="classrgw_1_1sal_1_1_store.html#a3308ce50125b19ccdf5ce7f69958bd67">get_bucket</a>(<span class="keyword">nullptr</span>, b, &amp;dest_bucket);</div>
<div class="line"><span class="lineno">  832</span>  <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno">  833</span>    ldpp_dout(tier_ctx.<a class="code hl_variable" href="struct_r_g_w_l_c_cloud_tier_ctx.html#a10433e11720af1b72f2fec265ce02143">dpp</a>, 0) &lt;&lt; <span class="stringliteral">&quot;ERROR: failed to initialize dest_bucket - &quot;</span> &lt;&lt; tier_ctx.<a class="code hl_variable" href="struct_r_g_w_l_c_cloud_tier_ctx.html#a6a3c18ecc5b2850180a938c6fd21d567">target_bucket_name</a> &lt;&lt; <span class="stringliteral">&quot; , ret = &quot;</span> &lt;&lt; ret &lt;&lt; dendl;</div>
<div class="line"><span class="lineno">  834</span>    <span class="keywordflow">return</span> ret;</div>
<div class="line"><span class="lineno">  835</span>  }</div>
<div class="line"><span class="lineno">  836</span> </div>
<div class="line"><span class="lineno">  837</span>  dest_obj = dest_bucket-&gt;get_object(<a class="code hl_struct" href="structrgw__obj__key.html">rgw_obj_key</a>(target_obj_name));</div>
<div class="line"><span class="lineno">  838</span>  <span class="keywordflow">if</span> (!dest_obj) {</div>
<div class="line"><span class="lineno">  839</span>    ldpp_dout(tier_ctx.<a class="code hl_variable" href="struct_r_g_w_l_c_cloud_tier_ctx.html#a10433e11720af1b72f2fec265ce02143">dpp</a>, 0) &lt;&lt; <span class="stringliteral">&quot;ERROR: failed to initialize dest_object path - &quot;</span> &lt;&lt; target_obj_name &lt;&lt; dendl;</div>
<div class="line"><span class="lineno">  840</span>    <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno">  841</span>  }</div>
<div class="line"><span class="lineno">  842</span> </div>
<div class="line"><span class="lineno">  843</span>  tier_ctx.<a class="code hl_variable" href="struct_r_g_w_l_c_cloud_tier_ctx.html#a679e2551051f8c0fda753bc1bc6db7cc">obj</a>-&gt;<a class="code hl_function" href="classrgw_1_1sal_1_1_object.html#aebb3bdb3cf25ba091ff6034a877fe976">set_atomic</a>(&amp;tier_ctx.<a class="code hl_variable" href="struct_r_g_w_l_c_cloud_tier_ctx.html#a9e2fe5d0f93b543cbd0f793f39c0a27b">rctx</a>);</div>
<div class="line"><span class="lineno">  844</span> </div>
<div class="line"><span class="lineno">  845</span>  <span class="comment">/* TODO: Define readf, writef as stack variables. For some reason,</span></div>
<div class="line"><span class="lineno">  846</span><span class="comment">   * when used as stack variables (esp., readf), the transition seems to</span></div>
<div class="line"><span class="lineno">  847</span><span class="comment">   * be taking lot of time eventually erroring out at times. */</span></div>
<div class="line"><span class="lineno">  848</span>  std::shared_ptr&lt;RGWLCStreamRead&gt; readf;</div>
<div class="line"><span class="lineno">  849</span>  readf.reset(<span class="keyword">new</span> <a class="code hl_class" href="class_r_g_w_l_c_stream_read.html">RGWLCStreamRead</a>(tier_ctx.<a class="code hl_variable" href="struct_r_g_w_l_c_cloud_tier_ctx.html#aaa953630ccef16688265f292162d994e">cct</a>, tier_ctx.<a class="code hl_variable" href="struct_r_g_w_l_c_cloud_tier_ctx.html#a10433e11720af1b72f2fec265ce02143">dpp</a>,</div>
<div class="line"><span class="lineno">  850</span>        tier_ctx.<a class="code hl_variable" href="struct_r_g_w_l_c_cloud_tier_ctx.html#a9e2fe5d0f93b543cbd0f793f39c0a27b">rctx</a>, tier_ctx.<a class="code hl_variable" href="struct_r_g_w_l_c_cloud_tier_ctx.html#a679e2551051f8c0fda753bc1bc6db7cc">obj</a>, tier_ctx.<a class="code hl_variable" href="struct_r_g_w_l_c_cloud_tier_ctx.html#ac7696914982b184b5a468f23791d91a6">o</a>.meta.mtime));</div>
<div class="line"><span class="lineno">  851</span> </div>
<div class="line"><span class="lineno">  852</span>  std::shared_ptr&lt;RGWLCCloudStreamPut&gt; writef;</div>
<div class="line"><span class="lineno">  853</span>  writef.reset(<span class="keyword">new</span> <a class="code hl_class" href="class_r_g_w_l_c_cloud_stream_put.html">RGWLCCloudStreamPut</a>(tier_ctx.<a class="code hl_variable" href="struct_r_g_w_l_c_cloud_tier_ctx.html#a10433e11720af1b72f2fec265ce02143">dpp</a>, obj_properties, tier_ctx.<a class="code hl_variable" href="struct_r_g_w_l_c_cloud_tier_ctx.html#af3287a0bb4c2ff1d3c49b458004722c8">conn</a>,</div>
<div class="line"><span class="lineno">  854</span>               dest_obj.get()));</div>
<div class="line"><span class="lineno">  855</span> </div>
<div class="line"><span class="lineno">  856</span>  <span class="comment">/* Prepare Read from source */</span></div>
<div class="line"><span class="lineno">  857</span>  end = <a class="code hl_typedef" href="namespacergw_1_1cls_1_1fifo.html#ac5c9c31efcf2b551289f3b468f11bfee">part_info</a>.ofs + <a class="code hl_typedef" href="namespacergw_1_1cls_1_1fifo.html#ac5c9c31efcf2b551289f3b468f11bfee">part_info</a>.size - 1;</div>
<div class="line"><span class="lineno">  858</span>  readf-&gt;set_multipart(<a class="code hl_typedef" href="namespacergw_1_1cls_1_1fifo.html#ac5c9c31efcf2b551289f3b468f11bfee">part_info</a>.size, <a class="code hl_typedef" href="namespacergw_1_1cls_1_1fifo.html#ac5c9c31efcf2b551289f3b468f11bfee">part_info</a>.ofs, end);</div>
<div class="line"><span class="lineno">  859</span> </div>
<div class="line"><span class="lineno">  860</span>  <span class="comment">/* Prepare write */</span></div>
<div class="line"><span class="lineno">  861</span>  writef-&gt;set_multipart(upload_id, <a class="code hl_typedef" href="namespacergw_1_1cls_1_1fifo.html#ac5c9c31efcf2b551289f3b468f11bfee">part_info</a>.part_num, <a class="code hl_typedef" href="namespacergw_1_1cls_1_1fifo.html#ac5c9c31efcf2b551289f3b468f11bfee">part_info</a>.size);</div>
<div class="line"><span class="lineno">  862</span> </div>
<div class="line"><span class="lineno">  863</span>  <span class="comment">/* actual Read &amp; Write */</span></div>
<div class="line"><span class="lineno">  864</span>  ret = <a class="code hl_function" href="rgw__lc__tier_8cc.html#a812ed54814d78a19a8d2edb5c3660750">cloud_tier_transfer_object</a>(tier_ctx.<a class="code hl_variable" href="struct_r_g_w_l_c_cloud_tier_ctx.html#a10433e11720af1b72f2fec265ce02143">dpp</a>, readf.get(), writef.get());</div>
<div class="line"><span class="lineno">  865</span>  <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno">  866</span>    <span class="keywordflow">return</span> ret;</div>
<div class="line"><span class="lineno">  867</span>  }</div>
<div class="line"><span class="lineno">  868</span> </div>
<div class="line"><span class="lineno">  869</span>  <span class="keywordflow">if</span> (!(writef-&gt;get_etag(petag))) {</div>
<div class="line"><span class="lineno">  870</span>    ldpp_dout(tier_ctx.<a class="code hl_variable" href="struct_r_g_w_l_c_cloud_tier_ctx.html#a10433e11720af1b72f2fec265ce02143">dpp</a>, 0) &lt;&lt; <span class="stringliteral">&quot;ERROR: failed to get etag from PUT request&quot;</span> &lt;&lt; dendl;</div>
<div class="line"><span class="lineno">  871</span>    <span class="keywordflow">return</span> -EIO;</div>
<div class="line"><span class="lineno">  872</span>  }</div>
<div class="line"><span class="lineno">  873</span> </div>
<div class="line"><span class="lineno">  874</span>  <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">  875</span>}</div>
<div class="ttc" id="anamespacergw_1_1cls_1_1fifo_html_ac5c9c31efcf2b551289f3b468f11bfee"><div class="ttname"><a href="namespacergw_1_1cls_1_1fifo.html#ac5c9c31efcf2b551289f3b468f11bfee">rgw::cls::fifo::part_info</a></div><div class="ttdeci">fifo::part_header part_info</div><div class="ttdef"><b>Definition</b> <a href="cls__fifo__legacy_8h_source.html#l00087">cls_fifo_legacy.h:87</a></div></div>
</div><!-- fragment --><div class="dynheader">
이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="rgw__lc__tier_8cc_a3bf8a95e6d9ba53115bfb1118a771df4_cgraph.png" border="0" usemap="#argw__lc__tier_8cc_a3bf8a95e6d9ba53115bfb1118a771df4_cgraph" alt=""/></div>
<map name="argw__lc__tier_8cc_a3bf8a95e6d9ba53115bfb1118a771df4_cgraph" id="argw__lc__tier_8cc_a3bf8a95e6d9ba53115bfb1118a771df4_cgraph">
<area shape="rect" title=" " alt="" coords="5,1147,204,1173"/>
<area shape="rect" href="rgw__lc__tier_8cc.html#a812ed54814d78a19a8d2edb5c3660750" title=" " alt="" coords="277,715,404,757"/>
<area shape="poly" title=" " alt="" coords="111,1145,317,770,322,773,116,1148"/>
<area shape="rect" href="classrgw_1_1sal_1_1_object.html#af492ef7b108fe3b0045349261ba80c3c" title=" " alt="" coords="942,1080,1109,1107"/>
<area shape="poly" title=" " alt="" coords="128,1144,183,1117,251,1095,343,1079,437,1069,531,1064,623,1062,792,1068,927,1079,926,1084,792,1073,623,1068,531,1069,437,1074,343,1084,252,1100,185,1122,131,1149"/>
<area shape="rect" href="classrgw_1_1sal_1_1_store.html#a3308ce50125b19ccdf5ce7f69958bd67" title=" " alt="" coords="275,1109,406,1152"/>
<area shape="poly" title=" " alt="" coords="204,1145,259,1138,259,1143,204,1150"/>
<area shape="rect" href="rgw__lc__tier_8cc.html#aea4258058a85e5b1179ec1dba3054041" title=" " alt="" coords="279,1176,402,1203"/>
<area shape="poly" title=" " alt="" coords="204,1170,264,1177,263,1182,204,1175"/>
<area shape="rect" href="classrgw_1_1sal_1_1_object.html#aa4a801a7e7dfbb29ccf622603dee6ae3" title=" " alt="" coords="252,1227,429,1253"/>
<area shape="poly" title=" " alt="" coords="141,1171,253,1212,275,1219,273,1224,251,1217,139,1176"/>
<area shape="rect" href="classrgw_1_1sal_1_1_object.html#aebb3bdb3cf25ba091ff6034a877fe976" title=" " alt="" coords="271,1277,410,1320"/>
<area shape="poly" title=" " alt="" coords="124,1172,179,1215,253,1263,263,1268,261,1273,250,1268,176,1220,120,1176"/>
<area shape="rect" href="class_r_g_w_l_c_cloud_stream_put.html#a6be5108f1473e2a4502d0b486000f2c3" title=" " alt="" coords="482,597,646,640"/>
<area shape="poly" title=" " alt="" coords="372,712,420,681,476,650,487,644,489,649,478,654,423,686,374,716"/>
<area shape="rect" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5" title=" " alt="" coords="543,664,585,691"/>
<area shape="poly" title=" " alt="" coords="404,717,527,684,528,689,405,722"/>
<area shape="rect" href="class_r_g_w_l_c_cloud_stream_put.html#a2109ca30d4f1d8282ff973bbd1df484e" title=" " alt="" coords="482,715,646,757"/>
<area shape="poly" title=" " alt="" coords="404,733,467,733,467,739,404,739"/>
<area shape="rect" href="class_r_g_w_l_c_stream_read.html#a245dc5b10c37bdf174695d7e033abcfe" title=" " alt="" coords="481,781,648,824"/>
<area shape="poly" title=" " alt="" coords="405,752,476,774,475,779,404,757"/>
<area shape="rect" href="class_r_g_w_l_c_stream_read.html#acfd0ab57202a875349ffce0f0e808699" title=" " alt="" coords="481,848,648,891"/>
<area shape="poly" title=" " alt="" coords="368,756,418,794,478,834,488,839,485,843,476,838,415,799,365,760"/>
<area shape="rect" href="class_r_g_w_l_c_stream_read.html#a21972de2ea9e99cb973e15c8e6915b9f" title=" " alt="" coords="481,915,647,941"/>
<area shape="poly" title=" " alt="" coords="356,756,403,828,438,867,479,900,487,906,484,910,475,905,434,871,399,831,351,759"/>
<area shape="rect" href="class_r_g_w_l_c_cloud_stream_put.html#a729b9ffc1e9d5f3074edce985a48f7dd" title=" " alt="" coords="482,368,646,411"/>
<area shape="poly" title=" " alt="" coords="345,713,362,663,390,595,427,520,475,450,511,418,514,422,479,454,432,523,394,597,367,665,351,715"/>
<area shape="rect" href="class_r_g_w_l_c_stream_read.html#a6dbe62f26c67bfbee0aa84ceda13a5a5" title=" " alt="" coords="477,965,651,992"/>
<area shape="poly" title=" " alt="" coords="352,757,369,798,396,851,432,905,454,930,479,951,485,956,482,960,475,955,450,934,428,908,391,854,364,801,347,759"/>
<area shape="rect" href="class_r_g_w_l_c_cloud_stream_put.html#a29cef8d3b27e69f3c1293558b2bc8825" title=" " alt="" coords="482,464,646,507"/>
<area shape="poly" title=" " alt="" coords="347,713,365,672,392,620,429,565,475,517,480,513,483,517,479,521,433,568,397,622,370,674,352,715"/>
<area shape="rect" href="class_r_g_w_l_c_cloud_stream_put.html#a8450a93477210c6b0b6f4548dbc448d3" title=" " alt="" coords="482,531,646,573"/>
<area shape="poly" title=" " alt="" coords="354,712,403,649,437,614,475,583,482,579,485,583,479,587,441,618,407,653,358,716"/>
<area shape="rect" href="class_r_g_w_r_e_s_t_conn.html#a2316b6676a813928a2caf6dadc445c8f" title=" " alt="" coords="703,648,881,691"/>
<area shape="poly" title=" " alt="" coords="647,634,688,644,687,649,646,640"/>
<area shape="rect" href="class_r_g_w_r_e_s_t_stream_s3_put_obj.html#ade6f7183efe6b10daef1da01bd397106" title=" " alt="" coords="699,715,885,757"/>
<area shape="poly" title=" " alt="" coords="647,733,684,733,684,739,647,739"/>
<area shape="rect" href="classrgw_1_1sal_1_1_object.html#aa8e83e47dd8615028e1eec9d9d7f8ec4" title=" " alt="" coords="723,848,861,891"/>
<area shape="poly" title=" " alt="" coords="618,912,707,888,708,894,620,917"/>
<area shape="rect" href="classrgw_1_1sal_1_1_object.html#a323199c62db43c2e9293e423dc248440" title=" " alt="" coords="723,915,861,957"/>
<area shape="poly" title=" " alt="" coords="648,928,707,930,707,936,647,934"/>
<area shape="rect" href="class_r_g_w_l_c_stream_read.html#aaba38d0462fb5736f83b56c24c977901" title=" " alt="" coords="709,981,875,1024"/>
<area shape="poly" title=" " alt="" coords="615,939,652,951,718,973,716,978,651,956,613,944"/>
<area shape="rect" href="class_r_g_w_l_c_stream_read.html#ad0ee3cb320002c52545ff6a4094652fc" title=" " alt="" coords="708,781,876,824"/>
<area shape="poly" title=" " alt="" coords="629,912,650,901,665,885,673,869,682,851,698,834,703,830,706,834,701,838,686,854,678,871,669,888,653,905,631,916"/>
<area shape="rect" href="class_r_g_w_access_control_policy.html#a0fa9952c93c911480e7428afd77bce88" title=" " alt="" coords="938,912,1113,955"/>
<area shape="poly" title=" " alt="" coords="866,978,936,957,938,962,867,983"/>
<area shape="poly" title=" " alt="" coords="836,1022,934,1066,954,1073,953,1078,932,1070,834,1027"/>
<area shape="rect" href="structrgw__rest__obj.html#ad8a7e0c4d495f791192355f400a55fd9" title=" " alt="" coords="966,979,1085,1005"/>
<area shape="poly" title=" " alt="" coords="875,996,950,993,950,998,875,1002"/>
<area shape="rect" href="rgw__lc__tier_8cc.html#a16290ce4ec307cf96f669fdc2fd8651f" title=" " alt="" coords="980,1029,1071,1056"/>
<area shape="poly" title=" " alt="" coords="876,1014,965,1030,964,1035,875,1020"/>
<area shape="rect" href="class_r_g_w_access_control_policy.html#aaded4552d8caf3c6e0eb1d520a8cf8dc" title=" " alt="" coords="938,841,1113,884"/>
<area shape="poly" title=" " alt="" coords="865,979,883,967,898,951,906,934,915,916,931,898,942,890,946,894,934,902,919,919,911,936,903,954,886,971,868,983"/>
<area shape="rect" href="rgw__log__backing_8h.html#adc46efdde31cf790f3b383cb9e6f198e" title=" " alt="" coords="1245,928,1308,955"/>
<area shape="poly" title=" " alt="" coords="1113,933,1229,937,1229,943,1113,939"/>
<area shape="poly" title=" " alt="" coords="1242,934,1228,923,1229,912,1246,904,1276,901,1301,903,1317,908,1325,915,1323,924,1318,923,1320,917,1315,912,1300,908,1276,907,1247,909,1234,915,1233,921,1246,930"/>
<area shape="rect" href="rgw__common_8h.html#a2e4359f75954d7742311c0bac880159d" title=" " alt="" coords="1236,1029,1316,1056"/>
<area shape="poly" title=" " alt="" coords="1072,1040,1221,1040,1221,1045,1072,1045"/>
<area shape="rect" href="class_r_g_w_access_control_list.html#af5087fff71ca9a21a499d99a59645162" title=" " alt="" coords="1197,837,1356,880"/>
<area shape="poly" title=" " alt="" coords="1113,859,1181,858,1181,863,1113,864"/>
<area shape="rect" href="class_r_g_w_r_e_s_t_conn.html#a89154d253f7423b412c328e354a81696" title=" " alt="" coords="708,317,876,360"/>
<area shape="poly" title=" " alt="" coords="646,368,693,358,694,363,647,374"/>
<area shape="rect" href="rgw__rest__conn_8h.html#a1df0923b4723e3b3f42709b425eb0215" title=" " alt="" coords="960,251,1091,277"/>
<area shape="poly" title=" " alt="" coords="851,314,932,287,956,280,957,285,933,292,853,319"/>
<area shape="rect" href="class_r_g_w_r_e_s_t_conn.html#ac833f895cae6760d02b776c2a597f02d" title=" " alt="" coords="943,325,1108,352"/>
<area shape="poly" title=" " alt="" coords="876,336,928,336,928,341,876,341"/>
<area shape="rect" href="class_r_g_w_r_e_s_t_conn.html#a919ee8e18b3c046e8b64029ab3427130" title=" " alt="" coords="938,376,1113,419"/>
<area shape="poly" title=" " alt="" coords="877,357,923,369,922,374,875,362"/>
<area shape="rect" href="class_r_g_w_r_e_s_t_stream_s3_put_obj.html#a386285f97226c3e4c3329a2e910213ad" title=" " alt="" coords="933,173,1118,216"/>
<area shape="poly" title=" " alt="" coords="819,315,870,277,931,236,960,221,963,225,934,241,873,281,822,319"/>
<area shape="poly" title=" " alt="" coords="986,327,979,317,984,307,1000,301,1025,299,1054,301,1068,308,1066,313,1052,306,1025,304,1001,306,987,311,984,316,990,323"/>
<area shape="rect" href="class_r_g_w_r_e_s_t_conn.html#ae90bac8b6344ad9f172ce25c12cf82e9" title=" " alt="" coords="1177,424,1375,451"/>
<area shape="poly" title=" " alt="" coords="1114,409,1174,418,1173,424,1113,414"/>
<area shape="rect" href="class_r_g_w_r_e_s_t_conn.html#a80208c730562921a2e3b4d9dde10855e" title=" " alt="" coords="1189,357,1363,400"/>
<area shape="poly" title=" " alt="" coords="1113,388,1173,384,1174,389,1113,393"/>
<area shape="rect" href="classrgw_1_1sal_1_1_object.html#a0cdac8c36c06ebf81fb580038205487f" title=" " alt="" coords="1207,291,1345,333"/>
<area shape="poly" title=" " alt="" coords="1079,214,1120,236,1143,257,1167,276,1193,288,1191,293,1165,281,1140,261,1116,241,1076,219"/>
<area shape="rect" href="classrgw_1_1sal_1_1_bucket.html#ab9ec2756b101c59e885d487256b3d7df" title=" " alt="" coords="1186,5,1366,32"/>
<area shape="poly" title=" " alt="" coords="1038,171,1088,107,1124,71,1165,42,1176,36,1179,40,1167,46,1127,75,1092,110,1043,175"/>
<area shape="rect" href="classrgw_1_1sal_1_1_object.html#a179f38a720d7ff3bd1a860203391a52d" title=" " alt="" coords="1195,56,1357,83"/>
<area shape="poly" title=" " alt="" coords="1049,171,1100,131,1165,92,1183,85,1185,90,1167,97,1103,135,1052,175"/>
<area shape="rect" href="class_r_g_w_r_e_s_t_generate_h_t_t_p_headers.html#a62bad167b9c8b4344230f51f50033864" title=" " alt="" coords="1166,107,1386,149"/>
<area shape="poly" title=" " alt="" coords="1108,170,1178,151,1180,156,1109,175"/>
<area shape="rect" href="class_r_g_w_r_e_s_t_generate_h_t_t_p_headers.html#a3e552ccf217cd98709d0c1e6d83a1070" title=" " alt="" coords="1166,173,1386,216"/>
<area shape="poly" title=" " alt="" coords="1118,192,1150,192,1150,197,1118,197"/>
<area shape="rect" href="rgw__common_8cc.html#affdd013cb068d033d4287181693e4aba" title=" " alt="" coords="1234,240,1318,267"/>
<area shape="poly" title=" " alt="" coords="1119,214,1167,225,1219,238,1218,243,1165,231,1117,219"/>
<area shape="rect" href="class_r_g_w_h_t_t_p.html#ac8ab575c584649a3aaa6c3391f918e3a" title=" " alt="" coords="731,472,853,499"/>
<area shape="poly" title=" " alt="" coords="647,483,716,483,716,488,647,488"/>
<area shape="rect" href="class_r_g_w_h_t_t_p_manager.html#a12fb23d99e733aa22fdfd983c7581698" title=" " alt="" coords="943,464,1108,507"/>
<area shape="poly" title=" " alt="" coords="853,483,927,483,927,488,853,488"/>
<area shape="rect" href="class_r_g_w_h_t_t_p_manager.html#a16579a72dddb523cd5bdbf2957d22ef8" title=" " alt="" coords="1190,475,1363,517"/>
<area shape="poly" title=" " alt="" coords="1108,486,1174,489,1174,494,1108,491"/>
<area shape="rect" href="class_r_g_w_r_e_s_t_conn.html#aa8566192403e5db015175f5ecdd13009" title=" " alt="" coords="706,597,878,624"/>
<area shape="poly" title=" " alt="" coords="647,571,723,590,722,595,646,576"/>
<area shape="rect" href="class_r_g_w_l_c_cloud_stream_put.html#aee0a9faf946f162d660f141a03209222" title=" " alt="" coords="710,531,874,573"/>
<area shape="poly" title=" " alt="" coords="647,549,694,549,694,555,647,555"/>
<area shape="rect" href="class_r_g_w_access_control_policy.html#a9fa6936da8a5fcccadb72dad7c478eab" title=" " alt="" coords="938,597,1113,640"/>
<area shape="poly" title=" " alt="" coords="870,571,934,590,933,595,868,576"/>
<area shape="rect" href="class_r_g_w_l_c_cloud_stream_put.html#ada534365609225a4902582fd7982581a" title=" " alt="" coords="943,531,1108,573"/>
<area shape="poly" title=" " alt="" coords="875,549,927,549,927,555,875,555"/>
</map>
</div>
<div class="dynheader">
이 함수를 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="rgw__lc__tier_8cc_a3bf8a95e6d9ba53115bfb1118a771df4_icgraph.png" border="0" usemap="#argw__lc__tier_8cc_a3bf8a95e6d9ba53115bfb1118a771df4_icgraph" alt=""/></div>
<map name="argw__lc__tier_8cc_a3bf8a95e6d9ba53115bfb1118a771df4_icgraph" id="argw__lc__tier_8cc_a3bf8a95e6d9ba53115bfb1118a771df4_icgraph">
<area shape="rect" title=" " alt="" coords="600,13,799,40"/>
<area shape="rect" href="rgw__lc__tier_8cc.html#a4fac4a9dcad607bf27557e0109f826b2" title=" " alt="" coords="418,5,552,48"/>
<area shape="poly" title=" " alt="" coords="585,29,553,29,553,24,585,24"/>
<area shape="rect" href="rgw__lc__tier_8cc.html#a2906f85e3121b2099d65e0f9047553e9" title=" " alt="" coords="216,5,370,48"/>
<area shape="poly" title=" " alt="" coords="402,29,371,29,371,24,402,24"/>
<area shape="rect" href="class_l_c_op_action___transition.html#a11d3ae78bd110a735d53bb533e68b59b" title=" " alt="" coords="5,5,168,48"/>
<area shape="poly" title=" " alt="" coords="200,29,168,29,168,24,200,24"/>
</map>
</div>

</div>
</div>
<a id="a812ed54814d78a19a8d2edb5c3660750" name="a812ed54814d78a19a8d2edb5c3660750"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a812ed54814d78a19a8d2edb5c3660750">&#9670;&#160;</a></span>cloud_tier_transfer_object()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int cloud_tier_transfer_object </td>
          <td>(</td>
          <td class="paramtype">const DoutPrefixProvider *&#160;</td>
          <td class="paramname"><em>dpp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_r_g_w_l_c_stream_read.html">RGWLCStreamRead</a> *&#160;</td>
          <td class="paramname"><em>readf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_r_g_w_l_c_cloud_stream_put.html">RGWLCCloudStreamPut</a> *&#160;</td>
          <td class="paramname"><em>writef</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition"><a class="el" href="rgw__lc__tier_8cc_source.html">rgw_lc_tier.cc</a> 파일의 <a class="el" href="rgw__lc__tier_8cc_source.html#l00711">711</a> 번째 라인에서 정의되었습니다.</p>
<div class="fragment"><div class="line"><span class="lineno">  712</span>                                                                                 {</div>
<div class="line"><span class="lineno">  713</span>  std::string url;</div>
<div class="line"><span class="lineno">  714</span>  bufferlist bl;</div>
<div class="line"><span class="lineno">  715</span>  <span class="keywordtype">bool</span> sent_attrs{<span class="keyword">false</span>};</div>
<div class="line"><span class="lineno">  716</span>  <span class="keywordtype">int</span> ret{0};</div>
<div class="line"><span class="lineno">  717</span>  off_t ofs;</div>
<div class="line"><span class="lineno">  718</span>  off_t end;</div>
<div class="line"><span class="lineno">  719</span> </div>
<div class="line"><span class="lineno">  720</span>  ret = readf-&gt;<a class="code hl_function" href="class_r_g_w_l_c_stream_read.html#a21972de2ea9e99cb973e15c8e6915b9f">init</a>();</div>
<div class="line"><span class="lineno">  721</span>  <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno">  722</span>    ldpp_dout(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>, 0) &lt;&lt; <span class="stringliteral">&quot;ERROR: fail to initialize in_crf, ret = &quot;</span> &lt;&lt; ret &lt;&lt; dendl;</div>
<div class="line"><span class="lineno">  723</span>    <span class="keywordflow">return</span> ret;</div>
<div class="line"><span class="lineno">  724</span>  }</div>
<div class="line"><span class="lineno">  725</span>  readf-&gt;<a class="code hl_function" href="class_r_g_w_l_c_stream_read.html#a245dc5b10c37bdf174695d7e033abcfe">get_range</a>(ofs, end);</div>
<div class="line"><span class="lineno">  726</span>  <a class="code hl_struct" href="structrgw__rest__obj.html">rgw_rest_obj</a>&amp; rest_obj = readf-&gt;<a class="code hl_function" href="class_r_g_w_l_c_stream_read.html#acfd0ab57202a875349ffce0f0e808699">get_rest_obj</a>();</div>
<div class="line"><span class="lineno">  727</span>  <span class="keywordflow">if</span> (!sent_attrs) {</div>
<div class="line"><span class="lineno">  728</span>    ret = writef-&gt;<a class="code hl_function" href="class_r_g_w_l_c_cloud_stream_put.html#a729b9ffc1e9d5f3074edce985a48f7dd">init</a>();</div>
<div class="line"><span class="lineno">  729</span>    <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno">  730</span>      ldpp_dout(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>, 0) &lt;&lt; <span class="stringliteral">&quot;ERROR: fail to initialize out_crf, ret = &quot;</span> &lt;&lt; ret &lt;&lt; dendl;</div>
<div class="line"><span class="lineno">  731</span>      <span class="keywordflow">return</span> ret;</div>
<div class="line"><span class="lineno">  732</span>    }</div>
<div class="line"><span class="lineno">  733</span> </div>
<div class="line"><span class="lineno">  734</span>    writef-&gt;<a class="code hl_function" href="class_r_g_w_l_c_cloud_stream_put.html#a8450a93477210c6b0b6f4548dbc448d3">send_ready</a>(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>, rest_obj);</div>
<div class="line"><span class="lineno">  735</span>    ret = writef-&gt;<a class="code hl_function" href="class_r_g_w_l_c_cloud_stream_put.html#a29cef8d3b27e69f3c1293558b2bc8825">send</a>();</div>
<div class="line"><span class="lineno">  736</span>    <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno">  737</span>      <span class="keywordflow">return</span> ret;</div>
<div class="line"><span class="lineno">  738</span>    }</div>
<div class="line"><span class="lineno">  739</span>    sent_attrs = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  740</span>  }</div>
<div class="line"><span class="lineno">  741</span> </div>
<div class="line"><span class="lineno">  742</span>  ret = readf-&gt;<a class="code hl_function" href="class_r_g_w_l_c_stream_read.html#a6dbe62f26c67bfbee0aa84ceda13a5a5">read</a>(ofs, end, writef-&gt;<a class="code hl_function" href="class_r_g_w_l_c_cloud_stream_put.html#a2109ca30d4f1d8282ff973bbd1df484e">get_cb</a>());</div>
<div class="line"><span class="lineno">  743</span> </div>
<div class="line"><span class="lineno">  744</span>  <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno">  745</span>    ldpp_dout(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>, 0) &lt;&lt; <span class="stringliteral">&quot;ERROR: fail to read from in_crf, ret = &quot;</span> &lt;&lt; ret &lt;&lt; dendl;</div>
<div class="line"><span class="lineno">  746</span>    <span class="keywordflow">return</span> ret;</div>
<div class="line"><span class="lineno">  747</span>  }</div>
<div class="line"><span class="lineno">  748</span> </div>
<div class="line"><span class="lineno">  749</span>  ret = writef-&gt;<a class="code hl_function" href="class_r_g_w_l_c_cloud_stream_put.html#a6be5108f1473e2a4502d0b486000f2c3">complete_request</a>();</div>
<div class="line"><span class="lineno">  750</span>  <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno">  751</span>    ldpp_dout(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>, 0) &lt;&lt; <span class="stringliteral">&quot;ERROR: fail to complete request, ret = &quot;</span> &lt;&lt; ret &lt;&lt; dendl;</div>
<div class="line"><span class="lineno">  752</span>    <span class="keywordflow">return</span> ret;</div>
<div class="line"><span class="lineno">  753</span>  }</div>
<div class="line"><span class="lineno">  754</span> </div>
<div class="line"><span class="lineno">  755</span>  <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">  756</span>}</div>
<div class="ttc" id="aclass_r_g_w_l_c_cloud_stream_put_html_a2109ca30d4f1d8282ff973bbd1df484e"><div class="ttname"><a href="class_r_g_w_l_c_cloud_stream_put.html#a2109ca30d4f1d8282ff973bbd1df484e">RGWLCCloudStreamPut::get_cb</a></div><div class="ttdeci">RGWGetDataCB * get_cb()</div><div class="ttdef"><b>Definition</b> <a href="rgw__lc__tier_8cc_source.html#l00701">rgw_lc_tier.cc:701</a></div></div>
<div class="ttc" id="aclass_r_g_w_l_c_cloud_stream_put_html_a29cef8d3b27e69f3c1293558b2bc8825"><div class="ttname"><a href="class_r_g_w_l_c_cloud_stream_put.html#a29cef8d3b27e69f3c1293558b2bc8825">RGWLCCloudStreamPut::send</a></div><div class="ttdeci">int send()</div><div class="ttdef"><b>Definition</b> <a href="rgw__lc__tier_8cc_source.html#l00696">rgw_lc_tier.cc:696</a></div></div>
<div class="ttc" id="aclass_r_g_w_l_c_cloud_stream_put_html_a6be5108f1473e2a4502d0b486000f2c3"><div class="ttname"><a href="class_r_g_w_l_c_cloud_stream_put.html#a6be5108f1473e2a4502d0b486000f2c3">RGWLCCloudStreamPut::complete_request</a></div><div class="ttdeci">int complete_request()</div><div class="ttdef"><b>Definition</b> <a href="rgw__lc__tier_8cc_source.html#l00705">rgw_lc_tier.cc:705</a></div></div>
<div class="ttc" id="aclass_r_g_w_l_c_cloud_stream_put_html_a729b9ffc1e9d5f3074edce985a48f7dd"><div class="ttname"><a href="class_r_g_w_l_c_cloud_stream_put.html#a729b9ffc1e9d5f3074edce985a48f7dd">RGWLCCloudStreamPut::init</a></div><div class="ttdeci">int init()</div><div class="ttdef"><b>Definition</b> <a href="rgw__lc__tier_8cc_source.html#l00501">rgw_lc_tier.cc:501</a></div></div>
<div class="ttc" id="aclass_r_g_w_l_c_cloud_stream_put_html_a8450a93477210c6b0b6f4548dbc448d3"><div class="ttname"><a href="class_r_g_w_l_c_cloud_stream_put.html#a8450a93477210c6b0b6f4548dbc448d3">RGWLCCloudStreamPut::send_ready</a></div><div class="ttdeci">void send_ready(const DoutPrefixProvider *dpp, const rgw_rest_obj &amp;rest_obj)</div><div class="ttdef"><b>Definition</b> <a href="rgw__lc__tier_8cc_source.html#l00658">rgw_lc_tier.cc:658</a></div></div>
<div class="ttc" id="aclass_r_g_w_l_c_stream_read_html_a21972de2ea9e99cb973e15c8e6915b9f"><div class="ttname"><a href="class_r_g_w_l_c_stream_read.html#a21972de2ea9e99cb973e15c8e6915b9f">RGWLCStreamRead::init</a></div><div class="ttdeci">int init()</div><div class="ttdef"><b>Definition</b> <a href="rgw__lc__tier_8cc_source.html#l00423">rgw_lc_tier.cc:423</a></div></div>
<div class="ttc" id="aclass_r_g_w_l_c_stream_read_html_a245dc5b10c37bdf174695d7e033abcfe"><div class="ttname"><a href="class_r_g_w_l_c_stream_read.html#a245dc5b10c37bdf174695d7e033abcfe">RGWLCStreamRead::get_range</a></div><div class="ttdeci">int get_range(off_t &amp;_ofs, off_t &amp;_end)</div><div class="ttdef"><b>Definition</b> <a href="rgw__lc__tier_8cc_source.html#l00405">rgw_lc_tier.cc:405</a></div></div>
<div class="ttc" id="aclass_r_g_w_l_c_stream_read_html_a6dbe62f26c67bfbee0aa84ceda13a5a5"><div class="ttname"><a href="class_r_g_w_l_c_stream_read.html#a6dbe62f26c67bfbee0aa84ceda13a5a5">RGWLCStreamRead::read</a></div><div class="ttdeci">int read(off_t ofs, off_t end, RGWGetDataCB *out_cb)</div><div class="ttdef"><b>Definition</b> <a href="rgw__lc__tier_8cc_source.html#l00496">rgw_lc_tier.cc:496</a></div></div>
<div class="ttc" id="aclass_r_g_w_l_c_stream_read_html_acfd0ab57202a875349ffce0f0e808699"><div class="ttname"><a href="class_r_g_w_l_c_stream_read.html#acfd0ab57202a875349ffce0f0e808699">RGWLCStreamRead::get_rest_obj</a></div><div class="ttdeci">rgw_rest_obj &amp; get_rest_obj()</div><div class="ttdef"><b>Definition</b> <a href="rgw__lc__tier_8cc_source.html#l00412">rgw_lc_tier.cc:412</a></div></div>
</div><!-- fragment --><div class="dynheader">
이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="rgw__lc__tier_8cc_a812ed54814d78a19a8d2edb5c3660750_cgraph.png" border="0" usemap="#argw__lc__tier_8cc_a812ed54814d78a19a8d2edb5c3660750_cgraph" alt=""/></div>
<map name="argw__lc__tier_8cc_a812ed54814d78a19a8d2edb5c3660750_cgraph" id="argw__lc__tier_8cc_a812ed54814d78a19a8d2edb5c3660750_cgraph">
<area shape="rect" title=" " alt="" coords="5,285,133,328"/>
<area shape="rect" href="class_r_g_w_l_c_cloud_stream_put.html#a6be5108f1473e2a4502d0b486000f2c3" title=" " alt="" coords="186,5,350,48"/>
<area shape="poly" title=" " alt="" coords="72,284,83,238,103,178,135,114,155,85,179,58,182,55,185,59,183,62,159,88,139,117,108,180,88,240,77,286"/>
<area shape="rect" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5" title=" " alt="" coords="247,72,289,99"/>
<area shape="poly" title=" " alt="" coords="74,284,87,246,109,199,139,150,179,109,204,95,230,87,232,92,206,100,182,113,144,154,114,201,92,248,79,286"/>
<area shape="rect" href="class_r_g_w_l_c_cloud_stream_put.html#a2109ca30d4f1d8282ff973bbd1df484e" title=" " alt="" coords="186,123,350,165"/>
<area shape="poly" title=" " alt="" coords="82,283,121,230,149,201,179,175,186,171,189,175,182,179,152,205,125,233,86,287"/>
<area shape="rect" href="class_r_g_w_l_c_stream_read.html#a245dc5b10c37bdf174695d7e033abcfe" title=" " alt="" coords="184,189,352,232"/>
<area shape="poly" title=" " alt="" coords="105,282,179,242,192,236,194,241,182,246,107,287"/>
<area shape="rect" href="class_r_g_w_l_c_stream_read.html#acfd0ab57202a875349ffce0f0e808699" title=" " alt="" coords="184,256,352,299"/>
<area shape="poly" title=" " alt="" coords="133,295,168,289,169,295,133,300"/>
<area shape="rect" href="class_r_g_w_l_c_stream_read.html#a21972de2ea9e99cb973e15c8e6915b9f" title=" " alt="" coords="185,323,351,349"/>
<area shape="poly" title=" " alt="" coords="133,313,170,319,169,324,133,319"/>
<area shape="rect" href="class_r_g_w_l_c_cloud_stream_put.html#a729b9ffc1e9d5f3074edce985a48f7dd" title=" " alt="" coords="186,373,350,416"/>
<area shape="poly" title=" " alt="" coords="114,326,182,359,195,365,193,370,180,364,111,331"/>
<area shape="rect" href="class_r_g_w_l_c_stream_read.html#a6dbe62f26c67bfbee0aa84ceda13a5a5" title=" " alt="" coords="181,440,355,467"/>
<area shape="poly" title=" " alt="" coords="87,327,126,377,152,403,182,426,192,431,189,436,179,430,149,407,122,380,82,330"/>
<area shape="rect" href="class_r_g_w_l_c_cloud_stream_put.html#a29cef8d3b27e69f3c1293558b2bc8825" title=" " alt="" coords="186,653,350,696"/>
<area shape="poly" title=" " alt="" coords="84,327,250,638,245,641,80,330"/>
<area shape="rect" href="class_r_g_w_l_c_cloud_stream_put.html#a8450a93477210c6b0b6f4548dbc448d3" title=" " alt="" coords="186,816,350,859"/>
<area shape="poly" title=" " alt="" coords="76,328,89,394,110,489,142,599,183,707,211,758,242,802,238,805,207,761,178,709,137,600,105,490,83,395,71,329"/>
<area shape="rect" href="class_r_g_w_r_e_s_t_conn.html#a2316b6676a813928a2caf6dadc445c8f" title=" " alt="" coords="407,5,585,48"/>
<area shape="poly" title=" " alt="" coords="350,24,391,24,391,29,350,29"/>
<area shape="rect" href="class_r_g_w_r_e_s_t_stream_s3_put_obj.html#ade6f7183efe6b10daef1da01bd397106" title=" " alt="" coords="403,93,588,136"/>
<area shape="poly" title=" " alt="" coords="350,131,387,126,388,131,351,136"/>
<area shape="rect" href="classrgw_1_1sal_1_1_object.html#aa8e83e47dd8615028e1eec9d9d7f8ec4" title=" " alt="" coords="427,160,565,203"/>
<area shape="poly" title=" " alt="" coords="335,320,353,309,371,286,377,262,383,238,401,213,411,205,415,209,405,217,388,240,382,264,375,288,357,313,338,324"/>
<area shape="rect" href="classrgw_1_1sal_1_1_object.html#a323199c62db43c2e9293e423dc248440" title=" " alt="" coords="427,227,565,269"/>
<area shape="poly" title=" " alt="" coords="323,320,354,308,378,294,402,279,414,273,417,278,404,284,381,299,356,313,325,325"/>
<area shape="rect" href="class_r_g_w_l_c_stream_read.html#aaba38d0462fb5736f83b56c24c977901" title=" " alt="" coords="413,293,579,336"/>
<area shape="poly" title=" " alt="" coords="351,326,397,321,397,327,351,331"/>
<area shape="rect" href="class_r_g_w_l_c_stream_read.html#ad0ee3cb320002c52545ff6a4094652fc" title=" " alt="" coords="412,360,579,403"/>
<area shape="poly" title=" " alt="" coords="339,347,397,359,396,364,338,353"/>
<area shape="rect" href="class_r_g_w_access_control_policy.html#a0fa9952c93c911480e7428afd77bce88" title=" " alt="" coords="642,104,816,147"/>
<area shape="poly" title=" " alt="" coords="572,291,586,279,598,265,605,250,610,220,615,189,622,173,634,157,638,154,641,158,638,160,626,175,620,190,615,220,610,251,603,267,590,283,575,295"/>
<area shape="rect" href="classrgw_1_1sal_1_1_object.html#af492ef7b108fe3b0045349261ba80c3c" title=" " alt="" coords="646,171,812,197"/>
<area shape="poly" title=" " alt="" coords="569,290,587,279,602,262,610,244,618,225,635,207,642,202,645,207,638,211,622,228,614,246,606,265,590,283,572,295"/>
<area shape="rect" href="structrgw__rest__obj.html#ad8a7e0c4d495f791192355f400a55fd9" title=" " alt="" coords="669,221,789,248"/>
<area shape="poly" title=" " alt="" coords="558,290,587,279,635,258,657,250,658,256,637,262,589,284,560,295"/>
<area shape="rect" href="rgw__lc__tier_8cc.html#a16290ce4ec307cf96f669fdc2fd8651f" title=" " alt="" coords="683,272,775,299"/>
<area shape="poly" title=" " alt="" coords="579,302,668,290,668,296,579,307"/>
<area shape="rect" href="class_r_g_w_access_control_policy.html#aaded4552d8caf3c6e0eb1d520a8cf8dc" title=" " alt="" coords="642,323,816,365"/>
<area shape="poly" title=" " alt="" coords="579,322,627,328,626,334,579,328"/>
<area shape="rect" href="rgw__log__backing_8h.html#adc46efdde31cf790f3b383cb9e6f198e" title=" " alt="" coords="948,112,1012,139"/>
<area shape="poly" title=" " alt="" coords="817,123,933,123,933,128,817,128"/>
<area shape="poly" title=" " alt="" coords="946,118,932,107,933,96,950,88,980,85,1005,87,1021,92,1029,99,1027,108,1022,107,1024,101,1018,96,1004,92,980,91,951,93,937,99,937,105,949,114"/>
<area shape="rect" href="rgw__common_8h.html#a2e4359f75954d7742311c0bac880159d" title=" " alt="" coords="940,272,1020,299"/>
<area shape="poly" title=" " alt="" coords="775,283,924,283,924,288,775,288"/>
<area shape="rect" href="class_r_g_w_access_control_list.html#af5087fff71ca9a21a499d99a59645162" title=" " alt="" coords="900,323,1060,365"/>
<area shape="poly" title=" " alt="" coords="817,341,885,341,885,347,817,347"/>
<area shape="rect" href="class_r_g_w_r_e_s_t_conn.html#a89154d253f7423b412c328e354a81696" title=" " alt="" coords="412,456,579,499"/>
<area shape="poly" title=" " alt="" coords="330,414,421,448,420,453,328,419"/>
<area shape="rect" href="rgw__rest__conn_8h.html#a1df0923b4723e3b3f42709b425eb0215" title=" " alt="" coords="664,389,794,416"/>
<area shape="poly" title=" " alt="" coords="555,453,636,425,660,418,661,423,637,431,557,458"/>
<area shape="rect" href="class_r_g_w_r_e_s_t_conn.html#ac833f895cae6760d02b776c2a597f02d" title=" " alt="" coords="647,464,811,491"/>
<area shape="poly" title=" " alt="" coords="580,475,631,475,631,480,580,480"/>
<area shape="rect" href="class_r_g_w_r_e_s_t_conn.html#a919ee8e18b3c046e8b64029ab3427130" title=" " alt="" coords="642,515,816,557"/>
<area shape="poly" title=" " alt="" coords="580,496,627,508,626,513,579,501"/>
<area shape="rect" href="class_r_g_w_r_e_s_t_stream_s3_put_obj.html#a386285f97226c3e4c3329a2e910213ad" title=" " alt="" coords="636,616,822,659"/>
<area shape="poly" title=" " alt="" coords="530,497,686,605,682,609,527,501"/>
<area shape="poly" title=" " alt="" coords="690,465,683,455,688,445,703,439,729,437,757,440,772,447,770,452,756,445,729,443,704,445,691,449,688,455,694,462"/>
<area shape="rect" href="class_r_g_w_r_e_s_t_conn.html#ae90bac8b6344ad9f172ce25c12cf82e9" title=" " alt="" coords="881,389,1079,416"/>
<area shape="poly" title=" " alt="" coords="803,512,820,501,835,482,843,464,851,444,868,426,876,421,879,425,871,430,855,447,848,466,840,485,823,505,805,516"/>
<area shape="rect" href="class_r_g_w_r_e_s_t_conn.html#a80208c730562921a2e3b4d9dde10855e" title=" " alt="" coords="893,440,1067,483"/>
<area shape="poly" title=" " alt="" coords="803,511,890,485,892,490,804,517"/>
<area shape="rect" href="classrgw_1_1sal_1_1_object.html#a0cdac8c36c06ebf81fb580038205487f" title=" " alt="" coords="911,507,1049,549"/>
<area shape="poly" title=" " alt="" coords="764,613,813,586,869,559,895,549,897,554,871,564,815,590,767,618"/>
<area shape="rect" href="classrgw_1_1sal_1_1_bucket.html#ab9ec2756b101c59e885d487256b3d7df" title=" " alt="" coords="890,573,1070,600"/>
<area shape="poly" title=" " alt="" coords="822,616,895,601,896,606,823,621"/>
<area shape="rect" href="classrgw_1_1sal_1_1_object.html#a179f38a720d7ff3bd1a860203391a52d" title=" " alt="" coords="899,624,1061,651"/>
<area shape="poly" title=" " alt="" coords="822,635,883,635,883,640,822,640"/>
<area shape="rect" href="class_r_g_w_r_e_s_t_generate_h_t_t_p_headers.html#a62bad167b9c8b4344230f51f50033864" title=" " alt="" coords="870,675,1090,717"/>
<area shape="poly" title=" " alt="" coords="823,656,871,668,870,673,821,662"/>
<area shape="rect" href="class_r_g_w_r_e_s_t_generate_h_t_t_p_headers.html#a3e552ccf217cd98709d0c1e6d83a1070" title=" " alt="" coords="870,741,1090,784"/>
<area shape="poly" title=" " alt="" coords="760,657,810,692,871,727,885,733,883,738,868,732,807,697,757,661"/>
<area shape="rect" href="rgw__common_8cc.html#affdd013cb068d033d4287181693e4aba" title=" " alt="" coords="938,808,1022,835"/>
<area shape="poly" title=" " alt="" coords="745,658,795,726,830,763,871,794,896,805,924,813,922,818,895,810,868,798,827,767,791,729,741,661"/>
<area shape="rect" href="class_r_g_w_h_t_t_p.html#ac8ab575c584649a3aaa6c3391f918e3a" title=" " alt="" coords="435,669,556,696"/>
<area shape="poly" title=" " alt="" coords="351,675,420,677,419,683,350,680"/>
<area shape="rect" href="class_r_g_w_h_t_t_p_manager.html#a12fb23d99e733aa22fdfd983c7581698" title=" " alt="" coords="647,959,811,1001"/>
<area shape="poly" title=" " alt="" coords="510,695,703,944,699,948,506,698"/>
<area shape="rect" href="class_r_g_w_h_t_t_p_manager.html#a16579a72dddb523cd5bdbf2957d22ef8" title=" " alt="" coords="893,859,1067,901"/>
<area shape="poly" title=" " alt="" coords="771,956,869,911,887,904,889,909,871,916,773,961"/>
<area shape="rect" href="class_r_g_w_i_o_provider.html#a2bbd769b91d0d58e2d9ececade3a7c50" title=" " alt="" coords="911,925,1049,968"/>
<area shape="poly" title=" " alt="" coords="811,966,895,955,896,960,812,972"/>
<area shape="rect" href="class_r_g_w_h_t_t_p_client.html#aa52a4d1d70d05fd7eb868df48bfc1c40" title=" " alt="" coords="908,992,1052,1035"/>
<area shape="poly" title=" " alt="" coords="812,988,892,999,892,1004,811,994"/>
<area shape="rect" href="class_r_g_w_h_t_t_p_client.html#a8bbd7cf32732770e498d9c7e1033f519" title=" " alt="" coords="908,1059,1052,1101"/>
<area shape="poly" title=" " alt="" coords="798,999,823,1011,847,1028,871,1044,895,1054,893,1059,868,1049,844,1032,820,1016,795,1004"/>
<area shape="rect" href="class_r_g_w_h_t_t_p_manager.html#abb00c0a30c2ba9bfe83084e56e5dc897" title=" " alt="" coords="898,1125,1062,1168"/>
<area shape="poly" title=" " alt="" coords="807,1000,823,1011,835,1024,842,1037,848,1063,854,1088,861,1100,871,1111,886,1121,883,1126,868,1115,856,1103,849,1090,843,1064,837,1039,830,1027,820,1015,804,1004"/>
<area shape="rect" href="class_r_g_w_h_t_t_p_manager.html#ae187bc0e80bace76ab6b7597491a73fb" title=" " alt="" coords="887,1192,1073,1235"/>
<area shape="poly" title=" " alt="" coords="810,1000,824,1012,839,1033,846,1055,848,1097,849,1138,857,1158,872,1178,876,1182,872,1186,868,1182,852,1161,844,1139,842,1097,841,1056,834,1036,820,1015,806,1004"/>
<area shape="rect" href="class_r_g_w_r_e_s_t_conn.html#aa8566192403e5db015175f5ecdd13009" title=" " alt="" coords="410,824,581,851"/>
<area shape="poly" title=" " alt="" coords="350,835,394,835,394,840,350,840"/>
<area shape="rect" href="class_r_g_w_l_c_cloud_stream_put.html#aee0a9faf946f162d660f141a03209222" title=" " alt="" coords="414,1025,578,1068"/>
<area shape="poly" title=" " alt="" coords="294,857,462,1013,458,1017,291,861"/>
<area shape="rect" href="class_r_g_w_access_control_policy.html#a9fa6936da8a5fcccadb72dad7c478eab" title=" " alt="" coords="642,1025,816,1068"/>
<area shape="poly" title=" " alt="" coords="578,1044,626,1044,626,1049,578,1049"/>
<area shape="rect" href="class_r_g_w_l_c_cloud_stream_put.html#ada534365609225a4902582fd7982581a" title=" " alt="" coords="647,1092,811,1135"/>
<area shape="poly" title=" " alt="" coords="573,1066,638,1085,636,1090,572,1071"/>
</map>
</div>
<div class="dynheader">
이 함수를 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="rgw__lc__tier_8cc_a812ed54814d78a19a8d2edb5c3660750_icgraph.png" border="0" usemap="#argw__lc__tier_8cc_a812ed54814d78a19a8d2edb5c3660750_icgraph" alt=""/></div>
<map name="argw__lc__tier_8cc_a812ed54814d78a19a8d2edb5c3660750_icgraph" id="argw__lc__tier_8cc_a812ed54814d78a19a8d2edb5c3660750_icgraph">
<area shape="rect" title=" " alt="" coords="874,27,1001,69"/>
<area shape="rect" href="rgw__lc__tier_8cc.html#a708d92898f0d0340a422c6f4d41179df" title=" " alt="" coords="418,5,579,32"/>
<area shape="poly" title=" " alt="" coords="858,45,580,27,580,21,858,40"/>
<area shape="rect" href="rgw__lc__tier_8cc.html#a3bf8a95e6d9ba53115bfb1118a771df4" title=" " alt="" coords="627,60,826,87"/>
<area shape="poly" title=" " alt="" coords="859,60,826,64,826,59,858,55"/>
<area shape="rect" href="rgw__lc__tier_8cc.html#a2906f85e3121b2099d65e0f9047553e9" title=" " alt="" coords="216,27,370,69"/>
<area shape="poly" title=" " alt="" coords="403,35,371,40,370,34,402,30"/>
<area shape="rect" href="class_l_c_op_action___transition.html#a11d3ae78bd110a735d53bb533e68b59b" title=" " alt="" coords="5,27,168,69"/>
<area shape="poly" title=" " alt="" coords="200,51,168,51,168,45,200,45"/>
<area shape="rect" href="rgw__lc__tier_8cc.html#a4fac4a9dcad607bf27557e0109f826b2" title=" " alt="" coords="432,56,566,99"/>
<area shape="poly" title=" " alt="" coords="612,78,566,79,566,73,612,73"/>
<area shape="poly" title=" " alt="" coords="416,68,370,62,371,56,417,63"/>
</map>
</div>

</div>
</div>
<a id="a8346ef5c144b99b4d473eb3c7657340e" name="a8346ef5c144b99b4d473eb3c7657340e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8346ef5c144b99b4d473eb3c7657340e">&#9670;&#160;</a></span>delete_upload_status()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int delete_upload_status </td>
          <td>(</td>
          <td class="paramtype">const DoutPrefixProvider *&#160;</td>
          <td class="paramname"><em>dpp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classrgw_1_1sal_1_1_store.html">rgw::sal::Store</a> *&#160;</td>
          <td class="paramname"><em>store</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structrgw__raw__obj.html">rgw_raw_obj</a> *&#160;</td>
          <td class="paramname"><em>status_obj</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition"><a class="el" href="rgw__lc__tier_8cc_source.html">rgw_lc_tier.cc</a> 파일의 <a class="el" href="rgw__lc__tier_8cc_source.html#l00164">164</a> 번째 라인에서 정의되었습니다.</p>
<div class="fragment"><div class="line"><span class="lineno">  166</span>{</div>
<div class="line"><span class="lineno">  167</span>  <span class="keywordtype">int</span> ret = 0;</div>
<div class="line"><span class="lineno">  168</span>  <a class="code hl_class" href="classrgw_1_1sal_1_1_rados_store.html">rgw::sal::RadosStore</a> *rados = <span class="keyword">dynamic_cast&lt;</span><a class="code hl_class" href="classrgw_1_1sal_1_1_rados_store.html">rgw::sal::RadosStore</a>*<span class="keyword">&gt;</span>(<a class="code hl_variable" href="rgw__admin_8cc.html#a6fdb26d64b14d837b60e83a6ca3e2863">store</a>);</div>
<div class="line"><span class="lineno">  169</span> </div>
<div class="line"><span class="lineno">  170</span>  <span class="keywordflow">if</span> (!rados) {</div>
<div class="line"><span class="lineno">  171</span>    ldpp_dout(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>, 0) &lt;&lt; <span class="stringliteral">&quot;ERROR: Not a RadosStore. Cannot be transitioned to cloud.&quot;</span> &lt;&lt; dendl;</div>
<div class="line"><span class="lineno">  172</span>    <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno">  173</span>  }</div>
<div class="line"><span class="lineno">  174</span> </div>
<div class="line"><span class="lineno">  175</span>  <span class="keyword">auto</span>&amp; pool = status_obj-&gt;<a class="code hl_variable" href="structrgw__raw__obj.html#a12e975f08450bf428fedb357f4ac8445">pool</a>;</div>
<div class="line"><span class="lineno">  176</span>  <span class="keyword">const</span> <span class="keyword">auto</span> oid = status_obj-&gt;<a class="code hl_variable" href="structrgw__raw__obj.html#a9c0fa84426035c85585d240c56a65d82">oid</a>;</div>
<div class="line"><span class="lineno">  177</span>  <span class="keyword">auto</span> sysobj = rados-&gt;<a class="code hl_function" href="classrgw_1_1sal_1_1_rados_store.html#abe4f0602b771d5549a02c0a326d6a832">svc</a>()-&gt;<a class="code hl_variable" href="struct_r_g_w_services.html#a742bbed66b1688310eeb8c0b692bf6b9">sysobj</a>;</div>
<div class="line"><span class="lineno">  178</span> </div>
<div class="line"><span class="lineno">  179</span>  ret = <a class="code hl_function" href="rgw__tools_8cc.html#a046ce687b6bb951e6c13fcb3b373bbe5">rgw_delete_system_obj</a>(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>, sysobj, pool, oid, <span class="keyword">nullptr</span>, null_yield);</div>
<div class="line"><span class="lineno">  180</span> </div>
<div class="line"><span class="lineno">  181</span>  <span class="keywordflow">return</span> ret;</div>
<div class="line"><span class="lineno">  182</span>}</div>
<div class="ttc" id="aclassrgw_1_1sal_1_1_rados_store_html"><div class="ttname"><a href="classrgw_1_1sal_1_1_rados_store.html">rgw::sal::RadosStore</a></div><div class="ttdef"><b>Definition</b> <a href="rgw__sal__rados_8h_source.html#l00363">rgw_sal_rados.h:363</a></div></div>
<div class="ttc" id="aclassrgw_1_1sal_1_1_rados_store_html_abe4f0602b771d5549a02c0a326d6a832"><div class="ttname"><a href="classrgw_1_1sal_1_1_rados_store.html#abe4f0602b771d5549a02c0a326d6a832">rgw::sal::RadosStore::svc</a></div><div class="ttdeci">RGWServices * svc()</div><div class="ttdef"><b>Definition</b> <a href="rgw__sal__rados_8h_source.html#l00501">rgw_sal_rados.h:501</a></div></div>
<div class="ttc" id="argw__admin_8cc_html_a6fdb26d64b14d837b60e83a6ca3e2863"><div class="ttname"><a href="rgw__admin_8cc.html#a6fdb26d64b14d837b60e83a6ca3e2863">store</a></div><div class="ttdeci">static rgw::sal::Store * store</div><div class="ttdef"><b>Definition</b> <a href="rgw__admin_8cc_source.html#l00079">rgw_admin.cc:79</a></div></div>
<div class="ttc" id="argw__tools_8cc_html_a046ce687b6bb951e6c13fcb3b373bbe5"><div class="ttname"><a href="rgw__tools_8cc.html#a046ce687b6bb951e6c13fcb3b373bbe5">rgw_delete_system_obj</a></div><div class="ttdeci">int rgw_delete_system_obj(const DoutPrefixProvider *dpp, RGWSI_SysObj *sysobj_svc, const rgw_pool &amp;pool, const string &amp;oid, RGWObjVersionTracker *objv_tracker, optional_yield y)</div><div class="ttdef"><b>Definition</b> <a href="rgw__tools_8cc_source.html#l00240">rgw_tools.cc:240</a></div></div>
<div class="ttc" id="astruct_r_g_w_services_html_a742bbed66b1688310eeb8c0b692bf6b9"><div class="ttname"><a href="struct_r_g_w_services.html#a742bbed66b1688310eeb8c0b692bf6b9">RGWServices::sysobj</a></div><div class="ttdeci">RGWSI_SysObj * sysobj</div><div class="ttdef"><b>Definition</b> <a href="rgw__service_8h_source.html#l00147">rgw_service.h:147</a></div></div>
<div class="ttc" id="astructrgw__raw__obj_html_a12e975f08450bf428fedb357f4ac8445"><div class="ttname"><a href="structrgw__raw__obj.html#a12e975f08450bf428fedb357f4ac8445">rgw_raw_obj::pool</a></div><div class="ttdeci">rgw_pool pool</div><div class="ttdef"><b>Definition</b> <a href="rgw__common_8h_source.html#l00923">rgw_common.h:923</a></div></div>
<div class="ttc" id="astructrgw__raw__obj_html_a9c0fa84426035c85585d240c56a65d82"><div class="ttname"><a href="structrgw__raw__obj.html#a9c0fa84426035c85585d240c56a65d82">rgw_raw_obj::oid</a></div><div class="ttdeci">std::string oid</div><div class="ttdef"><b>Definition</b> <a href="rgw__common_8h_source.html#l00924">rgw_common.h:924</a></div></div>
</div><!-- fragment --><div class="dynheader">
이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="rgw__lc__tier_8cc_a8346ef5c144b99b4d473eb3c7657340e_cgraph.png" border="0" usemap="#argw__lc__tier_8cc_a8346ef5c144b99b4d473eb3c7657340e_cgraph" alt=""/></div>
<map name="argw__lc__tier_8cc_a8346ef5c144b99b4d473eb3c7657340e_cgraph" id="argw__lc__tier_8cc_a8346ef5c144b99b4d473eb3c7657340e_cgraph">
<area shape="rect" title=" " alt="" coords="5,56,150,83"/>
<area shape="rect" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5" title=" " alt="" coords="486,5,528,32"/>
<area shape="poly" title=" " alt="" coords="137,53,197,41,349,25,470,17,470,23,349,30,198,47,138,58"/>
<area shape="rect" href="rgw__tools_8cc.html#a046ce687b6bb951e6c13fcb3b373bbe5" title=" " alt="" coords="204,56,361,83"/>
<area shape="poly" title=" " alt="" coords="150,67,188,67,188,72,150,72"/>
<area shape="rect" href="classrgw_1_1sal_1_1_rados_store.html#abe4f0602b771d5549a02c0a326d6a832" title=" " alt="" coords="198,107,367,133"/>
<area shape="poly" title=" " alt="" coords="135,81,211,100,210,105,134,86"/>
<area shape="poly" title=" " alt="" coords="344,53,470,24,472,29,346,58"/>
<area shape="rect" href="class_r_g_w_sys_object_ctx.html#af7d781dbb202cbc5b5d510034a18e83a" title=" " alt="" coords="415,56,599,83"/>
<area shape="poly" title=" " alt="" coords="361,67,399,67,399,72,361,72"/>
<area shape="rect" href="class_r_g_w_s_i___sys_obj.html#a42dbd3046b9d94873446090556f05e63" title=" " alt="" coords="437,107,577,149"/>
<area shape="poly" title=" " alt="" coords="337,81,423,103,421,108,336,86"/>
<area shape="rect" href="class_r_g_w_s_i___sys_obj.html#a07a9aa07a04694c3df0dcefd1c84e12f" title=" " alt="" coords="647,56,813,83"/>
<area shape="poly" title=" " alt="" coords="600,67,632,67,632,72,600,72"/>
</map>
</div>
<div class="dynheader">
이 함수를 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="rgw__lc__tier_8cc_a8346ef5c144b99b4d473eb3c7657340e_icgraph.png" border="0" usemap="#argw__lc__tier_8cc_a8346ef5c144b99b4d473eb3c7657340e_icgraph" alt=""/></div>
<map name="argw__lc__tier_8cc_a8346ef5c144b99b4d473eb3c7657340e_icgraph" id="argw__lc__tier_8cc_a8346ef5c144b99b4d473eb3c7657340e_icgraph">
<area shape="rect" title=" " alt="" coords="819,43,963,69"/>
<area shape="rect" href="rgw__lc__tier_8cc.html#ae302c4d72a8677228743aa6c720c3c3b" title=" " alt="" coords="600,5,771,48"/>
<area shape="poly" title=" " alt="" coords="802,46,771,42,772,36,803,41"/>
<area shape="rect" href="rgw__lc__tier_8cc.html#a4fac4a9dcad607bf27557e0109f826b2" title=" " alt="" coords="418,35,552,77"/>
<area shape="poly" title=" " alt="" coords="803,62,771,63,600,63,553,61,553,56,600,57,771,57,803,57"/>
<area shape="poly" title=" " alt="" coords="585,44,553,49,552,44,585,39"/>
<area shape="rect" href="rgw__lc__tier_8cc.html#a2906f85e3121b2099d65e0f9047553e9" title=" " alt="" coords="216,35,370,77"/>
<area shape="poly" title=" " alt="" coords="402,59,371,59,371,53,402,53"/>
<area shape="rect" href="class_l_c_op_action___transition.html#a11d3ae78bd110a735d53bb533e68b59b" title=" " alt="" coords="5,35,168,77"/>
<area shape="poly" title=" " alt="" coords="200,59,168,59,168,53,200,53"/>
</map>
</div>

</div>
</div>
<a id="aea4258058a85e5b1179ec1dba3054041" name="aea4258058a85e5b1179ec1dba3054041"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aea4258058a85e5b1179ec1dba3054041">&#9670;&#160;</a></span>get_key_instance()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static string get_key_instance </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structrgw__obj__key.html">rgw_obj_key</a> &amp;&#160;</td>
          <td class="paramname"><em>key</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition"><a class="el" href="rgw__lc__tier_8cc_source.html">rgw_lc_tier.cc</a> 파일의 <a class="el" href="rgw__lc__tier_8cc_source.html#l00077">77</a> 번째 라인에서 정의되었습니다.</p>
<div class="fragment"><div class="line"><span class="lineno">   78</span>{</div>
<div class="line"><span class="lineno">   79</span>  <span class="keywordflow">if</span> (!key.<a class="code hl_variable" href="structrgw__obj__key.html#aa73e7ab93fad1f34c58dc9e87917213c">instance</a>.empty() &amp;&amp;</div>
<div class="line"><span class="lineno">   80</span>      !key.<a class="code hl_function" href="structrgw__obj__key.html#abbd337f0dc4c9396c885b3bf7e6da7bf">have_null_instance</a>()) {</div>
<div class="line"><span class="lineno">   81</span>    <span class="keywordflow">return</span> <span class="stringliteral">&quot;-&quot;</span> + key.<a class="code hl_variable" href="structrgw__obj__key.html#aa73e7ab93fad1f34c58dc9e87917213c">instance</a>;</div>
<div class="line"><span class="lineno">   82</span>  }</div>
<div class="line"><span class="lineno">   83</span>  <span class="keywordflow">return</span> <span class="stringliteral">&quot;&quot;</span>;</div>
<div class="line"><span class="lineno">   84</span>}</div>
<div class="ttc" id="astructrgw__obj__key_html_aa73e7ab93fad1f34c58dc9e87917213c"><div class="ttname"><a href="structrgw__obj__key.html#aa73e7ab93fad1f34c58dc9e87917213c">rgw_obj_key::instance</a></div><div class="ttdeci">std::string instance</div><div class="ttdef"><b>Definition</b> <a href="rgw__common_8h_source.html#l01250">rgw_common.h:1250</a></div></div>
<div class="ttc" id="astructrgw__obj__key_html_abbd337f0dc4c9396c885b3bf7e6da7bf"><div class="ttname"><a href="structrgw__obj__key.html#abbd337f0dc4c9396c885b3bf7e6da7bf">rgw_obj_key::have_null_instance</a></div><div class="ttdeci">bool have_null_instance() const</div><div class="ttdef"><b>Definition</b> <a href="rgw__common_8h_source.html#l01365">rgw_common.h:1365</a></div></div>
</div><!-- fragment --><div class="dynheader">
이 함수를 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="rgw__lc__tier_8cc_aea4258058a85e5b1179ec1dba3054041_icgraph.png" border="0" usemap="#argw__lc__tier_8cc_aea4258058a85e5b1179ec1dba3054041_icgraph" alt=""/></div>
<map name="argw__lc__tier_8cc_aea4258058a85e5b1179ec1dba3054041_icgraph" id="argw__lc__tier_8cc_aea4258058a85e5b1179ec1dba3054041_icgraph">
<area shape="rect" title=" " alt="" coords="874,81,997,108"/>
<area shape="rect" href="rgw__lc__tier_8cc.html#a13867e0190d6ba39f79eae9b639818b2" title=" " alt="" coords="654,5,799,32"/>
<area shape="poly" title=" " alt="" coords="887,77,825,53,772,35,773,30,827,48,889,73"/>
<area shape="rect" href="rgw__lc__tier_8cc.html#a4fac4a9dcad607bf27557e0109f826b2" title=" " alt="" coords="432,65,566,108"/>
<area shape="poly" title=" " alt="" coords="858,96,566,91,566,85,858,91"/>
<area shape="rect" href="rgw__lc__tier_8cc.html#a708d92898f0d0340a422c6f4d41179df" title=" " alt="" coords="418,140,579,167"/>
<area shape="poly" title=" " alt="" coords="899,118,865,135,826,148,762,159,697,164,580,163,580,158,697,159,762,154,825,143,863,130,897,114"/>
<area shape="rect" href="rgw__lc__tier_8cc.html#a3bf8a95e6d9ba53115bfb1118a771df4" title=" " alt="" coords="627,107,826,133"/>
<area shape="poly" title=" " alt="" coords="859,107,826,111,826,105,858,101"/>
<area shape="rect" href="rgw__lc__tier_8cc.html#a2cf3fcb693fce2e948055ee3e01bfb5b" title=" " alt="" coords="418,11,579,37"/>
<area shape="poly" title=" " alt="" coords="639,23,580,25,580,19,639,18"/>
<area shape="rect" href="rgw__lc__tier_8cc.html#a2906f85e3121b2099d65e0f9047553e9" title=" " alt="" coords="216,65,370,108"/>
<area shape="poly" title=" " alt="" coords="439,45,366,67,365,62,437,40"/>
<area shape="rect" href="class_l_c_op_action___transition.html#a11d3ae78bd110a735d53bb533e68b59b" title=" " alt="" coords="5,65,168,108"/>
<area shape="poly" title=" " alt="" coords="200,89,168,89,168,84,200,84"/>
<area shape="poly" title=" " alt="" coords="416,89,370,89,370,84,416,84"/>
<area shape="poly" title=" " alt="" coords="440,137,360,111,362,106,441,132"/>
<area shape="poly" title=" " alt="" coords="616,106,566,99,567,94,617,101"/>
</map>
</div>

</div>
</div>
<a id="a63abc6bf9cc9fb36ee499c732b4d99de" name="a63abc6bf9cc9fb36ee499c732b4d99de"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a63abc6bf9cc9fb36ee499c732b4d99de">&#9670;&#160;</a></span>get_key_oid()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static string get_key_oid </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structrgw__obj__key.html">rgw_obj_key</a> &amp;&#160;</td>
          <td class="paramname"><em>key</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition"><a class="el" href="rgw__lc__tier_8cc_source.html">rgw_lc_tier.cc</a> 파일의 <a class="el" href="rgw__lc__tier_8cc_source.html#l00086">86</a> 번째 라인에서 정의되었습니다.</p>
<div class="fragment"><div class="line"><span class="lineno">   87</span>{</div>
<div class="line"><span class="lineno">   88</span>  <span class="keywordtype">string</span> oid = key.<a class="code hl_variable" href="structrgw__obj__key.html#a009cbe657bf6a001d40af0a80e533186">name</a>;</div>
<div class="line"><span class="lineno">   89</span>  <span class="keywordflow">if</span> (!key.<a class="code hl_variable" href="structrgw__obj__key.html#aa73e7ab93fad1f34c58dc9e87917213c">instance</a>.empty() &amp;&amp;</div>
<div class="line"><span class="lineno">   90</span>      !key.<a class="code hl_function" href="structrgw__obj__key.html#abbd337f0dc4c9396c885b3bf7e6da7bf">have_null_instance</a>()) {</div>
<div class="line"><span class="lineno">   91</span>    oid += <a class="code hl_enumvalue" href="namespacergw_1_1_i_a_m.html#a16270dabfb0f449a033dc28091504510ab45cffe084dd3d20d928bee85e7b0f21">string</a>(<span class="stringliteral">&quot;-&quot;</span>) + key.<a class="code hl_variable" href="structrgw__obj__key.html#aa73e7ab93fad1f34c58dc9e87917213c">instance</a>;</div>
<div class="line"><span class="lineno">   92</span>  }</div>
<div class="line"><span class="lineno">   93</span>  <span class="keywordflow">return</span> oid;</div>
<div class="line"><span class="lineno">   94</span>}</div>
<div class="ttc" id="anamespacergw_1_1_i_a_m_html_a16270dabfb0f449a033dc28091504510ab45cffe084dd3d20d928bee85e7b0f21"><div class="ttname"><a href="namespacergw_1_1_i_a_m.html#a16270dabfb0f449a033dc28091504510ab45cffe084dd3d20d928bee85e7b0f21">rgw::IAM::Type::string</a></div><div class="ttdeci">@ string</div></div>
<div class="ttc" id="astructrgw__obj__key_html_a009cbe657bf6a001d40af0a80e533186"><div class="ttname"><a href="structrgw__obj__key.html#a009cbe657bf6a001d40af0a80e533186">rgw_obj_key::name</a></div><div class="ttdeci">std::string name</div><div class="ttdef"><b>Definition</b> <a href="rgw__common_8h_source.html#l01249">rgw_common.h:1249</a></div></div>
</div><!-- fragment --><div class="dynheader">
이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="rgw__lc__tier_8cc_a63abc6bf9cc9fb36ee499c732b4d99de_cgraph.png" border="0" usemap="#argw__lc__tier_8cc_a63abc6bf9cc9fb36ee499c732b4d99de_cgraph" alt=""/></div>
<map name="argw__lc__tier_8cc_a63abc6bf9cc9fb36ee499c732b4d99de_cgraph" id="argw__lc__tier_8cc_a63abc6bf9cc9fb36ee499c732b4d99de_cgraph">
<area shape="rect" title=" " alt="" coords="5,13,97,40"/>
<area shape="rect" href="structrgw__obj__key.html#abbd337f0dc4c9396c885b3bf7e6da7bf" title=" " alt="" coords="145,5,299,48"/>
<area shape="poly" title=" " alt="" coords="97,24,129,24,129,29,97,29"/>
</map>
</div>
<div class="dynheader">
이 함수를 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="rgw__lc__tier_8cc_a63abc6bf9cc9fb36ee499c732b4d99de_icgraph.png" border="0" usemap="#argw__lc__tier_8cc_a63abc6bf9cc9fb36ee499c732b4d99de_icgraph" alt=""/></div>
<map name="argw__lc__tier_8cc_a63abc6bf9cc9fb36ee499c732b4d99de_icgraph" id="argw__lc__tier_8cc_a63abc6bf9cc9fb36ee499c732b4d99de_icgraph">
<area shape="rect" title=" " alt="" coords="1203,80,1295,107"/>
<area shape="rect" href="rgw__lc__tier_8cc.html#a93e85f685511afc70138260718b4f759" title=" " alt="" coords="1037,80,1155,107"/>
<area shape="poly" title=" " alt="" coords="1188,96,1156,96,1156,91,1188,91"/>
<area shape="rect" href="rgw__lc__tier_8cc.html#aa090bf66802d07265afcdbe0cb35dd4e" title=" " alt="" coords="819,21,989,48"/>
<area shape="poly" title=" " alt="" coords="1035,78,949,51,951,46,1036,72"/>
<area shape="rect" href="rgw__lc__tier_8cc.html#a14cca91b5600848ab8a3726b6e01a7cf" title=" " alt="" coords="617,72,754,115"/>
<area shape="poly" title=" " alt="" coords="1021,96,755,96,755,91,1021,91"/>
<area shape="rect" href="rgw__lc__tier_8cc.html#af4a541b5f9dc56144d816078a8092597" title=" " alt="" coords="825,135,983,161"/>
<area shape="poly" title=" " alt="" coords="1033,114,954,137,953,132,1031,109"/>
<area shape="rect" href="rgw__lc__tier_8cc.html#ae302c4d72a8677228743aa6c720c3c3b" title=" " alt="" coords="600,5,771,48"/>
<area shape="poly" title=" " alt="" coords="803,34,771,32,771,27,804,28"/>
<area shape="rect" href="rgw__lc__tier_8cc.html#a4fac4a9dcad607bf27557e0109f826b2" title=" " alt="" coords="418,72,552,115"/>
<area shape="poly" title=" " alt="" coords="606,56,553,74,551,69,605,51"/>
<area shape="rect" href="rgw__lc__tier_8cc.html#a2906f85e3121b2099d65e0f9047553e9" title=" " alt="" coords="216,72,370,115"/>
<area shape="poly" title=" " alt="" coords="402,96,371,96,371,91,402,91"/>
<area shape="rect" href="class_l_c_op_action___transition.html#a11d3ae78bd110a735d53bb533e68b59b" title=" " alt="" coords="5,72,168,115"/>
<area shape="poly" title=" " alt="" coords="200,96,168,96,168,91,200,91"/>
<area shape="poly" title=" " alt="" coords="601,96,553,96,553,91,601,91"/>
<area shape="poly" title=" " alt="" coords="809,149,708,143,600,129,552,118,553,113,601,124,708,138,809,144"/>
</map>
</div>

</div>
</div>
<a id="a16290ce4ec307cf96f669fdc2fd8651f" name="a16290ce4ec307cf96f669fdc2fd8651f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a16290ce4ec307cf96f669fdc2fd8651f">&#9670;&#160;</a></span>init_headers()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void init_headers </td>
          <td>(</td>
          <td class="paramtype">map&lt; string, bufferlist &gt; &amp;&#160;</td>
          <td class="paramname"><em>attrs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">map&lt; string, string &gt; &amp;&#160;</td>
          <td class="paramname"><em>headers</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition"><a class="el" href="rgw__lc__tier_8cc_source.html">rgw_lc_tier.cc</a> 파일의 <a class="el" href="rgw__lc__tier_8cc_source.html#l00207">207</a> 번째 라인에서 정의되었습니다.</p>
<div class="fragment"><div class="line"><span class="lineno">  209</span>{</div>
<div class="line"><span class="lineno">  210</span>  <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp; kv : attrs) {</div>
<div class="line"><span class="lineno">  211</span>    <span class="keyword">const</span> <span class="keywordtype">char</span> * name = kv.first.c_str();</div>
<div class="line"><span class="lineno">  212</span>    <span class="keyword">const</span> <span class="keyword">auto</span> aiter = <a class="code hl_variable" href="rgw__rest_8cc.html#a34e35b90d0c6e8ac90460d10610898f8">rgw_to_http_attrs</a>.find(name);</div>
<div class="line"><span class="lineno">  213</span> </div>
<div class="line"><span class="lineno">  214</span>    <span class="keywordflow">if</span> (aiter != std::end(<a class="code hl_variable" href="rgw__rest_8cc.html#a34e35b90d0c6e8ac90460d10610898f8">rgw_to_http_attrs</a>)) {</div>
<div class="line"><span class="lineno">  215</span>      headers[aiter-&gt;second] = <a class="code hl_function" href="rgw__common_8h.html#a2e4359f75954d7742311c0bac880159d">rgw_bl_str</a>(kv.second);</div>
<div class="line"><span class="lineno">  216</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strncmp(name, <a class="code hl_define" href="rgw__common_8h.html#a5633fb71060756cfa81f8087529a779a">RGW_ATTR_META_PREFIX</a>,</div>
<div class="line"><span class="lineno">  217</span>          <span class="keyword">sizeof</span>(<a class="code hl_define" href="rgw__common_8h.html#a5633fb71060756cfa81f8087529a779a">RGW_ATTR_META_PREFIX</a>)-1) == 0) {</div>
<div class="line"><span class="lineno">  218</span>      name += <span class="keyword">sizeof</span>(<a class="code hl_define" href="rgw__common_8h.html#a5633fb71060756cfa81f8087529a779a">RGW_ATTR_META_PREFIX</a>) - 1;</div>
<div class="line"><span class="lineno">  219</span>      <span class="keywordtype">string</span> sname(name);</div>
<div class="line"><span class="lineno">  220</span>      <span class="keywordtype">string</span> name_prefix = <a class="code hl_define" href="rgw__common_8h.html#a5633fb71060756cfa81f8087529a779a">RGW_ATTR_META_PREFIX</a>;</div>
<div class="line"><span class="lineno">  221</span>      <span class="keywordtype">char</span> full_name_buf[name_prefix.size() + sname.size() + 1];</div>
<div class="line"><span class="lineno">  222</span>      snprintf(full_name_buf, <span class="keyword">sizeof</span>(full_name_buf), <span class="stringliteral">&quot;%.*s%.*s&quot;</span>,</div>
<div class="line"><span class="lineno">  223</span>          <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>(name_prefix.length()),</div>
<div class="line"><span class="lineno">  224</span>          name_prefix.data(),</div>
<div class="line"><span class="lineno">  225</span>          <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>(sname.length()),</div>
<div class="line"><span class="lineno">  226</span>          sname.data());</div>
<div class="line"><span class="lineno">  227</span>      headers[full_name_buf] = <a class="code hl_function" href="rgw__common_8h.html#a2e4359f75954d7742311c0bac880159d">rgw_bl_str</a>(kv.second);</div>
<div class="line"><span class="lineno">  228</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcmp(name,<a class="code hl_define" href="rgw__common_8h.html#a6c20c98dfb429ca14d45228a890bff48">RGW_ATTR_CONTENT_TYPE</a>) == 0) {</div>
<div class="line"><span class="lineno">  229</span>      headers[<span class="stringliteral">&quot;CONTENT_TYPE&quot;</span>] = <a class="code hl_function" href="rgw__common_8h.html#a2e4359f75954d7742311c0bac880159d">rgw_bl_str</a>(kv.second);</div>
<div class="line"><span class="lineno">  230</span>    }</div>
<div class="line"><span class="lineno">  231</span>  }</div>
<div class="line"><span class="lineno">  232</span>}</div>
<div class="ttc" id="argw__common_8h_html_a2e4359f75954d7742311c0bac880159d"><div class="ttname"><a href="rgw__common_8h.html#a2e4359f75954d7742311c0bac880159d">rgw_bl_str</a></div><div class="ttdeci">static std::string rgw_bl_str(ceph::buffer::list &amp;raw)</div><div class="ttdef"><b>Definition</b> <a href="rgw__common_8h_source.html#l02395">rgw_common.h:2395</a></div></div>
<div class="ttc" id="argw__common_8h_html_a5633fb71060756cfa81f8087529a779a"><div class="ttname"><a href="rgw__common_8h.html#a5633fb71060756cfa81f8087529a779a">RGW_ATTR_META_PREFIX</a></div><div class="ttdeci">#define RGW_ATTR_META_PREFIX</div><div class="ttdef"><b>Definition</b> <a href="rgw__common_8h_source.html#l00076">rgw_common.h:76</a></div></div>
<div class="ttc" id="argw__common_8h_html_a6c20c98dfb429ca14d45228a890bff48"><div class="ttname"><a href="rgw__common_8h.html#a6c20c98dfb429ca14d45228a890bff48">RGW_ATTR_CONTENT_TYPE</a></div><div class="ttdeci">#define RGW_ATTR_CONTENT_TYPE</div><div class="ttdef"><b>Definition</b> <a href="rgw__common_8h_source.html#l00077">rgw_common.h:77</a></div></div>
<div class="ttc" id="argw__rest_8cc_html_a34e35b90d0c6e8ac90460d10610898f8"><div class="ttname"><a href="rgw__rest_8cc.html#a34e35b90d0c6e8ac90460d10610898f8">rgw_to_http_attrs</a></div><div class="ttdeci">map&lt; string, string &gt; rgw_to_http_attrs</div><div class="ttdef"><b>Definition</b> <a href="rgw__rest_8cc_source.html#l00131">rgw_rest.cc:131</a></div></div>
</div><!-- fragment --><div class="dynheader">
이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="rgw__lc__tier_8cc_a16290ce4ec307cf96f669fdc2fd8651f_cgraph.png" border="0" usemap="#argw__lc__tier_8cc_a16290ce4ec307cf96f669fdc2fd8651f_cgraph" alt=""/></div>
<map name="argw__lc__tier_8cc_a16290ce4ec307cf96f669fdc2fd8651f_cgraph" id="argw__lc__tier_8cc_a16290ce4ec307cf96f669fdc2fd8651f_cgraph">
<area shape="rect" title=" " alt="" coords="5,5,97,32"/>
<area shape="rect" href="rgw__common_8h.html#a2e4359f75954d7742311c0bac880159d" title=" " alt="" coords="145,5,225,32"/>
<area shape="poly" title=" " alt="" coords="97,16,129,16,129,21,97,21"/>
</map>
</div>
<div class="dynheader">
이 함수를 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="rgw__lc__tier_8cc_a16290ce4ec307cf96f669fdc2fd8651f_icgraph.png" border="0" usemap="#argw__lc__tier_8cc_a16290ce4ec307cf96f669fdc2fd8651f_icgraph" alt=""/></div>
<map name="argw__lc__tier_8cc_a16290ce4ec307cf96f669fdc2fd8651f_icgraph" id="argw__lc__tier_8cc_a16290ce4ec307cf96f669fdc2fd8651f_icgraph">
<area shape="rect" title=" " alt="" coords="1478,13,1569,40"/>
<area shape="rect" href="class_r_g_w_l_c_stream_read.html#aaba38d0462fb5736f83b56c24c977901" title=" " alt="" coords="1263,5,1430,48"/>
<area shape="poly" title=" " alt="" coords="1462,29,1430,29,1430,24,1462,24"/>
<area shape="rect" href="class_r_g_w_l_c_stream_read.html#a21972de2ea9e99cb973e15c8e6915b9f" title=" " alt="" coords="1049,13,1215,40"/>
<area shape="poly" title=" " alt="" coords="1248,29,1216,29,1216,24,1248,24"/>
<area shape="rect" href="rgw__lc__tier_8cc.html#a4fac4a9dcad607bf27557e0109f826b2" title=" " alt="" coords="432,19,566,61"/>
<area shape="poly" title=" " alt="" coords="1034,24,845,20,736,21,628,25,566,32,566,27,627,20,736,15,845,14,1034,19"/>
<area shape="rect" href="rgw__lc__tier_8cc.html#a812ed54814d78a19a8d2edb5c3660750" title=" " alt="" coords="874,35,1001,77"/>
<area shape="poly" title=" " alt="" coords="1034,44,1002,49,1001,44,1033,39"/>
<area shape="rect" href="rgw__lc__tier_8cc.html#a2906f85e3121b2099d65e0f9047553e9" title=" " alt="" coords="216,48,370,91"/>
<area shape="poly" title=" " alt="" coords="417,54,371,61,370,56,416,49"/>
<area shape="rect" href="class_l_c_op_action___transition.html#a11d3ae78bd110a735d53bb533e68b59b" title=" " alt="" coords="5,48,168,91"/>
<area shape="poly" title=" " alt="" coords="200,72,168,72,168,67,200,67"/>
<area shape="rect" href="rgw__lc__tier_8cc.html#a708d92898f0d0340a422c6f4d41179df" title=" " alt="" coords="418,85,579,112"/>
<area shape="poly" title=" " alt="" coords="858,72,826,76,696,89,580,97,580,92,696,83,825,71,858,66"/>
<area shape="rect" href="rgw__lc__tier_8cc.html#a3bf8a95e6d9ba53115bfb1118a771df4" title=" " alt="" coords="627,35,826,61"/>
<area shape="poly" title=" " alt="" coords="858,56,826,54,826,49,859,50"/>
<area shape="poly" title=" " alt="" coords="402,88,370,83,371,78,403,82"/>
<area shape="poly" title=" " alt="" coords="612,47,566,45,566,40,612,41"/>
</map>
</div>

</div>
</div>
<a id="a08a23ca5c5c5a005d592ea4e4b228862" name="a08a23ca5c5c5a005d592ea4e4b228862"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a08a23ca5c5c5a005d592ea4e4b228862">&#9670;&#160;</a></span>is_already_tiered()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool is_already_tiered </td>
          <td>(</td>
          <td class="paramtype">const DoutPrefixProvider *&#160;</td>
          <td class="paramname"><em>dpp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::map&lt; std::string, std::string &gt; &amp;&#160;</td>
          <td class="paramname"><em>headers</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ceph::real_time &amp;&#160;</td>
          <td class="paramname"><em>mtime</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition"><a class="el" href="rgw__lc__tier_8cc_source.html">rgw_lc_tier.cc</a> 파일의 <a class="el" href="rgw__lc__tier_8cc_source.html#l00291">291</a> 번째 라인에서 정의되었습니다.</p>
<div class="fragment"><div class="line"><span class="lineno">  293</span>                                                   {</div>
<div class="line"><span class="lineno">  294</span>  <span class="keywordtype">char</span> buf[32];</div>
<div class="line"><span class="lineno">  295</span>  map&lt;string, string&gt; attrs = headers;</div>
<div class="line"><span class="lineno">  296</span> </div>
<div class="line"><span class="lineno">  297</span>  <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span>&amp; a : attrs) {</div>
<div class="line"><span class="lineno">  298</span>    ldpp_dout(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>, 20) &lt;&lt; <span class="stringliteral">&quot;GetCrf attr[&quot;</span> &lt;&lt; a.first &lt;&lt; <span class="stringliteral">&quot;] = &quot;</span> &lt;&lt; a.second &lt;&lt;dendl;</div>
<div class="line"><span class="lineno">  299</span>  }</div>
<div class="line"><span class="lineno">  300</span>  utime_t ut(mtime);</div>
<div class="line"><span class="lineno">  301</span>  snprintf(buf, <span class="keyword">sizeof</span>(buf), <span class="stringliteral">&quot;%lld.%09lld&quot;</span>,</div>
<div class="line"><span class="lineno">  302</span>      (<span class="keywordtype">long</span> <span class="keywordtype">long</span>)ut.sec(),</div>
<div class="line"><span class="lineno">  303</span>      (<span class="keywordtype">long</span> <span class="keywordtype">long</span>)ut.nsec());</div>
<div class="line"><span class="lineno">  304</span> </div>
<div class="line"><span class="lineno">  305</span>  <span class="keywordtype">string</span> s = attrs[<span class="stringliteral">&quot;X_AMZ_META_RGWX_SOURCE_MTIME&quot;</span>];</div>
<div class="line"><span class="lineno">  306</span> </div>
<div class="line"><span class="lineno">  307</span>  <span class="keywordflow">if</span> (s.empty())</div>
<div class="line"><span class="lineno">  308</span>    s = attrs[<span class="stringliteral">&quot;x_amz_meta_rgwx_source_mtime&quot;</span>];</div>
<div class="line"><span class="lineno">  309</span> </div>
<div class="line"><span class="lineno">  310</span>  ldpp_dout(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>, 20) &lt;&lt; <span class="stringliteral">&quot;is_already_tiered attrs[X_AMZ_META_RGWX_SOURCE_MTIME] = &quot;</span> &lt;&lt; s &lt;&lt;dendl;</div>
<div class="line"><span class="lineno">  311</span>  ldpp_dout(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>, 20) &lt;&lt; <span class="stringliteral">&quot;is_already_tiered mtime buf = &quot;</span> &lt;&lt; buf &lt;&lt;dendl;</div>
<div class="line"><span class="lineno">  312</span> </div>
<div class="line"><span class="lineno">  313</span>  <span class="keywordflow">if</span> (!s.empty() &amp;&amp; !strcmp(s.c_str(), buf)){</div>
<div class="line"><span class="lineno">  314</span>    <span class="keywordflow">return</span> 1;</div>
<div class="line"><span class="lineno">  315</span>  }</div>
<div class="line"><span class="lineno">  316</span>  <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">  317</span>}</div>
</div><!-- fragment --><div class="dynheader">
이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="rgw__lc__tier_8cc_a08a23ca5c5c5a005d592ea4e4b228862_cgraph.png" border="0" usemap="#argw__lc__tier_8cc_a08a23ca5c5c5a005d592ea4e4b228862_cgraph" alt=""/></div>
<map name="argw__lc__tier_8cc_a08a23ca5c5c5a005d592ea4e4b228862_cgraph" id="argw__lc__tier_8cc_a08a23ca5c5c5a005d592ea4e4b228862_cgraph">
<area shape="rect" title=" " alt="" coords="5,5,125,32"/>
<area shape="rect" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5" title=" " alt="" coords="173,5,215,32"/>
<area shape="poly" title=" " alt="" coords="125,16,157,16,157,21,125,21"/>
</map>
</div>
<div class="dynheader">
이 함수를 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="rgw__lc__tier_8cc_a08a23ca5c5c5a005d592ea4e4b228862_icgraph.png" border="0" usemap="#argw__lc__tier_8cc_a08a23ca5c5c5a005d592ea4e4b228862_icgraph" alt=""/></div>
<map name="argw__lc__tier_8cc_a08a23ca5c5c5a005d592ea4e4b228862_icgraph" id="argw__lc__tier_8cc_a08a23ca5c5c5a005d592ea4e4b228862_icgraph">
<area shape="rect" title=" " alt="" coords="627,13,747,40"/>
<area shape="rect" href="rgw__lc__tier_8cc.html#a2cf3fcb693fce2e948055ee3e01bfb5b" title=" " alt="" coords="418,13,579,40"/>
<area shape="poly" title=" " alt="" coords="612,29,580,29,580,24,612,24"/>
<area shape="rect" href="rgw__lc__tier_8cc.html#a2906f85e3121b2099d65e0f9047553e9" title=" " alt="" coords="216,5,370,48"/>
<area shape="poly" title=" " alt="" coords="402,29,370,29,370,24,402,24"/>
<area shape="rect" href="class_l_c_op_action___transition.html#a11d3ae78bd110a735d53bb533e68b59b" title=" " alt="" coords="5,5,168,48"/>
<area shape="poly" title=" " alt="" coords="200,29,168,29,168,24,200,24"/>
</map>
</div>

</div>
</div>
<a id="a93e85f685511afc70138260718b4f759" name="a93e85f685511afc70138260718b4f759"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a93e85f685511afc70138260718b4f759">&#9670;&#160;</a></span>obj_to_aws_path()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static string obj_to_aws_path </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structrgw__obj.html">rgw_obj</a> &amp;&#160;</td>
          <td class="paramname"><em>obj</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition"><a class="el" href="rgw__lc__tier_8cc_source.html">rgw_lc_tier.cc</a> 파일의 <a class="el" href="rgw__lc__tier_8cc_source.html#l00096">96</a> 번째 라인에서 정의되었습니다.</p>
<div class="fragment"><div class="line"><span class="lineno">   97</span>{</div>
<div class="line"><span class="lineno">   98</span>  <span class="keywordtype">string</span> path = obj.<a class="code hl_variable" href="structrgw__obj.html#ae1e6e328be8e7429da83a04198cae1d2">bucket</a>.<a class="code hl_variable" href="structrgw__bucket.html#a32d3529f5b0c53051c856a7abe867a6b">name</a> + <span class="stringliteral">&quot;/&quot;</span> + <a class="code hl_function" href="rgw__lc__tier_8cc.html#a63abc6bf9cc9fb36ee499c732b4d99de">get_key_oid</a>(obj.<a class="code hl_variable" href="structrgw__obj.html#a72f701ee22f8eb3f3868d0aefb581249">key</a>);</div>
<div class="line"><span class="lineno">   99</span>  <span class="keywordflow">return</span> path;</div>
<div class="line"><span class="lineno">  100</span>}</div>
<div class="ttc" id="argw__lc__tier_8cc_html_a63abc6bf9cc9fb36ee499c732b4d99de"><div class="ttname"><a href="rgw__lc__tier_8cc.html#a63abc6bf9cc9fb36ee499c732b4d99de">get_key_oid</a></div><div class="ttdeci">static string get_key_oid(const rgw_obj_key &amp;key)</div><div class="ttdef"><b>Definition</b> <a href="rgw__lc__tier_8cc_source.html#l00086">rgw_lc_tier.cc:86</a></div></div>
<div class="ttc" id="astructrgw__obj_html_a72f701ee22f8eb3f3868d0aefb581249"><div class="ttname"><a href="structrgw__obj.html#a72f701ee22f8eb3f3868d0aefb581249">rgw_obj::key</a></div><div class="ttdeci">rgw_obj_key key</div><div class="ttdef"><b>Definition</b> <a href="rgw__common_8h_source.html#l01804">rgw_common.h:1804</a></div></div>
<div class="ttc" id="astructrgw__obj_html_ae1e6e328be8e7429da83a04198cae1d2"><div class="ttname"><a href="structrgw__obj.html#ae1e6e328be8e7429da83a04198cae1d2">rgw_obj::bucket</a></div><div class="ttdeci">rgw_bucket bucket</div><div class="ttdef"><b>Definition</b> <a href="rgw__common_8h_source.html#l01803">rgw_common.h:1803</a></div></div>
</div><!-- fragment --><div class="dynheader">
이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="rgw__lc__tier_8cc_a93e85f685511afc70138260718b4f759_cgraph.png" border="0" usemap="#argw__lc__tier_8cc_a93e85f685511afc70138260718b4f759_cgraph" alt=""/></div>
<map name="argw__lc__tier_8cc_a93e85f685511afc70138260718b4f759_cgraph" id="argw__lc__tier_8cc_a93e85f685511afc70138260718b4f759_cgraph">
<area shape="rect" title=" " alt="" coords="5,13,124,40"/>
<area shape="rect" href="rgw__lc__tier_8cc.html#a63abc6bf9cc9fb36ee499c732b4d99de" title=" " alt="" coords="172,13,263,40"/>
<area shape="poly" title=" " alt="" coords="124,24,156,24,156,29,124,29"/>
<area shape="rect" href="structrgw__obj__key.html#abbd337f0dc4c9396c885b3bf7e6da7bf" title=" " alt="" coords="311,5,465,48"/>
<area shape="poly" title=" " alt="" coords="263,24,296,24,296,29,263,29"/>
</map>
</div>
<div class="dynheader">
이 함수를 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="rgw__lc__tier_8cc_a93e85f685511afc70138260718b4f759_icgraph.png" border="0" usemap="#argw__lc__tier_8cc_a93e85f685511afc70138260718b4f759_icgraph" alt=""/></div>
<map name="argw__lc__tier_8cc_a93e85f685511afc70138260718b4f759_icgraph" id="argw__lc__tier_8cc_a93e85f685511afc70138260718b4f759_icgraph">
<area shape="rect" title=" " alt="" coords="1037,80,1155,107"/>
<area shape="rect" href="rgw__lc__tier_8cc.html#aa090bf66802d07265afcdbe0cb35dd4e" title=" " alt="" coords="819,21,989,48"/>
<area shape="poly" title=" " alt="" coords="1035,78,949,51,951,46,1036,72"/>
<area shape="rect" href="rgw__lc__tier_8cc.html#a14cca91b5600848ab8a3726b6e01a7cf" title=" " alt="" coords="617,72,754,115"/>
<area shape="poly" title=" " alt="" coords="1021,96,755,96,755,91,1021,91"/>
<area shape="rect" href="rgw__lc__tier_8cc.html#af4a541b5f9dc56144d816078a8092597" title=" " alt="" coords="825,135,983,161"/>
<area shape="poly" title=" " alt="" coords="1033,114,954,137,953,132,1031,109"/>
<area shape="rect" href="rgw__lc__tier_8cc.html#ae302c4d72a8677228743aa6c720c3c3b" title=" " alt="" coords="600,5,771,48"/>
<area shape="poly" title=" " alt="" coords="803,34,771,32,771,27,804,28"/>
<area shape="rect" href="rgw__lc__tier_8cc.html#a4fac4a9dcad607bf27557e0109f826b2" title=" " alt="" coords="418,72,552,115"/>
<area shape="poly" title=" " alt="" coords="606,56,553,74,551,69,605,51"/>
<area shape="rect" href="rgw__lc__tier_8cc.html#a2906f85e3121b2099d65e0f9047553e9" title=" " alt="" coords="216,72,370,115"/>
<area shape="poly" title=" " alt="" coords="402,96,371,96,371,91,402,91"/>
<area shape="rect" href="class_l_c_op_action___transition.html#a11d3ae78bd110a735d53bb533e68b59b" title=" " alt="" coords="5,72,168,115"/>
<area shape="poly" title=" " alt="" coords="200,96,168,96,168,91,200,91"/>
<area shape="poly" title=" " alt="" coords="601,96,553,96,553,91,601,91"/>
<area shape="poly" title=" " alt="" coords="809,149,708,143,600,129,552,118,553,113,601,124,708,138,809,144"/>
</map>
</div>

</div>
</div>
<a id="a0817e31380203858cc25fc9e2b0e5c4e" name="a0817e31380203858cc25fc9e2b0e5c4e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0817e31380203858cc25fc9e2b0e5c4e">&#9670;&#160;</a></span>put_upload_status()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int put_upload_status </td>
          <td>(</td>
          <td class="paramtype">const DoutPrefixProvider *&#160;</td>
          <td class="paramname"><em>dpp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classrgw_1_1sal_1_1_store.html">rgw::sal::Store</a> *&#160;</td>
          <td class="paramname"><em>store</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structrgw__raw__obj.html">rgw_raw_obj</a> *&#160;</td>
          <td class="paramname"><em>status_obj</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structrgw__lc__multipart__upload__info.html">rgw_lc_multipart_upload_info</a> *&#160;</td>
          <td class="paramname"><em>status</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition"><a class="el" href="rgw__lc__tier_8cc_source.html">rgw_lc_tier.cc</a> 파일의 <a class="el" href="rgw__lc__tier_8cc_source.html#l00141">141</a> 번째 라인에서 정의되었습니다.</p>
<div class="fragment"><div class="line"><span class="lineno">  143</span>{</div>
<div class="line"><span class="lineno">  144</span>  <span class="keywordtype">int</span> ret = 0;</div>
<div class="line"><span class="lineno">  145</span>  <a class="code hl_class" href="classrgw_1_1sal_1_1_rados_store.html">rgw::sal::RadosStore</a> *rados = <span class="keyword">dynamic_cast&lt;</span><a class="code hl_class" href="classrgw_1_1sal_1_1_rados_store.html">rgw::sal::RadosStore</a>*<span class="keyword">&gt;</span>(<a class="code hl_variable" href="rgw__admin_8cc.html#a6fdb26d64b14d837b60e83a6ca3e2863">store</a>);</div>
<div class="line"><span class="lineno">  146</span> </div>
<div class="line"><span class="lineno">  147</span>  <span class="keywordflow">if</span> (!rados) {</div>
<div class="line"><span class="lineno">  148</span>    ldpp_dout(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>, 0) &lt;&lt; <span class="stringliteral">&quot;ERROR: Not a RadosStore. Cannot be transitioned to cloud.&quot;</span> &lt;&lt; dendl;</div>
<div class="line"><span class="lineno">  149</span>    <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno">  150</span>  }</div>
<div class="line"><span class="lineno">  151</span> </div>
<div class="line"><span class="lineno">  152</span>  <span class="keyword">auto</span>&amp; pool = status_obj-&gt;<a class="code hl_variable" href="structrgw__raw__obj.html#a12e975f08450bf428fedb357f4ac8445">pool</a>;</div>
<div class="line"><span class="lineno">  153</span>  <span class="keyword">const</span> <span class="keyword">auto</span> oid = status_obj-&gt;<a class="code hl_variable" href="structrgw__raw__obj.html#a9c0fa84426035c85585d240c56a65d82">oid</a>;</div>
<div class="line"><span class="lineno">  154</span>  <span class="keyword">auto</span> obj_ctx = rados-&gt;<a class="code hl_function" href="classrgw_1_1sal_1_1_rados_store.html#abe4f0602b771d5549a02c0a326d6a832">svc</a>()-&gt;<a class="code hl_variable" href="struct_r_g_w_services.html#a742bbed66b1688310eeb8c0b692bf6b9">sysobj</a>-&gt;<a class="code hl_function" href="class_r_g_w_s_i___sys_obj.html#a42dbd3046b9d94873446090556f05e63">init_obj_ctx</a>();</div>
<div class="line"><span class="lineno">  155</span>  bufferlist bl;</div>
<div class="line"><span class="lineno">  156</span>  status-&gt;<a class="code hl_function" href="structrgw__lc__multipart__upload__info.html#ab4a5a392fa05398038b12202ece9d04e">encode</a>(bl);</div>
<div class="line"><span class="lineno">  157</span> </div>
<div class="line"><span class="lineno">  158</span>  ret = <a class="code hl_function" href="rgw__tools_8cc.html#a5a37218cbf7acd34def1915314441451">rgw_put_system_obj</a>(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>, obj_ctx, pool, oid, bl, <span class="keyword">true</span>, <span class="keyword">nullptr</span>,</div>
<div class="line"><span class="lineno">  159</span>      real_time{}, null_yield);</div>
<div class="line"><span class="lineno">  160</span> </div>
<div class="line"><span class="lineno">  161</span>  <span class="keywordflow">return</span> ret;</div>
<div class="line"><span class="lineno">  162</span>}</div>
<div class="ttc" id="aclass_r_g_w_s_i___sys_obj_html_a42dbd3046b9d94873446090556f05e63"><div class="ttname"><a href="class_r_g_w_s_i___sys_obj.html#a42dbd3046b9d94873446090556f05e63">RGWSI_SysObj::init_obj_ctx</a></div><div class="ttdeci">RGWSysObjectCtx init_obj_ctx()</div><div class="ttdef"><b>Definition</b> <a href="svc__sys__obj_8cc_source.html#l00015">svc_sys_obj.cc:15</a></div></div>
<div class="ttc" id="argw__tools_8cc_html_a5a37218cbf7acd34def1915314441451"><div class="ttname"><a href="rgw__tools_8cc.html#a5a37218cbf7acd34def1915314441451">rgw_put_system_obj</a></div><div class="ttdeci">int rgw_put_system_obj(const DoutPrefixProvider *dpp, RGWSysObjectCtx &amp;obj_ctx, const rgw_pool &amp;pool, const string &amp;oid, bufferlist &amp;data, bool exclusive, RGWObjVersionTracker *objv_tracker, real_time set_mtime, optional_yield y, map&lt; string, bufferlist &gt; *pattrs)</div><div class="ttdef"><b>Definition</b> <a href="rgw__tools_8cc_source.html#l00150">rgw_tools.cc:150</a></div></div>
<div class="ttc" id="astructrgw__lc__multipart__upload__info_html_ab4a5a392fa05398038b12202ece9d04e"><div class="ttname"><a href="structrgw__lc__multipart__upload__info.html#ab4a5a392fa05398038b12202ece9d04e">rgw_lc_multipart_upload_info::encode</a></div><div class="ttdeci">void encode(bufferlist &amp;bl) const</div><div class="ttdef"><b>Definition</b> <a href="rgw__lc__tier_8cc_source.html#l00057">rgw_lc_tier.cc:57</a></div></div>
</div><!-- fragment --><div class="dynheader">
이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="rgw__lc__tier_8cc_a0817e31380203858cc25fc9e2b0e5c4e_cgraph.png" border="0" usemap="#argw__lc__tier_8cc_a0817e31380203858cc25fc9e2b0e5c4e_cgraph" alt=""/></div>
<map name="argw__lc__tier_8cc_a0817e31380203858cc25fc9e2b0e5c4e_cgraph" id="argw__lc__tier_8cc_a0817e31380203858cc25fc9e2b0e5c4e_cgraph">
<area shape="rect" title=" " alt="" coords="5,164,133,191"/>
<area shape="rect" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5" title=" " alt="" coords="1319,259,1362,285"/>
<area shape="poly" title=" " alt="" coords="76,162,115,107,144,76,179,51,222,30,260,16,295,8,328,4,399,4,489,7,944,7,976,10,1017,19,1114,50,1209,90,1246,110,1273,130,1296,156,1313,186,1335,243,1330,244,1308,189,1291,159,1270,134,1244,115,1206,95,1112,55,1015,24,975,15,944,12,489,12,399,10,329,9,296,13,262,21,224,35,182,56,148,80,119,110,80,165"/>
<area shape="rect" href="structrgw__lc__multipart__upload__info.html#ab4a5a392fa05398038b12202ece9d04e" title=" " alt="" coords="185,89,346,132"/>
<area shape="poly" title=" " alt="" coords="110,161,185,135,187,140,112,166"/>
<area shape="rect" href="class_r_g_w_s_i___sys_obj.html#a42dbd3046b9d94873446090556f05e63" title=" " alt="" coords="195,156,336,199"/>
<area shape="poly" title=" " alt="" coords="133,175,179,175,179,180,133,180"/>
<area shape="rect" href="rgw__tools_8cc.html#a5a37218cbf7acd34def1915314441451" title=" " alt="" coords="195,223,336,249"/>
<area shape="poly" title=" " alt="" coords="117,189,204,215,203,220,115,194"/>
<area shape="rect" href="classrgw_1_1sal_1_1_rados_store.html#abe4f0602b771d5549a02c0a326d6a832" title=" " alt="" coords="181,273,350,300"/>
<area shape="poly" title=" " alt="" coords="87,189,128,224,182,259,195,265,193,270,179,264,125,228,83,193"/>
<area shape="poly" title=" " alt="" coords="228,89,226,79,232,70,246,65,265,63,287,65,299,71,297,76,285,70,265,68,247,70,236,74,231,80,233,88"/>
<area shape="poly" title=" " alt="" coords="332,220,348,209,360,194,367,178,370,146,374,113,382,98,396,83,437,58,474,43,509,38,545,39,620,49,663,55,712,57,944,57,1003,63,1061,79,1116,102,1168,131,1256,193,1317,246,1313,250,1253,197,1165,135,1114,107,1059,84,1002,68,944,63,712,63,662,60,619,55,544,44,510,43,475,49,439,63,400,87,386,101,379,115,375,146,372,180,365,196,352,213,335,224"/>
<area shape="rect" href="class_r_g_w_sys_object_ctx.html#af7d781dbb202cbc5b5d510034a18e83a" title=" " alt="" coords="398,97,582,124"/>
<area shape="poly" title=" " alt="" coords="329,220,348,209,364,191,371,172,379,153,396,134,404,129,407,133,400,138,384,156,376,174,369,194,352,213,331,224"/>
<area shape="rect" href="struct_r_g_w_s_i___sys_obj_1_1_obj_1_1_w_op.html#adeb0b392790c2ad17167d6b8d5ec1832" title=" " alt="" coords="415,148,566,191"/>
<area shape="poly" title=" " alt="" coords="312,219,400,193,402,198,314,225"/>
<area shape="rect" href="struct_r_g_w_s_i___sys_obj_1_1_obj_1_1_w_op.html#ad7644cb1049482b88dbb298a5183fd36" title=" " alt="" coords="415,215,566,257"/>
<area shape="poly" title=" " alt="" coords="336,233,399,233,399,239,336,239"/>
<area shape="rect" href="struct_r_g_w_s_i___sys_obj_1_1_obj_1_1_w_op.html#a0dd1dd32cbcd3ac02650d2a6a33ceefa" title=" " alt="" coords="415,281,566,324"/>
<area shape="poly" title=" " alt="" coords="314,247,402,274,400,279,312,252"/>
<area shape="rect" href="struct_r_g_w_s_i___sys_obj_1_1_obj_1_1_w_op.html#af8d25bd6a62ae67011890c649433199d" title=" " alt="" coords="414,348,567,391"/>
<area shape="poly" title=" " alt="" coords="331,248,352,259,369,278,377,297,384,316,400,334,404,337,401,342,396,338,380,319,372,299,364,281,348,263,329,252"/>
<area shape="rect" href="class_r_g_w_s_i___sys_obj_1_1_obj.html#a0ddd19bd81a0df0b260bfddc8f49796d" title=" " alt="" coords="403,415,577,441"/>
<area shape="poly" title=" " alt="" coords="335,248,352,259,366,277,373,296,376,332,379,367,386,384,400,401,404,404,400,408,396,404,382,387,374,368,371,332,368,297,361,280,348,263,332,252"/>
<area shape="rect" href="struct_r_g_w_s_i___sys_obj_1_1_obj_1_1_w_op.html#a13c75344c42af6a581c66ead1a294e21" title=" " alt="" coords="415,465,566,508"/>
<area shape="poly" title=" " alt="" coords="336,248,352,259,369,284,377,308,379,333,377,357,376,381,377,404,384,428,400,452,404,456,400,459,396,455,379,430,372,405,370,381,372,356,374,333,372,309,365,286,348,263,333,252"/>
<area shape="rect" href="class_r_g_w_s_i___sys_obj.html#a07a9aa07a04694c3df0dcefd1c84e12f" title=" " alt="" coords="630,97,796,124"/>
<area shape="poly" title=" " alt="" coords="583,108,615,108,615,113,583,113"/>
<area shape="poly" title=" " alt="" coords="558,462,581,451,605,433,629,413,730,331,777,300,843,271,959,233,1008,222,1054,216,1101,215,1151,219,1272,240,1306,252,1305,257,1271,245,1151,224,1101,221,1055,221,1009,227,960,238,845,276,780,305,733,336,632,417,609,437,584,456,560,467"/>
<area shape="rect" href="class_r_g_w_s_i___sys_obj___core.html#a0e6298c062030875a0f981081029c080" title=" " alt="" coords="634,427,792,469"/>
<area shape="poly" title=" " alt="" coords="566,471,619,462,620,467,566,476"/>
<area shape="poly" title=" " alt="" coords="727,425,774,369,806,340,842,316,904,291,969,273,1035,262,1100,256,1218,257,1304,264,1303,269,1218,262,1100,262,1036,267,970,278,906,296,845,321,809,344,777,373,731,428"/>
<area shape="rect" href="struct_r_g_w_obj_version_tracker.html#a6996d1e07fb12aaa801ac59d043eecd4" title=" " alt="" coords="862,331,1023,373"/>
<area shape="poly" title=" " alt="" coords="755,424,843,383,858,377,860,382,845,388,757,428"/>
<area shape="rect" href="class_r_g_w_s_i___sys_obj___core.html#a761aa8f43c2fd7a005e3ce10f8997afd" title=" " alt="" coords="864,397,1021,440"/>
<area shape="poly" title=" " alt="" coords="791,435,848,428,849,433,792,441"/>
<area shape="rect" href="class_r_g_w_s_i___r_a_d_o_s_1_1_obj.html#a7cf0358834aa8caa78893cc5d4d98f2b" title=" " alt="" coords="844,464,1041,491"/>
<area shape="poly" title=" " alt="" coords="792,455,828,460,828,465,791,461"/>
<area shape="rect" href="struct_r_g_w_obj_version_tracker.html#a07f0139225ff6468705175885707d415" title=" " alt="" coords="862,561,1023,604"/>
<area shape="poly" title=" " alt="" coords="753,468,892,551,890,555,750,472"/>
<area shape="poly" title=" " alt="" coords="1020,395,1039,383,1054,368,1062,352,1071,336,1088,320,1143,294,1202,279,1258,271,1304,269,1304,274,1258,277,1203,284,1145,299,1090,325,1075,339,1067,354,1059,371,1043,387,1023,399"/>
<area shape="rect" href="class_r_g_w_s_i___r_a_d_o_s.html#ad7d4a82ecd8081a59c37e3730345711d" title=" " alt="" coords="1109,335,1252,361"/>
<area shape="poly" title=" " alt="" coords="1012,394,1088,371,1113,364,1114,369,1090,376,1013,399"/>
<area shape="rect" href="class_r_g_w_s_i___r_a_d_o_s_1_1_obj.html#adc703eaa1aad5a55504ce25bea09836a" title=" " alt="" coords="1089,409,1271,436"/>
<area shape="poly" title=" " alt="" coords="1021,417,1073,418,1073,423,1021,423"/>
<area shape="poly" title=" " alt="" coords="1214,406,1243,391,1270,371,1301,335,1324,298,1328,300,1305,338,1273,375,1245,396,1217,411"/>
<area shape="poly" title=" " alt="" coords="1152,410,1147,400,1151,391,1162,385,1180,383,1200,385,1210,392,1207,396,1198,390,1180,388,1164,390,1155,394,1153,400,1157,408"/>
<area shape="poly" title=" " alt="" coords="1017,489,1077,494,1143,491,1210,477,1241,464,1270,446,1285,431,1298,414,1318,375,1329,335,1334,300,1340,301,1334,336,1323,377,1303,417,1289,435,1273,450,1244,468,1212,482,1144,496,1077,499,1017,494"/>
<area shape="rect" href="rgw__tools_8cc.html#ac8fd9a95626d93661d7280c9455eba5c" title="perform the rados operation, using the yield context when given" alt="" coords="1115,511,1245,537"/>
<area shape="poly" title=" " alt="" coords="1014,489,1100,506,1099,511,1013,494"/>
<area shape="poly" title=" " alt="" coords="1243,508,1270,490,1287,469,1301,445,1320,393,1331,342,1336,301,1341,301,1336,343,1325,394,1305,447,1291,472,1273,494,1246,512"/>
<area shape="rect" href="struct_r_g_w_obj_version_tracker.html#a962d855794c47d114e825f836d0e12dc" title=" " alt="" coords="1100,561,1260,604"/>
<area shape="poly" title=" " alt="" coords="1023,580,1085,580,1085,585,1023,585"/>
<area shape="rect" href="struct_r_g_w_obj_version_tracker.html#aa17354ed99538e637a087e5a90bea11b" title=" " alt="" coords="1100,628,1260,671"/>
<area shape="poly" title=" " alt="" coords="1021,602,1088,621,1086,626,1020,607"/>
</map>
</div>
<div class="dynheader">
이 함수를 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="rgw__lc__tier_8cc_a0817e31380203858cc25fc9e2b0e5c4e_icgraph.png" border="0" usemap="#argw__lc__tier_8cc_a0817e31380203858cc25fc9e2b0e5c4e_icgraph" alt=""/></div>
<map name="argw__lc__tier_8cc_a0817e31380203858cc25fc9e2b0e5c4e_icgraph" id="argw__lc__tier_8cc_a0817e31380203858cc25fc9e2b0e5c4e_icgraph">
<area shape="rect" title=" " alt="" coords="600,13,728,40"/>
<area shape="rect" href="rgw__lc__tier_8cc.html#a4fac4a9dcad607bf27557e0109f826b2" title=" " alt="" coords="418,5,552,48"/>
<area shape="poly" title=" " alt="" coords="585,29,552,29,552,24,585,24"/>
<area shape="rect" href="rgw__lc__tier_8cc.html#a2906f85e3121b2099d65e0f9047553e9" title=" " alt="" coords="216,5,370,48"/>
<area shape="poly" title=" " alt="" coords="402,29,371,29,371,24,402,24"/>
<area shape="rect" href="class_l_c_op_action___transition.html#a11d3ae78bd110a735d53bb533e68b59b" title=" " alt="" coords="5,5,168,48"/>
<area shape="poly" title=" " alt="" coords="200,29,168,29,168,24,200,24"/>
</map>
</div>

</div>
</div>
<a id="a1a318bf893149ea31426d89445c69d60" name="a1a318bf893149ea31426d89445c69d60"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1a318bf893149ea31426d89445c69d60">&#9670;&#160;</a></span>read_upload_status()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int read_upload_status </td>
          <td>(</td>
          <td class="paramtype">const DoutPrefixProvider *&#160;</td>
          <td class="paramname"><em>dpp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classrgw_1_1sal_1_1_store.html">rgw::sal::Store</a> *&#160;</td>
          <td class="paramname"><em>store</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structrgw__raw__obj.html">rgw_raw_obj</a> *&#160;</td>
          <td class="paramname"><em>status_obj</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structrgw__lc__multipart__upload__info.html">rgw_lc_multipart_upload_info</a> *&#160;</td>
          <td class="paramname"><em>status</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition"><a class="el" href="rgw__lc__tier_8cc_source.html">rgw_lc_tier.cc</a> 파일의 <a class="el" href="rgw__lc__tier_8cc_source.html#l00102">102</a> 번째 라인에서 정의되었습니다.</p>
<div class="fragment"><div class="line"><span class="lineno">  104</span>{</div>
<div class="line"><span class="lineno">  105</span>  <span class="keywordtype">int</span> ret = 0;</div>
<div class="line"><span class="lineno">  106</span>  <a class="code hl_class" href="classrgw_1_1sal_1_1_rados_store.html">rgw::sal::RadosStore</a> *rados = <span class="keyword">dynamic_cast&lt;</span><a class="code hl_class" href="classrgw_1_1sal_1_1_rados_store.html">rgw::sal::RadosStore</a>*<span class="keyword">&gt;</span>(<a class="code hl_variable" href="rgw__admin_8cc.html#a6fdb26d64b14d837b60e83a6ca3e2863">store</a>);</div>
<div class="line"><span class="lineno">  107</span> </div>
<div class="line"><span class="lineno">  108</span>  <span class="keywordflow">if</span> (!rados) {</div>
<div class="line"><span class="lineno">  109</span>    ldpp_dout(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>, 0) &lt;&lt; <span class="stringliteral">&quot;ERROR: Not a RadosStore. Cannot be transitioned to cloud.&quot;</span> &lt;&lt; dendl;</div>
<div class="line"><span class="lineno">  110</span>    <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno">  111</span>  }</div>
<div class="line"><span class="lineno">  112</span> </div>
<div class="line"><span class="lineno">  113</span>  <span class="keyword">auto</span>&amp; pool = status_obj-&gt;<a class="code hl_variable" href="structrgw__raw__obj.html#a12e975f08450bf428fedb357f4ac8445">pool</a>;</div>
<div class="line"><span class="lineno">  114</span>  <span class="keyword">const</span> <span class="keyword">auto</span> oid = status_obj-&gt;<a class="code hl_variable" href="structrgw__raw__obj.html#a9c0fa84426035c85585d240c56a65d82">oid</a>;</div>
<div class="line"><span class="lineno">  115</span>  <span class="keyword">auto</span> obj_ctx = rados-&gt;<a class="code hl_function" href="classrgw_1_1sal_1_1_rados_store.html#abe4f0602b771d5549a02c0a326d6a832">svc</a>()-&gt;<a class="code hl_variable" href="struct_r_g_w_services.html#a742bbed66b1688310eeb8c0b692bf6b9">sysobj</a>-&gt;<a class="code hl_function" href="class_r_g_w_s_i___sys_obj.html#a42dbd3046b9d94873446090556f05e63">init_obj_ctx</a>();</div>
<div class="line"><span class="lineno">  116</span>  bufferlist bl;</div>
<div class="line"><span class="lineno">  117</span> </div>
<div class="line"><span class="lineno">  118</span>  ret = <a class="code hl_function" href="rgw__tools_8cc.html#a3e647ae97c113ee3ad07bad363e640b6">rgw_get_system_obj</a>(obj_ctx, pool, oid, bl, <span class="keyword">nullptr</span>, <span class="keyword">nullptr</span>,</div>
<div class="line"><span class="lineno">  119</span>      null_yield, <a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>);</div>
<div class="line"><span class="lineno">  120</span> </div>
<div class="line"><span class="lineno">  121</span>  <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno">  122</span>    <span class="keywordflow">return</span> ret;</div>
<div class="line"><span class="lineno">  123</span>  }</div>
<div class="line"><span class="lineno">  124</span> </div>
<div class="line"><span class="lineno">  125</span>  <span class="keywordflow">if</span> (bl.length() &gt; 0) {</div>
<div class="line"><span class="lineno">  126</span>    <span class="keywordflow">try</span> {</div>
<div class="line"><span class="lineno">  127</span>      <span class="keyword">auto</span> p = bl.cbegin();</div>
<div class="line"><span class="lineno">  128</span>      status-&gt;<a class="code hl_function" href="structrgw__lc__multipart__upload__info.html#aca861638916781628148c932a6379877">decode</a>(p);</div>
<div class="line"><span class="lineno">  129</span>    } <span class="keywordflow">catch</span> (buffer::error&amp; e) {</div>
<div class="line"><span class="lineno">  130</span>      ldpp_dout(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>, 10) &lt;&lt; <span class="stringliteral">&quot;failed to decode status obj: &quot;</span></div>
<div class="line"><span class="lineno">  131</span>        &lt;&lt; e.what() &lt;&lt; dendl;</div>
<div class="line"><span class="lineno">  132</span>      <span class="keywordflow">return</span> -EIO;</div>
<div class="line"><span class="lineno">  133</span>    }</div>
<div class="line"><span class="lineno">  134</span>  } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  135</span>    <span class="keywordflow">return</span> -EIO;</div>
<div class="line"><span class="lineno">  136</span>  }</div>
<div class="line"><span class="lineno">  137</span> </div>
<div class="line"><span class="lineno">  138</span>  <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">  139</span>}</div>
<div class="ttc" id="argw__tools_8cc_html_a3e647ae97c113ee3ad07bad363e640b6"><div class="ttname"><a href="rgw__tools_8cc.html#a3e647ae97c113ee3ad07bad363e640b6">rgw_get_system_obj</a></div><div class="ttdeci">int rgw_get_system_obj(RGWSysObjectCtx &amp;obj_ctx, const rgw_pool &amp;pool, const string &amp;key, bufferlist &amp;bl, RGWObjVersionTracker *objv_tracker, real_time *pmtime, optional_yield y, const DoutPrefixProvider *dpp, map&lt; string, bufferlist &gt; *pattrs, rgw_cache_entry_info *cache_info, boost::optional&lt; obj_version &gt; refresh_version, bool raw_attrs)</div><div class="ttdef"><b>Definition</b> <a href="rgw__tools_8cc_source.html#l00187">rgw_tools.cc:187</a></div></div>
<div class="ttc" id="astructrgw__lc__multipart__upload__info_html_aca861638916781628148c932a6379877"><div class="ttname"><a href="structrgw__lc__multipart__upload__info.html#aca861638916781628148c932a6379877">rgw_lc_multipart_upload_info::decode</a></div><div class="ttdeci">void decode(bufferlist::const_iterator &amp;bl)</div><div class="ttdef"><b>Definition</b> <a href="rgw__lc__tier_8cc_source.html#l00066">rgw_lc_tier.cc:66</a></div></div>
</div><!-- fragment --><div class="dynheader">
이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="rgw__lc__tier_8cc_a1a318bf893149ea31426d89445c69d60_cgraph.png" border="0" usemap="#argw__lc__tier_8cc_a1a318bf893149ea31426d89445c69d60_cgraph" alt=""/></div>
<map name="argw__lc__tier_8cc_a1a318bf893149ea31426d89445c69d60_cgraph" id="argw__lc__tier_8cc_a1a318bf893149ea31426d89445c69d60_cgraph">
<area shape="rect" title=" " alt="" coords="5,187,140,213"/>
<area shape="rect" href="structrgw__lc__multipart__upload__info.html#aca861638916781628148c932a6379877" title=" " alt="" coords="192,29,353,72"/>
<area shape="poly" title=" " alt="" coords="84,184,127,139,186,89,204,77,207,82,189,93,130,143,88,188"/>
<area shape="rect" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5" title=" " alt="" coords="1986,469,2029,496"/>
<area shape="poly" title=" " alt="" coords="111,183,182,161,277,136,385,115,441,109,496,107,1611,107,1648,111,1694,124,1797,163,1888,209,1921,229,1940,245,1958,270,1973,297,1993,354,2004,410,2008,454,2003,455,1998,410,1988,356,1968,299,1954,272,1936,248,1918,233,1886,214,1794,168,1693,129,1647,116,1611,112,496,112,441,114,386,120,278,141,184,166,113,189"/>
<area shape="rect" href="class_r_g_w_s_i___sys_obj.html#a42dbd3046b9d94873446090556f05e63" title=" " alt="" coords="202,179,343,221"/>
<area shape="poly" title=" " alt="" coords="140,197,186,197,186,203,140,203"/>
<area shape="rect" href="rgw__tools_8cc.html#a3e647ae97c113ee3ad07bad363e640b6" title=" " alt="" coords="202,277,343,304"/>
<area shape="poly" title=" " alt="" coords="105,212,229,268,226,273,103,216"/>
<area shape="rect" href="classrgw_1_1sal_1_1_rados_store.html#abe4f0602b771d5549a02c0a326d6a832" title=" " alt="" coords="188,328,357,355"/>
<area shape="poly" title=" " alt="" coords="86,212,127,262,156,290,189,314,199,319,197,324,186,318,153,294,123,266,82,216"/>
<area shape="poly" title=" " alt="" coords="234,29,233,19,239,10,252,5,272,3,294,5,307,11,304,16,292,10,272,8,254,10,242,15,238,21,239,28"/>
<area shape="poly" title=" " alt="" coords="294,275,355,231,377,205,387,193,404,183,449,165,489,154,526,148,560,148,634,153,726,157,1611,157,1668,160,1717,169,1759,183,1796,204,1830,230,1864,261,1940,341,1961,368,1978,398,2001,453,1996,455,1974,400,1957,371,1936,344,1860,265,1827,234,1793,208,1756,188,1715,174,1668,166,1611,163,726,163,633,158,560,153,526,154,490,159,451,170,406,188,391,197,381,209,359,235,298,279"/>
<area shape="rect" href="class_r_g_w_sys_object_ctx.html#af7d781dbb202cbc5b5d510034a18e83a" title=" " alt="" coords="405,197,589,224"/>
<area shape="poly" title=" " alt="" coords="303,274,404,233,426,226,428,231,406,239,305,279"/>
<area shape="rect" href="class_r_g_w_s_i___sys_obj_1_1_obj.html#a4cb9ed748128c5e25d73056b4bc11bc5" title=" " alt="" coords="413,248,582,275"/>
<area shape="poly" title=" " alt="" coords="342,279,396,272,397,277,343,284"/>
<area shape="rect" href="struct_r_g_w_s_i___sys_obj_1_1_obj_1_1_r_op.html#a1f7279941a00cb720d52b437b7883298" title=" " alt="" coords="422,299,573,341"/>
<area shape="poly" title=" " alt="" coords="343,297,406,305,406,311,342,302"/>
<area shape="rect" href="struct_r_g_w_s_i___sys_obj_1_1_obj_1_1_r_op.html#afc54124861efa7e3a5b3de65cb4e18e2" title=" " alt="" coords="422,365,573,408"/>
<area shape="poly" title=" " alt="" coords="331,302,358,314,383,332,406,351,416,356,414,361,404,356,379,337,356,318,328,307"/>
<area shape="rect" href="struct_r_g_w_s_i___sys_obj_1_1_obj_1_1_r_op.html#a08243c7fe5f2bd965ea05a29e4a77d68" title=" " alt="" coords="422,432,573,475"/>
<area shape="poly" title=" " alt="" coords="341,302,359,314,371,327,378,341,384,367,390,393,396,406,407,418,410,421,407,425,403,422,392,408,385,395,379,368,373,342,366,330,355,318,338,307"/>
<area shape="rect" href="struct_r_g_w_s_i___sys_obj_1_1_obj_1_1_r_op.html#a226d1e9e22be35264cf58ae4fcf033a5" title=" " alt="" coords="422,499,573,541"/>
<area shape="poly" title=" " alt="" coords="343,303,359,314,375,336,383,358,384,401,385,443,392,464,407,485,411,489,407,493,403,488,387,466,380,444,379,401,378,359,370,338,355,318,340,307"/>
<area shape="rect" href="struct_r_g_w_s_i___sys_obj_1_1_obj_1_1_r_op.html#ae73433d2c3faffa1d3e34b62f956bb04" title=" " alt="" coords="422,565,573,608"/>
<area shape="poly" title=" " alt="" coords="344,302,359,314,379,345,388,375,388,405,385,434,381,464,381,493,388,522,407,552,411,556,407,559,403,555,383,524,375,493,375,463,379,434,383,404,383,376,375,347,355,318,341,307"/>
<area shape="rect" href="class_r_g_w_s_i___sys_obj.html#a07a9aa07a04694c3df0dcefd1c84e12f" title=" " alt="" coords="644,197,810,224"/>
<area shape="poly" title=" " alt="" coords="590,208,629,208,629,213,590,213"/>
<area shape="poly" title=" " alt="" coords="569,562,588,551,603,536,612,521,620,506,635,489,711,422,775,371,808,353,846,339,889,331,942,328,1611,328,1707,327,1783,329,1819,336,1856,347,1895,365,1940,390,1957,404,1973,420,1995,454,1991,457,1969,423,1954,407,1937,394,1893,369,1854,352,1818,341,1783,335,1707,332,1611,333,942,333,890,336,847,344,810,358,778,376,714,426,639,493,625,509,616,524,607,540,591,555,572,567"/>
<area shape="rect" href="class_r_g_w_s_i___sys_obj___core.html#ac4baed05310b05752c5a27d73c928c7a" title=" " alt="" coords="637,503,817,529"/>
<area shape="poly" title=" " alt="" coords="568,562,666,532,667,537,570,567"/>
<area shape="poly" title=" " alt="" coords="752,500,821,466,920,426,977,408,1036,393,1098,382,1159,379,1611,379,1705,379,1779,385,1851,402,1939,434,1980,457,1977,462,1937,438,1849,407,1778,391,1705,385,1611,384,1159,384,1098,388,1038,398,978,413,921,431,823,471,755,504"/>
<area shape="rect" href="class_r_g_w_s_i___sys_obj___core.html#a0eaf6de77f57164148afb66c9f3d3745" title=" " alt="" coords="865,465,1022,508"/>
<area shape="poly" title=" " alt="" coords="817,501,849,497,850,502,817,506"/>
<area shape="rect" href="rgw__tools_8cc.html#a6cc59136e1df61d96f404169c4a300ce" title=" " alt="" coords="885,532,1002,559"/>
<area shape="poly" title=" " alt="" coords="817,526,870,533,869,538,817,531"/>
<area shape="poly" title=" " alt="" coords="1022,468,1186,443,1282,433,1379,429,1611,429,1703,432,1776,439,1939,465,1972,472,1971,477,1938,471,1775,444,1703,437,1611,435,1379,435,1283,438,1186,448,1023,474"/>
<area shape="rect" href="class_r_g_w_s_i___sys_obj___core.html#a6e51347253de41c8d94efec23d503089" title=" " alt="" coords="1070,512,1250,555"/>
<area shape="poly" title=" " alt="" coords="1023,501,1055,508,1054,513,1022,506"/>
<area shape="poly" title=" " alt="" coords="1251,517,1298,512,1497,497,1692,488,1971,480,1971,486,1693,493,1498,503,1299,517,1251,523"/>
<area shape="rect" href="structrgw__raw__obj.html#adfb9d046d5a792494c339bae67bc4e17" title=" " alt="" coords="1541,520,1678,547"/>
<area shape="poly" title=" " alt="" coords="1251,531,1526,531,1526,536,1251,536"/>
<area shape="rect" href="class_r_g_w_sys_object_ctx_base.html#a23536a6025bce065bcd6e518a705c2da" title=" " alt="" coords="1298,571,1463,613"/>
<area shape="poly" title=" " alt="" coords="1243,553,1284,564,1282,569,1242,558"/>
<area shape="rect" href="class_r_g_w_s_i___sys_obj___core.html#a39507a6da8ba5eaeb32ad891dd28d4f6" title=" " alt="" coords="1302,663,1459,705"/>
<area shape="poly" title=" " alt="" coords="1195,553,1337,651,1334,656,1192,557"/>
<area shape="poly" title=" " alt="" coords="1462,568,1539,549,1540,554,1464,574"/>
<area shape="poly" title=" " alt="" coords="1413,660,1457,632,1510,607,1938,499,1971,490,1972,495,1939,504,1512,612,1460,637,1415,664"/>
<area shape="rect" href="class_r_g_w_s_i___r_a_d_o_s_1_1_obj.html#acba7765f4366625406a8ce0e0a39e712" title=" " alt="" coords="1523,621,1696,664"/>
<area shape="poly" title=" " alt="" coords="1459,667,1507,658,1508,664,1460,672"/>
<area shape="rect" href="class_r_g_w_s_i___sys_obj___core.html#a761aa8f43c2fd7a005e3ce10f8997afd" title=" " alt="" coords="1531,688,1688,731"/>
<area shape="poly" title=" " alt="" coords="1460,690,1515,696,1515,702,1459,695"/>
<area shape="rect" href="class_r_g_w_s_i___r_a_d_o_s_1_1_obj.html#a7cf0358834aa8caa78893cc5d4d98f2b" title=" " alt="" coords="1511,755,1708,781"/>
<area shape="poly" title=" " alt="" coords="1426,703,1512,740,1534,747,1532,752,1510,745,1424,708"/>
<area shape="rect" href="struct_r_g_w_obj_version_tracker.html#a00fa9eb065d43718c02325862a0d1df7" title=" " alt="" coords="1529,827,1690,869"/>
<area shape="poly" title=" " alt="" coords="1407,704,1454,746,1512,791,1553,816,1550,821,1509,796,1451,750,1403,708"/>
<area shape="poly" title=" " alt="" coords="1687,685,1706,674,1722,658,1730,641,1738,624,1754,607,1779,592,1803,583,1845,576,1888,570,1912,563,1937,550,1963,529,1985,506,1989,510,1967,533,1940,554,1914,568,1890,575,1846,581,1804,588,1782,597,1758,611,1742,627,1734,644,1726,661,1710,678,1690,690"/>
<area shape="rect" href="class_r_g_w_s_i___r_a_d_o_s.html#ad7d4a82ecd8081a59c37e3730345711d" title=" " alt="" coords="1776,621,1919,648"/>
<area shape="poly" title=" " alt="" coords="1674,685,1755,657,1780,650,1781,655,1757,663,1676,690"/>
<area shape="rect" href="class_r_g_w_s_i___r_a_d_o_s_1_1_obj.html#adc703eaa1aad5a55504ce25bea09836a" title=" " alt="" coords="1756,696,1938,723"/>
<area shape="poly" title=" " alt="" coords="1688,707,1740,707,1740,712,1688,712"/>
<area shape="poly" title=" " alt="" coords="1886,693,1913,678,1936,658,1961,622,1979,582,1999,510,2004,512,1984,584,1966,625,1940,662,1916,683,1888,698"/>
<area shape="poly" title=" " alt="" coords="1819,697,1814,687,1818,678,1829,672,1847,669,1867,672,1877,678,1874,683,1865,677,1847,675,1831,677,1822,681,1820,687,1824,694"/>
<area shape="poly" title=" " alt="" coords="1708,767,1775,766,1842,760,1899,750,1921,742,1937,733,1948,718,1959,695,1978,634,2000,511,2005,512,1983,635,1964,697,1953,721,1940,737,1923,747,1901,755,1843,766,1775,771,1709,773"/>
<area shape="rect" href="rgw__tools_8cc.html#ac8fd9a95626d93661d7280c9455eba5c" title="perform the rados operation, using the yield context when given" alt="" coords="1782,797,1912,824"/>
<area shape="poly" title=" " alt="" coords="1688,779,1767,794,1766,799,1687,785"/>
<area shape="poly" title=" " alt="" coords="1911,795,1936,777,1949,757,1960,729,1979,654,2000,511,2006,512,1984,656,1965,730,1953,760,1940,780,1914,799"/>
<area shape="rect" href="struct_r_g_w_obj_version_tracker.html#a962d855794c47d114e825f836d0e12dc" title=" " alt="" coords="1767,848,1927,891"/>
<area shape="poly" title=" " alt="" coords="1690,853,1752,858,1752,863,1689,858"/>
</map>
</div>
<div class="dynheader">
이 함수를 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="rgw__lc__tier_8cc_a1a318bf893149ea31426d89445c69d60_icgraph.png" border="0" usemap="#argw__lc__tier_8cc_a1a318bf893149ea31426d89445c69d60_icgraph" alt=""/></div>
<map name="argw__lc__tier_8cc_a1a318bf893149ea31426d89445c69d60_icgraph" id="argw__lc__tier_8cc_a1a318bf893149ea31426d89445c69d60_icgraph">
<area shape="rect" title=" " alt="" coords="600,13,735,40"/>
<area shape="rect" href="rgw__lc__tier_8cc.html#a4fac4a9dcad607bf27557e0109f826b2" title=" " alt="" coords="418,5,552,48"/>
<area shape="poly" title=" " alt="" coords="585,29,553,29,553,24,585,24"/>
<area shape="rect" href="rgw__lc__tier_8cc.html#a2906f85e3121b2099d65e0f9047553e9" title=" " alt="" coords="216,5,370,48"/>
<area shape="poly" title=" " alt="" coords="402,29,371,29,371,24,402,24"/>
<area shape="rect" href="class_l_c_op_action___transition.html#a11d3ae78bd110a735d53bb533e68b59b" title=" " alt="" coords="5,5,168,48"/>
<area shape="poly" title=" " alt="" coords="200,29,168,29,168,24,200,24"/>
</map>
</div>

</div>
</div>
<a id="a2906f85e3121b2099d65e0f9047553e9" name="a2906f85e3121b2099d65e0f9047553e9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2906f85e3121b2099d65e0f9047553e9">&#9670;&#160;</a></span>rgw_cloud_tier_transfer_object()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int rgw_cloud_tier_transfer_object </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_r_g_w_l_c_cloud_tier_ctx.html">RGWLCCloudTierCtx</a> &amp;&#160;</td>
          <td class="paramname"><em>tier_ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::set&lt; std::string &gt; &amp;&#160;</td>
          <td class="paramname"><em>cloud_targets</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition"><a class="el" href="rgw__lc__tier_8cc_source.html">rgw_lc_tier.cc</a> 파일의 <a class="el" href="rgw__lc__tier_8cc_source.html#l01281">1281</a> 번째 라인에서 정의되었습니다.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1281</span>                                                                                                  {</div>
<div class="line"><span class="lineno"> 1282</span>  <span class="keywordtype">int</span> ret = 0;</div>
<div class="line"><span class="lineno"> 1283</span> </div>
<div class="line"><span class="lineno"> 1284</span>  <span class="comment">// check if target_path is already created</span></div>
<div class="line"><span class="lineno"> 1285</span>  std::set&lt;std::string&gt;::iterator it;</div>
<div class="line"><span class="lineno"> 1286</span> </div>
<div class="line"><span class="lineno"> 1287</span>  it = cloud_targets.find(tier_ctx.<a class="code hl_variable" href="struct_r_g_w_l_c_cloud_tier_ctx.html#a6a3c18ecc5b2850180a938c6fd21d567">target_bucket_name</a>);</div>
<div class="line"><span class="lineno"> 1288</span>  tier_ctx.<a class="code hl_variable" href="struct_r_g_w_l_c_cloud_tier_ctx.html#ab8797d3435c3775a593e2790bb44a94a">target_bucket_created</a> = (it != cloud_targets.end());</div>
<div class="line"><span class="lineno"> 1289</span> </div>
<div class="line"><span class="lineno"> 1290</span>  <span class="comment">/* If run first time attempt to create the target bucket */</span></div>
<div class="line"><span class="lineno"> 1291</span>  <span class="keywordflow">if</span> (!tier_ctx.<a class="code hl_variable" href="struct_r_g_w_l_c_cloud_tier_ctx.html#ab8797d3435c3775a593e2790bb44a94a">target_bucket_created</a>) {</div>
<div class="line"><span class="lineno"> 1292</span>    ret = <a class="code hl_function" href="rgw__lc__tier_8cc.html#a9256577a99379ecd94234749f6b9b343">cloud_tier_create_bucket</a>(tier_ctx);</div>
<div class="line"><span class="lineno"> 1293</span> </div>
<div class="line"><span class="lineno"> 1294</span>    <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno"> 1295</span>      ldpp_dout(tier_ctx.<a class="code hl_variable" href="struct_r_g_w_l_c_cloud_tier_ctx.html#a10433e11720af1b72f2fec265ce02143">dpp</a>, 0) &lt;&lt; <span class="stringliteral">&quot;ERROR: failed to create target bucket on the cloud endpoint ret=&quot;</span> &lt;&lt; ret &lt;&lt; dendl;</div>
<div class="line"><span class="lineno"> 1296</span>      <span class="keywordflow">return</span> ret;</div>
<div class="line"><span class="lineno"> 1297</span>    }</div>
<div class="line"><span class="lineno"> 1298</span>    tier_ctx.<a class="code hl_variable" href="struct_r_g_w_l_c_cloud_tier_ctx.html#ab8797d3435c3775a593e2790bb44a94a">target_bucket_created</a> = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 1299</span>    cloud_targets.insert(tier_ctx.<a class="code hl_variable" href="struct_r_g_w_l_c_cloud_tier_ctx.html#a6a3c18ecc5b2850180a938c6fd21d567">target_bucket_name</a>);</div>
<div class="line"><span class="lineno"> 1300</span>  }</div>
<div class="line"><span class="lineno"> 1301</span> </div>
<div class="line"><span class="lineno"> 1302</span>  <span class="comment">/* Since multiple zones may try to transition the same object to the cloud,</span></div>
<div class="line"><span class="lineno"> 1303</span><span class="comment">   * verify if the object is already transitioned. And since its just a best</span></div>
<div class="line"><span class="lineno"> 1304</span><span class="comment">   * effort, do not bail out in case of any errors.</span></div>
<div class="line"><span class="lineno"> 1305</span><span class="comment">   */</span></div>
<div class="line"><span class="lineno"> 1306</span>  <span class="keywordtype">bool</span> already_tiered = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 1307</span>  ret = <a class="code hl_function" href="rgw__lc__tier_8cc.html#a2cf3fcb693fce2e948055ee3e01bfb5b">cloud_tier_check_object</a>(tier_ctx, already_tiered);</div>
<div class="line"><span class="lineno"> 1308</span> </div>
<div class="line"><span class="lineno"> 1309</span>  <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno"> 1310</span>    ldpp_dout(tier_ctx.<a class="code hl_variable" href="struct_r_g_w_l_c_cloud_tier_ctx.html#a10433e11720af1b72f2fec265ce02143">dpp</a>, 0) &lt;&lt; <span class="stringliteral">&quot;ERROR: failed to check object on the cloud endpoint ret=&quot;</span> &lt;&lt; ret &lt;&lt; dendl;</div>
<div class="line"><span class="lineno"> 1311</span>  }</div>
<div class="line"><span class="lineno"> 1312</span> </div>
<div class="line"><span class="lineno"> 1313</span>  <span class="keywordflow">if</span> (already_tiered) {</div>
<div class="line"><span class="lineno"> 1314</span>    ldpp_dout(tier_ctx.<a class="code hl_variable" href="struct_r_g_w_l_c_cloud_tier_ctx.html#a10433e11720af1b72f2fec265ce02143">dpp</a>, 20) &lt;&lt; <span class="stringliteral">&quot;Object (&quot;</span> &lt;&lt; tier_ctx.<a class="code hl_variable" href="struct_r_g_w_l_c_cloud_tier_ctx.html#ac7696914982b184b5a468f23791d91a6">o</a>.key &lt;&lt; <span class="stringliteral">&quot;) is already tiered&quot;</span> &lt;&lt; dendl;</div>
<div class="line"><span class="lineno"> 1315</span>    <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno"> 1316</span>  }</div>
<div class="line"><span class="lineno"> 1317</span> </div>
<div class="line"><span class="lineno"> 1318</span>  uint64_t size = tier_ctx.<a class="code hl_variable" href="struct_r_g_w_l_c_cloud_tier_ctx.html#ac7696914982b184b5a468f23791d91a6">o</a>.meta.size;</div>
<div class="line"><span class="lineno"> 1319</span>  uint64_t multipart_sync_threshold = tier_ctx.<a class="code hl_variable" href="struct_r_g_w_l_c_cloud_tier_ctx.html#afc17fb4dc2aaa7cbbf72b9d7a580ff52">multipart_sync_threshold</a>;</div>
<div class="line"><span class="lineno"> 1320</span> </div>
<div class="line"><span class="lineno"> 1321</span>  <span class="keywordflow">if</span> (multipart_sync_threshold &lt; <a class="code hl_define" href="rgw__lc__tier_8h.html#af4a5704f03c523b1039a0726ce189a5a">MULTIPART_MIN_POSSIBLE_PART_SIZE</a>) {</div>
<div class="line"><span class="lineno"> 1322</span>    multipart_sync_threshold = <a class="code hl_define" href="rgw__lc__tier_8h.html#af4a5704f03c523b1039a0726ce189a5a">MULTIPART_MIN_POSSIBLE_PART_SIZE</a>;</div>
<div class="line"><span class="lineno"> 1323</span>  }</div>
<div class="line"><span class="lineno"> 1324</span> </div>
<div class="line"><span class="lineno"> 1325</span>  <span class="keywordflow">if</span> (size &lt; multipart_sync_threshold) {</div>
<div class="line"><span class="lineno"> 1326</span>    ret = <a class="code hl_function" href="rgw__lc__tier_8cc.html#a708d92898f0d0340a422c6f4d41179df">cloud_tier_plain_transfer</a>(tier_ctx);</div>
<div class="line"><span class="lineno"> 1327</span>  } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 1328</span>    tier_ctx.<a class="code hl_variable" href="struct_r_g_w_l_c_cloud_tier_ctx.html#af4d07d18b0c467d0ca5855bda378c704">is_multipart_upload</a> = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 1329</span>    ret = <a class="code hl_function" href="rgw__lc__tier_8cc.html#a4fac4a9dcad607bf27557e0109f826b2">cloud_tier_multipart_transfer</a>(tier_ctx);</div>
<div class="line"><span class="lineno"> 1330</span>  } </div>
<div class="line"><span class="lineno"> 1331</span> </div>
<div class="line"><span class="lineno"> 1332</span>  <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno"> 1333</span>    ldpp_dout(tier_ctx.<a class="code hl_variable" href="struct_r_g_w_l_c_cloud_tier_ctx.html#a10433e11720af1b72f2fec265ce02143">dpp</a>, 0) &lt;&lt; <span class="stringliteral">&quot;ERROR: failed to transition object ret=&quot;</span> &lt;&lt; ret &lt;&lt; dendl;</div>
<div class="line"><span class="lineno"> 1334</span>  }</div>
<div class="line"><span class="lineno"> 1335</span> </div>
<div class="line"><span class="lineno"> 1336</span>  <span class="keywordflow">return</span> ret;</div>
<div class="line"><span class="lineno"> 1337</span>}</div>
<div class="ttc" id="argw__lc__tier_8cc_html_a2cf3fcb693fce2e948055ee3e01bfb5b"><div class="ttname"><a href="rgw__lc__tier_8cc.html#a2cf3fcb693fce2e948055ee3e01bfb5b">cloud_tier_check_object</a></div><div class="ttdeci">static int cloud_tier_check_object(RGWLCCloudTierCtx &amp;tier_ctx, bool &amp;already_tiered)</div><div class="ttdef"><b>Definition</b> <a href="rgw__lc__tier_8cc_source.html#l01206">rgw_lc_tier.cc:1206</a></div></div>
<div class="ttc" id="argw__lc__tier_8cc_html_a4fac4a9dcad607bf27557e0109f826b2"><div class="ttname"><a href="rgw__lc__tier_8cc.html#a4fac4a9dcad607bf27557e0109f826b2">cloud_tier_multipart_transfer</a></div><div class="ttdeci">static int cloud_tier_multipart_transfer(RGWLCCloudTierCtx &amp;tier_ctx)</div><div class="ttdef"><b>Definition</b> <a href="rgw__lc__tier_8cc_source.html#l01066">rgw_lc_tier.cc:1066</a></div></div>
<div class="ttc" id="argw__lc__tier_8cc_html_a708d92898f0d0340a422c6f4d41179df"><div class="ttname"><a href="rgw__lc__tier_8cc.html#a708d92898f0d0340a422c6f4d41179df">cloud_tier_plain_transfer</a></div><div class="ttdeci">static int cloud_tier_plain_transfer(RGWLCCloudTierCtx &amp;tier_ctx)</div><div class="ttdef"><b>Definition</b> <a href="rgw__lc__tier_8cc_source.html#l00758">rgw_lc_tier.cc:758</a></div></div>
<div class="ttc" id="argw__lc__tier_8cc_html_a9256577a99379ecd94234749f6b9b343"><div class="ttname"><a href="rgw__lc__tier_8cc.html#a9256577a99379ecd94234749f6b9b343">cloud_tier_create_bucket</a></div><div class="ttdeci">static int cloud_tier_create_bucket(RGWLCCloudTierCtx &amp;tier_ctx)</div><div class="ttdef"><b>Definition</b> <a href="rgw__lc__tier_8cc_source.html#l01229">rgw_lc_tier.cc:1229</a></div></div>
<div class="ttc" id="astruct_r_g_w_l_c_cloud_tier_ctx_html_ab8797d3435c3775a593e2790bb44a94a"><div class="ttname"><a href="struct_r_g_w_l_c_cloud_tier_ctx.html#ab8797d3435c3775a593e2790bb44a94a">RGWLCCloudTierCtx::target_bucket_created</a></div><div class="ttdeci">bool target_bucket_created</div><div class="ttdef"><b>Definition</b> <a href="rgw__lc__tier_8h_source.html#l00040">rgw_lc_tier.h:40</a></div></div>
<div class="ttc" id="astruct_r_g_w_l_c_cloud_tier_ctx_html_af4d07d18b0c467d0ca5855bda378c704"><div class="ttname"><a href="struct_r_g_w_l_c_cloud_tier_ctx.html#af4d07d18b0c467d0ca5855bda378c704">RGWLCCloudTierCtx::is_multipart_upload</a></div><div class="ttdeci">bool is_multipart_upload</div><div class="ttdef"><b>Definition</b> <a href="rgw__lc__tier_8h_source.html#l00039">rgw_lc_tier.h:39</a></div></div>
<div class="ttc" id="astruct_r_g_w_l_c_cloud_tier_ctx_html_afc17fb4dc2aaa7cbbf72b9d7a580ff52"><div class="ttname"><a href="struct_r_g_w_l_c_cloud_tier_ctx.html#afc17fb4dc2aaa7cbbf72b9d7a580ff52">RGWLCCloudTierCtx::multipart_sync_threshold</a></div><div class="ttdeci">uint64_t multipart_sync_threshold</div><div class="ttdef"><b>Definition</b> <a href="rgw__lc__tier_8h_source.html#l00037">rgw_lc_tier.h:37</a></div></div>
</div><!-- fragment --><div class="dynheader">
이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="rgw__lc__tier_8cc_a2906f85e3121b2099d65e0f9047553e9_cgraph.png" border="0" usemap="#argw__lc__tier_8cc_a2906f85e3121b2099d65e0f9047553e9_cgraph" alt=""/></div>
<map name="argw__lc__tier_8cc_a2906f85e3121b2099d65e0f9047553e9_cgraph" id="argw__lc__tier_8cc_a2906f85e3121b2099d65e0f9047553e9_cgraph">
<area shape="rect" title=" " alt="" coords="5,471,160,513"/>
<area shape="rect" href="rgw__lc__tier_8cc.html#a2cf3fcb693fce2e948055ee3e01bfb5b" title=" " alt="" coords="208,131,369,157"/>
<area shape="poly" title=" " alt="" coords="94,469,269,170,274,172,99,472"/>
<area shape="rect" href="rgw__lc__tier_8cc.html#a9256577a99379ecd94234749f6b9b343" title=" " alt="" coords="669,1159,836,1185"/>
<area shape="poly" title=" " alt="" coords="92,513,125,615,152,687,188,767,233,851,285,934,347,1010,382,1045,419,1077,474,1111,535,1135,597,1152,654,1162,653,1167,595,1157,533,1140,471,1116,415,1081,378,1049,343,1014,281,937,228,854,184,770,148,689,120,617,87,514"/>
<area shape="rect" href="rgw__lc__tier_8cc.html#a4fac4a9dcad607bf27557e0109f826b2" title=" " alt="" coords="221,581,356,624"/>
<area shape="poly" title=" " alt="" coords="125,512,235,571,233,576,123,516"/>
<area shape="rect" href="rgw__lc__tier_8cc.html#a708d92898f0d0340a422c6f4d41179df" title=" " alt="" coords="436,232,597,259"/>
<area shape="poly" title=" " alt="" coords="108,468,162,426,236,372,323,317,416,268,433,261,435,266,418,273,326,321,239,377,165,430,112,472"/>
<area shape="rect" href="rgw__lc__tier_8cc.html#a13867e0190d6ba39f79eae9b639818b2" title=" " alt="" coords="444,131,588,157"/>
<area shape="poly" title=" " alt="" coords="369,141,428,141,428,147,369,147"/>
<area shape="rect" href="rgw__lc__tier_8cc.html#a08a23ca5c5c5a005d592ea4e4b228862" title=" " alt="" coords="457,5,576,32"/>
<area shape="poly" title=" " alt="" coords="303,128,352,89,416,48,447,35,449,40,418,53,355,94,307,132"/>
<area shape="rect" href="class_r_g_w_r_e_s_t_conn.html#a2316b6676a813928a2caf6dadc445c8f" title=" " alt="" coords="663,107,842,149"/>
<area shape="poly" title=" " alt="" coords="589,136,648,132,648,138,589,142"/>
<area shape="rect" href="classrgw_1_1sal_1_1_store.html#a3308ce50125b19ccdf5ce7f69958bd67" title=" " alt="" coords="687,275,818,317"/>
<area shape="poly" title=" " alt="" coords="538,156,617,218,640,241,665,260,674,266,672,270,662,265,637,245,614,222,535,160"/>
<area shape="rect" href="classrgw_1_1sal_1_1_object.html#af492ef7b108fe3b0045349261ba80c3c" title=" " alt="" coords="669,224,836,251"/>
<area shape="poly" title=" " alt="" coords="569,155,616,174,641,188,665,203,694,216,692,221,662,208,638,193,614,178,567,160"/>
<area shape="rect" href="rgw__lc__tier_8cc.html#aea4258058a85e5b1179ec1dba3054041" title=" " alt="" coords="691,341,814,368"/>
<area shape="poly" title=" " alt="" coords="543,156,581,182,617,218,633,249,639,277,646,302,665,327,678,336,675,341,661,331,641,305,634,278,628,251,613,222,577,186,540,160"/>
<area shape="rect" href="classrgw_1_1sal_1_1_object.html#aa4a801a7e7dfbb29ccf622603dee6ae3" title=" " alt="" coords="664,525,841,552"/>
<area shape="poly" title=" " alt="" coords="546,156,584,181,603,199,618,219,636,260,642,300,640,337,634,373,630,407,631,441,641,476,665,512,668,514,664,518,661,515,636,478,626,442,625,407,629,372,634,336,636,300,631,262,613,221,599,202,581,185,543,160"/>
<area shape="rect" href="class_r_g_w_r_e_s_t_conn.html#af03a1214e15aa9729d5c59fc2543079b" title=" " alt="" coords="911,517,1079,544"/>
<area shape="poly" title=" " alt="" coords="589,149,733,172,798,189,824,199,844,210,872,254,912,336,984,502,980,504,907,338,867,257,840,214,822,204,797,194,732,177,589,154"/>
<area shape="rect" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5" title=" " alt="" coords="1227,731,1269,757"/>
<area shape="poly" title=" " alt="" coords="1078,542,1101,554,1146,591,1184,635,1214,678,1235,715,1230,718,1209,681,1180,638,1143,594,1099,558,1075,547"/>
<area shape="rect" href="class_r_g_w_r_e_s_t_conn.html#ac833f895cae6760d02b776c2a597f02d" title=" " alt="" coords="1166,805,1330,832"/>
<area shape="poly" title=" " alt="" coords="1081,539,1102,554,1122,581,1130,607,1132,634,1130,660,1127,687,1127,713,1134,740,1150,768,1167,784,1187,796,1184,801,1163,788,1146,771,1129,742,1122,714,1122,686,1124,660,1127,634,1125,608,1117,583,1098,558,1078,544"/>
<area shape="rect" href="class_r_g_w_r_e_s_t_conn.html#a919ee8e18b3c046e8b64029ab3427130" title=" " alt="" coords="1161,856,1335,899"/>
<area shape="poly" title=" " alt="" coords="1080,539,1102,554,1126,591,1136,627,1134,663,1128,699,1122,735,1120,770,1128,806,1150,842,1151,844,1147,847,1146,846,1123,808,1115,771,1117,734,1123,698,1129,663,1130,628,1122,593,1098,558,1077,543"/>
<area shape="poly" title=" " alt="" coords="1205,807,1198,797,1203,787,1220,781,1248,779,1278,781,1294,788,1292,793,1277,786,1248,784,1221,786,1206,791,1203,796,1210,803"/>
<area shape="poly" title=" " alt="" coords="576,16,691,25,762,36,836,54,911,79,982,113,1047,158,1076,185,1102,214,1143,278,1176,348,1201,420,1220,492,1241,623,1248,715,1243,715,1236,624,1215,494,1196,422,1171,350,1139,281,1098,218,1072,188,1044,162,980,118,909,84,835,59,761,41,691,30,576,21"/>
<area shape="rect" href="namespace_r_g_w_x_m_l_decoder.html#afd109a7a9a8e6466d3365860e0b2426f" title=" " alt="" coords="893,1251,1097,1277"/>
<area shape="poly" title=" " alt="" coords="779,1184,830,1210,891,1236,913,1243,911,1249,889,1241,828,1215,777,1188"/>
<area shape="rect" href="class_r_g_w_x_m_l_parser.html#ad5cf8ac16b134a9269ade6a2d0072a64" title=" " alt="" coords="924,1125,1066,1152"/>
<area shape="poly" title=" " alt="" coords="836,1158,908,1148,909,1153,837,1163"/>
<area shape="rect" href="class_r_g_w_x_m_l_parser.html#a4e20926588ef848ab1b68a29e79e91e8" title=" " alt="" coords="917,1301,1073,1328"/>
<area shape="poly" title=" " alt="" coords="768,1184,818,1235,853,1263,891,1287,905,1293,903,1298,888,1292,850,1267,814,1239,764,1188"/>
<area shape="rect" href="class_r_g_w_r_e_s_t_conn.html#a8423ed928e48e2ac23b4fb57de2792d3" title=" " alt="" coords="890,1075,1100,1101"/>
<area shape="poly" title=" " alt="" coords="811,1156,840,1144,864,1128,888,1111,906,1104,908,1109,891,1116,867,1132,843,1149,813,1161"/>
<area shape="rect" href="rgw__xml_8h.html#a1512966c3f0c8cf0ea07adbfb90d7fd8" title=" " alt="" coords="1190,1408,1305,1435"/>
<area shape="poly" title=" " alt="" coords="1083,1276,1102,1287,1114,1301,1121,1314,1127,1342,1132,1369,1138,1382,1150,1394,1176,1409,1174,1414,1146,1398,1134,1385,1127,1371,1121,1343,1116,1316,1110,1304,1098,1291,1080,1280"/>
<area shape="rect" href="class_x_m_l_obj.html#a97256c1a1fe4c0b1fb7f422ed6ac30f3" title=" " alt="" coords="1201,1307,1295,1333"/>
<area shape="poly" title=" " alt="" coords="1059,1275,1186,1304,1185,1309,1058,1281"/>
<area shape="rect" href="class_x_m_l_obj_iter.html#a3a22d90225f573459c9c5afc925eceb3" title=" " alt="" coords="1177,1357,1319,1384"/>
<area shape="poly" title=" " alt="" coords="1077,1276,1101,1287,1117,1301,1126,1316,1135,1330,1150,1343,1163,1350,1161,1355,1146,1348,1131,1333,1122,1319,1113,1305,1099,1292,1075,1280"/>
<area shape="rect" href="class_r_g_w_x_m_l_parser.html#a9158068a148005dc85110a7a05fefd02" title=" " alt="" coords="1176,1107,1320,1149"/>
<area shape="poly" title=" " alt="" coords="1066,1133,1160,1129,1160,1134,1066,1138"/>
<area shape="rect" href="class_r_g_w_x_m_l_parser.html#a543b357ac6cc4df349a538f48f903bf5" title=" " alt="" coords="1176,1173,1320,1216"/>
<area shape="poly" title=" " alt="" coords="1059,1150,1161,1173,1159,1178,1058,1155"/>
<area shape="rect" href="class_r_g_w_x_m_l_parser.html#aa733447e36337bf43cebf65c4cd706b8" title=" " alt="" coords="1176,1240,1320,1283"/>
<area shape="poly" title=" " alt="" coords="1067,1146,1101,1162,1118,1178,1127,1194,1135,1210,1150,1226,1163,1234,1160,1239,1146,1230,1130,1213,1122,1197,1114,1181,1099,1166,1065,1151"/>
<area shape="poly" title=" " alt="" coords="1073,1072,1098,1054,1120,1019,1128,983,1127,948,1121,912,1114,877,1113,840,1122,804,1146,768,1160,756,1177,748,1211,741,1212,747,1178,753,1163,761,1150,771,1127,806,1118,841,1120,876,1126,911,1132,947,1134,984,1125,1021,1102,1058,1077,1076"/>
<area shape="poly" title=" " alt="" coords="1073,1072,1098,1054,1116,1028,1123,1002,1124,976,1121,950,1118,923,1119,896,1127,869,1146,842,1151,838,1154,842,1150,846,1132,871,1124,897,1123,923,1126,949,1129,976,1128,1003,1121,1031,1102,1058,1076,1076"/>
<area shape="poly" title=" " alt="" coords="1070,1072,1098,1054,1112,1037,1119,1019,1122,983,1125,946,1132,928,1146,909,1149,906,1152,910,1150,912,1137,930,1130,948,1127,984,1124,1021,1116,1039,1102,1058,1073,1076"/>
<area shape="rect" href="class_r_g_w_h_t_t_p_stream_r_w_request.html#a28de0acc4dc43fc97efbfc4a6ba82c43" title=" " alt="" coords="1149,1040,1346,1083"/>
<area shape="poly" title=" " alt="" coords="1100,1074,1133,1071,1134,1076,1101,1080"/>
<area shape="rect" href="rgw__rest__conn_8h.html#aa14583ec12a68d63cf797488bb75ec5c" title=" " alt="" coords="1188,923,1308,949"/>
<area shape="poly" title=" " alt="" coords="1067,1072,1098,1054,1109,1043,1115,1032,1121,1008,1128,983,1135,971,1146,959,1171,945,1174,950,1150,963,1139,974,1133,985,1126,1009,1120,1034,1113,1046,1102,1058,1070,1076"/>
<area shape="rect" href="class_r_g_w_r_e_s_t_stream_r_w_request.html#ac991b0ba9e3086ee97283a7d26abdfb3" title=" " alt="" coords="1148,973,1347,1016"/>
<area shape="poly" title=" " alt="" coords="1049,1072,1099,1054,1123,1040,1147,1026,1161,1020,1163,1025,1149,1030,1125,1044,1101,1058,1051,1077"/>
<area shape="poly" title=" " alt="" coords="286,581,289,508,295,459,305,407,321,354,344,302,375,256,416,218,434,209,459,204,523,202,595,208,665,218,664,223,594,214,523,207,460,209,436,214,418,222,379,259,348,305,326,356,310,408,300,460,294,508,292,581"/>
<area shape="poly" title=" " alt="" coords="298,579,316,547,343,509,376,469,416,436,680,370,681,375,418,441,380,473,347,512,321,550,303,582"/>
<area shape="poly" title=" " alt="" coords="356,610,412,615,477,618,547,615,615,604,670,584,717,558,720,563,672,589,616,609,547,620,477,623,412,621,355,615"/>
<area shape="rect" href="rgw__lc__tier_8cc.html#ae302c4d72a8677228743aa6c720c3c3b" title=" " alt="" coords="431,872,601,915"/>
<area shape="poly" title=" " alt="" coords="298,624,312,670,337,731,372,795,394,825,419,851,432,862,429,866,415,855,390,828,367,798,332,733,307,672,293,625"/>
<area shape="rect" href="rgw__lc__tier_8cc.html#a8346ef5c144b99b4d473eb3c7657340e" title=" " alt="" coords="680,821,825,848"/>
<area shape="poly" title=" " alt="" coords="300,623,316,661,341,707,375,753,396,773,418,790,478,817,542,833,606,839,664,840,664,845,606,845,541,838,476,822,416,794,392,777,371,756,336,710,311,663,295,625"/>
<area shape="rect" href="rgw__lc__tier_8cc.html#a14cca91b5600848ab8a3726b6e01a7cf" title=" " alt="" coords="684,1092,821,1135"/>
<area shape="poly" title=" " alt="" coords="293,624,298,694,316,791,332,843,354,894,382,941,419,982,443,999,466,1007,489,1010,512,1009,561,1008,588,1013,617,1026,633,1038,642,1052,651,1065,665,1078,672,1082,669,1087,662,1082,647,1068,638,1055,629,1042,614,1030,586,1018,561,1013,512,1014,488,1015,465,1013,440,1004,415,986,378,944,349,896,327,845,311,792,293,694,287,624"/>
<area shape="rect" href="rgw__lc__tier_8cc.html#af4a541b5f9dc56144d816078a8092597" title=" " alt="" coords="673,1041,832,1068"/>
<area shape="poly" title=" " alt="" coords="294,624,304,684,325,765,341,808,362,851,387,890,419,925,443,943,465,954,510,963,558,967,586,972,616,982,669,1006,716,1031,714,1036,667,1011,614,986,584,977,558,972,509,968,464,959,440,948,415,929,383,894,357,853,336,810,320,767,298,685,289,625"/>
<area shape="rect" href="rgw__lc__tier_8cc.html#a3bf8a95e6d9ba53115bfb1118a771df4" title=" " alt="" coords="417,451,615,477"/>
<area shape="poly" title=" " alt="" coords="306,579,353,532,383,508,416,487,429,481,431,486,418,492,386,512,356,536,310,583"/>
<area shape="rect" href="class_r_g_w_l_c_stream_read.html#acfd0ab57202a875349ffce0f0e808699" title=" " alt="" coords="911,228,1079,271"/>
<area shape="poly" title=" " alt="" coords="289,581,303,481,328,340,346,269,366,204,389,151,415,117,451,96,501,81,560,72,624,67,688,67,749,72,802,80,843,92,885,116,921,148,951,182,974,214,970,217,947,186,917,152,881,121,841,97,801,85,748,77,688,73,624,73,560,77,502,87,453,101,419,121,393,154,371,206,351,270,334,341,308,482,295,581"/>
<area shape="rect" href="class_r_g_w_l_c_stream_read.html#a21972de2ea9e99cb973e15c8e6915b9f" title=" " alt="" coords="912,568,1078,595"/>
<area shape="poly" title=" " alt="" coords="356,614,417,623,549,627,680,621,801,609,901,595,902,600,802,614,681,627,549,633,417,628,356,619"/>
<area shape="rect" href="classrgw_1_1sal_1_1_object.html#a179f38a720d7ff3bd1a860203391a52d" title=" " alt="" coords="435,1040,597,1067"/>
<area shape="poly" title=" " alt="" coords="292,624,297,699,314,805,330,862,352,919,381,972,419,1019,433,1030,429,1035,415,1023,377,975,347,921,325,864,309,806,291,699,287,625"/>
<area shape="rect" href="classrgw_1_1sal_1_1_zone.html#aad5682df06309df9be7bc8fdab823b50" title=" " alt="" coords="452,283,580,325"/>
<area shape="poly" title=" " alt="" coords="297,580,363,438,415,336,436,321,439,326,419,339,367,440,302,582"/>
<area shape="rect" href="classrgw_1_1sal_1_1_store.html#a7905b89b9f5def056e6b3379637037cc" title=" " alt="" coords="433,349,599,376"/>
<area shape="poly" title=" " alt="" coords="295,580,311,540,336,490,371,438,415,393,435,380,438,385,419,397,375,441,341,492,316,542,300,582"/>
<area shape="rect" href="structrgw__obj.html#a1c3e53e85a06152cc59b17f1c57cb416" title=" " alt="" coords="471,501,561,528"/>
<area shape="poly" title=" " alt="" coords="328,578,416,538,455,525,456,530,418,542,330,583"/>
<area shape="rect" href="class_r_g_w_l_c_cloud_stream_put.html#aee0a9faf946f162d660f141a03209222" title=" " alt="" coords="434,552,598,595"/>
<area shape="poly" title=" " alt="" coords="356,591,418,583,419,589,356,597"/>
<area shape="rect" href="rgw__lc__tier_8cc.html#a0817e31380203858cc25fc9e2b0e5c4e" title=" " alt="" coords="689,720,816,747"/>
<area shape="poly" title=" " alt="" coords="312,622,358,663,387,683,418,699,483,719,550,730,616,735,673,735,673,741,615,740,550,735,482,724,416,704,384,688,354,667,308,626"/>
<area shape="rect" href="rgw__lc__tier_8cc.html#a1a318bf893149ea31426d89445c69d60" title=" " alt="" coords="685,771,820,797"/>
<area shape="poly" title=" " alt="" coords="305,623,350,683,381,714,418,739,481,764,547,778,612,785,670,786,670,791,612,790,546,783,479,769,416,744,378,718,346,686,300,626"/>
<area shape="rect" href="rgw__lc__tier_8cc.html#aa090bf66802d07265afcdbe0cb35dd4e" title=" " alt="" coords="667,901,838,928"/>
<area shape="poly" title=" " alt="" coords="602,898,652,903,652,908,602,904"/>
<area shape="poly" title=" " alt="" coords="601,870,680,850,682,855,603,875"/>
<area shape="poly" title=" " alt="" coords="838,907,987,891,1054,877,1080,868,1098,858,1109,848,1116,838,1122,815,1128,791,1135,779,1146,767,1178,751,1211,743,1212,749,1180,756,1150,771,1139,782,1133,793,1127,816,1121,840,1113,851,1102,862,1082,873,1055,882,987,896,838,913"/>
<area shape="poly" title=" " alt="" coords="775,926,963,1063,960,1067,771,931"/>
<area shape="rect" href="rgw__lc__tier_8cc.html#a93e85f685511afc70138260718b4f759" title=" " alt="" coords="936,923,1054,949"/>
<area shape="poly" title=" " alt="" coords="839,920,920,927,920,932,838,925"/>
<area shape="poly" title=" " alt="" coords="825,819,889,807,1211,748,1212,753,890,812,826,824"/>
<area shape="rect" href="rgw__tools_8cc.html#a046ce687b6bb951e6c13fcb3b373bbe5" title=" " alt="" coords="916,821,1074,848"/>
<area shape="poly" title=" " alt="" coords="825,832,900,832,900,837,825,837"/>
<area shape="rect" href="classrgw_1_1sal_1_1_rados_store.html#abe4f0602b771d5549a02c0a326d6a832" title=" " alt="" coords="910,669,1080,696"/>
<area shape="poly" title=" " alt="" coords="815,818,840,807,865,787,888,763,962,704,965,708,891,767,869,791,843,812,817,823"/>
<area shape="poly" title=" " alt="" coords="1051,818,1099,800,1122,784,1147,767,1179,755,1211,747,1212,752,1181,760,1149,772,1125,788,1101,805,1053,823"/>
<area shape="poly" title=" " alt="" coords="811,1089,889,1060,922,1053,952,1052,1004,1054,1028,1053,1051,1048,1074,1037,1098,1017,1119,987,1127,957,1127,926,1122,895,1117,863,1116,831,1125,799,1146,768,1160,756,1177,749,1210,742,1211,747,1178,754,1163,761,1150,771,1129,801,1122,832,1122,863,1127,894,1132,926,1133,958,1124,989,1102,1020,1077,1041,1053,1053,1029,1058,1004,1059,952,1057,923,1059,890,1065,812,1094"/>
<area shape="poly" title=" " alt="" coords="823,1131,844,1145,861,1169,868,1193,874,1215,891,1237,897,1241,894,1245,888,1241,869,1218,862,1194,856,1171,840,1149,820,1135"/>
<area shape="poly" title=" " alt="" coords="822,1118,909,1127,908,1132,821,1123"/>
<area shape="poly" title=" " alt="" coords="823,1130,844,1145,857,1164,864,1182,867,1219,870,1254,878,1271,891,1287,904,1297,901,1301,888,1291,873,1274,865,1255,862,1219,859,1184,853,1166,840,1149,820,1134"/>
<area shape="poly" title=" " alt="" coords="821,1104,874,1098,874,1103,822,1109"/>
<area shape="poly" title=" " alt="" coords="820,1090,840,1078,855,1063,865,1049,874,1034,888,1017,924,984,959,957,963,961,927,988,892,1021,878,1037,869,1052,860,1067,843,1082,823,1094"/>
<area shape="rect" href="rgw__basic__types_8cc.html#a0a8bb5599abd436eaa39a31634f1f5e3" title=" " alt="" coords="949,1200,1041,1227"/>
<area shape="poly" title=" " alt="" coords="814,1133,843,1144,950,1191,948,1196,841,1149,812,1138"/>
<area shape="poly" title=" " alt="" coords="954,1201,947,1191,952,1181,968,1175,995,1173,1024,1176,1039,1183,1037,1188,1023,1181,995,1179,969,1181,955,1185,952,1191,958,1198"/>
<area shape="poly" title=" " alt="" coords="805,1038,1098,959,1115,936,1122,913,1123,890,1121,865,1119,841,1120,816,1128,792,1146,767,1160,756,1177,749,1211,742,1212,747,1179,754,1163,761,1150,771,1133,794,1126,817,1124,841,1127,865,1129,889,1127,914,1120,939,1102,964,807,1043"/>
<area shape="poly" title=" " alt="" coords="827,1066,844,1078,859,1098,866,1119,868,1160,870,1199,877,1218,892,1237,895,1240,892,1244,888,1241,872,1221,864,1200,863,1160,861,1120,854,1101,840,1082,824,1071"/>
<area shape="poly" title=" " alt="" coords="813,1066,843,1078,867,1095,891,1111,910,1118,908,1123,888,1116,864,1099,840,1082,811,1071"/>
<area shape="poly" title=" " alt="" coords="828,1066,844,1078,862,1105,870,1132,871,1159,868,1185,865,1212,866,1237,873,1262,892,1287,905,1298,901,1302,888,1291,869,1265,860,1238,860,1211,862,1185,865,1159,865,1133,857,1107,840,1082,825,1071"/>
<area shape="poly" title=" " alt="" coords="833,1063,879,1069,878,1075,832,1068"/>
<area shape="poly" title=" " alt="" coords="770,1039,822,1003,889,966,923,952,925,957,891,970,825,1008,773,1043"/>
<area shape="poly" title=" " alt="" coords="536,448,574,421,613,386,627,370,636,356,646,342,662,327,672,321,674,325,665,331,650,345,640,359,631,373,617,390,577,425,540,452"/>
<area shape="poly" title=" " alt="" coords="541,448,578,422,613,386,623,369,629,353,634,322,640,292,648,276,661,261,666,257,669,261,665,265,652,279,645,293,639,323,634,355,628,372,617,390,581,426,544,452"/>
<area shape="poly" title=" " alt="" coords="575,448,614,430,628,417,637,404,646,391,662,378,675,371,678,375,665,382,650,394,641,407,632,421,617,434,578,452"/>
<area shape="poly" title=" " alt="" coords="580,475,616,487,664,511,684,518,682,523,662,516,614,492,578,480"/>
<area shape="rect" href="rgw__lc__tier_8cc.html#a812ed54814d78a19a8d2edb5c3660750" title=" " alt="" coords="689,459,816,501"/>
<area shape="poly" title=" " alt="" coords="616,468,674,472,673,477,616,473"/>
<area shape="rect" href="classrgw_1_1sal_1_1_object.html#aebb3bdb3cf25ba091ff6034a877fe976" title=" " alt="" coords="683,392,822,435"/>
<area shape="poly" title=" " alt="" coords="581,447,667,429,668,434,583,453"/>
<area shape="poly" title=" " alt="" coords="816,466,879,460,953,461,1030,473,1067,486,1101,503,1130,524,1155,550,1195,608,1223,667,1241,715,1236,716,1219,669,1191,610,1151,553,1126,528,1099,508,1065,491,1029,478,953,466,880,465,817,471"/>
<area shape="poly" title=" " alt="" coords="815,459,840,445,882,407,919,363,973,282,977,285,924,366,886,410,843,449,818,463"/>
<area shape="poly" title=" " alt="" coords="818,498,843,511,858,522,867,533,877,544,891,554,904,560,902,565,888,558,873,548,863,537,854,526,840,516,815,503"/>
<area shape="poly" title=" " alt="" coords="801,717,840,699,854,688,863,676,873,664,889,655,946,637,994,633,1042,640,1101,655,1134,667,1166,683,1219,718,1216,723,1164,688,1132,672,1099,660,1041,645,994,638,947,642,891,660,876,669,867,679,858,691,843,704,803,722"/>
<area shape="poly" title=" " alt="" coords="816,717,912,697,913,702,817,723"/>
<area shape="poly" title=" " alt="" coords="820,771,889,763,1070,749,1211,743,1211,748,1070,755,890,768,820,777"/>
<area shape="poly" title=" " alt="" coords="815,768,840,756,854,746,864,735,873,724,888,712,917,699,919,704,891,717,877,728,868,738,858,750,843,761,817,773"/>
<area shape="poly" title=" " alt="" coords="583,257,672,276,671,281,581,262"/>
<area shape="poly" title=" " alt="" coords="597,240,654,238,654,243,597,245"/>
<area shape="poly" title=" " alt="" coords="593,257,617,268,633,283,642,299,650,313,665,327,678,334,675,339,662,331,646,317,637,301,629,287,614,273,591,262"/>
<area shape="poly" title=" " alt="" coords="599,255,617,269,638,300,647,331,647,361,642,392,638,422,638,452,645,482,665,512,668,514,664,518,661,515,641,484,632,453,633,422,637,391,641,361,642,331,634,302,613,273,596,260"/>
<area shape="poly" title=" " alt="" coords="599,256,617,269,634,291,642,313,643,357,644,401,650,423,665,445,677,455,674,459,661,448,646,425,638,402,638,358,637,314,629,293,613,273,596,260"/>
<area shape="poly" title=" " alt="" coords="598,257,617,269,630,282,637,296,643,324,648,352,654,365,665,378,672,384,668,388,661,382,650,368,643,353,637,325,632,298,625,285,614,273,596,261"/>
</map>
</div>
<div class="dynheader">
이 함수를 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="rgw__lc__tier_8cc_a2906f85e3121b2099d65e0f9047553e9_icgraph.png" border="0" usemap="#argw__lc__tier_8cc_a2906f85e3121b2099d65e0f9047553e9_icgraph" alt=""/></div>
<map name="argw__lc__tier_8cc_a2906f85e3121b2099d65e0f9047553e9_icgraph" id="argw__lc__tier_8cc_a2906f85e3121b2099d65e0f9047553e9_icgraph">
<area shape="rect" title=" " alt="" coords="216,5,370,48"/>
<area shape="rect" href="class_l_c_op_action___transition.html#a11d3ae78bd110a735d53bb533e68b59b" title=" " alt="" coords="5,5,168,48"/>
<area shape="poly" title=" " alt="" coords="200,29,168,29,168,24,200,24"/>
</map>
</div>

</div>
</div>
<h2 class="groupheader">변수 문서화</h2>
<a id="ab30fa20f4f9223d982f8557c890c3886" name="ab30fa20f4f9223d982f8557c890c3886"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab30fa20f4f9223d982f8557c890c3886">&#9670;&#160;</a></span>keep_headers</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::set&lt;string&gt; keep_headers</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<b>초기값:</b><div class="fragment"><div class="line">= { <span class="stringliteral">&quot;CONTENT_TYPE&quot;</span>,</div>
<div class="line">                                         <span class="stringliteral">&quot;CONTENT_ENCODING&quot;</span>,</div>
<div class="line">                                         <span class="stringliteral">&quot;CONTENT_DISPOSITION&quot;</span>,</div>
<div class="line">                                         <span class="stringliteral">&quot;CONTENT_LANGUAGE&quot;</span> }</div>
</div><!-- fragment -->
<p class="definition"><a class="el" href="rgw__lc__tier_8cc_source.html">rgw_lc_tier.cc</a> 파일의 <a class="el" href="rgw__lc__tier_8cc_source.html#l00184">184</a> 번째 라인에서 정의되었습니다.</p>
<div class="fragment"><div class="line"><span class="lineno">  184</span>                                     { <span class="stringliteral">&quot;CONTENT_TYPE&quot;</span>,</div>
<div class="line"><span class="lineno">  185</span>                                         <span class="stringliteral">&quot;CONTENT_ENCODING&quot;</span>,</div>
<div class="line"><span class="lineno">  186</span>                                         <span class="stringliteral">&quot;CONTENT_DISPOSITION&quot;</span>,</div>
<div class="line"><span class="lineno">  187</span>                                         <span class="stringliteral">&quot;CONTENT_LANGUAGE&quot;</span> };</div>
</div><!-- fragment -->
</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_275089585c7fc1b5fd5d7d42c69cb1da.html">D:</a></li><li class="navelem"><a class="el" href="dir_e050007e69745d5ed950ce16eed8ed32.html">git</a></li><li class="navelem"><a class="el" href="dir_6892619f22dbda2b625e50c3cfe72b21.html">ceph</a></li><li class="navelem"><a class="el" href="dir_07a1996344d62ceb57ddf5fb87d6faf4.html">src</a></li><li class="navelem"><a class="el" href="dir_ddd8fa4b54862d6407f5aaf9a827e64e.html">rgw</a></li><li class="navelem"><a class="el" href="rgw__lc__tier_8cc.html">rgw_lc_tier.cc</a></li>
    <li class="footer">다음에 의해 생성됨 :  <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8 </li>
  </ul>
</div>
</body>
</html>
