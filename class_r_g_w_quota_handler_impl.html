<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="ko">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>My Project: RGWQuotaHandlerImpl 클래스 참조</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">My Project
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- 다음에 의해 생성됨 :  Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','검색');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('class_r_g_w_quota_handler_impl.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">로딩중...</div>
<div class="SRStatus" id="Searching">검색중...</div>
<div class="SRStatus" id="NoMatches">일치하는것 없음</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public 멤버 함수</a> &#124;
<a href="#pri-methods">Private 멤버 함수</a> &#124;
<a href="#pri-attribs">Private 속성</a> &#124;
<a href="class_r_g_w_quota_handler_impl-members.html">모든 멤버 목록</a>  </div>
  <div class="headertitle"><div class="title">RGWQuotaHandlerImpl 클래스 참조</div></div>
</div><!--header-->
<div class="contents">
<div class="dynheader">
RGWQuotaHandlerImpl에 대한 상속 다이어그램 : </div>
<div class="dyncontent">
<div class="center"><img src="class_r_g_w_quota_handler_impl__inherit__graph.png" border="0" usemap="#a_r_g_w_quota_handler_impl_inherit__map" alt="Inheritance graph"/></div>
<map name="a_r_g_w_quota_handler_impl_inherit__map" id="a_r_g_w_quota_handler_impl_inherit__map">
<area shape="rect" title=" " alt="" coords="5,251,172,448"/>
<area shape="rect" href="class_r_g_w_quota_handler.html" title=" " alt="" coords="9,5,168,203"/>
<area shape="poly" title=" " alt="" coords="91,218,91,251,86,251,86,218"/>
</map>
</div>
<div class="dynheader">
RGWQuotaHandlerImpl에 대한 협력 다이어그램:</div>
<div class="dyncontent">
<div class="center"><img src="class_r_g_w_quota_handler_impl__coll__graph.png" border="0" usemap="#a_r_g_w_quota_handler_impl_coll__map" alt="Collaboration graph"/></div>
<map name="a_r_g_w_quota_handler_impl_coll__map" id="a_r_g_w_quota_handler_impl_coll__map">
<area shape="rect" title=" " alt="" coords="141,1299,308,1453"/>
<area shape="rect" href="class_r_g_w_quota_handler.html" title=" " alt="" coords="5,912,164,1109"/>
<area shape="poly" title=" " alt="" coords="130,1122,198,1298,193,1300,125,1124"/>
<area shape="rect" href="classrgw_1_1sal_1_1_store.html" title="Base singleton representing a Store or stacking layer" alt="" coords="125,5,287,304"/>
<area shape="poly" title=" " alt="" coords="211,304,226,1282,221,1282,206,304"/>
<area shape="rect" href="class_r_g_w_quota_cache.html" title=" " alt="" coords="240,368,417,731"/>
<area shape="poly" title=" " alt="" coords="255,303,270,351,265,353,250,304"/>
<area shape="rect" href="class_r_g_w_quota_cache.html" title=" " alt="" coords="508,368,685,731"/>
<area shape="poly" title=" " alt="" coords="289,293,301,302,320,311,337,315,371,314,405,312,424,316,445,326,474,347,499,373,496,377,470,351,442,330,423,321,405,317,371,319,337,321,318,316,298,306,286,297"/>
<area shape="rect" href="class_r_g_w_bucket_stats_cache.html" title=" " alt="" coords="240,923,417,1099"/>
<area shape="poly" title=" " alt="" coords="299,1099,273,1173,250,1251,243,1283,238,1282,245,1250,268,1171,293,1098"/>
<area shape="poly" title=" " alt="" coords="331,746,331,923,326,923,326,746"/>
<area shape="rect" href="classlru__map.html" title=" " alt="" coords="312,112,476,197"/>
<area shape="poly" title=" " alt="" coords="390,198,364,352,359,351,385,197"/>
<area shape="rect" href="class_r_g_w_user_stats_cache.html" title=" " alt="" coords="519,795,696,1227"/>
<area shape="poly" title=" " alt="" coords="521,1130,477,1181,430,1229,378,1273,324,1314,320,1309,375,1269,427,1225,474,1177,517,1127"/>
<area shape="rect" href="class_r_g_w_user_stats_cache_1_1_buckets_sync_thread.html" title=" " alt="" coords="537,1291,685,1461"/>
<area shape="poly" title=" " alt="" coords="566,1226,570,1266,572,1274,567,1275,565,1267,561,1227"/>
<area shape="rect" href="class_r_g_w_user_stats_cache_1_1_user_sync_thread.html" title=" " alt="" coords="801,1291,949,1461"/>
<area shape="poly" title=" " alt="" coords="698,1130,806,1276,801,1279,694,1133"/>
<area shape="poly" title=" " alt="" coords="604,745,605,795,600,795,599,746"/>
<area shape="rect" href="classlru__map.html" title=" " alt="" coords="515,112,679,197"/>
<area shape="poly" title=" " alt="" coords="599,197,599,351,594,351,594,197"/>
<area shape="poly" title=" " alt="" coords="608,1291,607,1244,613,1244,613,1291"/>
<area shape="rect" title=" " alt="" coords="859,976,911,1045"/>
<area shape="poly" title=" " alt="" coords="868,1060,819,1160,785,1216,747,1268,718,1298,687,1325,683,1321,714,1295,743,1265,781,1213,814,1157,863,1058"/>
<area shape="poly" title=" " alt="" coords="922,1049,955,1094,984,1148,994,1178,999,1208,998,1238,990,1268,973,1297,951,1322,947,1319,969,1294,985,1266,993,1237,994,1208,989,1179,979,1150,950,1097,918,1052"/>
<area shape="poly" title=" " alt="" coords="860,1292,844,1252,815,1207,781,1165,707,1092,710,1088,785,1162,819,1204,848,1249,865,1290"/>
</map>
</div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public 멤버 함수</h2></td></tr>
<tr class="memitem:a2e729a988c4e4d54c774cc1c0f23f912" id="r_a2e729a988c4e4d54c774cc1c0f23f912"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_r_g_w_quota_handler_impl.html#a2e729a988c4e4d54c774cc1c0f23f912">RGWQuotaHandlerImpl</a> (const DoutPrefixProvider *<a class="el" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>, <a class="el" href="classrgw_1_1sal_1_1_store.html">rgw::sal::Store</a> *_store, bool quota_threads)</td></tr>
<tr class="separator:a2e729a988c4e4d54c774cc1c0f23f912"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaf5b2b22ac51ae35927f0dfaf37484a4" id="r_aaf5b2b22ac51ae35927f0dfaf37484a4"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_r_g_w_quota_handler_impl.html#aaf5b2b22ac51ae35927f0dfaf37484a4">check_quota</a> (const DoutPrefixProvider *<a class="el" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>, const <a class="el" href="structrgw__user.html">rgw_user</a> &amp;user, <a class="el" href="structrgw__bucket.html">rgw_bucket</a> &amp;bucket, <a class="el" href="struct_r_g_w_quota_info.html">RGWQuotaInfo</a> &amp;user_quota, <a class="el" href="struct_r_g_w_quota_info.html">RGWQuotaInfo</a> &amp;bucket_quota, uint64_t num_objs, uint64_t size, optional_yield y) override</td></tr>
<tr class="separator:aaf5b2b22ac51ae35927f0dfaf37484a4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3bd36a6e863adb8bec2fd0a2785eacf0" id="r_a3bd36a6e863adb8bec2fd0a2785eacf0"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_r_g_w_quota_handler_impl.html#a3bd36a6e863adb8bec2fd0a2785eacf0">update_stats</a> (const <a class="el" href="structrgw__user.html">rgw_user</a> &amp;user, <a class="el" href="structrgw__bucket.html">rgw_bucket</a> &amp;bucket, int obj_delta, uint64_t added_bytes, uint64_t removed_bytes) override</td></tr>
<tr class="separator:a3bd36a6e863adb8bec2fd0a2785eacf0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad76fe78cebb6129b60a700510a8cfc6d" id="r_ad76fe78cebb6129b60a700510a8cfc6d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_r_g_w_quota_handler_impl.html#ad76fe78cebb6129b60a700510a8cfc6d">check_bucket_shards</a> (const DoutPrefixProvider *<a class="el" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>, uint64_t max_objs_per_shard, uint64_t num_shards, uint64_t num_objs, bool &amp;need_resharding, uint32_t *suggested_num_shards) override</td></tr>
<tr class="separator:ad76fe78cebb6129b60a700510a8cfc6d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_class_r_g_w_quota_handler"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_class_r_g_w_quota_handler')"><img src="closed.png" alt="-"/>&#160;<a class="el" href="class_r_g_w_quota_handler.html">RGWQuotaHandler</a>(으)로부터 상속된 Public 멤버 함수</td></tr>
<tr class="memitem:a197b92043c2b5bddee1d7b2efd12501e inherit pub_methods_class_r_g_w_quota_handler" id="r_a197b92043c2b5bddee1d7b2efd12501e"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_r_g_w_quota_handler.html#a197b92043c2b5bddee1d7b2efd12501e">RGWQuotaHandler</a> ()</td></tr>
<tr class="separator:a197b92043c2b5bddee1d7b2efd12501e inherit pub_methods_class_r_g_w_quota_handler"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:affc6e8fa2238490820444812c2b83e24 inherit pub_methods_class_r_g_w_quota_handler" id="r_affc6e8fa2238490820444812c2b83e24"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_r_g_w_quota_handler.html#affc6e8fa2238490820444812c2b83e24">~RGWQuotaHandler</a> ()</td></tr>
<tr class="separator:affc6e8fa2238490820444812c2b83e24 inherit pub_methods_class_r_g_w_quota_handler"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pri-methods" name="pri-methods"></a>
Private 멤버 함수</h2></td></tr>
<tr class="memitem:ae7ec6fbf8b8bf2f97d89c72219863ae2" id="r_ae7ec6fbf8b8bf2f97d89c72219863ae2"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_r_g_w_quota_handler_impl.html#ae7ec6fbf8b8bf2f97d89c72219863ae2">check_quota</a> (const DoutPrefixProvider *<a class="el" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>, const char *const entity, const <a class="el" href="struct_r_g_w_quota_info.html">RGWQuotaInfo</a> &amp;quota, const <a class="el" href="struct_r_g_w_storage_stats.html">RGWStorageStats</a> &amp;stats, const uint64_t num_objs, const uint64_t size)</td></tr>
<tr class="separator:ae7ec6fbf8b8bf2f97d89c72219863ae2"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pri-attribs" name="pri-attribs"></a>
Private 속성</h2></td></tr>
<tr class="memitem:a1970ab7b35e3c71b3cda81a51f1187c7" id="r_a1970ab7b35e3c71b3cda81a51f1187c7"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classrgw_1_1sal_1_1_store.html">rgw::sal::Store</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_r_g_w_quota_handler_impl.html#a1970ab7b35e3c71b3cda81a51f1187c7">store</a></td></tr>
<tr class="separator:a1970ab7b35e3c71b3cda81a51f1187c7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aad5abe3d313d712fb77facdeb716dbf3" id="r_aad5abe3d313d712fb77facdeb716dbf3"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_r_g_w_bucket_stats_cache.html">RGWBucketStatsCache</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_r_g_w_quota_handler_impl.html#aad5abe3d313d712fb77facdeb716dbf3">bucket_stats_cache</a></td></tr>
<tr class="separator:aad5abe3d313d712fb77facdeb716dbf3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a351304f4cce3302fa0b9593408beeedd" id="r_a351304f4cce3302fa0b9593408beeedd"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_r_g_w_user_stats_cache.html">RGWUserStatsCache</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_r_g_w_quota_handler_impl.html#a351304f4cce3302fa0b9593408beeedd">user_stats_cache</a></td></tr>
<tr class="separator:a351304f4cce3302fa0b9593408beeedd"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="inherited" name="inherited"></a>
추가로 상속된 멤버들</h2></td></tr>
<tr class="inherit_header pub_static_methods_class_r_g_w_quota_handler"><td colspan="2" onclick="javascript:toggleInherit('pub_static_methods_class_r_g_w_quota_handler')"><img src="closed.png" alt="-"/>&#160;<a class="el" href="class_r_g_w_quota_handler.html">RGWQuotaHandler</a>(으)로부터 상속된 정적 Public 멤버 함수</td></tr>
<tr class="memitem:a911cf8073bc33f8e35dfb86d5317e261 inherit pub_static_methods_class_r_g_w_quota_handler" id="r_a911cf8073bc33f8e35dfb86d5317e261"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="class_r_g_w_quota_handler.html">RGWQuotaHandler</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_r_g_w_quota_handler.html#a911cf8073bc33f8e35dfb86d5317e261">generate_handler</a> (const DoutPrefixProvider *<a class="el" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>, <a class="el" href="classrgw_1_1sal_1_1_store.html">rgw::sal::Store</a> *<a class="el" href="rgw__admin_8cc.html#a6fdb26d64b14d837b60e83a6ca3e2863">store</a>, bool quota_threads)</td></tr>
<tr class="separator:a911cf8073bc33f8e35dfb86d5317e261 inherit pub_static_methods_class_r_g_w_quota_handler"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2355cc22ab896260fa4d2c26cc3f106c inherit pub_static_methods_class_r_g_w_quota_handler" id="r_a2355cc22ab896260fa4d2c26cc3f106c"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_r_g_w_quota_handler.html#a2355cc22ab896260fa4d2c26cc3f106c">free_handler</a> (<a class="el" href="class_r_g_w_quota_handler.html">RGWQuotaHandler</a> *handler)</td></tr>
<tr class="separator:a2355cc22ab896260fa4d2c26cc3f106c inherit pub_static_methods_class_r_g_w_quota_handler"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">상세한 설명</h2>
<div class="textblock">
<p class="definition"><a class="el" href="rgw__quota_8cc_source.html">rgw_quota.cc</a> 파일의 <a class="el" href="rgw__quota_8cc_source.html#l00864">864</a> 번째 라인에서 정의되었습니다.</p>
</div><h2 class="groupheader">생성자 &amp; 소멸자 문서화</h2>
<a id="a2e729a988c4e4d54c774cc1c0f23f912" name="a2e729a988c4e4d54c774cc1c0f23f912"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2e729a988c4e4d54c774cc1c0f23f912">&#9670;&#160;</a></span>RGWQuotaHandlerImpl()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">RGWQuotaHandlerImpl::RGWQuotaHandlerImpl </td>
          <td>(</td>
          <td class="paramtype">const DoutPrefixProvider *&#160;</td>
          <td class="paramname"><em>dpp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classrgw_1_1sal_1_1_store.html">rgw::sal::Store</a> *&#160;</td>
          <td class="paramname"><em>_store</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>quota_threads</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition"><a class="el" href="rgw__quota_8cc_source.html">rgw_quota.cc</a> 파일의 <a class="el" href="rgw__quota_8cc_source.html#l00900">900</a> 번째 라인에서 정의되었습니다.</p>
<div class="fragment"><div class="line"><span class="lineno">  900</span>                                                                                              : <a class="code hl_variable" href="class_r_g_w_quota_handler_impl.html#a1970ab7b35e3c71b3cda81a51f1187c7">store</a>(_store),</div>
<div class="line"><span class="lineno">  901</span>                                    <a class="code hl_variable" href="class_r_g_w_quota_handler_impl.html#aad5abe3d313d712fb77facdeb716dbf3">bucket_stats_cache</a>(_store),</div>
<div class="line"><span class="lineno">  902</span>                                    <a class="code hl_variable" href="class_r_g_w_quota_handler_impl.html#a351304f4cce3302fa0b9593408beeedd">user_stats_cache</a>(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>, _store, quota_threads) {}</div>
<div class="ttc" id="aclass_r_g_w_quota_handler_impl_html_a1970ab7b35e3c71b3cda81a51f1187c7"><div class="ttname"><a href="class_r_g_w_quota_handler_impl.html#a1970ab7b35e3c71b3cda81a51f1187c7">RGWQuotaHandlerImpl::store</a></div><div class="ttdeci">rgw::sal::Store * store</div><div class="ttdef"><b>Definition</b> <a href="rgw__quota_8cc_source.html#l00865">rgw_quota.cc:865</a></div></div>
<div class="ttc" id="aclass_r_g_w_quota_handler_impl_html_a351304f4cce3302fa0b9593408beeedd"><div class="ttname"><a href="class_r_g_w_quota_handler_impl.html#a351304f4cce3302fa0b9593408beeedd">RGWQuotaHandlerImpl::user_stats_cache</a></div><div class="ttdeci">RGWUserStatsCache user_stats_cache</div><div class="ttdef"><b>Definition</b> <a href="rgw__quota_8cc_source.html#l00867">rgw_quota.cc:867</a></div></div>
<div class="ttc" id="aclass_r_g_w_quota_handler_impl_html_aad5abe3d313d712fb77facdeb716dbf3"><div class="ttname"><a href="class_r_g_w_quota_handler_impl.html#aad5abe3d313d712fb77facdeb716dbf3">RGWQuotaHandlerImpl::bucket_stats_cache</a></div><div class="ttdeci">RGWBucketStatsCache bucket_stats_cache</div><div class="ttdef"><b>Definition</b> <a href="rgw__quota_8cc_source.html#l00866">rgw_quota.cc:866</a></div></div>
<div class="ttc" id="argw__admin_8cc_html_afe3e74bcdf0327f8777c02b83cfea5b5"><div class="ttname"><a href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a></div><div class="ttdeci">static const DoutPrefixProvider * dpp()</div><div class="ttdef"><b>Definition</b> <a href="rgw__admin_8cc_source.html#l00081">rgw_admin.cc:81</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">멤버 함수 문서화</h2>
<a id="ad76fe78cebb6129b60a700510a8cfc6d" name="ad76fe78cebb6129b60a700510a8cfc6d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad76fe78cebb6129b60a700510a8cfc6d">&#9670;&#160;</a></span>check_bucket_shards()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void RGWQuotaHandlerImpl::check_bucket_shards </td>
          <td>(</td>
          <td class="paramtype">const DoutPrefixProvider *&#160;</td>
          <td class="paramname"><em>dpp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t&#160;</td>
          <td class="paramname"><em>max_objs_per_shard</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t&#160;</td>
          <td class="paramname"><em>num_shards</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t&#160;</td>
          <td class="paramname"><em>num_objs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool &amp;&#160;</td>
          <td class="paramname"><em>need_resharding</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t *&#160;</td>
          <td class="paramname"><em>suggested_num_shards</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p><a class="el" href="class_r_g_w_quota_handler.html#aa6d89f6b9d17d9e31ed7fbc0328032c5">RGWQuotaHandler</a>를 구현.</p>

<p class="definition"><a class="el" href="rgw__quota_8cc_source.html">rgw_quota.cc</a> 파일의 <a class="el" href="rgw__quota_8cc_source.html#l00955">955</a> 번째 라인에서 정의되었습니다.</p>
<div class="fragment"><div class="line"><span class="lineno">  957</span>  {</div>
<div class="line"><span class="lineno">  958</span>    <span class="keywordflow">if</span> (num_objs &gt; num_shards * max_objs_per_shard) {</div>
<div class="line"><span class="lineno">  959</span>      ldpp_dout(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>, 0) &lt;&lt; __func__ &lt;&lt; <span class="stringliteral">&quot;: resharding needed: stats.num_objects=&quot;</span> &lt;&lt; num_objs</div>
<div class="line"><span class="lineno">  960</span>             &lt;&lt; <span class="stringliteral">&quot; shard max_objects=&quot;</span> &lt;&lt;  max_objs_per_shard * num_shards &lt;&lt; dendl;</div>
<div class="line"><span class="lineno">  961</span>      need_resharding = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  962</span>      <span class="keywordflow">if</span> (suggested_num_shards) {</div>
<div class="line"><span class="lineno">  963</span>        *suggested_num_shards = num_objs * 2 / max_objs_per_shard;</div>
<div class="line"><span class="lineno">  964</span>      }</div>
<div class="line"><span class="lineno">  965</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  966</span>      need_resharding = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  967</span>    }</div>
<div class="line"><span class="lineno">  968</span>  }</div>
</div><!-- fragment --><div class="dynheader">
이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="class_r_g_w_quota_handler_impl_ad76fe78cebb6129b60a700510a8cfc6d_cgraph.png" border="0" usemap="#aclass_r_g_w_quota_handler_impl_ad76fe78cebb6129b60a700510a8cfc6d_cgraph" alt=""/></div>
<map name="aclass_r_g_w_quota_handler_impl_ad76fe78cebb6129b60a700510a8cfc6d_cgraph" id="aclass_r_g_w_quota_handler_impl_ad76fe78cebb6129b60a700510a8cfc6d_cgraph">
<area shape="rect" title=" " alt="" coords="5,5,162,48"/>
<area shape="rect" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5" title=" " alt="" coords="210,13,252,40"/>
<area shape="poly" title=" " alt="" coords="162,24,194,24,194,29,162,29"/>
</map>
</div>

</div>
</div>
<a id="ae7ec6fbf8b8bf2f97d89c72219863ae2" name="ae7ec6fbf8b8bf2f97d89c72219863ae2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae7ec6fbf8b8bf2f97d89c72219863ae2">&#9670;&#160;</a></span>check_quota() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int RGWQuotaHandlerImpl::check_quota </td>
          <td>(</td>
          <td class="paramtype">const DoutPrefixProvider *&#160;</td>
          <td class="paramname"><em>dpp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *const&#160;</td>
          <td class="paramname"><em>entity</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="struct_r_g_w_quota_info.html">RGWQuotaInfo</a> &amp;&#160;</td>
          <td class="paramname"><em>quota</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="struct_r_g_w_storage_stats.html">RGWStorageStats</a> &amp;&#160;</td>
          <td class="paramname"><em>stats</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint64_t&#160;</td>
          <td class="paramname"><em>num_objs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint64_t&#160;</td>
          <td class="paramname"><em>size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition"><a class="el" href="rgw__quota_8cc_source.html">rgw_quota.cc</a> 파일의 <a class="el" href="rgw__quota_8cc_source.html#l00869">869</a> 번째 라인에서 정의되었습니다.</p>
<div class="fragment"><div class="line"><span class="lineno">  874</span>                                       {</div>
<div class="line"><span class="lineno">  875</span>    <span class="keywordflow">if</span> (!quota.<a class="code hl_variable" href="struct_r_g_w_quota_info.html#a4dbb532beaa44f6aba6766bf845315cd">enabled</a>) {</div>
<div class="line"><span class="lineno">  876</span>      <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">  877</span>    }</div>
<div class="line"><span class="lineno">  878</span> </div>
<div class="line"><span class="lineno">  879</span>    <span class="keyword">const</span> <span class="keyword">auto</span>&amp; quota_applier = <a class="code hl_function" href="class_r_g_w_quota_info_applier.html#aaed4437847ec578a7d8affdcf22b07b7">RGWQuotaInfoApplier::get_instance</a>(quota);</div>
<div class="line"><span class="lineno">  880</span> </div>
<div class="line"><span class="lineno">  881</span>    ldpp_dout(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>, 20) &lt;&lt; entity</div>
<div class="line"><span class="lineno">  882</span>                            &lt;&lt; <span class="stringliteral">&quot; quota: max_objects=&quot;</span> &lt;&lt; quota.<a class="code hl_variable" href="struct_r_g_w_quota_info.html#a425e1d2833678631d7d27fef8cd1da1f">max_objects</a></div>
<div class="line"><span class="lineno">  883</span>                            &lt;&lt; <span class="stringliteral">&quot; max_size=&quot;</span> &lt;&lt; quota.<a class="code hl_variable" href="struct_r_g_w_quota_info.html#a1488b728b6c6a2a50189503dddbf5916">max_size</a> &lt;&lt; dendl;</div>
<div class="line"><span class="lineno">  884</span> </div>
<div class="line"><span class="lineno">  885</span> </div>
<div class="line"><span class="lineno">  886</span>    <span class="keywordflow">if</span> (quota_applier.is_num_objs_exceeded(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>, entity, quota, stats, num_objs)) {</div>
<div class="line"><span class="lineno">  887</span>      <span class="keywordflow">return</span> -<a class="code hl_define" href="rgw__common_8h.html#af44220570bdd27787dd5fd5c5105fed2">ERR_QUOTA_EXCEEDED</a>;</div>
<div class="line"><span class="lineno">  888</span>    }</div>
<div class="line"><span class="lineno">  889</span> </div>
<div class="line"><span class="lineno">  890</span>    <span class="keywordflow">if</span> (quota_applier.is_size_exceeded(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>, entity, quota, stats, size)) {</div>
<div class="line"><span class="lineno">  891</span>      <span class="keywordflow">return</span> -<a class="code hl_define" href="rgw__common_8h.html#af44220570bdd27787dd5fd5c5105fed2">ERR_QUOTA_EXCEEDED</a>;</div>
<div class="line"><span class="lineno">  892</span>    }</div>
<div class="line"><span class="lineno">  893</span> </div>
<div class="line"><span class="lineno">  894</span>    ldpp_dout(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>, 20) &lt;&lt; entity &lt;&lt; <span class="stringliteral">&quot; quota OK:&quot;</span></div>
<div class="line"><span class="lineno">  895</span>                            &lt;&lt; <span class="stringliteral">&quot; stats.num_objects=&quot;</span> &lt;&lt; stats.<a class="code hl_variable" href="struct_r_g_w_storage_stats.html#a02f3ca55fc6ab6f81ee2ae401289e1f4">num_objects</a></div>
<div class="line"><span class="lineno">  896</span>                            &lt;&lt; <span class="stringliteral">&quot; stats.size=&quot;</span> &lt;&lt; stats.<a class="code hl_variable" href="struct_r_g_w_storage_stats.html#a77261d5571d293874c35c65ab3fd1dec">size</a> &lt;&lt; dendl;</div>
<div class="line"><span class="lineno">  897</span>    <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">  898</span>  }</div>
<div class="ttc" id="aclass_r_g_w_quota_info_applier_html_aaed4437847ec578a7d8affdcf22b07b7"><div class="ttname"><a href="class_r_g_w_quota_info_applier.html#aaed4437847ec578a7d8affdcf22b07b7">RGWQuotaInfoApplier::get_instance</a></div><div class="ttdeci">static const RGWQuotaInfoApplier &amp; get_instance(const RGWQuotaInfo &amp;qinfo)</div><div class="ttdef"><b>Definition</b> <a href="rgw__quota_8cc_source.html#l00850">rgw_quota.cc:850</a></div></div>
<div class="ttc" id="argw__common_8h_html_af44220570bdd27787dd5fd5c5105fed2"><div class="ttname"><a href="rgw__common_8h.html#af44220570bdd27787dd5fd5c5105fed2">ERR_QUOTA_EXCEEDED</a></div><div class="ttdeci">#define ERR_QUOTA_EXCEEDED</div><div class="ttdef"><b>Definition</b> <a href="rgw__common_8h_source.html#l00220">rgw_common.h:220</a></div></div>
<div class="ttc" id="astruct_r_g_w_quota_info_html_a1488b728b6c6a2a50189503dddbf5916"><div class="ttname"><a href="struct_r_g_w_quota_info.html#a1488b728b6c6a2a50189503dddbf5916">RGWQuotaInfo::max_size</a></div><div class="ttdeci">int64_t max_size</div><div class="ttdef"><b>Definition</b> <a href="rgw__quota_8h_source.html#l00041">rgw_quota.h:41</a></div></div>
<div class="ttc" id="astruct_r_g_w_quota_info_html_a425e1d2833678631d7d27fef8cd1da1f"><div class="ttname"><a href="struct_r_g_w_quota_info.html#a425e1d2833678631d7d27fef8cd1da1f">RGWQuotaInfo::max_objects</a></div><div class="ttdeci">int64_t max_objects</div><div class="ttdef"><b>Definition</b> <a href="rgw__quota_8h_source.html#l00042">rgw_quota.h:42</a></div></div>
<div class="ttc" id="astruct_r_g_w_quota_info_html_a4dbb532beaa44f6aba6766bf845315cd"><div class="ttname"><a href="struct_r_g_w_quota_info.html#a4dbb532beaa44f6aba6766bf845315cd">RGWQuotaInfo::enabled</a></div><div class="ttdeci">bool enabled</div><div class="ttdef"><b>Definition</b> <a href="rgw__quota_8h_source.html#l00043">rgw_quota.h:43</a></div></div>
<div class="ttc" id="astruct_r_g_w_storage_stats_html_a02f3ca55fc6ab6f81ee2ae401289e1f4"><div class="ttname"><a href="struct_r_g_w_storage_stats.html#a02f3ca55fc6ab6f81ee2ae401289e1f4">RGWStorageStats::num_objects</a></div><div class="ttdeci">uint64_t num_objects</div><div class="ttdef"><b>Definition</b> <a href="rgw__common_8h_source.html#l01192">rgw_common.h:1192</a></div></div>
<div class="ttc" id="astruct_r_g_w_storage_stats_html_a77261d5571d293874c35c65ab3fd1dec"><div class="ttname"><a href="struct_r_g_w_storage_stats.html#a77261d5571d293874c35c65ab3fd1dec">RGWStorageStats::size</a></div><div class="ttdeci">uint64_t size</div><div class="ttdef"><b>Definition</b> <a href="rgw__common_8h_source.html#l01190">rgw_common.h:1190</a></div></div>
</div><!-- fragment --><div class="dynheader">
이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="class_r_g_w_quota_handler_impl_ae7ec6fbf8b8bf2f97d89c72219863ae2_cgraph.png" border="0" usemap="#aclass_r_g_w_quota_handler_impl_ae7ec6fbf8b8bf2f97d89c72219863ae2_cgraph" alt=""/></div>
<map name="aclass_r_g_w_quota_handler_impl_ae7ec6fbf8b8bf2f97d89c72219863ae2_cgraph" id="aclass_r_g_w_quota_handler_impl_ae7ec6fbf8b8bf2f97d89c72219863ae2_cgraph">
<area shape="rect" title=" " alt="" coords="5,27,162,69"/>
<area shape="rect" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5" title=" " alt="" coords="263,5,305,32"/>
<area shape="poly" title=" " alt="" coords="161,34,247,21,247,27,162,39"/>
<area shape="rect" href="class_r_g_w_quota_info_applier.html#aaed4437847ec578a7d8affdcf22b07b7" title=" " alt="" coords="210,56,358,99"/>
<area shape="poly" title=" " alt="" coords="162,57,195,62,194,67,161,62"/>
</map>
</div>
<div class="dynheader">
이 함수를 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="class_r_g_w_quota_handler_impl_ae7ec6fbf8b8bf2f97d89c72219863ae2_icgraph.png" border="0" usemap="#aclass_r_g_w_quota_handler_impl_ae7ec6fbf8b8bf2f97d89c72219863ae2_icgraph" alt=""/></div>
<map name="aclass_r_g_w_quota_handler_impl_ae7ec6fbf8b8bf2f97d89c72219863ae2_icgraph" id="aclass_r_g_w_quota_handler_impl_ae7ec6fbf8b8bf2f97d89c72219863ae2_icgraph">
<area shape="rect" title=" " alt="" coords="210,5,366,48"/>
<area shape="rect" href="class_r_g_w_quota_handler_impl.html#aaf5b2b22ac51ae35927f0dfaf37484a4" title=" " alt="" coords="5,5,162,48"/>
<area shape="poly" title=" " alt="" coords="194,29,162,29,162,24,194,24"/>
</map>
</div>

</div>
</div>
<a id="aaf5b2b22ac51ae35927f0dfaf37484a4" name="aaf5b2b22ac51ae35927f0dfaf37484a4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaf5b2b22ac51ae35927f0dfaf37484a4">&#9670;&#160;</a></span>check_quota() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int RGWQuotaHandlerImpl::check_quota </td>
          <td>(</td>
          <td class="paramtype">const DoutPrefixProvider *&#160;</td>
          <td class="paramname"><em>dpp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structrgw__user.html">rgw_user</a> &amp;&#160;</td>
          <td class="paramname"><em>user</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structrgw__bucket.html">rgw_bucket</a> &amp;&#160;</td>
          <td class="paramname"><em>bucket</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_r_g_w_quota_info.html">RGWQuotaInfo</a> &amp;&#160;</td>
          <td class="paramname"><em>user_quota</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_r_g_w_quota_info.html">RGWQuotaInfo</a> &amp;&#160;</td>
          <td class="paramname"><em>bucket_quota</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t&#160;</td>
          <td class="paramname"><em>num_objs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t&#160;</td>
          <td class="paramname"><em>size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">optional_yield&#160;</td>
          <td class="paramname"><em>y</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p><a class="el" href="class_r_g_w_quota_handler.html#afdb75ad5e25b7e53849af9384cd7323d">RGWQuotaHandler</a>를 구현.</p>

<p class="definition"><a class="el" href="rgw__quota_8cc_source.html">rgw_quota.cc</a> 파일의 <a class="el" href="rgw__quota_8cc_source.html#l00904">904</a> 번째 라인에서 정의되었습니다.</p>
<div class="fragment"><div class="line"><span class="lineno">  910</span>                                                    {</div>
<div class="line"><span class="lineno">  911</span> </div>
<div class="line"><span class="lineno">  912</span>    <span class="keywordflow">if</span> (!bucket_quota.<a class="code hl_variable" href="struct_r_g_w_quota_info.html#a4dbb532beaa44f6aba6766bf845315cd">enabled</a> &amp;&amp; !user_quota.<a class="code hl_variable" href="struct_r_g_w_quota_info.html#a4dbb532beaa44f6aba6766bf845315cd">enabled</a>) {</div>
<div class="line"><span class="lineno">  913</span>      <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">  914</span>    }</div>
<div class="line"><span class="lineno">  915</span> </div>
<div class="line"><span class="lineno">  916</span>    <span class="comment">/*</span></div>
<div class="line"><span class="lineno">  917</span><span class="comment">     * we need to fetch bucket stats if the user quota is enabled, because</span></div>
<div class="line"><span class="lineno">  918</span><span class="comment">     * the whole system relies on us periodically updating the user&#39;s bucket</span></div>
<div class="line"><span class="lineno">  919</span><span class="comment">     * stats in the user&#39;s header, this happens in get_stats() if we actually</span></div>
<div class="line"><span class="lineno">  920</span><span class="comment">     * fetch that info and not rely on cached data</span></div>
<div class="line"><span class="lineno">  921</span><span class="comment">     */</span></div>
<div class="line"><span class="lineno">  922</span> </div>
<div class="line"><span class="lineno">  923</span>    <span class="keyword">const</span> DoutPrefix dp(<a class="code hl_variable" href="class_r_g_w_quota_handler_impl.html#a1970ab7b35e3c71b3cda81a51f1187c7">store</a>-&gt;<a class="code hl_function" href="classrgw_1_1sal_1_1_store.html#aca84a6ff80011b26fcd2fa8526c1152e">ctx</a>(), <a class="code hl_define" href="rgw__quota_8cc.html#a5580a2b7c4743669bb9ca22b07e84324">dout_subsys</a>, <span class="stringliteral">&quot;rgw quota handler: &quot;</span>);</div>
<div class="line"><span class="lineno">  924</span>    <span class="keywordflow">if</span> (bucket_quota.<a class="code hl_variable" href="struct_r_g_w_quota_info.html#a4dbb532beaa44f6aba6766bf845315cd">enabled</a>) {</div>
<div class="line"><span class="lineno">  925</span>      <a class="code hl_struct" href="struct_r_g_w_storage_stats.html">RGWStorageStats</a> <a class="code hl_function" href="rgw__bucket_8cc.html#a35cf32ec610fdd121342bbbf1de1b58f">bucket_stats</a>;</div>
<div class="line"><span class="lineno">  926</span>      <span class="keywordtype">int</span> ret = <a class="code hl_variable" href="class_r_g_w_quota_handler_impl.html#aad5abe3d313d712fb77facdeb716dbf3">bucket_stats_cache</a>.<a class="code hl_function" href="class_r_g_w_quota_cache.html#a813a6ad13e4aa200582c656d7cb7a3ec">get_stats</a>(user, bucket, <a class="code hl_function" href="rgw__bucket_8cc.html#a35cf32ec610fdd121342bbbf1de1b58f">bucket_stats</a>, y, &amp;dp);</div>
<div class="line"><span class="lineno">  927</span>      <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno">  928</span>        <span class="keywordflow">return</span> ret;</div>
<div class="line"><span class="lineno">  929</span>      }</div>
<div class="line"><span class="lineno">  930</span>      ret = <a class="code hl_function" href="class_r_g_w_quota_handler_impl.html#ae7ec6fbf8b8bf2f97d89c72219863ae2">check_quota</a>(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>, <span class="stringliteral">&quot;bucket&quot;</span>, bucket_quota, <a class="code hl_function" href="rgw__bucket_8cc.html#a35cf32ec610fdd121342bbbf1de1b58f">bucket_stats</a>, num_objs, size);</div>
<div class="line"><span class="lineno">  931</span>      <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno">  932</span>        <span class="keywordflow">return</span> ret;</div>
<div class="line"><span class="lineno">  933</span>      }</div>
<div class="line"><span class="lineno">  934</span>    }</div>
<div class="line"><span class="lineno">  935</span> </div>
<div class="line"><span class="lineno">  936</span>    <span class="keywordflow">if</span> (user_quota.<a class="code hl_variable" href="struct_r_g_w_quota_info.html#a4dbb532beaa44f6aba6766bf845315cd">enabled</a>) {</div>
<div class="line"><span class="lineno">  937</span>      <a class="code hl_struct" href="struct_r_g_w_storage_stats.html">RGWStorageStats</a> user_stats;</div>
<div class="line"><span class="lineno">  938</span>      <span class="keywordtype">int</span> ret = <a class="code hl_variable" href="class_r_g_w_quota_handler_impl.html#a351304f4cce3302fa0b9593408beeedd">user_stats_cache</a>.<a class="code hl_function" href="class_r_g_w_quota_cache.html#a813a6ad13e4aa200582c656d7cb7a3ec">get_stats</a>(user, bucket, user_stats, y, &amp;dp);</div>
<div class="line"><span class="lineno">  939</span>      <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno">  940</span>        <span class="keywordflow">return</span> ret;</div>
<div class="line"><span class="lineno">  941</span>      }</div>
<div class="line"><span class="lineno">  942</span>      ret = <a class="code hl_function" href="class_r_g_w_quota_handler_impl.html#ae7ec6fbf8b8bf2f97d89c72219863ae2">check_quota</a>(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>, <span class="stringliteral">&quot;user&quot;</span>, user_quota, user_stats, num_objs, size);</div>
<div class="line"><span class="lineno">  943</span>      <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno">  944</span>        <span class="keywordflow">return</span> ret;</div>
<div class="line"><span class="lineno">  945</span>      }</div>
<div class="line"><span class="lineno">  946</span>    }</div>
<div class="line"><span class="lineno">  947</span>    <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">  948</span>  }</div>
<div class="ttc" id="aclass_r_g_w_quota_cache_html_a813a6ad13e4aa200582c656d7cb7a3ec"><div class="ttname"><a href="class_r_g_w_quota_cache.html#a813a6ad13e4aa200582c656d7cb7a3ec">RGWQuotaCache::get_stats</a></div><div class="ttdeci">int get_stats(const rgw_user &amp;user, const rgw_bucket &amp;bucket, RGWStorageStats &amp;stats, optional_yield y, const DoutPrefixProvider *dpp)</div><div class="ttdef"><b>Definition</b> <a href="rgw__quota_8cc_source.html#l00169">rgw_quota.cc:169</a></div></div>
<div class="ttc" id="aclass_r_g_w_quota_handler_impl_html_ae7ec6fbf8b8bf2f97d89c72219863ae2"><div class="ttname"><a href="class_r_g_w_quota_handler_impl.html#ae7ec6fbf8b8bf2f97d89c72219863ae2">RGWQuotaHandlerImpl::check_quota</a></div><div class="ttdeci">int check_quota(const DoutPrefixProvider *dpp, const char *const entity, const RGWQuotaInfo &amp;quota, const RGWStorageStats &amp;stats, const uint64_t num_objs, const uint64_t size)</div><div class="ttdef"><b>Definition</b> <a href="rgw__quota_8cc_source.html#l00869">rgw_quota.cc:869</a></div></div>
<div class="ttc" id="aclassrgw_1_1sal_1_1_store_html_aca84a6ff80011b26fcd2fa8526c1152e"><div class="ttname"><a href="classrgw_1_1sal_1_1_store.html#aca84a6ff80011b26fcd2fa8526c1152e">rgw::sal::Store::ctx</a></div><div class="ttdeci">virtual CephContext * ctx(void)=0</div></div>
<div class="ttc" id="argw__bucket_8cc_html_a35cf32ec610fdd121342bbbf1de1b58f"><div class="ttname"><a href="rgw__bucket_8cc.html#a35cf32ec610fdd121342bbbf1de1b58f">bucket_stats</a></div><div class="ttdeci">static int bucket_stats(rgw::sal::Store *store, const std::string &amp;tenant_name, const std::string &amp;bucket_name, Formatter *formatter, const DoutPrefixProvider *dpp)</div><div class="ttdef"><b>Definition</b> <a href="rgw__bucket_8cc_source.html#l01064">rgw_bucket.cc:1064</a></div></div>
<div class="ttc" id="argw__quota_8cc_html_a5580a2b7c4743669bb9ca22b07e84324"><div class="ttname"><a href="rgw__quota_8cc.html#a5580a2b7c4743669bb9ca22b07e84324">dout_subsys</a></div><div class="ttdeci">#define dout_subsys</div><div class="ttdef"><b>Definition</b> <a href="rgw__quota_8cc_source.html#l00036">rgw_quota.cc:36</a></div></div>
<div class="ttc" id="astruct_r_g_w_storage_stats_html"><div class="ttname"><a href="struct_r_g_w_storage_stats.html">RGWStorageStats</a></div><div class="ttdef"><b>Definition</b> <a href="rgw__common_8h_source.html#l01187">rgw_common.h:1188</a></div></div>
</div><!-- fragment --><div class="dynheader">
이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="class_r_g_w_quota_handler_impl_aaf5b2b22ac51ae35927f0dfaf37484a4_cgraph.png" border="0" usemap="#aclass_r_g_w_quota_handler_impl_aaf5b2b22ac51ae35927f0dfaf37484a4_cgraph" alt=""/></div>
<map name="aclass_r_g_w_quota_handler_impl_aaf5b2b22ac51ae35927f0dfaf37484a4_cgraph" id="aclass_r_g_w_quota_handler_impl_aaf5b2b22ac51ae35927f0dfaf37484a4_cgraph">
<area shape="rect" title=" " alt="" coords="5,315,162,357"/>
<area shape="rect" href="rgw__bucket_8cc.html#a35cf32ec610fdd121342bbbf1de1b58f" title=" " alt="" coords="240,205,336,232"/>
<area shape="poly" title=" " alt="" coords="108,312,153,276,208,242,224,235,226,239,211,246,156,281,111,316"/>
<area shape="rect" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5" title=" " alt="" coords="469,323,511,349"/>
<area shape="poly" title=" " alt="" coords="162,333,453,333,453,339,162,339"/>
<area shape="rect" href="class_r_g_w_quota_handler_impl.html#ae7ec6fbf8b8bf2f97d89c72219863ae2" title=" " alt="" coords="210,424,366,467"/>
<area shape="poly" title=" " alt="" coords="119,356,211,410,221,415,219,420,208,414,117,360"/>
<area shape="rect" href="classrgw_1_1sal_1_1_store.html#aca84a6ff80011b26fcd2fa8526c1152e" title=" " alt="" coords="222,373,354,400"/>
<area shape="poly" title=" " alt="" coords="163,353,217,366,215,372,162,358"/>
<area shape="rect" href="class_r_g_w_quota_cache.html#a813a6ad13e4aa200582c656d7cb7a3ec" title=" " alt="" coords="212,256,364,299"/>
<area shape="poly" title=" " alt="" coords="159,312,196,301,198,306,161,317"/>
<area shape="rect" href="class_r_g_w_obj_tags.html#ae20671c7b01934c02b4973f0f7852722" title=" " alt="" coords="414,171,565,197"/>
<area shape="poly" title=" " alt="" coords="336,208,398,197,399,202,337,213"/>
<area shape="poly" title=" " alt="" coords="338,227,368,242,384,259,392,276,400,293,416,309,434,319,455,326,453,332,432,324,412,313,396,296,388,278,380,262,364,246,335,232"/>
<area shape="rect" href="class_r_g_w_obj_tags.html#a85df3cffc0bc7633d6a0ad55c9580996" title=" " alt="" coords="419,221,560,248"/>
<area shape="poly" title=" " alt="" coords="337,220,404,225,403,231,336,225"/>
<area shape="rect" href="rgw__bucket_8cc.html#a3225a18fb56e3e837251e72e75ff1e49" title=" " alt="" coords="419,272,560,299"/>
<area shape="poly" title=" " alt="" coords="332,230,367,241,434,264,433,269,365,247,331,235"/>
<area shape="rect" href="rgw__admin_8cc.html#ab596b9e1a1fc78e98a4d13a66578b658" title=" " alt="" coords="443,29,537,56"/>
<area shape="poly" title=" " alt="" coords="295,203,339,138,373,99,412,66,427,58,429,62,416,70,377,103,343,141,299,206"/>
<area shape="rect" href="classrgw_1_1sal_1_1_store.html#a3308ce50125b19ccdf5ce7f69958bd67" title=" " alt="" coords="424,80,555,123"/>
<area shape="poly" title=" " alt="" coords="306,203,353,169,413,132,422,128,424,132,415,137,356,174,309,207"/>
<area shape="poly" title=" " alt="" coords="455,172,449,162,453,152,467,146,490,144,514,147,527,153,524,158,512,152,490,149,469,151,457,156,455,161,460,169"/>
<area shape="rect" href="struct_r_g_w_storage_stats.html#aa53ed43c259eb0003d7340e24f6f2dc5" title=" " alt="" coords="613,247,783,273"/>
<area shape="poly" title=" " alt="" coords="560,274,597,270,598,275,561,279"/>
<area shape="rect" href="rgw__keystone_8cc.html#a97140a592af15535629f284708b8f5b4" title=" " alt="" coords="662,297,734,324"/>
<area shape="poly" title=" " alt="" coords="561,291,647,302,646,307,560,297"/>
<area shape="rect" href="rgw__metadata_8cc.html#afe3faceaf052fbdeecdef76da8c6f58b" title=" " alt="" coords="841,221,936,248"/>
<area shape="poly" title=" " alt="" coords="783,246,825,240,826,246,784,251"/>
<area shape="rect" href="rgw__common_8h.html#ac97df4d17de6c87b72aaa9aee01a503a" title=" " alt="" coords="831,272,946,299"/>
<area shape="poly" title=" " alt="" coords="784,269,815,273,815,278,783,274"/>
<area shape="poly" title=" " alt="" coords="455,30,449,21,453,11,467,5,490,3,514,5,527,12,524,16,512,10,490,8,469,10,457,15,455,20,460,27"/>
<area shape="poly" title=" " alt="" coords="341,421,365,410,454,356,457,361,367,414,344,426"/>
<area shape="rect" href="class_r_g_w_quota_info_applier.html#aaed4437847ec578a7d8affdcf22b07b7" title=" " alt="" coords="416,424,564,467"/>
<area shape="poly" title=" " alt="" coords="366,443,400,443,400,448,366,448"/>
<area shape="poly" title=" " alt="" coords="364,297,454,323,453,328,363,302"/>
</map>
</div>

</div>
</div>
<a id="a3bd36a6e863adb8bec2fd0a2785eacf0" name="a3bd36a6e863adb8bec2fd0a2785eacf0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3bd36a6e863adb8bec2fd0a2785eacf0">&#9670;&#160;</a></span>update_stats()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void RGWQuotaHandlerImpl::update_stats </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structrgw__user.html">rgw_user</a> &amp;&#160;</td>
          <td class="paramname"><em>user</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structrgw__bucket.html">rgw_bucket</a> &amp;&#160;</td>
          <td class="paramname"><em>bucket</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>obj_delta</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t&#160;</td>
          <td class="paramname"><em>added_bytes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t&#160;</td>
          <td class="paramname"><em>removed_bytes</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p><a class="el" href="class_r_g_w_quota_handler.html#acfa6d1f55fb3e1aa944b7cdb7d1be70f">RGWQuotaHandler</a>를 구현.</p>

<p class="definition"><a class="el" href="rgw__quota_8cc_source.html">rgw_quota.cc</a> 파일의 <a class="el" href="rgw__quota_8cc_source.html#l00950">950</a> 번째 라인에서 정의되었습니다.</p>
<div class="fragment"><div class="line"><span class="lineno">  950</span>                                                                                                                                    {</div>
<div class="line"><span class="lineno">  951</span>    <a class="code hl_variable" href="class_r_g_w_quota_handler_impl.html#aad5abe3d313d712fb77facdeb716dbf3">bucket_stats_cache</a>.<a class="code hl_function" href="class_r_g_w_quota_cache.html#a7ea15230a380a71157bb292992e4f607">adjust_stats</a>(user, bucket, obj_delta, added_bytes, removed_bytes);</div>
<div class="line"><span class="lineno">  952</span>    <a class="code hl_variable" href="class_r_g_w_quota_handler_impl.html#a351304f4cce3302fa0b9593408beeedd">user_stats_cache</a>.<a class="code hl_function" href="class_r_g_w_quota_cache.html#a7ea15230a380a71157bb292992e4f607">adjust_stats</a>(user, bucket, obj_delta, added_bytes, removed_bytes);</div>
<div class="line"><span class="lineno">  953</span>  }</div>
<div class="ttc" id="aclass_r_g_w_quota_cache_html_a7ea15230a380a71157bb292992e4f607"><div class="ttname"><a href="class_r_g_w_quota_cache.html#a7ea15230a380a71157bb292992e4f607">RGWQuotaCache::adjust_stats</a></div><div class="ttdeci">void adjust_stats(const rgw_user &amp;user, rgw_bucket &amp;bucket, int objs_delta, uint64_t added_bytes, uint64_t removed_bytes)</div><div class="ttdef"><b>Definition</b> <a href="rgw__quota_8cc_source.html#l00240">rgw_quota.cc:240</a></div></div>
</div><!-- fragment --><div class="dynheader">
이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="class_r_g_w_quota_handler_impl_a3bd36a6e863adb8bec2fd0a2785eacf0_cgraph.png" border="0" usemap="#aclass_r_g_w_quota_handler_impl_a3bd36a6e863adb8bec2fd0a2785eacf0_cgraph" alt=""/></div>
<map name="aclass_r_g_w_quota_handler_impl_a3bd36a6e863adb8bec2fd0a2785eacf0_cgraph" id="aclass_r_g_w_quota_handler_impl_a3bd36a6e863adb8bec2fd0a2785eacf0_cgraph">
<area shape="rect" title=" " alt="" coords="5,5,162,48"/>
<area shape="rect" href="class_r_g_w_quota_cache.html#a7ea15230a380a71157bb292992e4f607" title=" " alt="" coords="210,5,378,48"/>
<area shape="poly" title=" " alt="" coords="162,24,194,24,194,29,162,29"/>
</map>
</div>

</div>
</div>
<h2 class="groupheader">멤버 데이터 문서화</h2>
<a id="aad5abe3d313d712fb77facdeb716dbf3" name="aad5abe3d313d712fb77facdeb716dbf3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aad5abe3d313d712fb77facdeb716dbf3">&#9670;&#160;</a></span>bucket_stats_cache</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_r_g_w_bucket_stats_cache.html">RGWBucketStatsCache</a> RGWQuotaHandlerImpl::bucket_stats_cache</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition"><a class="el" href="rgw__quota_8cc_source.html">rgw_quota.cc</a> 파일의 <a class="el" href="rgw__quota_8cc_source.html#l00866">866</a> 번째 라인에서 정의되었습니다.</p>

</div>
</div>
<a id="a1970ab7b35e3c71b3cda81a51f1187c7" name="a1970ab7b35e3c71b3cda81a51f1187c7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1970ab7b35e3c71b3cda81a51f1187c7">&#9670;&#160;</a></span>store</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classrgw_1_1sal_1_1_store.html">rgw::sal::Store</a>* RGWQuotaHandlerImpl::store</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition"><a class="el" href="rgw__quota_8cc_source.html">rgw_quota.cc</a> 파일의 <a class="el" href="rgw__quota_8cc_source.html#l00865">865</a> 번째 라인에서 정의되었습니다.</p>

</div>
</div>
<a id="a351304f4cce3302fa0b9593408beeedd" name="a351304f4cce3302fa0b9593408beeedd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a351304f4cce3302fa0b9593408beeedd">&#9670;&#160;</a></span>user_stats_cache</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_r_g_w_user_stats_cache.html">RGWUserStatsCache</a> RGWQuotaHandlerImpl::user_stats_cache</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition"><a class="el" href="rgw__quota_8cc_source.html">rgw_quota.cc</a> 파일의 <a class="el" href="rgw__quota_8cc_source.html#l00867">867</a> 번째 라인에서 정의되었습니다.</p>

</div>
</div>
<hr/>이 클래스에 대한 문서화 페이지는 다음의 파일로부터 생성되었습니다.:<ul>
<li>D:/git/ceph/src/rgw/<a class="el" href="rgw__quota_8cc_source.html">rgw_quota.cc</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="class_r_g_w_quota_handler_impl.html">RGWQuotaHandlerImpl</a></li>
    <li class="footer">다음에 의해 생성됨 :  <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8 </li>
  </ul>
</div>
</body>
</html>
