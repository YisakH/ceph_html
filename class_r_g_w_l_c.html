<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="ko">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>My Project: RGWLC 클래스 참조</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">My Project
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- 다음에 의해 생성됨 :  Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','검색');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('class_r_g_w_l_c.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">로딩중...</div>
<div class="SRStatus" id="Searching">검색중...</div>
<div class="SRStatus" id="NoMatches">일치하는것 없음</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">클래스</a> &#124;
<a href="#pub-methods">Public 멤버 함수</a> &#124;
<a href="#pub-attribs">Public 속성</a> &#124;
<a href="#pri-methods">Private 멤버 함수</a> &#124;
<a href="#pri-attribs">Private 속성</a> &#124;
<a href="#friends">Friends</a> &#124;
<a href="class_r_g_w_l_c-members.html">모든 멤버 목록</a>  </div>
  <div class="headertitle"><div class="title">RGWLC 클래스 참조</div></div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="rgw__lc_8h_source.html">rgw_lc.h</a>&gt;</code></p>
<div class="dynheader">
RGWLC에 대한 상속 다이어그램 : </div>
<div class="dyncontent">
<div class="center"><img src="class_r_g_w_l_c__inherit__graph.png" border="0" usemap="#a_r_g_w_l_c_inherit__map" alt="Inheritance graph"/></div>
<map name="a_r_g_w_l_c_inherit__map" id="a_r_g_w_l_c_inherit__map">
<area shape="rect" title=" " alt="" coords="5,123,195,576"/>
<area shape="rect" title=" " alt="" coords="41,5,159,75"/>
<area shape="poly" title=" " alt="" coords="103,90,103,123,97,123,97,90"/>
</map>
</div>
<div class="dynheader">
RGWLC에 대한 협력 다이어그램:</div>
<div class="dyncontent">
<div class="center"><img src="class_r_g_w_l_c__coll__graph.png" border="0" usemap="#a_r_g_w_l_c_coll__map" alt="Collaboration graph"/></div>
<map name="a_r_g_w_l_c_coll__map" id="a_r_g_w_l_c_coll__map">
<area shape="rect" title=" " alt="" coords="135,368,325,779"/>
<area shape="rect" title=" " alt="" coords="5,120,124,189"/>
<area shape="poly" title=" " alt="" coords="86,202,151,367,146,369,81,204"/>
<area shape="rect" href="classrgw_1_1sal_1_1_store.html" title="Base singleton representing a Store or stacking layer" alt="" coords="149,5,311,304"/>
<area shape="poly" title=" " alt="" coords="233,304,233,351,227,351,227,304"/>
<area shape="rect" title=" " alt="" coords="335,120,381,189"/>
<area shape="poly" title=" " alt="" coords="354,190,326,305,311,353,306,351,321,303,349,189"/>
</map>
</div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
클래스</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_r_g_w_l_c_1_1_l_c_worker.html">LCWorker</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_r_g_w_l_c_1_1_work_pool.html">WorkPool</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public 멤버 함수</h2></td></tr>
<tr class="memitem:a7da3877a243df6e51d740c65f4019bdb" id="r_a7da3877a243df6e51d740c65f4019bdb"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_r_g_w_l_c.html#a7da3877a243df6e51d740c65f4019bdb">RGWLC</a> ()</td></tr>
<tr class="separator:a7da3877a243df6e51d740c65f4019bdb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a92ff5273be7fddcd7460311540bc06e0" id="r_a92ff5273be7fddcd7460311540bc06e0"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_r_g_w_l_c.html#a92ff5273be7fddcd7460311540bc06e0">~RGWLC</a> ()</td></tr>
<tr class="separator:a92ff5273be7fddcd7460311540bc06e0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a835d35d68cb14af9df63e34f8036486f" id="r_a835d35d68cb14af9df63e34f8036486f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_r_g_w_l_c.html#a835d35d68cb14af9df63e34f8036486f">initialize</a> (CephContext *_cct, <a class="el" href="classrgw_1_1sal_1_1_store.html">rgw::sal::Store</a> *_store)</td></tr>
<tr class="separator:a835d35d68cb14af9df63e34f8036486f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6fe2a3a5b826d5eafabfb2e581d6b6dd" id="r_a6fe2a3a5b826d5eafabfb2e581d6b6dd"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_r_g_w_l_c.html#a6fe2a3a5b826d5eafabfb2e581d6b6dd">finalize</a> ()</td></tr>
<tr class="separator:a6fe2a3a5b826d5eafabfb2e581d6b6dd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acc373fbfbc796d885451e99ac82e2fdb" id="r_acc373fbfbc796d885451e99ac82e2fdb"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_r_g_w_l_c.html#acc373fbfbc796d885451e99ac82e2fdb">process</a> (<a class="el" href="class_r_g_w_l_c_1_1_l_c_worker.html">LCWorker</a> *worker, const std::unique_ptr&lt; <a class="el" href="classrgw_1_1sal_1_1_bucket.html">rgw::sal::Bucket</a> &gt; &amp;optional_bucket, bool once)</td></tr>
<tr class="separator:acc373fbfbc796d885451e99ac82e2fdb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abf0323a15e56c0155ce3d73cb3ec42a9" id="r_abf0323a15e56c0155ce3d73cb3ec42a9"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_r_g_w_l_c.html#abf0323a15e56c0155ce3d73cb3ec42a9">process</a> (int index, int max_lock_secs, <a class="el" href="class_r_g_w_l_c_1_1_l_c_worker.html">LCWorker</a> *worker, bool once)</td></tr>
<tr class="separator:abf0323a15e56c0155ce3d73cb3ec42a9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aac8510c6f2221507b728cd6dd12efda1" id="r_aac8510c6f2221507b728cd6dd12efda1"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_r_g_w_l_c.html#aac8510c6f2221507b728cd6dd12efda1">process_bucket</a> (int index, int max_lock_secs, <a class="el" href="class_r_g_w_l_c_1_1_l_c_worker.html">LCWorker</a> *worker, const std::string &amp;bucket_entry_marker, bool once)</td></tr>
<tr class="separator:aac8510c6f2221507b728cd6dd12efda1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a090674bf9727b02d5565a09b8b00c0ac" id="r_a090674bf9727b02d5565a09b8b00c0ac"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_r_g_w_l_c.html#a090674bf9727b02d5565a09b8b00c0ac">if_already_run_today</a> (time_t start_date)</td></tr>
<tr class="separator:a090674bf9727b02d5565a09b8b00c0ac"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae6273bb6a6e6103e07f75427d3054d80" id="r_ae6273bb6a6e6103e07f75427d3054d80"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_r_g_w_l_c.html#ae6273bb6a6e6103e07f75427d3054d80">expired_session</a> (time_t started)</td></tr>
<tr class="separator:ae6273bb6a6e6103e07f75427d3054d80"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6a4ba660b6ce88ac0e3aabeabfc97724" id="r_a6a4ba660b6ce88ac0e3aabeabfc97724"><td class="memItemLeft" align="right" valign="top">time_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_r_g_w_l_c.html#a6a4ba660b6ce88ac0e3aabeabfc97724">thread_stop_at</a> ()</td></tr>
<tr class="separator:a6a4ba660b6ce88ac0e3aabeabfc97724"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0c212d50193ba37a608295df660f483a" id="r_a0c212d50193ba37a608295df660f483a"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_r_g_w_l_c.html#a0c212d50193ba37a608295df660f483a">list_lc_progress</a> (std::string &amp;marker, uint32_t max_entries, std::vector&lt; <a class="el" href="structrgw_1_1sal_1_1_lifecycle_1_1_l_c_entry.html">rgw::sal::Lifecycle::LCEntry</a> &gt; &amp;, int &amp;index)</td></tr>
<tr class="separator:a0c212d50193ba37a608295df660f483a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3fc9ac25fb0bc57507b0f59674041341" id="r_a3fc9ac25fb0bc57507b0f59674041341"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_r_g_w_l_c.html#a3fc9ac25fb0bc57507b0f59674041341">bucket_lc_prepare</a> (int index, <a class="el" href="class_r_g_w_l_c_1_1_l_c_worker.html">LCWorker</a> *worker)</td></tr>
<tr class="separator:a3fc9ac25fb0bc57507b0f59674041341"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a269e0f1145a60261564f4c44005818f1" id="r_a269e0f1145a60261564f4c44005818f1"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_r_g_w_l_c.html#a269e0f1145a60261564f4c44005818f1">bucket_lc_process</a> (std::string &amp;shard_id, <a class="el" href="class_r_g_w_l_c_1_1_l_c_worker.html">LCWorker</a> *worker, time_t stop_at, bool once)</td></tr>
<tr class="separator:a269e0f1145a60261564f4c44005818f1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa6a0111e4104bcef717cb150265788f3" id="r_aa6a0111e4104bcef717cb150265788f3"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_r_g_w_l_c.html#aa6a0111e4104bcef717cb150265788f3">bucket_lc_post</a> (int index, int max_lock_sec, <a class="el" href="structrgw_1_1sal_1_1_lifecycle_1_1_l_c_entry.html">rgw::sal::Lifecycle::LCEntry</a> &amp;entry, int &amp;result, <a class="el" href="class_r_g_w_l_c_1_1_l_c_worker.html">LCWorker</a> *worker)</td></tr>
<tr class="separator:aa6a0111e4104bcef717cb150265788f3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a56a8bfc53226184f5010175b54129056" id="r_a56a8bfc53226184f5010175b54129056"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_r_g_w_l_c.html#a56a8bfc53226184f5010175b54129056">going_down</a> ()</td></tr>
<tr class="separator:a56a8bfc53226184f5010175b54129056"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaed412a23853ca2755b87b2216c8c0fd" id="r_aaed412a23853ca2755b87b2216c8c0fd"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_r_g_w_l_c.html#aaed412a23853ca2755b87b2216c8c0fd">start_processor</a> ()</td></tr>
<tr class="separator:aaed412a23853ca2755b87b2216c8c0fd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a99e20a09150c9e107ac11e2de4d7fe05" id="r_a99e20a09150c9e107ac11e2de4d7fe05"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_r_g_w_l_c.html#a99e20a09150c9e107ac11e2de4d7fe05">stop_processor</a> ()</td></tr>
<tr class="separator:a99e20a09150c9e107ac11e2de4d7fe05"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a431abdaeb4e6a53dfb7382cb408a0e12" id="r_a431abdaeb4e6a53dfb7382cb408a0e12"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_r_g_w_l_c.html#a431abdaeb4e6a53dfb7382cb408a0e12">set_bucket_config</a> (<a class="el" href="classrgw_1_1sal_1_1_bucket.html">rgw::sal::Bucket</a> *bucket, const <a class="el" href="group___r_g_w_s_a_l.html#gab1b58d5f8747844fae5ddfb48fadf7bc">rgw::sal::Attrs</a> &amp;bucket_attrs, <a class="el" href="class_r_g_w_lifecycle_configuration.html">RGWLifecycleConfiguration</a> *config)</td></tr>
<tr class="separator:a431abdaeb4e6a53dfb7382cb408a0e12"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae217a0af681e59a9e935bd90d9c15c14" id="r_ae217a0af681e59a9e935bd90d9c15c14"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_r_g_w_l_c.html#ae217a0af681e59a9e935bd90d9c15c14">remove_bucket_config</a> (<a class="el" href="classrgw_1_1sal_1_1_bucket.html">rgw::sal::Bucket</a> *bucket, const <a class="el" href="group___r_g_w_s_a_l.html#gab1b58d5f8747844fae5ddfb48fadf7bc">rgw::sal::Attrs</a> &amp;bucket_attrs)</td></tr>
<tr class="separator:ae217a0af681e59a9e935bd90d9c15c14"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac059f10c0fd6259c3a45cc72f2258e68" id="r_ac059f10c0fd6259c3a45cc72f2258e68"><td class="memItemLeft" align="right" valign="top">CephContext *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_r_g_w_l_c.html#ac059f10c0fd6259c3a45cc72f2258e68">get_cct</a> () const override</td></tr>
<tr class="separator:ac059f10c0fd6259c3a45cc72f2258e68"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adbc26f4f4b40b092b72702dfdfc2e799" id="r_adbc26f4f4b40b092b72702dfdfc2e799"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classrgw_1_1sal_1_1_lifecycle.html">rgw::sal::Lifecycle</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_r_g_w_l_c.html#adbc26f4f4b40b092b72702dfdfc2e799">get_lc</a> () const</td></tr>
<tr class="separator:adbc26f4f4b40b092b72702dfdfc2e799"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2917ae38502197a4e371e291357be6e6" id="r_a2917ae38502197a4e371e291357be6e6"><td class="memItemLeft" align="right" valign="top">unsigned&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_r_g_w_l_c.html#a2917ae38502197a4e371e291357be6e6">get_subsys</a> () const</td></tr>
<tr class="separator:a2917ae38502197a4e371e291357be6e6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a93a90f00c787c5392fa7d9344944692d" id="r_a93a90f00c787c5392fa7d9344944692d"><td class="memItemLeft" align="right" valign="top">std::ostream &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_r_g_w_l_c.html#a93a90f00c787c5392fa7d9344944692d">gen_prefix</a> (std::ostream &amp;out) const</td></tr>
<tr class="separator:a93a90f00c787c5392fa7d9344944692d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-attribs" name="pub-attribs"></a>
Public 속성</h2></td></tr>
<tr class="memitem:a4b582e14cb5d026e9d8c2ee549dfc063" id="r_a4b582e14cb5d026e9d8c2ee549dfc063"><td class="memItemLeft" align="right" valign="top">std::vector&lt; std::unique_ptr&lt; <a class="el" href="class_r_g_w_l_c_1_1_l_c_worker.html">RGWLC::LCWorker</a> &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_r_g_w_l_c.html#a4b582e14cb5d026e9d8c2ee549dfc063">workers</a></td></tr>
<tr class="separator:a4b582e14cb5d026e9d8c2ee549dfc063"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pri-methods" name="pri-methods"></a>
Private 멤버 함수</h2></td></tr>
<tr class="memitem:a47c69344f2b132180807be7326cef44f" id="r_a47c69344f2b132180807be7326cef44f"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_r_g_w_l_c.html#a47c69344f2b132180807be7326cef44f">handle_multipart_expiration</a> (<a class="el" href="classrgw_1_1sal_1_1_bucket.html">rgw::sal::Bucket</a> *target, const std::multimap&lt; std::string, <a class="el" href="structlc__op.html">lc_op</a> &gt; &amp;prefix_map, <a class="el" href="class_r_g_w_l_c_1_1_l_c_worker.html">LCWorker</a> *worker, time_t stop_at, bool once)</td></tr>
<tr class="separator:a47c69344f2b132180807be7326cef44f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pri-attribs" name="pri-attribs"></a>
Private 속성</h2></td></tr>
<tr class="memitem:ad0e784045ead1333cb606d3e3adaa4f2" id="r_ad0e784045ead1333cb606d3e3adaa4f2"><td class="memItemLeft" align="right" valign="top">CephContext *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_r_g_w_l_c.html#ad0e784045ead1333cb606d3e3adaa4f2">cct</a></td></tr>
<tr class="separator:ad0e784045ead1333cb606d3e3adaa4f2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6ace8b944959c1e8d882633040e03f6d" id="r_a6ace8b944959c1e8d882633040e03f6d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classrgw_1_1sal_1_1_store.html">rgw::sal::Store</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_r_g_w_l_c.html#a6ace8b944959c1e8d882633040e03f6d">store</a></td></tr>
<tr class="separator:a6ace8b944959c1e8d882633040e03f6d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a93453fc6cc64ddcc2450b56bcaf9568a" id="r_a93453fc6cc64ddcc2450b56bcaf9568a"><td class="memItemLeft" align="right" valign="top">std::unique_ptr&lt; <a class="el" href="classrgw_1_1sal_1_1_lifecycle.html">rgw::sal::Lifecycle</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_r_g_w_l_c.html#a93453fc6cc64ddcc2450b56bcaf9568a">sal_lc</a></td></tr>
<tr class="separator:a93453fc6cc64ddcc2450b56bcaf9568a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6d6111ee8844a3f98755e04cdda65126" id="r_a6d6111ee8844a3f98755e04cdda65126"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_r_g_w_l_c.html#a6d6111ee8844a3f98755e04cdda65126">max_objs</a> {0}</td></tr>
<tr class="separator:a6d6111ee8844a3f98755e04cdda65126"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7954d0b97a1f5b8fa55a083f0607e4fa" id="r_a7954d0b97a1f5b8fa55a083f0607e4fa"><td class="memItemLeft" align="right" valign="top">std::string *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_r_g_w_l_c.html#a7954d0b97a1f5b8fa55a083f0607e4fa">obj_names</a> {nullptr}</td></tr>
<tr class="separator:a7954d0b97a1f5b8fa55a083f0607e4fa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a72ea5ba4a704217ae6931acdea4f477a" id="r_a72ea5ba4a704217ae6931acdea4f477a"><td class="memItemLeft" align="right" valign="top">std::atomic&lt; bool &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_r_g_w_l_c.html#a72ea5ba4a704217ae6931acdea4f477a">down_flag</a> = { false }</td></tr>
<tr class="separator:a72ea5ba4a704217ae6931acdea4f477a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7bfaa1ecf9b25497f0b5c2a1d4ce7b8b" id="r_a7bfaa1ecf9b25497f0b5c2a1d4ce7b8b"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_r_g_w_l_c.html#a7bfaa1ecf9b25497f0b5c2a1d4ce7b8b">cookie</a></td></tr>
<tr class="separator:a7bfaa1ecf9b25497f0b5c2a1d4ce7b8b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="friends" name="friends"></a>
Friends</h2></td></tr>
<tr class="memitem:a62b1a1f0e64b72cddd8f68ef2a4cdb50" id="r_a62b1a1f0e64b72cddd8f68ef2a4cdb50"><td class="memItemLeft" align="right" valign="top">class&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_r_g_w_l_c.html#a62b1a1f0e64b72cddd8f68ef2a4cdb50">RGWRados</a></td></tr>
<tr class="separator:a62b1a1f0e64b72cddd8f68ef2a4cdb50"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">상세한 설명</h2>
<div class="textblock">
<p class="definition"><a class="el" href="rgw__lc_8h_source.html">rgw_lc.h</a> 파일의 <a class="el" href="rgw__lc_8h_source.html#l00461">461</a> 번째 라인에서 정의되었습니다.</p>
</div><h2 class="groupheader">생성자 &amp; 소멸자 문서화</h2>
<a id="a7da3877a243df6e51d740c65f4019bdb" name="a7da3877a243df6e51d740c65f4019bdb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7da3877a243df6e51d740c65f4019bdb">&#9670;&#160;</a></span>RGWLC()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">RGWLC::RGWLC </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition"><a class="el" href="rgw__lc_8h_source.html">rgw_lc.h</a> 파일의 <a class="el" href="rgw__lc_8h_source.html#l00512">512</a> 번째 라인에서 정의되었습니다.</p>
<div class="fragment"><div class="line"><span class="lineno">  512</span>: <a class="code hl_variable" href="class_r_g_w_l_c.html#ad0e784045ead1333cb606d3e3adaa4f2">cct</a>(<span class="keyword">nullptr</span>), <a class="code hl_variable" href="class_r_g_w_l_c.html#a6ace8b944959c1e8d882633040e03f6d">store</a>(<span class="keyword">nullptr</span>) {}</div>
<div class="ttc" id="aclass_r_g_w_l_c_html_a6ace8b944959c1e8d882633040e03f6d"><div class="ttname"><a href="class_r_g_w_l_c.html#a6ace8b944959c1e8d882633040e03f6d">RGWLC::store</a></div><div class="ttdeci">rgw::sal::Store * store</div><div class="ttdef"><b>Definition</b> <a href="rgw__lc_8h_source.html#l00463">rgw_lc.h:463</a></div></div>
<div class="ttc" id="aclass_r_g_w_l_c_html_ad0e784045ead1333cb606d3e3adaa4f2"><div class="ttname"><a href="class_r_g_w_l_c.html#ad0e784045ead1333cb606d3e3adaa4f2">RGWLC::cct</a></div><div class="ttdeci">CephContext * cct</div><div class="ttdef"><b>Definition</b> <a href="rgw__lc_8h_source.html#l00462">rgw_lc.h:462</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a92ff5273be7fddcd7460311540bc06e0" name="a92ff5273be7fddcd7460311540bc06e0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a92ff5273be7fddcd7460311540bc06e0">&#9670;&#160;</a></span>~RGWLC()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">RGWLC::~RGWLC </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition"><a class="el" href="rgw__lc_8cc_source.html">rgw_lc.cc</a> 파일의 <a class="el" href="rgw__lc_8cc_source.html#l02435">2435</a> 번째 라인에서 정의되었습니다.</p>
<div class="fragment"><div class="line"><span class="lineno"> 2436</span>{</div>
<div class="line"><span class="lineno"> 2437</span>  <a class="code hl_function" href="class_r_g_w_l_c.html#a99e20a09150c9e107ac11e2de4d7fe05">stop_processor</a>();</div>
<div class="line"><span class="lineno"> 2438</span>  <a class="code hl_function" href="class_r_g_w_l_c.html#a6fe2a3a5b826d5eafabfb2e581d6b6dd">finalize</a>();</div>
<div class="line"><span class="lineno"> 2439</span>} <span class="comment">/* ~RGWLC() */</span></div>
<div class="ttc" id="aclass_r_g_w_l_c_html_a6fe2a3a5b826d5eafabfb2e581d6b6dd"><div class="ttname"><a href="class_r_g_w_l_c.html#a6fe2a3a5b826d5eafabfb2e581d6b6dd">RGWLC::finalize</a></div><div class="ttdeci">void finalize()</div><div class="ttdef"><b>Definition</b> <a href="rgw__lc_8cc_source.html#l00271">rgw_lc.cc:271</a></div></div>
<div class="ttc" id="aclass_r_g_w_l_c_html_a99e20a09150c9e107ac11e2de4d7fe05"><div class="ttname"><a href="class_r_g_w_l_c.html#a99e20a09150c9e107ac11e2de4d7fe05">RGWLC::stop_processor</a></div><div class="ttdeci">void stop_processor()</div><div class="ttdef"><b>Definition</b> <a href="rgw__lc_8cc_source.html#l02234">rgw_lc.cc:2234</a></div></div>
</div><!-- fragment --><div class="dynheader">
이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="class_r_g_w_l_c_a92ff5273be7fddcd7460311540bc06e0_cgraph.png" border="0" usemap="#aclass_r_g_w_l_c_a92ff5273be7fddcd7460311540bc06e0_cgraph" alt=""/></div>
<map name="aclass_r_g_w_l_c_a92ff5273be7fddcd7460311540bc06e0_cgraph" id="aclass_r_g_w_l_c_a92ff5273be7fddcd7460311540bc06e0_cgraph">
<area shape="rect" title=" " alt="" coords="5,31,139,57"/>
<area shape="rect" href="class_r_g_w_l_c.html#a6fe2a3a5b826d5eafabfb2e581d6b6dd" title=" " alt="" coords="211,5,329,32"/>
<area shape="poly" title=" " alt="" coords="139,33,196,25,196,31,139,38"/>
<area shape="rect" href="class_r_g_w_l_c.html#a99e20a09150c9e107ac11e2de4d7fe05" title=" " alt="" coords="187,56,353,83"/>
<area shape="poly" title=" " alt="" coords="139,50,172,54,171,59,139,55"/>
</map>
</div>

</div>
</div>
<h2 class="groupheader">멤버 함수 문서화</h2>
<a id="aa6a0111e4104bcef717cb150265788f3" name="aa6a0111e4104bcef717cb150265788f3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa6a0111e4104bcef717cb150265788f3">&#9670;&#160;</a></span>bucket_lc_post()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int RGWLC::bucket_lc_post </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>index</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>max_lock_sec</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structrgw_1_1sal_1_1_lifecycle_1_1_l_c_entry.html">rgw::sal::Lifecycle::LCEntry</a> &amp;&#160;</td>
          <td class="paramname"><em>entry</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int &amp;&#160;</td>
          <td class="paramname"><em>result</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_r_g_w_l_c_1_1_l_c_worker.html">LCWorker</a> *&#160;</td>
          <td class="paramname"><em>worker</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition"><a class="el" href="rgw__lc_8cc_source.html">rgw_lc.cc</a> 파일의 <a class="el" href="rgw__lc_8cc_source.html#l01837">1837</a> 번째 라인에서 정의되었습니다.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1840</span>{</div>
<div class="line"><span class="lineno"> 1841</span>  utime_t lock_duration(<a class="code hl_variable" href="class_r_g_w_l_c.html#ad0e784045ead1333cb606d3e3adaa4f2">cct</a>-&gt;_conf-&gt;rgw_lc_lock_max_time, 0);</div>
<div class="line"><span class="lineno"> 1842</span> </div>
<div class="line"><span class="lineno"> 1843</span>  <a class="code hl_struct" href="structrgw_1_1sal_1_1_l_c_serializer.html">rgw::sal::LCSerializer</a>* lock = <a class="code hl_variable" href="class_r_g_w_l_c.html#a93453fc6cc64ddcc2450b56bcaf9568a">sal_lc</a>-&gt;get_serializer(<a class="code hl_variable" href="rgw__lc_8h.html#a75f44f9e43388ee0990e4701d54e048a">lc_index_lock_name</a>,</div>
<div class="line"><span class="lineno"> 1844</span>                            <a class="code hl_variable" href="class_r_g_w_l_c.html#a7954d0b97a1f5b8fa55a083f0607e4fa">obj_names</a>[index],</div>
<div class="line"><span class="lineno"> 1845</span>                            <a class="code hl_variable" href="class_r_g_w_l_c.html#a7bfaa1ecf9b25497f0b5c2a1d4ce7b8b">cookie</a>);</div>
<div class="line"><span class="lineno"> 1846</span> </div>
<div class="line"><span class="lineno"> 1847</span>  ldpp_dout(<span class="keyword">this</span>, 5) &lt;&lt; <span class="stringliteral">&quot;RGWLC::bucket_lc_post(): POST &quot;</span> &lt;&lt; entry</div>
<div class="line"><span class="lineno"> 1848</span>      &lt;&lt; <span class="stringliteral">&quot; index: &quot;</span> &lt;&lt; index &lt;&lt; <span class="stringliteral">&quot; worker ix: &quot;</span> &lt;&lt; worker-&gt;ix</div>
<div class="line"><span class="lineno"> 1849</span>      &lt;&lt; dendl;</div>
<div class="line"><span class="lineno"> 1850</span> </div>
<div class="line"><span class="lineno"> 1851</span>  <span class="keywordflow">do</span> {</div>
<div class="line"><span class="lineno"> 1852</span>    <span class="keywordtype">int</span> ret = lock-&gt;<a class="code hl_function" href="structrgw_1_1sal_1_1_serializer.html#a103f4686a14753071aaa6f8d877000a2">try_lock</a>(<span class="keyword">this</span>, lock_duration, null_yield);</div>
<div class="line"><span class="lineno"> 1853</span>    <span class="keywordflow">if</span> (ret == -EBUSY || ret == -EEXIST) {</div>
<div class="line"><span class="lineno"> 1854</span>      <span class="comment">/* already locked by another lc processor */</span></div>
<div class="line"><span class="lineno"> 1855</span>      ldpp_dout(<span class="keyword">this</span>, 0) &lt;&lt; <span class="stringliteral">&quot;RGWLC::bucket_lc_post() failed to acquire lock on &quot;</span></div>
<div class="line"><span class="lineno"> 1856</span>             &lt;&lt; <a class="code hl_variable" href="class_r_g_w_l_c.html#a7954d0b97a1f5b8fa55a083f0607e4fa">obj_names</a>[index] &lt;&lt; <span class="stringliteral">&quot;, sleep 5, try again &quot;</span> &lt;&lt; dendl;</div>
<div class="line"><span class="lineno"> 1857</span>      sleep(5);</div>
<div class="line"><span class="lineno"> 1858</span>      <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 1859</span>    }</div>
<div class="line"><span class="lineno"> 1860</span> </div>
<div class="line"><span class="lineno"> 1861</span>    <span class="keywordflow">if</span> (ret &lt; 0)</div>
<div class="line"><span class="lineno"> 1862</span>      <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno"> 1863</span>    ldpp_dout(<span class="keyword">this</span>, 20) &lt;&lt; <span class="stringliteral">&quot;RGWLC::bucket_lc_post() lock &quot;</span> &lt;&lt; <a class="code hl_variable" href="class_r_g_w_l_c.html#a7954d0b97a1f5b8fa55a083f0607e4fa">obj_names</a>[index]</div>
<div class="line"><span class="lineno"> 1864</span>            &lt;&lt; dendl;</div>
<div class="line"><span class="lineno"> 1865</span>    <span class="keywordflow">if</span> (result ==  -ENOENT) {</div>
<div class="line"><span class="lineno"> 1866</span>      <span class="comment">/* XXXX are we SURE the only way result could == ENOENT is when</span></div>
<div class="line"><span class="lineno"> 1867</span><span class="comment">       * there is no such bucket?  It is currently the value returned</span></div>
<div class="line"><span class="lineno"> 1868</span><span class="comment">       * from bucket_lc_process(...) */</span></div>
<div class="line"><span class="lineno"> 1869</span>      ret = <a class="code hl_variable" href="class_r_g_w_l_c.html#a93453fc6cc64ddcc2450b56bcaf9568a">sal_lc</a>-&gt;rm_entry(<a class="code hl_variable" href="class_r_g_w_l_c.html#a7954d0b97a1f5b8fa55a083f0607e4fa">obj_names</a>[index],  entry);</div>
<div class="line"><span class="lineno"> 1870</span>      <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno"> 1871</span>        ldpp_dout(<span class="keyword">this</span>, 0) &lt;&lt; <span class="stringliteral">&quot;RGWLC::bucket_lc_post() failed to remove entry &quot;</span></div>
<div class="line"><span class="lineno"> 1872</span>            &lt;&lt; <a class="code hl_variable" href="class_r_g_w_l_c.html#a7954d0b97a1f5b8fa55a083f0607e4fa">obj_names</a>[index] &lt;&lt; dendl;</div>
<div class="line"><span class="lineno"> 1873</span>      }</div>
<div class="line"><span class="lineno"> 1874</span>      <span class="keywordflow">goto</span> clean;</div>
<div class="line"><span class="lineno"> 1875</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (result &lt; 0) {</div>
<div class="line"><span class="lineno"> 1876</span>      entry.<a class="code hl_variable" href="structrgw_1_1sal_1_1_lifecycle_1_1_l_c_entry.html#ab967abd35523acb2a08ffdc772a27858">status</a> = <a class="code hl_enumvalue" href="rgw__lc_8h.html#a87f6a2649c9e1a1b5b31ecfac94f6e62aca55a22982c1bf4a9740bbfccdc5e1e8">lc_failed</a>;</div>
<div class="line"><span class="lineno"> 1877</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 1878</span>      entry.<a class="code hl_variable" href="structrgw_1_1sal_1_1_lifecycle_1_1_l_c_entry.html#ab967abd35523acb2a08ffdc772a27858">status</a> = <a class="code hl_enumvalue" href="rgw__lc_8h.html#a87f6a2649c9e1a1b5b31ecfac94f6e62a7463fb5d5d6131cd0b377572dc21b198">lc_complete</a>;</div>
<div class="line"><span class="lineno"> 1879</span>    }</div>
<div class="line"><span class="lineno"> 1880</span> </div>
<div class="line"><span class="lineno"> 1881</span>    ret = <a class="code hl_variable" href="class_r_g_w_l_c.html#a93453fc6cc64ddcc2450b56bcaf9568a">sal_lc</a>-&gt;set_entry(<a class="code hl_variable" href="class_r_g_w_l_c.html#a7954d0b97a1f5b8fa55a083f0607e4fa">obj_names</a>[index],  entry);</div>
<div class="line"><span class="lineno"> 1882</span>    <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno"> 1883</span>      ldpp_dout(<span class="keyword">this</span>, 0) &lt;&lt; <span class="stringliteral">&quot;RGWLC::process() failed to set entry on &quot;</span></div>
<div class="line"><span class="lineno"> 1884</span>          &lt;&lt; <a class="code hl_variable" href="class_r_g_w_l_c.html#a7954d0b97a1f5b8fa55a083f0607e4fa">obj_names</a>[index] &lt;&lt; dendl;</div>
<div class="line"><span class="lineno"> 1885</span>    }</div>
<div class="line"><span class="lineno"> 1886</span>clean:</div>
<div class="line"><span class="lineno"> 1887</span>    lock-&gt;<a class="code hl_function" href="structrgw_1_1sal_1_1_serializer.html#a5f4201883413ae26f82f4f049d94a952">unlock</a>();</div>
<div class="line"><span class="lineno"> 1888</span>    <span class="keyword">delete</span> lock;</div>
<div class="line"><span class="lineno"> 1889</span>    ldpp_dout(<span class="keyword">this</span>, 20) &lt;&lt; <span class="stringliteral">&quot;RGWLC::bucket_lc_post() unlock &quot;</span></div>
<div class="line"><span class="lineno"> 1890</span>            &lt;&lt; <a class="code hl_variable" href="class_r_g_w_l_c.html#a7954d0b97a1f5b8fa55a083f0607e4fa">obj_names</a>[index] &lt;&lt; dendl;</div>
<div class="line"><span class="lineno"> 1891</span>    <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno"> 1892</span>  } <span class="keywordflow">while</span> (<span class="keyword">true</span>);</div>
<div class="line"><span class="lineno"> 1893</span>}</div>
<div class="ttc" id="aclass_r_g_w_l_c_html_a7954d0b97a1f5b8fa55a083f0607e4fa"><div class="ttname"><a href="class_r_g_w_l_c.html#a7954d0b97a1f5b8fa55a083f0607e4fa">RGWLC::obj_names</a></div><div class="ttdeci">std::string * obj_names</div><div class="ttdef"><b>Definition</b> <a href="rgw__lc_8h_source.html#l00466">rgw_lc.h:466</a></div></div>
<div class="ttc" id="aclass_r_g_w_l_c_html_a7bfaa1ecf9b25497f0b5c2a1d4ce7b8b"><div class="ttname"><a href="class_r_g_w_l_c.html#a7bfaa1ecf9b25497f0b5c2a1d4ce7b8b">RGWLC::cookie</a></div><div class="ttdeci">std::string cookie</div><div class="ttdef"><b>Definition</b> <a href="rgw__lc_8h_source.html#l00468">rgw_lc.h:468</a></div></div>
<div class="ttc" id="aclass_r_g_w_l_c_html_a93453fc6cc64ddcc2450b56bcaf9568a"><div class="ttname"><a href="class_r_g_w_l_c.html#a93453fc6cc64ddcc2450b56bcaf9568a">RGWLC::sal_lc</a></div><div class="ttdeci">std::unique_ptr&lt; rgw::sal::Lifecycle &gt; sal_lc</div><div class="ttdef"><b>Definition</b> <a href="rgw__lc_8h_source.html#l00464">rgw_lc.h:464</a></div></div>
<div class="ttc" id="argw__lc_8h_html_a75f44f9e43388ee0990e4701d54e048a"><div class="ttname"><a href="rgw__lc_8h.html#a75f44f9e43388ee0990e4701d54e048a">lc_index_lock_name</a></div><div class="ttdeci">static std::string lc_index_lock_name</div><div class="ttdef"><b>Definition</b> <a href="rgw__lc_8h_source.html#l00030">rgw_lc.h:30</a></div></div>
<div class="ttc" id="argw__lc_8h_html_a87f6a2649c9e1a1b5b31ecfac94f6e62a7463fb5d5d6131cd0b377572dc21b198"><div class="ttname"><a href="rgw__lc_8h.html#a87f6a2649c9e1a1b5b31ecfac94f6e62a7463fb5d5d6131cd0b377572dc21b198">lc_complete</a></div><div class="ttdeci">@ lc_complete</div><div class="ttdef"><b>Definition</b> <a href="rgw__lc_8h_source.html#l00038">rgw_lc.h:38</a></div></div>
<div class="ttc" id="argw__lc_8h_html_a87f6a2649c9e1a1b5b31ecfac94f6e62aca55a22982c1bf4a9740bbfccdc5e1e8"><div class="ttname"><a href="rgw__lc_8h.html#a87f6a2649c9e1a1b5b31ecfac94f6e62aca55a22982c1bf4a9740bbfccdc5e1e8">lc_failed</a></div><div class="ttdeci">@ lc_failed</div><div class="ttdef"><b>Definition</b> <a href="rgw__lc_8h_source.html#l00037">rgw_lc.h:37</a></div></div>
<div class="ttc" id="astructrgw_1_1sal_1_1_l_c_serializer_html"><div class="ttname"><a href="structrgw_1_1sal_1_1_l_c_serializer.html">rgw::sal::LCSerializer</a></div><div class="ttdoc">Abstraction of a serializer for Lifecycle</div><div class="ttdef"><b>Definition</b> <a href="rgw__sal_8h_source.html#l01281">rgw_sal.h:1281</a></div></div>
<div class="ttc" id="astructrgw_1_1sal_1_1_lifecycle_1_1_l_c_entry_html_ab967abd35523acb2a08ffdc772a27858"><div class="ttname"><a href="structrgw_1_1sal_1_1_lifecycle_1_1_l_c_entry.html#ab967abd35523acb2a08ffdc772a27858">rgw::sal::Lifecycle::LCEntry::status</a></div><div class="ttdeci">uint32_t status</div><div class="ttdef"><b>Definition</b> <a href="rgw__sal_8h_source.html#l01309">rgw_sal.h:1309</a></div></div>
<div class="ttc" id="astructrgw_1_1sal_1_1_serializer_html_a103f4686a14753071aaa6f8d877000a2"><div class="ttname"><a href="structrgw_1_1sal_1_1_serializer.html#a103f4686a14753071aaa6f8d877000a2">rgw::sal::Serializer::try_lock</a></div><div class="ttdeci">virtual int try_lock(const DoutPrefixProvider *dpp, utime_t dur, optional_yield y)=0</div></div>
<div class="ttc" id="astructrgw_1_1sal_1_1_serializer_html_a5f4201883413ae26f82f4f049d94a952"><div class="ttname"><a href="structrgw_1_1sal_1_1_serializer.html#a5f4201883413ae26f82f4f049d94a952">rgw::sal::Serializer::unlock</a></div><div class="ttdeci">virtual int unlock()=0</div></div>
</div><!-- fragment --><div class="dynheader">
이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="class_r_g_w_l_c_aa6a0111e4104bcef717cb150265788f3_cgraph.png" border="0" usemap="#aclass_r_g_w_l_c_aa6a0111e4104bcef717cb150265788f3_cgraph" alt=""/></div>
<map name="aclass_r_g_w_l_c_aa6a0111e4104bcef717cb150265788f3_cgraph" id="aclass_r_g_w_l_c_aa6a0111e4104bcef717cb150265788f3_cgraph">
<area shape="rect" title=" " alt="" coords="5,47,171,73"/>
<area shape="rect" href="structrgw_1_1sal_1_1_serializer.html#a103f4686a14753071aaa6f8d877000a2" title=" " alt="" coords="219,5,347,48"/>
<area shape="poly" title=" " alt="" coords="169,43,203,38,204,43,170,49"/>
<area shape="rect" href="structrgw_1_1sal_1_1_serializer.html#a5f4201883413ae26f82f4f049d94a952" title=" " alt="" coords="219,72,347,115"/>
<area shape="poly" title=" " alt="" coords="170,71,204,77,203,82,169,77"/>
</map>
</div>
<div class="dynheader">
이 함수를 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="class_r_g_w_l_c_aa6a0111e4104bcef717cb150265788f3_icgraph.png" border="0" usemap="#aclass_r_g_w_l_c_aa6a0111e4104bcef717cb150265788f3_icgraph" alt=""/></div>
<map name="aclass_r_g_w_l_c_aa6a0111e4104bcef717cb150265788f3_icgraph" id="aclass_r_g_w_l_c_aa6a0111e4104bcef717cb150265788f3_icgraph">
<area shape="rect" title=" " alt="" coords="614,31,780,57"/>
<area shape="rect" href="class_r_g_w_l_c.html#abf0323a15e56c0155ce3d73cb3ec42a9" title=" " alt="" coords="420,5,543,32"/>
<area shape="poly" title=" " alt="" coords="599,35,543,29,544,23,599,30"/>
<area shape="rect" href="class_r_g_w_l_c.html#aac8510c6f2221507b728cd6dd12efda1" title=" " alt="" coords="397,56,566,83"/>
<area shape="poly" title=" " alt="" coords="599,58,567,62,567,57,599,53"/>
<area shape="rect" href="class_r_g_w_l_c.html#acc373fbfbc796d885451e99ac82e2fdb" title=" " alt="" coords="226,56,349,83"/>
<area shape="poly" title=" " alt="" coords="382,72,349,72,349,67,382,67"/>
<area shape="poly" title=" " alt="" coords="320,43,309,37,287,35,267,37,256,41,254,47,259,54,254,57,248,47,252,38,266,31,287,29,311,32,323,38"/>
<area shape="rect" href="class_r_g_w_l_c_1_1_l_c_worker.html#a9d6b503ea0fb811d8539195c95d0f3fe" title=" " alt="" coords="5,31,178,57"/>
<area shape="poly" title=" " alt="" coords="210,62,178,58,179,53,211,57"/>
<area shape="rect" href="class_r_g_w_rados.html#a915344e336dcc165c525c0c688536845" title=" " alt="" coords="11,81,172,108"/>
<area shape="poly" title=" " alt="" coords="211,82,173,87,172,82,210,77"/>
</map>
</div>

</div>
</div>
<a id="a3fc9ac25fb0bc57507b0f59674041341" name="a3fc9ac25fb0bc57507b0f59674041341"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3fc9ac25fb0bc57507b0f59674041341">&#9670;&#160;</a></span>bucket_lc_prepare()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int RGWLC::bucket_lc_prepare </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>index</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_r_g_w_l_c_1_1_l_c_worker.html">LCWorker</a> *&#160;</td>
          <td class="paramname"><em>worker</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition"><a class="el" href="rgw__lc_8cc_source.html">rgw_lc.cc</a> 파일의 <a class="el" href="rgw__lc_8cc_source.html#l00311">311</a> 번째 라인에서 정의되었습니다.</p>
<div class="fragment"><div class="line"><span class="lineno">  312</span>{</div>
<div class="line"><span class="lineno">  313</span>  vector&lt;rgw::sal::Lifecycle::LCEntry&gt; <a class="code hl_variable" href="cls__fifo__legacy_8cc.html#a0341b0ec09e77f9d6274d5b1517f7711">entries</a>;</div>
<div class="line"><span class="lineno">  314</span>  <span class="keywordtype">string</span> marker;</div>
<div class="line"><span class="lineno">  315</span> </div>
<div class="line"><span class="lineno">  316</span>  ldpp_dout(<span class="keyword">this</span>, 5) &lt;&lt; <span class="stringliteral">&quot;RGWLC::bucket_lc_prepare(): PREPARE &quot;</span></div>
<div class="line"><span class="lineno">  317</span>      &lt;&lt; <span class="stringliteral">&quot;index: &quot;</span> &lt;&lt; index &lt;&lt; <span class="stringliteral">&quot; worker ix: &quot;</span> &lt;&lt; worker-&gt;ix</div>
<div class="line"><span class="lineno">  318</span>      &lt;&lt; dendl;</div>
<div class="line"><span class="lineno">  319</span> </div>
<div class="line"><span class="lineno">  320</span><span class="preprocessor">#define MAX_LC_LIST_ENTRIES 100</span></div>
<div class="line"><span class="lineno">  321</span>  <span class="keywordflow">do</span> {</div>
<div class="line"><span class="lineno">  322</span>    <span class="keywordtype">int</span> ret = <a class="code hl_variable" href="class_r_g_w_l_c.html#a93453fc6cc64ddcc2450b56bcaf9568a">sal_lc</a>-&gt;list_entries(<a class="code hl_variable" href="class_r_g_w_l_c.html#a7954d0b97a1f5b8fa55a083f0607e4fa">obj_names</a>[index], marker, <a class="code hl_define" href="rgw__admin_8cc.html#ae9f99b955c6202f51e4bfbe8751008f4">MAX_LC_LIST_ENTRIES</a>, <a class="code hl_variable" href="cls__fifo__legacy_8cc.html#a0341b0ec09e77f9d6274d5b1517f7711">entries</a>);</div>
<div class="line"><span class="lineno">  323</span>    <span class="keywordflow">if</span> (ret &lt; 0)</div>
<div class="line"><span class="lineno">  324</span>      <span class="keywordflow">return</span> ret;</div>
<div class="line"><span class="lineno">  325</span> </div>
<div class="line"><span class="lineno">  326</span>    <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp; entry : <a class="code hl_variable" href="cls__fifo__legacy_8cc.html#a0341b0ec09e77f9d6274d5b1517f7711">entries</a>) {</div>
<div class="line"><span class="lineno">  327</span>      entry.start_time = ceph_clock_now();</div>
<div class="line"><span class="lineno">  328</span>      entry.status = <a class="code hl_enumvalue" href="rgw__lc_8h.html#a87f6a2649c9e1a1b5b31ecfac94f6e62a0c5f3ab4502d0c44d7eda72485bd738e">lc_uninitial</a>; <span class="comment">// lc_uninitial? really?</span></div>
<div class="line"><span class="lineno">  329</span>      ret = <a class="code hl_variable" href="class_r_g_w_l_c.html#a93453fc6cc64ddcc2450b56bcaf9568a">sal_lc</a>-&gt;set_entry(<a class="code hl_variable" href="class_r_g_w_l_c.html#a7954d0b97a1f5b8fa55a083f0607e4fa">obj_names</a>[index], entry);</div>
<div class="line"><span class="lineno">  330</span>      <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno">  331</span>        ldpp_dout(<span class="keyword">this</span>, 0)</div>
<div class="line"><span class="lineno">  332</span>      &lt;&lt; <span class="stringliteral">&quot;RGWLC::bucket_lc_prepare() failed to set entry on &quot;</span></div>
<div class="line"><span class="lineno">  333</span>      &lt;&lt; <a class="code hl_variable" href="class_r_g_w_l_c.html#a7954d0b97a1f5b8fa55a083f0607e4fa">obj_names</a>[index] &lt;&lt; dendl;</div>
<div class="line"><span class="lineno">  334</span>        <span class="keywordflow">return</span> ret;</div>
<div class="line"><span class="lineno">  335</span>      }</div>
<div class="line"><span class="lineno">  336</span>    }</div>
<div class="line"><span class="lineno">  337</span> </div>
<div class="line"><span class="lineno">  338</span>    <span class="keywordflow">if</span> (! <a class="code hl_variable" href="cls__fifo__legacy_8cc.html#a0341b0ec09e77f9d6274d5b1517f7711">entries</a>.empty()) {</div>
<div class="line"><span class="lineno">  339</span>      marker = std::move(<a class="code hl_variable" href="cls__fifo__legacy_8cc.html#a0341b0ec09e77f9d6274d5b1517f7711">entries</a>.back().bucket);</div>
<div class="line"><span class="lineno">  340</span>    }</div>
<div class="line"><span class="lineno">  341</span>  } <span class="keywordflow">while</span> (!<a class="code hl_variable" href="cls__fifo__legacy_8cc.html#a0341b0ec09e77f9d6274d5b1517f7711">entries</a>.empty());</div>
<div class="line"><span class="lineno">  342</span> </div>
<div class="line"><span class="lineno">  343</span>  <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">  344</span>}</div>
<div class="ttc" id="acls__fifo__legacy_8cc_html_a0341b0ec09e77f9d6274d5b1517f7711"><div class="ttname"><a href="cls__fifo__legacy_8cc.html#a0341b0ec09e77f9d6274d5b1517f7711">entries</a></div><div class="ttdeci">std::vector&lt; fifo::part_list_entry &gt; * entries</div><div class="ttdef"><b>Definition</b> <a href="cls__fifo__legacy_8cc_source.html#l00249">cls_fifo_legacy.cc:249</a></div></div>
<div class="ttc" id="argw__admin_8cc_html_ae9f99b955c6202f51e4bfbe8751008f4"><div class="ttname"><a href="rgw__admin_8cc.html#ae9f99b955c6202f51e4bfbe8751008f4">MAX_LC_LIST_ENTRIES</a></div><div class="ttdeci">#define MAX_LC_LIST_ENTRIES</div></div>
<div class="ttc" id="argw__lc_8h_html_a87f6a2649c9e1a1b5b31ecfac94f6e62a0c5f3ab4502d0c44d7eda72485bd738e"><div class="ttname"><a href="rgw__lc_8h.html#a87f6a2649c9e1a1b5b31ecfac94f6e62a0c5f3ab4502d0c44d7eda72485bd738e">lc_uninitial</a></div><div class="ttdeci">@ lc_uninitial</div><div class="ttdef"><b>Definition</b> <a href="rgw__lc_8h_source.html#l00035">rgw_lc.h:35</a></div></div>
</div><!-- fragment --><div class="dynheader">
이 함수를 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="class_r_g_w_l_c_a3fc9ac25fb0bc57507b0f59674041341_icgraph.png" border="0" usemap="#aclass_r_g_w_l_c_a3fc9ac25fb0bc57507b0f59674041341_icgraph" alt=""/></div>
<map name="aclass_r_g_w_l_c_a3fc9ac25fb0bc57507b0f59674041341_icgraph" id="aclass_r_g_w_l_c_a3fc9ac25fb0bc57507b0f59674041341_icgraph">
<area shape="rect" title=" " alt="" coords="177,5,360,32"/>
<area shape="rect" href="class_r_g_w_l_c.html#abf0323a15e56c0155ce3d73cb3ec42a9" title=" " alt="" coords="5,5,129,32"/>
<area shape="poly" title=" " alt="" coords="161,21,129,21,129,16,161,16"/>
</map>
</div>

</div>
</div>
<a id="a269e0f1145a60261564f4c44005818f1" name="a269e0f1145a60261564f4c44005818f1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a269e0f1145a60261564f4c44005818f1">&#9670;&#160;</a></span>bucket_lc_process()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int RGWLC::bucket_lc_process </td>
          <td>(</td>
          <td class="paramtype">std::string &amp;&#160;</td>
          <td class="paramname"><em>shard_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_r_g_w_l_c_1_1_l_c_worker.html">LCWorker</a> *&#160;</td>
          <td class="paramname"><em>worker</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">time_t&#160;</td>
          <td class="paramname"><em>stop_at</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>once</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition"><a class="el" href="rgw__lc_8cc_source.html">rgw_lc.cc</a> 파일의 <a class="el" href="rgw__lc_8cc_source.html#l01702">1702</a> 번째 라인에서 정의되었습니다.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1704</span>{</div>
<div class="line"><span class="lineno"> 1705</span>  <a class="code hl_class" href="class_r_g_w_lifecycle_configuration.html">RGWLifecycleConfiguration</a>  <a class="code hl_enumvalue" href="namespacergw.html#aa74ef6030865b86d25300c7309e8b191a2245023265ae4cf87d02c8b6ba991139">config</a>(<a class="code hl_variable" href="class_r_g_w_l_c.html#ad0e784045ead1333cb606d3e3adaa4f2">cct</a>);</div>
<div class="line"><span class="lineno"> 1706</span>  std::unique_ptr&lt;rgw::sal::Bucket&gt; bucket;</div>
<div class="line"><span class="lineno"> 1707</span>  <span class="keywordtype">string</span> no_ns, list_versions;</div>
<div class="line"><span class="lineno"> 1708</span>  vector&lt;rgw_bucket_dir_entry&gt; objs;</div>
<div class="line"><span class="lineno"> 1709</span>  vector&lt;std::string&gt; result;</div>
<div class="line"><span class="lineno"> 1710</span>  boost::split(result, shard_id, boost::is_any_of(<span class="stringliteral">&quot;:&quot;</span>));</div>
<div class="line"><span class="lineno"> 1711</span>  <span class="keywordtype">string</span> bucket_tenant = result[0];</div>
<div class="line"><span class="lineno"> 1712</span>  <span class="keywordtype">string</span> bucket_name = result[1];</div>
<div class="line"><span class="lineno"> 1713</span>  <span class="keywordtype">string</span> bucket_marker = result[2];</div>
<div class="line"><span class="lineno"> 1714</span>  <span class="keywordtype">int</span> ret = <a class="code hl_variable" href="class_r_g_w_l_c.html#a6ace8b944959c1e8d882633040e03f6d">store</a>-&gt;<a class="code hl_function" href="classrgw_1_1sal_1_1_store.html#a3308ce50125b19ccdf5ce7f69958bd67">get_bucket</a>(<span class="keyword">this</span>, <span class="keyword">nullptr</span>, bucket_tenant, bucket_name, &amp;bucket, null_yield);</div>
<div class="line"><span class="lineno"> 1715</span>  <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno"> 1716</span>    ldpp_dout(<span class="keyword">this</span>, 0) &lt;&lt; <span class="stringliteral">&quot;LC:get_bucket for &quot;</span> &lt;&lt; bucket_name</div>
<div class="line"><span class="lineno"> 1717</span>               &lt;&lt; <span class="stringliteral">&quot; failed&quot;</span> &lt;&lt; dendl;</div>
<div class="line"><span class="lineno"> 1718</span>    <span class="keywordflow">return</span> ret;</div>
<div class="line"><span class="lineno"> 1719</span>  }</div>
<div class="line"><span class="lineno"> 1720</span> </div>
<div class="line"><span class="lineno"> 1721</span>  ret = bucket-&gt;load_bucket(<span class="keyword">this</span>, null_yield);</div>
<div class="line"><span class="lineno"> 1722</span>  <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno"> 1723</span>    ldpp_dout(<span class="keyword">this</span>, 0) &lt;&lt; <span class="stringliteral">&quot;LC:load_bucket for &quot;</span> &lt;&lt; bucket_name</div>
<div class="line"><span class="lineno"> 1724</span>               &lt;&lt; <span class="stringliteral">&quot; failed&quot;</span> &lt;&lt; dendl;</div>
<div class="line"><span class="lineno"> 1725</span>    <span class="keywordflow">return</span> ret;</div>
<div class="line"><span class="lineno"> 1726</span>  }</div>
<div class="line"><span class="lineno"> 1727</span> </div>
<div class="line"><span class="lineno"> 1728</span>  <span class="keyword">auto</span> stack_guard = make_scope_guard(</div>
<div class="line"><span class="lineno"> 1729</span>    [&amp;worker]</div>
<div class="line"><span class="lineno"> 1730</span>      {</div>
<div class="line"><span class="lineno"> 1731</span>    worker-&gt;workpool-&gt;drain();</div>
<div class="line"><span class="lineno"> 1732</span>      }</div>
<div class="line"><span class="lineno"> 1733</span>    );</div>
<div class="line"><span class="lineno"> 1734</span> </div>
<div class="line"><span class="lineno"> 1735</span>  <span class="keywordflow">if</span> (bucket-&gt;get_marker() != bucket_marker) {</div>
<div class="line"><span class="lineno"> 1736</span>    ldpp_dout(<span class="keyword">this</span>, 1) &lt;&lt; <span class="stringliteral">&quot;LC: deleting stale entry found for bucket=&quot;</span></div>
<div class="line"><span class="lineno"> 1737</span>               &lt;&lt; bucket_tenant &lt;&lt; <span class="stringliteral">&quot;:&quot;</span> &lt;&lt; bucket_name</div>
<div class="line"><span class="lineno"> 1738</span>               &lt;&lt; <span class="stringliteral">&quot; cur_marker=&quot;</span> &lt;&lt; bucket-&gt;get_marker()</div>
<div class="line"><span class="lineno"> 1739</span>                       &lt;&lt; <span class="stringliteral">&quot; orig_marker=&quot;</span> &lt;&lt; bucket_marker &lt;&lt; dendl;</div>
<div class="line"><span class="lineno"> 1740</span>    <span class="keywordflow">return</span> -ENOENT;</div>
<div class="line"><span class="lineno"> 1741</span>  }</div>
<div class="line"><span class="lineno"> 1742</span> </div>
<div class="line"><span class="lineno"> 1743</span>  map&lt;string, bufferlist&gt;::iterator aiter</div>
<div class="line"><span class="lineno"> 1744</span>    = bucket-&gt;get_attrs().find(<a class="code hl_define" href="rgw__common_8h.html#a7f53e4298c577378477ce3009f21c769">RGW_ATTR_LC</a>);</div>
<div class="line"><span class="lineno"> 1745</span>  <span class="keywordflow">if</span> (aiter == bucket-&gt;get_attrs().end()) {</div>
<div class="line"><span class="lineno"> 1746</span>    ldpp_dout(<span class="keyword">this</span>, 0) &lt;&lt; <span class="stringliteral">&quot;WARNING: bucket_attrs.find(RGW_ATTR_LC) failed for &quot;</span></div>
<div class="line"><span class="lineno"> 1747</span>               &lt;&lt; bucket_name &lt;&lt; <span class="stringliteral">&quot; (terminates bucket_lc_process(...))&quot;</span></div>
<div class="line"><span class="lineno"> 1748</span>               &lt;&lt; dendl;</div>
<div class="line"><span class="lineno"> 1749</span>    <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno"> 1750</span>  }</div>
<div class="line"><span class="lineno"> 1751</span> </div>
<div class="line"><span class="lineno"> 1752</span>  bufferlist::const_iterator iter{&amp;aiter-&gt;second};</div>
<div class="line"><span class="lineno"> 1753</span>  <span class="keywordflow">try</span> {</div>
<div class="line"><span class="lineno"> 1754</span>      <a class="code hl_enumvalue" href="namespacergw.html#aa74ef6030865b86d25300c7309e8b191a2245023265ae4cf87d02c8b6ba991139">config</a>.decode(iter);</div>
<div class="line"><span class="lineno"> 1755</span>    } <span class="keywordflow">catch</span> (<span class="keyword">const</span> buffer::error&amp; e) {</div>
<div class="line"><span class="lineno"> 1756</span>      ldpp_dout(<span class="keyword">this</span>, 0) &lt;&lt; __func__ &lt;&lt;  <span class="stringliteral">&quot;() decode life cycle config failed&quot;</span></div>
<div class="line"><span class="lineno"> 1757</span>             &lt;&lt; dendl;</div>
<div class="line"><span class="lineno"> 1758</span>      <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno"> 1759</span>    }</div>
<div class="line"><span class="lineno"> 1760</span> </div>
<div class="line"><span class="lineno"> 1761</span>  <span class="keyword">auto</span> pf = [](<a class="code hl_class" href="class_r_g_w_l_c_1_1_l_c_worker.html">RGWLC::LCWorker</a>* wk, <a class="code hl_class" href="class_work_q.html">WorkQ</a>* wq, <a class="code hl_typedef" href="rgw__lc_8cc.html#ae7a53dbfb5ff4060036f07a73168a45c">WorkItem</a>&amp; wi) {</div>
<div class="line"><span class="lineno"> 1762</span>    <span class="keyword">auto</span> wt =</div>
<div class="line"><span class="lineno"> 1763</span>      boost::get&lt;std::tuple&lt;LCOpRule, rgw_bucket_dir_entry&gt;&gt;(wi);</div>
<div class="line"><span class="lineno"> 1764</span>    <span class="keyword">auto</span>&amp; [op_rule, o] = wt;</div>
<div class="line"><span class="lineno"> 1765</span> </div>
<div class="line"><span class="lineno"> 1766</span>    ldpp_dout(wk-&gt;<a class="code hl_function" href="class_r_g_w_l_c_1_1_l_c_worker.html#a6141bd5060e4ba925bc3d8b52fbc819c">get_lc</a>(), 20)</div>
<div class="line"><span class="lineno"> 1767</span>      &lt;&lt; __func__ &lt;&lt; <span class="stringliteral">&quot;(): key=&quot;</span> &lt;&lt; o.key &lt;&lt; wq-&gt;thr_name() </div>
<div class="line"><span class="lineno"> 1768</span>      &lt;&lt; dendl;</div>
<div class="line"><span class="lineno"> 1769</span>    <span class="keywordtype">int</span> ret = op_rule.process(o, wk-&gt;<a class="code hl_variable" href="class_r_g_w_l_c_1_1_l_c_worker.html#a092ec2345f1e01adf3b787037976cdd5">dpp</a>, wq);</div>
<div class="line"><span class="lineno"> 1770</span>    <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno"> 1771</span>      ldpp_dout(wk-&gt;<a class="code hl_function" href="class_r_g_w_l_c_1_1_l_c_worker.html#a6141bd5060e4ba925bc3d8b52fbc819c">get_lc</a>(), 20)</div>
<div class="line"><span class="lineno"> 1772</span>    &lt;&lt; <span class="stringliteral">&quot;ERROR: orule.process() returned ret=&quot;</span> &lt;&lt; ret</div>
<div class="line"><span class="lineno"> 1773</span>    &lt;&lt; <span class="stringliteral">&quot;thread:&quot;</span> &lt;&lt; wq-&gt;thr_name()</div>
<div class="line"><span class="lineno"> 1774</span>    &lt;&lt; dendl;</div>
<div class="line"><span class="lineno"> 1775</span>    }</div>
<div class="line"><span class="lineno"> 1776</span>  };</div>
<div class="line"><span class="lineno"> 1777</span>  worker-&gt;workpool-&gt;setf(pf);</div>
<div class="line"><span class="lineno"> 1778</span> </div>
<div class="line"><span class="lineno"> 1779</span>  multimap&lt;string, lc_op&gt;&amp; prefix_map = <a class="code hl_enumvalue" href="namespacergw.html#aa74ef6030865b86d25300c7309e8b191a2245023265ae4cf87d02c8b6ba991139">config</a>.get_prefix_map();</div>
<div class="line"><span class="lineno"> 1780</span>  ldpp_dout(<span class="keyword">this</span>, 10) &lt;&lt; __func__ &lt;&lt;  <span class="stringliteral">&quot;() prefix_map size=&quot;</span></div>
<div class="line"><span class="lineno"> 1781</span>              &lt;&lt; prefix_map.size()</div>
<div class="line"><span class="lineno"> 1782</span>              &lt;&lt; dendl;</div>
<div class="line"><span class="lineno"> 1783</span> </div>
<div class="line"><span class="lineno"> 1784</span>  <a class="code hl_struct" href="structrgw__obj__key.html">rgw_obj_key</a> pre_marker;</div>
<div class="line"><span class="lineno"> 1785</span>  <a class="code hl_struct" href="structrgw__obj__key.html">rgw_obj_key</a> next_marker;</div>
<div class="line"><span class="lineno"> 1786</span>  <span class="keywordflow">for</span>(<span class="keyword">auto</span> prefix_iter = prefix_map.begin(); prefix_iter != prefix_map.end();</div>
<div class="line"><span class="lineno"> 1787</span>      ++prefix_iter) {</div>
<div class="line"><span class="lineno"> 1788</span> </div>
<div class="line"><span class="lineno"> 1789</span>    <span class="keywordflow">if</span> (<a class="code hl_function" href="rgw__lc_8cc.html#a9a76c55be419b1a6dbc5000f98c40f63">worker_should_stop</a>(stop_at, once)) {</div>
<div class="line"><span class="lineno"> 1790</span>      ldpp_dout(<span class="keyword">this</span>, 5) &lt;&lt; __func__ &lt;&lt; <span class="stringliteral">&quot; interval budget EXPIRED worker &quot;</span></div>
<div class="line"><span class="lineno"> 1791</span>             &lt;&lt; worker-&gt;ix</div>
<div class="line"><span class="lineno"> 1792</span>             &lt;&lt; dendl;</div>
<div class="line"><span class="lineno"> 1793</span>      <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno"> 1794</span>    }</div>
<div class="line"><span class="lineno"> 1795</span> </div>
<div class="line"><span class="lineno"> 1796</span>    <span class="keyword">auto</span>&amp; op = prefix_iter-&gt;second;</div>
<div class="line"><span class="lineno"> 1797</span>    <span class="keywordflow">if</span> (!<a class="code hl_function" href="rgw__lc_8cc.html#a0418dc6a51e1e130f431d7238528d401">is_valid_op</a>(op)) {</div>
<div class="line"><span class="lineno"> 1798</span>      <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 1799</span>    }</div>
<div class="line"><span class="lineno"> 1800</span>    ldpp_dout(<span class="keyword">this</span>, 20) &lt;&lt; __func__ &lt;&lt; <span class="stringliteral">&quot;(): prefix=&quot;</span> &lt;&lt; prefix_iter-&gt;first</div>
<div class="line"><span class="lineno"> 1801</span>            &lt;&lt; dendl;</div>
<div class="line"><span class="lineno"> 1802</span>    <span class="keywordflow">if</span> (prefix_iter != prefix_map.begin() &amp;&amp; </div>
<div class="line"><span class="lineno"> 1803</span>        (prefix_iter-&gt;first.compare(0, prev(prefix_iter)-&gt;first.length(),</div>
<div class="line"><span class="lineno"> 1804</span>                    prev(prefix_iter)-&gt;first) == 0)) {</div>
<div class="line"><span class="lineno"> 1805</span>      next_marker = pre_marker;</div>
<div class="line"><span class="lineno"> 1806</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 1807</span>      pre_marker = next_marker;</div>
<div class="line"><span class="lineno"> 1808</span>    }</div>
<div class="line"><span class="lineno"> 1809</span> </div>
<div class="line"><span class="lineno"> 1810</span>    <a class="code hl_class" href="class_l_c_objs_lister.html">LCObjsLister</a> ol(<a class="code hl_variable" href="class_r_g_w_l_c.html#a6ace8b944959c1e8d882633040e03f6d">store</a>, bucket.get());</div>
<div class="line"><span class="lineno"> 1811</span>    ol.set_prefix(prefix_iter-&gt;first);</div>
<div class="line"><span class="lineno"> 1812</span> </div>
<div class="line"><span class="lineno"> 1813</span>    ret = ol.init(<span class="keyword">this</span>);</div>
<div class="line"><span class="lineno"> 1814</span>    <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno"> 1815</span>      <span class="keywordflow">if</span> (ret == (-ENOENT))</div>
<div class="line"><span class="lineno"> 1816</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno"> 1817</span>      ldpp_dout(<span class="keyword">this</span>, 0) &lt;&lt; <span class="stringliteral">&quot;ERROR: store-&gt;list_objects():&quot;</span> &lt;&lt;dendl;</div>
<div class="line"><span class="lineno"> 1818</span>      <span class="keywordflow">return</span> ret;</div>
<div class="line"><span class="lineno"> 1819</span>    }</div>
<div class="line"><span class="lineno"> 1820</span> </div>
<div class="line"><span class="lineno"> 1821</span>    <a class="code hl_struct" href="structop__env.html">op_env</a> oenv(op, <a class="code hl_variable" href="class_r_g_w_l_c.html#a6ace8b944959c1e8d882633040e03f6d">store</a>, worker, bucket.get(), ol);</div>
<div class="line"><span class="lineno"> 1822</span>    <a class="code hl_class" href="class_l_c_op_rule.html">LCOpRule</a> orule(oenv);</div>
<div class="line"><span class="lineno"> 1823</span>    orule.build(); <span class="comment">// why can&#39;t ctor do it?</span></div>
<div class="line"><span class="lineno"> 1824</span>    rgw_bucket_dir_entry* o{<span class="keyword">nullptr</span>};</div>
<div class="line"><span class="lineno"> 1825</span>    <span class="keywordflow">for</span> (; ol.get_obj(<span class="keyword">this</span>, &amp;o <span class="comment">/* , fetch_barrier */</span>); ol.next()) {</div>
<div class="line"><span class="lineno"> 1826</span>      orule.update();</div>
<div class="line"><span class="lineno"> 1827</span>      std::tuple&lt;LCOpRule, rgw_bucket_dir_entry&gt; t1 = {orule, *o};</div>
<div class="line"><span class="lineno"> 1828</span>      worker-&gt;workpool-&gt;enqueue(<a class="code hl_typedef" href="rgw__lc_8cc.html#ae7a53dbfb5ff4060036f07a73168a45c">WorkItem</a>{t1});</div>
<div class="line"><span class="lineno"> 1829</span>    }</div>
<div class="line"><span class="lineno"> 1830</span>    worker-&gt;workpool-&gt;drain();</div>
<div class="line"><span class="lineno"> 1831</span>  }</div>
<div class="line"><span class="lineno"> 1832</span> </div>
<div class="line"><span class="lineno"> 1833</span>  ret = <a class="code hl_function" href="class_r_g_w_l_c.html#a47c69344f2b132180807be7326cef44f">handle_multipart_expiration</a>(bucket.get(), prefix_map, worker, stop_at, once);</div>
<div class="line"><span class="lineno"> 1834</span>  <span class="keywordflow">return</span> ret;</div>
<div class="line"><span class="lineno"> 1835</span>}</div>
<div class="ttc" id="aclass_l_c_objs_lister_html"><div class="ttname"><a href="class_l_c_objs_lister.html">LCObjsLister</a></div><div class="ttdef"><b>Definition</b> <a href="rgw__lc_8cc_source.html#l00424">rgw_lc.cc:424</a></div></div>
<div class="ttc" id="aclass_l_c_op_rule_html"><div class="ttname"><a href="class_l_c_op_rule.html">LCOpRule</a></div><div class="ttdef"><b>Definition</b> <a href="rgw__lc_8cc_source.html#l00693">rgw_lc.cc:693</a></div></div>
<div class="ttc" id="aclass_r_g_w_l_c_1_1_l_c_worker_html"><div class="ttname"><a href="class_r_g_w_l_c_1_1_l_c_worker.html">RGWLC::LCWorker</a></div><div class="ttdef"><b>Definition</b> <a href="rgw__lc_8h_source.html#l00474">rgw_lc.h:475</a></div></div>
<div class="ttc" id="aclass_r_g_w_l_c_1_1_l_c_worker_html_a092ec2345f1e01adf3b787037976cdd5"><div class="ttname"><a href="class_r_g_w_l_c_1_1_l_c_worker.html#a092ec2345f1e01adf3b787037976cdd5">RGWLC::LCWorker::dpp</a></div><div class="ttdeci">const DoutPrefixProvider * dpp</div><div class="ttdef"><b>Definition</b> <a href="rgw__lc_8h_source.html#l00476">rgw_lc.h:476</a></div></div>
<div class="ttc" id="aclass_r_g_w_l_c_1_1_l_c_worker_html_a6141bd5060e4ba925bc3d8b52fbc819c"><div class="ttname"><a href="class_r_g_w_l_c_1_1_l_c_worker.html#a6141bd5060e4ba925bc3d8b52fbc819c">RGWLC::LCWorker::get_lc</a></div><div class="ttdeci">RGWLC * get_lc()</div><div class="ttdef"><b>Definition</b> <a href="rgw__lc_8h_source.html#l00495">rgw_lc.h:495</a></div></div>
<div class="ttc" id="aclass_r_g_w_l_c_html_a47c69344f2b132180807be7326cef44f"><div class="ttname"><a href="class_r_g_w_l_c.html#a47c69344f2b132180807be7326cef44f">RGWLC::handle_multipart_expiration</a></div><div class="ttdeci">int handle_multipart_expiration(rgw::sal::Bucket *target, const std::multimap&lt; std::string, lc_op &gt; &amp;prefix_map, LCWorker *worker, time_t stop_at, bool once)</div><div class="ttdef"><b>Definition</b> <a href="rgw__lc_8cc_source.html#l00880">rgw_lc.cc:880</a></div></div>
<div class="ttc" id="aclass_r_g_w_lifecycle_configuration_html"><div class="ttname"><a href="class_r_g_w_lifecycle_configuration.html">RGWLifecycleConfiguration</a></div><div class="ttdef"><b>Definition</b> <a href="rgw__lc_8h_source.html#l00405">rgw_lc.h:406</a></div></div>
<div class="ttc" id="aclass_work_q_html"><div class="ttname"><a href="class_work_q.html">WorkQ</a></div><div class="ttdef"><b>Definition</b> <a href="rgw__lc_8cc_source.html#l00728">rgw_lc.cc:729</a></div></div>
<div class="ttc" id="aclassrgw_1_1sal_1_1_store_html_a3308ce50125b19ccdf5ce7f69958bd67"><div class="ttname"><a href="classrgw_1_1sal_1_1_store.html#a3308ce50125b19ccdf5ce7f69958bd67">rgw::sal::Store::get_bucket</a></div><div class="ttdeci">virtual int get_bucket(User *u, const RGWBucketInfo &amp;i, std::unique_ptr&lt; Bucket &gt; *bucket)=0</div></div>
<div class="ttc" id="anamespacergw_html_aa74ef6030865b86d25300c7309e8b191a2245023265ae4cf87d02c8b6ba991139"><div class="ttname"><a href="namespacergw.html#aa74ef6030865b86d25300c7309e8b191a2245023265ae4cf87d02c8b6ba991139">rgw::Service::config</a></div><div class="ttdeci">@ config</div></div>
<div class="ttc" id="argw__common_8h_html_a7f53e4298c577378477ce3009f21c769"><div class="ttname"><a href="rgw__common_8h.html#a7f53e4298c577378477ce3009f21c769">RGW_ATTR_LC</a></div><div class="ttdeci">#define RGW_ATTR_LC</div><div class="ttdef"><b>Definition</b> <a href="rgw__common_8h_source.html#l00072">rgw_common.h:72</a></div></div>
<div class="ttc" id="argw__lc_8cc_html_a0418dc6a51e1e130f431d7238528d401"><div class="ttname"><a href="rgw__lc_8cc.html#a0418dc6a51e1e130f431d7238528d401">is_valid_op</a></div><div class="ttdeci">static bool is_valid_op(const lc_op &amp;op)</div><div class="ttdef"><b>Definition</b> <a href="rgw__lc_8cc_source.html#l00977">rgw_lc.cc:977</a></div></div>
<div class="ttc" id="argw__lc_8cc_html_a9a76c55be419b1a6dbc5000f98c40f63"><div class="ttname"><a href="rgw__lc_8cc.html#a9a76c55be419b1a6dbc5000f98c40f63">worker_should_stop</a></div><div class="ttdeci">static bool worker_should_stop(time_t stop_at, bool once)</div><div class="ttdef"><b>Definition</b> <a href="rgw__lc_8cc_source.html#l00875">rgw_lc.cc:875</a></div></div>
<div class="ttc" id="argw__lc_8cc_html_ae7a53dbfb5ff4060036f07a73168a45c"><div class="ttname"><a href="rgw__lc_8cc.html#ae7a53dbfb5ff4060036f07a73168a45c">WorkItem</a></div><div class="ttdeci">boost::variant&lt; void *, std::tuple&lt; LCOpRule, rgw_bucket_dir_entry &gt;, std::tuple&lt; lc_op, rgw_bucket_dir_entry &gt;, rgw_bucket_dir_entry &gt; WorkItem</div><div class="ttdef"><b>Definition</b> <a href="rgw__lc_8cc_source.html#l00720">rgw_lc.cc:726</a></div></div>
<div class="ttc" id="astructop__env_html"><div class="ttname"><a href="structop__env.html">op_env</a></div><div class="ttdef"><b>Definition</b> <a href="rgw__lc_8cc_source.html#l00512">rgw_lc.cc:512</a></div></div>
<div class="ttc" id="astructrgw__obj__key_html"><div class="ttname"><a href="structrgw__obj__key.html">rgw_obj_key</a></div><div class="ttdef"><b>Definition</b> <a href="rgw__common_8h_source.html#l01248">rgw_common.h:1248</a></div></div>
</div><!-- fragment --><div class="dynheader">
이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="class_r_g_w_l_c_a269e0f1145a60261564f4c44005818f1_cgraph.png" border="0" usemap="#aclass_r_g_w_l_c_a269e0f1145a60261564f4c44005818f1_cgraph" alt=""/></div>
<map name="aclass_r_g_w_l_c_a269e0f1145a60261564f4c44005818f1_cgraph" id="aclass_r_g_w_l_c_a269e0f1145a60261564f4c44005818f1_cgraph">
<area shape="rect" title=" " alt="" coords="5,363,192,389"/>
<area shape="rect" href="class_l_c_op_rule.html#a11946c2ad30c443020a9d5a5257443c3" title=" " alt="" coords="268,5,384,32"/>
<area shape="poly" title=" " alt="" coords="99,362,111,305,135,221,153,176,176,130,204,87,238,49,253,37,257,41,241,53,209,90,181,133,158,178,140,223,116,306,104,363"/>
<area shape="rect" href="class_r_g_w_l_c_1_1_work_pool.html#ad31a6de1bd2e6d127cca4600b771fc98" title=" " alt="" coords="471,56,641,83"/>
<area shape="poly" title=" " alt="" coords="100,362,112,312,137,241,155,203,178,166,205,132,238,104,289,78,345,63,402,56,455,56,455,61,402,61,346,68,291,83,241,109,209,136,182,169,160,205,142,243,117,313,105,363"/>
<area shape="rect" href="class_r_g_w_l_c_1_1_work_pool.html#a5ad10c9f90240e8a3b168dddec3e5b0a" title=" " alt="" coords="460,107,651,133"/>
<area shape="poly" title=" " alt="" coords="101,362,115,318,142,257,160,225,182,194,208,166,238,143,287,120,340,107,394,102,445,102,444,108,394,107,341,113,289,125,241,148,212,170,186,197,165,228,146,259,120,320,106,363"/>
<area shape="rect" href="classrgw_1_1sal_1_1_store.html#a3308ce50125b19ccdf5ce7f69958bd67" title=" " alt="" coords="260,157,392,200"/>
<area shape="poly" title=" " alt="" coords="107,360,158,294,196,253,238,217,255,205,258,210,241,221,200,257,162,297,111,364"/>
<area shape="rect" href="class_r_g_w_l_c_1_1_l_c_worker.html#a6141bd5060e4ba925bc3d8b52fbc819c" title=" " alt="" coords="467,157,645,184"/>
<area shape="poly" title=" " alt="" coords="111,360,164,312,200,284,238,260,285,240,323,230,362,222,411,209,459,193,485,186,487,191,461,199,413,215,363,227,324,235,287,245,241,265,203,289,167,316,115,364"/>
<area shape="rect" href="class_l_c_objs_lister.html#a947bb056751af58a09970302d1718271" title=" " alt="" coords="253,275,399,301"/>
<area shape="poly" title=" " alt="" coords="127,360,239,311,258,304,260,309,241,316,129,365"/>
<area shape="rect" href="class_r_g_w_l_c.html#a47c69344f2b132180807be7326cef44f" title=" " alt="" coords="240,325,412,368"/>
<area shape="poly" title=" " alt="" coords="192,361,224,357,224,362,192,367"/>
<area shape="rect" href="class_r_g_w_l_c_1_1_work_pool.html#adbe45cf440e297d70737e0e93b206be4" title=" " alt="" coords="474,427,637,453"/>
<area shape="poly" title=" " alt="" coords="192,386,459,424,458,429,191,392"/>
<area shape="rect" href="rgw__lc_8cc.html#a9a76c55be419b1a6dbc5000f98c40f63" title=" " alt="" coords="488,477,624,504"/>
<area shape="poly" title=" " alt="" coords="136,387,240,423,362,452,473,474,472,479,361,458,239,428,134,392"/>
<area shape="rect" href="class_l_c_objs_lister.html#af0f5a0825ff57ecba8fda4b8c3324902" title=" " alt="" coords="265,493,387,520"/>
<area shape="poly" title=" " alt="" coords="118,388,171,428,241,472,269,485,266,490,238,477,168,433,115,392"/>
<area shape="rect" href="rgw__lc_8cc.html#a0418dc6a51e1e130f431d7238528d401" title=" " alt="" coords="284,544,368,571"/>
<area shape="poly" title=" " alt="" coords="111,388,160,456,198,496,241,530,270,543,268,548,238,534,194,500,156,460,106,392"/>
<area shape="rect" href="class_l_c_objs_lister.html#a3d6de72ff3096029814389d47a55eba4" title=" " alt="" coords="261,595,391,621"/>
<area shape="poly" title=" " alt="" coords="108,389,125,427,153,479,192,534,216,559,241,581,249,585,246,590,238,585,212,563,188,537,149,482,120,430,103,391"/>
<area shape="rect" href="class_l_c_objs_lister.html#a0e95d63e79a3154b8dd097fffa27ff0c" title=" " alt="" coords="246,645,406,672"/>
<area shape="poly" title=" " alt="" coords="106,389,120,435,147,501,187,571,212,603,241,631,247,635,244,640,238,635,208,607,182,574,142,503,115,437,101,390"/>
<area shape="rect" href="class_l_c_op_rule.html#a7396e88739ab8ebf9d44f15de65adb0c" title=" " alt="" coords="262,696,390,723"/>
<area shape="poly" title=" " alt="" coords="105,389,116,443,140,522,158,565,181,608,209,648,241,682,250,688,246,692,238,686,204,651,176,611,154,568,135,524,111,444,99,390"/>
<area shape="poly" title=" " alt="" coords="397,323,410,312,427,284,434,257,435,230,432,203,429,176,430,148,438,120,458,93,461,90,464,94,462,96,443,123,435,149,434,175,437,202,440,230,440,258,432,286,414,315,401,327"/>
<area shape="poly" title=" " alt="" coords="397,323,410,312,424,291,431,270,432,228,434,186,442,165,458,144,461,141,465,144,462,147,447,167,439,187,437,228,436,271,429,293,414,315,400,327"/>
<area shape="poly" title=" " alt="" coords="396,323,410,311,422,297,428,283,433,253,438,224,445,209,458,194,463,190,466,194,462,198,450,212,443,225,438,254,433,284,426,300,414,315,399,327"/>
<area shape="rect" href="classrgw_1_1sal_1_1_bucket.html#a57bc20e39b569fa62a2854b95b18715f" title=" " alt="" coords="485,309,626,352"/>
<area shape="poly" title=" " alt="" coords="412,338,469,334,469,339,413,343"/>
<area shape="rect" href="class_r_g_w_l_c.html#a56a8bfc53226184f5010175b54129056" title=" " alt="" coords="483,376,628,403"/>
<area shape="poly" title=" " alt="" coords="413,360,468,370,467,376,412,365"/>
<area shape="rect" href="classrgw_1_1sal_1_1_bucket.html#afbb73a2e77217763483325c942c707ef" title=" " alt="" coords="486,208,626,235"/>
<area shape="poly" title=" " alt="" coords="393,322,410,311,425,295,433,278,442,261,458,245,470,238,473,242,462,249,446,264,438,281,430,298,414,315,395,327"/>
<area shape="rect" href="rgw__lc_8cc.html#a708a4e592f52574f7b18e4697ccbdba5" title=" " alt="" coords="498,259,613,285"/>
<area shape="poly" title=" " alt="" coords="381,322,459,295,484,287,485,293,461,300,383,327"/>
<area shape="poly" title=" " alt="" coords="377,366,413,384,437,399,461,412,480,419,478,424,459,417,434,404,411,389,374,371"/>
<area shape="poly" title=" " alt="" coords="347,367,396,415,427,441,461,463,474,469,472,474,459,468,424,445,392,419,344,370"/>
<area shape="rect" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5" title=" " alt="" coords="699,393,742,420"/>
<area shape="poly" title=" " alt="" coords="614,277,634,285,653,295,673,314,689,335,711,378,707,380,684,338,669,317,650,299,632,289,613,282"/>
<area shape="poly" title=" " alt="" coords="369,518,428,532,501,542,539,542,578,538,615,529,650,514,670,498,687,477,708,434,713,436,691,480,674,502,653,518,617,534,579,543,539,547,500,547,427,538,368,523"/>
</map>
</div>
<div class="dynheader">
이 함수를 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="class_r_g_w_l_c_a269e0f1145a60261564f4c44005818f1_icgraph.png" border="0" usemap="#aclass_r_g_w_l_c_a269e0f1145a60261564f4c44005818f1_icgraph" alt=""/></div>
<map name="aclass_r_g_w_l_c_a269e0f1145a60261564f4c44005818f1_icgraph" id="aclass_r_g_w_l_c_a269e0f1145a60261564f4c44005818f1_icgraph">
<area shape="rect" title=" " alt="" coords="614,31,801,57"/>
<area shape="rect" href="class_r_g_w_l_c.html#abf0323a15e56c0155ce3d73cb3ec42a9" title=" " alt="" coords="420,5,543,32"/>
<area shape="poly" title=" " alt="" coords="599,34,543,28,544,23,599,29"/>
<area shape="rect" href="class_r_g_w_l_c.html#aac8510c6f2221507b728cd6dd12efda1" title=" " alt="" coords="397,56,566,83"/>
<area shape="poly" title=" " alt="" coords="599,59,567,62,567,57,599,54"/>
<area shape="rect" href="class_r_g_w_l_c.html#acc373fbfbc796d885451e99ac82e2fdb" title=" " alt="" coords="226,56,349,83"/>
<area shape="poly" title=" " alt="" coords="382,72,349,72,349,67,382,67"/>
<area shape="poly" title=" " alt="" coords="320,43,309,37,287,35,267,37,256,41,254,47,259,54,254,57,248,47,252,38,266,31,287,29,311,32,323,38"/>
<area shape="rect" href="class_r_g_w_l_c_1_1_l_c_worker.html#a9d6b503ea0fb811d8539195c95d0f3fe" title=" " alt="" coords="5,31,178,57"/>
<area shape="poly" title=" " alt="" coords="210,62,178,58,179,53,211,57"/>
<area shape="rect" href="class_r_g_w_rados.html#a915344e336dcc165c525c0c688536845" title=" " alt="" coords="11,81,172,108"/>
<area shape="poly" title=" " alt="" coords="211,82,173,87,172,82,210,77"/>
</map>
</div>

</div>
</div>
<a id="ae6273bb6a6e6103e07f75427d3054d80" name="ae6273bb6a6e6103e07f75427d3054d80"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae6273bb6a6e6103e07f75427d3054d80">&#9670;&#160;</a></span>expired_session()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool RGWLC::expired_session </td>
          <td>(</td>
          <td class="paramtype">time_t&#160;</td>
          <td class="paramname"><em>started</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition"><a class="el" href="rgw__lc_8cc_source.html">rgw_lc.cc</a> 파일의 <a class="el" href="rgw__lc_8cc_source.html#l01997">1997</a> 번째 라인에서 정의되었습니다.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1998</span>{</div>
<div class="line"><span class="lineno"> 1999</span>  time_t interval = (<a class="code hl_variable" href="class_r_g_w_l_c.html#ad0e784045ead1333cb606d3e3adaa4f2">cct</a>-&gt;_conf-&gt;rgw_lc_debug_interval &gt; 0)</div>
<div class="line"><span class="lineno"> 2000</span>    ? <a class="code hl_variable" href="class_r_g_w_l_c.html#ad0e784045ead1333cb606d3e3adaa4f2">cct</a>-&gt;_conf-&gt;rgw_lc_debug_interval</div>
<div class="line"><span class="lineno"> 2001</span>    : 24*60*60;</div>
<div class="line"><span class="lineno"> 2002</span> </div>
<div class="line"><span class="lineno"> 2003</span>  <span class="keyword">auto</span> now = time(<span class="keyword">nullptr</span>);</div>
<div class="line"><span class="lineno"> 2004</span> </div>
<div class="line"><span class="lineno"> 2005</span>  ldpp_dout(<span class="keyword">this</span>, 16) &lt;&lt; <span class="stringliteral">&quot;RGWLC::expired_session&quot;</span></div>
<div class="line"><span class="lineno"> 2006</span>       &lt;&lt; <span class="stringliteral">&quot; started: &quot;</span> &lt;&lt; started</div>
<div class="line"><span class="lineno"> 2007</span>       &lt;&lt; <span class="stringliteral">&quot; interval: &quot;</span> &lt;&lt; interval &lt;&lt; <span class="stringliteral">&quot;(*2==&quot;</span> &lt;&lt; 2*interval &lt;&lt; <span class="stringliteral">&quot;)&quot;</span></div>
<div class="line"><span class="lineno"> 2008</span>       &lt;&lt; <span class="stringliteral">&quot; now: &quot;</span> &lt;&lt; now</div>
<div class="line"><span class="lineno"> 2009</span>       &lt;&lt; dendl;</div>
<div class="line"><span class="lineno"> 2010</span> </div>
<div class="line"><span class="lineno"> 2011</span>  <span class="keywordflow">return</span> (started + 2*interval &lt; now);</div>
<div class="line"><span class="lineno"> 2012</span>}</div>
</div><!-- fragment --><div class="dynheader">
이 함수를 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="class_r_g_w_l_c_ae6273bb6a6e6103e07f75427d3054d80_icgraph.png" border="0" usemap="#aclass_r_g_w_l_c_ae6273bb6a6e6103e07f75427d3054d80_icgraph" alt=""/></div>
<map name="aclass_r_g_w_l_c_ae6273bb6a6e6103e07f75427d3054d80_icgraph" id="aclass_r_g_w_l_c_ae6273bb6a6e6103e07f75427d3054d80_icgraph">
<area shape="rect" title=" " alt="" coords="614,31,786,57"/>
<area shape="rect" href="class_r_g_w_l_c.html#abf0323a15e56c0155ce3d73cb3ec42a9" title=" " alt="" coords="420,5,543,32"/>
<area shape="poly" title=" " alt="" coords="599,35,543,28,544,23,599,30"/>
<area shape="rect" href="class_r_g_w_l_c.html#aac8510c6f2221507b728cd6dd12efda1" title=" " alt="" coords="397,56,566,83"/>
<area shape="poly" title=" " alt="" coords="599,58,567,62,566,57,599,53"/>
<area shape="rect" href="class_r_g_w_l_c.html#acc373fbfbc796d885451e99ac82e2fdb" title=" " alt="" coords="226,56,349,83"/>
<area shape="poly" title=" " alt="" coords="382,72,349,72,349,67,382,67"/>
<area shape="poly" title=" " alt="" coords="320,43,309,37,287,35,267,37,256,41,254,47,259,54,254,57,248,47,252,38,266,31,287,29,311,32,323,38"/>
<area shape="rect" href="class_r_g_w_l_c_1_1_l_c_worker.html#a9d6b503ea0fb811d8539195c95d0f3fe" title=" " alt="" coords="5,31,178,57"/>
<area shape="poly" title=" " alt="" coords="210,62,178,58,179,53,211,57"/>
<area shape="rect" href="class_r_g_w_rados.html#a915344e336dcc165c525c0c688536845" title=" " alt="" coords="11,81,172,108"/>
<area shape="poly" title=" " alt="" coords="211,82,173,87,172,82,210,77"/>
</map>
</div>

</div>
</div>
<a id="a6fe2a3a5b826d5eafabfb2e581d6b6dd" name="a6fe2a3a5b826d5eafabfb2e581d6b6dd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6fe2a3a5b826d5eafabfb2e581d6b6dd">&#9670;&#160;</a></span>finalize()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void RGWLC::finalize </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition"><a class="el" href="rgw__lc_8cc_source.html">rgw_lc.cc</a> 파일의 <a class="el" href="rgw__lc_8cc_source.html#l00271">271</a> 번째 라인에서 정의되었습니다.</p>
<div class="fragment"><div class="line"><span class="lineno">  272</span>{</div>
<div class="line"><span class="lineno">  273</span>  <span class="keyword">delete</span>[] <a class="code hl_variable" href="class_r_g_w_l_c.html#a7954d0b97a1f5b8fa55a083f0607e4fa">obj_names</a>;</div>
<div class="line"><span class="lineno">  274</span>}</div>
</div><!-- fragment --><div class="dynheader">
이 함수를 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="class_r_g_w_l_c_a6fe2a3a5b826d5eafabfb2e581d6b6dd_icgraph.png" border="0" usemap="#aclass_r_g_w_l_c_a6fe2a3a5b826d5eafabfb2e581d6b6dd_icgraph" alt=""/></div>
<map name="aclass_r_g_w_l_c_a6fe2a3a5b826d5eafabfb2e581d6b6dd_icgraph" id="aclass_r_g_w_l_c_a6fe2a3a5b826d5eafabfb2e581d6b6dd_icgraph">
<area shape="rect" title=" " alt="" coords="187,5,304,32"/>
<area shape="rect" href="class_r_g_w_l_c.html#a92ff5273be7fddcd7460311540bc06e0" title=" " alt="" coords="5,5,139,32"/>
<area shape="poly" title=" " alt="" coords="171,21,139,21,139,16,171,16"/>
</map>
</div>

</div>
</div>
<a id="a93a90f00c787c5392fa7d9344944692d" name="a93a90f00c787c5392fa7d9344944692d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a93a90f00c787c5392fa7d9344944692d">&#9670;&#160;</a></span>gen_prefix()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::ostream &amp; RGWLC::gen_prefix </td>
          <td>(</td>
          <td class="paramtype">std::ostream &amp;&#160;</td>
          <td class="paramname"><em>out</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition"><a class="el" href="rgw__lc_8cc_source.html">rgw_lc.cc</a> 파일의 <a class="el" href="rgw__lc_8cc_source.html#l02249">2249</a> 번째 라인에서 정의되었습니다.</p>
<div class="fragment"><div class="line"><span class="lineno"> 2250</span>{</div>
<div class="line"><span class="lineno"> 2251</span>  <span class="keywordflow">return</span> out &lt;&lt; <span class="stringliteral">&quot;lifecycle: &quot;</span>;</div>
<div class="line"><span class="lineno"> 2252</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="ac059f10c0fd6259c3a45cc72f2258e68" name="ac059f10c0fd6259c3a45cc72f2258e68"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac059f10c0fd6259c3a45cc72f2258e68">&#9670;&#160;</a></span>get_cct()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">CephContext * RGWLC::get_cct </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">override</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition"><a class="el" href="rgw__lc_8h_source.html">rgw_lc.h</a> 파일의 <a class="el" href="rgw__lc_8h_source.html#l00543">543</a> 번째 라인에서 정의되었습니다.</p>
<div class="fragment"><div class="line"><span class="lineno">  543</span>{ <span class="keywordflow">return</span> <a class="code hl_variable" href="class_r_g_w_l_c.html#ad0e784045ead1333cb606d3e3adaa4f2">cct</a>; }</div>
</div><!-- fragment -->
</div>
</div>
<a id="adbc26f4f4b40b092b72702dfdfc2e799" name="adbc26f4f4b40b092b72702dfdfc2e799"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adbc26f4f4b40b092b72702dfdfc2e799">&#9670;&#160;</a></span>get_lc()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classrgw_1_1sal_1_1_lifecycle.html">rgw::sal::Lifecycle</a> * RGWLC::get_lc </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition"><a class="el" href="rgw__lc_8h_source.html">rgw_lc.h</a> 파일의 <a class="el" href="rgw__lc_8h_source.html#l00544">544</a> 번째 라인에서 정의되었습니다.</p>
<div class="fragment"><div class="line"><span class="lineno">  544</span>{ <span class="keywordflow">return</span> <a class="code hl_variable" href="class_r_g_w_l_c.html#a93453fc6cc64ddcc2450b56bcaf9568a">sal_lc</a>.get(); }</div>
</div><!-- fragment --><div class="dynheader">
이 함수를 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="class_r_g_w_l_c_adbc26f4f4b40b092b72702dfdfc2e799_icgraph.png" border="0" usemap="#aclass_r_g_w_l_c_adbc26f4f4b40b092b72702dfdfc2e799_icgraph" alt=""/></div>
<map name="aclass_r_g_w_l_c_adbc26f4f4b40b092b72702dfdfc2e799_icgraph" id="aclass_r_g_w_l_c_adbc26f4f4b40b092b72702dfdfc2e799_icgraph">
<area shape="rect" title=" " alt="" coords="716,13,828,40"/>
<area shape="rect" href="rgw__bucket_8cc.html#a6ea24dae8e3bafa7590dd1e4e53d2d48" title=" " alt="" coords="529,13,668,40"/>
<area shape="poly" title=" " alt="" coords="700,29,668,29,668,24,700,24"/>
<area shape="rect" href="rgw__bucket_8cc.html#a4fa28f3720a2ce029a3ba87c641c46c5" title=" " alt="" coords="320,13,481,40"/>
<area shape="poly" title=" " alt="" coords="514,29,482,29,482,24,514,24"/>
<area shape="rect" href="class_r_g_w_bucket_admin_op.html#a13369ed6e9e3a4a63bbeb66a5f1640a4" title=" " alt="" coords="103,5,272,48"/>
<area shape="poly" title=" " alt="" coords="304,29,273,29,273,24,304,24"/>
<area shape="rect" href="rgw__admin_8cc.html#a217dbf8b442f20279ea00b898af96f52" title=" " alt="" coords="5,13,55,40"/>
<area shape="poly" title=" " alt="" coords="87,29,55,29,55,24,87,24"/>
</map>
</div>

</div>
</div>
<a id="a2917ae38502197a4e371e291357be6e6" name="a2917ae38502197a4e371e291357be6e6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2917ae38502197a4e371e291357be6e6">&#9670;&#160;</a></span>get_subsys()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned RGWLC::get_subsys </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition"><a class="el" href="rgw__lc_8cc_source.html">rgw_lc.cc</a> 파일의 <a class="el" href="rgw__lc_8cc_source.html#l02244">2244</a> 번째 라인에서 정의되었습니다.</p>
<div class="fragment"><div class="line"><span class="lineno"> 2245</span>{</div>
<div class="line"><span class="lineno"> 2246</span>  <span class="keywordflow">return</span> <a class="code hl_define" href="librgw_8cc.html#a5580a2b7c4743669bb9ca22b07e84324">dout_subsys</a>;</div>
<div class="line"><span class="lineno"> 2247</span>}</div>
<div class="ttc" id="alibrgw_8cc_html_a5580a2b7c4743669bb9ca22b07e84324"><div class="ttname"><a href="librgw_8cc.html#a5580a2b7c4743669bb9ca22b07e84324">dout_subsys</a></div><div class="ttdeci">#define dout_subsys</div><div class="ttdef"><b>Definition</b> <a href="librgw_8cc_source.html#l00070">librgw.cc:70</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a56a8bfc53226184f5010175b54129056" name="a56a8bfc53226184f5010175b54129056"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a56a8bfc53226184f5010175b54129056">&#9670;&#160;</a></span>going_down()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool RGWLC::going_down </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition"><a class="el" href="rgw__lc_8cc_source.html">rgw_lc.cc</a> 파일의 <a class="el" href="rgw__lc_8cc_source.html#l02260">2260</a> 번째 라인에서 정의되었습니다.</p>
<div class="fragment"><div class="line"><span class="lineno"> 2261</span>{</div>
<div class="line"><span class="lineno"> 2262</span>  <span class="keywordflow">return</span> <a class="code hl_variable" href="class_r_g_w_l_c.html#a72ea5ba4a704217ae6931acdea4f477a">down_flag</a>;</div>
<div class="line"><span class="lineno"> 2263</span>}</div>
<div class="ttc" id="aclass_r_g_w_l_c_html_a72ea5ba4a704217ae6931acdea4f477a"><div class="ttname"><a href="class_r_g_w_l_c.html#a72ea5ba4a704217ae6931acdea4f477a">RGWLC::down_flag</a></div><div class="ttdeci">std::atomic&lt; bool &gt; down_flag</div><div class="ttdef"><b>Definition</b> <a href="rgw__lc_8h_source.html#l00467">rgw_lc.h:467</a></div></div>
</div><!-- fragment --><div class="dynheader">
이 함수를 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="class_r_g_w_l_c_a56a8bfc53226184f5010175b54129056_icgraph.png" border="0" usemap="#aclass_r_g_w_l_c_a56a8bfc53226184f5010175b54129056_icgraph" alt=""/></div>
<map name="aclass_r_g_w_l_c_a56a8bfc53226184f5010175b54129056_icgraph" id="aclass_r_g_w_l_c_a56a8bfc53226184f5010175b54129056_icgraph">
<area shape="rect" title=" " alt="" coords="1069,107,1214,133"/>
<area shape="rect" href="class_work_q.html#ad03756f473154ec8feef7fc6c27129c1" title=" " alt="" coords="875,5,995,32"/>
<area shape="poly" title=" " alt="" coords="1109,100,1068,72,1020,46,990,35,992,30,1022,42,1070,68,1112,95"/>
<area shape="rect" href="class_work_q.html#a1281078a78cd40c5be3c6f73515be2ee" title=" " alt="" coords="875,56,995,83"/>
<area shape="poly" title=" " alt="" coords="1069,105,992,86,993,81,1070,100"/>
<area shape="rect" href="class_work_q.html#a5578a80378d2307e05bdb3ae9e7411f7" title=" " alt="" coords="885,107,985,133"/>
<area shape="poly" title=" " alt="" coords="1053,123,985,123,985,117,1053,117"/>
<area shape="rect" href="class_r_g_w_l_c_1_1_l_c_worker.html#a9d6b503ea0fb811d8539195c95d0f3fe" title=" " alt="" coords="5,183,178,209"/>
<area shape="poly" title=" " alt="" coords="1068,140,1021,148,866,168,709,173,480,173,320,179,178,190,178,185,319,174,480,168,709,168,865,163,1021,143,1067,134"/>
<area shape="rect" href="class_r_g_w_l_c.html#a47c69344f2b132180807be7326cef44f" title=" " alt="" coords="849,208,1021,251"/>
<area shape="poly" title=" " alt="" coords="1106,144,1022,192,986,210,983,205,1020,187,1104,139"/>
<area shape="rect" href="class_r_g_w_l_c.html#a269e0f1145a60261564f4c44005818f1" title=" " alt="" coords="614,216,801,243"/>
<area shape="poly" title=" " alt="" coords="833,232,801,232,801,227,833,227"/>
<area shape="rect" href="class_r_g_w_l_c.html#abf0323a15e56c0155ce3d73cb3ec42a9" title=" " alt="" coords="420,208,543,235"/>
<area shape="poly" title=" " alt="" coords="599,228,544,226,544,221,599,223"/>
<area shape="rect" href="class_r_g_w_l_c.html#aac8510c6f2221507b728cd6dd12efda1" title=" " alt="" coords="397,259,566,285"/>
<area shape="poly" title=" " alt="" coords="619,249,556,261,555,255,618,244"/>
<area shape="rect" href="class_r_g_w_l_c.html#acc373fbfbc796d885451e99ac82e2fdb" title=" " alt="" coords="226,245,349,272"/>
<area shape="poly" title=" " alt="" coords="382,268,349,266,350,260,382,262"/>
<area shape="poly" title=" " alt="" coords="228,243,135,213,137,207,229,238"/>
<area shape="poly" title=" " alt="" coords="320,232,309,226,287,224,267,226,256,231,254,236,259,243,254,246,248,237,252,227,266,221,287,219,311,221,323,228"/>
<area shape="rect" href="class_r_g_w_rados.html#a915344e336dcc165c525c0c688536845" title=" " alt="" coords="11,245,172,272"/>
<area shape="poly" title=" " alt="" coords="210,261,173,261,173,256,210,256"/>
</map>
</div>

</div>
</div>
<a id="a47c69344f2b132180807be7326cef44f" name="a47c69344f2b132180807be7326cef44f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a47c69344f2b132180807be7326cef44f">&#9670;&#160;</a></span>handle_multipart_expiration()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int RGWLC::handle_multipart_expiration </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classrgw_1_1sal_1_1_bucket.html">rgw::sal::Bucket</a> *&#160;</td>
          <td class="paramname"><em>target</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::multimap&lt; std::string, <a class="el" href="structlc__op.html">lc_op</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>prefix_map</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_r_g_w_l_c_1_1_l_c_worker.html">LCWorker</a> *&#160;</td>
          <td class="paramname"><em>worker</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">time_t&#160;</td>
          <td class="paramname"><em>stop_at</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>once</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition"><a class="el" href="rgw__lc_8cc_source.html">rgw_lc.cc</a> 파일의 <a class="el" href="rgw__lc_8cc_source.html#l00880">880</a> 번째 라인에서 정의되었습니다.</p>
<div class="fragment"><div class="line"><span class="lineno">  883</span>{</div>
<div class="line"><span class="lineno">  884</span>  <a class="code hl_class" href="class_multipart_meta_filter.html">MultipartMetaFilter</a> <a class="code hl_variable" href="rgw__op_8cc.html#af8e19e5f0f622fd1691f37c955943560">mp_filter</a>;</div>
<div class="line"><span class="lineno">  885</span>  <span class="keywordtype">int</span> ret;</div>
<div class="line"><span class="lineno">  886</span>  <a class="code hl_struct" href="structrgw_1_1sal_1_1_bucket_1_1_list_params.html">rgw::sal::Bucket::ListParams</a> params;</div>
<div class="line"><span class="lineno">  887</span>  <a class="code hl_struct" href="structrgw_1_1sal_1_1_bucket_1_1_list_results.html">rgw::sal::Bucket::ListResults</a> results;</div>
<div class="line"><span class="lineno">  888</span>  <span class="keyword">auto</span> delay_ms = <a class="code hl_variable" href="class_r_g_w_l_c.html#ad0e784045ead1333cb606d3e3adaa4f2">cct</a>-&gt;_conf.get_val&lt;int64_t&gt;(<span class="stringliteral">&quot;rgw_lc_thread_delay&quot;</span>);</div>
<div class="line"><span class="lineno">  889</span>  params.<a class="code hl_variable" href="structrgw_1_1sal_1_1_bucket_1_1_list_params.html#a3e5357a4fcc9044dc97ee55896d886ac">list_versions</a> = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  890</span>  <span class="comment">/* lifecycle processing does not depend on total order, so can</span></div>
<div class="line"><span class="lineno">  891</span><span class="comment">   * take advantage of unordered listing optimizations--such as</span></div>
<div class="line"><span class="lineno">  892</span><span class="comment">   * operating on one shard at a time */</span></div>
<div class="line"><span class="lineno">  893</span>  params.<a class="code hl_variable" href="structrgw_1_1sal_1_1_bucket_1_1_list_params.html#a78317932ae255789bd3114d546bf7d78">allow_unordered</a> = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  894</span>  params.<a class="code hl_variable" href="structrgw_1_1sal_1_1_bucket_1_1_list_params.html#a000855edc6e4474b7f9a1ea943512779">ns</a> = <a class="code hl_define" href="rgw__rados_8h.html#ae0aa963272f470d3884b7a4160593740">RGW_OBJ_NS_MULTIPART</a>;</div>
<div class="line"><span class="lineno">  895</span>  params.<a class="code hl_variable" href="structrgw_1_1sal_1_1_bucket_1_1_list_params.html#ad987df8d3f2222af58e9694fbf59228f">access_list_filter</a> = &amp;<a class="code hl_variable" href="rgw__op_8cc.html#af8e19e5f0f622fd1691f37c955943560">mp_filter</a>;</div>
<div class="line"><span class="lineno">  896</span> </div>
<div class="line"><span class="lineno">  897</span>  <span class="keyword">auto</span> pf = [&amp;](<a class="code hl_class" href="class_r_g_w_l_c_1_1_l_c_worker.html">RGWLC::LCWorker</a>* wk, <a class="code hl_class" href="class_work_q.html">WorkQ</a>* wq, <a class="code hl_typedef" href="rgw__lc_8cc.html#ae7a53dbfb5ff4060036f07a73168a45c">WorkItem</a>&amp; wi) {</div>
<div class="line"><span class="lineno">  898</span>    <span class="keyword">auto</span> wt = boost::get&lt;std::tuple&lt;lc_op, rgw_bucket_dir_entry&gt;&gt;(wi);</div>
<div class="line"><span class="lineno">  899</span>    <span class="keyword">auto</span>&amp; [rule, obj] = wt;</div>
<div class="line"><span class="lineno">  900</span>    <span class="keywordflow">if</span> (<a class="code hl_function" href="rgw__lc_8cc.html#a708a4e592f52574f7b18e4697ccbdba5">obj_has_expired</a>(<span class="keyword">this</span>, <a class="code hl_variable" href="class_r_g_w_l_c.html#ad0e784045ead1333cb606d3e3adaa4f2">cct</a>, obj.meta.mtime, rule.mp_expiration)) {</div>
<div class="line"><span class="lineno">  901</span>      <a class="code hl_struct" href="structrgw__obj__key.html">rgw_obj_key</a> key(obj.key);</div>
<div class="line"><span class="lineno">  902</span>      std::unique_ptr&lt;rgw::sal::MultipartUpload&gt; mpu = target-&gt;<a class="code hl_function" href="classrgw_1_1sal_1_1_bucket.html#a57bc20e39b569fa62a2854b95b18715f">get_multipart_upload</a>(key.name);</div>
<div class="line"><span class="lineno">  903</span>      <a class="code hl_class" href="class_r_g_w_object_ctx.html">RGWObjectCtx</a> rctx(<a class="code hl_variable" href="class_r_g_w_l_c.html#a6ace8b944959c1e8d882633040e03f6d">store</a>);</div>
<div class="line"><span class="lineno">  904</span>      <span class="keywordtype">int</span> ret = mpu-&gt;abort(<span class="keyword">this</span>, <a class="code hl_variable" href="class_r_g_w_l_c.html#ad0e784045ead1333cb606d3e3adaa4f2">cct</a>, &amp;rctx);</div>
<div class="line"><span class="lineno">  905</span>      <span class="keywordflow">if</span> (ret == 0) {</div>
<div class="line"><span class="lineno">  906</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="rgw__perf__counters_8cc.html#a770a29716cf802e8b212dbd61b157b2e">perfcounter</a>) {</div>
<div class="line"><span class="lineno">  907</span>          <a class="code hl_variable" href="rgw__perf__counters_8cc.html#a770a29716cf802e8b212dbd61b157b2e">perfcounter</a>-&gt;inc(<a class="code hl_enumvalue" href="rgw__perf__counters_8h.html#a05589fbab0657f08285ebdfe93f5ec9eafd3e4804c76dd446b96a077906420450">l_rgw_lc_abort_mpu</a>, 1);</div>
<div class="line"><span class="lineno">  908</span>        }</div>
<div class="line"><span class="lineno">  909</span>      } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  910</span>    <span class="keywordflow">if</span> (ret == -<a class="code hl_define" href="rgw__common_8h.html#a5670bf112bcf5bd63ff0c8bcafd09b87">ERR_NO_SUCH_UPLOAD</a>) {</div>
<div class="line"><span class="lineno">  911</span>      ldpp_dout(wk-&gt;<a class="code hl_function" href="class_r_g_w_l_c_1_1_l_c_worker.html#a6141bd5060e4ba925bc3d8b52fbc819c">get_lc</a>(), 5)</div>
<div class="line"><span class="lineno">  912</span>        &lt;&lt; <span class="stringliteral">&quot;ERROR: abort_multipart_upload failed, ret=&quot;</span> &lt;&lt; ret</div>
<div class="line"><span class="lineno">  913</span>        &lt;&lt; <span class="stringliteral">&quot;, thread:&quot;</span> &lt;&lt; wq-&gt;thr_name()</div>
<div class="line"><span class="lineno">  914</span>        &lt;&lt; <span class="stringliteral">&quot;, meta:&quot;</span> &lt;&lt; obj.key</div>
<div class="line"><span class="lineno">  915</span>        &lt;&lt; dendl;</div>
<div class="line"><span class="lineno">  916</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  917</span>      ldpp_dout(wk-&gt;<a class="code hl_function" href="class_r_g_w_l_c_1_1_l_c_worker.html#a6141bd5060e4ba925bc3d8b52fbc819c">get_lc</a>(), 0)</div>
<div class="line"><span class="lineno">  918</span>        &lt;&lt; <span class="stringliteral">&quot;ERROR: abort_multipart_upload failed, ret=&quot;</span> &lt;&lt; ret</div>
<div class="line"><span class="lineno">  919</span>        &lt;&lt; <span class="stringliteral">&quot;, thread:&quot;</span> &lt;&lt; wq-&gt;thr_name()</div>
<div class="line"><span class="lineno">  920</span>        &lt;&lt; <span class="stringliteral">&quot;, meta:&quot;</span> &lt;&lt; obj.key</div>
<div class="line"><span class="lineno">  921</span>        &lt;&lt; dendl;</div>
<div class="line"><span class="lineno">  922</span>    }</div>
<div class="line"><span class="lineno">  923</span>      } <span class="comment">/* abort failed */</span></div>
<div class="line"><span class="lineno">  924</span>    } <span class="comment">/* expired */</span></div>
<div class="line"><span class="lineno">  925</span>  };</div>
<div class="line"><span class="lineno">  926</span> </div>
<div class="line"><span class="lineno">  927</span>  worker-&gt;workpool-&gt;setf(pf);</div>
<div class="line"><span class="lineno">  928</span> </div>
<div class="line"><span class="lineno">  929</span>  <span class="keywordflow">for</span> (<span class="keyword">auto</span> prefix_iter = prefix_map.begin(); prefix_iter != prefix_map.end();</div>
<div class="line"><span class="lineno">  930</span>       ++prefix_iter) {</div>
<div class="line"><span class="lineno">  931</span> </div>
<div class="line"><span class="lineno">  932</span>    <span class="keywordflow">if</span> (<a class="code hl_function" href="rgw__lc_8cc.html#a9a76c55be419b1a6dbc5000f98c40f63">worker_should_stop</a>(stop_at, once)) {</div>
<div class="line"><span class="lineno">  933</span>      ldpp_dout(<span class="keyword">this</span>, 5) &lt;&lt; __func__ &lt;&lt; <span class="stringliteral">&quot; interval budget EXPIRED worker &quot;</span></div>
<div class="line"><span class="lineno">  934</span>             &lt;&lt; worker-&gt;ix</div>
<div class="line"><span class="lineno">  935</span>             &lt;&lt; dendl;</div>
<div class="line"><span class="lineno">  936</span>      <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">  937</span>    }</div>
<div class="line"><span class="lineno">  938</span> </div>
<div class="line"><span class="lineno">  939</span>    <span class="keywordflow">if</span> (!prefix_iter-&gt;second.status || prefix_iter-&gt;second.mp_expiration &lt;= 0) {</div>
<div class="line"><span class="lineno">  940</span>      <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno">  941</span>    }</div>
<div class="line"><span class="lineno">  942</span>    params.<a class="code hl_variable" href="structrgw_1_1sal_1_1_bucket_1_1_list_params.html#adb0883ba21530e4181ef90c7bfea71d4">prefix</a> = prefix_iter-&gt;first;</div>
<div class="line"><span class="lineno">  943</span>    <span class="keywordflow">do</span> {</div>
<div class="line"><span class="lineno">  944</span>      results.<a class="code hl_variable" href="structrgw_1_1sal_1_1_bucket_1_1_list_results.html#ad2d05625f45090ae48961cca1ac235c1">objs</a>.clear();</div>
<div class="line"><span class="lineno">  945</span>      ret = target-&gt;<a class="code hl_function" href="classrgw_1_1sal_1_1_bucket.html#afbb73a2e77217763483325c942c707ef">list</a>(<span class="keyword">this</span>, params, 1000, results, null_yield);</div>
<div class="line"><span class="lineno">  946</span>      <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno">  947</span>          <span class="keywordflow">if</span> (ret == (-ENOENT))</div>
<div class="line"><span class="lineno">  948</span>            <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">  949</span>          ldpp_dout(<span class="keyword">this</span>, 0) &lt;&lt; <span class="stringliteral">&quot;ERROR: store-&gt;list_objects():&quot;</span> &lt;&lt;dendl;</div>
<div class="line"><span class="lineno">  950</span>          <span class="keywordflow">return</span> ret;</div>
<div class="line"><span class="lineno">  951</span>      }</div>
<div class="line"><span class="lineno">  952</span> </div>
<div class="line"><span class="lineno">  953</span>      <span class="keywordflow">for</span> (<span class="keyword">auto</span> obj_iter = results.<a class="code hl_variable" href="structrgw_1_1sal_1_1_bucket_1_1_list_results.html#ad2d05625f45090ae48961cca1ac235c1">objs</a>.begin(); obj_iter != results.<a class="code hl_variable" href="structrgw_1_1sal_1_1_bucket_1_1_list_results.html#ad2d05625f45090ae48961cca1ac235c1">objs</a>.end(); ++obj_iter) {</div>
<div class="line"><span class="lineno">  954</span>    std::tuple&lt;lc_op, rgw_bucket_dir_entry&gt; t1 =</div>
<div class="line"><span class="lineno">  955</span>      {prefix_iter-&gt;second, *obj_iter};</div>
<div class="line"><span class="lineno">  956</span>    worker-&gt;workpool-&gt;enqueue(<a class="code hl_typedef" href="rgw__lc_8cc.html#ae7a53dbfb5ff4060036f07a73168a45c">WorkItem</a>{t1});</div>
<div class="line"><span class="lineno">  957</span>    <span class="keywordflow">if</span> (<a class="code hl_function" href="class_r_g_w_l_c.html#a56a8bfc53226184f5010175b54129056">going_down</a>()) {</div>
<div class="line"><span class="lineno">  958</span>      <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">  959</span>    }</div>
<div class="line"><span class="lineno">  960</span>      } <span class="comment">/* for objs */</span></div>
<div class="line"><span class="lineno">  961</span> </div>
<div class="line"><span class="lineno">  962</span>      std::this_thread::sleep_for(std::chrono::milliseconds(delay_ms));</div>
<div class="line"><span class="lineno">  963</span>    } <span class="keywordflow">while</span>(results.<a class="code hl_variable" href="structrgw_1_1sal_1_1_bucket_1_1_list_results.html#a5b9a541d2f6fe22f99cbaa279c8d12e4">is_truncated</a>);</div>
<div class="line"><span class="lineno">  964</span>  } <span class="comment">/* for prefix_map */</span></div>
<div class="line"><span class="lineno">  965</span> </div>
<div class="line"><span class="lineno">  966</span>  worker-&gt;workpool-&gt;drain();</div>
<div class="line"><span class="lineno">  967</span>  <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">  968</span>}</div>
<div class="ttc" id="aclass_multipart_meta_filter_html"><div class="ttname"><a href="class_multipart_meta_filter.html">MultipartMetaFilter</a></div><div class="ttdef"><b>Definition</b> <a href="svc__tier__rados_8h_source.html#l00113">svc_tier_rados.h:113</a></div></div>
<div class="ttc" id="aclass_r_g_w_l_c_html_a56a8bfc53226184f5010175b54129056"><div class="ttname"><a href="class_r_g_w_l_c.html#a56a8bfc53226184f5010175b54129056">RGWLC::going_down</a></div><div class="ttdeci">bool going_down()</div><div class="ttdef"><b>Definition</b> <a href="rgw__lc_8cc_source.html#l02260">rgw_lc.cc:2260</a></div></div>
<div class="ttc" id="aclass_r_g_w_object_ctx_html"><div class="ttname"><a href="class_r_g_w_object_ctx.html">RGWObjectCtx</a></div><div class="ttdef"><b>Definition</b> <a href="rgw__rados_8h_source.html#l00187">rgw_rados.h:187</a></div></div>
<div class="ttc" id="aclassrgw_1_1sal_1_1_bucket_html_a57bc20e39b569fa62a2854b95b18715f"><div class="ttname"><a href="classrgw_1_1sal_1_1_bucket.html#a57bc20e39b569fa62a2854b95b18715f">rgw::sal::Bucket::get_multipart_upload</a></div><div class="ttdeci">virtual std::unique_ptr&lt; MultipartUpload &gt; get_multipart_upload(const std::string &amp;oid, std::optional&lt; std::string &gt; upload_id=std::nullopt, ACLOwner owner={}, ceph::real_time mtime=real_clock::now())=0</div></div>
<div class="ttc" id="aclassrgw_1_1sal_1_1_bucket_html_afbb73a2e77217763483325c942c707ef"><div class="ttname"><a href="classrgw_1_1sal_1_1_bucket.html#afbb73a2e77217763483325c942c707ef">rgw::sal::Bucket::list</a></div><div class="ttdeci">virtual int list(const DoutPrefixProvider *dpp, ListParams &amp;, int, ListResults &amp;, optional_yield y)=0</div></div>
<div class="ttc" id="argw__common_8h_html_a5670bf112bcf5bd63ff0c8bcafd09b87"><div class="ttname"><a href="rgw__common_8h.html#a5670bf112bcf5bd63ff0c8bcafd09b87">ERR_NO_SUCH_UPLOAD</a></div><div class="ttdeci">#define ERR_NO_SUCH_UPLOAD</div><div class="ttdef"><b>Definition</b> <a href="rgw__common_8h_source.html#l00203">rgw_common.h:203</a></div></div>
<div class="ttc" id="argw__lc_8cc_html_a708a4e592f52574f7b18e4697ccbdba5"><div class="ttname"><a href="rgw__lc_8cc.html#a708a4e592f52574f7b18e4697ccbdba5">obj_has_expired</a></div><div class="ttdeci">static bool obj_has_expired(const DoutPrefixProvider *dpp, CephContext *cct, ceph::real_time mtime, int days, ceph::real_time *expire_time=nullptr)</div><div class="ttdef"><b>Definition</b> <a href="rgw__lc_8cc_source.html#l00346">rgw_lc.cc:346</a></div></div>
<div class="ttc" id="argw__op_8cc_html_af8e19e5f0f622fd1691f37c955943560"><div class="ttname"><a href="rgw__op_8cc.html#af8e19e5f0f622fd1691f37c955943560">mp_filter</a></div><div class="ttdeci">static MultipartMetaFilter mp_filter</div><div class="ttdef"><b>Definition</b> <a href="rgw__op_8cc_source.html#l00096">rgw_op.cc:96</a></div></div>
<div class="ttc" id="argw__perf__counters_8cc_html_a770a29716cf802e8b212dbd61b157b2e"><div class="ttname"><a href="rgw__perf__counters_8cc.html#a770a29716cf802e8b212dbd61b157b2e">perfcounter</a></div><div class="ttdeci">PerfCounters * perfcounter</div><div class="ttdef"><b>Definition</b> <a href="rgw__perf__counters_8cc_source.html#l00008">rgw_perf_counters.cc:8</a></div></div>
<div class="ttc" id="argw__perf__counters_8h_html_a05589fbab0657f08285ebdfe93f5ec9eafd3e4804c76dd446b96a077906420450"><div class="ttname"><a href="rgw__perf__counters_8h.html#a05589fbab0657f08285ebdfe93f5ec9eafd3e4804c76dd446b96a077906420450">l_rgw_lc_abort_mpu</a></div><div class="ttdeci">@ l_rgw_lc_abort_mpu</div><div class="ttdef"><b>Definition</b> <a href="rgw__perf__counters_8h_source.html#l00041">rgw_perf_counters.h:41</a></div></div>
<div class="ttc" id="argw__rados_8h_html_ae0aa963272f470d3884b7a4160593740"><div class="ttname"><a href="rgw__rados_8h.html#ae0aa963272f470d3884b7a4160593740">RGW_OBJ_NS_MULTIPART</a></div><div class="ttdeci">#define RGW_OBJ_NS_MULTIPART</div><div class="ttdef"><b>Definition</b> <a href="rgw__rados_8h_source.html#l00066">rgw_rados.h:66</a></div></div>
<div class="ttc" id="astructrgw_1_1sal_1_1_bucket_1_1_list_params_html"><div class="ttname"><a href="structrgw_1_1sal_1_1_bucket_1_1_list_params.html">rgw::sal::Bucket::ListParams</a></div><div class="ttdoc">Parameters for a bucket list operation</div><div class="ttdef"><b>Definition</b> <a href="rgw__sal_8h_source.html#l00567">rgw_sal.h:567</a></div></div>
<div class="ttc" id="astructrgw_1_1sal_1_1_bucket_1_1_list_params_html_a000855edc6e4474b7f9a1ea943512779"><div class="ttname"><a href="structrgw_1_1sal_1_1_bucket_1_1_list_params.html#a000855edc6e4474b7f9a1ea943512779">rgw::sal::Bucket::ListParams::ns</a></div><div class="ttdeci">std::string ns</div><div class="ttdef"><b>Definition</b> <a href="rgw__sal_8h_source.html#l00572">rgw_sal.h:572</a></div></div>
<div class="ttc" id="astructrgw_1_1sal_1_1_bucket_1_1_list_params_html_a3e5357a4fcc9044dc97ee55896d886ac"><div class="ttname"><a href="structrgw_1_1sal_1_1_bucket_1_1_list_params.html#a3e5357a4fcc9044dc97ee55896d886ac">rgw::sal::Bucket::ListParams::list_versions</a></div><div class="ttdeci">bool list_versions</div><div class="ttdef"><b>Definition</b> <a href="rgw__sal_8h_source.html#l00576">rgw_sal.h:576</a></div></div>
<div class="ttc" id="astructrgw_1_1sal_1_1_bucket_1_1_list_params_html_a78317932ae255789bd3114d546bf7d78"><div class="ttname"><a href="structrgw_1_1sal_1_1_bucket_1_1_list_params.html#a78317932ae255789bd3114d546bf7d78">rgw::sal::Bucket::ListParams::allow_unordered</a></div><div class="ttdeci">bool allow_unordered</div><div class="ttdef"><b>Definition</b> <a href="rgw__sal_8h_source.html#l00577">rgw_sal.h:577</a></div></div>
<div class="ttc" id="astructrgw_1_1sal_1_1_bucket_1_1_list_params_html_ad987df8d3f2222af58e9694fbf59228f"><div class="ttname"><a href="structrgw_1_1sal_1_1_bucket_1_1_list_params.html#ad987df8d3f2222af58e9694fbf59228f">rgw::sal::Bucket::ListParams::access_list_filter</a></div><div class="ttdeci">RGWAccessListFilter * access_list_filter</div><div class="ttdef"><b>Definition</b> <a href="rgw__sal_8h_source.html#l00574">rgw_sal.h:574</a></div></div>
<div class="ttc" id="astructrgw_1_1sal_1_1_bucket_1_1_list_params_html_adb0883ba21530e4181ef90c7bfea71d4"><div class="ttname"><a href="structrgw_1_1sal_1_1_bucket_1_1_list_params.html#adb0883ba21530e4181ef90c7bfea71d4">rgw::sal::Bucket::ListParams::prefix</a></div><div class="ttdeci">std::string prefix</div><div class="ttdef"><b>Definition</b> <a href="rgw__sal_8h_source.html#l00568">rgw_sal.h:568</a></div></div>
<div class="ttc" id="astructrgw_1_1sal_1_1_bucket_1_1_list_results_html"><div class="ttname"><a href="structrgw_1_1sal_1_1_bucket_1_1_list_results.html">rgw::sal::Bucket::ListResults</a></div><div class="ttdoc">Results from a bucket list operation</div><div class="ttdef"><b>Definition</b> <a href="rgw__sal_8h_source.html#l00597">rgw_sal.h:597</a></div></div>
<div class="ttc" id="astructrgw_1_1sal_1_1_bucket_1_1_list_results_html_a5b9a541d2f6fe22f99cbaa279c8d12e4"><div class="ttname"><a href="structrgw_1_1sal_1_1_bucket_1_1_list_results.html#a5b9a541d2f6fe22f99cbaa279c8d12e4">rgw::sal::Bucket::ListResults::is_truncated</a></div><div class="ttdeci">bool is_truncated</div><div class="ttdef"><b>Definition</b> <a href="rgw__sal_8h_source.html#l00600">rgw_sal.h:600</a></div></div>
<div class="ttc" id="astructrgw_1_1sal_1_1_bucket_1_1_list_results_html_ad2d05625f45090ae48961cca1ac235c1"><div class="ttname"><a href="structrgw_1_1sal_1_1_bucket_1_1_list_results.html#ad2d05625f45090ae48961cca1ac235c1">rgw::sal::Bucket::ListResults::objs</a></div><div class="ttdeci">std::vector&lt; rgw_bucket_dir_entry &gt; objs</div><div class="ttdef"><b>Definition</b> <a href="rgw__sal_8h_source.html#l00598">rgw_sal.h:598</a></div></div>
</div><!-- fragment --><div class="dynheader">
이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="class_r_g_w_l_c_a47c69344f2b132180807be7326cef44f_cgraph.png" border="0" usemap="#aclass_r_g_w_l_c_a47c69344f2b132180807be7326cef44f_cgraph" alt=""/></div>
<map name="aclass_r_g_w_l_c_a47c69344f2b132180807be7326cef44f_cgraph" id="aclass_r_g_w_l_c_a47c69344f2b132180807be7326cef44f_cgraph">
<area shape="rect" title=" " alt="" coords="5,216,178,259"/>
<area shape="rect" href="class_r_g_w_l_c_1_1_work_pool.html#ad31a6de1bd2e6d127cca4600b771fc98" title=" " alt="" coords="236,5,407,32"/>
<area shape="poly" title=" " alt="" coords="99,214,117,177,144,130,180,82,224,42,232,37,235,41,227,46,184,86,148,133,122,179,104,217"/>
<area shape="rect" href="class_r_g_w_l_c_1_1_work_pool.html#a5ad10c9f90240e8a3b168dddec3e5b0a" title=" " alt="" coords="226,56,417,83"/>
<area shape="poly" title=" " alt="" coords="105,214,153,153,186,120,224,92,235,87,237,92,227,97,190,124,157,157,109,217"/>
<area shape="rect" href="class_r_g_w_l_c_1_1_l_c_worker.html#a6141bd5060e4ba925bc3d8b52fbc819c" title=" " alt="" coords="232,107,411,133"/>
<area shape="poly" title=" " alt="" coords="117,213,165,177,224,143,240,136,243,141,227,148,168,182,120,218"/>
<area shape="rect" href="classrgw_1_1sal_1_1_bucket.html#a57bc20e39b569fa62a2854b95b18715f" title=" " alt="" coords="251,157,392,200"/>
<area shape="poly" title=" " alt="" coords="177,213,235,198,237,203,178,218"/>
<area shape="rect" href="class_r_g_w_l_c.html#a56a8bfc53226184f5010175b54129056" title=" " alt="" coords="249,224,394,251"/>
<area shape="poly" title=" " alt="" coords="178,235,233,235,233,240,178,240"/>
<area shape="rect" href="classrgw_1_1sal_1_1_bucket.html#afbb73a2e77217763483325c942c707ef" title=" " alt="" coords="251,275,392,301"/>
<area shape="poly" title=" " alt="" coords="179,254,243,268,242,273,177,259"/>
<area shape="rect" href="rgw__lc_8cc.html#a708a4e592f52574f7b18e4697ccbdba5" title=" " alt="" coords="264,325,379,352"/>
<area shape="poly" title=" " alt="" coords="127,257,173,285,227,311,250,319,248,324,225,316,171,289,124,261"/>
<area shape="rect" href="class_r_g_w_l_c_1_1_work_pool.html#adbe45cf440e297d70737e0e93b206be4" title=" " alt="" coords="240,376,403,403"/>
<area shape="poly" title=" " alt="" coords="112,257,160,310,192,338,227,362,239,368,236,372,224,366,189,342,156,314,108,261"/>
<area shape="rect" href="rgw__lc_8cc.html#a9a76c55be419b1a6dbc5000f98c40f63" title=" " alt="" coords="253,427,390,453"/>
<area shape="poly" title=" " alt="" coords="105,258,124,292,151,334,186,377,227,412,240,420,237,424,224,417,182,380,147,337,119,295,101,260"/>
<area shape="rect" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5" title=" " alt="" coords="465,325,507,352"/>
<area shape="poly" title=" " alt="" coords="379,336,450,336,450,341,379,341"/>
</map>
</div>
<div class="dynheader">
이 함수를 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="class_r_g_w_l_c_a47c69344f2b132180807be7326cef44f_icgraph.png" border="0" usemap="#aclass_r_g_w_l_c_a47c69344f2b132180807be7326cef44f_icgraph" alt=""/></div>
<map name="aclass_r_g_w_l_c_a47c69344f2b132180807be7326cef44f_icgraph" id="aclass_r_g_w_l_c_a47c69344f2b132180807be7326cef44f_icgraph">
<area shape="rect" title=" " alt="" coords="849,23,1021,65"/>
<area shape="rect" href="class_r_g_w_l_c.html#a269e0f1145a60261564f4c44005818f1" title=" " alt="" coords="614,31,801,57"/>
<area shape="poly" title=" " alt="" coords="833,47,801,47,801,41,833,41"/>
<area shape="rect" href="class_r_g_w_l_c.html#abf0323a15e56c0155ce3d73cb3ec42a9" title=" " alt="" coords="420,5,543,32"/>
<area shape="poly" title=" " alt="" coords="599,34,543,28,544,23,599,29"/>
<area shape="rect" href="class_r_g_w_l_c.html#aac8510c6f2221507b728cd6dd12efda1" title=" " alt="" coords="397,56,566,83"/>
<area shape="poly" title=" " alt="" coords="599,59,567,62,567,57,599,54"/>
<area shape="rect" href="class_r_g_w_l_c.html#acc373fbfbc796d885451e99ac82e2fdb" title=" " alt="" coords="226,56,349,83"/>
<area shape="poly" title=" " alt="" coords="382,72,349,72,349,67,382,67"/>
<area shape="poly" title=" " alt="" coords="320,43,309,37,287,35,267,37,256,41,254,47,259,54,254,57,248,47,252,38,266,31,287,29,311,32,323,38"/>
<area shape="rect" href="class_r_g_w_l_c_1_1_l_c_worker.html#a9d6b503ea0fb811d8539195c95d0f3fe" title=" " alt="" coords="5,31,178,57"/>
<area shape="poly" title=" " alt="" coords="210,62,178,58,179,53,211,57"/>
<area shape="rect" href="class_r_g_w_rados.html#a915344e336dcc165c525c0c688536845" title=" " alt="" coords="11,81,172,108"/>
<area shape="poly" title=" " alt="" coords="211,82,173,87,172,82,210,77"/>
</map>
</div>

</div>
</div>
<a id="a090674bf9727b02d5565a09b8b00c0ac" name="a090674bf9727b02d5565a09b8b00c0ac"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a090674bf9727b02d5565a09b8b00c0ac">&#9670;&#160;</a></span>if_already_run_today()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool RGWLC::if_already_run_today </td>
          <td>(</td>
          <td class="paramtype">time_t&#160;</td>
          <td class="paramname"><em>start_date</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition"><a class="el" href="rgw__lc_8cc_source.html">rgw_lc.cc</a> 파일의 <a class="el" href="rgw__lc_8cc_source.html#l00276">276</a> 번째 라인에서 정의되었습니다.</p>
<div class="fragment"><div class="line"><span class="lineno">  277</span>{</div>
<div class="line"><span class="lineno">  278</span>  <span class="keyword">struct </span>tm bdt;</div>
<div class="line"><span class="lineno">  279</span>  time_t begin_of_day;</div>
<div class="line"><span class="lineno">  280</span>  utime_t now = ceph_clock_now();</div>
<div class="line"><span class="lineno">  281</span>  localtime_r(&amp;start_date, &amp;bdt);</div>
<div class="line"><span class="lineno">  282</span> </div>
<div class="line"><span class="lineno">  283</span>  <span class="keywordflow">if</span> (<a class="code hl_variable" href="class_r_g_w_l_c.html#ad0e784045ead1333cb606d3e3adaa4f2">cct</a>-&gt;_conf-&gt;rgw_lc_debug_interval &gt; 0) {</div>
<div class="line"><span class="lineno">  284</span>    <span class="keywordflow">if</span> (now - start_date &lt; cct-&gt;_conf-&gt;rgw_lc_debug_interval)</div>
<div class="line"><span class="lineno">  285</span>      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  286</span>    <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  287</span>      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  288</span>  }</div>
<div class="line"><span class="lineno">  289</span> </div>
<div class="line"><span class="lineno">  290</span>  bdt.tm_hour = 0;</div>
<div class="line"><span class="lineno">  291</span>  bdt.tm_min = 0;</div>
<div class="line"><span class="lineno">  292</span>  bdt.tm_sec = 0;</div>
<div class="line"><span class="lineno">  293</span>  begin_of_day = mktime(&amp;bdt);</div>
<div class="line"><span class="lineno">  294</span>  <span class="keywordflow">if</span> (now - begin_of_day &lt; 24*60*60)</div>
<div class="line"><span class="lineno">  295</span>    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  296</span>  <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  297</span>    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  298</span>}</div>
</div><!-- fragment --><div class="dynheader">
이 함수를 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="class_r_g_w_l_c_a090674bf9727b02d5565a09b8b00c0ac_icgraph.png" border="0" usemap="#aclass_r_g_w_l_c_a090674bf9727b02d5565a09b8b00c0ac_icgraph" alt=""/></div>
<map name="aclass_r_g_w_l_c_a090674bf9727b02d5565a09b8b00c0ac_icgraph" id="aclass_r_g_w_l_c_a090674bf9727b02d5565a09b8b00c0ac_icgraph">
<area shape="rect" title=" " alt="" coords="177,5,334,48"/>
<area shape="rect" href="class_r_g_w_l_c.html#abf0323a15e56c0155ce3d73cb3ec42a9" title=" " alt="" coords="5,13,129,40"/>
<area shape="poly" title=" " alt="" coords="161,29,129,29,129,24,161,24"/>
</map>
</div>

</div>
</div>
<a id="a835d35d68cb14af9df63e34f8036486f" name="a835d35d68cb14af9df63e34f8036486f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a835d35d68cb14af9df63e34f8036486f">&#9670;&#160;</a></span>initialize()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void RGWLC::initialize </td>
          <td>(</td>
          <td class="paramtype">CephContext *&#160;</td>
          <td class="paramname"><em>_cct</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classrgw_1_1sal_1_1_store.html">rgw::sal::Store</a> *&#160;</td>
          <td class="paramname"><em>_store</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition"><a class="el" href="rgw__lc_8cc_source.html">rgw_lc.cc</a> 파일의 <a class="el" href="rgw__lc_8cc_source.html#l00248">248</a> 번째 라인에서 정의되었습니다.</p>
<div class="fragment"><div class="line"><span class="lineno">  248</span>                                                             {</div>
<div class="line"><span class="lineno">  249</span>  <a class="code hl_variable" href="class_r_g_w_l_c.html#ad0e784045ead1333cb606d3e3adaa4f2">cct</a> = _cct;</div>
<div class="line"><span class="lineno">  250</span>  <a class="code hl_variable" href="class_r_g_w_l_c.html#a6ace8b944959c1e8d882633040e03f6d">store</a> = _store;</div>
<div class="line"><span class="lineno">  251</span>  <a class="code hl_variable" href="class_r_g_w_l_c.html#a93453fc6cc64ddcc2450b56bcaf9568a">sal_lc</a> = <a class="code hl_variable" href="class_r_g_w_l_c.html#a6ace8b944959c1e8d882633040e03f6d">store</a>-&gt;<a class="code hl_function" href="classrgw_1_1sal_1_1_store.html#a90f38b19365292b72f9cf1d8900559aa">get_lifecycle</a>();</div>
<div class="line"><span class="lineno">  252</span>  <a class="code hl_variable" href="class_r_g_w_l_c.html#a6d6111ee8844a3f98755e04cdda65126">max_objs</a> = <a class="code hl_variable" href="class_r_g_w_l_c.html#ad0e784045ead1333cb606d3e3adaa4f2">cct</a>-&gt;_conf-&gt;rgw_lc_max_objs;</div>
<div class="line"><span class="lineno">  253</span>  <span class="keywordflow">if</span> (<a class="code hl_variable" href="class_r_g_w_l_c.html#a6d6111ee8844a3f98755e04cdda65126">max_objs</a> &gt; <a class="code hl_define" href="rgw__lc_8h.html#a3340643b9fb0a58333f04e75ff897e03">HASH_PRIME</a>)</div>
<div class="line"><span class="lineno">  254</span>    <a class="code hl_variable" href="class_r_g_w_l_c.html#a6d6111ee8844a3f98755e04cdda65126">max_objs</a> = <a class="code hl_define" href="rgw__lc_8h.html#a3340643b9fb0a58333f04e75ff897e03">HASH_PRIME</a>;</div>
<div class="line"><span class="lineno">  255</span> </div>
<div class="line"><span class="lineno">  256</span>  <a class="code hl_variable" href="class_r_g_w_l_c.html#a7954d0b97a1f5b8fa55a083f0607e4fa">obj_names</a> = <span class="keyword">new</span> <span class="keywordtype">string</span>[<a class="code hl_variable" href="class_r_g_w_l_c.html#a6d6111ee8844a3f98755e04cdda65126">max_objs</a>];</div>
<div class="line"><span class="lineno">  257</span> </div>
<div class="line"><span class="lineno">  258</span>  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; <a class="code hl_variable" href="class_r_g_w_l_c.html#a6d6111ee8844a3f98755e04cdda65126">max_objs</a>; i++) {</div>
<div class="line"><span class="lineno">  259</span>    <a class="code hl_variable" href="class_r_g_w_l_c.html#a7954d0b97a1f5b8fa55a083f0607e4fa">obj_names</a>[i] = <a class="code hl_variable" href="rgw__lc_8h.html#aa37ae7adcf731557ea96e49b123707ef">lc_oid_prefix</a>;</div>
<div class="line"><span class="lineno">  260</span>    <span class="keywordtype">char</span> buf[32];</div>
<div class="line"><span class="lineno">  261</span>    snprintf(buf, 32, <span class="stringliteral">&quot;.%d&quot;</span>, i);</div>
<div class="line"><span class="lineno">  262</span>    <a class="code hl_variable" href="class_r_g_w_l_c.html#a7954d0b97a1f5b8fa55a083f0607e4fa">obj_names</a>[i].append(buf);</div>
<div class="line"><span class="lineno">  263</span>  }</div>
<div class="line"><span class="lineno">  264</span> </div>
<div class="line"><span class="lineno">  265</span><span class="preprocessor">#define COOKIE_LEN 16</span></div>
<div class="line"><span class="lineno">  266</span>  <span class="keywordtype">char</span> cookie_buf[<a class="code hl_define" href="rgw__cr__rados_8h.html#a61ef017ccbfcbd775738c77bb86b5453">COOKIE_LEN</a> + 1];</div>
<div class="line"><span class="lineno">  267</span>  gen_rand_alphanumeric(<a class="code hl_variable" href="class_r_g_w_l_c.html#ad0e784045ead1333cb606d3e3adaa4f2">cct</a>, cookie_buf, <span class="keyword">sizeof</span>(cookie_buf) - 1);</div>
<div class="line"><span class="lineno">  268</span>  <a class="code hl_variable" href="class_r_g_w_l_c.html#a7bfaa1ecf9b25497f0b5c2a1d4ce7b8b">cookie</a> = cookie_buf;</div>
<div class="line"><span class="lineno">  269</span>}</div>
<div class="ttc" id="aclass_r_g_w_l_c_html_a6d6111ee8844a3f98755e04cdda65126"><div class="ttname"><a href="class_r_g_w_l_c.html#a6d6111ee8844a3f98755e04cdda65126">RGWLC::max_objs</a></div><div class="ttdeci">int max_objs</div><div class="ttdef"><b>Definition</b> <a href="rgw__lc_8h_source.html#l00465">rgw_lc.h:465</a></div></div>
<div class="ttc" id="aclassrgw_1_1sal_1_1_store_html_a90f38b19365292b72f9cf1d8900559aa"><div class="ttname"><a href="classrgw_1_1sal_1_1_store.html#a90f38b19365292b72f9cf1d8900559aa">rgw::sal::Store::get_lifecycle</a></div><div class="ttdeci">virtual std::unique_ptr&lt; Lifecycle &gt; get_lifecycle(void)=0</div></div>
<div class="ttc" id="argw__cr__rados_8h_html_a61ef017ccbfcbd775738c77bb86b5453"><div class="ttname"><a href="rgw__cr__rados_8h.html#a61ef017ccbfcbd775738c77bb86b5453">COOKIE_LEN</a></div><div class="ttdeci">#define COOKIE_LEN</div></div>
<div class="ttc" id="argw__lc_8h_html_a3340643b9fb0a58333f04e75ff897e03"><div class="ttname"><a href="rgw__lc_8h.html#a3340643b9fb0a58333f04e75ff897e03">HASH_PRIME</a></div><div class="ttdeci">#define HASH_PRIME</div><div class="ttdef"><b>Definition</b> <a href="rgw__lc_8h_source.html#l00027">rgw_lc.h:27</a></div></div>
<div class="ttc" id="argw__lc_8h_html_aa37ae7adcf731557ea96e49b123707ef"><div class="ttname"><a href="rgw__lc_8h.html#aa37ae7adcf731557ea96e49b123707ef">lc_oid_prefix</a></div><div class="ttdeci">static std::string lc_oid_prefix</div><div class="ttdef"><b>Definition</b> <a href="rgw__lc_8h_source.html#l00029">rgw_lc.h:29</a></div></div>
</div><!-- fragment --><div class="dynheader">
이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="class_r_g_w_l_c_a835d35d68cb14af9df63e34f8036486f_cgraph.png" border="0" usemap="#aclass_r_g_w_l_c_a835d35d68cb14af9df63e34f8036486f_cgraph" alt=""/></div>
<map name="aclass_r_g_w_l_c_a835d35d68cb14af9df63e34f8036486f_cgraph" id="aclass_r_g_w_l_c_a835d35d68cb14af9df63e34f8036486f_cgraph">
<area shape="rect" title=" " alt="" coords="5,13,130,40"/>
<area shape="rect" href="classrgw_1_1sal_1_1_store.html#a90f38b19365292b72f9cf1d8900559aa" title=" " alt="" coords="178,5,309,48"/>
<area shape="poly" title=" " alt="" coords="130,24,162,24,162,29,130,29"/>
</map>
</div>
<div class="dynheader">
이 함수를 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="class_r_g_w_l_c_a835d35d68cb14af9df63e34f8036486f_icgraph.png" border="0" usemap="#aclass_r_g_w_l_c_a835d35d68cb14af9df63e34f8036486f_icgraph" alt=""/></div>
<map name="aclass_r_g_w_l_c_a835d35d68cb14af9df63e34f8036486f_icgraph" id="aclass_r_g_w_l_c_a835d35d68cb14af9df63e34f8036486f_icgraph">
<area shape="rect" title=" " alt="" coords="215,43,339,69"/>
<area shape="rect" href="classrgw_1_1sal_1_1_d_b_store.html#af32515b435c83fedc5d0d8603df06c2b" title=" " alt="" coords="20,5,152,48"/>
<area shape="poly" title=" " alt="" coords="199,47,152,39,152,34,200,42"/>
<area shape="rect" href="class_r_g_w_rados.html#a915344e336dcc165c525c0c688536845" title=" " alt="" coords="5,72,167,99"/>
<area shape="poly" title=" " alt="" coords="200,71,168,76,167,70,199,65"/>
</map>
</div>

</div>
</div>
<a id="a0c212d50193ba37a608295df660f483a" name="a0c212d50193ba37a608295df660f483a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0c212d50193ba37a608295df660f483a">&#9670;&#160;</a></span>list_lc_progress()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int RGWLC::list_lc_progress </td>
          <td>(</td>
          <td class="paramtype">std::string &amp;&#160;</td>
          <td class="paramname"><em>marker</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>max_entries</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; <a class="el" href="structrgw_1_1sal_1_1_lifecycle_1_1_l_c_entry.html">rgw::sal::Lifecycle::LCEntry</a> &gt; &amp;&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int &amp;&#160;</td>
          <td class="paramname"><em>index</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition"><a class="el" href="rgw__lc_8cc_source.html">rgw_lc.cc</a> 파일의 <a class="el" href="rgw__lc_8cc_source.html#l01895">1895</a> 번째 라인에서 정의되었습니다.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1898</span>{</div>
<div class="line"><span class="lineno"> 1899</span>  progress_map.clear();</div>
<div class="line"><span class="lineno"> 1900</span>  <span class="keywordflow">for</span>(; index &lt; <a class="code hl_variable" href="class_r_g_w_l_c.html#a6d6111ee8844a3f98755e04cdda65126">max_objs</a>; index++, marker=<span class="stringliteral">&quot;&quot;</span>) {</div>
<div class="line"><span class="lineno"> 1901</span>    vector&lt;rgw::sal::Lifecycle::LCEntry&gt; <a class="code hl_variable" href="cls__fifo__legacy_8cc.html#a0341b0ec09e77f9d6274d5b1517f7711">entries</a>;</div>
<div class="line"><span class="lineno"> 1902</span>    <span class="keywordtype">int</span> ret = <a class="code hl_variable" href="class_r_g_w_l_c.html#a93453fc6cc64ddcc2450b56bcaf9568a">sal_lc</a>-&gt;list_entries(<a class="code hl_variable" href="class_r_g_w_l_c.html#a7954d0b97a1f5b8fa55a083f0607e4fa">obj_names</a>[index], marker, max_entries, <a class="code hl_variable" href="cls__fifo__legacy_8cc.html#a0341b0ec09e77f9d6274d5b1517f7711">entries</a>);</div>
<div class="line"><span class="lineno"> 1903</span>    <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno"> 1904</span>      <span class="keywordflow">if</span> (ret == -ENOENT) {</div>
<div class="line"><span class="lineno"> 1905</span>        ldpp_dout(<span class="keyword">this</span>, 10) &lt;&lt; __func__ &lt;&lt; <span class="stringliteral">&quot;() ignoring unfound lc object=&quot;</span></div>
<div class="line"><span class="lineno"> 1906</span>                             &lt;&lt; <a class="code hl_variable" href="class_r_g_w_l_c.html#a7954d0b97a1f5b8fa55a083f0607e4fa">obj_names</a>[index] &lt;&lt; dendl;</div>
<div class="line"><span class="lineno"> 1907</span>        <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 1908</span>      } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 1909</span>        <span class="keywordflow">return</span> ret;</div>
<div class="line"><span class="lineno"> 1910</span>      }</div>
<div class="line"><span class="lineno"> 1911</span>    }</div>
<div class="line"><span class="lineno"> 1912</span>    progress_map.reserve(progress_map.size() + <a class="code hl_variable" href="cls__fifo__legacy_8cc.html#a0341b0ec09e77f9d6274d5b1517f7711">entries</a>.size());</div>
<div class="line"><span class="lineno"> 1913</span>    progress_map.insert(progress_map.end(), <a class="code hl_variable" href="cls__fifo__legacy_8cc.html#a0341b0ec09e77f9d6274d5b1517f7711">entries</a>.begin(), <a class="code hl_variable" href="cls__fifo__legacy_8cc.html#a0341b0ec09e77f9d6274d5b1517f7711">entries</a>.end());</div>
<div class="line"><span class="lineno"> 1914</span> </div>
<div class="line"><span class="lineno"> 1915</span>    <span class="comment">/* update index, marker tuple */</span></div>
<div class="line"><span class="lineno"> 1916</span>    <span class="keywordflow">if</span> (progress_map.size() &gt; 0)</div>
<div class="line"><span class="lineno"> 1917</span>      marker = progress_map.back().bucket;</div>
<div class="line"><span class="lineno"> 1918</span> </div>
<div class="line"><span class="lineno"> 1919</span>    <span class="keywordflow">if</span> (progress_map.size() &gt;= max_entries)</div>
<div class="line"><span class="lineno"> 1920</span>      <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1921</span>  }</div>
<div class="line"><span class="lineno"> 1922</span>  <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno"> 1923</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="abf0323a15e56c0155ce3d73cb3ec42a9" name="abf0323a15e56c0155ce3d73cb3ec42a9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abf0323a15e56c0155ce3d73cb3ec42a9">&#9670;&#160;</a></span>process() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int RGWLC::process </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>index</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>max_lock_secs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_r_g_w_l_c_1_1_l_c_worker.html">LCWorker</a> *&#160;</td>
          <td class="paramname"><em>worker</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>once</em> = <code>false</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition"><a class="el" href="rgw__lc_8cc_source.html">rgw_lc.cc</a> 파일의 <a class="el" href="rgw__lc_8cc_source.html#l02103">2103</a> 번째 라인에서 정의되었습니다.</p>
<div class="fragment"><div class="line"><span class="lineno"> 2105</span>{</div>
<div class="line"><span class="lineno"> 2106</span>  ldpp_dout(<span class="keyword">this</span>, 5) &lt;&lt; <span class="stringliteral">&quot;RGWLC::process(): ENTER: &quot;</span></div>
<div class="line"><span class="lineno"> 2107</span>      &lt;&lt; <span class="stringliteral">&quot;index: &quot;</span> &lt;&lt; index &lt;&lt; <span class="stringliteral">&quot; worker ix: &quot;</span> &lt;&lt; worker-&gt;ix</div>
<div class="line"><span class="lineno"> 2108</span>      &lt;&lt; dendl;</div>
<div class="line"><span class="lineno"> 2109</span> </div>
<div class="line"><span class="lineno"> 2110</span>  <span class="keywordtype">int</span> ret = 0;</div>
<div class="line"><span class="lineno"> 2111</span>  <a class="code hl_struct" href="structrgw_1_1sal_1_1_l_c_serializer.html">rgw::sal::LCSerializer</a>* lock = <a class="code hl_variable" href="class_r_g_w_l_c.html#a93453fc6cc64ddcc2450b56bcaf9568a">sal_lc</a>-&gt;get_serializer(<a class="code hl_variable" href="rgw__lc_8h.html#a75f44f9e43388ee0990e4701d54e048a">lc_index_lock_name</a>,</div>
<div class="line"><span class="lineno"> 2112</span>                            <a class="code hl_variable" href="class_r_g_w_l_c.html#a7954d0b97a1f5b8fa55a083f0607e4fa">obj_names</a>[index],</div>
<div class="line"><span class="lineno"> 2113</span>                            std::string());</div>
<div class="line"><span class="lineno"> 2114</span>  <span class="keywordflow">do</span> {</div>
<div class="line"><span class="lineno"> 2115</span>    utime_t now = ceph_clock_now();</div>
<div class="line"><span class="lineno"> 2116</span>    <span class="comment">//string = bucket_name:bucket_id, start_time, int = LC_BUCKET_STATUS</span></div>
<div class="line"><span class="lineno"> 2117</span>    <a class="code hl_struct" href="structrgw_1_1sal_1_1_lifecycle_1_1_l_c_entry.html">rgw::sal::Lifecycle::LCEntry</a> entry;</div>
<div class="line"><span class="lineno"> 2118</span>    <span class="keywordflow">if</span> (max_lock_secs &lt;= 0)</div>
<div class="line"><span class="lineno"> 2119</span>      <span class="keywordflow">return</span> -EAGAIN;</div>
<div class="line"><span class="lineno"> 2120</span> </div>
<div class="line"><span class="lineno"> 2121</span>    utime_t time(max_lock_secs, 0);</div>
<div class="line"><span class="lineno"> 2122</span>    ret = lock-&gt;<a class="code hl_function" href="structrgw_1_1sal_1_1_serializer.html#a103f4686a14753071aaa6f8d877000a2">try_lock</a>(<span class="keyword">this</span>, time, null_yield);</div>
<div class="line"><span class="lineno"> 2123</span>    <span class="keywordflow">if</span> (ret == -EBUSY || ret == -EEXIST) {</div>
<div class="line"><span class="lineno"> 2124</span>      <span class="comment">/* already locked by another lc processor */</span></div>
<div class="line"><span class="lineno"> 2125</span>      ldpp_dout(<span class="keyword">this</span>, 0) &lt;&lt; <span class="stringliteral">&quot;RGWLC::process() failed to acquire lock on &quot;</span></div>
<div class="line"><span class="lineno"> 2126</span>          &lt;&lt; <a class="code hl_variable" href="class_r_g_w_l_c.html#a7954d0b97a1f5b8fa55a083f0607e4fa">obj_names</a>[index] &lt;&lt; <span class="stringliteral">&quot;, sleep 5, try again&quot;</span> &lt;&lt; dendl;</div>
<div class="line"><span class="lineno"> 2127</span>      sleep(5);</div>
<div class="line"><span class="lineno"> 2128</span>      <span class="keywordflow">continue</span>; <span class="comment">// XXXX really retry forever?</span></div>
<div class="line"><span class="lineno"> 2129</span>    }</div>
<div class="line"><span class="lineno"> 2130</span>    <span class="keywordflow">if</span> (ret &lt; 0)</div>
<div class="line"><span class="lineno"> 2131</span>      <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno"> 2132</span> </div>
<div class="line"><span class="lineno"> 2133</span>    <a class="code hl_struct" href="structrgw_1_1sal_1_1_lifecycle_1_1_l_c_head.html">rgw::sal::Lifecycle::LCHead</a> head;</div>
<div class="line"><span class="lineno"> 2134</span>    ret = <a class="code hl_variable" href="class_r_g_w_l_c.html#a93453fc6cc64ddcc2450b56bcaf9568a">sal_lc</a>-&gt;get_head(<a class="code hl_variable" href="class_r_g_w_l_c.html#a7954d0b97a1f5b8fa55a083f0607e4fa">obj_names</a>[index], head);</div>
<div class="line"><span class="lineno"> 2135</span>    <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno"> 2136</span>      ldpp_dout(<span class="keyword">this</span>, 0) &lt;&lt; <span class="stringliteral">&quot;RGWLC::process() failed to get obj head &quot;</span></div>
<div class="line"><span class="lineno"> 2137</span>          &lt;&lt; <a class="code hl_variable" href="class_r_g_w_l_c.html#a7954d0b97a1f5b8fa55a083f0607e4fa">obj_names</a>[index] &lt;&lt; <span class="stringliteral">&quot;, ret=&quot;</span> &lt;&lt; ret &lt;&lt; dendl;</div>
<div class="line"><span class="lineno"> 2138</span>      <span class="keywordflow">goto</span> exit;</div>
<div class="line"><span class="lineno"> 2139</span>    }</div>
<div class="line"><span class="lineno"> 2140</span> </div>
<div class="line"><span class="lineno"> 2141</span>    ret = <a class="code hl_variable" href="class_r_g_w_l_c.html#a93453fc6cc64ddcc2450b56bcaf9568a">sal_lc</a>-&gt;get_entry(<a class="code hl_variable" href="class_r_g_w_l_c.html#a7954d0b97a1f5b8fa55a083f0607e4fa">obj_names</a>[index], head.<a class="code hl_variable" href="structrgw_1_1sal_1_1_lifecycle_1_1_l_c_head.html#a1ae4eda32aa11fd3a2c0728a50db8893">marker</a>, entry);</div>
<div class="line"><span class="lineno"> 2142</span>    <span class="keywordflow">if</span> (ret &gt;= 0) {</div>
<div class="line"><span class="lineno"> 2143</span>      <span class="keywordflow">if</span> (entry.<a class="code hl_variable" href="structrgw_1_1sal_1_1_lifecycle_1_1_l_c_entry.html#ab967abd35523acb2a08ffdc772a27858">status</a> == <a class="code hl_enumvalue" href="rgw__lc_8h.html#a87f6a2649c9e1a1b5b31ecfac94f6e62a9f59d380afc034be0274f23424eac6d6">lc_processing</a>) {</div>
<div class="line"><span class="lineno"> 2144</span>    <span class="keywordflow">if</span> (<a class="code hl_function" href="class_r_g_w_l_c.html#ae6273bb6a6e6103e07f75427d3054d80">expired_session</a>(entry.<a class="code hl_variable" href="structrgw_1_1sal_1_1_lifecycle_1_1_l_c_entry.html#a3a7774d065b925783b71e2e2829a8606">start_time</a>)) {</div>
<div class="line"><span class="lineno"> 2145</span>      ldpp_dout(<span class="keyword">this</span>, 5) &lt;&lt; <span class="stringliteral">&quot;RGWLC::process(): STALE lc session found for: &quot;</span> &lt;&lt; entry</div>
<div class="line"><span class="lineno"> 2146</span>                 &lt;&lt; <span class="stringliteral">&quot; index: &quot;</span> &lt;&lt; index &lt;&lt; <span class="stringliteral">&quot; worker ix: &quot;</span> &lt;&lt; worker-&gt;ix</div>
<div class="line"><span class="lineno"> 2147</span>                 &lt;&lt; <span class="stringliteral">&quot; (clearing)&quot;</span></div>
<div class="line"><span class="lineno"> 2148</span>                 &lt;&lt; dendl;</div>
<div class="line"><span class="lineno"> 2149</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 2150</span>      ldpp_dout(<span class="keyword">this</span>, 5) &lt;&lt; <span class="stringliteral">&quot;RGWLC::process(): ACTIVE entry: &quot;</span> &lt;&lt; entry</div>
<div class="line"><span class="lineno"> 2151</span>                 &lt;&lt; <span class="stringliteral">&quot; index: &quot;</span> &lt;&lt; index &lt;&lt; <span class="stringliteral">&quot; worker ix: &quot;</span> &lt;&lt; worker-&gt;ix</div>
<div class="line"><span class="lineno"> 2152</span>                 &lt;&lt; dendl;</div>
<div class="line"><span class="lineno"> 2153</span>      <span class="keywordflow">goto</span> exit;</div>
<div class="line"><span class="lineno"> 2154</span>    }</div>
<div class="line"><span class="lineno"> 2155</span>      }</div>
<div class="line"><span class="lineno"> 2156</span>    }</div>
<div class="line"><span class="lineno"> 2157</span> </div>
<div class="line"><span class="lineno"> 2158</span>    <span class="keywordflow">if</span>(!<a class="code hl_function" href="class_r_g_w_l_c.html#a090674bf9727b02d5565a09b8b00c0ac">if_already_run_today</a>(head.<a class="code hl_variable" href="structrgw_1_1sal_1_1_lifecycle_1_1_l_c_head.html#ad3ea7587a8a038d83ea0a7ca0d78b05f">start_date</a>) ||</div>
<div class="line"><span class="lineno"> 2159</span>       once) {</div>
<div class="line"><span class="lineno"> 2160</span>      head.<a class="code hl_variable" href="structrgw_1_1sal_1_1_lifecycle_1_1_l_c_head.html#ad3ea7587a8a038d83ea0a7ca0d78b05f">start_date</a> = now;</div>
<div class="line"><span class="lineno"> 2161</span>      head.<a class="code hl_variable" href="structrgw_1_1sal_1_1_lifecycle_1_1_l_c_head.html#a1ae4eda32aa11fd3a2c0728a50db8893">marker</a>.clear();</div>
<div class="line"><span class="lineno"> 2162</span>      ret = <a class="code hl_function" href="class_r_g_w_l_c.html#a3fc9ac25fb0bc57507b0f59674041341">bucket_lc_prepare</a>(index, worker);</div>
<div class="line"><span class="lineno"> 2163</span>      <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno"> 2164</span>      ldpp_dout(<span class="keyword">this</span>, 0) &lt;&lt; <span class="stringliteral">&quot;RGWLC::process() failed to update lc object &quot;</span></div>
<div class="line"><span class="lineno"> 2165</span>             &lt;&lt; <a class="code hl_variable" href="class_r_g_w_l_c.html#a7954d0b97a1f5b8fa55a083f0607e4fa">obj_names</a>[index]</div>
<div class="line"><span class="lineno"> 2166</span>             &lt;&lt; <span class="stringliteral">&quot;, ret=&quot;</span> &lt;&lt; ret</div>
<div class="line"><span class="lineno"> 2167</span>             &lt;&lt; dendl;</div>
<div class="line"><span class="lineno"> 2168</span>      <span class="keywordflow">goto</span> exit;</div>
<div class="line"><span class="lineno"> 2169</span>      }</div>
<div class="line"><span class="lineno"> 2170</span>    }</div>
<div class="line"><span class="lineno"> 2171</span> </div>
<div class="line"><span class="lineno"> 2172</span>    ret = <a class="code hl_variable" href="class_r_g_w_l_c.html#a93453fc6cc64ddcc2450b56bcaf9568a">sal_lc</a>-&gt;get_next_entry(<a class="code hl_variable" href="class_r_g_w_l_c.html#a7954d0b97a1f5b8fa55a083f0607e4fa">obj_names</a>[index], head.<a class="code hl_variable" href="structrgw_1_1sal_1_1_lifecycle_1_1_l_c_head.html#a1ae4eda32aa11fd3a2c0728a50db8893">marker</a>, entry);</div>
<div class="line"><span class="lineno"> 2173</span>    <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno"> 2174</span>      ldpp_dout(<span class="keyword">this</span>, 0) &lt;&lt; <span class="stringliteral">&quot;RGWLC::process() failed to get obj entry &quot;</span></div>
<div class="line"><span class="lineno"> 2175</span>          &lt;&lt; <a class="code hl_variable" href="class_r_g_w_l_c.html#a7954d0b97a1f5b8fa55a083f0607e4fa">obj_names</a>[index] &lt;&lt; dendl;</div>
<div class="line"><span class="lineno"> 2176</span>      <span class="keywordflow">goto</span> exit;</div>
<div class="line"><span class="lineno"> 2177</span>    }</div>
<div class="line"><span class="lineno"> 2178</span> </div>
<div class="line"><span class="lineno"> 2179</span>    <span class="comment">/* termination condition (eof) */</span></div>
<div class="line"><span class="lineno"> 2180</span>    <span class="keywordflow">if</span> (entry.<a class="code hl_variable" href="structrgw_1_1sal_1_1_lifecycle_1_1_l_c_entry.html#adf5aeebb89cb0317b441af21eee8cc33">bucket</a>.empty())</div>
<div class="line"><span class="lineno"> 2181</span>      <span class="keywordflow">goto</span> exit;</div>
<div class="line"><span class="lineno"> 2182</span> </div>
<div class="line"><span class="lineno"> 2183</span>    ldpp_dout(<span class="keyword">this</span>, 5) &lt;&lt; <span class="stringliteral">&quot;RGWLC::process(): START entry 1: &quot;</span> &lt;&lt; entry</div>
<div class="line"><span class="lineno"> 2184</span>        &lt;&lt; <span class="stringliteral">&quot; index: &quot;</span> &lt;&lt; index &lt;&lt; <span class="stringliteral">&quot; worker ix: &quot;</span> &lt;&lt; worker-&gt;ix</div>
<div class="line"><span class="lineno"> 2185</span>        &lt;&lt; dendl;</div>
<div class="line"><span class="lineno"> 2186</span> </div>
<div class="line"><span class="lineno"> 2187</span>    entry.<a class="code hl_variable" href="structrgw_1_1sal_1_1_lifecycle_1_1_l_c_entry.html#ab967abd35523acb2a08ffdc772a27858">status</a> = <a class="code hl_enumvalue" href="rgw__lc_8h.html#a87f6a2649c9e1a1b5b31ecfac94f6e62a9f59d380afc034be0274f23424eac6d6">lc_processing</a>;</div>
<div class="line"><span class="lineno"> 2188</span>    ret = <a class="code hl_variable" href="class_r_g_w_l_c.html#a93453fc6cc64ddcc2450b56bcaf9568a">sal_lc</a>-&gt;set_entry(<a class="code hl_variable" href="class_r_g_w_l_c.html#a7954d0b97a1f5b8fa55a083f0607e4fa">obj_names</a>[index], entry);</div>
<div class="line"><span class="lineno"> 2189</span>    <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno"> 2190</span>      ldpp_dout(<span class="keyword">this</span>, 0) &lt;&lt; <span class="stringliteral">&quot;RGWLC::process() failed to set obj entry &quot;</span></div>
<div class="line"><span class="lineno"> 2191</span>          &lt;&lt; <a class="code hl_variable" href="class_r_g_w_l_c.html#a7954d0b97a1f5b8fa55a083f0607e4fa">obj_names</a>[index] &lt;&lt; entry.<a class="code hl_variable" href="structrgw_1_1sal_1_1_lifecycle_1_1_l_c_entry.html#adf5aeebb89cb0317b441af21eee8cc33">bucket</a> &lt;&lt; entry.<a class="code hl_variable" href="structrgw_1_1sal_1_1_lifecycle_1_1_l_c_entry.html#ab967abd35523acb2a08ffdc772a27858">status</a> &lt;&lt; dendl;</div>
<div class="line"><span class="lineno"> 2192</span>      <span class="keywordflow">goto</span> exit;</div>
<div class="line"><span class="lineno"> 2193</span>    }</div>
<div class="line"><span class="lineno"> 2194</span> </div>
<div class="line"><span class="lineno"> 2195</span>    head.<a class="code hl_variable" href="structrgw_1_1sal_1_1_lifecycle_1_1_l_c_head.html#a1ae4eda32aa11fd3a2c0728a50db8893">marker</a> = entry.<a class="code hl_variable" href="structrgw_1_1sal_1_1_lifecycle_1_1_l_c_entry.html#adf5aeebb89cb0317b441af21eee8cc33">bucket</a>;</div>
<div class="line"><span class="lineno"> 2196</span>    ret = <a class="code hl_variable" href="class_r_g_w_l_c.html#a93453fc6cc64ddcc2450b56bcaf9568a">sal_lc</a>-&gt;put_head(<a class="code hl_variable" href="class_r_g_w_l_c.html#a7954d0b97a1f5b8fa55a083f0607e4fa">obj_names</a>[index],  head);</div>
<div class="line"><span class="lineno"> 2197</span>    <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno"> 2198</span>      ldpp_dout(<span class="keyword">this</span>, 0) &lt;&lt; <span class="stringliteral">&quot;RGWLC::process() failed to put head &quot;</span></div>
<div class="line"><span class="lineno"> 2199</span>             &lt;&lt; <a class="code hl_variable" href="class_r_g_w_l_c.html#a7954d0b97a1f5b8fa55a083f0607e4fa">obj_names</a>[index]</div>
<div class="line"><span class="lineno"> 2200</span>          &lt;&lt; dendl;</div>
<div class="line"><span class="lineno"> 2201</span>      <span class="keywordflow">goto</span> exit;</div>
<div class="line"><span class="lineno"> 2202</span>    }</div>
<div class="line"><span class="lineno"> 2203</span> </div>
<div class="line"><span class="lineno"> 2204</span>    ldpp_dout(<span class="keyword">this</span>, 5) &lt;&lt; <span class="stringliteral">&quot;RGWLC::process(): START entry 2: &quot;</span> &lt;&lt; entry</div>
<div class="line"><span class="lineno"> 2205</span>        &lt;&lt; <span class="stringliteral">&quot; index: &quot;</span> &lt;&lt; index &lt;&lt; <span class="stringliteral">&quot; worker ix: &quot;</span> &lt;&lt; worker-&gt;ix</div>
<div class="line"><span class="lineno"> 2206</span>        &lt;&lt; dendl;</div>
<div class="line"><span class="lineno"> 2207</span> </div>
<div class="line"><span class="lineno"> 2208</span>    lock-&gt;<a class="code hl_function" href="structrgw_1_1sal_1_1_serializer.html#a5f4201883413ae26f82f4f049d94a952">unlock</a>();</div>
<div class="line"><span class="lineno"> 2209</span>    ret = <a class="code hl_function" href="class_r_g_w_l_c.html#a269e0f1145a60261564f4c44005818f1">bucket_lc_process</a>(entry.<a class="code hl_variable" href="structrgw_1_1sal_1_1_lifecycle_1_1_l_c_entry.html#adf5aeebb89cb0317b441af21eee8cc33">bucket</a>, worker, <a class="code hl_function" href="class_r_g_w_l_c.html#a6a4ba660b6ce88ac0e3aabeabfc97724">thread_stop_at</a>(), once);</div>
<div class="line"><span class="lineno"> 2210</span>    <a class="code hl_function" href="class_r_g_w_l_c.html#aa6a0111e4104bcef717cb150265788f3">bucket_lc_post</a>(index, max_lock_secs, entry, ret, worker);</div>
<div class="line"><span class="lineno"> 2211</span>  } <span class="keywordflow">while</span>(1 &amp;&amp; !once);</div>
<div class="line"><span class="lineno"> 2212</span> </div>
<div class="line"><span class="lineno"> 2213</span>  <span class="keyword">delete</span> lock;</div>
<div class="line"><span class="lineno"> 2214</span>  <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno"> 2215</span> </div>
<div class="line"><span class="lineno"> 2216</span>exit:</div>
<div class="line"><span class="lineno"> 2217</span>  lock-&gt;<a class="code hl_function" href="structrgw_1_1sal_1_1_serializer.html#a5f4201883413ae26f82f4f049d94a952">unlock</a>();</div>
<div class="line"><span class="lineno"> 2218</span>  <span class="keyword">delete</span> lock;</div>
<div class="line"><span class="lineno"> 2219</span>  <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno"> 2220</span>}</div>
<div class="ttc" id="aclass_r_g_w_l_c_html_a090674bf9727b02d5565a09b8b00c0ac"><div class="ttname"><a href="class_r_g_w_l_c.html#a090674bf9727b02d5565a09b8b00c0ac">RGWLC::if_already_run_today</a></div><div class="ttdeci">bool if_already_run_today(time_t start_date)</div><div class="ttdef"><b>Definition</b> <a href="rgw__lc_8cc_source.html#l00276">rgw_lc.cc:276</a></div></div>
<div class="ttc" id="aclass_r_g_w_l_c_html_a269e0f1145a60261564f4c44005818f1"><div class="ttname"><a href="class_r_g_w_l_c.html#a269e0f1145a60261564f4c44005818f1">RGWLC::bucket_lc_process</a></div><div class="ttdeci">int bucket_lc_process(std::string &amp;shard_id, LCWorker *worker, time_t stop_at, bool once)</div><div class="ttdef"><b>Definition</b> <a href="rgw__lc_8cc_source.html#l01702">rgw_lc.cc:1702</a></div></div>
<div class="ttc" id="aclass_r_g_w_l_c_html_a3fc9ac25fb0bc57507b0f59674041341"><div class="ttname"><a href="class_r_g_w_l_c.html#a3fc9ac25fb0bc57507b0f59674041341">RGWLC::bucket_lc_prepare</a></div><div class="ttdeci">int bucket_lc_prepare(int index, LCWorker *worker)</div><div class="ttdef"><b>Definition</b> <a href="rgw__lc_8cc_source.html#l00311">rgw_lc.cc:311</a></div></div>
<div class="ttc" id="aclass_r_g_w_l_c_html_a6a4ba660b6ce88ac0e3aabeabfc97724"><div class="ttname"><a href="class_r_g_w_l_c.html#a6a4ba660b6ce88ac0e3aabeabfc97724">RGWLC::thread_stop_at</a></div><div class="ttdeci">time_t thread_stop_at()</div><div class="ttdef"><b>Definition</b> <a href="rgw__lc_8cc_source.html#l02014">rgw_lc.cc:2014</a></div></div>
<div class="ttc" id="aclass_r_g_w_l_c_html_aa6a0111e4104bcef717cb150265788f3"><div class="ttname"><a href="class_r_g_w_l_c.html#aa6a0111e4104bcef717cb150265788f3">RGWLC::bucket_lc_post</a></div><div class="ttdeci">int bucket_lc_post(int index, int max_lock_sec, rgw::sal::Lifecycle::LCEntry &amp;entry, int &amp;result, LCWorker *worker)</div><div class="ttdef"><b>Definition</b> <a href="rgw__lc_8cc_source.html#l01837">rgw_lc.cc:1837</a></div></div>
<div class="ttc" id="aclass_r_g_w_l_c_html_ae6273bb6a6e6103e07f75427d3054d80"><div class="ttname"><a href="class_r_g_w_l_c.html#ae6273bb6a6e6103e07f75427d3054d80">RGWLC::expired_session</a></div><div class="ttdeci">bool expired_session(time_t started)</div><div class="ttdef"><b>Definition</b> <a href="rgw__lc_8cc_source.html#l01997">rgw_lc.cc:1997</a></div></div>
<div class="ttc" id="argw__lc_8h_html_a87f6a2649c9e1a1b5b31ecfac94f6e62a9f59d380afc034be0274f23424eac6d6"><div class="ttname"><a href="rgw__lc_8h.html#a87f6a2649c9e1a1b5b31ecfac94f6e62a9f59d380afc034be0274f23424eac6d6">lc_processing</a></div><div class="ttdeci">@ lc_processing</div><div class="ttdef"><b>Definition</b> <a href="rgw__lc_8h_source.html#l00036">rgw_lc.h:36</a></div></div>
<div class="ttc" id="astructrgw_1_1sal_1_1_lifecycle_1_1_l_c_entry_html"><div class="ttname"><a href="structrgw_1_1sal_1_1_lifecycle_1_1_l_c_entry.html">rgw::sal::Lifecycle::LCEntry</a></div><div class="ttdef"><b>Definition</b> <a href="rgw__sal_8h_source.html#l01306">rgw_sal.h:1306</a></div></div>
<div class="ttc" id="astructrgw_1_1sal_1_1_lifecycle_1_1_l_c_entry_html_a3a7774d065b925783b71e2e2829a8606"><div class="ttname"><a href="structrgw_1_1sal_1_1_lifecycle_1_1_l_c_entry.html#a3a7774d065b925783b71e2e2829a8606">rgw::sal::Lifecycle::LCEntry::start_time</a></div><div class="ttdeci">uint64_t start_time</div><div class="ttdef"><b>Definition</b> <a href="rgw__sal_8h_source.html#l01308">rgw_sal.h:1308</a></div></div>
<div class="ttc" id="astructrgw_1_1sal_1_1_lifecycle_1_1_l_c_entry_html_adf5aeebb89cb0317b441af21eee8cc33"><div class="ttname"><a href="structrgw_1_1sal_1_1_lifecycle_1_1_l_c_entry.html#adf5aeebb89cb0317b441af21eee8cc33">rgw::sal::Lifecycle::LCEntry::bucket</a></div><div class="ttdeci">std::string bucket</div><div class="ttdef"><b>Definition</b> <a href="rgw__sal_8h_source.html#l01307">rgw_sal.h:1307</a></div></div>
<div class="ttc" id="astructrgw_1_1sal_1_1_lifecycle_1_1_l_c_head_html"><div class="ttname"><a href="structrgw_1_1sal_1_1_lifecycle_1_1_l_c_head.html">rgw::sal::Lifecycle::LCHead</a></div><div class="ttdef"><b>Definition</b> <a href="rgw__sal_8h_source.html#l01296">rgw_sal.h:1296</a></div></div>
<div class="ttc" id="astructrgw_1_1sal_1_1_lifecycle_1_1_l_c_head_html_a1ae4eda32aa11fd3a2c0728a50db8893"><div class="ttname"><a href="structrgw_1_1sal_1_1_lifecycle_1_1_l_c_head.html#a1ae4eda32aa11fd3a2c0728a50db8893">rgw::sal::Lifecycle::LCHead::marker</a></div><div class="ttdeci">std::string marker</div><div class="ttdef"><b>Definition</b> <a href="rgw__sal_8h_source.html#l01298">rgw_sal.h:1298</a></div></div>
<div class="ttc" id="astructrgw_1_1sal_1_1_lifecycle_1_1_l_c_head_html_ad3ea7587a8a038d83ea0a7ca0d78b05f"><div class="ttname"><a href="structrgw_1_1sal_1_1_lifecycle_1_1_l_c_head.html#ad3ea7587a8a038d83ea0a7ca0d78b05f">rgw::sal::Lifecycle::LCHead::start_date</a></div><div class="ttdeci">time_t start_date</div><div class="ttdef"><b>Definition</b> <a href="rgw__sal_8h_source.html#l01297">rgw_sal.h:1297</a></div></div>
</div><!-- fragment --><div class="dynheader">
이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="class_r_g_w_l_c_abf0323a15e56c0155ce3d73cb3ec42a9_cgraph.png" border="0" usemap="#aclass_r_g_w_l_c_abf0323a15e56c0155ce3d73cb3ec42a9_cgraph" alt=""/></div>
<map name="aclass_r_g_w_l_c_abf0323a15e56c0155ce3d73cb3ec42a9_cgraph" id="aclass_r_g_w_l_c_abf0323a15e56c0155ce3d73cb3ec42a9_cgraph">
<area shape="rect" title=" " alt="" coords="5,367,129,393"/>
<area shape="rect" href="class_r_g_w_l_c.html#aa6a0111e4104bcef717cb150265788f3" title=" " alt="" coords="187,80,353,107"/>
<area shape="poly" title=" " alt="" coords="74,365,115,295,175,204,245,116,249,120,179,207,120,297,78,367"/>
<area shape="rect" href="structrgw_1_1sal_1_1_serializer.html#a103f4686a14753071aaa6f8d877000a2" title=" " alt="" coords="433,5,561,48"/>
<area shape="poly" title=" " alt="" coords="66,366,69,310,84,227,98,183,117,140,142,100,175,66,202,47,232,33,295,16,359,11,418,13,417,18,360,16,296,22,234,38,205,52,178,70,146,103,121,142,103,185,89,229,75,310,71,366"/>
<area shape="rect" href="structrgw_1_1sal_1_1_serializer.html#a5f4201883413ae26f82f4f049d94a952" title=" " alt="" coords="433,72,561,115"/>
<area shape="poly" title=" " alt="" coords="82,364,212,257,307,188,410,124,419,119,422,124,412,129,310,192,215,262,85,368"/>
<area shape="rect" href="class_r_g_w_l_c.html#a3fc9ac25fb0bc57507b0f59674041341" title=" " alt="" coords="178,341,362,368"/>
<area shape="poly" title=" " alt="" coords="129,370,162,365,163,371,129,375"/>
<area shape="rect" href="class_r_g_w_l_c.html#a269e0f1145a60261564f4c44005818f1" title=" " alt="" coords="177,392,363,419"/>
<area shape="poly" title=" " alt="" coords="129,385,162,389,161,394,129,390"/>
<area shape="rect" href="class_r_g_w_l_c.html#ae6273bb6a6e6103e07f75427d3054d80" title=" " alt="" coords="184,443,356,469"/>
<area shape="poly" title=" " alt="" coords="96,392,178,428,198,435,197,440,176,433,94,396"/>
<area shape="rect" href="class_r_g_w_l_c.html#a090674bf9727b02d5565a09b8b00c0ac" title=" " alt="" coords="191,493,349,536"/>
<area shape="poly" title=" " alt="" coords="82,392,122,434,149,458,178,479,187,484,184,489,175,484,145,462,118,438,78,395"/>
<area shape="rect" href="class_r_g_w_l_c.html#a6a4ba660b6ce88ac0e3aabeabfc97724" title=" " alt="" coords="188,560,352,587"/>
<area shape="poly" title=" " alt="" coords="76,393,89,424,111,466,140,509,178,546,185,551,183,555,175,550,136,513,106,469,84,427,71,395"/>
<area shape="poly" title=" " alt="" coords="318,77,417,47,419,52,319,82"/>
<area shape="poly" title=" " alt="" coords="353,91,418,91,418,96,353,96"/>
<area shape="rect" href="class_l_c_op_rule.html#a11946c2ad30c443020a9d5a5257443c3" title=" " alt="" coords="440,341,555,368"/>
<area shape="poly" title=" " alt="" coords="333,389,424,368,425,373,334,394"/>
<area shape="rect" href="class_r_g_w_l_c_1_1_work_pool.html#ad31a6de1bd2e6d127cca4600b771fc98" title=" " alt="" coords="642,392,812,419"/>
<area shape="poly" title=" " alt="" coords="363,403,626,403,626,408,363,408"/>
<area shape="rect" href="class_r_g_w_l_c_1_1_work_pool.html#a5ad10c9f90240e8a3b168dddec3e5b0a" title=" " alt="" coords="631,443,823,469"/>
<area shape="poly" title=" " alt="" coords="363,413,616,441,615,446,363,418"/>
<area shape="rect" href="classrgw_1_1sal_1_1_store.html#a3308ce50125b19ccdf5ce7f69958bd67" title=" " alt="" coords="432,493,563,536"/>
<area shape="poly" title=" " alt="" coords="337,417,364,428,380,439,389,450,413,473,431,484,428,488,409,477,386,454,376,443,362,433,335,422"/>
<area shape="rect" href="class_r_g_w_l_c_1_1_l_c_worker.html#a6141bd5060e4ba925bc3d8b52fbc819c" title=" " alt="" coords="638,493,816,520"/>
<area shape="poly" title=" " alt="" coords="347,417,365,429,378,444,384,460,388,491,392,521,399,534,413,546,441,562,467,570,492,572,516,569,568,552,631,529,656,522,658,527,632,535,570,557,517,574,492,577,466,575,439,567,409,550,395,537,387,523,383,492,379,461,373,447,361,433,344,421"/>
<area shape="rect" href="class_l_c_objs_lister.html#a947bb056751af58a09970302d1718271" title=" " alt="" coords="424,611,570,637"/>
<area shape="poly" title=" " alt="" coords="348,417,365,429,381,449,388,470,391,510,392,551,399,570,413,590,426,601,422,605,409,594,394,573,387,552,385,511,383,471,376,452,361,433,345,421"/>
<area shape="rect" href="class_r_g_w_l_c.html#a47c69344f2b132180807be7326cef44f" title=" " alt="" coords="411,661,583,704"/>
<area shape="poly" title=" " alt="" coords="350,417,365,429,384,457,393,484,394,512,391,539,388,566,389,593,396,620,413,648,414,649,410,653,409,651,391,622,383,594,383,566,386,538,389,512,388,485,380,459,361,433,346,421"/>
<area shape="rect" href="class_r_g_w_l_c_1_1_work_pool.html#adbe45cf440e297d70737e0e93b206be4" title=" " alt="" coords="645,763,809,789"/>
<area shape="poly" title=" " alt="" coords="350,417,365,429,389,466,397,502,395,539,388,575,382,611,380,646,389,680,413,714,435,733,460,749,516,769,574,779,630,782,630,787,574,785,514,774,458,753,432,738,409,718,384,682,375,646,376,610,383,574,390,538,392,503,384,468,361,432,347,421"/>
<area shape="rect" href="rgw__lc_8cc.html#a9a76c55be419b1a6dbc5000f98c40f63" title=" " alt="" coords="659,813,795,840"/>
<area shape="poly" title=" " alt="" coords="351,417,365,429,382,452,393,475,399,499,402,522,397,568,386,614,376,659,373,703,376,724,383,745,395,766,413,787,437,807,464,821,493,832,523,838,585,843,643,839,643,845,585,848,523,844,491,837,462,826,434,811,409,791,391,770,378,748,370,725,367,703,371,658,381,613,392,567,396,522,394,500,388,477,377,455,361,432,347,421"/>
<area shape="rect" href="class_l_c_objs_lister.html#af0f5a0825ff57ecba8fda4b8c3324902" title=" " alt="" coords="666,864,788,891"/>
<area shape="poly" title=" " alt="" coords="351,417,365,429,384,456,397,483,404,511,406,538,399,592,385,646,371,698,366,750,370,775,378,800,392,824,413,849,438,869,467,883,499,892,531,898,597,899,656,891,657,897,597,904,531,903,497,898,465,888,436,873,409,853,387,827,373,802,364,776,361,750,366,697,380,644,394,591,400,538,399,512,392,485,380,459,361,432,348,421"/>
<area shape="rect" href="rgw__lc_8cc.html#a0418dc6a51e1e130f431d7238528d401" title=" " alt="" coords="455,139,539,165"/>
<area shape="poly" title=" " alt="" coords="346,389,361,378,379,354,386,329,387,304,385,279,382,254,383,228,391,201,409,176,423,165,439,157,441,162,426,169,413,179,396,204,388,228,387,253,390,279,392,304,391,330,383,356,365,382,350,393"/>
<area shape="rect" href="class_l_c_objs_lister.html#a3d6de72ff3096029814389d47a55eba4" title=" " alt="" coords="433,189,562,216"/>
<area shape="poly" title=" " alt="" coords="345,389,361,378,375,360,382,342,385,304,387,265,394,245,409,226,417,219,421,223,413,230,399,248,392,266,390,304,388,343,380,363,365,382,348,394"/>
<area shape="rect" href="class_l_c_objs_lister.html#a0e95d63e79a3154b8dd097fffa27ff0c" title=" " alt="" coords="417,240,577,267"/>
<area shape="poly" title=" " alt="" coords="343,389,361,378,372,366,379,354,385,329,390,303,397,289,409,277,415,272,418,277,413,281,402,293,395,305,390,330,384,356,377,369,365,382,346,394"/>
<area shape="rect" href="class_l_c_op_rule.html#a7396e88739ab8ebf9d44f15de65adb0c" title=" " alt="" coords="434,291,561,317"/>
<area shape="poly" title=" " alt="" coords="337,389,362,378,376,366,385,353,394,340,409,327,420,322,422,326,413,332,398,344,389,356,380,369,364,382,339,394"/>
<area shape="poly" title=" " alt="" coords="569,659,581,648,599,620,606,593,606,566,603,539,600,512,601,484,610,456,629,429,632,426,636,430,633,432,615,459,607,485,606,511,608,538,611,566,611,594,604,622,585,651,572,663"/>
<area shape="poly" title=" " alt="" coords="568,659,581,648,596,627,602,606,603,564,605,522,613,501,629,480,633,477,636,480,633,483,618,503,610,523,609,564,608,607,601,629,585,651,572,663"/>
<area shape="poly" title=" " alt="" coords="567,659,581,647,593,633,599,619,604,589,609,560,617,545,629,530,634,526,638,530,633,534,621,548,614,561,609,590,604,620,597,636,585,651,570,663"/>
<area shape="rect" href="classrgw_1_1sal_1_1_bucket.html#a57bc20e39b569fa62a2854b95b18715f" title=" " alt="" coords="656,544,798,587"/>
<area shape="poly" title=" " alt="" coords="562,659,582,647,596,635,605,622,615,609,630,596,641,590,643,595,633,601,618,613,609,625,600,638,585,652,564,663"/>
<area shape="rect" href="class_r_g_w_l_c.html#a56a8bfc53226184f5010175b54129056" title=" " alt="" coords="654,611,800,637"/>
<area shape="poly" title=" " alt="" coords="582,658,656,639,658,644,584,663"/>
<area shape="rect" href="classrgw_1_1sal_1_1_bucket.html#afbb73a2e77217763483325c942c707ef" title=" " alt="" coords="657,661,797,688"/>
<area shape="poly" title=" " alt="" coords="584,677,641,675,642,680,584,682"/>
<area shape="rect" href="rgw__lc_8cc.html#a708a4e592f52574f7b18e4697ccbdba5" title=" " alt="" coords="669,712,785,739"/>
<area shape="poly" title=" " alt="" coords="584,696,654,709,653,714,583,701"/>
<area shape="poly" title=" " alt="" coords="537,702,582,726,632,748,653,755,651,760,630,753,580,731,535,707"/>
<area shape="poly" title=" " alt="" coords="519,703,567,751,599,777,633,799,645,805,643,810,630,804,595,781,564,755,515,706"/>
<area shape="rect" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5" title=" " alt="" coords="871,788,913,815"/>
<area shape="poly" title=" " alt="" coords="786,734,824,748,865,775,862,780,821,753,784,739"/>
<area shape="poly" title=" " alt="" coords="787,863,821,850,862,823,865,827,824,854,789,867"/>
</map>
</div>

</div>
</div>
<a id="acc373fbfbc796d885451e99ac82e2fdb" name="acc373fbfbc796d885451e99ac82e2fdb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acc373fbfbc796d885451e99ac82e2fdb">&#9670;&#160;</a></span>process() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int RGWLC::process </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_r_g_w_l_c_1_1_l_c_worker.html">LCWorker</a> *&#160;</td>
          <td class="paramname"><em>worker</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::unique_ptr&lt; <a class="el" href="classrgw_1_1sal_1_1_bucket.html">rgw::sal::Bucket</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>optional_bucket</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>once</em> = <code>false</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition"><a class="el" href="rgw__lc_8cc_source.html">rgw_lc.cc</a> 파일의 <a class="el" href="rgw__lc_8cc_source.html#l01966">1966</a> 번째 라인에서 정의되었습니다.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1969</span>{</div>
<div class="line"><span class="lineno"> 1970</span>  <span class="keywordtype">int</span> ret = 0;</div>
<div class="line"><span class="lineno"> 1971</span>  <span class="keywordtype">int</span> max_secs = <a class="code hl_variable" href="class_r_g_w_l_c.html#ad0e784045ead1333cb606d3e3adaa4f2">cct</a>-&gt;_conf-&gt;rgw_lc_lock_max_time;</div>
<div class="line"><span class="lineno"> 1972</span> </div>
<div class="line"><span class="lineno"> 1973</span>  <span class="keywordflow">if</span> (optional_bucket) {</div>
<div class="line"><span class="lineno"> 1974</span>    <span class="comment">/* if a bucket is provided, this is a single-bucket run, and</span></div>
<div class="line"><span class="lineno"> 1975</span><span class="comment">     * can be processed without traversing any state entries (we</span></div>
<div class="line"><span class="lineno"> 1976</span><span class="comment">     * do need the entry {pro,epi}logue which update the state entry</span></div>
<div class="line"><span class="lineno"> 1977</span><span class="comment">     * for this bucket) */</span></div>
<div class="line"><span class="lineno"> 1978</span>    <span class="keyword">auto</span> bucket_entry_marker = <a class="code hl_function" href="rgw__lc_8cc.html#adba4d022c4f550e5d9621530600217df">get_lc_shard_name</a>(optional_bucket-&gt;get_key());</div>
<div class="line"><span class="lineno"> 1979</span>    <span class="keyword">auto</span> index = <a class="code hl_function" href="rgw__lc_8cc.html#af725effd98eed069046da1355c426e40">get_lc_index</a>(<a class="code hl_variable" href="class_r_g_w_l_c.html#a6ace8b944959c1e8d882633040e03f6d">store</a>-&gt;<a class="code hl_function" href="classrgw_1_1sal_1_1_store.html#aca84a6ff80011b26fcd2fa8526c1152e">ctx</a>(), bucket_entry_marker);</div>
<div class="line"><span class="lineno"> 1980</span>    ret = <a class="code hl_function" href="class_r_g_w_l_c.html#aac8510c6f2221507b728cd6dd12efda1">process_bucket</a>(index, max_secs, worker, bucket_entry_marker, once);</div>
<div class="line"><span class="lineno"> 1981</span>    <span class="keywordflow">return</span> ret;</div>
<div class="line"><span class="lineno"> 1982</span>  } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 1983</span>    <span class="comment">/* generate an index-shard sequence unrelated to any other</span></div>
<div class="line"><span class="lineno"> 1984</span><span class="comment">     * that might be running in parallel */</span></div>
<div class="line"><span class="lineno"> 1985</span>    std::string all_buckets{<span class="stringliteral">&quot;&quot;</span>};</div>
<div class="line"><span class="lineno"> 1986</span>    vector&lt;int&gt; shard_seq = <a class="code hl_function" href="rgw__lc_8cc.html#a75a74f58946d0e887e168a9be1211696">random_sequence</a>(<a class="code hl_variable" href="class_r_g_w_l_c.html#a6d6111ee8844a3f98755e04cdda65126">max_objs</a>);</div>
<div class="line"><span class="lineno"> 1987</span>    <span class="keywordflow">for</span> (<span class="keyword">auto</span> index : shard_seq) {</div>
<div class="line"><span class="lineno"> 1988</span>      ret = <a class="code hl_function" href="class_r_g_w_l_c.html#acc373fbfbc796d885451e99ac82e2fdb">process</a>(index, max_secs, worker, once);</div>
<div class="line"><span class="lineno"> 1989</span>      <span class="keywordflow">if</span> (ret &lt; 0)</div>
<div class="line"><span class="lineno"> 1990</span>    <span class="keywordflow">return</span> ret;</div>
<div class="line"><span class="lineno"> 1991</span>    }</div>
<div class="line"><span class="lineno"> 1992</span>  }</div>
<div class="line"><span class="lineno"> 1993</span> </div>
<div class="line"><span class="lineno"> 1994</span>  <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno"> 1995</span>}</div>
<div class="ttc" id="aclass_r_g_w_l_c_html_aac8510c6f2221507b728cd6dd12efda1"><div class="ttname"><a href="class_r_g_w_l_c.html#aac8510c6f2221507b728cd6dd12efda1">RGWLC::process_bucket</a></div><div class="ttdeci">int process_bucket(int index, int max_lock_secs, LCWorker *worker, const std::string &amp;bucket_entry_marker, bool once)</div><div class="ttdef"><b>Definition</b> <a href="rgw__lc_8cc_source.html#l02023">rgw_lc.cc:2023</a></div></div>
<div class="ttc" id="aclass_r_g_w_l_c_html_acc373fbfbc796d885451e99ac82e2fdb"><div class="ttname"><a href="class_r_g_w_l_c.html#acc373fbfbc796d885451e99ac82e2fdb">RGWLC::process</a></div><div class="ttdeci">int process(LCWorker *worker, const std::unique_ptr&lt; rgw::sal::Bucket &gt; &amp;optional_bucket, bool once)</div><div class="ttdef"><b>Definition</b> <a href="rgw__lc_8cc_source.html#l01966">rgw_lc.cc:1966</a></div></div>
<div class="ttc" id="aclassrgw_1_1sal_1_1_store_html_aca84a6ff80011b26fcd2fa8526c1152e"><div class="ttname"><a href="classrgw_1_1sal_1_1_store.html#aca84a6ff80011b26fcd2fa8526c1152e">rgw::sal::Store::ctx</a></div><div class="ttdeci">virtual CephContext * ctx(void)=0</div></div>
<div class="ttc" id="argw__lc_8cc_html_a75a74f58946d0e887e168a9be1211696"><div class="ttname"><a href="rgw__lc_8cc.html#a75a74f58946d0e887e168a9be1211696">random_sequence</a></div><div class="ttdeci">static vector&lt; int &gt; random_sequence(uint32_t n)</div><div class="ttdef"><b>Definition</b> <a href="rgw__lc_8cc_source.html#l01925">rgw_lc.cc:1925</a></div></div>
<div class="ttc" id="argw__lc_8cc_html_adba4d022c4f550e5d9621530600217df"><div class="ttname"><a href="rgw__lc_8cc.html#adba4d022c4f550e5d9621530600217df">get_lc_shard_name</a></div><div class="ttdeci">static std::string get_lc_shard_name(const rgw_bucket &amp;bucket)</div><div class="ttdef"><b>Definition</b> <a href="rgw__lc_8cc_source.html#l01962">rgw_lc.cc:1962</a></div></div>
<div class="ttc" id="argw__lc_8cc_html_af725effd98eed069046da1355c426e40"><div class="ttname"><a href="rgw__lc_8cc.html#af725effd98eed069046da1355c426e40">get_lc_index</a></div><div class="ttdeci">static int get_lc_index(CephContext *cct, const std::string &amp;shard_id)</div><div class="ttdef"><b>Definition</b> <a href="rgw__lc_8cc_source.html#l01938">rgw_lc.cc:1938</a></div></div>
</div><!-- fragment --><div class="dynheader">
이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="class_r_g_w_l_c_acc373fbfbc796d885451e99ac82e2fdb_cgraph.png" border="0" usemap="#aclass_r_g_w_l_c_acc373fbfbc796d885451e99ac82e2fdb_cgraph" alt=""/></div>
<map name="aclass_r_g_w_l_c_acc373fbfbc796d885451e99ac82e2fdb_cgraph" id="aclass_r_g_w_l_c_acc373fbfbc796d885451e99ac82e2fdb_cgraph">
<area shape="rect" title=" " alt="" coords="5,507,129,533"/>
<area shape="poly" title=" " alt="" coords="34,508,28,498,32,488,45,482,67,480,90,483,103,489,100,494,89,488,67,485,47,487,36,492,33,497,38,505"/>
<area shape="rect" href="classrgw_1_1sal_1_1_store.html#aca84a6ff80011b26fcd2fa8526c1152e" title=" " alt="" coords="196,405,327,432"/>
<area shape="poly" title=" " alt="" coords="83,504,123,473,175,442,190,435,192,440,178,446,126,477,86,508"/>
<area shape="rect" href="rgw__lc_8cc.html#af725effd98eed069046da1355c426e40" title=" " alt="" coords="214,456,309,483"/>
<area shape="poly" title=" " alt="" coords="121,503,198,483,200,488,122,509"/>
<area shape="rect" href="rgw__lc_8cc.html#adba4d022c4f550e5d9621530600217df" title=" " alt="" coords="194,507,329,533"/>
<area shape="poly" title=" " alt="" coords="129,517,179,517,179,523,129,523"/>
<area shape="rect" href="class_r_g_w_l_c.html#aac8510c6f2221507b728cd6dd12efda1" title=" " alt="" coords="177,557,346,584"/>
<area shape="poly" title=" " alt="" coords="122,531,194,550,192,556,121,537"/>
<area shape="rect" href="rgw__lc_8cc.html#a75a74f58946d0e887e168a9be1211696" title=" " alt="" coords="198,608,325,635"/>
<area shape="poly" title=" " alt="" coords="86,532,126,563,178,594,192,600,190,605,175,598,123,567,83,536"/>
<area shape="rect" href="rgw__string_8h.html#ad82666b951338913fe512e2010580538" title=" " alt="" coords="423,81,551,108"/>
<area shape="poly" title=" " alt="" coords="327,504,344,493,381,450,410,402,434,350,451,297,473,197,482,123,487,124,478,198,457,298,439,352,415,404,385,453,348,497,330,509"/>
<area shape="rect" href="namespacedetail.html#aa7a0782c37a750e28e285d3304da7773" title=" " alt="" coords="674,5,755,32"/>
<area shape="poly" title=" " alt="" coords="524,78,627,41,658,32,660,37,629,47,526,83"/>
<area shape="rect" href="rgw__string_8h.html#ac3ed8aee3c065c9a8fd96a6d0c8cd751" title="return the length of a c string, string literal, or string type" alt="" coords="672,56,757,83"/>
<area shape="poly" title=" " alt="" coords="551,85,656,73,657,78,552,90"/>
<area shape="rect" href="namespacedetail.html#aa1de938e3e6a438a673fa37ceef54d42" title=" " alt="" coords="672,107,757,133"/>
<area shape="poly" title=" " alt="" coords="552,99,657,111,656,116,551,104"/>
<area shape="rect" href="structdetail_1_1string__traits.html#af2c3806c1f57c44fbe138af0cc4d78ba" title=" " alt="" coords="880,48,1009,91"/>
<area shape="poly" title=" " alt="" coords="757,67,865,67,865,72,757,72"/>
<area shape="rect" href="class_r_g_w_l_c.html#aa6a0111e4104bcef717cb150265788f3" title=" " alt="" coords="405,907,570,933"/>
<area shape="poly" title=" " alt="" coords="330,582,348,594,380,628,406,666,429,707,446,750,471,829,484,891,479,892,466,831,441,751,424,710,402,669,375,631,344,598,327,587"/>
<area shape="rect" href="class_r_g_w_l_c.html#a269e0f1145a60261564f4c44005818f1" title=" " alt="" coords="394,507,580,533"/>
<area shape="poly" title=" " alt="" coords="324,554,409,535,410,540,325,559"/>
<area shape="rect" href="class_r_g_w_l_c.html#ae6273bb6a6e6103e07f75427d3054d80" title=" " alt="" coords="402,557,573,584"/>
<area shape="poly" title=" " alt="" coords="346,568,386,568,386,573,346,573"/>
<area shape="rect" href="class_r_g_w_l_c.html#a6a4ba660b6ce88ac0e3aabeabfc97724" title=" " alt="" coords="406,608,569,635"/>
<area shape="poly" title=" " alt="" coords="325,582,410,601,409,607,324,587"/>
<area shape="rect" href="structrgw_1_1sal_1_1_serializer.html#a103f4686a14753071aaa6f8d877000a2" title=" " alt="" coords="650,965,779,1008"/>
<area shape="poly" title=" " alt="" coords="536,931,636,961,635,966,535,937"/>
<area shape="rect" href="structrgw_1_1sal_1_1_serializer.html#a5f4201883413ae26f82f4f049d94a952" title=" " alt="" coords="650,899,779,941"/>
<area shape="poly" title=" " alt="" coords="570,917,635,917,635,923,570,923"/>
<area shape="rect" href="class_l_c_op_rule.html#a11946c2ad30c443020a9d5a5257443c3" title=" " alt="" coords="657,208,772,235"/>
<area shape="poly" title=" " alt="" coords="489,505,504,458,531,390,571,316,597,282,627,251,644,239,647,244,630,255,601,285,576,319,536,392,509,460,495,507"/>
<area shape="rect" href="class_r_g_w_l_c_1_1_work_pool.html#ad31a6de1bd2e6d127cca4600b771fc98" title=" " alt="" coords="859,680,1030,707"/>
<area shape="poly" title=" " alt="" coords="562,532,582,543,600,566,606,590,613,612,619,623,630,632,666,649,720,663,844,682,843,687,718,668,664,654,627,637,615,626,608,615,601,591,595,569,579,547,560,536"/>
<area shape="rect" href="class_r_g_w_l_c_1_1_work_pool.html#a5ad10c9f90240e8a3b168dddec3e5b0a" title=" " alt="" coords="849,259,1040,285"/>
<area shape="poly" title=" " alt="" coords="491,505,507,465,535,411,574,355,599,330,627,310,676,286,729,272,782,264,833,262,833,267,783,269,730,277,678,291,630,314,603,335,579,359,539,414,512,468,496,507"/>
<area shape="rect" href="classrgw_1_1sal_1_1_store.html#a3308ce50125b19ccdf5ce7f69958bd67" title=" " alt="" coords="649,360,780,403"/>
<area shape="poly" title=" " alt="" coords="504,504,558,464,627,419,648,408,651,412,630,424,561,469,508,508"/>
<area shape="rect" href="class_r_g_w_l_c_1_1_l_c_worker.html#a6141bd5060e4ba925bc3d8b52fbc819c" title=" " alt="" coords="855,309,1034,336"/>
<area shape="poly" title=" " alt="" coords="493,505,511,471,540,426,579,381,602,362,627,346,679,325,734,313,788,308,840,308,840,314,789,314,734,318,680,330,630,350,605,366,582,385,544,430,515,474,497,507"/>
<area shape="rect" href="class_l_c_objs_lister.html#a947bb056751af58a09970302d1718271" title=" " alt="" coords="641,477,788,504"/>
<area shape="poly" title=" " alt="" coords="580,505,625,499,626,505,581,511"/>
<area shape="rect" href="class_r_g_w_l_c.html#a47c69344f2b132180807be7326cef44f" title=" " alt="" coords="628,528,801,571"/>
<area shape="poly" title=" " alt="" coords="581,529,613,534,612,539,580,535"/>
<area shape="rect" href="class_r_g_w_l_c_1_1_work_pool.html#adbe45cf440e297d70737e0e93b206be4" title=" " alt="" coords="863,360,1026,387"/>
<area shape="poly" title=" " alt="" coords="521,504,627,463,714,437,800,412,848,396,874,389,875,394,849,401,801,417,715,442,629,468,522,509"/>
<area shape="rect" href="rgw__lc_8cc.html#a9a76c55be419b1a6dbc5000f98c40f63" title=" " alt="" coords="876,629,1013,656"/>
<area shape="poly" title=" " alt="" coords="553,532,582,543,596,553,606,562,615,572,629,580,688,602,748,618,861,635,860,640,747,623,686,607,627,585,612,576,602,566,593,557,579,548,551,536"/>
<area shape="rect" href="class_l_c_objs_lister.html#af0f5a0825ff57ecba8fda4b8c3324902" title=" " alt="" coords="884,731,1005,757"/>
<area shape="poly" title=" " alt="" coords="565,532,582,543,596,561,604,579,606,615,609,650,616,666,630,682,647,692,670,702,731,717,868,736,868,741,730,722,668,707,644,697,627,686,612,669,604,651,601,616,598,580,592,564,579,547,562,536"/>
<area shape="rect" href="rgw__lc_8cc.html#a0418dc6a51e1e130f431d7238528d401" title=" " alt="" coords="672,747,757,773"/>
<area shape="poly" title=" " alt="" coords="566,532,582,543,599,567,607,590,609,613,608,636,608,681,615,704,630,726,643,737,659,745,656,750,640,742,626,730,610,706,603,682,603,636,604,613,602,591,595,569,578,547,563,536"/>
<area shape="rect" href="class_l_c_objs_lister.html#a3d6de72ff3096029814389d47a55eba4" title=" " alt="" coords="650,797,779,824"/>
<area shape="poly" title=" " alt="" coords="567,532,582,544,603,574,611,605,611,635,607,665,603,695,603,725,611,754,630,784,639,791,635,795,626,787,606,756,598,725,598,695,602,665,606,635,606,605,598,576,578,547,564,536"/>
<area shape="rect" href="class_l_c_objs_lister.html#a0e95d63e79a3154b8dd097fffa27ff0c" title=" " alt="" coords="634,848,795,875"/>
<area shape="poly" title=" " alt="" coords="568,532,582,544,606,581,615,618,614,654,607,691,601,727,599,763,607,798,630,834,633,837,629,840,626,838,603,800,594,763,596,726,602,690,609,654,610,618,602,583,578,547,564,536"/>
<area shape="rect" href="class_l_c_op_rule.html#a7396e88739ab8ebf9d44f15de65adb0c" title=" " alt="" coords="651,157,778,184"/>
<area shape="poly" title=" " alt="" coords="488,506,498,449,522,365,540,319,563,273,592,231,627,194,635,187,639,192,630,198,596,234,568,276,545,321,527,367,503,450,493,507"/>
<area shape="poly" title=" " alt="" coords="736,569,785,618,816,644,850,666,862,672,860,676,847,670,813,648,781,622,732,573"/>
<area shape="poly" title=" " alt="" coords="786,525,799,514,816,487,823,460,823,433,820,406,818,378,819,351,827,323,847,296,849,293,853,297,851,299,832,325,824,352,823,378,826,405,829,432,828,460,821,489,803,518,790,529"/>
<area shape="poly" title=" " alt="" coords="785,525,799,514,813,493,820,473,821,431,823,389,831,367,847,346,850,343,854,347,851,350,835,370,828,390,826,431,825,474,818,496,803,518,789,529"/>
<area shape="rect" href="classrgw_1_1sal_1_1_bucket.html#a57bc20e39b569fa62a2854b95b18715f" title=" " alt="" coords="874,512,1015,555"/>
<area shape="poly" title=" " alt="" coords="801,541,858,537,858,542,801,546"/>
<area shape="rect" href="class_r_g_w_l_c.html#a56a8bfc53226184f5010175b54129056" title=" " alt="" coords="872,579,1017,605"/>
<area shape="poly" title=" " alt="" coords="802,563,857,573,856,578,801,568"/>
<area shape="rect" href="classrgw_1_1sal_1_1_bucket.html#afbb73a2e77217763483325c942c707ef" title=" " alt="" coords="874,461,1015,488"/>
<area shape="poly" title=" " alt="" coords="770,525,848,497,872,490,874,495,849,503,772,530"/>
<area shape="rect" href="rgw__lc_8cc.html#a708a4e592f52574f7b18e4697ccbdba5" title=" " alt="" coords="887,411,1002,437"/>
<area shape="poly" title=" " alt="" coords="781,525,799,514,814,498,822,481,830,464,847,447,871,435,873,440,850,451,835,467,827,483,818,501,802,518,784,530"/>
<area shape="poly" title=" " alt="" coords="784,525,799,514,810,500,817,485,821,456,826,426,834,411,847,397,852,393,855,397,851,401,838,414,832,428,826,457,822,487,815,503,803,518,788,530"/>
<area shape="poly" title=" " alt="" coords="765,569,802,587,826,602,850,615,869,622,867,627,848,620,823,606,799,592,763,574"/>
<area shape="rect" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5" title=" " alt="" coords="1088,571,1130,597"/>
<area shape="poly" title=" " alt="" coords="1003,429,1023,436,1042,447,1065,472,1082,500,1103,555,1098,557,1077,502,1060,475,1038,451,1021,441,1001,434"/>
<area shape="poly" title=" " alt="" coords="1005,733,1023,727,1038,717,1060,693,1077,666,1098,611,1103,613,1082,668,1065,696,1042,721,1025,731,1007,738"/>
</map>
</div>
<div class="dynheader">
이 함수를 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="class_r_g_w_l_c_acc373fbfbc796d885451e99ac82e2fdb_icgraph.png" border="0" usemap="#aclass_r_g_w_l_c_acc373fbfbc796d885451e99ac82e2fdb_icgraph" alt=""/></div>
<map name="aclass_r_g_w_l_c_acc373fbfbc796d885451e99ac82e2fdb_icgraph" id="aclass_r_g_w_l_c_acc373fbfbc796d885451e99ac82e2fdb_icgraph">
<area shape="rect" title=" " alt="" coords="226,31,349,57"/>
<area shape="poly" title=" " alt="" coords="321,18,309,12,287,9,267,11,256,16,253,21,258,29,254,32,248,22,252,12,266,6,287,4,311,7,323,13"/>
<area shape="rect" href="class_r_g_w_l_c_1_1_l_c_worker.html#a9d6b503ea0fb811d8539195c95d0f3fe" title=" " alt="" coords="5,5,178,32"/>
<area shape="poly" title=" " alt="" coords="210,37,178,33,179,27,211,31"/>
<area shape="rect" href="class_r_g_w_rados.html#a915344e336dcc165c525c0c688536845" title=" " alt="" coords="11,56,172,83"/>
<area shape="poly" title=" " alt="" coords="211,57,173,62,172,56,210,51"/>
</map>
</div>

</div>
</div>
<a id="aac8510c6f2221507b728cd6dd12efda1" name="aac8510c6f2221507b728cd6dd12efda1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aac8510c6f2221507b728cd6dd12efda1">&#9670;&#160;</a></span>process_bucket()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int RGWLC::process_bucket </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>index</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>max_lock_secs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_r_g_w_l_c_1_1_l_c_worker.html">LCWorker</a> *&#160;</td>
          <td class="paramname"><em>worker</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>bucket_entry_marker</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>once</em> = <code>false</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition"><a class="el" href="rgw__lc_8cc_source.html">rgw_lc.cc</a> 파일의 <a class="el" href="rgw__lc_8cc_source.html#l02023">2023</a> 번째 라인에서 정의되었습니다.</p>
<div class="fragment"><div class="line"><span class="lineno"> 2026</span>{</div>
<div class="line"><span class="lineno"> 2027</span>  ldpp_dout(<span class="keyword">this</span>, 5) &lt;&lt; <span class="stringliteral">&quot;RGWLC::process_bucket(): ENTER: &quot;</span></div>
<div class="line"><span class="lineno"> 2028</span>      &lt;&lt; <span class="stringliteral">&quot;index: &quot;</span> &lt;&lt; index &lt;&lt; <span class="stringliteral">&quot; worker ix: &quot;</span> &lt;&lt; worker-&gt;ix</div>
<div class="line"><span class="lineno"> 2029</span>      &lt;&lt; dendl;</div>
<div class="line"><span class="lineno"> 2030</span> </div>
<div class="line"><span class="lineno"> 2031</span>  <span class="keywordtype">int</span> ret = 0;</div>
<div class="line"><span class="lineno"> 2032</span>  std::unique_ptr&lt;rgw::sal::LCSerializer&gt; serializer(</div>
<div class="line"><span class="lineno"> 2033</span>    <a class="code hl_variable" href="class_r_g_w_l_c.html#a93453fc6cc64ddcc2450b56bcaf9568a">sal_lc</a>-&gt;get_serializer(<a class="code hl_variable" href="rgw__lc_8h.html#a75f44f9e43388ee0990e4701d54e048a">lc_index_lock_name</a>, <a class="code hl_variable" href="class_r_g_w_l_c.html#a7954d0b97a1f5b8fa55a083f0607e4fa">obj_names</a>[index],</div>
<div class="line"><span class="lineno"> 2034</span>               std::string()));</div>
<div class="line"><span class="lineno"> 2035</span> </div>
<div class="line"><span class="lineno"> 2036</span>  <a class="code hl_struct" href="structrgw_1_1sal_1_1_lifecycle_1_1_l_c_entry.html">rgw::sal::Lifecycle::LCEntry</a> entry;</div>
<div class="line"><span class="lineno"> 2037</span>  <span class="keywordflow">if</span> (max_lock_secs &lt;= 0) {</div>
<div class="line"><span class="lineno"> 2038</span>    <span class="keywordflow">return</span> -EAGAIN;</div>
<div class="line"><span class="lineno"> 2039</span>  }</div>
<div class="line"><span class="lineno"> 2040</span> </div>
<div class="line"><span class="lineno"> 2041</span>  utime_t time(max_lock_secs, 0);</div>
<div class="line"><span class="lineno"> 2042</span>  ret = serializer-&gt;try_lock(<span class="keyword">this</span>, time, null_yield);</div>
<div class="line"><span class="lineno"> 2043</span>  <span class="keywordflow">if</span> (ret == -EBUSY || ret == -EEXIST) {</div>
<div class="line"><span class="lineno"> 2044</span>    <span class="comment">/* already locked by another lc processor */</span></div>
<div class="line"><span class="lineno"> 2045</span>    ldpp_dout(<span class="keyword">this</span>, 0) &lt;&lt; <span class="stringliteral">&quot;RGWLC::process() failed to acquire lock on &quot;</span></div>
<div class="line"><span class="lineno"> 2046</span>               &lt;&lt; <a class="code hl_variable" href="class_r_g_w_l_c.html#a7954d0b97a1f5b8fa55a083f0607e4fa">obj_names</a>[index] &lt;&lt; dendl;</div>
<div class="line"><span class="lineno"> 2047</span>    <span class="keywordflow">return</span> -EBUSY;</div>
<div class="line"><span class="lineno"> 2048</span>  }</div>
<div class="line"><span class="lineno"> 2049</span>  <span class="keywordflow">if</span> (ret &lt; 0)</div>
<div class="line"><span class="lineno"> 2050</span>    <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno"> 2051</span> </div>
<div class="line"><span class="lineno"> 2052</span>  std::unique_lock&lt;rgw::sal::LCSerializer&gt; lock(</div>
<div class="line"><span class="lineno"> 2053</span>    *(serializer.get()), std::adopt_lock);</div>
<div class="line"><span class="lineno"> 2054</span> </div>
<div class="line"><span class="lineno"> 2055</span>  ret = <a class="code hl_variable" href="class_r_g_w_l_c.html#a93453fc6cc64ddcc2450b56bcaf9568a">sal_lc</a>-&gt;get_entry(<a class="code hl_variable" href="class_r_g_w_l_c.html#a7954d0b97a1f5b8fa55a083f0607e4fa">obj_names</a>[index], bucket_entry_marker, entry);</div>
<div class="line"><span class="lineno"> 2056</span>  <span class="keywordflow">if</span> (ret &gt;= 0) {</div>
<div class="line"><span class="lineno"> 2057</span>    <span class="keywordflow">if</span> (entry.<a class="code hl_variable" href="structrgw_1_1sal_1_1_lifecycle_1_1_l_c_entry.html#ab967abd35523acb2a08ffdc772a27858">status</a> == <a class="code hl_enumvalue" href="rgw__lc_8h.html#a87f6a2649c9e1a1b5b31ecfac94f6e62a9f59d380afc034be0274f23424eac6d6">lc_processing</a>) {</div>
<div class="line"><span class="lineno"> 2058</span>      <span class="keywordflow">if</span> (<a class="code hl_function" href="class_r_g_w_l_c.html#ae6273bb6a6e6103e07f75427d3054d80">expired_session</a>(entry.<a class="code hl_variable" href="structrgw_1_1sal_1_1_lifecycle_1_1_l_c_entry.html#a3a7774d065b925783b71e2e2829a8606">start_time</a>)) {</div>
<div class="line"><span class="lineno"> 2059</span>    ldpp_dout(<span class="keyword">this</span>, 5) &lt;&lt; <span class="stringliteral">&quot;RGWLC::process_bucket(): STALE lc session found for: &quot;</span> &lt;&lt; entry</div>
<div class="line"><span class="lineno"> 2060</span>               &lt;&lt; <span class="stringliteral">&quot; index: &quot;</span> &lt;&lt; index &lt;&lt; <span class="stringliteral">&quot; worker ix: &quot;</span> &lt;&lt; worker-&gt;ix</div>
<div class="line"><span class="lineno"> 2061</span>               &lt;&lt; <span class="stringliteral">&quot; (clearing)&quot;</span></div>
<div class="line"><span class="lineno"> 2062</span>               &lt;&lt; dendl;</div>
<div class="line"><span class="lineno"> 2063</span>      } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 2064</span>    ldpp_dout(<span class="keyword">this</span>, 5) &lt;&lt; <span class="stringliteral">&quot;RGWLC::process_bucket(): ACTIVE entry: &quot;</span></div>
<div class="line"><span class="lineno"> 2065</span>               &lt;&lt; entry</div>
<div class="line"><span class="lineno"> 2066</span>               &lt;&lt; <span class="stringliteral">&quot; index: &quot;</span> &lt;&lt; index</div>
<div class="line"><span class="lineno"> 2067</span>               &lt;&lt; <span class="stringliteral">&quot; worker ix: &quot;</span> &lt;&lt; worker-&gt;ix</div>
<div class="line"><span class="lineno"> 2068</span>               &lt;&lt; dendl;</div>
<div class="line"><span class="lineno"> 2069</span>    <span class="keywordflow">return</span> ret;</div>
<div class="line"><span class="lineno"> 2070</span>      }</div>
<div class="line"><span class="lineno"> 2071</span>    }</div>
<div class="line"><span class="lineno"> 2072</span>  }</div>
<div class="line"><span class="lineno"> 2073</span> </div>
<div class="line"><span class="lineno"> 2074</span>  <span class="comment">/* do nothing if no bucket */</span></div>
<div class="line"><span class="lineno"> 2075</span>  <span class="keywordflow">if</span> (entry.<a class="code hl_variable" href="structrgw_1_1sal_1_1_lifecycle_1_1_l_c_entry.html#adf5aeebb89cb0317b441af21eee8cc33">bucket</a>.empty()) {</div>
<div class="line"><span class="lineno"> 2076</span>    <span class="keywordflow">return</span> ret;</div>
<div class="line"><span class="lineno"> 2077</span>  }</div>
<div class="line"><span class="lineno"> 2078</span> </div>
<div class="line"><span class="lineno"> 2079</span>  ldpp_dout(<span class="keyword">this</span>, 5) &lt;&lt; <span class="stringliteral">&quot;RGWLC::process_bucket(): START entry 1: &quot;</span> &lt;&lt; entry</div>
<div class="line"><span class="lineno"> 2080</span>             &lt;&lt; <span class="stringliteral">&quot; index: &quot;</span> &lt;&lt; index &lt;&lt; <span class="stringliteral">&quot; worker ix: &quot;</span> &lt;&lt; worker-&gt;ix</div>
<div class="line"><span class="lineno"> 2081</span>             &lt;&lt; dendl;</div>
<div class="line"><span class="lineno"> 2082</span> </div>
<div class="line"><span class="lineno"> 2083</span>  entry.<a class="code hl_variable" href="structrgw_1_1sal_1_1_lifecycle_1_1_l_c_entry.html#ab967abd35523acb2a08ffdc772a27858">status</a> = <a class="code hl_enumvalue" href="rgw__lc_8h.html#a87f6a2649c9e1a1b5b31ecfac94f6e62a9f59d380afc034be0274f23424eac6d6">lc_processing</a>;</div>
<div class="line"><span class="lineno"> 2084</span>  ret = <a class="code hl_variable" href="class_r_g_w_l_c.html#a93453fc6cc64ddcc2450b56bcaf9568a">sal_lc</a>-&gt;set_entry(<a class="code hl_variable" href="class_r_g_w_l_c.html#a7954d0b97a1f5b8fa55a083f0607e4fa">obj_names</a>[index], entry);</div>
<div class="line"><span class="lineno"> 2085</span>  <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno"> 2086</span>    ldpp_dout(<span class="keyword">this</span>, 0) &lt;&lt; <span class="stringliteral">&quot;RGWLC::process_bucket() failed to set obj entry &quot;</span></div>
<div class="line"><span class="lineno"> 2087</span>               &lt;&lt; <a class="code hl_variable" href="class_r_g_w_l_c.html#a7954d0b97a1f5b8fa55a083f0607e4fa">obj_names</a>[index] &lt;&lt; entry.<a class="code hl_variable" href="structrgw_1_1sal_1_1_lifecycle_1_1_l_c_entry.html#adf5aeebb89cb0317b441af21eee8cc33">bucket</a> &lt;&lt; entry.<a class="code hl_variable" href="structrgw_1_1sal_1_1_lifecycle_1_1_l_c_entry.html#ab967abd35523acb2a08ffdc772a27858">status</a></div>
<div class="line"><span class="lineno"> 2088</span>               &lt;&lt; dendl;</div>
<div class="line"><span class="lineno"> 2089</span>    <span class="keywordflow">return</span> ret;</div>
<div class="line"><span class="lineno"> 2090</span>  }</div>
<div class="line"><span class="lineno"> 2091</span> </div>
<div class="line"><span class="lineno"> 2092</span>  ldpp_dout(<span class="keyword">this</span>, 5) &lt;&lt; <span class="stringliteral">&quot;RGWLC::process_bucket(): START entry 2: &quot;</span> &lt;&lt; entry</div>
<div class="line"><span class="lineno"> 2093</span>             &lt;&lt; <span class="stringliteral">&quot; index: &quot;</span> &lt;&lt; index &lt;&lt; <span class="stringliteral">&quot; worker ix: &quot;</span> &lt;&lt; worker-&gt;ix</div>
<div class="line"><span class="lineno"> 2094</span>             &lt;&lt; dendl;</div>
<div class="line"><span class="lineno"> 2095</span> </div>
<div class="line"><span class="lineno"> 2096</span>  lock.unlock();</div>
<div class="line"><span class="lineno"> 2097</span>  ret = <a class="code hl_function" href="class_r_g_w_l_c.html#a269e0f1145a60261564f4c44005818f1">bucket_lc_process</a>(entry.<a class="code hl_variable" href="structrgw_1_1sal_1_1_lifecycle_1_1_l_c_entry.html#adf5aeebb89cb0317b441af21eee8cc33">bucket</a>, worker, <a class="code hl_function" href="class_r_g_w_l_c.html#a6a4ba660b6ce88ac0e3aabeabfc97724">thread_stop_at</a>(), once);</div>
<div class="line"><span class="lineno"> 2098</span>  <a class="code hl_function" href="class_r_g_w_l_c.html#aa6a0111e4104bcef717cb150265788f3">bucket_lc_post</a>(index, max_lock_secs, entry, ret, worker);</div>
<div class="line"><span class="lineno"> 2099</span> </div>
<div class="line"><span class="lineno"> 2100</span>  <span class="keywordflow">return</span> ret;</div>
<div class="line"><span class="lineno"> 2101</span>} <span class="comment">/* RGWLC::process_bucket */</span></div>
</div><!-- fragment --><div class="dynheader">
이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="class_r_g_w_l_c_aac8510c6f2221507b728cd6dd12efda1_cgraph.png" border="0" usemap="#aclass_r_g_w_l_c_aac8510c6f2221507b728cd6dd12efda1_cgraph" alt=""/></div>
<map name="aclass_r_g_w_l_c_aac8510c6f2221507b728cd6dd12efda1_cgraph" id="aclass_r_g_w_l_c_aac8510c6f2221507b728cd6dd12efda1_cgraph">
<area shape="rect" title=" " alt="" coords="5,468,175,495"/>
<area shape="rect" href="class_r_g_w_l_c.html#aa6a0111e4104bcef717cb150265788f3" title=" " alt="" coords="233,80,399,107"/>
<area shape="poly" title=" " alt="" coords="97,466,297,119,301,122,102,469"/>
<area shape="rect" href="class_r_g_w_l_c.html#a269e0f1145a60261564f4c44005818f1" title=" " alt="" coords="223,443,409,469"/>
<area shape="poly" title=" " alt="" coords="175,469,207,466,207,471,175,474"/>
<area shape="rect" href="class_r_g_w_l_c.html#ae6273bb6a6e6103e07f75427d3054d80" title=" " alt="" coords="230,493,402,520"/>
<area shape="poly" title=" " alt="" coords="175,488,215,493,214,498,175,493"/>
<area shape="rect" href="class_r_g_w_l_c.html#a6a4ba660b6ce88ac0e3aabeabfc97724" title=" " alt="" coords="234,544,398,571"/>
<area shape="poly" title=" " alt="" coords="125,493,224,529,247,537,245,542,222,535,124,498"/>
<area shape="rect" href="structrgw_1_1sal_1_1_serializer.html#a103f4686a14753071aaa6f8d877000a2" title=" " alt="" coords="479,5,607,48"/>
<area shape="poly" title=" " alt="" coords="364,77,463,47,465,52,365,82"/>
<area shape="rect" href="structrgw_1_1sal_1_1_serializer.html#a5f4201883413ae26f82f4f049d94a952" title=" " alt="" coords="479,72,607,115"/>
<area shape="poly" title=" " alt="" coords="399,91,464,91,464,96,399,96"/>
<area shape="rect" href="class_l_c_op_rule.html#a11946c2ad30c443020a9d5a5257443c3" title=" " alt="" coords="486,341,601,368"/>
<area shape="poly" title=" " alt="" coords="342,440,456,384,488,371,490,376,458,389,344,445"/>
<area shape="rect" href="class_r_g_w_l_c_1_1_work_pool.html#ad31a6de1bd2e6d127cca4600b771fc98" title=" " alt="" coords="688,392,858,419"/>
<area shape="poly" title=" " alt="" coords="409,441,457,435,672,412,673,417,457,440,410,446"/>
<area shape="rect" href="class_r_g_w_l_c_1_1_work_pool.html#a5ad10c9f90240e8a3b168dddec3e5b0a" title=" " alt="" coords="677,443,869,469"/>
<area shape="poly" title=" " alt="" coords="409,453,662,453,662,459,409,459"/>
<area shape="rect" href="classrgw_1_1sal_1_1_store.html#a3308ce50125b19ccdf5ce7f69958bd67" title=" " alt="" coords="478,493,609,536"/>
<area shape="poly" title=" " alt="" coords="371,467,463,491,462,496,370,472"/>
<area shape="rect" href="class_r_g_w_l_c_1_1_l_c_worker.html#a6141bd5060e4ba925bc3d8b52fbc819c" title=" " alt="" coords="684,493,862,520"/>
<area shape="poly" title=" " alt="" coords="388,467,411,479,427,497,434,515,442,532,458,546,503,562,540,563,629,545,653,539,676,529,702,522,704,527,678,535,654,544,630,551,541,568,502,567,456,550,438,535,430,517,422,500,407,483,386,472"/>
<area shape="rect" href="class_l_c_objs_lister.html#a947bb056751af58a09970302d1718271" title=" " alt="" coords="470,611,616,637"/>
<area shape="poly" title=" " alt="" coords="393,468,411,479,423,493,431,507,436,535,441,563,448,577,459,590,474,601,471,605,455,594,443,580,436,565,431,536,426,509,419,496,407,483,390,472"/>
<area shape="rect" href="class_r_g_w_l_c.html#a47c69344f2b132180807be7326cef44f" title=" " alt="" coords="457,661,629,704"/>
<area shape="poly" title=" " alt="" coords="395,468,411,479,427,501,435,522,437,564,438,606,445,627,459,648,461,649,457,653,455,651,440,629,433,607,431,564,430,523,422,503,407,483,392,472"/>
<area shape="rect" href="class_r_g_w_l_c_1_1_work_pool.html#adbe45cf440e297d70737e0e93b206be4" title=" " alt="" coords="691,763,855,789"/>
<area shape="poly" title=" " alt="" coords="396,468,411,480,431,510,439,540,439,570,434,600,430,630,430,658,439,686,459,714,481,733,507,748,562,769,621,779,676,781,676,787,620,784,561,774,504,753,478,737,455,718,434,689,425,659,425,629,429,599,433,570,434,541,426,512,407,483,393,472"/>
<area shape="rect" href="rgw__lc_8cc.html#a9a76c55be419b1a6dbc5000f98c40f63" title=" " alt="" coords="705,813,841,840"/>
<area shape="poly" title=" " alt="" coords="397,468,411,479,426,499,436,519,444,559,441,599,433,638,425,676,423,714,433,750,443,768,459,786,483,805,510,820,539,830,570,837,632,842,689,839,690,844,632,847,569,842,538,835,508,825,480,810,455,790,439,771,428,753,418,714,420,676,428,637,436,598,439,559,431,521,421,502,407,483,393,472"/>
<area shape="rect" href="class_l_c_objs_lister.html#af0f5a0825ff57ecba8fda4b8c3324902" title=" " alt="" coords="712,864,834,891"/>
<area shape="poly" title=" " alt="" coords="397,468,411,480,428,503,440,527,446,552,448,576,443,623,431,671,421,717,417,762,420,784,427,806,440,827,459,849,484,868,513,883,544,892,577,897,642,898,701,891,701,897,642,904,576,903,543,897,511,888,482,873,455,853,436,831,423,808,415,785,412,762,415,716,426,669,438,622,443,576,441,552,435,529,424,506,407,483,393,472"/>
<area shape="rect" href="rgw__lc_8cc.html#a0418dc6a51e1e130f431d7238528d401" title=" " alt="" coords="501,139,585,165"/>
<area shape="poly" title=" " alt="" coords="317,442,330,392,356,320,375,281,397,243,424,207,455,175,485,159,487,164,459,179,428,210,402,246,379,284,361,322,336,394,322,443"/>
<area shape="rect" href="class_l_c_objs_lister.html#a3d6de72ff3096029814389d47a55eba4" title=" " alt="" coords="479,189,608,216"/>
<area shape="poly" title=" " alt="" coords="319,441,335,399,363,341,403,279,428,251,455,226,463,221,466,225,459,230,431,255,407,283,368,344,340,402,324,443"/>
<area shape="rect" href="class_l_c_objs_lister.html#a0e95d63e79a3154b8dd097fffa27ff0c" title=" " alt="" coords="463,240,623,267"/>
<area shape="poly" title=" " alt="" coords="322,441,341,407,370,363,409,317,455,277,464,271,467,276,459,281,413,320,375,366,345,410,327,443"/>
<area shape="rect" href="class_l_c_op_rule.html#a7396e88739ab8ebf9d44f15de65adb0c" title=" " alt="" coords="480,291,607,317"/>
<area shape="poly" title=" " alt="" coords="326,441,378,386,415,354,456,327,468,321,470,326,458,332,418,359,382,390,330,444"/>
<area shape="poly" title=" " alt="" coords="615,659,627,648,645,620,652,593,652,566,649,539,646,512,647,484,656,456,675,429,678,426,682,430,679,432,661,459,653,485,652,511,654,538,657,566,657,594,650,622,631,651,618,663"/>
<area shape="poly" title=" " alt="" coords="614,659,627,648,642,627,648,606,649,564,651,522,659,501,675,480,679,477,682,480,679,483,664,503,656,523,655,564,654,607,647,629,631,651,618,663"/>
<area shape="poly" title=" " alt="" coords="613,659,627,647,639,633,645,619,650,589,655,560,663,545,675,530,680,526,684,530,679,534,667,548,660,561,655,590,650,620,643,636,631,651,616,663"/>
<area shape="rect" href="classrgw_1_1sal_1_1_bucket.html#a57bc20e39b569fa62a2854b95b18715f" title=" " alt="" coords="702,544,844,587"/>
<area shape="poly" title=" " alt="" coords="608,659,628,647,642,635,651,622,661,609,676,596,687,590,689,595,679,601,664,613,655,625,646,638,631,652,610,663"/>
<area shape="rect" href="class_r_g_w_l_c.html#a56a8bfc53226184f5010175b54129056" title=" " alt="" coords="700,611,846,637"/>
<area shape="poly" title=" " alt="" coords="628,658,702,639,704,644,630,663"/>
<area shape="rect" href="classrgw_1_1sal_1_1_bucket.html#afbb73a2e77217763483325c942c707ef" title=" " alt="" coords="703,661,843,688"/>
<area shape="poly" title=" " alt="" coords="630,677,687,675,688,680,630,682"/>
<area shape="rect" href="rgw__lc_8cc.html#a708a4e592f52574f7b18e4697ccbdba5" title=" " alt="" coords="715,712,831,739"/>
<area shape="poly" title=" " alt="" coords="630,696,700,709,699,714,629,701"/>
<area shape="poly" title=" " alt="" coords="583,702,628,726,678,748,699,755,697,760,676,753,626,731,581,707"/>
<area shape="poly" title=" " alt="" coords="565,703,613,751,645,777,679,799,691,805,689,810,676,804,641,781,610,755,561,706"/>
<area shape="rect" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5" title=" " alt="" coords="917,788,959,815"/>
<area shape="poly" title=" " alt="" coords="832,734,870,748,911,775,908,780,867,753,830,739"/>
<area shape="poly" title=" " alt="" coords="833,863,867,850,908,823,911,827,870,854,835,867"/>
</map>
</div>
<div class="dynheader">
이 함수를 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="class_r_g_w_l_c_aac8510c6f2221507b728cd6dd12efda1_icgraph.png" border="0" usemap="#aclass_r_g_w_l_c_aac8510c6f2221507b728cd6dd12efda1_icgraph" alt=""/></div>
<map name="aclass_r_g_w_l_c_aac8510c6f2221507b728cd6dd12efda1_icgraph" id="aclass_r_g_w_l_c_aac8510c6f2221507b728cd6dd12efda1_icgraph">
<area shape="rect" title=" " alt="" coords="397,31,566,57"/>
<area shape="rect" href="class_r_g_w_l_c.html#acc373fbfbc796d885451e99ac82e2fdb" title=" " alt="" coords="226,31,349,57"/>
<area shape="poly" title=" " alt="" coords="382,47,349,47,349,41,382,41"/>
<area shape="poly" title=" " alt="" coords="320,18,309,12,287,9,267,11,256,16,254,21,259,29,254,32,248,22,252,12,266,6,287,4,311,7,323,13"/>
<area shape="rect" href="class_r_g_w_l_c_1_1_l_c_worker.html#a9d6b503ea0fb811d8539195c95d0f3fe" title=" " alt="" coords="5,5,178,32"/>
<area shape="poly" title=" " alt="" coords="210,37,178,33,179,27,211,31"/>
<area shape="rect" href="class_r_g_w_rados.html#a915344e336dcc165c525c0c688536845" title=" " alt="" coords="11,56,172,83"/>
<area shape="poly" title=" " alt="" coords="211,57,173,62,172,56,210,51"/>
</map>
</div>

</div>
</div>
<a id="ae217a0af681e59a9e935bd90d9c15c14" name="ae217a0af681e59a9e935bd90d9c15c14"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae217a0af681e59a9e935bd90d9c15c14">&#9670;&#160;</a></span>remove_bucket_config()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int RGWLC::remove_bucket_config </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classrgw_1_1sal_1_1_bucket.html">rgw::sal::Bucket</a> *&#160;</td>
          <td class="paramname"><em>bucket</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="group___r_g_w_s_a_l.html#gab1b58d5f8747844fae5ddfb48fadf7bc">rgw::sal::Attrs</a> &amp;&#160;</td>
          <td class="paramname"><em>bucket_attrs</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition"><a class="el" href="rgw__lc_8cc_source.html">rgw_lc.cc</a> 파일의 <a class="el" href="rgw__lc_8cc_source.html#l02410">2410</a> 번째 라인에서 정의되었습니다.</p>
<div class="fragment"><div class="line"><span class="lineno"> 2412</span>{</div>
<div class="line"><span class="lineno"> 2413</span>  <a class="code hl_typedef" href="group___r_g_w_s_a_l.html#gab1b58d5f8747844fae5ddfb48fadf7bc">rgw::sal::Attrs</a> attrs = bucket_attrs;</div>
<div class="line"><span class="lineno"> 2414</span>  attrs.erase(<a class="code hl_define" href="rgw__common_8h.html#a7f53e4298c577378477ce3009f21c769">RGW_ATTR_LC</a>);</div>
<div class="line"><span class="lineno"> 2415</span>  <span class="keywordtype">int</span> ret = bucket-&gt;<a class="code hl_function" href="classrgw_1_1sal_1_1_bucket.html#ab2ac72f2614592b40035633c535b1aec">merge_and_store_attrs</a>(<span class="keyword">this</span>, attrs, null_yield);</div>
<div class="line"><span class="lineno"> 2416</span> </div>
<div class="line"><span class="lineno"> 2417</span>  <a class="code hl_struct" href="structrgw__bucket.html">rgw_bucket</a>&amp; b = bucket-&gt;<a class="code hl_function" href="classrgw_1_1sal_1_1_bucket.html#a0fbf4f16a181a9f8d58d1d75fb8dff2d">get_key</a>();</div>
<div class="line"><span class="lineno"> 2418</span> </div>
<div class="line"><span class="lineno"> 2419</span>  <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno"> 2420</span>    ldpp_dout(<span class="keyword">this</span>, 0) &lt;&lt; <span class="stringliteral">&quot;RGWLC::RGWDeleteLC() failed to set attrs on bucket=&quot;</span></div>
<div class="line"><span class="lineno"> 2421</span>        &lt;&lt; b.<a class="code hl_variable" href="structrgw__bucket.html#a32d3529f5b0c53051c856a7abe867a6b">name</a> &lt;&lt; <span class="stringliteral">&quot; returned err=&quot;</span> &lt;&lt; ret &lt;&lt; dendl;</div>
<div class="line"><span class="lineno"> 2422</span>    <span class="keywordflow">return</span> ret;</div>
<div class="line"><span class="lineno"> 2423</span>  }</div>
<div class="line"><span class="lineno"> 2424</span> </div>
<div class="line"><span class="lineno"> 2425</span> </div>
<div class="line"><span class="lineno"> 2426</span>  ret = <a class="code hl_function" href="rgw__lc_8cc.html#aaba390ab3da0a0b65c067b1fbe49eeb8">guard_lc_modify</a>(<span class="keyword">this</span>, <a class="code hl_variable" href="class_r_g_w_l_c.html#a6ace8b944959c1e8d882633040e03f6d">store</a>, <a class="code hl_variable" href="class_r_g_w_l_c.html#a93453fc6cc64ddcc2450b56bcaf9568a">sal_lc</a>.get(), b, <a class="code hl_variable" href="class_r_g_w_l_c.html#a7bfaa1ecf9b25497f0b5c2a1d4ce7b8b">cookie</a>,</div>
<div class="line"><span class="lineno"> 2427</span>            [&amp;](<a class="code hl_class" href="classrgw_1_1sal_1_1_lifecycle.html">rgw::sal::Lifecycle</a>* <a class="code hl_variable" href="class_r_g_w_l_c.html#a93453fc6cc64ddcc2450b56bcaf9568a">sal_lc</a>, <span class="keyword">const</span> <span class="keywordtype">string</span>&amp; oid,</div>
<div class="line"><span class="lineno"> 2428</span>                <span class="keyword">const</span> <a class="code hl_struct" href="structrgw_1_1sal_1_1_lifecycle_1_1_l_c_entry.html">rgw::sal::Lifecycle::LCEntry</a>&amp; entry) {</div>
<div class="line"><span class="lineno"> 2429</span>    return sal_lc-&gt;rm_entry(oid, entry);</div>
<div class="line"><span class="lineno"> 2430</span>  });</div>
<div class="line"><span class="lineno"> 2431</span> </div>
<div class="line"><span class="lineno"> 2432</span>  <span class="keywordflow">return</span> ret;</div>
<div class="line"><span class="lineno"> 2433</span>} <span class="comment">/* RGWLC::remove_bucket_config */</span></div>
<div class="ttc" id="aclassrgw_1_1sal_1_1_bucket_html_a0fbf4f16a181a9f8d58d1d75fb8dff2d"><div class="ttname"><a href="classrgw_1_1sal_1_1_bucket.html#a0fbf4f16a181a9f8d58d1d75fb8dff2d">rgw::sal::Bucket::get_key</a></div><div class="ttdeci">rgw_bucket &amp; get_key()</div><div class="ttdef"><b>Definition</b> <a href="rgw__sal_8h_source.html#l00769">rgw_sal.h:769</a></div></div>
<div class="ttc" id="aclassrgw_1_1sal_1_1_bucket_html_ab2ac72f2614592b40035633c535b1aec"><div class="ttname"><a href="classrgw_1_1sal_1_1_bucket.html#ab2ac72f2614592b40035633c535b1aec">rgw::sal::Bucket::merge_and_store_attrs</a></div><div class="ttdeci">virtual int merge_and_store_attrs(const DoutPrefixProvider *dpp, Attrs &amp;new_attrs, optional_yield y)=0</div></div>
<div class="ttc" id="aclassrgw_1_1sal_1_1_lifecycle_html"><div class="ttname"><a href="classrgw_1_1sal_1_1_lifecycle.html">rgw::sal::Lifecycle</a></div><div class="ttdoc">Abstraction for lifecycle processing</div><div class="ttdef"><b>Definition</b> <a href="rgw__sal_8h_source.html#l01293">rgw_sal.h:1293</a></div></div>
<div class="ttc" id="agroup___r_g_w_s_a_l_html_gab1b58d5f8747844fae5ddfb48fadf7bc"><div class="ttname"><a href="group___r_g_w_s_a_l.html#gab1b58d5f8747844fae5ddfb48fadf7bc">rgw::sal::Attrs</a></div><div class="ttdeci">std::map&lt; std::string, ceph::buffer::list &gt; Attrs</div><div class="ttdef"><b>Definition</b> <a href="rgw__common_8h_source.html#l00053">rgw_common.h:53</a></div></div>
<div class="ttc" id="argw__lc_8cc_html_aaba390ab3da0a0b65c067b1fbe49eeb8"><div class="ttname"><a href="rgw__lc_8cc.html#aaba390ab3da0a0b65c067b1fbe49eeb8">guard_lc_modify</a></div><div class="ttdeci">static int guard_lc_modify(const DoutPrefixProvider *dpp, rgw::sal::Store *store, rgw::sal::Lifecycle *sal_lc, const rgw_bucket &amp;bucket, const string &amp;cookie, const F &amp;f)</div><div class="ttdef"><b>Definition</b> <a href="rgw__lc_8cc_source.html#l02333">rgw_lc.cc:2333</a></div></div>
<div class="ttc" id="astructrgw__bucket_html"><div class="ttname"><a href="structrgw__bucket.html">rgw_bucket</a></div><div class="ttdef"><b>Definition</b> <a href="rgw__basic__types_8h_source.html#l00289">rgw_basic_types.h:289</a></div></div>
<div class="ttc" id="astructrgw__bucket_html_a32d3529f5b0c53051c856a7abe867a6b"><div class="ttname"><a href="structrgw__bucket.html#a32d3529f5b0c53051c856a7abe867a6b">rgw_bucket::name</a></div><div class="ttdeci">std::string name</div><div class="ttdef"><b>Definition</b> <a href="rgw__basic__types_8h_source.html#l00291">rgw_basic_types.h:291</a></div></div>
</div><!-- fragment --><div class="dynheader">
이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="class_r_g_w_l_c_ae217a0af681e59a9e935bd90d9c15c14_cgraph.png" border="0" usemap="#aclass_r_g_w_l_c_ae217a0af681e59a9e935bd90d9c15c14_cgraph" alt=""/></div>
<map name="aclass_r_g_w_l_c_ae217a0af681e59a9e935bd90d9c15c14_cgraph" id="aclass_r_g_w_l_c_ae217a0af681e59a9e935bd90d9c15c14_cgraph">
<area shape="rect" title=" " alt="" coords="5,124,170,167"/>
<area shape="rect" href="classrgw_1_1sal_1_1_bucket.html#a0fbf4f16a181a9f8d58d1d75fb8dff2d" title=" " alt="" coords="218,81,387,108"/>
<area shape="poly" title=" " alt="" coords="170,123,227,110,229,115,171,128"/>
<area shape="rect" href="rgw__lc_8cc.html#aaba390ab3da0a0b65c067b1fbe49eeb8" title=" " alt="" coords="245,132,360,159"/>
<area shape="poly" title=" " alt="" coords="170,143,230,143,230,148,170,148"/>
<area shape="rect" href="classrgw_1_1sal_1_1_bucket.html#ab2ac72f2614592b40035633c535b1aec" title=" " alt="" coords="223,183,382,225"/>
<area shape="poly" title=" " alt="" coords="169,165,208,176,207,181,167,170"/>
<area shape="rect" href="classrgw_1_1sal_1_1_store.html#aca84a6ff80011b26fcd2fa8526c1152e" title=" " alt="" coords="437,5,568,32"/>
<area shape="poly" title=" " alt="" coords="359,132,385,118,401,100,409,81,417,62,433,42,439,38,442,42,437,46,421,65,414,83,406,103,389,122,362,136"/>
<area shape="rect" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5" title=" " alt="" coords="481,56,523,83"/>
<area shape="poly" title=" " alt="" coords="354,129,386,118,434,92,465,79,467,84,436,97,388,122,356,134"/>
<area shape="rect" href="rgw__lc_8cc.html#a74f6c4556bb7365860108bf03604c443" title=" " alt="" coords="462,107,542,133"/>
<area shape="poly" title=" " alt="" coords="360,135,446,124,447,130,361,141"/>
<area shape="rect" href="rgw__lc_8cc.html#adba4d022c4f550e5d9621530600217df" title=" " alt="" coords="435,157,569,184"/>
<area shape="poly" title=" " alt="" coords="361,150,420,158,419,163,360,155"/>
<area shape="rect" href="structrgw_1_1sal_1_1_serializer.html#a103f4686a14753071aaa6f8d877000a2" title=" " alt="" coords="438,208,566,251"/>
<area shape="poly" title=" " alt="" coords="356,157,388,168,436,194,445,198,442,203,434,198,386,173,354,162"/>
<area shape="rect" href="structrgw_1_1sal_1_1_serializer.html#a5f4201883413ae26f82f4f049d94a952" title=" " alt="" coords="438,275,566,317"/>
<area shape="poly" title=" " alt="" coords="362,154,389,169,407,192,415,215,421,238,437,261,439,263,436,267,433,264,416,240,409,216,403,194,385,173,359,158"/>
<area shape="rect" href="rgw__lc_8cc.html#af725effd98eed069046da1355c426e40" title=" " alt="" coords="634,107,729,133"/>
<area shape="poly" title=" " alt="" coords="543,117,619,117,619,123,543,123"/>
<area shape="rect" href="rgw__string_8h.html#ad82666b951338913fe512e2010580538" title=" " alt="" coords="617,157,746,184"/>
<area shape="poly" title=" " alt="" coords="570,168,602,168,602,173,570,173"/>
<area shape="rect" href="namespacedetail.html#aa7a0782c37a750e28e285d3304da7773" title=" " alt="" coords="796,107,877,133"/>
<area shape="poly" title=" " alt="" coords="724,154,781,135,782,140,726,159"/>
<area shape="rect" href="rgw__string_8h.html#ac3ed8aee3c065c9a8fd96a6d0c8cd751" title="return the length of a c string, string literal, or string type" alt="" coords="794,157,879,184"/>
<area shape="poly" title=" " alt="" coords="746,168,779,168,779,173,746,173"/>
<area shape="rect" href="namespacedetail.html#aa1de938e3e6a438a673fa37ceef54d42" title=" " alt="" coords="794,208,879,235"/>
<area shape="poly" title=" " alt="" coords="726,182,779,200,778,205,724,187"/>
<area shape="rect" href="structdetail_1_1string__traits.html#af2c3806c1f57c44fbe138af0cc4d78ba" title=" " alt="" coords="927,149,1055,192"/>
<area shape="poly" title=" " alt="" coords="879,168,912,168,912,173,879,173"/>
</map>
</div>
<div class="dynheader">
이 함수를 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="class_r_g_w_l_c_ae217a0af681e59a9e935bd90d9c15c14_icgraph.png" border="0" usemap="#aclass_r_g_w_l_c_ae217a0af681e59a9e935bd90d9c15c14_icgraph" alt=""/></div>
<map name="aclass_r_g_w_l_c_ae217a0af681e59a9e935bd90d9c15c14_icgraph" id="aclass_r_g_w_l_c_ae217a0af681e59a9e935bd90d9c15c14_icgraph">
<area shape="rect" title=" " alt="" coords="448,27,612,69"/>
<area shape="rect" href="class_r_g_w_delete_l_c.html#a1f7597b40b0b7cadfb2433c1cd503442" title=" " alt="" coords="240,5,400,32"/>
<area shape="poly" title=" " alt="" coords="432,37,400,32,401,27,433,32"/>
<area shape="rect" href="classrgw_1_1sal_1_1_rados_bucket.html#a85ae3c70b1a7f88541c372207647b9b8" title=" " alt="" coords="244,56,396,99"/>
<area shape="poly" title=" " alt="" coords="433,64,397,69,396,64,432,59"/>
<area shape="rect" href="classrgw_1_1sal_1_1_rados_bucket.html#a53c98d8b35949e4e46bfcdae4446927b" title=" " alt="" coords="5,56,192,99"/>
<area shape="poly" title=" " alt="" coords="228,80,192,80,192,75,228,75"/>
</map>
</div>

</div>
</div>
<a id="a431abdaeb4e6a53dfb7382cb408a0e12" name="a431abdaeb4e6a53dfb7382cb408a0e12"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a431abdaeb4e6a53dfb7382cb408a0e12">&#9670;&#160;</a></span>set_bucket_config()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int RGWLC::set_bucket_config </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classrgw_1_1sal_1_1_bucket.html">rgw::sal::Bucket</a> *&#160;</td>
          <td class="paramname"><em>bucket</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="group___r_g_w_s_a_l.html#gab1b58d5f8747844fae5ddfb48fadf7bc">rgw::sal::Attrs</a> &amp;&#160;</td>
          <td class="paramname"><em>bucket_attrs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_r_g_w_lifecycle_configuration.html">RGWLifecycleConfiguration</a> *&#160;</td>
          <td class="paramname"><em>config</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition"><a class="el" href="rgw__lc_8cc_source.html">rgw_lc.cc</a> 파일의 <a class="el" href="rgw__lc_8cc_source.html#l02383">2383</a> 번째 라인에서 정의되었습니다.</p>
<div class="fragment"><div class="line"><span class="lineno"> 2386</span>{</div>
<div class="line"><span class="lineno"> 2387</span>  <a class="code hl_typedef" href="group___r_g_w_s_a_l.html#gab1b58d5f8747844fae5ddfb48fadf7bc">rgw::sal::Attrs</a> attrs = bucket_attrs;</div>
<div class="line"><span class="lineno"> 2388</span>  bufferlist lc_bl;</div>
<div class="line"><span class="lineno"> 2389</span>  <a class="code hl_enumvalue" href="namespacergw.html#aa74ef6030865b86d25300c7309e8b191a2245023265ae4cf87d02c8b6ba991139">config</a>-&gt;encode(lc_bl);</div>
<div class="line"><span class="lineno"> 2390</span> </div>
<div class="line"><span class="lineno"> 2391</span>  attrs[<a class="code hl_define" href="rgw__common_8h.html#a7f53e4298c577378477ce3009f21c769">RGW_ATTR_LC</a>] = std::move(lc_bl);</div>
<div class="line"><span class="lineno"> 2392</span> </div>
<div class="line"><span class="lineno"> 2393</span>  <span class="keywordtype">int</span> ret =</div>
<div class="line"><span class="lineno"> 2394</span>    bucket-&gt;<a class="code hl_function" href="classrgw_1_1sal_1_1_bucket.html#ab2ac72f2614592b40035633c535b1aec">merge_and_store_attrs</a>(<span class="keyword">this</span>, attrs, null_yield);</div>
<div class="line"><span class="lineno"> 2395</span>  <span class="keywordflow">if</span> (ret &lt; 0)</div>
<div class="line"><span class="lineno"> 2396</span>    <span class="keywordflow">return</span> ret;</div>
<div class="line"><span class="lineno"> 2397</span> </div>
<div class="line"><span class="lineno"> 2398</span>  <a class="code hl_struct" href="structrgw__bucket.html">rgw_bucket</a>&amp; b = bucket-&gt;<a class="code hl_function" href="classrgw_1_1sal_1_1_bucket.html#a0fbf4f16a181a9f8d58d1d75fb8dff2d">get_key</a>();</div>
<div class="line"><span class="lineno"> 2399</span> </div>
<div class="line"><span class="lineno"> 2400</span> </div>
<div class="line"><span class="lineno"> 2401</span>  ret = <a class="code hl_function" href="rgw__lc_8cc.html#aaba390ab3da0a0b65c067b1fbe49eeb8">guard_lc_modify</a>(<span class="keyword">this</span>, <a class="code hl_variable" href="class_r_g_w_l_c.html#a6ace8b944959c1e8d882633040e03f6d">store</a>, <a class="code hl_variable" href="class_r_g_w_l_c.html#a93453fc6cc64ddcc2450b56bcaf9568a">sal_lc</a>.get(), b, <a class="code hl_variable" href="class_r_g_w_l_c.html#a7bfaa1ecf9b25497f0b5c2a1d4ce7b8b">cookie</a>,</div>
<div class="line"><span class="lineno"> 2402</span>            [&amp;](<a class="code hl_class" href="classrgw_1_1sal_1_1_lifecycle.html">rgw::sal::Lifecycle</a>* <a class="code hl_variable" href="class_r_g_w_l_c.html#a93453fc6cc64ddcc2450b56bcaf9568a">sal_lc</a>, <span class="keyword">const</span> <span class="keywordtype">string</span>&amp; oid,</div>
<div class="line"><span class="lineno"> 2403</span>                <span class="keyword">const</span> <a class="code hl_struct" href="structrgw_1_1sal_1_1_lifecycle_1_1_l_c_entry.html">rgw::sal::Lifecycle::LCEntry</a>&amp; entry) {</div>
<div class="line"><span class="lineno"> 2404</span>    return sal_lc-&gt;set_entry(oid, entry);</div>
<div class="line"><span class="lineno"> 2405</span>  });</div>
<div class="line"><span class="lineno"> 2406</span> </div>
<div class="line"><span class="lineno"> 2407</span>  <span class="keywordflow">return</span> ret;</div>
<div class="line"><span class="lineno"> 2408</span>}</div>
</div><!-- fragment --><div class="dynheader">
이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="class_r_g_w_l_c_a431abdaeb4e6a53dfb7382cb408a0e12_cgraph.png" border="0" usemap="#aclass_r_g_w_l_c_a431abdaeb4e6a53dfb7382cb408a0e12_cgraph" alt=""/></div>
<map name="aclass_r_g_w_l_c_a431abdaeb4e6a53dfb7382cb408a0e12_cgraph" id="aclass_r_g_w_l_c_a431abdaeb4e6a53dfb7382cb408a0e12_cgraph">
<area shape="rect" title=" " alt="" coords="5,132,188,159"/>
<area shape="rect" href="classrgw_1_1sal_1_1_bucket.html#a0fbf4f16a181a9f8d58d1d75fb8dff2d" title=" " alt="" coords="236,81,405,108"/>
<area shape="poly" title=" " alt="" coords="158,129,243,109,244,115,159,134"/>
<area shape="rect" href="rgw__lc_8cc.html#aaba390ab3da0a0b65c067b1fbe49eeb8" title=" " alt="" coords="263,132,378,159"/>
<area shape="poly" title=" " alt="" coords="188,143,247,143,247,148,188,148"/>
<area shape="rect" href="classrgw_1_1sal_1_1_bucket.html#ab2ac72f2614592b40035633c535b1aec" title=" " alt="" coords="241,183,400,225"/>
<area shape="poly" title=" " alt="" coords="151,157,226,177,225,182,150,162"/>
<area shape="rect" href="classrgw_1_1sal_1_1_store.html#aca84a6ff80011b26fcd2fa8526c1152e" title=" " alt="" coords="455,5,586,32"/>
<area shape="poly" title=" " alt="" coords="377,132,403,118,419,100,427,81,435,62,451,42,457,38,460,42,455,46,439,65,432,83,424,103,407,122,380,136"/>
<area shape="rect" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5" title=" " alt="" coords="499,56,541,83"/>
<area shape="poly" title=" " alt="" coords="372,129,404,118,452,92,483,79,485,84,454,97,406,122,374,134"/>
<area shape="rect" href="rgw__lc_8cc.html#a74f6c4556bb7365860108bf03604c443" title=" " alt="" coords="480,107,560,133"/>
<area shape="poly" title=" " alt="" coords="378,135,464,124,465,130,379,141"/>
<area shape="rect" href="rgw__lc_8cc.html#adba4d022c4f550e5d9621530600217df" title=" " alt="" coords="453,157,587,184"/>
<area shape="poly" title=" " alt="" coords="379,150,438,158,437,163,378,155"/>
<area shape="rect" href="structrgw_1_1sal_1_1_serializer.html#a103f4686a14753071aaa6f8d877000a2" title=" " alt="" coords="456,208,584,251"/>
<area shape="poly" title=" " alt="" coords="374,157,406,168,454,194,463,198,460,203,452,198,404,173,372,162"/>
<area shape="rect" href="structrgw_1_1sal_1_1_serializer.html#a5f4201883413ae26f82f4f049d94a952" title=" " alt="" coords="456,275,584,317"/>
<area shape="poly" title=" " alt="" coords="380,154,407,169,425,192,433,215,439,238,455,261,457,263,454,267,451,264,434,240,427,216,421,194,403,173,377,158"/>
<area shape="rect" href="rgw__lc_8cc.html#af725effd98eed069046da1355c426e40" title=" " alt="" coords="652,107,747,133"/>
<area shape="poly" title=" " alt="" coords="561,117,637,117,637,123,561,123"/>
<area shape="rect" href="rgw__string_8h.html#ad82666b951338913fe512e2010580538" title=" " alt="" coords="635,157,764,184"/>
<area shape="poly" title=" " alt="" coords="588,168,620,168,620,173,588,173"/>
<area shape="rect" href="namespacedetail.html#aa7a0782c37a750e28e285d3304da7773" title=" " alt="" coords="814,107,895,133"/>
<area shape="poly" title=" " alt="" coords="742,154,799,135,800,140,744,159"/>
<area shape="rect" href="rgw__string_8h.html#ac3ed8aee3c065c9a8fd96a6d0c8cd751" title="return the length of a c string, string literal, or string type" alt="" coords="812,157,897,184"/>
<area shape="poly" title=" " alt="" coords="764,168,797,168,797,173,764,173"/>
<area shape="rect" href="namespacedetail.html#aa1de938e3e6a438a673fa37ceef54d42" title=" " alt="" coords="812,208,897,235"/>
<area shape="poly" title=" " alt="" coords="744,182,797,200,796,205,742,187"/>
<area shape="rect" href="structdetail_1_1string__traits.html#af2c3806c1f57c44fbe138af0cc4d78ba" title=" " alt="" coords="945,149,1073,192"/>
<area shape="poly" title=" " alt="" coords="897,168,930,168,930,173,897,173"/>
</map>
</div>
<div class="dynheader">
이 함수를 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="class_r_g_w_l_c_a431abdaeb4e6a53dfb7382cb408a0e12_icgraph.png" border="0" usemap="#aclass_r_g_w_l_c_a431abdaeb4e6a53dfb7382cb408a0e12_icgraph" alt=""/></div>
<map name="aclass_r_g_w_l_c_a431abdaeb4e6a53dfb7382cb408a0e12_icgraph" id="aclass_r_g_w_l_c_a431abdaeb4e6a53dfb7382cb408a0e12_icgraph">
<area shape="rect" title=" " alt="" coords="197,5,379,32"/>
<area shape="rect" href="class_r_g_w_put_l_c.html#af20ceeb88f104be901db8d092990380f" title=" " alt="" coords="5,5,149,32"/>
<area shape="poly" title=" " alt="" coords="181,21,149,21,149,16,181,16"/>
</map>
</div>

</div>
</div>
<a id="aaed412a23853ca2755b87b2216c8c0fd" name="aaed412a23853ca2755b87b2216c8c0fd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaed412a23853ca2755b87b2216c8c0fd">&#9670;&#160;</a></span>start_processor()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void RGWLC::start_processor </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition"><a class="el" href="rgw__lc_8cc_source.html">rgw_lc.cc</a> 파일의 <a class="el" href="rgw__lc_8cc_source.html#l02222">2222</a> 번째 라인에서 정의되었습니다.</p>
<div class="fragment"><div class="line"><span class="lineno"> 2223</span>{</div>
<div class="line"><span class="lineno"> 2224</span>  <span class="keyword">auto</span> maxw = <a class="code hl_variable" href="class_r_g_w_l_c.html#ad0e784045ead1333cb606d3e3adaa4f2">cct</a>-&gt;_conf-&gt;rgw_lc_max_worker;</div>
<div class="line"><span class="lineno"> 2225</span>  <a class="code hl_variable" href="class_r_g_w_l_c.html#a4b582e14cb5d026e9d8c2ee549dfc063">workers</a>.reserve(maxw);</div>
<div class="line"><span class="lineno"> 2226</span>  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> ix = 0; ix &lt; maxw; ++ix) {</div>
<div class="line"><span class="lineno"> 2227</span>    <span class="keyword">auto</span> worker  =</div>
<div class="line"><span class="lineno"> 2228</span>      std::make_unique&lt;RGWLC::LCWorker&gt;(<span class="keyword">this</span> <span class="comment">/* dpp */</span>, <a class="code hl_variable" href="class_r_g_w_l_c.html#ad0e784045ead1333cb606d3e3adaa4f2">cct</a>, <span class="keyword">this</span>, ix);</div>
<div class="line"><span class="lineno"> 2229</span>    worker-&gt;create((<span class="keywordtype">string</span>{<span class="stringliteral">&quot;lifecycle_thr_&quot;</span>} + <a class="code hl_function" href="rgw__keystone_8cc.html#a97140a592af15535629f284708b8f5b4">to_string</a>(ix)).c_str());</div>
<div class="line"><span class="lineno"> 2230</span>    <a class="code hl_variable" href="class_r_g_w_l_c.html#a4b582e14cb5d026e9d8c2ee549dfc063">workers</a>.emplace_back(std::move(worker));</div>
<div class="line"><span class="lineno"> 2231</span>  }</div>
<div class="line"><span class="lineno"> 2232</span>}</div>
<div class="ttc" id="aclass_r_g_w_l_c_html_a4b582e14cb5d026e9d8c2ee549dfc063"><div class="ttname"><a href="class_r_g_w_l_c.html#a4b582e14cb5d026e9d8c2ee549dfc063">RGWLC::workers</a></div><div class="ttdeci">std::vector&lt; std::unique_ptr&lt; RGWLC::LCWorker &gt; &gt; workers</div><div class="ttdef"><b>Definition</b> <a href="rgw__lc_8h_source.html#l00510">rgw_lc.h:510</a></div></div>
<div class="ttc" id="argw__keystone_8cc_html_a97140a592af15535629f284708b8f5b4"><div class="ttname"><a href="rgw__keystone_8cc.html#a97140a592af15535629f284708b8f5b4">to_string</a></div><div class="ttdeci">static std::string to_string(const std::string_view &amp;s)</div><div class="ttdef"><b>Definition</b> <a href="rgw__keystone_8cc_source.html#l00571">rgw_keystone.cc:571</a></div></div>
</div><!-- fragment --><div class="dynheader">
이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="class_r_g_w_l_c_aaed412a23853ca2755b87b2216c8c0fd_cgraph.png" border="0" usemap="#aclass_r_g_w_l_c_aaed412a23853ca2755b87b2216c8c0fd_cgraph" alt=""/></div>
<map name="aclass_r_g_w_l_c_aaed412a23853ca2755b87b2216c8c0fd_cgraph" id="aclass_r_g_w_l_c_aaed412a23853ca2755b87b2216c8c0fd_cgraph">
<area shape="rect" title=" " alt="" coords="5,5,173,32"/>
<area shape="rect" href="rgw__keystone_8cc.html#a97140a592af15535629f284708b8f5b4" title=" " alt="" coords="221,5,292,32"/>
<area shape="poly" title=" " alt="" coords="173,16,205,16,205,21,173,21"/>
</map>
</div>
<div class="dynheader">
이 함수를 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="class_r_g_w_l_c_aaed412a23853ca2755b87b2216c8c0fd_icgraph.png" border="0" usemap="#aclass_r_g_w_l_c_aaed412a23853ca2755b87b2216c8c0fd_icgraph" alt=""/></div>
<map name="aclass_r_g_w_l_c_aaed412a23853ca2755b87b2216c8c0fd_icgraph" id="aclass_r_g_w_l_c_aaed412a23853ca2755b87b2216c8c0fd_icgraph">
<area shape="rect" title=" " alt="" coords="185,13,352,40"/>
<area shape="rect" href="classrgw_1_1sal_1_1_d_b_store.html#af32515b435c83fedc5d0d8603df06c2b" title=" " alt="" coords="5,5,137,48"/>
<area shape="poly" title=" " alt="" coords="169,29,137,29,137,24,169,24"/>
</map>
</div>

</div>
</div>
<a id="a99e20a09150c9e107ac11e2de4d7fe05" name="a99e20a09150c9e107ac11e2de4d7fe05"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a99e20a09150c9e107ac11e2de4d7fe05">&#9670;&#160;</a></span>stop_processor()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void RGWLC::stop_processor </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition"><a class="el" href="rgw__lc_8cc_source.html">rgw_lc.cc</a> 파일의 <a class="el" href="rgw__lc_8cc_source.html#l02234">2234</a> 번째 라인에서 정의되었습니다.</p>
<div class="fragment"><div class="line"><span class="lineno"> 2235</span>{</div>
<div class="line"><span class="lineno"> 2236</span>  <a class="code hl_variable" href="class_r_g_w_l_c.html#a72ea5ba4a704217ae6931acdea4f477a">down_flag</a> = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 2237</span>  <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp; worker : <a class="code hl_variable" href="class_r_g_w_l_c.html#a4b582e14cb5d026e9d8c2ee549dfc063">workers</a>) {</div>
<div class="line"><span class="lineno"> 2238</span>    worker-&gt;stop();</div>
<div class="line"><span class="lineno"> 2239</span>    worker-&gt;join();</div>
<div class="line"><span class="lineno"> 2240</span>  }</div>
<div class="line"><span class="lineno"> 2241</span>  <a class="code hl_variable" href="class_r_g_w_l_c.html#a4b582e14cb5d026e9d8c2ee549dfc063">workers</a>.clear();</div>
<div class="line"><span class="lineno"> 2242</span>}</div>
</div><!-- fragment --><div class="dynheader">
이 함수를 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="class_r_g_w_l_c_a99e20a09150c9e107ac11e2de4d7fe05_icgraph.png" border="0" usemap="#aclass_r_g_w_l_c_a99e20a09150c9e107ac11e2de4d7fe05_icgraph" alt=""/></div>
<map name="aclass_r_g_w_l_c_a99e20a09150c9e107ac11e2de4d7fe05_icgraph" id="aclass_r_g_w_l_c_a99e20a09150c9e107ac11e2de4d7fe05_icgraph">
<area shape="rect" title=" " alt="" coords="215,31,381,57"/>
<area shape="rect" href="class_r_g_w_rados.html#a915344e336dcc165c525c0c688536845" title=" " alt="" coords="5,5,167,32"/>
<area shape="poly" title=" " alt="" coords="199,35,167,31,167,26,200,30"/>
<area shape="rect" href="class_r_g_w_l_c.html#a92ff5273be7fddcd7460311540bc06e0" title=" " alt="" coords="19,56,153,83"/>
<area shape="poly" title=" " alt="" coords="200,58,153,64,153,59,199,53"/>
</map>
</div>

</div>
</div>
<a id="a6a4ba660b6ce88ac0e3aabeabfc97724" name="a6a4ba660b6ce88ac0e3aabeabfc97724"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6a4ba660b6ce88ac0e3aabeabfc97724">&#9670;&#160;</a></span>thread_stop_at()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">time_t RGWLC::thread_stop_at </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition"><a class="el" href="rgw__lc_8cc_source.html">rgw_lc.cc</a> 파일의 <a class="el" href="rgw__lc_8cc_source.html#l02014">2014</a> 번째 라인에서 정의되었습니다.</p>
<div class="fragment"><div class="line"><span class="lineno"> 2015</span>{</div>
<div class="line"><span class="lineno"> 2016</span>  uint64_t interval = (<a class="code hl_variable" href="class_r_g_w_l_c.html#ad0e784045ead1333cb606d3e3adaa4f2">cct</a>-&gt;_conf-&gt;rgw_lc_debug_interval &gt; 0)</div>
<div class="line"><span class="lineno"> 2017</span>    ? <a class="code hl_variable" href="class_r_g_w_l_c.html#ad0e784045ead1333cb606d3e3adaa4f2">cct</a>-&gt;_conf-&gt;rgw_lc_debug_interval</div>
<div class="line"><span class="lineno"> 2018</span>    : 24*60*60;</div>
<div class="line"><span class="lineno"> 2019</span> </div>
<div class="line"><span class="lineno"> 2020</span>  <span class="keywordflow">return</span> time(<span class="keyword">nullptr</span>) + interval;</div>
<div class="line"><span class="lineno"> 2021</span>}</div>
</div><!-- fragment --><div class="dynheader">
이 함수를 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="class_r_g_w_l_c_a6a4ba660b6ce88ac0e3aabeabfc97724_icgraph.png" border="0" usemap="#aclass_r_g_w_l_c_a6a4ba660b6ce88ac0e3aabeabfc97724_icgraph" alt=""/></div>
<map name="aclass_r_g_w_l_c_a6a4ba660b6ce88ac0e3aabeabfc97724_icgraph" id="aclass_r_g_w_l_c_a6a4ba660b6ce88ac0e3aabeabfc97724_icgraph">
<area shape="rect" title=" " alt="" coords="614,31,778,57"/>
<area shape="rect" href="class_r_g_w_l_c.html#abf0323a15e56c0155ce3d73cb3ec42a9" title=" " alt="" coords="420,5,543,32"/>
<area shape="poly" title=" " alt="" coords="599,35,543,29,544,23,599,30"/>
<area shape="rect" href="class_r_g_w_l_c.html#aac8510c6f2221507b728cd6dd12efda1" title=" " alt="" coords="397,56,566,83"/>
<area shape="poly" title=" " alt="" coords="599,58,567,62,567,57,599,53"/>
<area shape="rect" href="class_r_g_w_l_c.html#acc373fbfbc796d885451e99ac82e2fdb" title=" " alt="" coords="226,56,349,83"/>
<area shape="poly" title=" " alt="" coords="382,72,349,72,349,67,382,67"/>
<area shape="poly" title=" " alt="" coords="320,43,309,37,287,35,267,37,256,41,254,47,259,54,254,57,248,47,252,38,266,31,287,29,311,32,323,38"/>
<area shape="rect" href="class_r_g_w_l_c_1_1_l_c_worker.html#a9d6b503ea0fb811d8539195c95d0f3fe" title=" " alt="" coords="5,31,178,57"/>
<area shape="poly" title=" " alt="" coords="210,62,178,58,179,53,211,57"/>
<area shape="rect" href="class_r_g_w_rados.html#a915344e336dcc165c525c0c688536845" title=" " alt="" coords="11,81,172,108"/>
<area shape="poly" title=" " alt="" coords="211,82,173,87,172,82,210,77"/>
</map>
</div>

</div>
</div>
<h2 class="groupheader">Friend, 그리고 관련된 함수 문서화</h2>
<a id="a62b1a1f0e64b72cddd8f68ef2a4cdb50" name="a62b1a1f0e64b72cddd8f68ef2a4cdb50"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a62b1a1f0e64b72cddd8f68ef2a4cdb50">&#9670;&#160;</a></span>RGWRados</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">friend class <a class="el" href="class_r_g_w_rados.html">RGWRados</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">friend</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition"><a class="el" href="rgw__lc_8h_source.html">rgw_lc.h</a> 파일의 <a class="el" href="rgw__lc_8h_source.html#l00508">508</a> 번째 라인에서 정의되었습니다.</p>

</div>
</div>
<h2 class="groupheader">멤버 데이터 문서화</h2>
<a id="ad0e784045ead1333cb606d3e3adaa4f2" name="ad0e784045ead1333cb606d3e3adaa4f2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad0e784045ead1333cb606d3e3adaa4f2">&#9670;&#160;</a></span>cct</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">CephContext* RGWLC::cct</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition"><a class="el" href="rgw__lc_8h_source.html">rgw_lc.h</a> 파일의 <a class="el" href="rgw__lc_8h_source.html#l00462">462</a> 번째 라인에서 정의되었습니다.</p>

</div>
</div>
<a id="a7bfaa1ecf9b25497f0b5c2a1d4ce7b8b" name="a7bfaa1ecf9b25497f0b5c2a1d4ce7b8b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7bfaa1ecf9b25497f0b5c2a1d4ce7b8b">&#9670;&#160;</a></span>cookie</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::string RGWLC::cookie</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition"><a class="el" href="rgw__lc_8h_source.html">rgw_lc.h</a> 파일의 <a class="el" href="rgw__lc_8h_source.html#l00468">468</a> 번째 라인에서 정의되었습니다.</p>

</div>
</div>
<a id="a72ea5ba4a704217ae6931acdea4f477a" name="a72ea5ba4a704217ae6931acdea4f477a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a72ea5ba4a704217ae6931acdea4f477a">&#9670;&#160;</a></span>down_flag</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::atomic&lt;bool&gt; RGWLC::down_flag = { false }</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition"><a class="el" href="rgw__lc_8h_source.html">rgw_lc.h</a> 파일의 <a class="el" href="rgw__lc_8h_source.html#l00467">467</a> 번째 라인에서 정의되었습니다.</p>
<div class="fragment"><div class="line"><span class="lineno">  467</span>{ <span class="keyword">false</span> };</div>
</div><!-- fragment -->
</div>
</div>
<a id="a6d6111ee8844a3f98755e04cdda65126" name="a6d6111ee8844a3f98755e04cdda65126"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6d6111ee8844a3f98755e04cdda65126">&#9670;&#160;</a></span>max_objs</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int RGWLC::max_objs {0}</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition"><a class="el" href="rgw__lc_8h_source.html">rgw_lc.h</a> 파일의 <a class="el" href="rgw__lc_8h_source.html#l00465">465</a> 번째 라인에서 정의되었습니다.</p>
<div class="fragment"><div class="line"><span class="lineno">  465</span>{0};</div>
</div><!-- fragment -->
</div>
</div>
<a id="a7954d0b97a1f5b8fa55a083f0607e4fa" name="a7954d0b97a1f5b8fa55a083f0607e4fa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7954d0b97a1f5b8fa55a083f0607e4fa">&#9670;&#160;</a></span>obj_names</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::string* RGWLC::obj_names {nullptr}</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition"><a class="el" href="rgw__lc_8h_source.html">rgw_lc.h</a> 파일의 <a class="el" href="rgw__lc_8h_source.html#l00466">466</a> 번째 라인에서 정의되었습니다.</p>
<div class="fragment"><div class="line"><span class="lineno">  466</span>{<span class="keyword">nullptr</span>};</div>
</div><!-- fragment -->
</div>
</div>
<a id="a93453fc6cc64ddcc2450b56bcaf9568a" name="a93453fc6cc64ddcc2450b56bcaf9568a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a93453fc6cc64ddcc2450b56bcaf9568a">&#9670;&#160;</a></span>sal_lc</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::unique_ptr&lt;<a class="el" href="classrgw_1_1sal_1_1_lifecycle.html">rgw::sal::Lifecycle</a>&gt; RGWLC::sal_lc</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition"><a class="el" href="rgw__lc_8h_source.html">rgw_lc.h</a> 파일의 <a class="el" href="rgw__lc_8h_source.html#l00464">464</a> 번째 라인에서 정의되었습니다.</p>

</div>
</div>
<a id="a6ace8b944959c1e8d882633040e03f6d" name="a6ace8b944959c1e8d882633040e03f6d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6ace8b944959c1e8d882633040e03f6d">&#9670;&#160;</a></span>store</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classrgw_1_1sal_1_1_store.html">rgw::sal::Store</a>* RGWLC::store</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition"><a class="el" href="rgw__lc_8h_source.html">rgw_lc.h</a> 파일의 <a class="el" href="rgw__lc_8h_source.html#l00463">463</a> 번째 라인에서 정의되었습니다.</p>

</div>
</div>
<a id="a4b582e14cb5d026e9d8c2ee549dfc063" name="a4b582e14cb5d026e9d8c2ee549dfc063"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4b582e14cb5d026e9d8c2ee549dfc063">&#9670;&#160;</a></span>workers</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;std::unique_ptr&lt;<a class="el" href="class_r_g_w_l_c_1_1_l_c_worker.html">RGWLC::LCWorker</a>&gt; &gt; RGWLC::workers</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition"><a class="el" href="rgw__lc_8h_source.html">rgw_lc.h</a> 파일의 <a class="el" href="rgw__lc_8h_source.html#l00510">510</a> 번째 라인에서 정의되었습니다.</p>

</div>
</div>
<hr/>이 클래스에 대한 문서화 페이지는 다음의 파일들로부터 생성되었습니다.:<ul>
<li>D:/git/ceph/src/rgw/<a class="el" href="rgw__lc_8h_source.html">rgw_lc.h</a></li>
<li>D:/git/ceph/src/rgw/<a class="el" href="rgw__lc_8cc_source.html">rgw_lc.cc</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="class_r_g_w_l_c.html">RGWLC</a></li>
    <li class="footer">다음에 의해 생성됨 :  <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8 </li>
  </ul>
</div>
</body>
</html>
