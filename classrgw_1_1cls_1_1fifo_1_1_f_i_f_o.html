<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="ko">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>My Project: rgw::cls::fifo::FIFO 클래스 참조</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">My Project
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- 다음에 의해 생성됨 :  Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','검색');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">로딩중...</div>
<div class="SRStatus" id="Searching">검색중...</div>
<div class="SRStatus" id="NoMatches">일치하는것 없음</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public 멤버 함수</a> &#124;
<a href="#pub-static-methods">정적 Public 멤버 함수</a> &#124;
<a href="#pri-methods">Private 멤버 함수</a> &#124;
<a href="#pri-attribs">Private 속성</a> &#124;
<a href="#friends">Friends</a> &#124;
<a href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o-members.html">모든 멤버 목록</a>  </div>
  <div class="headertitle"><div class="title">rgw::cls::fifo::FIFO 클래스 참조</div></div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="cls__fifo__legacy_8h_source.html">cls_fifo_legacy.h</a>&gt;</code></p>
<div class="dynheader">
rgw::cls::fifo::FIFO에 대한 협력 다이어그램:</div>
<div class="dyncontent">
<div class="center"><img src="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o__coll__graph.png" border="0" usemap="#argw_1_1cls_1_1fifo_1_1_f_i_f_o_coll__map" alt="Collaboration graph"/></div>
<map name="argw_1_1cls_1_1fifo_1_1_f_i_f_o_coll__map" id="argw_1_1cls_1_1fifo_1_1_f_i_f_o_coll__map">
<area shape="rect" title=" " alt="" coords="5,139,161,827"/>
<area shape="rect" title=" " alt="" coords="54,5,113,75"/>
<area shape="poly" title=" " alt="" coords="86,74,86,122,81,122,81,74"/>
</map>
</div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public 멤버 함수</h2></td></tr>
<tr class="memitem:acf0e846601d9b2d777e4830fe7855a88" id="r_acf0e846601d9b2d777e4830fe7855a88"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html#acf0e846601d9b2d777e4830fe7855a88">FIFO</a> (const <a class="el" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html">FIFO</a> &amp;)=delete</td></tr>
<tr class="separator:acf0e846601d9b2d777e4830fe7855a88"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ade9633fbe45e52b567b52f60c6a2126b" id="r_ade9633fbe45e52b567b52f60c6a2126b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html">FIFO</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html#ade9633fbe45e52b567b52f60c6a2126b">operator=</a> (const <a class="el" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html">FIFO</a> &amp;)=delete</td></tr>
<tr class="separator:ade9633fbe45e52b567b52f60c6a2126b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac9f388d453552a8bb701622933c1d0c8" id="r_ac9f388d453552a8bb701622933c1d0c8"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html#ac9f388d453552a8bb701622933c1d0c8">FIFO</a> (<a class="el" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html">FIFO</a> &amp;&amp;)=delete</td></tr>
<tr class="separator:ac9f388d453552a8bb701622933c1d0c8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8260329b4fe712cba7faaa75e74f5fdf" id="r_a8260329b4fe712cba7faaa75e74f5fdf"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html">FIFO</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html#a8260329b4fe712cba7faaa75e74f5fdf">operator=</a> (<a class="el" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html">FIFO</a> &amp;&amp;)=delete</td></tr>
<tr class="separator:a8260329b4fe712cba7faaa75e74f5fdf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2ff72550aa5ad4ba33ae8f6af1b16ed5" id="r_a2ff72550aa5ad4ba33ae8f6af1b16ed5"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html#a2ff72550aa5ad4ba33ae8f6af1b16ed5">read_meta</a> (const DoutPrefixProvider *<a class="el" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>, optional_yield y)</td></tr>
<tr class="memdesc:a2ff72550aa5ad4ba33ae8f6af1b16ed5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Force refresh of metadata, yielding/blocking style  <br /></td></tr>
<tr class="separator:a2ff72550aa5ad4ba33ae8f6af1b16ed5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3192cf05cf42c9a586044e5a4ee50357" id="r_a3192cf05cf42c9a586044e5a4ee50357"><td class="memItemLeft" align="right" valign="top">const fifo::info &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html#a3192cf05cf42c9a586044e5a4ee50357">meta</a> () const</td></tr>
<tr class="memdesc:a3192cf05cf42c9a586044e5a4ee50357"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get currently known metadata  <br /></td></tr>
<tr class="separator:a3192cf05cf42c9a586044e5a4ee50357"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a720846157aa7edd5a9103bf671e05b12" id="r_a720846157aa7edd5a9103bf671e05b12"><td class="memItemLeft" align="right" valign="top">std::pair&lt; std::uint32_t, std::uint32_t &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html#a720846157aa7edd5a9103bf671e05b12">get_part_layout_info</a> () const</td></tr>
<tr class="memdesc:a720846157aa7edd5a9103bf671e05b12"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get partition header and entry overhead size  <br /></td></tr>
<tr class="separator:a720846157aa7edd5a9103bf671e05b12"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5aed78aa9795506d79259df5cf86cd1d" id="r_a5aed78aa9795506d79259df5cf86cd1d"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html#a5aed78aa9795506d79259df5cf86cd1d">push</a> (const DoutPrefixProvider *<a class="el" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>, const cb::list &amp;bl, optional_yield y)</td></tr>
<tr class="memdesc:a5aed78aa9795506d79259df5cf86cd1d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Push an entry to the <a class="el" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html">FIFO</a>  <br /></td></tr>
<tr class="separator:a5aed78aa9795506d79259df5cf86cd1d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a87811ba72ab52ab4f93100e289e227ce" id="r_a87811ba72ab52ab4f93100e289e227ce"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html#a87811ba72ab52ab4f93100e289e227ce">push</a> (const DoutPrefixProvider *<a class="el" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>, const cb::list &amp;bl, lr::AioCompletion *<a class="el" href="rgw__aio_8cc.html#af3997c9b015c5696191674621076ae50">c</a>)</td></tr>
<tr class="memdesc:a87811ba72ab52ab4f93100e289e227ce"><td class="mdescLeft">&#160;</td><td class="mdescRight">Push an entry to the <a class="el" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html">FIFO</a>  <br /></td></tr>
<tr class="separator:a87811ba72ab52ab4f93100e289e227ce"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6789013559e6332545632da406591905" id="r_a6789013559e6332545632da406591905"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html#a6789013559e6332545632da406591905">push</a> (const DoutPrefixProvider *<a class="el" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>, const std::vector&lt; cb::list &gt; &amp;data_bufs, optional_yield y)</td></tr>
<tr class="memdesc:a6789013559e6332545632da406591905"><td class="mdescLeft">&#160;</td><td class="mdescRight">Push entries to the <a class="el" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html">FIFO</a>  <br /></td></tr>
<tr class="separator:a6789013559e6332545632da406591905"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3bad9d6c3325c76c9a168905d83d75b5" id="r_a3bad9d6c3325c76c9a168905d83d75b5"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html#a3bad9d6c3325c76c9a168905d83d75b5">push</a> (const DoutPrefixProvider *<a class="el" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>, const std::vector&lt; cb::list &gt; &amp;data_bufs, lr::AioCompletion *<a class="el" href="rgw__aio_8cc.html#af3997c9b015c5696191674621076ae50">c</a>)</td></tr>
<tr class="memdesc:a3bad9d6c3325c76c9a168905d83d75b5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Push entries to the <a class="el" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html">FIFO</a>  <br /></td></tr>
<tr class="separator:a3bad9d6c3325c76c9a168905d83d75b5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae8ae12a1e0c8a4b30d6f0d7152b42839" id="r_ae8ae12a1e0c8a4b30d6f0d7152b42839"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html#ae8ae12a1e0c8a4b30d6f0d7152b42839">list</a> (const DoutPrefixProvider *<a class="el" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>, int max_entries, std::optional&lt; std::string_view &gt; markstr, std::vector&lt; <a class="el" href="structrgw_1_1cls_1_1fifo_1_1list__entry.html">list_entry</a> &gt; *out, bool *<a class="el" href="cls__fifo__legacy_8cc.html#a9be039e59c8900399b85638616af1095">more</a>, optional_yield y)</td></tr>
<tr class="memdesc:ae8ae12a1e0c8a4b30d6f0d7152b42839"><td class="mdescLeft">&#160;</td><td class="mdescRight">List entries  <br /></td></tr>
<tr class="separator:ae8ae12a1e0c8a4b30d6f0d7152b42839"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a70f3f7d9fd217a54a176d29c0d01113b" id="r_a70f3f7d9fd217a54a176d29c0d01113b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html#a70f3f7d9fd217a54a176d29c0d01113b">list</a> (const DoutPrefixProvider *<a class="el" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>, int max_entries, std::optional&lt; std::string_view &gt; markstr, std::vector&lt; <a class="el" href="structrgw_1_1cls_1_1fifo_1_1list__entry.html">list_entry</a> &gt; *out, bool *<a class="el" href="cls__fifo__legacy_8cc.html#a9be039e59c8900399b85638616af1095">more</a>, lr::AioCompletion *<a class="el" href="rgw__aio_8cc.html#af3997c9b015c5696191674621076ae50">c</a>)</td></tr>
<tr class="separator:a70f3f7d9fd217a54a176d29c0d01113b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abbe22f2a9fda63a7f370fc302177eb2a" id="r_abbe22f2a9fda63a7f370fc302177eb2a"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html#abbe22f2a9fda63a7f370fc302177eb2a">trim</a> (const DoutPrefixProvider *<a class="el" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>, std::string_view markstr, bool exclusive, optional_yield y)</td></tr>
<tr class="memdesc:abbe22f2a9fda63a7f370fc302177eb2a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Trim entries, coroutine/block style  <br /></td></tr>
<tr class="separator:abbe22f2a9fda63a7f370fc302177eb2a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac9872716c2601d007934cd541627e6f6" id="r_ac9872716c2601d007934cd541627e6f6"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html#ac9872716c2601d007934cd541627e6f6">trim</a> (const DoutPrefixProvider *<a class="el" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>, std::string_view markstr, bool exclusive, lr::AioCompletion *<a class="el" href="rgw__aio_8cc.html#af3997c9b015c5696191674621076ae50">c</a>)</td></tr>
<tr class="memdesc:ac9872716c2601d007934cd541627e6f6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Trim entries, librados AioCompletion style  <br /></td></tr>
<tr class="separator:ac9872716c2601d007934cd541627e6f6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a405a9789cead19aa2ce3bb5f7ec084f5" id="r_a405a9789cead19aa2ce3bb5f7ec084f5"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html#a405a9789cead19aa2ce3bb5f7ec084f5">get_part_info</a> (const DoutPrefixProvider *<a class="el" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>, int64_t part_num, fifo::part_header *header, optional_yield y)</td></tr>
<tr class="memdesc:a405a9789cead19aa2ce3bb5f7ec084f5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get part info  <br /></td></tr>
<tr class="separator:a405a9789cead19aa2ce3bb5f7ec084f5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a994a5e2c2d654542cffaaea69e7f227c" id="r_a994a5e2c2d654542cffaaea69e7f227c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html#a994a5e2c2d654542cffaaea69e7f227c">get_part_info</a> (int64_t part_num, fifo::part_header *header, lr::AioCompletion *<a class="el" href="rgw__aio_8cc.html#af3997c9b015c5696191674621076ae50">c</a>)</td></tr>
<tr class="memdesc:a994a5e2c2d654542cffaaea69e7f227c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get part info  <br /></td></tr>
<tr class="separator:a994a5e2c2d654542cffaaea69e7f227c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a922adbe15322a0f2a199afa190fd6560" id="r_a922adbe15322a0f2a199afa190fd6560"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html#a922adbe15322a0f2a199afa190fd6560">get_head_info</a> (const DoutPrefixProvider *<a class="el" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>, fu2::unique_function&lt; void(int <a class="el" href="rgw__aio_8cc.html#ae38055824c6eac64615832ad9d888539">r</a>, fifo::part_header &amp;&amp;)&gt;, lr::AioCompletion *<a class="el" href="rgw__aio_8cc.html#af3997c9b015c5696191674621076ae50">c</a>)</td></tr>
<tr class="separator:a922adbe15322a0f2a199afa190fd6560"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-static-methods" name="pub-static-methods"></a>
정적 Public 멤버 함수</h2></td></tr>
<tr class="memitem:a3a4a22943997d3dcb8ced6a8db6ba9f5" id="r_a3a4a22943997d3dcb8ced6a8db6ba9f5"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html#a3a4a22943997d3dcb8ced6a8db6ba9f5">open</a> (const DoutPrefixProvider *<a class="el" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>, lr::IoCtx <a class="el" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html#af2b49f78650a528ef6b4abb16205b71f">ioctx</a>, std::string <a class="el" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html#a3e0ced0e9aa607afbde4462e07416be3">oid</a>, std::unique_ptr&lt; <a class="el" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html">FIFO</a> &gt; *fifo, optional_yield y, std::optional&lt; fifo::objv &gt; objv=std::nullopt, bool probe=false)</td></tr>
<tr class="memdesc:a3a4a22943997d3dcb8ced6a8db6ba9f5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Open an existing <a class="el" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html">FIFO</a>.  <br /></td></tr>
<tr class="separator:a3a4a22943997d3dcb8ced6a8db6ba9f5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac4b92be06298b9e40d12bc9832643083" id="r_ac4b92be06298b9e40d12bc9832643083"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html#ac4b92be06298b9e40d12bc9832643083">create</a> (const DoutPrefixProvider *<a class="el" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>, lr::IoCtx <a class="el" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html#af2b49f78650a528ef6b4abb16205b71f">ioctx</a>, std::string <a class="el" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html#a3e0ced0e9aa607afbde4462e07416be3">oid</a>, std::unique_ptr&lt; <a class="el" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html">FIFO</a> &gt; *fifo, optional_yield y, std::optional&lt; fifo::objv &gt; objv=std::nullopt, std::optional&lt; std::string_view &gt; oid_prefix=std::nullopt, bool exclusive=false, std::uint64_t max_part_size=<a class="el" href="namespacergw_1_1cls_1_1fifo.html#a65dc7b90c1a825fd6b0eb0a4504aefb5">default_max_part_size</a>, std::uint64_t max_entry_size=<a class="el" href="namespacergw_1_1cls_1_1fifo.html#ab78c79bad0a2f6ae2221cb6a23606fbd">default_max_entry_size</a>)</td></tr>
<tr class="memdesc:ac4b92be06298b9e40d12bc9832643083"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create a new or open an existing <a class="el" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html">FIFO</a>.  <br /></td></tr>
<tr class="separator:ac4b92be06298b9e40d12bc9832643083"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pri-methods" name="pri-methods"></a>
Private 멤버 함수</h2></td></tr>
<tr class="memitem:a33d911f777b4ecaeff1b9248bbe516a7" id="r_a33d911f777b4ecaeff1b9248bbe516a7"><td class="memItemLeft" align="right" valign="top">std::optional&lt; <a class="el" href="structrgw_1_1cls_1_1fifo_1_1marker.html">marker</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html#a33d911f777b4ecaeff1b9248bbe516a7">to_marker</a> (std::string_view s)</td></tr>
<tr class="separator:a33d911f777b4ecaeff1b9248bbe516a7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab4c9eb9846a7a0396ad2ce56cc0d25d8" id="r_ab4c9eb9846a7a0396ad2ce56cc0d25d8"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html#ab4c9eb9846a7a0396ad2ce56cc0d25d8">FIFO</a> (lr::IoCtx &amp;&amp;ioc, std::string <a class="el" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html#a3e0ced0e9aa607afbde4462e07416be3">oid</a>)</td></tr>
<tr class="separator:ab4c9eb9846a7a0396ad2ce56cc0d25d8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae9b671fb0e801459fa35a4982053047c" id="r_ae9b671fb0e801459fa35a4982053047c"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html#ae9b671fb0e801459fa35a4982053047c">apply_update</a> (const DoutPrefixProvider *<a class="el" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>, fifo::info *<a class="el" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html#ac39e05a390f49314efc600e47135eee9">info</a>, const fifo::objv &amp;objv, const fifo::update &amp;update, std::uint64_t <a class="el" href="cls__fifo__legacy_8cc.html#ab35eff139cb790487ef1520b2446d3f7">tid</a>)</td></tr>
<tr class="separator:ae9b671fb0e801459fa35a4982053047c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aba781c2176312b28522495f0021ba590" id="r_aba781c2176312b28522495f0021ba590"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html#aba781c2176312b28522495f0021ba590">_update_meta</a> (const DoutPrefixProvider *<a class="el" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>, const fifo::update &amp;update, fifo::objv version, bool *pcanceled, std::uint64_t <a class="el" href="cls__fifo__legacy_8cc.html#ab35eff139cb790487ef1520b2446d3f7">tid</a>, optional_yield y)</td></tr>
<tr class="separator:aba781c2176312b28522495f0021ba590"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa680fda73a028a49f1051a2beefc5619" id="r_aa680fda73a028a49f1051a2beefc5619"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html#aa680fda73a028a49f1051a2beefc5619">_update_meta</a> (const DoutPrefixProvider *<a class="el" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>, const fifo::update &amp;update, fifo::objv version, bool *pcanceled, std::uint64_t <a class="el" href="cls__fifo__legacy_8cc.html#ab35eff139cb790487ef1520b2446d3f7">tid</a>, lr::AioCompletion *<a class="el" href="rgw__aio_8cc.html#af3997c9b015c5696191674621076ae50">c</a>)</td></tr>
<tr class="separator:aa680fda73a028a49f1051a2beefc5619"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8e9d27e0bfcef221c264d48a277a6961" id="r_a8e9d27e0bfcef221c264d48a277a6961"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html#a8e9d27e0bfcef221c264d48a277a6961">create_part</a> (const DoutPrefixProvider *<a class="el" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>, int64_t part_num, std::uint64_t <a class="el" href="cls__fifo__legacy_8cc.html#ab35eff139cb790487ef1520b2446d3f7">tid</a>, optional_yield y)</td></tr>
<tr class="separator:a8e9d27e0bfcef221c264d48a277a6961"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aea9becd936635377461013178aecdbed" id="r_aea9becd936635377461013178aecdbed"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html#aea9becd936635377461013178aecdbed">remove_part</a> (const DoutPrefixProvider *<a class="el" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>, int64_t part_num, std::uint64_t <a class="el" href="cls__fifo__legacy_8cc.html#ab35eff139cb790487ef1520b2446d3f7">tid</a>, optional_yield y)</td></tr>
<tr class="separator:aea9becd936635377461013178aecdbed"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1183904fcb363500f021b6ecf9f58d29" id="r_a1183904fcb363500f021b6ecf9f58d29"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html#a1183904fcb363500f021b6ecf9f58d29">process_journal</a> (const DoutPrefixProvider *<a class="el" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>, std::uint64_t <a class="el" href="cls__fifo__legacy_8cc.html#ab35eff139cb790487ef1520b2446d3f7">tid</a>, optional_yield y)</td></tr>
<tr class="separator:a1183904fcb363500f021b6ecf9f58d29"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeac49c88d791eb299a24676ccf21d0c2" id="r_aeac49c88d791eb299a24676ccf21d0c2"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html#aeac49c88d791eb299a24676ccf21d0c2">process_journal</a> (const DoutPrefixProvider *<a class="el" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>, std::uint64_t <a class="el" href="cls__fifo__legacy_8cc.html#ab35eff139cb790487ef1520b2446d3f7">tid</a>, lr::AioCompletion *<a class="el" href="rgw__aio_8cc.html#af3997c9b015c5696191674621076ae50">c</a>)</td></tr>
<tr class="separator:aeac49c88d791eb299a24676ccf21d0c2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5b962aff7e9ff729f83b709e1bba6d13" id="r_a5b962aff7e9ff729f83b709e1bba6d13"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html#a5b962aff7e9ff729f83b709e1bba6d13">_prepare_new_part</a> (const DoutPrefixProvider *<a class="el" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>, std::int64_t new_part_num, bool is_head, std::uint64_t <a class="el" href="cls__fifo__legacy_8cc.html#ab35eff139cb790487ef1520b2446d3f7">tid</a>, optional_yield y)</td></tr>
<tr class="separator:a5b962aff7e9ff729f83b709e1bba6d13"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aec8b6a339b01a90706117af46da93abf" id="r_aec8b6a339b01a90706117af46da93abf"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html#aec8b6a339b01a90706117af46da93abf">_prepare_new_part</a> (const DoutPrefixProvider *<a class="el" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>, std::int64_t new_part_num, bool is_head, std::uint64_t <a class="el" href="cls__fifo__legacy_8cc.html#ab35eff139cb790487ef1520b2446d3f7">tid</a>, lr::AioCompletion *<a class="el" href="rgw__aio_8cc.html#af3997c9b015c5696191674621076ae50">c</a>)</td></tr>
<tr class="separator:aec8b6a339b01a90706117af46da93abf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adaf8b9d5a771ad7b704328dea8156446" id="r_adaf8b9d5a771ad7b704328dea8156446"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html#adaf8b9d5a771ad7b704328dea8156446">_prepare_new_head</a> (const DoutPrefixProvider *<a class="el" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>, std::int64_t new_head_part_num, std::uint64_t <a class="el" href="cls__fifo__legacy_8cc.html#ab35eff139cb790487ef1520b2446d3f7">tid</a>, optional_yield y)</td></tr>
<tr class="separator:adaf8b9d5a771ad7b704328dea8156446"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acb4cd6c9b683badf085564c1ad87b0bc" id="r_acb4cd6c9b683badf085564c1ad87b0bc"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html#acb4cd6c9b683badf085564c1ad87b0bc">_prepare_new_head</a> (const DoutPrefixProvider *<a class="el" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>, std::int64_t new_head_part_num, std::uint64_t <a class="el" href="cls__fifo__legacy_8cc.html#ab35eff139cb790487ef1520b2446d3f7">tid</a>, lr::AioCompletion *<a class="el" href="rgw__aio_8cc.html#af3997c9b015c5696191674621076ae50">c</a>)</td></tr>
<tr class="separator:acb4cd6c9b683badf085564c1ad87b0bc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1d19bcf2e74438d5782e5b1a457e8736" id="r_a1d19bcf2e74438d5782e5b1a457e8736"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html#a1d19bcf2e74438d5782e5b1a457e8736">push_entries</a> (const DoutPrefixProvider *<a class="el" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>, const std::deque&lt; cb::list &gt; &amp;data_bufs, std::uint64_t <a class="el" href="cls__fifo__legacy_8cc.html#ab35eff139cb790487ef1520b2446d3f7">tid</a>, optional_yield y)</td></tr>
<tr class="separator:a1d19bcf2e74438d5782e5b1a457e8736"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a42f919c8b7b575f7a234766014454b9c" id="r_a42f919c8b7b575f7a234766014454b9c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html#a42f919c8b7b575f7a234766014454b9c">push_entries</a> (const std::deque&lt; cb::list &gt; &amp;data_bufs, std::uint64_t <a class="el" href="cls__fifo__legacy_8cc.html#ab35eff139cb790487ef1520b2446d3f7">tid</a>, lr::AioCompletion *<a class="el" href="rgw__aio_8cc.html#af3997c9b015c5696191674621076ae50">c</a>)</td></tr>
<tr class="separator:a42f919c8b7b575f7a234766014454b9c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aff781ce13369438e40d77ec8f4799e30" id="r_aff781ce13369438e40d77ec8f4799e30"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html#aff781ce13369438e40d77ec8f4799e30">trim_part</a> (const DoutPrefixProvider *<a class="el" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>, int64_t part_num, uint64_t ofs, bool exclusive, std::uint64_t <a class="el" href="cls__fifo__legacy_8cc.html#ab35eff139cb790487ef1520b2446d3f7">tid</a>, optional_yield y)</td></tr>
<tr class="separator:aff781ce13369438e40d77ec8f4799e30"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abea6ff81001c236ea632aa3aa8808e22" id="r_abea6ff81001c236ea632aa3aa8808e22"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html#abea6ff81001c236ea632aa3aa8808e22">trim_part</a> (const DoutPrefixProvider *<a class="el" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>, int64_t part_num, uint64_t ofs, bool exclusive, std::uint64_t <a class="el" href="cls__fifo__legacy_8cc.html#ab35eff139cb790487ef1520b2446d3f7">tid</a>, lr::AioCompletion *<a class="el" href="rgw__aio_8cc.html#af3997c9b015c5696191674621076ae50">c</a>)</td></tr>
<tr class="separator:abea6ff81001c236ea632aa3aa8808e22"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a767e397207c78989f0e0ebcef3252d78" id="r_a767e397207c78989f0e0ebcef3252d78"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html#a767e397207c78989f0e0ebcef3252d78">read_meta</a> (const DoutPrefixProvider *<a class="el" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>, std::uint64_t <a class="el" href="cls__fifo__legacy_8cc.html#ab35eff139cb790487ef1520b2446d3f7">tid</a>, optional_yield y)</td></tr>
<tr class="memdesc:a767e397207c78989f0e0ebcef3252d78"><td class="mdescLeft">&#160;</td><td class="mdescRight">Force refresh of metadata, yielding/blocking style  <br /></td></tr>
<tr class="separator:a767e397207c78989f0e0ebcef3252d78"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac195211bd8cfabc15fc383868cd0a8e2" id="r_ac195211bd8cfabc15fc383868cd0a8e2"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html#ac195211bd8cfabc15fc383868cd0a8e2">read_meta</a> (const DoutPrefixProvider *<a class="el" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>, std::uint64_t <a class="el" href="cls__fifo__legacy_8cc.html#ab35eff139cb790487ef1520b2446d3f7">tid</a>, lr::AioCompletion *<a class="el" href="rgw__aio_8cc.html#af3997c9b015c5696191674621076ae50">c</a>)</td></tr>
<tr class="memdesc:ac195211bd8cfabc15fc383868cd0a8e2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Force refresh of metadata, with a librados <a class="el" href="structrgw_1_1cls_1_1fifo_1_1_completion.html">Completion</a>  <br /></td></tr>
<tr class="separator:ac195211bd8cfabc15fc383868cd0a8e2"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pri-attribs" name="pri-attribs"></a>
Private 속성</h2></td></tr>
<tr class="memitem:af2b49f78650a528ef6b4abb16205b71f" id="r_af2b49f78650a528ef6b4abb16205b71f"><td class="memItemLeft" align="right" valign="top">lr::IoCtx&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html#af2b49f78650a528ef6b4abb16205b71f">ioctx</a></td></tr>
<tr class="separator:af2b49f78650a528ef6b4abb16205b71f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab04aec5111a70848f003a5174f5f43af" id="r_ab04aec5111a70848f003a5174f5f43af"><td class="memItemLeft" align="right" valign="top">CephContext *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html#ab04aec5111a70848f003a5174f5f43af">cct</a> = static_cast&lt;CephContext*&gt;(ioctx.cct())</td></tr>
<tr class="separator:ab04aec5111a70848f003a5174f5f43af"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3e0ced0e9aa607afbde4462e07416be3" id="r_a3e0ced0e9aa607afbde4462e07416be3"><td class="memItemLeft" align="right" valign="top">const std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html#a3e0ced0e9aa607afbde4462e07416be3">oid</a></td></tr>
<tr class="separator:a3e0ced0e9aa607afbde4462e07416be3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af2b6bcbdfba97260e576ff4a72d8ba49" id="r_af2b6bcbdfba97260e576ff4a72d8ba49"><td class="memItemLeft" align="right" valign="top">std::mutex&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html#af2b6bcbdfba97260e576ff4a72d8ba49">m</a></td></tr>
<tr class="separator:af2b6bcbdfba97260e576ff4a72d8ba49"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afa7af9bdb8c2b6813e746cba65f61115" id="r_afa7af9bdb8c2b6813e746cba65f61115"><td class="memItemLeft" align="right" valign="top">std::uint64_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html#afa7af9bdb8c2b6813e746cba65f61115">next_tid</a> = 0</td></tr>
<tr class="separator:afa7af9bdb8c2b6813e746cba65f61115"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac39e05a390f49314efc600e47135eee9" id="r_ac39e05a390f49314efc600e47135eee9"><td class="memItemLeft" align="right" valign="top">fifo::info&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html#ac39e05a390f49314efc600e47135eee9">info</a></td></tr>
<tr class="separator:ac39e05a390f49314efc600e47135eee9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae8573df3015bf8beaa2bf62ee4130178" id="r_ae8573df3015bf8beaa2bf62ee4130178"><td class="memItemLeft" align="right" valign="top">std::uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html#ae8573df3015bf8beaa2bf62ee4130178">part_header_size</a> = 0xdeadbeef</td></tr>
<tr class="separator:ae8573df3015bf8beaa2bf62ee4130178"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a585247aa2c1b7c19869ceb1544443976" id="r_a585247aa2c1b7c19869ceb1544443976"><td class="memItemLeft" align="right" valign="top">std::uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html#a585247aa2c1b7c19869ceb1544443976">part_entry_overhead</a> = 0xdeadbeef</td></tr>
<tr class="separator:a585247aa2c1b7c19869ceb1544443976"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="friends" name="friends"></a>
Friends</h2></td></tr>
<tr class="memitem:a61eda40b83a54c92df0fff14e68ce1a0" id="r_a61eda40b83a54c92df0fff14e68ce1a0"><td class="memItemLeft" align="right" valign="top">struct&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html#a61eda40b83a54c92df0fff14e68ce1a0">Reader</a></td></tr>
<tr class="separator:a61eda40b83a54c92df0fff14e68ce1a0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a42e6aa897e4963dc808e42dc2a3ff98d" id="r_a42e6aa897e4963dc808e42dc2a3ff98d"><td class="memItemLeft" align="right" valign="top">struct&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html#a42e6aa897e4963dc808e42dc2a3ff98d">Updater</a></td></tr>
<tr class="separator:a42e6aa897e4963dc808e42dc2a3ff98d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab1ca174fed1c9d2ef16f1e0822cc37aa" id="r_ab1ca174fed1c9d2ef16f1e0822cc37aa"><td class="memItemLeft" align="right" valign="top">struct&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html#ab1ca174fed1c9d2ef16f1e0822cc37aa">Trimmer</a></td></tr>
<tr class="separator:ab1ca174fed1c9d2ef16f1e0822cc37aa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae5b89291153dc90fe7e0204270d0c5af" id="r_ae5b89291153dc90fe7e0204270d0c5af"><td class="memItemLeft" align="right" valign="top">struct&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html#ae5b89291153dc90fe7e0204270d0c5af">InfoGetter</a></td></tr>
<tr class="separator:ae5b89291153dc90fe7e0204270d0c5af"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1c18ca80180787ca184b5d2e79c472d2" id="r_a1c18ca80180787ca184b5d2e79c472d2"><td class="memItemLeft" align="right" valign="top">struct&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html#a1c18ca80180787ca184b5d2e79c472d2">Pusher</a></td></tr>
<tr class="separator:a1c18ca80180787ca184b5d2e79c472d2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab7c842b406b462fcb999d51bb8d341a1" id="r_ab7c842b406b462fcb999d51bb8d341a1"><td class="memItemLeft" align="right" valign="top">struct&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html#ab7c842b406b462fcb999d51bb8d341a1">NewPartPreparer</a></td></tr>
<tr class="separator:ab7c842b406b462fcb999d51bb8d341a1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3346aa0f630bdf5a8b7e2eabee07d4a5" id="r_a3346aa0f630bdf5a8b7e2eabee07d4a5"><td class="memItemLeft" align="right" valign="top">struct&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html#a3346aa0f630bdf5a8b7e2eabee07d4a5">NewHeadPreparer</a></td></tr>
<tr class="separator:a3346aa0f630bdf5a8b7e2eabee07d4a5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acc11c2a95ced87978824f46bdda8842f" id="r_acc11c2a95ced87978824f46bdda8842f"><td class="memItemLeft" align="right" valign="top">struct&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html#acc11c2a95ced87978824f46bdda8842f">JournalProcessor</a></td></tr>
<tr class="separator:acc11c2a95ced87978824f46bdda8842f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3ec8dbd10388a6364793c1b0ff3f5f7a" id="r_a3ec8dbd10388a6364793c1b0ff3f5f7a"><td class="memItemLeft" align="right" valign="top">struct&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html#a3ec8dbd10388a6364793c1b0ff3f5f7a">Lister</a></td></tr>
<tr class="separator:a3ec8dbd10388a6364793c1b0ff3f5f7a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">상세한 설명</h2>
<div class="textblock"><p>This is an implementation of <a class="el" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html">FIFO</a> using librados to facilitate backports. Please see /src/neorados/cls/fifo.h for full information.</p>
<p>This library uses optional_yield. Please see /src/common/async/yield_context.h. In summary, optional_yield contains either a spawn::yield_context (in which case the current coroutine is suspended until completion) or null_yield (in which case the current thread is blocked until completion.)</p>
<p>Please see the librados documentation for information on AioCompletion and IoCtx. </p>

<p class="definition"><a class="el" href="cls__fifo__legacy_8h_source.html">cls_fifo_legacy.h</a> 파일의 <a class="el" href="cls__fifo__legacy_8h_source.html#l00102">102</a> 번째 라인에서 정의되었습니다.</p>
</div><h2 class="groupheader">생성자 &amp; 소멸자 문서화</h2>
<a id="ab4c9eb9846a7a0396ad2ce56cc0d25d8" name="ab4c9eb9846a7a0396ad2ce56cc0d25d8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab4c9eb9846a7a0396ad2ce56cc0d25d8">&#9670;&#160;</a></span>FIFO() <span class="overload">[1/3]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">rgw::cls::fifo::FIFO::FIFO </td>
          <td>(</td>
          <td class="paramtype">lr::IoCtx &amp;&amp;&#160;</td>
          <td class="paramname"><em>ioc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::string&#160;</td>
          <td class="paramname"><em>oid</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition"><a class="el" href="cls__fifo__legacy_8h_source.html">cls_fifo_legacy.h</a> 파일의 <a class="el" href="cls__fifo__legacy_8h_source.html#l00126">126</a> 번째 라인에서 정의되었습니다.</p>
<div class="fragment"><div class="line"><span class="lineno">  128</span>    : <a class="code hl_variable" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html#af2b49f78650a528ef6b4abb16205b71f">ioctx</a>(std::move(ioc)), <a class="code hl_variable" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html#a3e0ced0e9aa607afbde4462e07416be3">oid</a>(<a class="code hl_variable" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html#a3e0ced0e9aa607afbde4462e07416be3">oid</a>) {}</div>
<div class="ttc" id="aclassrgw_1_1cls_1_1fifo_1_1_f_i_f_o_html_a3e0ced0e9aa607afbde4462e07416be3"><div class="ttname"><a href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html#a3e0ced0e9aa607afbde4462e07416be3">rgw::cls::fifo::FIFO::oid</a></div><div class="ttdeci">const std::string oid</div><div class="ttdef"><b>Definition</b> <a href="cls__fifo__legacy_8h_source.html#l00115">cls_fifo_legacy.h:115</a></div></div>
<div class="ttc" id="aclassrgw_1_1cls_1_1fifo_1_1_f_i_f_o_html_af2b49f78650a528ef6b4abb16205b71f"><div class="ttname"><a href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html#af2b49f78650a528ef6b4abb16205b71f">rgw::cls::fifo::FIFO::ioctx</a></div><div class="ttdeci">lr::IoCtx ioctx</div><div class="ttdef"><b>Definition</b> <a href="cls__fifo__legacy_8h_source.html#l00113">cls_fifo_legacy.h:113</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="acf0e846601d9b2d777e4830fe7855a88" name="acf0e846601d9b2d777e4830fe7855a88"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acf0e846601d9b2d777e4830fe7855a88">&#9670;&#160;</a></span>FIFO() <span class="overload">[2/3]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">rgw::cls::fifo::FIFO::FIFO </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html">FIFO</a> &amp;&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">delete</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="ac9f388d453552a8bb701622933c1d0c8" name="ac9f388d453552a8bb701622933c1d0c8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac9f388d453552a8bb701622933c1d0c8">&#9670;&#160;</a></span>FIFO() <span class="overload">[3/3]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">rgw::cls::fifo::FIFO::FIFO </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html">FIFO</a> &amp;&amp;&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">delete</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">멤버 함수 문서화</h2>
<a id="acb4cd6c9b683badf085564c1ad87b0bc" name="acb4cd6c9b683badf085564c1ad87b0bc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acb4cd6c9b683badf085564c1ad87b0bc">&#9670;&#160;</a></span>_prepare_new_head() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void rgw::cls::fifo::FIFO::_prepare_new_head </td>
          <td>(</td>
          <td class="paramtype">const DoutPrefixProvider *&#160;</td>
          <td class="paramname"><em>dpp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::int64_t&#160;</td>
          <td class="paramname"><em>new_head_part_num</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::uint64_t&#160;</td>
          <td class="paramname"><em>tid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">lr::AioCompletion *&#160;</td>
          <td class="paramname"><em>c</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition"><a class="el" href="cls__fifo__legacy_8cc_source.html">cls_fifo_legacy.cc</a> 파일의 <a class="el" href="cls__fifo__legacy_8cc_source.html#l01064">1064</a> 번째 라인에서 정의되었습니다.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1066</span>{</div>
<div class="line"><span class="lineno"> 1067</span>  ldpp_dout(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>, 20) &lt;&lt; __PRETTY_FUNCTION__ &lt;&lt; <span class="stringliteral">&quot;:&quot;</span> &lt;&lt; __LINE__</div>
<div class="line"><span class="lineno"> 1068</span>         &lt;&lt; <span class="stringliteral">&quot; entering: tid=&quot;</span> &lt;&lt; <a class="code hl_variable" href="cls__fifo__legacy_8cc.html#ab35eff139cb790487ef1520b2446d3f7">tid</a> &lt;&lt; dendl;</div>
<div class="line"><span class="lineno"> 1069</span>  std::unique_lock l(<a class="code hl_variable" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html#af2b6bcbdfba97260e576ff4a72d8ba49">m</a>);</div>
<div class="line"><span class="lineno"> 1070</span>  <span class="keyword">auto</span> max_push_part_num = <a class="code hl_variable" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html#ac39e05a390f49314efc600e47135eee9">info</a>.max_push_part_num;</div>
<div class="line"><span class="lineno"> 1071</span>  <span class="keyword">auto</span> version = <a class="code hl_variable" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html#ac39e05a390f49314efc600e47135eee9">info</a>.version;</div>
<div class="line"><span class="lineno"> 1072</span>  l.unlock();</div>
<div class="line"><span class="lineno"> 1073</span> </div>
<div class="line"><span class="lineno"> 1074</span>  <span class="keywordflow">if</span> (max_push_part_num &lt; new_head_part_num) {</div>
<div class="line"><span class="lineno"> 1075</span>    ldpp_dout(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>, 20) &lt;&lt; __PRETTY_FUNCTION__ &lt;&lt; <span class="stringliteral">&quot;:&quot;</span> &lt;&lt; __LINE__</div>
<div class="line"><span class="lineno"> 1076</span>           &lt;&lt; <span class="stringliteral">&quot; need new part: tid=&quot;</span> &lt;&lt; <a class="code hl_variable" href="cls__fifo__legacy_8cc.html#ab35eff139cb790487ef1520b2446d3f7">tid</a> &lt;&lt; dendl;</div>
<div class="line"><span class="lineno"> 1077</span>    <span class="keyword">auto</span> n = std::make_unique&lt;NewHeadPreparer&gt;(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>, <span class="keyword">this</span>, <a class="code hl_variable" href="rgw__aio_8cc.html#af3997c9b015c5696191674621076ae50">c</a>, <span class="keyword">true</span>, new_head_part_num,</div>
<div class="line"><span class="lineno"> 1078</span>                           <a class="code hl_variable" href="cls__fifo__legacy_8cc.html#ab35eff139cb790487ef1520b2446d3f7">tid</a>);</div>
<div class="line"><span class="lineno"> 1079</span>    <a class="code hl_function" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html#a5b962aff7e9ff729f83b709e1bba6d13">_prepare_new_part</a>(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>, new_head_part_num, <span class="keyword">true</span>, <a class="code hl_variable" href="cls__fifo__legacy_8cc.html#ab35eff139cb790487ef1520b2446d3f7">tid</a>,</div>
<div class="line"><span class="lineno"> 1080</span>              <a class="code hl_function" href="structrgw_1_1cls_1_1fifo_1_1_completion.html#a35c552581b3e840b33621734133dc2e3">NewHeadPreparer::call</a>(std::move(n)));</div>
<div class="line"><span class="lineno"> 1081</span>  } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 1082</span>    ldpp_dout(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>, 20) &lt;&lt; __PRETTY_FUNCTION__ &lt;&lt; <span class="stringliteral">&quot;:&quot;</span> &lt;&lt; __LINE__</div>
<div class="line"><span class="lineno"> 1083</span>           &lt;&lt; <span class="stringliteral">&quot; updating head: tid=&quot;</span> &lt;&lt; <a class="code hl_variable" href="cls__fifo__legacy_8cc.html#ab35eff139cb790487ef1520b2446d3f7">tid</a> &lt;&lt; dendl;</div>
<div class="line"><span class="lineno"> 1084</span>    <span class="keyword">auto</span> n = std::make_unique&lt;NewHeadPreparer&gt;(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>, <span class="keyword">this</span>, <a class="code hl_variable" href="rgw__aio_8cc.html#af3997c9b015c5696191674621076ae50">c</a>, <span class="keyword">false</span>, new_head_part_num,</div>
<div class="line"><span class="lineno"> 1085</span>                           <a class="code hl_variable" href="cls__fifo__legacy_8cc.html#ab35eff139cb790487ef1520b2446d3f7">tid</a>);</div>
<div class="line"><span class="lineno"> 1086</span>    <span class="keyword">auto</span> np = n.get();</div>
<div class="line"><span class="lineno"> 1087</span>    fifo::journal_entry jentry;</div>
<div class="line"><span class="lineno"> 1088</span>    jentry.op = fifo::journal_entry::Op::set_head;</div>
<div class="line"><span class="lineno"> 1089</span>    jentry.part_num = new_head_part_num;</div>
<div class="line"><span class="lineno"> 1090</span>    <a class="code hl_function" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html#aba781c2176312b28522495f0021ba590">_update_meta</a>(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>, fifo::update{}.journal_entries_add({{jentry}}), version,</div>
<div class="line"><span class="lineno"> 1091</span>         &amp;np-&gt;canceled, <a class="code hl_variable" href="cls__fifo__legacy_8cc.html#ab35eff139cb790487ef1520b2446d3f7">tid</a>, <a class="code hl_function" href="structrgw_1_1cls_1_1fifo_1_1_completion.html#a35c552581b3e840b33621734133dc2e3">NewHeadPreparer::call</a>(std::move(n)));</div>
<div class="line"><span class="lineno"> 1092</span>  }</div>
<div class="line"><span class="lineno"> 1093</span>}</div>
<div class="ttc" id="aclassrgw_1_1cls_1_1fifo_1_1_f_i_f_o_html_a5b962aff7e9ff729f83b709e1bba6d13"><div class="ttname"><a href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html#a5b962aff7e9ff729f83b709e1bba6d13">rgw::cls::fifo::FIFO::_prepare_new_part</a></div><div class="ttdeci">int _prepare_new_part(const DoutPrefixProvider *dpp, std::int64_t new_part_num, bool is_head, std::uint64_t tid, optional_yield y)</div><div class="ttdef"><b>Definition</b> <a href="cls__fifo__legacy_8cc_source.html#l00715">cls_fifo_legacy.cc:715</a></div></div>
<div class="ttc" id="aclassrgw_1_1cls_1_1fifo_1_1_f_i_f_o_html_aba781c2176312b28522495f0021ba590"><div class="ttname"><a href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html#aba781c2176312b28522495f0021ba590">rgw::cls::fifo::FIFO::_update_meta</a></div><div class="ttdeci">int _update_meta(const DoutPrefixProvider *dpp, const fifo::update &amp;update, fifo::objv version, bool *pcanceled, std::uint64_t tid, optional_yield y)</div><div class="ttdef"><b>Definition</b> <a href="cls__fifo__legacy_8cc_source.html#l00434">cls_fifo_legacy.cc:434</a></div></div>
<div class="ttc" id="aclassrgw_1_1cls_1_1fifo_1_1_f_i_f_o_html_ac39e05a390f49314efc600e47135eee9"><div class="ttname"><a href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html#ac39e05a390f49314efc600e47135eee9">rgw::cls::fifo::FIFO::info</a></div><div class="ttdeci">fifo::info info</div><div class="ttdef"><b>Definition</b> <a href="cls__fifo__legacy_8h_source.html#l00119">cls_fifo_legacy.h:119</a></div></div>
<div class="ttc" id="aclassrgw_1_1cls_1_1fifo_1_1_f_i_f_o_html_af2b6bcbdfba97260e576ff4a72d8ba49"><div class="ttname"><a href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html#af2b6bcbdfba97260e576ff4a72d8ba49">rgw::cls::fifo::FIFO::m</a></div><div class="ttdeci">std::mutex m</div><div class="ttdef"><b>Definition</b> <a href="cls__fifo__legacy_8h_source.html#l00116">cls_fifo_legacy.h:116</a></div></div>
<div class="ttc" id="acls__fifo__legacy_8cc_html_ab35eff139cb790487ef1520b2446d3f7"><div class="ttname"><a href="cls__fifo__legacy_8cc.html#ab35eff139cb790487ef1520b2446d3f7">tid</a></div><div class="ttdeci">std::uint64_t tid</div><div class="ttdef"><b>Definition</b> <a href="cls__fifo__legacy_8cc_source.html#l00252">cls_fifo_legacy.cc:252</a></div></div>
<div class="ttc" id="argw__admin_8cc_html_afe3e74bcdf0327f8777c02b83cfea5b5"><div class="ttname"><a href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a></div><div class="ttdeci">static const DoutPrefixProvider * dpp()</div><div class="ttdef"><b>Definition</b> <a href="rgw__admin_8cc_source.html#l00081">rgw_admin.cc:81</a></div></div>
<div class="ttc" id="argw__aio_8cc_html_af3997c9b015c5696191674621076ae50"><div class="ttname"><a href="rgw__aio_8cc.html#af3997c9b015c5696191674621076ae50">c</a></div><div class="ttdeci">librados::AioCompletion * c</div><div class="ttdef"><b>Definition</b> <a href="rgw__aio_8cc_source.html#l00031">rgw_aio.cc:31</a></div></div>
<div class="ttc" id="astructrgw_1_1cls_1_1fifo_1_1_completion_html_a35c552581b3e840b33621734133dc2e3"><div class="ttname"><a href="structrgw_1_1cls_1_1fifo_1_1_completion.html#a35c552581b3e840b33621734133dc2e3">rgw::cls::fifo::Completion&lt; NewHeadPreparer &gt;::call</a></div><div class="ttdeci">static lr::AioCompletion * call(Ptr &amp;&amp;p)</div><div class="ttdef"><b>Definition</b> <a href="cls__fifo__legacy_8h_source.html#l00315">cls_fifo_legacy.h:315</a></div></div>
</div><!-- fragment --><div class="dynheader">
이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o_acb4cd6c9b683badf085564c1ad87b0bc_cgraph.png" border="0" usemap="#aclassrgw_1_1cls_1_1fifo_1_1_f_i_f_o_acb4cd6c9b683badf085564c1ad87b0bc_cgraph" alt=""/></div>
<map name="aclassrgw_1_1cls_1_1fifo_1_1_f_i_f_o_acb4cd6c9b683badf085564c1ad87b0bc_cgraph" id="aclassrgw_1_1cls_1_1fifo_1_1_f_i_f_o_acb4cd6c9b683badf085564c1ad87b0bc_cgraph">
<area shape="rect" title=" " alt="" coords="5,314,150,357"/>
<area shape="rect" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html#a5b962aff7e9ff729f83b709e1bba6d13" title=" " alt="" coords="217,343,356,386"/>
<area shape="poly" title=" " alt="" coords="150,343,202,350,201,355,149,348"/>
<area shape="rect" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html#aba781c2176312b28522495f0021ba590" title=" " alt="" coords="598,285,726,327"/>
<area shape="poly" title=" " alt="" coords="150,329,583,307,583,313,150,334"/>
<area shape="rect" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5" title=" " alt="" coords="1328,310,1370,337"/>
<area shape="poly" title=" " alt="" coords="89,312,142,235,182,185,230,134,285,87,347,47,380,32,414,20,449,13,485,10,1026,10,1102,6,1165,3,1193,7,1222,16,1251,31,1282,56,1294,73,1306,99,1324,164,1347,294,1341,295,1319,166,1301,101,1290,76,1278,60,1248,36,1220,21,1192,12,1164,9,1103,11,1027,15,485,15,450,18,415,25,382,37,349,52,289,91,234,138,186,188,147,238,94,315"/>
<area shape="rect" href="structrgw_1_1cls_1_1fifo_1_1_completion.html#a35c552581b3e840b33621734133dc2e3" title=" " alt="" coords="198,410,375,453"/>
<area shape="poly" title=" " alt="" coords="119,355,199,396,212,401,210,406,197,400,116,360"/>
<area shape="poly" title=" " alt="" coords="355,352,550,322,582,317,583,322,551,327,356,357"/>
<area shape="poly" title=" " alt="" coords="357,384,377,396,393,410,402,425,411,439,425,455,484,519,531,573,555,594,583,610,618,620,661,623,1027,623,1103,627,1164,629,1192,626,1220,617,1248,601,1278,577,1289,562,1300,538,1318,476,1341,352,1346,353,1324,477,1305,540,1294,565,1282,581,1251,606,1222,622,1193,631,1165,634,1102,632,1026,629,661,629,617,625,581,614,552,598,527,576,480,522,421,458,407,442,398,428,389,414,373,400,354,389"/>
<area shape="rect" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html#a1183904fcb363500f021b6ecf9f58d29" title=" " alt="" coords="423,402,550,445"/>
<area shape="poly" title=" " alt="" coords="356,382,409,398,407,403,355,387"/>
<area shape="rect" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html#ae9b671fb0e801459fa35a4982053047c" title=" " alt="" coords="774,50,901,93"/>
<area shape="poly" title=" " alt="" coords="669,283,707,202,736,154,772,110,782,100,785,104,776,113,741,157,712,205,674,286"/>
<area shape="poly" title=" " alt="" coords="697,282,803,226,874,195,953,169,1036,151,1121,146,1163,150,1204,158,1243,171,1281,190,1306,212,1324,239,1336,268,1344,294,1339,295,1331,269,1319,241,1302,215,1278,195,1241,176,1202,163,1162,155,1121,151,1037,157,954,174,876,200,805,231,700,286"/>
<area shape="rect" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html#a767e397207c78989f0e0ebcef3252d78" title="Force refresh of metadata, yielding/blocking style" alt="" coords="774,279,901,322"/>
<area shape="poly" title=" " alt="" coords="726,301,758,300,759,306,726,307"/>
<area shape="rect" href="rgw__tools_8cc.html#ac8fd9a95626d93661d7280c9455eba5c" title="perform the rados operation, using the yield context when given" alt="" coords="1149,410,1280,437"/>
<area shape="poly" title=" " alt="" coords="727,320,774,331,866,348,938,358,1010,369,1102,387,1157,402,1156,408,1101,393,1009,374,937,364,865,354,773,337,726,325"/>
<area shape="poly" title=" " alt="" coords="901,53,985,40,1033,37,1085,37,1137,43,1189,54,1237,73,1281,101,1302,121,1317,145,1338,198,1348,251,1351,295,1345,295,1343,251,1333,199,1313,147,1297,125,1278,105,1235,78,1187,59,1136,48,1085,43,1034,42,985,46,902,58"/>
<area shape="poly" title=" " alt="" coords="876,276,954,240,1003,222,1057,207,1114,197,1171,195,1228,202,1281,222,1301,237,1317,255,1339,294,1335,297,1313,258,1297,241,1278,227,1226,207,1171,200,1114,202,1058,212,1005,227,956,245,878,281"/>
<area shape="rect" href="namespacergw_1_1cls_1_1fifo.html#a467406e6496bef3cfca16fa6eaf7ba28" title=" " alt="" coords="949,287,1101,314"/>
<area shape="poly" title=" " alt="" coords="901,298,933,298,933,303,901,303"/>
<area shape="poly" title=" " alt="" coords="1049,284,1093,263,1151,242,1184,236,1217,234,1249,237,1281,246,1311,268,1334,295,1330,299,1308,272,1278,251,1248,242,1217,239,1184,241,1153,248,1095,268,1051,289"/>
<area shape="rect" href="namespacergw.html#a49e77e75ed539fdbde0dcc092bb76467" title=" " alt="" coords="1169,285,1260,311"/>
<area shape="poly" title=" " alt="" coords="1102,297,1153,296,1154,302,1102,302"/>
<area shape="rect" href="namespacergw.html#a34a5757756e9618325f611b073ccd448" title=" " alt="" coords="1169,359,1260,386"/>
<area shape="poly" title=" " alt="" coords="1063,312,1164,351,1162,356,1062,317"/>
<area shape="poly" title=" " alt="" coords="1057,312,1103,341,1118,356,1127,370,1136,383,1151,396,1158,400,1155,405,1148,400,1132,386,1123,373,1114,360,1100,345,1055,317"/>
<area shape="poly" title=" " alt="" coords="1191,285,1187,276,1190,267,1199,260,1215,258,1231,261,1240,267,1237,272,1229,266,1214,263,1201,265,1194,270,1192,275,1196,283"/>
<area shape="poly" title=" " alt="" coords="1191,360,1187,350,1190,341,1199,335,1215,333,1231,335,1240,342,1237,346,1229,340,1214,338,1201,340,1194,344,1192,350,1196,358"/>
<area shape="poly" title=" " alt="" coords="1257,407,1278,396,1305,373,1327,348,1331,351,1309,377,1281,400,1260,412"/>
<area shape="poly" title=" " alt="" coords="519,399,615,334,618,338,522,404"/>
<area shape="poly" title=" " alt="" coords="517,443,573,481,650,524,694,543,740,558,788,569,836,573,1027,573,1103,574,1164,570,1192,564,1219,553,1247,535,1278,511,1307,474,1326,431,1337,388,1343,352,1348,353,1342,389,1331,433,1311,477,1282,515,1250,540,1221,558,1193,569,1165,576,1103,579,1026,578,836,578,787,574,739,563,692,548,648,528,570,485,514,447"/>
<area shape="rect" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html#a8e9d27e0bfcef221c264d48a277a6961" title=" " alt="" coords="962,469,1089,511"/>
<area shape="poly" title=" " alt="" coords="551,428,946,478,945,483,550,434"/>
<area shape="rect" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html#aea9becd936635377461013178aecdbed" title=" " alt="" coords="962,402,1089,445"/>
<area shape="poly" title=" " alt="" coords="551,421,946,421,946,426,551,426"/>
<area shape="poly" title=" " alt="" coords="1089,500,1134,504,1184,503,1233,493,1278,472,1304,446,1322,414,1334,381,1341,351,1346,352,1339,383,1327,417,1308,450,1281,476,1235,498,1184,508,1134,510,1089,506"/>
<area shape="poly" title=" " alt="" coords="1087,466,1159,440,1161,445,1089,471"/>
<area shape="poly" title=" " alt="" coords="1078,443,1123,457,1175,466,1229,464,1254,457,1278,446,1301,427,1318,402,1339,351,1344,353,1323,405,1305,431,1281,451,1256,462,1230,469,1175,471,1122,462,1076,448"/>
<area shape="poly" title=" " alt="" coords="1089,421,1134,421,1134,426,1089,426"/>
</map>
</div>

</div>
</div>
<a id="adaf8b9d5a771ad7b704328dea8156446" name="adaf8b9d5a771ad7b704328dea8156446"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adaf8b9d5a771ad7b704328dea8156446">&#9670;&#160;</a></span>_prepare_new_head() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int rgw::cls::fifo::FIFO::_prepare_new_head </td>
          <td>(</td>
          <td class="paramtype">const DoutPrefixProvider *&#160;</td>
          <td class="paramname"><em>dpp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::int64_t&#160;</td>
          <td class="paramname"><em>new_head_part_num</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::uint64_t&#160;</td>
          <td class="paramname"><em>tid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">optional_yield&#160;</td>
          <td class="paramname"><em>y</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition"><a class="el" href="cls__fifo__legacy_8cc_source.html">cls_fifo_legacy.cc</a> 파일의 <a class="el" href="cls__fifo__legacy_8cc_source.html#l00793">793</a> 번째 라인에서 정의되었습니다.</p>
<div class="fragment"><div class="line"><span class="lineno">  796</span>{</div>
<div class="line"><span class="lineno">  797</span>  ldpp_dout(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>, 20) &lt;&lt; __PRETTY_FUNCTION__ &lt;&lt; <span class="stringliteral">&quot;:&quot;</span> &lt;&lt; __LINE__</div>
<div class="line"><span class="lineno">  798</span>             &lt;&lt; <span class="stringliteral">&quot; entering: tid=&quot;</span> &lt;&lt; <a class="code hl_variable" href="cls__fifo__legacy_8cc.html#ab35eff139cb790487ef1520b2446d3f7">tid</a> &lt;&lt; dendl;</div>
<div class="line"><span class="lineno">  799</span>  std::unique_lock l(<a class="code hl_variable" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html#af2b6bcbdfba97260e576ff4a72d8ba49">m</a>);</div>
<div class="line"><span class="lineno">  800</span>  <span class="keyword">auto</span> max_push_part_num = <a class="code hl_variable" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html#ac39e05a390f49314efc600e47135eee9">info</a>.max_push_part_num;</div>
<div class="line"><span class="lineno">  801</span>  <span class="keyword">auto</span> version = <a class="code hl_variable" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html#ac39e05a390f49314efc600e47135eee9">info</a>.version;</div>
<div class="line"><span class="lineno">  802</span>  l.unlock();</div>
<div class="line"><span class="lineno">  803</span> </div>
<div class="line"><span class="lineno">  804</span>  <span class="keywordtype">int</span> <a class="code hl_variable" href="rgw__aio_8cc.html#ae38055824c6eac64615832ad9d888539">r</a> = 0;</div>
<div class="line"><span class="lineno">  805</span>  <span class="keywordflow">if</span> (max_push_part_num &lt; new_head_part_num) {</div>
<div class="line"><span class="lineno">  806</span>    ldpp_dout(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>, 20) &lt;&lt; __PRETTY_FUNCTION__ &lt;&lt; <span class="stringliteral">&quot;:&quot;</span> &lt;&lt; __LINE__</div>
<div class="line"><span class="lineno">  807</span>           &lt;&lt; <span class="stringliteral">&quot; need new part: tid=&quot;</span> &lt;&lt; <a class="code hl_variable" href="cls__fifo__legacy_8cc.html#ab35eff139cb790487ef1520b2446d3f7">tid</a> &lt;&lt; dendl;</div>
<div class="line"><span class="lineno">  808</span>    <a class="code hl_variable" href="rgw__aio_8cc.html#ae38055824c6eac64615832ad9d888539">r</a> = <a class="code hl_function" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html#a5b962aff7e9ff729f83b709e1bba6d13">_prepare_new_part</a>(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>, new_head_part_num, <span class="keyword">true</span>, <a class="code hl_variable" href="cls__fifo__legacy_8cc.html#ab35eff139cb790487ef1520b2446d3f7">tid</a>, y);</div>
<div class="line"><span class="lineno">  809</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="rgw__aio_8cc.html#ae38055824c6eac64615832ad9d888539">r</a> &lt; 0) {</div>
<div class="line"><span class="lineno">  810</span>      ldpp_dout(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>, -1) &lt;&lt; __PRETTY_FUNCTION__ &lt;&lt; <span class="stringliteral">&quot;:&quot;</span> &lt;&lt; __LINE__</div>
<div class="line"><span class="lineno">  811</span>         &lt;&lt; <span class="stringliteral">&quot; _prepare_new_part failed: r=&quot;</span> &lt;&lt; <a class="code hl_variable" href="rgw__aio_8cc.html#ae38055824c6eac64615832ad9d888539">r</a></div>
<div class="line"><span class="lineno">  812</span>         &lt;&lt; <span class="stringliteral">&quot; tid=&quot;</span> &lt;&lt; <a class="code hl_variable" href="cls__fifo__legacy_8cc.html#ab35eff139cb790487ef1520b2446d3f7">tid</a> &lt;&lt; dendl;</div>
<div class="line"><span class="lineno">  813</span>      <span class="keywordflow">return</span> <a class="code hl_variable" href="rgw__aio_8cc.html#ae38055824c6eac64615832ad9d888539">r</a>;</div>
<div class="line"><span class="lineno">  814</span>    }</div>
<div class="line"><span class="lineno">  815</span>    std::unique_lock l(<a class="code hl_variable" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html#af2b6bcbdfba97260e576ff4a72d8ba49">m</a>);</div>
<div class="line"><span class="lineno">  816</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html#ac39e05a390f49314efc600e47135eee9">info</a>.max_push_part_num &lt; new_head_part_num) {</div>
<div class="line"><span class="lineno">  817</span>      ldpp_dout(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>, -1) &lt;&lt; __PRETTY_FUNCTION__ &lt;&lt; <span class="stringliteral">&quot;:&quot;</span> &lt;&lt; __LINE__</div>
<div class="line"><span class="lineno">  818</span>         &lt;&lt; <span class="stringliteral">&quot; inconsistency, push part less than head part: &quot;</span></div>
<div class="line"><span class="lineno">  819</span>         &lt;&lt; <span class="stringliteral">&quot; tid=&quot;</span> &lt;&lt; <a class="code hl_variable" href="cls__fifo__legacy_8cc.html#ab35eff139cb790487ef1520b2446d3f7">tid</a> &lt;&lt; dendl;</div>
<div class="line"><span class="lineno">  820</span>      <span class="keywordflow">return</span> -EIO;</div>
<div class="line"><span class="lineno">  821</span>    }</div>
<div class="line"><span class="lineno">  822</span>    l.unlock();</div>
<div class="line"><span class="lineno">  823</span>    <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">  824</span>  }</div>
<div class="line"><span class="lineno">  825</span> </div>
<div class="line"><span class="lineno">  826</span>  fifo::journal_entry jentry;</div>
<div class="line"><span class="lineno">  827</span>  jentry.op = fifo::journal_entry::Op::set_head;</div>
<div class="line"><span class="lineno">  828</span>  jentry.part_num = new_head_part_num;</div>
<div class="line"><span class="lineno">  829</span> </div>
<div class="line"><span class="lineno">  830</span>  <a class="code hl_variable" href="rgw__aio_8cc.html#ae38055824c6eac64615832ad9d888539">r</a> = 0;</div>
<div class="line"><span class="lineno">  831</span>  <span class="keywordtype">bool</span> canceled = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  832</span>  <span class="keywordflow">for</span> (<span class="keyword">auto</span> i = 0; canceled &amp;&amp; i &lt; <a class="code hl_variable" href="namespacergw_1_1cls_1_1fifo.html#a933975517fc01392747c3e4269c249a6">MAX_RACE_RETRIES</a>; ++i) {</div>
<div class="line"><span class="lineno">  833</span>    canceled = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  834</span>    ldpp_dout(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>, 20) &lt;&lt; __PRETTY_FUNCTION__ &lt;&lt; <span class="stringliteral">&quot;:&quot;</span> &lt;&lt; __LINE__</div>
<div class="line"><span class="lineno">  835</span>           &lt;&lt; <span class="stringliteral">&quot; updating metadata: i=&quot;</span> &lt;&lt; i &lt;&lt; <span class="stringliteral">&quot; tid=&quot;</span> &lt;&lt; <a class="code hl_variable" href="cls__fifo__legacy_8cc.html#ab35eff139cb790487ef1520b2446d3f7">tid</a> &lt;&lt; dendl;</div>
<div class="line"><span class="lineno">  836</span>    <span class="keyword">auto</span> u = fifo::update{}.journal_entries_add({{ jentry }});</div>
<div class="line"><span class="lineno">  837</span>    <a class="code hl_variable" href="rgw__aio_8cc.html#ae38055824c6eac64615832ad9d888539">r</a> = <a class="code hl_function" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html#aba781c2176312b28522495f0021ba590">_update_meta</a>(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>, u, version, &amp;canceled, <a class="code hl_variable" href="cls__fifo__legacy_8cc.html#ab35eff139cb790487ef1520b2446d3f7">tid</a>, y);</div>
<div class="line"><span class="lineno">  838</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="rgw__aio_8cc.html#ae38055824c6eac64615832ad9d888539">r</a> &gt;= 0 &amp;&amp; canceled) {</div>
<div class="line"><span class="lineno">  839</span>      std::unique_lock l(<a class="code hl_variable" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html#af2b6bcbdfba97260e576ff4a72d8ba49">m</a>);</div>
<div class="line"><span class="lineno">  840</span>      <span class="keyword">auto</span> found = (<a class="code hl_variable" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html#ac39e05a390f49314efc600e47135eee9">info</a>.journal.contains({fifo::journal_entry::Op::create, new_head_part_num}) ||</div>
<div class="line"><span class="lineno">  841</span>            <a class="code hl_variable" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html#ac39e05a390f49314efc600e47135eee9">info</a>.journal.contains({fifo::journal_entry::Op::set_head, new_head_part_num}));</div>
<div class="line"><span class="lineno">  842</span>      version = <a class="code hl_variable" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html#ac39e05a390f49314efc600e47135eee9">info</a>.version;</div>
<div class="line"><span class="lineno">  843</span>      <span class="keywordflow">if</span> ((<a class="code hl_variable" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html#ac39e05a390f49314efc600e47135eee9">info</a>.head_part_num &gt;= new_head_part_num)) {</div>
<div class="line"><span class="lineno">  844</span>    ldpp_dout(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>, 20) &lt;&lt; __PRETTY_FUNCTION__ &lt;&lt; <span class="stringliteral">&quot;:&quot;</span> &lt;&lt; __LINE__</div>
<div class="line"><span class="lineno">  845</span>               &lt;&lt; <span class="stringliteral">&quot; raced, but journaled and processed: i=&quot;</span> &lt;&lt; i</div>
<div class="line"><span class="lineno">  846</span>               &lt;&lt; <span class="stringliteral">&quot; tid=&quot;</span> &lt;&lt; <a class="code hl_variable" href="cls__fifo__legacy_8cc.html#ab35eff139cb790487ef1520b2446d3f7">tid</a> &lt;&lt; dendl;</div>
<div class="line"><span class="lineno">  847</span>    <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">  848</span>      }</div>
<div class="line"><span class="lineno">  849</span>      <span class="keywordflow">if</span> (found) {</div>
<div class="line"><span class="lineno">  850</span>    ldpp_dout(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>, 20) &lt;&lt; __PRETTY_FUNCTION__ &lt;&lt; <span class="stringliteral">&quot;:&quot;</span> &lt;&lt; __LINE__</div>
<div class="line"><span class="lineno">  851</span>               &lt;&lt; <span class="stringliteral">&quot; raced, journaled but not processed: i=&quot;</span> &lt;&lt; i</div>
<div class="line"><span class="lineno">  852</span>               &lt;&lt; <span class="stringliteral">&quot; tid=&quot;</span> &lt;&lt; <a class="code hl_variable" href="cls__fifo__legacy_8cc.html#ab35eff139cb790487ef1520b2446d3f7">tid</a> &lt;&lt; dendl;</div>
<div class="line"><span class="lineno">  853</span>    canceled = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  854</span>      }</div>
<div class="line"><span class="lineno">  855</span>      l.unlock();</div>
<div class="line"><span class="lineno">  856</span>    }</div>
<div class="line"><span class="lineno">  857</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="rgw__aio_8cc.html#ae38055824c6eac64615832ad9d888539">r</a> &lt; 0) {</div>
<div class="line"><span class="lineno">  858</span>      ldpp_dout(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>, -1) &lt;&lt; __PRETTY_FUNCTION__ &lt;&lt; <span class="stringliteral">&quot;:&quot;</span> &lt;&lt; __LINE__</div>
<div class="line"><span class="lineno">  859</span>         &lt;&lt; <span class="stringliteral">&quot; _update_meta failed: update=&quot;</span> &lt;&lt; u &lt;&lt; <span class="stringliteral">&quot; r=&quot;</span> &lt;&lt; <a class="code hl_variable" href="rgw__aio_8cc.html#ae38055824c6eac64615832ad9d888539">r</a></div>
<div class="line"><span class="lineno">  860</span>         &lt;&lt; <span class="stringliteral">&quot; tid=&quot;</span> &lt;&lt; <a class="code hl_variable" href="cls__fifo__legacy_8cc.html#ab35eff139cb790487ef1520b2446d3f7">tid</a> &lt;&lt; dendl;</div>
<div class="line"><span class="lineno">  861</span>      <span class="keywordflow">return</span> <a class="code hl_variable" href="rgw__aio_8cc.html#ae38055824c6eac64615832ad9d888539">r</a>;</div>
<div class="line"><span class="lineno">  862</span>    }</div>
<div class="line"><span class="lineno">  863</span>  }</div>
<div class="line"><span class="lineno">  864</span>  <span class="keywordflow">if</span> (canceled) {</div>
<div class="line"><span class="lineno">  865</span>    ldpp_dout(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>, -1) &lt;&lt; __PRETTY_FUNCTION__ &lt;&lt; <span class="stringliteral">&quot;:&quot;</span> &lt;&lt; __LINE__</div>
<div class="line"><span class="lineno">  866</span>           &lt;&lt; <span class="stringliteral">&quot; canceled too many times, giving up: tid=&quot;</span> &lt;&lt; <a class="code hl_variable" href="cls__fifo__legacy_8cc.html#ab35eff139cb790487ef1520b2446d3f7">tid</a> &lt;&lt; dendl;</div>
<div class="line"><span class="lineno">  867</span>    <span class="keywordflow">return</span> -ECANCELED;</div>
<div class="line"><span class="lineno">  868</span>  }</div>
<div class="line"><span class="lineno">  869</span>  <a class="code hl_variable" href="rgw__aio_8cc.html#ae38055824c6eac64615832ad9d888539">r</a> = <a class="code hl_function" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html#a1183904fcb363500f021b6ecf9f58d29">process_journal</a>(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>, <a class="code hl_variable" href="cls__fifo__legacy_8cc.html#ab35eff139cb790487ef1520b2446d3f7">tid</a>, y);</div>
<div class="line"><span class="lineno">  870</span>  <span class="keywordflow">if</span> (<a class="code hl_variable" href="rgw__aio_8cc.html#ae38055824c6eac64615832ad9d888539">r</a> &lt; 0) {</div>
<div class="line"><span class="lineno">  871</span>    ldpp_dout(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>, -1) &lt;&lt; __PRETTY_FUNCTION__ &lt;&lt; <span class="stringliteral">&quot;:&quot;</span> &lt;&lt; __LINE__</div>
<div class="line"><span class="lineno">  872</span>           &lt;&lt; <span class="stringliteral">&quot; process_journal failed: r=&quot;</span> &lt;&lt; <a class="code hl_variable" href="rgw__aio_8cc.html#ae38055824c6eac64615832ad9d888539">r</a> &lt;&lt; <span class="stringliteral">&quot; tid=&quot;</span> &lt;&lt; <a class="code hl_variable" href="cls__fifo__legacy_8cc.html#ab35eff139cb790487ef1520b2446d3f7">tid</a> &lt;&lt; dendl;</div>
<div class="line"><span class="lineno">  873</span>  }</div>
<div class="line"><span class="lineno">  874</span>  <span class="keywordflow">return</span> <a class="code hl_variable" href="rgw__aio_8cc.html#ae38055824c6eac64615832ad9d888539">r</a>;</div>
<div class="line"><span class="lineno">  875</span>}</div>
<div class="ttc" id="aclassrgw_1_1cls_1_1fifo_1_1_f_i_f_o_html_a1183904fcb363500f021b6ecf9f58d29"><div class="ttname"><a href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html#a1183904fcb363500f021b6ecf9f58d29">rgw::cls::fifo::FIFO::process_journal</a></div><div class="ttdeci">int process_journal(const DoutPrefixProvider *dpp, std::uint64_t tid, optional_yield y)</div><div class="ttdef"><b>Definition</b> <a href="cls__fifo__legacy_8cc_source.html#l00596">cls_fifo_legacy.cc:596</a></div></div>
<div class="ttc" id="anamespacergw_1_1cls_1_1fifo_html_a933975517fc01392747c3e4269c249a6"><div class="ttname"><a href="namespacergw_1_1cls_1_1fifo.html#a933975517fc01392747c3e4269c249a6">rgw::cls::fifo::MAX_RACE_RETRIES</a></div><div class="ttdeci">constexpr auto MAX_RACE_RETRIES</div><div class="ttdef"><b>Definition</b> <a href="cls__fifo__legacy_8cc_source.html#l00044">cls_fifo_legacy.cc:44</a></div></div>
<div class="ttc" id="argw__aio_8cc_html_ae38055824c6eac64615832ad9d888539"><div class="ttname"><a href="rgw__aio_8cc.html#ae38055824c6eac64615832ad9d888539">r</a></div><div class="ttdeci">AioResult &amp; r</div><div class="ttdef"><b>Definition</b> <a href="rgw__aio_8cc_source.html#l00067">rgw_aio.cc:67</a></div></div>
</div><!-- fragment --><div class="dynheader">
이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o_adaf8b9d5a771ad7b704328dea8156446_cgraph.png" border="0" usemap="#aclassrgw_1_1cls_1_1fifo_1_1_f_i_f_o_adaf8b9d5a771ad7b704328dea8156446_cgraph" alt=""/></div>
<map name="aclassrgw_1_1cls_1_1fifo_1_1_f_i_f_o_adaf8b9d5a771ad7b704328dea8156446_cgraph" id="aclassrgw_1_1cls_1_1fifo_1_1_f_i_f_o_adaf8b9d5a771ad7b704328dea8156446_cgraph">
<area shape="rect" title=" " alt="" coords="5,287,150,330"/>
<area shape="rect" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html#a5b962aff7e9ff729f83b709e1bba6d13" title=" " alt="" coords="198,317,336,359"/>
<area shape="poly" title=" " alt="" coords="150,317,182,322,182,328,150,323"/>
<area shape="rect" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html#aba781c2176312b28522495f0021ba590" title=" " alt="" coords="559,283,687,326"/>
<area shape="poly" title=" " alt="" coords="150,303,198,302,511,301,544,301,544,306,511,306,198,307,150,309"/>
<area shape="rect" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5" title=" " alt="" coords="1289,221,1331,247"/>
<area shape="poly" title=" " alt="" coords="89,286,137,212,173,166,216,119,265,75,321,38,381,13,413,6,446,3,987,3,1064,3,1125,7,1153,14,1182,26,1211,43,1243,68,1269,99,1288,136,1300,173,1307,205,1302,206,1295,174,1283,138,1265,102,1239,72,1208,48,1179,30,1152,19,1124,12,1064,8,988,9,446,9,414,11,383,18,323,43,268,79,219,122,177,169,141,215,93,288"/>
<area shape="rect" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html#a1183904fcb363500f021b6ecf9f58d29" title=" " alt="" coords="384,413,511,455"/>
<area shape="poly" title=" " alt="" coords="116,328,155,349,199,369,286,397,369,417,368,422,285,402,197,374,153,354,113,333"/>
<area shape="poly" title=" " alt="" coords="336,329,544,309,544,315,337,334"/>
<area shape="poly" title=" " alt="" coords="279,315,326,246,361,204,402,160,450,119,503,86,560,63,590,56,622,54,987,54,1063,54,1123,58,1151,65,1179,76,1242,115,1263,135,1280,158,1302,205,1297,207,1275,161,1259,138,1239,119,1177,81,1149,70,1122,63,1063,59,988,59,622,59,591,62,562,68,505,90,453,124,406,164,365,207,330,250,283,318"/>
<area shape="poly" title=" " alt="" coords="310,358,394,403,392,408,307,362"/>
<area shape="rect" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html#ae9b671fb0e801459fa35a4982053047c" title=" " alt="" coords="735,169,862,211"/>
<area shape="poly" title=" " alt="" coords="656,281,750,218,753,222,659,285"/>
<area shape="poly" title=" " alt="" coords="631,282,645,252,668,216,697,181,733,154,804,121,868,98,928,85,986,81,1044,88,1105,103,1170,126,1242,158,1272,180,1294,206,1290,210,1268,184,1239,163,1168,131,1103,108,1043,93,986,87,929,90,870,103,806,126,736,159,701,185,672,219,650,254,635,284"/>
<area shape="rect" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html#a767e397207c78989f0e0ebcef3252d78" title="Force refresh of metadata, yielding/blocking style" alt="" coords="735,283,862,326"/>
<area shape="poly" title=" " alt="" coords="687,302,719,302,719,307,687,307"/>
<area shape="rect" href="rgw__tools_8cc.html#ac8fd9a95626d93661d7280c9455eba5c" title="perform the rados operation, using the yield context when given" alt="" coords="1110,446,1241,473"/>
<area shape="poly" title=" " alt="" coords="688,322,735,336,899,377,1063,420,1121,438,1120,443,1062,425,898,382,734,341,686,327"/>
<area shape="poly" title=" " alt="" coords="862,176,940,167,1036,163,1139,168,1191,175,1242,188,1263,197,1283,209,1280,213,1261,201,1240,193,1190,181,1139,173,1036,168,940,173,863,182"/>
<area shape="poly" title=" " alt="" coords="862,289,977,267,1110,246,1273,233,1273,238,1111,251,978,272,863,294"/>
<area shape="rect" href="namespacergw_1_1cls_1_1fifo.html#a467406e6496bef3cfca16fa6eaf7ba28" title=" " alt="" coords="910,321,1062,347"/>
<area shape="poly" title=" " alt="" coords="863,312,895,317,894,322,862,317"/>
<area shape="poly" title=" " alt="" coords="1018,318,1109,282,1198,257,1273,239,1274,244,1199,262,1111,287,1020,323"/>
<area shape="rect" href="namespacergw.html#a49e77e75ed539fdbde0dcc092bb76467" title=" " alt="" coords="1130,321,1221,347"/>
<area shape="poly" title=" " alt="" coords="1063,331,1114,331,1114,337,1063,337"/>
<area shape="rect" href="namespacergw.html#a34a5757756e9618325f611b073ccd448" title=" " alt="" coords="1130,395,1221,422"/>
<area shape="poly" title=" " alt="" coords="1023,345,1127,387,1125,392,1021,350"/>
<area shape="poly" title=" " alt="" coords="1027,346,1064,368,1080,385,1088,401,1097,417,1112,432,1118,436,1115,441,1109,436,1093,420,1084,404,1075,388,1061,372,1024,350"/>
<area shape="poly" title=" " alt="" coords="1152,321,1148,312,1151,303,1160,296,1176,294,1192,297,1201,303,1198,308,1190,302,1175,299,1162,301,1155,306,1153,312,1157,319"/>
<area shape="poly" title=" " alt="" coords="1152,396,1148,387,1151,377,1160,371,1176,369,1192,371,1201,378,1198,382,1190,376,1175,374,1162,376,1155,380,1153,386,1157,394"/>
<area shape="poly" title=" " alt="" coords="1223,444,1239,432,1267,392,1286,345,1298,300,1304,262,1309,263,1303,301,1291,347,1272,394,1243,436,1227,448"/>
<area shape="poly" title=" " alt="" coords="477,410,579,333,583,337,480,414"/>
<area shape="poly" title=" " alt="" coords="474,454,528,498,605,549,650,572,697,591,747,604,797,609,988,609,1065,610,1127,606,1155,599,1182,587,1210,568,1239,542,1252,521,1264,491,1283,413,1296,330,1303,263,1309,263,1301,330,1288,414,1269,493,1257,524,1243,545,1213,573,1185,592,1157,604,1128,612,1065,615,987,614,797,614,746,609,696,596,648,577,602,554,525,502,471,458"/>
<area shape="rect" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html#a8e9d27e0bfcef221c264d48a277a6961" title=" " alt="" coords="923,434,1050,477"/>
<area shape="poly" title=" " alt="" coords="512,434,907,450,907,455,511,439"/>
<area shape="rect" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html#aea9becd936635377461013178aecdbed" title=" " alt="" coords="923,501,1050,543"/>
<area shape="poly" title=" " alt="" coords="512,442,908,507,907,512,511,447"/>
<area shape="poly" title=" " alt="" coords="1051,470,1104,482,1159,490,1208,492,1226,489,1239,483,1251,468,1262,446,1281,385,1294,318,1302,262,1308,263,1299,319,1286,387,1267,448,1256,471,1242,487,1228,494,1208,497,1159,496,1103,487,1050,475"/>
<area shape="poly" title=" " alt="" coords="1050,454,1095,455,1095,460,1050,459"/>
<area shape="poly" title=" " alt="" coords="1051,532,1097,536,1147,534,1196,522,1219,512,1239,497,1251,482,1262,457,1281,392,1294,321,1303,263,1308,263,1300,322,1286,394,1267,459,1256,484,1243,501,1221,516,1198,527,1147,539,1096,542,1050,538"/>
<area shape="poly" title=" " alt="" coords="1049,499,1117,476,1119,481,1051,504"/>
</map>
</div>
<div class="dynheader">
이 함수를 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o_adaf8b9d5a771ad7b704328dea8156446_icgraph.png" border="0" usemap="#aclassrgw_1_1cls_1_1fifo_1_1_f_i_f_o_adaf8b9d5a771ad7b704328dea8156446_icgraph" alt=""/></div>
<map name="aclassrgw_1_1cls_1_1fifo_1_1_f_i_f_o_adaf8b9d5a771ad7b704328dea8156446_icgraph" id="aclassrgw_1_1cls_1_1fifo_1_1_f_i_f_o_adaf8b9d5a771ad7b704328dea8156446_icgraph">
<area shape="rect" title=" " alt="" coords="380,39,524,81"/>
<area shape="rect" href="structrgw_1_1cls_1_1fifo_1_1_pusher.html#aa31861b769b07bfba149c0da14a051d3" title=" " alt="" coords="193,5,332,48"/>
<area shape="poly" title=" " alt="" coords="364,47,332,42,333,36,365,42"/>
<area shape="rect" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html#a6789013559e6332545632da406591905" title="Push entries to the FIFO" alt="" coords="199,72,326,115"/>
<area shape="poly" title=" " alt="" coords="365,78,327,85,326,80,364,73"/>
<area shape="rect" href="structrgw_1_1cls_1_1fifo_1_1_pusher.html#a9eb943fbddd67a9be022e380e187c2e9" title=" " alt="" coords="5,5,145,48"/>
<area shape="poly" title=" " alt="" coords="177,29,145,29,145,24,177,24"/>
</map>
</div>

</div>
</div>
<a id="aec8b6a339b01a90706117af46da93abf" name="aec8b6a339b01a90706117af46da93abf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aec8b6a339b01a90706117af46da93abf">&#9670;&#160;</a></span>_prepare_new_part() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void rgw::cls::fifo::FIFO::_prepare_new_part </td>
          <td>(</td>
          <td class="paramtype">const DoutPrefixProvider *&#160;</td>
          <td class="paramname"><em>dpp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::int64_t&#160;</td>
          <td class="paramname"><em>new_part_num</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>is_head</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::uint64_t&#160;</td>
          <td class="paramname"><em>tid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">lr::AioCompletion *&#160;</td>
          <td class="paramname"><em>c</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition"><a class="el" href="cls__fifo__legacy_8cc_source.html">cls_fifo_legacy.cc</a> 파일의 <a class="el" href="cls__fifo__legacy_8cc_source.html#l00942">942</a> 번째 라인에서 정의되었습니다.</p>
<div class="fragment"><div class="line"><span class="lineno">  944</span>{</div>
<div class="line"><span class="lineno">  945</span>  std::unique_lock l(<a class="code hl_variable" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html#af2b6bcbdfba97260e576ff4a72d8ba49">m</a>);</div>
<div class="line"><span class="lineno">  946</span>  std::vector&lt;fifo::journal_entry&gt; jentries{{fifo::journal_entry::Op::create, new_part_num}};</div>
<div class="line"><span class="lineno">  947</span>  <span class="keywordflow">if</span> (<a class="code hl_variable" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html#ac39e05a390f49314efc600e47135eee9">info</a>.journal.contains({fifo::journal_entry::Op::create, new_part_num}) &amp;&amp;</div>
<div class="line"><span class="lineno">  948</span>      (!is_head || <a class="code hl_variable" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html#ac39e05a390f49314efc600e47135eee9">info</a>.journal.contains({fifo::journal_entry::Op::set_head, new_part_num}))) {</div>
<div class="line"><span class="lineno">  949</span>    l.unlock();</div>
<div class="line"><span class="lineno">  950</span>    ldpp_dout(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>, 5) &lt;&lt; __PRETTY_FUNCTION__ &lt;&lt; <span class="stringliteral">&quot;:&quot;</span> &lt;&lt; __LINE__</div>
<div class="line"><span class="lineno">  951</span>          &lt;&lt; <span class="stringliteral">&quot; new part journaled, but not processed: tid=&quot;</span></div>
<div class="line"><span class="lineno">  952</span>          &lt;&lt; <a class="code hl_variable" href="cls__fifo__legacy_8cc.html#ab35eff139cb790487ef1520b2446d3f7">tid</a> &lt;&lt; dendl;</div>
<div class="line"><span class="lineno">  953</span>    <a class="code hl_function" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html#a1183904fcb363500f021b6ecf9f58d29">process_journal</a>(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>, <a class="code hl_variable" href="cls__fifo__legacy_8cc.html#ab35eff139cb790487ef1520b2446d3f7">tid</a>, <a class="code hl_variable" href="rgw__aio_8cc.html#af3997c9b015c5696191674621076ae50">c</a>);</div>
<div class="line"><span class="lineno">  954</span>    <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  955</span>  }</div>
<div class="line"><span class="lineno">  956</span>  <span class="keyword">auto</span> version = <a class="code hl_variable" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html#ac39e05a390f49314efc600e47135eee9">info</a>.version;</div>
<div class="line"><span class="lineno">  957</span> </div>
<div class="line"><span class="lineno">  958</span>  <span class="keywordflow">if</span> (is_head) {</div>
<div class="line"><span class="lineno">  959</span>    jentries.push_back({ fifo::journal_entry::Op::set_head, new_part_num });</div>
<div class="line"><span class="lineno">  960</span>  }</div>
<div class="line"><span class="lineno">  961</span>  l.unlock();</div>
<div class="line"><span class="lineno">  962</span> </div>
<div class="line"><span class="lineno">  963</span>  <span class="keyword">auto</span> n = std::make_unique&lt;NewPartPreparer&gt;(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>, <span class="keyword">this</span>, <a class="code hl_variable" href="rgw__aio_8cc.html#af3997c9b015c5696191674621076ae50">c</a>, jentries,</div>
<div class="line"><span class="lineno">  964</span>                         new_part_num, <a class="code hl_variable" href="cls__fifo__legacy_8cc.html#ab35eff139cb790487ef1520b2446d3f7">tid</a>);</div>
<div class="line"><span class="lineno">  965</span>  <span class="keyword">auto</span> np = n.get();</div>
<div class="line"><span class="lineno">  966</span>  <a class="code hl_function" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html#aba781c2176312b28522495f0021ba590">_update_meta</a>(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>, fifo::update{}.journal_entries_add(jentries), version,</div>
<div class="line"><span class="lineno">  967</span>           &amp;np-&gt;canceled, <a class="code hl_variable" href="cls__fifo__legacy_8cc.html#ab35eff139cb790487ef1520b2446d3f7">tid</a>, <a class="code hl_function" href="structrgw_1_1cls_1_1fifo_1_1_completion.html#a35c552581b3e840b33621734133dc2e3">NewPartPreparer::call</a>(std::move(n)));</div>
<div class="line"><span class="lineno">  968</span>}</div>
</div><!-- fragment --><div class="dynheader">
이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o_aec8b6a339b01a90706117af46da93abf_cgraph.png" border="0" usemap="#aclassrgw_1_1cls_1_1fifo_1_1_f_i_f_o_aec8b6a339b01a90706117af46da93abf_cgraph" alt=""/></div>
<map name="aclassrgw_1_1cls_1_1fifo_1_1_f_i_f_o_aec8b6a339b01a90706117af46da93abf_cgraph" id="aclassrgw_1_1cls_1_1fifo_1_1_f_i_f_o_aec8b6a339b01a90706117af46da93abf_cgraph">
<area shape="rect" title=" " alt="" coords="5,343,144,386"/>
<area shape="rect" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html#aba781c2176312b28522495f0021ba590" title=" " alt="" coords="411,292,538,335"/>
<area shape="poly" title=" " alt="" coords="144,353,395,321,396,326,145,358"/>
<area shape="rect" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5" title=" " alt="" coords="1140,195,1183,222"/>
<area shape="poly" title=" " alt="" coords="84,341,133,256,171,200,217,143,271,90,332,45,365,28,399,15,436,6,473,3,839,3,915,3,976,8,1004,16,1032,28,1094,69,1117,94,1135,123,1156,179,1151,181,1130,126,1113,97,1091,73,1030,32,1002,21,975,14,915,8,839,8,473,8,437,11,401,20,367,33,335,50,274,94,221,147,175,203,137,259,89,344"/>
<area shape="rect" href="structrgw_1_1cls_1_1fifo_1_1_completion.html#a35c552581b3e840b33621734133dc2e3" title=" " alt="" coords="192,439,363,482"/>
<area shape="poly" title=" " alt="" coords="115,384,193,425,205,430,203,435,191,430,112,389"/>
<area shape="rect" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html#a1183904fcb363500f021b6ecf9f58d29" title=" " alt="" coords="214,372,341,415"/>
<area shape="poly" title=" " alt="" coords="145,372,199,380,198,385,144,377"/>
<area shape="rect" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html#ae9b671fb0e801459fa35a4982053047c" title=" " alt="" coords="586,144,714,187"/>
<area shape="poly" title=" " alt="" coords="500,290,610,196,613,200,503,294"/>
<area shape="poly" title=" " alt="" coords="480,291,493,255,515,211,545,167,564,147,585,130,629,108,669,101,710,102,761,101,857,86,933,71,970,69,1007,72,1048,84,1094,105,1114,120,1130,139,1152,179,1148,182,1126,142,1110,124,1091,109,1046,89,1006,78,970,74,934,77,857,91,762,106,710,107,669,106,631,113,588,135,567,151,549,170,520,214,498,258,485,293"/>
<area shape="rect" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html#a767e397207c78989f0e0ebcef3252d78" title="Force refresh of metadata, yielding/blocking style" alt="" coords="586,263,714,306"/>
<area shape="poly" title=" " alt="" coords="538,301,571,295,572,300,539,306"/>
<area shape="rect" href="rgw__tools_8cc.html#ac8fd9a95626d93661d7280c9455eba5c" title="perform the rados operation, using the yield context when given" alt="" coords="962,395,1092,422"/>
<area shape="poly" title=" " alt="" coords="539,317,709,336,812,351,915,371,973,387,972,393,913,376,811,357,709,341,539,322"/>
<area shape="poly" title=" " alt="" coords="714,143,792,123,889,110,941,108,993,112,1044,121,1093,137,1123,156,1145,181,1141,184,1119,160,1091,142,1043,126,992,117,941,114,889,115,793,129,715,148"/>
<area shape="poly" title=" " alt="" coords="713,261,828,229,895,214,962,203,1027,200,1092,203,1125,204,1125,210,1092,208,1027,205,962,208,896,219,829,234,715,266"/>
<area shape="rect" href="namespacergw_1_1cls_1_1fifo.html#a467406e6496bef3cfca16fa6eaf7ba28" title=" " alt="" coords="762,271,914,298"/>
<area shape="poly" title=" " alt="" coords="714,282,746,282,746,287,714,287"/>
<area shape="poly" title=" " alt="" coords="866,268,910,249,961,231,1049,215,1125,208,1126,213,1050,220,963,236,912,254,868,273"/>
<area shape="rect" href="namespacergw.html#a49e77e75ed539fdbde0dcc092bb76467" title=" " alt="" coords="982,270,1073,296"/>
<area shape="poly" title=" " alt="" coords="915,281,966,281,966,286,915,287"/>
<area shape="rect" href="namespacergw.html#a34a5757756e9618325f611b073ccd448" title=" " alt="" coords="982,344,1073,371"/>
<area shape="poly" title=" " alt="" coords="876,296,977,336,975,341,874,301"/>
<area shape="poly" title=" " alt="" coords="869,296,916,326,930,341,940,355,949,368,964,381,971,386,968,390,960,385,945,371,935,358,926,345,912,331,866,301"/>
<area shape="poly" title=" " alt="" coords="1003,270,999,261,1002,252,1012,245,1027,243,1044,246,1053,252,1049,257,1042,251,1027,248,1014,250,1006,255,1005,261,1008,268"/>
<area shape="poly" title=" " alt="" coords="1003,345,999,336,1002,326,1012,320,1027,318,1044,320,1053,327,1049,331,1042,325,1027,323,1014,325,1006,330,1005,335,1008,343"/>
<area shape="poly" title=" " alt="" coords="1075,392,1090,381,1116,347,1134,308,1147,270,1154,237,1159,238,1152,271,1139,310,1121,350,1094,385,1078,397"/>
<area shape="poly" title=" " alt="" coords="331,370,405,339,407,344,333,374"/>
<area shape="poly" title=" " alt="" coords="337,413,364,425,408,446,444,469,503,512,532,531,564,545,602,554,649,558,839,558,916,560,978,560,1006,555,1033,545,1061,528,1090,503,1103,484,1115,456,1134,382,1147,302,1155,237,1160,238,1152,303,1139,383,1120,457,1108,486,1094,506,1064,532,1036,550,1007,560,979,566,916,566,839,563,649,563,601,560,562,550,529,535,500,517,441,474,405,451,362,430,335,418"/>
<area shape="rect" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html#a8e9d27e0bfcef221c264d48a277a6961" title=" " alt="" coords="774,386,902,428"/>
<area shape="poly" title=" " alt="" coords="342,393,759,403,759,408,342,398"/>
<area shape="rect" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html#aea9becd936635377461013178aecdbed" title=" " alt="" coords="774,452,902,495"/>
<area shape="poly" title=" " alt="" coords="342,400,759,460,758,465,341,405"/>
<area shape="poly" title=" " alt="" coords="886,427,933,443,987,454,1014,455,1042,453,1067,445,1091,432,1111,412,1127,389,1139,364,1148,336,1157,282,1159,237,1164,238,1162,283,1153,338,1144,366,1132,392,1115,416,1094,436,1069,450,1043,458,1015,461,986,460,931,448,884,432"/>
<area shape="poly" title=" " alt="" coords="902,405,946,405,946,411,902,410"/>
<area shape="poly" title=" " alt="" coords="902,488,948,494,998,495,1047,485,1070,476,1091,463,1103,448,1114,425,1132,362,1146,294,1154,237,1159,238,1151,295,1138,364,1119,426,1107,450,1094,466,1072,481,1049,491,999,500,948,500,902,493"/>
<area shape="poly" title=" " alt="" coords="901,449,971,425,972,430,903,454"/>
</map>
</div>

</div>
</div>
<a id="a5b962aff7e9ff729f83b709e1bba6d13" name="a5b962aff7e9ff729f83b709e1bba6d13"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5b962aff7e9ff729f83b709e1bba6d13">&#9670;&#160;</a></span>_prepare_new_part() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int rgw::cls::fifo::FIFO::_prepare_new_part </td>
          <td>(</td>
          <td class="paramtype">const DoutPrefixProvider *&#160;</td>
          <td class="paramname"><em>dpp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::int64_t&#160;</td>
          <td class="paramname"><em>new_part_num</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>is_head</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::uint64_t&#160;</td>
          <td class="paramname"><em>tid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">optional_yield&#160;</td>
          <td class="paramname"><em>y</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition"><a class="el" href="cls__fifo__legacy_8cc_source.html">cls_fifo_legacy.cc</a> 파일의 <a class="el" href="cls__fifo__legacy_8cc_source.html#l00715">715</a> 번째 라인에서 정의되었습니다.</p>
<div class="fragment"><div class="line"><span class="lineno">  718</span>{</div>
<div class="line"><span class="lineno">  719</span>  ldpp_dout(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>, 20) &lt;&lt; __PRETTY_FUNCTION__ &lt;&lt; <span class="stringliteral">&quot;:&quot;</span> &lt;&lt; __LINE__</div>
<div class="line"><span class="lineno">  720</span>         &lt;&lt; <span class="stringliteral">&quot; entering: tid=&quot;</span> &lt;&lt; <a class="code hl_variable" href="cls__fifo__legacy_8cc.html#ab35eff139cb790487ef1520b2446d3f7">tid</a> &lt;&lt; dendl;</div>
<div class="line"><span class="lineno">  721</span>  std::unique_lock l(<a class="code hl_variable" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html#af2b6bcbdfba97260e576ff4a72d8ba49">m</a>);</div>
<div class="line"><span class="lineno">  722</span>  std::vector&lt;fifo::journal_entry&gt; jentries{{ fifo::journal_entry::Op::create, new_part_num }};</div>
<div class="line"><span class="lineno">  723</span>  <span class="keywordflow">if</span> (<a class="code hl_variable" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html#ac39e05a390f49314efc600e47135eee9">info</a>.journal.contains({fifo::journal_entry::Op::create, new_part_num}) &amp;&amp;</div>
<div class="line"><span class="lineno">  724</span>      (!is_head || <a class="code hl_variable" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html#ac39e05a390f49314efc600e47135eee9">info</a>.journal.contains({fifo::journal_entry::Op::set_head, new_part_num}))) {</div>
<div class="line"><span class="lineno">  725</span>    l.unlock();</div>
<div class="line"><span class="lineno">  726</span>    ldpp_dout(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>, 5) &lt;&lt; __PRETTY_FUNCTION__ &lt;&lt; <span class="stringliteral">&quot;:&quot;</span> &lt;&lt; __LINE__</div>
<div class="line"><span class="lineno">  727</span>          &lt;&lt; <span class="stringliteral">&quot; new part journaled, but not processed: tid=&quot;</span></div>
<div class="line"><span class="lineno">  728</span>          &lt;&lt; <a class="code hl_variable" href="cls__fifo__legacy_8cc.html#ab35eff139cb790487ef1520b2446d3f7">tid</a> &lt;&lt; dendl;</div>
<div class="line"><span class="lineno">  729</span>    <span class="keyword">auto</span> <a class="code hl_variable" href="rgw__aio_8cc.html#ae38055824c6eac64615832ad9d888539">r</a> = <a class="code hl_function" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html#a1183904fcb363500f021b6ecf9f58d29">process_journal</a>(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>, <a class="code hl_variable" href="cls__fifo__legacy_8cc.html#ab35eff139cb790487ef1520b2446d3f7">tid</a>, y);</div>
<div class="line"><span class="lineno">  730</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="rgw__aio_8cc.html#ae38055824c6eac64615832ad9d888539">r</a> &lt; 0) {</div>
<div class="line"><span class="lineno">  731</span>      ldpp_dout(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>, -1) &lt;&lt; __PRETTY_FUNCTION__ &lt;&lt; <span class="stringliteral">&quot;:&quot;</span> &lt;&lt; __LINE__</div>
<div class="line"><span class="lineno">  732</span>         &lt;&lt; <span class="stringliteral">&quot; process_journal failed: r=&quot;</span> &lt;&lt; <a class="code hl_variable" href="rgw__aio_8cc.html#ae38055824c6eac64615832ad9d888539">r</a> &lt;&lt; <span class="stringliteral">&quot; tid=&quot;</span> &lt;&lt; <a class="code hl_variable" href="cls__fifo__legacy_8cc.html#ab35eff139cb790487ef1520b2446d3f7">tid</a> &lt;&lt; dendl;</div>
<div class="line"><span class="lineno">  733</span>    }</div>
<div class="line"><span class="lineno">  734</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="rgw__aio_8cc.html#ae38055824c6eac64615832ad9d888539">r</a>;</div>
<div class="line"><span class="lineno">  735</span>  }</div>
<div class="line"><span class="lineno">  736</span>  <span class="keyword">auto</span> version = <a class="code hl_variable" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html#ac39e05a390f49314efc600e47135eee9">info</a>.version;</div>
<div class="line"><span class="lineno">  737</span> </div>
<div class="line"><span class="lineno">  738</span>  <span class="keywordflow">if</span> (is_head) {</div>
<div class="line"><span class="lineno">  739</span>    ldpp_dout(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>, 20) &lt;&lt; __PRETTY_FUNCTION__ &lt;&lt; <span class="stringliteral">&quot;:&quot;</span> &lt;&lt; __LINE__</div>
<div class="line"><span class="lineno">  740</span>           &lt;&lt; <span class="stringliteral">&quot; needs new head: tid=&quot;</span> &lt;&lt; <a class="code hl_variable" href="cls__fifo__legacy_8cc.html#ab35eff139cb790487ef1520b2446d3f7">tid</a> &lt;&lt; dendl;</div>
<div class="line"><span class="lineno">  741</span>    jentries.push_back({ fifo::journal_entry::Op::set_head, new_part_num });</div>
<div class="line"><span class="lineno">  742</span>  }</div>
<div class="line"><span class="lineno">  743</span>  l.unlock();</div>
<div class="line"><span class="lineno">  744</span> </div>
<div class="line"><span class="lineno">  745</span>  <span class="keywordtype">int</span> <a class="code hl_variable" href="rgw__aio_8cc.html#ae38055824c6eac64615832ad9d888539">r</a> = 0;</div>
<div class="line"><span class="lineno">  746</span>  <span class="keywordtype">bool</span> canceled = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  747</span>  <span class="keywordflow">for</span> (<span class="keyword">auto</span> i = 0; canceled &amp;&amp; i &lt; <a class="code hl_variable" href="namespacergw_1_1cls_1_1fifo.html#a933975517fc01392747c3e4269c249a6">MAX_RACE_RETRIES</a>; ++i) {</div>
<div class="line"><span class="lineno">  748</span>    canceled = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  749</span>    ldpp_dout(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>, 20) &lt;&lt; __PRETTY_FUNCTION__ &lt;&lt; <span class="stringliteral">&quot;:&quot;</span> &lt;&lt; __LINE__</div>
<div class="line"><span class="lineno">  750</span>           &lt;&lt; <span class="stringliteral">&quot; updating metadata: i=&quot;</span> &lt;&lt; i &lt;&lt; <span class="stringliteral">&quot; tid=&quot;</span> &lt;&lt; <a class="code hl_variable" href="cls__fifo__legacy_8cc.html#ab35eff139cb790487ef1520b2446d3f7">tid</a> &lt;&lt; dendl;</div>
<div class="line"><span class="lineno">  751</span>    <span class="keyword">auto</span> u = fifo::update{}.journal_entries_add(jentries);</div>
<div class="line"><span class="lineno">  752</span>    <a class="code hl_variable" href="rgw__aio_8cc.html#ae38055824c6eac64615832ad9d888539">r</a> = <a class="code hl_function" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html#aba781c2176312b28522495f0021ba590">_update_meta</a>(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>, u, version, &amp;canceled, <a class="code hl_variable" href="cls__fifo__legacy_8cc.html#ab35eff139cb790487ef1520b2446d3f7">tid</a>, y);</div>
<div class="line"><span class="lineno">  753</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="rgw__aio_8cc.html#ae38055824c6eac64615832ad9d888539">r</a> &gt;= 0 &amp;&amp; canceled) {</div>
<div class="line"><span class="lineno">  754</span>      std::unique_lock l(<a class="code hl_variable" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html#af2b6bcbdfba97260e576ff4a72d8ba49">m</a>);</div>
<div class="line"><span class="lineno">  755</span>      version = <a class="code hl_variable" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html#ac39e05a390f49314efc600e47135eee9">info</a>.version;</div>
<div class="line"><span class="lineno">  756</span>      <span class="keyword">auto</span> found = (<a class="code hl_variable" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html#ac39e05a390f49314efc600e47135eee9">info</a>.journal.contains({fifo::journal_entry::Op::create, new_part_num}) ||</div>
<div class="line"><span class="lineno">  757</span>            <a class="code hl_variable" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html#ac39e05a390f49314efc600e47135eee9">info</a>.journal.contains({fifo::journal_entry::Op::set_head, new_part_num}));</div>
<div class="line"><span class="lineno">  758</span>      <span class="keywordflow">if</span> ((<a class="code hl_variable" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html#ac39e05a390f49314efc600e47135eee9">info</a>.max_push_part_num &gt;= new_part_num &amp;&amp;</div>
<div class="line"><span class="lineno">  759</span>       <a class="code hl_variable" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html#ac39e05a390f49314efc600e47135eee9">info</a>.head_part_num &gt;= new_part_num)) {</div>
<div class="line"><span class="lineno">  760</span>    ldpp_dout(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>, 20) &lt;&lt; __PRETTY_FUNCTION__ &lt;&lt; <span class="stringliteral">&quot;:&quot;</span> &lt;&lt; __LINE__</div>
<div class="line"><span class="lineno">  761</span>               &lt;&lt; <span class="stringliteral">&quot; raced, but journaled and processed: i=&quot;</span> &lt;&lt; i</div>
<div class="line"><span class="lineno">  762</span>               &lt;&lt; <span class="stringliteral">&quot; tid=&quot;</span> &lt;&lt; <a class="code hl_variable" href="cls__fifo__legacy_8cc.html#ab35eff139cb790487ef1520b2446d3f7">tid</a> &lt;&lt; dendl;</div>
<div class="line"><span class="lineno">  763</span>    <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">  764</span>      }</div>
<div class="line"><span class="lineno">  765</span>      <span class="keywordflow">if</span> (found) {</div>
<div class="line"><span class="lineno">  766</span>    ldpp_dout(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>, 20) &lt;&lt; __PRETTY_FUNCTION__ &lt;&lt; <span class="stringliteral">&quot;:&quot;</span> &lt;&lt; __LINE__</div>
<div class="line"><span class="lineno">  767</span>               &lt;&lt; <span class="stringliteral">&quot; raced, journaled but not processed: i=&quot;</span> &lt;&lt; i</div>
<div class="line"><span class="lineno">  768</span>               &lt;&lt; <span class="stringliteral">&quot; tid=&quot;</span> &lt;&lt; <a class="code hl_variable" href="cls__fifo__legacy_8cc.html#ab35eff139cb790487ef1520b2446d3f7">tid</a> &lt;&lt; dendl;</div>
<div class="line"><span class="lineno">  769</span>    canceled = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  770</span>      }</div>
<div class="line"><span class="lineno">  771</span>      l.unlock();</div>
<div class="line"><span class="lineno">  772</span>    }</div>
<div class="line"><span class="lineno">  773</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="rgw__aio_8cc.html#ae38055824c6eac64615832ad9d888539">r</a> &lt; 0) {</div>
<div class="line"><span class="lineno">  774</span>      ldpp_dout(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>, -1) &lt;&lt; __PRETTY_FUNCTION__ &lt;&lt; <span class="stringliteral">&quot;:&quot;</span> &lt;&lt; __LINE__</div>
<div class="line"><span class="lineno">  775</span>         &lt;&lt; <span class="stringliteral">&quot; _update_meta failed: update=&quot;</span> &lt;&lt; u &lt;&lt; <span class="stringliteral">&quot; r=&quot;</span> &lt;&lt; <a class="code hl_variable" href="rgw__aio_8cc.html#ae38055824c6eac64615832ad9d888539">r</a></div>
<div class="line"><span class="lineno">  776</span>         &lt;&lt; <span class="stringliteral">&quot; tid=&quot;</span> &lt;&lt; <a class="code hl_variable" href="cls__fifo__legacy_8cc.html#ab35eff139cb790487ef1520b2446d3f7">tid</a> &lt;&lt; dendl;</div>
<div class="line"><span class="lineno">  777</span>      <span class="keywordflow">return</span> <a class="code hl_variable" href="rgw__aio_8cc.html#ae38055824c6eac64615832ad9d888539">r</a>;</div>
<div class="line"><span class="lineno">  778</span>    }</div>
<div class="line"><span class="lineno">  779</span>  }</div>
<div class="line"><span class="lineno">  780</span>  <span class="keywordflow">if</span> (canceled) {</div>
<div class="line"><span class="lineno">  781</span>    ldpp_dout(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>, -1) &lt;&lt; __PRETTY_FUNCTION__ &lt;&lt; <span class="stringliteral">&quot;:&quot;</span> &lt;&lt; __LINE__</div>
<div class="line"><span class="lineno">  782</span>           &lt;&lt; <span class="stringliteral">&quot; canceled too many times, giving up: tid=&quot;</span> &lt;&lt; <a class="code hl_variable" href="cls__fifo__legacy_8cc.html#ab35eff139cb790487ef1520b2446d3f7">tid</a> &lt;&lt; dendl;</div>
<div class="line"><span class="lineno">  783</span>    <span class="keywordflow">return</span> -ECANCELED;</div>
<div class="line"><span class="lineno">  784</span>  }</div>
<div class="line"><span class="lineno">  785</span>  <a class="code hl_variable" href="rgw__aio_8cc.html#ae38055824c6eac64615832ad9d888539">r</a> = <a class="code hl_function" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html#a1183904fcb363500f021b6ecf9f58d29">process_journal</a>(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>, <a class="code hl_variable" href="cls__fifo__legacy_8cc.html#ab35eff139cb790487ef1520b2446d3f7">tid</a>, y);</div>
<div class="line"><span class="lineno">  786</span>  <span class="keywordflow">if</span> (<a class="code hl_variable" href="rgw__aio_8cc.html#ae38055824c6eac64615832ad9d888539">r</a> &lt; 0) {</div>
<div class="line"><span class="lineno">  787</span>    ldpp_dout(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>, -1) &lt;&lt; __PRETTY_FUNCTION__ &lt;&lt; <span class="stringliteral">&quot;:&quot;</span> &lt;&lt; __LINE__</div>
<div class="line"><span class="lineno">  788</span>           &lt;&lt; <span class="stringliteral">&quot; process_journal failed: r=&quot;</span> &lt;&lt; <a class="code hl_variable" href="rgw__aio_8cc.html#ae38055824c6eac64615832ad9d888539">r</a> &lt;&lt; <span class="stringliteral">&quot; tid=&quot;</span> &lt;&lt; <a class="code hl_variable" href="cls__fifo__legacy_8cc.html#ab35eff139cb790487ef1520b2446d3f7">tid</a> &lt;&lt; dendl;</div>
<div class="line"><span class="lineno">  789</span>  }</div>
<div class="line"><span class="lineno">  790</span>  <span class="keywordflow">return</span> <a class="code hl_variable" href="rgw__aio_8cc.html#ae38055824c6eac64615832ad9d888539">r</a>;</div>
<div class="line"><span class="lineno">  791</span>}</div>
</div><!-- fragment --><div class="dynheader">
이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o_a5b962aff7e9ff729f83b709e1bba6d13_cgraph.png" border="0" usemap="#aclassrgw_1_1cls_1_1fifo_1_1_f_i_f_o_a5b962aff7e9ff729f83b709e1bba6d13_cgraph" alt=""/></div>
<map name="aclassrgw_1_1cls_1_1fifo_1_1_f_i_f_o_a5b962aff7e9ff729f83b709e1bba6d13_cgraph" id="aclassrgw_1_1cls_1_1fifo_1_1_f_i_f_o_a5b962aff7e9ff729f83b709e1bba6d13_cgraph">
<area shape="rect" title=" " alt="" coords="5,236,144,279"/>
<area shape="rect" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html#aba781c2176312b28522495f0021ba590" title=" " alt="" coords="367,236,494,279"/>
<area shape="poly" title=" " alt="" coords="144,255,351,255,351,260,144,260"/>
<area shape="rect" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5" title=" " alt="" coords="1096,195,1139,221"/>
<area shape="poly" title=" " alt="" coords="89,234,138,172,174,134,216,95,263,60,315,30,371,10,429,3,795,3,838,4,874,10,905,18,933,31,987,66,1050,117,1080,148,1103,180,1099,183,1076,151,1047,121,984,71,930,36,903,23,873,15,837,10,795,8,430,8,372,15,317,35,266,64,219,99,178,138,142,175,93,237"/>
<area shape="rect" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html#a1183904fcb363500f021b6ecf9f58d29" title=" " alt="" coords="192,387,319,429"/>
<area shape="poly" title=" " alt="" coords="103,277,218,374,215,378,100,281"/>
<area shape="rect" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html#ae9b671fb0e801459fa35a4982053047c" title=" " alt="" coords="542,119,670,161"/>
<area shape="poly" title=" " alt="" coords="463,233,559,168,562,173,466,238"/>
<area shape="poly" title=" " alt="" coords="438,235,452,204,474,167,504,132,541,104,584,89,637,82,699,80,767,85,838,95,911,110,982,131,1049,155,1072,167,1093,182,1090,187,1070,172,1047,160,980,136,910,116,837,100,766,90,699,86,638,87,585,95,544,109,508,135,479,170,457,206,443,237"/>
<area shape="rect" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html#a767e397207c78989f0e0ebcef3252d78" title="Force refresh of metadata, yielding/blocking style" alt="" coords="542,236,670,279"/>
<area shape="poly" title=" " alt="" coords="495,255,527,255,527,260,495,260"/>
<area shape="rect" href="rgw__tools_8cc.html#ac8fd9a95626d93661d7280c9455eba5c" title="perform the rados operation, using the yield context when given" alt="" coords="918,395,1048,421"/>
<area shape="poly" title=" " alt="" coords="496,274,543,288,707,330,871,372,923,387,922,392,869,377,705,335,542,293,494,279"/>
<area shape="poly" title=" " alt="" coords="670,140,842,153,946,166,1049,184,1082,193,1081,198,1048,189,945,171,841,159,670,145"/>
<area shape="poly" title=" " alt="" coords="670,241,785,220,918,203,983,200,1048,203,1081,204,1081,209,1048,208,983,206,918,208,785,225,671,246"/>
<area shape="rect" href="namespacergw_1_1cls_1_1fifo.html#a467406e6496bef3cfca16fa6eaf7ba28" title=" " alt="" coords="718,269,870,296"/>
<area shape="poly" title=" " alt="" coords="670,263,702,268,702,273,670,269"/>
<area shape="poly" title=" " alt="" coords="823,266,867,248,917,231,1005,214,1081,207,1082,212,1006,220,919,236,868,253,825,271"/>
<area shape="rect" href="namespacergw.html#a49e77e75ed539fdbde0dcc092bb76467" title=" " alt="" coords="938,269,1029,296"/>
<area shape="poly" title=" " alt="" coords="871,280,922,280,922,285,871,285"/>
<area shape="rect" href="namespacergw.html#a34a5757756e9618325f611b073ccd448" title=" " alt="" coords="938,344,1029,371"/>
<area shape="poly" title=" " alt="" coords="831,294,934,335,932,340,829,299"/>
<area shape="poly" title=" " alt="" coords="829,294,872,321,887,337,896,352,905,366,920,381,926,385,923,389,916,385,901,369,891,355,883,340,868,325,826,299"/>
<area shape="poly" title=" " alt="" coords="959,270,955,261,958,251,968,245,983,243,1000,245,1009,252,1005,256,998,250,983,248,970,250,962,254,961,260,964,268"/>
<area shape="poly" title=" " alt="" coords="959,345,955,335,958,326,968,320,983,317,1000,320,1009,327,1005,331,998,325,983,323,970,325,962,329,961,335,964,342"/>
<area shape="poly" title=" " alt="" coords="1031,392,1046,381,1072,347,1090,308,1103,269,1110,236,1115,237,1108,270,1095,310,1077,349,1050,385,1034,396"/>
<area shape="poly" title=" " alt="" coords="280,384,391,287,394,291,284,388"/>
<area shape="poly" title=" " alt="" coords="286,428,342,466,419,508,463,527,509,543,557,553,605,557,795,557,872,560,934,560,962,555,989,545,1017,528,1046,502,1059,483,1071,455,1090,381,1103,301,1111,237,1116,237,1108,302,1095,382,1076,457,1064,486,1050,506,1020,532,992,549,963,560,935,565,872,565,795,563,605,563,556,559,508,548,461,532,417,513,339,470,283,432"/>
<area shape="rect" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html#a8e9d27e0bfcef221c264d48a277a6961" title=" " alt="" coords="730,387,858,429"/>
<area shape="poly" title=" " alt="" coords="319,405,714,405,714,411,319,411"/>
<area shape="rect" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html#aea9becd936635377461013178aecdbed" title=" " alt="" coords="730,453,858,496"/>
<area shape="poly" title=" " alt="" coords="320,413,715,462,714,468,319,418"/>
<area shape="poly" title=" " alt="" coords="842,427,889,444,943,454,971,455,998,452,1023,445,1047,431,1067,412,1083,389,1095,363,1104,336,1113,282,1115,237,1120,237,1118,282,1109,337,1100,365,1088,392,1071,415,1050,435,1025,449,999,457,971,460,942,459,888,449,840,432"/>
<area shape="poly" title=" " alt="" coords="858,405,902,405,902,411,858,411"/>
<area shape="poly" title=" " alt="" coords="858,488,904,495,954,495,1003,485,1026,475,1047,462,1059,447,1070,424,1088,362,1102,293,1110,236,1115,237,1107,294,1094,363,1075,426,1063,450,1050,466,1029,480,1005,490,955,500,904,500,858,494"/>
<area shape="poly" title=" " alt="" coords="855,450,928,424,930,429,857,455"/>
</map>
</div>
<div class="dynheader">
이 함수를 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o_a5b962aff7e9ff729f83b709e1bba6d13_icgraph.png" border="0" usemap="#aclassrgw_1_1cls_1_1fifo_1_1_f_i_f_o_a5b962aff7e9ff729f83b709e1bba6d13_icgraph" alt=""/></div>
<map name="aclassrgw_1_1cls_1_1fifo_1_1_f_i_f_o_a5b962aff7e9ff729f83b709e1bba6d13_icgraph" id="aclassrgw_1_1cls_1_1fifo_1_1_f_i_f_o_a5b962aff7e9ff729f83b709e1bba6d13_icgraph">
<area shape="rect" title=" " alt="" coords="572,39,711,81"/>
<area shape="rect" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html#acb4cd6c9b683badf085564c1ad87b0bc" title=" " alt="" coords="380,5,524,48"/>
<area shape="poly" title=" " alt="" coords="556,48,524,42,525,37,557,42"/>
<area shape="rect" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html#adaf8b9d5a771ad7b704328dea8156446" title=" " alt="" coords="380,72,524,115"/>
<area shape="poly" title=" " alt="" coords="557,78,525,83,524,78,556,72"/>
<area shape="rect" href="structrgw_1_1cls_1_1fifo_1_1_pusher.html#aa31861b769b07bfba149c0da14a051d3" title=" " alt="" coords="193,39,332,81"/>
<area shape="poly" title=" " alt="" coords="364,81,332,75,333,70,365,75"/>
<area shape="rect" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html#a6789013559e6332545632da406591905" title="Push entries to the FIFO" alt="" coords="199,105,326,148"/>
<area shape="poly" title=" " alt="" coords="365,111,327,118,326,113,364,106"/>
<area shape="rect" href="structrgw_1_1cls_1_1fifo_1_1_pusher.html#a9eb943fbddd67a9be022e380e187c2e9" title=" " alt="" coords="5,39,145,81"/>
<area shape="poly" title=" " alt="" coords="177,63,145,63,145,57,177,57"/>
</map>
</div>

</div>
</div>
<a id="aa680fda73a028a49f1051a2beefc5619" name="aa680fda73a028a49f1051a2beefc5619"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa680fda73a028a49f1051a2beefc5619">&#9670;&#160;</a></span>_update_meta() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void rgw::cls::fifo::FIFO::_update_meta </td>
          <td>(</td>
          <td class="paramtype">const DoutPrefixProvider *&#160;</td>
          <td class="paramname"><em>dpp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const fifo::update &amp;&#160;</td>
          <td class="paramname"><em>update</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">fifo::objv&#160;</td>
          <td class="paramname"><em>version</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool *&#160;</td>
          <td class="paramname"><em>pcanceled</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::uint64_t&#160;</td>
          <td class="paramname"><em>tid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">lr::AioCompletion *&#160;</td>
          <td class="paramname"><em>c</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition"><a class="el" href="cls__fifo__legacy_8cc_source.html">cls_fifo_legacy.cc</a> 파일의 <a class="el" href="cls__fifo__legacy_8cc_source.html#l00542">542</a> 번째 라인에서 정의되었습니다.</p>
<div class="fragment"><div class="line"><span class="lineno">  545</span>{</div>
<div class="line"><span class="lineno">  546</span>  ldpp_dout(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>, 20) &lt;&lt; __PRETTY_FUNCTION__ &lt;&lt; <span class="stringliteral">&quot;:&quot;</span> &lt;&lt; __LINE__</div>
<div class="line"><span class="lineno">  547</span>         &lt;&lt; <span class="stringliteral">&quot; entering: tid=&quot;</span> &lt;&lt; <a class="code hl_variable" href="cls__fifo__legacy_8cc.html#ab35eff139cb790487ef1520b2446d3f7">tid</a> &lt;&lt; dendl;</div>
<div class="line"><span class="lineno">  548</span>  lr::ObjectWriteOperation op;</div>
<div class="line"><span class="lineno">  549</span>  update_meta(&amp;op, <a class="code hl_variable" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html#ac39e05a390f49314efc600e47135eee9">info</a>.version, update);</div>
<div class="line"><span class="lineno">  550</span>  <span class="keyword">auto</span> updater = std::make_unique&lt;Updater&gt;(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>, <span class="keyword">this</span>, <a class="code hl_variable" href="rgw__aio_8cc.html#af3997c9b015c5696191674621076ae50">c</a>, update, version, pcanceled,</div>
<div class="line"><span class="lineno">  551</span>                       <a class="code hl_variable" href="cls__fifo__legacy_8cc.html#ab35eff139cb790487ef1520b2446d3f7">tid</a>);</div>
<div class="line"><span class="lineno">  552</span>  <span class="keyword">auto</span> <a class="code hl_variable" href="rgw__aio_8cc.html#ae38055824c6eac64615832ad9d888539">r</a> = <a class="code hl_variable" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html#af2b49f78650a528ef6b4abb16205b71f">ioctx</a>.aio_operate(<a class="code hl_variable" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html#a3e0ced0e9aa607afbde4462e07416be3">oid</a>, <a class="code hl_function" href="structrgw_1_1cls_1_1fifo_1_1_completion.html#a35c552581b3e840b33621734133dc2e3">Updater::call</a>(std::move(updater)), &amp;op);</div>
<div class="line"><span class="lineno">  553</span>  assert(<a class="code hl_variable" href="rgw__aio_8cc.html#ae38055824c6eac64615832ad9d888539">r</a> &gt;= 0);</div>
<div class="line"><span class="lineno">  554</span>}</div>
</div><!-- fragment --><div class="dynheader">
이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o_aa680fda73a028a49f1051a2beefc5619_cgraph.png" border="0" usemap="#aclassrgw_1_1cls_1_1fifo_1_1_f_i_f_o_aa680fda73a028a49f1051a2beefc5619_cgraph" alt=""/></div>
<map name="aclassrgw_1_1cls_1_1fifo_1_1_f_i_f_o_aa680fda73a028a49f1051a2beefc5619_cgraph" id="aclassrgw_1_1cls_1_1fifo_1_1_f_i_f_o_aa680fda73a028a49f1051a2beefc5619_cgraph">
<area shape="rect" title=" " alt="" coords="5,35,133,77"/>
<area shape="rect" href="structrgw_1_1cls_1_1fifo_1_1_completion.html#a35c552581b3e840b33621734133dc2e3" title=" " alt="" coords="181,5,344,48"/>
<area shape="poly" title=" " alt="" coords="133,44,165,39,165,44,134,49"/>
<area shape="rect" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5" title=" " alt="" coords="241,72,284,99"/>
<area shape="poly" title=" " alt="" coords="134,63,226,77,225,83,133,68"/>
</map>
</div>

</div>
</div>
<a id="aba781c2176312b28522495f0021ba590" name="aba781c2176312b28522495f0021ba590"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aba781c2176312b28522495f0021ba590">&#9670;&#160;</a></span>_update_meta() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int rgw::cls::fifo::FIFO::_update_meta </td>
          <td>(</td>
          <td class="paramtype">const DoutPrefixProvider *&#160;</td>
          <td class="paramname"><em>dpp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const fifo::update &amp;&#160;</td>
          <td class="paramname"><em>update</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">fifo::objv&#160;</td>
          <td class="paramname"><em>version</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool *&#160;</td>
          <td class="paramname"><em>pcanceled</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::uint64_t&#160;</td>
          <td class="paramname"><em>tid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">optional_yield&#160;</td>
          <td class="paramname"><em>y</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition"><a class="el" href="cls__fifo__legacy_8cc_source.html">cls_fifo_legacy.cc</a> 파일의 <a class="el" href="cls__fifo__legacy_8cc_source.html#l00434">434</a> 번째 라인에서 정의되었습니다.</p>
<div class="fragment"><div class="line"><span class="lineno">  437</span>{</div>
<div class="line"><span class="lineno">  438</span>  ldpp_dout(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>, 20) &lt;&lt; __PRETTY_FUNCTION__ &lt;&lt; <span class="stringliteral">&quot;:&quot;</span> &lt;&lt; __LINE__</div>
<div class="line"><span class="lineno">  439</span>         &lt;&lt; <span class="stringliteral">&quot; entering: tid=&quot;</span> &lt;&lt; <a class="code hl_variable" href="cls__fifo__legacy_8cc.html#ab35eff139cb790487ef1520b2446d3f7">tid</a> &lt;&lt; dendl;</div>
<div class="line"><span class="lineno">  440</span>  lr::ObjectWriteOperation op;</div>
<div class="line"><span class="lineno">  441</span>  <span class="keywordtype">bool</span> canceled = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  442</span>  update_meta(&amp;op, version, update);</div>
<div class="line"><span class="lineno">  443</span>  <span class="keyword">auto</span> <a class="code hl_variable" href="rgw__aio_8cc.html#ae38055824c6eac64615832ad9d888539">r</a> = <a class="code hl_function" href="rgw__tools_8cc.html#ac8fd9a95626d93661d7280c9455eba5c">rgw_rados_operate</a>(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>, <a class="code hl_variable" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html#af2b49f78650a528ef6b4abb16205b71f">ioctx</a>, <a class="code hl_variable" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html#a3e0ced0e9aa607afbde4462e07416be3">oid</a>, &amp;op, y);</div>
<div class="line"><span class="lineno">  444</span>  <span class="keywordflow">if</span> (<a class="code hl_variable" href="rgw__aio_8cc.html#ae38055824c6eac64615832ad9d888539">r</a> &gt;= 0 || <a class="code hl_variable" href="rgw__aio_8cc.html#ae38055824c6eac64615832ad9d888539">r</a> == -ECANCELED) {</div>
<div class="line"><span class="lineno">  445</span>    canceled = (<a class="code hl_variable" href="rgw__aio_8cc.html#ae38055824c6eac64615832ad9d888539">r</a> == -ECANCELED);</div>
<div class="line"><span class="lineno">  446</span>    <span class="keywordflow">if</span> (!canceled) {</div>
<div class="line"><span class="lineno">  447</span>      <a class="code hl_variable" href="rgw__aio_8cc.html#ae38055824c6eac64615832ad9d888539">r</a> = <a class="code hl_function" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html#ae9b671fb0e801459fa35a4982053047c">apply_update</a>(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>, &amp;<a class="code hl_variable" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html#ac39e05a390f49314efc600e47135eee9">info</a>, version, update, <a class="code hl_variable" href="cls__fifo__legacy_8cc.html#ab35eff139cb790487ef1520b2446d3f7">tid</a>);</div>
<div class="line"><span class="lineno">  448</span>      <span class="keywordflow">if</span> (<a class="code hl_variable" href="rgw__aio_8cc.html#ae38055824c6eac64615832ad9d888539">r</a> &lt; 0) canceled = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  449</span>    }</div>
<div class="line"><span class="lineno">  450</span>    <span class="keywordflow">if</span> (canceled) {</div>
<div class="line"><span class="lineno">  451</span>      <a class="code hl_variable" href="rgw__aio_8cc.html#ae38055824c6eac64615832ad9d888539">r</a> = <a class="code hl_function" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html#a767e397207c78989f0e0ebcef3252d78">read_meta</a>(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>, <a class="code hl_variable" href="cls__fifo__legacy_8cc.html#ab35eff139cb790487ef1520b2446d3f7">tid</a>, y);</div>
<div class="line"><span class="lineno">  452</span>      canceled = <a class="code hl_variable" href="rgw__aio_8cc.html#ae38055824c6eac64615832ad9d888539">r</a> &lt; 0 ? false : <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  453</span>    }</div>
<div class="line"><span class="lineno">  454</span>  }</div>
<div class="line"><span class="lineno">  455</span>  <span class="keywordflow">if</span> (pcanceled) *pcanceled = canceled;</div>
<div class="line"><span class="lineno">  456</span>  <span class="keywordflow">if</span> (canceled) {</div>
<div class="line"><span class="lineno">  457</span>    ldpp_dout(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>, 20) &lt;&lt; __PRETTY_FUNCTION__ &lt;&lt; <span class="stringliteral">&quot;:&quot;</span> &lt;&lt; __LINE__</div>
<div class="line"><span class="lineno">  458</span>           &lt;&lt; <span class="stringliteral">&quot; canceled: tid=&quot;</span> &lt;&lt; <a class="code hl_variable" href="cls__fifo__legacy_8cc.html#ab35eff139cb790487ef1520b2446d3f7">tid</a> &lt;&lt; dendl;</div>
<div class="line"><span class="lineno">  459</span>  }</div>
<div class="line"><span class="lineno">  460</span>  <span class="keywordflow">if</span> (<a class="code hl_variable" href="rgw__aio_8cc.html#ae38055824c6eac64615832ad9d888539">r</a> &lt; 0) {</div>
<div class="line"><span class="lineno">  461</span>    ldpp_dout(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>, -1) &lt;&lt; __PRETTY_FUNCTION__ &lt;&lt; <span class="stringliteral">&quot;:&quot;</span> &lt;&lt; __LINE__</div>
<div class="line"><span class="lineno">  462</span>           &lt;&lt; <span class="stringliteral">&quot; returning error: r=&quot;</span> &lt;&lt; <a class="code hl_variable" href="rgw__aio_8cc.html#ae38055824c6eac64615832ad9d888539">r</a> &lt;&lt; <span class="stringliteral">&quot; tid=&quot;</span> &lt;&lt; <a class="code hl_variable" href="cls__fifo__legacy_8cc.html#ab35eff139cb790487ef1520b2446d3f7">tid</a> &lt;&lt; dendl;</div>
<div class="line"><span class="lineno">  463</span>  }</div>
<div class="line"><span class="lineno">  464</span>  <span class="keywordflow">return</span> <a class="code hl_variable" href="rgw__aio_8cc.html#ae38055824c6eac64615832ad9d888539">r</a>;</div>
<div class="line"><span class="lineno">  465</span>}</div>
<div class="ttc" id="aclassrgw_1_1cls_1_1fifo_1_1_f_i_f_o_html_a767e397207c78989f0e0ebcef3252d78"><div class="ttname"><a href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html#a767e397207c78989f0e0ebcef3252d78">rgw::cls::fifo::FIFO::read_meta</a></div><div class="ttdeci">int read_meta(const DoutPrefixProvider *dpp, std::uint64_t tid, optional_yield y)</div><div class="ttdoc">Force refresh of metadata, yielding/blocking style</div><div class="ttdef"><b>Definition</b> <a href="cls__fifo__legacy_8cc_source.html#l01220">cls_fifo_legacy.cc:1220</a></div></div>
<div class="ttc" id="aclassrgw_1_1cls_1_1fifo_1_1_f_i_f_o_html_ae9b671fb0e801459fa35a4982053047c"><div class="ttname"><a href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html#ae9b671fb0e801459fa35a4982053047c">rgw::cls::fifo::FIFO::apply_update</a></div><div class="ttdeci">int apply_update(const DoutPrefixProvider *dpp, fifo::info *info, const fifo::objv &amp;objv, const fifo::update &amp;update, std::uint64_t tid)</div><div class="ttdef"><b>Definition</b> <a href="cls__fifo__legacy_8cc_source.html#l00415">cls_fifo_legacy.cc:415</a></div></div>
<div class="ttc" id="argw__tools_8cc_html_ac8fd9a95626d93661d7280c9455eba5c"><div class="ttname"><a href="rgw__tools_8cc.html#ac8fd9a95626d93661d7280c9455eba5c">rgw_rados_operate</a></div><div class="ttdeci">int rgw_rados_operate(const DoutPrefixProvider *dpp, librados::IoCtx &amp;ioctx, const std::string &amp;oid, librados::ObjectReadOperation *op, bufferlist *pbl, optional_yield y, int flags)</div><div class="ttdoc">perform the rados operation, using the yield context when given</div><div class="ttdef"><b>Definition</b> <a href="rgw__tools_8cc_source.html#l00254">rgw_tools.cc:254</a></div></div>
</div><!-- fragment --><div class="dynheader">
이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o_aba781c2176312b28522495f0021ba590_cgraph.png" border="0" usemap="#aclassrgw_1_1cls_1_1fifo_1_1_f_i_f_o_aba781c2176312b28522495f0021ba590_cgraph" alt=""/></div>
<map name="aclassrgw_1_1cls_1_1fifo_1_1_f_i_f_o_aba781c2176312b28522495f0021ba590_cgraph" id="aclassrgw_1_1cls_1_1fifo_1_1_f_i_f_o_aba781c2176312b28522495f0021ba590_cgraph">
<area shape="rect" title=" " alt="" coords="5,93,133,136"/>
<area shape="rect" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html#ae9b671fb0e801459fa35a4982053047c" title=" " alt="" coords="369,5,496,48"/>
<area shape="poly" title=" " alt="" coords="113,90,180,64,269,44,353,31,354,37,270,49,181,69,115,95"/>
<area shape="rect" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5" title=" " alt="" coords="735,123,777,149"/>
<area shape="poly" title=" " alt="" coords="133,109,181,108,434,100,545,103,687,117,720,124,719,129,686,123,545,109,434,106,181,113,133,115"/>
<area shape="rect" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html#a767e397207c78989f0e0ebcef3252d78" title="Force refresh of metadata, yielding/blocking style" alt="" coords="181,123,308,165"/>
<area shape="poly" title=" " alt="" coords="134,123,166,128,165,133,133,128"/>
<area shape="rect" href="rgw__tools_8cc.html#ac8fd9a95626d93661d7280c9455eba5c" title="perform the rados operation, using the yield context when given" alt="" coords="556,373,687,400"/>
<area shape="poly" title=" " alt="" coords="104,134,214,205,284,246,357,284,465,330,562,365,561,370,463,335,355,289,282,251,211,209,101,139"/>
<area shape="poly" title=" " alt="" coords="496,23,540,26,590,33,640,45,688,64,716,85,738,109,734,112,713,89,685,69,638,50,589,38,540,31,496,28"/>
<area shape="poly" title=" " alt="" coords="309,140,719,134,719,139,309,146"/>
<area shape="rect" href="namespacergw_1_1cls_1_1fifo.html#a467406e6496bef3cfca16fa6eaf7ba28" title=" " alt="" coords="356,248,508,275"/>
<area shape="poly" title=" " alt="" coords="281,164,398,237,395,242,279,168"/>
<area shape="poly" title=" " alt="" coords="467,245,555,210,719,147,721,152,557,214,469,250"/>
<area shape="rect" href="namespacergw.html#a49e77e75ed539fdbde0dcc092bb76467" title=" " alt="" coords="576,248,667,275"/>
<area shape="poly" title=" " alt="" coords="509,259,560,259,560,264,509,264"/>
<area shape="rect" href="namespacergw.html#a34a5757756e9618325f611b073ccd448" title=" " alt="" coords="576,323,667,349"/>
<area shape="poly" title=" " alt="" coords="469,273,573,314,571,319,467,278"/>
<area shape="poly" title=" " alt="" coords="449,273,496,315,558,359,567,364,565,369,555,364,492,319,446,277"/>
<area shape="poly" title=" " alt="" coords="598,249,594,239,597,230,606,224,622,221,638,224,647,231,644,235,636,229,621,227,608,229,601,233,599,239,603,246"/>
<area shape="poly" title=" " alt="" coords="598,323,594,314,597,305,606,298,622,296,638,299,647,305,644,310,636,304,621,301,608,303,601,308,599,314,603,321"/>
<area shape="poly" title=" " alt="" coords="670,371,685,359,702,337,716,312,736,259,746,207,751,164,756,165,752,208,741,260,721,315,706,340,689,363,673,375"/>
</map>
</div>
<div class="dynheader">
이 함수를 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o_aba781c2176312b28522495f0021ba590_icgraph.png" border="0" usemap="#aclassrgw_1_1cls_1_1fifo_1_1_f_i_f_o_aba781c2176312b28522495f0021ba590_icgraph" alt=""/></div>
<map name="aclassrgw_1_1cls_1_1fifo_1_1_f_i_f_o_aba781c2176312b28522495f0021ba590_icgraph" id="aclassrgw_1_1cls_1_1fifo_1_1_f_i_f_o_aba781c2176312b28522495f0021ba590_icgraph">
<area shape="rect" title=" " alt="" coords="1245,268,1372,311"/>
<area shape="rect" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html#acb4cd6c9b683badf085564c1ad87b0bc" title=" " alt="" coords="527,30,671,72"/>
<area shape="poly" title=" " alt="" coords="1296,254,1283,213,1263,166,1234,120,1216,101,1196,84,1132,49,1064,26,992,13,919,8,849,10,782,16,672,35,671,30,782,11,849,5,920,3,993,8,1065,21,1135,44,1198,79,1220,97,1238,117,1268,163,1288,211,1302,252"/>
<area shape="rect" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html#adaf8b9d5a771ad7b704328dea8156446" title=" " alt="" coords="527,122,671,164"/>
<area shape="poly" title=" " alt="" coords="1277,258,1241,225,1196,197,1128,173,1056,155,983,143,911,135,778,132,672,138,672,132,778,127,912,130,984,137,1057,149,1129,167,1198,193,1244,221,1281,254"/>
<area shape="rect" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html#aec8b6a339b01a90706117af46da93abf" title=" " alt="" coords="780,180,919,223"/>
<area shape="poly" title=" " alt="" coords="1263,262,1231,244,1196,229,1124,213,1049,204,979,200,919,201,919,195,979,195,1050,198,1125,208,1198,224,1234,239,1266,257"/>
<area shape="rect" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html#a5b962aff7e9ff729f83b709e1bba6d13" title=" " alt="" coords="780,63,919,106"/>
<area shape="poly" title=" " alt="" coords="1292,255,1277,222,1256,187,1229,153,1196,126,1163,109,1127,97,1054,81,982,77,919,79,919,73,982,71,1054,76,1129,91,1165,105,1198,122,1232,150,1260,184,1281,220,1297,253"/>
<area shape="rect" href="structrgw_1_1cls_1_1fifo_1_1_new_part_preparer.html#a0753418126dd6052a830cdd7ec76335c" title=" " alt="" coords="751,298,948,340"/>
<area shape="poly" title=" " alt="" coords="1230,297,948,315,948,310,1229,292"/>
<area shape="rect" href="structrgw_1_1cls_1_1fifo_1_1_trimmer.html#acf0010a30dd2bd26aa13093a0817b757" title=" " alt="" coords="1025,407,1171,450"/>
<area shape="poly" title=" " alt="" coords="1279,324,1242,358,1198,391,1163,409,1161,404,1196,386,1238,354,1275,320"/>
<area shape="rect" href="structrgw_1_1cls_1_1fifo_1_1_new_head_preparer.html#a23d676fb4554b85a770cadee0a64c2d0" title=" " alt="" coords="748,364,951,407"/>
<area shape="poly" title=" " alt="" coords="1230,310,1198,318,952,368,951,363,1196,312,1229,305"/>
<area shape="rect" href="structrgw_1_1cls_1_1fifo_1_1_journal_processor.html#ac307538f71585fd886f48063d871cddf" title=" " alt="" coords="999,474,1197,516"/>
<area shape="poly" title=" " alt="" coords="1295,326,1258,396,1231,432,1199,464,1180,475,1178,471,1195,459,1227,429,1254,393,1291,324"/>
<area shape="rect" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html#a1183904fcb363500f021b6ecf9f58d29" title=" " alt="" coords="1034,239,1162,282"/>
<area shape="poly" title=" " alt="" coords="1229,281,1162,272,1162,266,1230,276"/>
<area shape="rect" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html#abbe22f2a9fda63a7f370fc302177eb2a" title="Trim entries, coroutine/block style" alt="" coords="1034,540,1162,583"/>
<area shape="poly" title=" " alt="" coords="1303,327,1290,373,1269,427,1239,482,1220,508,1199,530,1182,542,1163,551,1161,546,1179,538,1195,526,1216,504,1235,479,1264,425,1285,371,1297,325"/>
<area shape="rect" href="structrgw_1_1cls_1_1fifo_1_1_pusher.html#aa31861b769b07bfba149c0da14a051d3" title=" " alt="" coords="281,88,421,131"/>
<area shape="poly" title=" " alt="" coords="511,134,421,122,421,116,512,129"/>
<area shape="rect" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html#a6789013559e6332545632da406591905" title="Push entries to the FIFO" alt="" coords="287,155,415,198"/>
<area shape="poly" title=" " alt="" coords="512,157,415,170,415,165,512,152"/>
<area shape="rect" href="structrgw_1_1cls_1_1fifo_1_1_pusher.html#a9eb943fbddd67a9be022e380e187c2e9" title=" " alt="" coords="35,88,174,131"/>
<area shape="poly" title=" " alt="" coords="266,112,175,112,175,107,266,107"/>
<area shape="poly" title=" " alt="" coords="764,76,671,63,672,58,765,70"/>
<area shape="poly" title=" " alt="" coords="766,106,672,129,671,123,765,101"/>
<area shape="rect" href="structrgw_1_1cls_1_1fifo_1_1_new_head_preparer.html#a11dc6a6f1d09332d11f5ef6d95b6e426" title=" " alt="" coords="498,364,700,407"/>
<area shape="poly" title=" " alt="" coords="733,388,701,388,701,383,733,383"/>
<area shape="rect" href="structrgw_1_1cls_1_1fifo_1_1_journal_processor.html#ada0b95135907661cd3bbe6076ef96495" title=" " alt="" coords="5,482,204,524"/>
<area shape="poly" title=" " alt="" coords="983,508,951,510,742,515,535,515,204,509,204,504,535,510,742,510,951,504,983,503"/>
<area shape="rect" href="structrgw_1_1cls_1_1fifo_1_1_journal_processor.html#a3a5343d47c26aaec6e8ff76d516e2e14" title=" " alt="" coords="750,452,949,495"/>
<area shape="poly" title=" " alt="" coords="983,488,949,485,949,479,984,482"/>
<area shape="rect" href="structrgw_1_1cls_1_1fifo_1_1_journal_processor.html#a4f683f8b3f7524fcd1a95c663a890d23" title=" " alt="" coords="500,452,698,495"/>
<area shape="poly" title=" " alt="" coords="735,476,699,476,699,471,735,471"/>
<area shape="rect" href="structrgw_1_1cls_1_1fifo_1_1_journal_processor.html#aa8352e9e0cc45d6744dfb39e38693cf1" title=" " alt="" coords="252,452,450,495"/>
<area shape="poly" title=" " alt="" coords="484,476,451,476,451,471,484,471"/>
<area shape="poly" title=" " alt="" coords="236,490,205,494,204,488,236,485"/>
<area shape="poly" title=" " alt="" coords="1019,268,958,268,890,264,818,255,748,237,713,223,679,205,625,167,628,163,682,200,715,218,749,232,819,250,890,259,959,263,1019,262"/>
<area shape="poly" title=" " alt="" coords="1018,244,918,220,920,215,1020,239"/>
<area shape="poly" title=" " alt="" coords="1052,232,880,108,883,104,1055,227"/>
<area shape="poly" title=" " alt="" coords="1020,281,943,300,942,294,1019,276"/>
<area shape="poly" title=" " alt="" coords="1056,293,1007,325,952,355,924,366,922,361,950,350,1004,320,1053,289"/>
</map>
</div>

</div>
</div>
<a id="ae9b671fb0e801459fa35a4982053047c" name="ae9b671fb0e801459fa35a4982053047c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae9b671fb0e801459fa35a4982053047c">&#9670;&#160;</a></span>apply_update()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int rgw::cls::fifo::FIFO::apply_update </td>
          <td>(</td>
          <td class="paramtype">const DoutPrefixProvider *&#160;</td>
          <td class="paramname"><em>dpp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">fifo::info *&#160;</td>
          <td class="paramname"><em>info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const fifo::objv &amp;&#160;</td>
          <td class="paramname"><em>objv</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const fifo::update &amp;&#160;</td>
          <td class="paramname"><em>update</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::uint64_t&#160;</td>
          <td class="paramname"><em>tid</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition"><a class="el" href="cls__fifo__legacy_8cc_source.html">cls_fifo_legacy.cc</a> 파일의 <a class="el" href="cls__fifo__legacy_8cc_source.html#l00415">415</a> 번째 라인에서 정의되었습니다.</p>
<div class="fragment"><div class="line"><span class="lineno">  420</span>{</div>
<div class="line"><span class="lineno">  421</span>  ldpp_dout(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>, 20) &lt;&lt; __PRETTY_FUNCTION__ &lt;&lt; <span class="stringliteral">&quot;:&quot;</span> &lt;&lt; __LINE__</div>
<div class="line"><span class="lineno">  422</span>         &lt;&lt; <span class="stringliteral">&quot; entering: tid=&quot;</span> &lt;&lt; <a class="code hl_variable" href="cls__fifo__legacy_8cc.html#ab35eff139cb790487ef1520b2446d3f7">tid</a> &lt;&lt; dendl;</div>
<div class="line"><span class="lineno">  423</span>  std::unique_lock l(<a class="code hl_variable" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html#af2b6bcbdfba97260e576ff4a72d8ba49">m</a>);</div>
<div class="line"><span class="lineno">  424</span>  <span class="keywordflow">if</span> (objv != <a class="code hl_variable" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html#ac39e05a390f49314efc600e47135eee9">info</a>-&gt;version) {</div>
<div class="line"><span class="lineno">  425</span>    ldpp_dout(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>, -1) &lt;&lt; __PRETTY_FUNCTION__ &lt;&lt; <span class="stringliteral">&quot;:&quot;</span> &lt;&lt; __LINE__</div>
<div class="line"><span class="lineno">  426</span>               &lt;&lt; <span class="stringliteral">&quot; version mismatch, canceling: tid=&quot;</span> &lt;&lt; <a class="code hl_variable" href="cls__fifo__legacy_8cc.html#ab35eff139cb790487ef1520b2446d3f7">tid</a> &lt;&lt; dendl;</div>
<div class="line"><span class="lineno">  427</span>    <span class="keywordflow">return</span> -ECANCELED;</div>
<div class="line"><span class="lineno">  428</span>  }</div>
<div class="line"><span class="lineno">  429</span> </div>
<div class="line"><span class="lineno">  430</span>  <a class="code hl_variable" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html#ac39e05a390f49314efc600e47135eee9">info</a>-&gt;apply_update(update);</div>
<div class="line"><span class="lineno">  431</span>  <span class="keywordflow">return</span> {};</div>
<div class="line"><span class="lineno">  432</span>}</div>
</div><!-- fragment --><div class="dynheader">
이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o_ae9b671fb0e801459fa35a4982053047c_cgraph.png" border="0" usemap="#aclassrgw_1_1cls_1_1fifo_1_1_f_i_f_o_ae9b671fb0e801459fa35a4982053047c_cgraph" alt=""/></div>
<map name="aclassrgw_1_1cls_1_1fifo_1_1_f_i_f_o_ae9b671fb0e801459fa35a4982053047c_cgraph" id="aclassrgw_1_1cls_1_1fifo_1_1_f_i_f_o_ae9b671fb0e801459fa35a4982053047c_cgraph">
<area shape="rect" title=" " alt="" coords="5,5,133,48"/>
<area shape="rect" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5" title=" " alt="" coords="181,13,223,40"/>
<area shape="poly" title=" " alt="" coords="133,24,165,24,165,29,133,29"/>
</map>
</div>
<div class="dynheader">
이 함수를 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o_ae9b671fb0e801459fa35a4982053047c_icgraph.png" border="0" usemap="#aclassrgw_1_1cls_1_1fifo_1_1_f_i_f_o_ae9b671fb0e801459fa35a4982053047c_icgraph" alt=""/></div>
<map name="aclassrgw_1_1cls_1_1fifo_1_1_f_i_f_o_ae9b671fb0e801459fa35a4982053047c_icgraph" id="aclassrgw_1_1cls_1_1fifo_1_1_f_i_f_o_ae9b671fb0e801459fa35a4982053047c_icgraph">
<area shape="rect" title=" " alt="" coords="1436,440,1564,483"/>
<area shape="rect" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html#aba781c2176312b28522495f0021ba590" title=" " alt="" coords="1253,301,1380,344"/>
<area shape="poly" title=" " alt="" coords="1457,432,1345,347,1348,342,1460,428"/>
<area shape="rect" href="structrgw_1_1cls_1_1fifo_1_1_updater.html#adef1bb74f03a7d93464d1e9d233043b4" title=" " alt="" coords="1245,473,1388,516"/>
<area shape="poly" title=" " alt="" coords="1421,478,1389,484,1388,479,1421,473"/>
<area shape="rect" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html#acb4cd6c9b683badf085564c1ad87b0bc" title=" " alt="" coords="527,213,671,256"/>
<area shape="poly" title=" " alt="" coords="1255,297,1196,276,1073,245,975,233,876,231,748,233,672,235,672,230,748,228,876,226,976,227,1074,240,1198,271,1257,292"/>
<area shape="rect" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html#adaf8b9d5a771ad7b704328dea8156446" title=" " alt="" coords="527,301,671,344"/>
<area shape="poly" title=" " alt="" coords="1237,325,672,325,672,320,1237,320"/>
<area shape="rect" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html#aec8b6a339b01a90706117af46da93abf" title=" " alt="" coords="780,360,919,403"/>
<area shape="poly" title=" " alt="" coords="1238,338,1197,344,920,377,919,372,1197,339,1237,333"/>
<area shape="rect" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html#a5b962aff7e9ff729f83b709e1bba6d13" title=" " alt="" coords="780,243,919,285"/>
<area shape="poly" title=" " alt="" coords="1237,313,1197,307,919,274,920,268,1197,301,1238,307"/>
<area shape="rect" href="structrgw_1_1cls_1_1fifo_1_1_new_part_preparer.html#a0753418126dd6052a830cdd7ec76335c" title=" " alt="" coords="751,477,948,520"/>
<area shape="poly" title=" " alt="" coords="1299,359,1259,417,1231,445,1198,468,1137,492,1072,506,1007,511,948,511,948,506,1007,506,1071,501,1135,487,1196,463,1227,441,1255,413,1295,356"/>
<area shape="rect" href="structrgw_1_1cls_1_1fifo_1_1_trimmer.html#acf0010a30dd2bd26aa13093a0817b757" title=" " alt="" coords="1025,5,1171,48"/>
<area shape="poly" title=" " alt="" coords="1306,287,1293,236,1271,176,1239,115,1219,87,1195,62,1169,46,1172,41,1199,58,1223,83,1244,112,1276,174,1298,235,1311,285"/>
<area shape="rect" href="structrgw_1_1cls_1_1fifo_1_1_new_head_preparer.html#a23d676fb4554b85a770cadee0a64c2d0" title=" " alt="" coords="748,544,951,587"/>
<area shape="poly" title=" " alt="" coords="1300,359,1252,449,1224,491,1198,517,1155,534,1093,547,951,563,951,557,1092,542,1154,529,1196,512,1220,487,1247,446,1296,357"/>
<area shape="rect" href="structrgw_1_1cls_1_1fifo_1_1_journal_processor.html#ac307538f71585fd886f48063d871cddf" title=" " alt="" coords="999,72,1197,115"/>
<area shape="poly" title=" " alt="" coords="1300,288,1284,251,1261,208,1231,165,1195,129,1178,117,1181,113,1199,125,1236,162,1266,205,1289,248,1305,286"/>
<area shape="rect" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html#a1183904fcb363500f021b6ecf9f58d29" title=" " alt="" coords="1034,411,1162,453"/>
<area shape="poly" title=" " alt="" coords="1269,355,1198,394,1158,413,1156,408,1196,390,1267,350"/>
<area shape="rect" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html#abbe22f2a9fda63a7f370fc302177eb2a" title="Trim entries, coroutine/block style" alt="" coords="1034,139,1162,181"/>
<area shape="poly" title=" " alt="" coords="1288,291,1247,246,1195,202,1160,183,1163,179,1199,198,1250,242,1291,287"/>
<area shape="rect" href="structrgw_1_1cls_1_1fifo_1_1_pusher.html#aa31861b769b07bfba149c0da14a051d3" title=" " alt="" coords="281,268,421,311"/>
<area shape="poly" title=" " alt="" coords="511,314,421,301,421,296,512,308"/>
<area shape="rect" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html#a6789013559e6332545632da406591905" title="Push entries to the FIFO" alt="" coords="287,335,415,377"/>
<area shape="poly" title=" " alt="" coords="512,337,415,350,415,345,512,332"/>
<area shape="rect" href="structrgw_1_1cls_1_1fifo_1_1_pusher.html#a9eb943fbddd67a9be022e380e187c2e9" title=" " alt="" coords="35,268,174,311"/>
<area shape="poly" title=" " alt="" coords="266,292,175,292,175,287,266,287"/>
<area shape="poly" title=" " alt="" coords="765,257,671,246,672,240,765,251"/>
<area shape="poly" title=" " alt="" coords="766,286,672,308,671,303,765,281"/>
<area shape="rect" href="structrgw_1_1cls_1_1fifo_1_1_new_head_preparer.html#a11dc6a6f1d09332d11f5ef6d95b6e426" title=" " alt="" coords="498,544,700,587"/>
<area shape="poly" title=" " alt="" coords="733,568,701,568,701,563,733,563"/>
<area shape="rect" href="structrgw_1_1cls_1_1fifo_1_1_journal_processor.html#ada0b95135907661cd3bbe6076ef96495" title=" " alt="" coords="5,100,204,143"/>
<area shape="poly" title=" " alt="" coords="996,121,951,128,743,142,535,145,349,140,204,132,204,126,349,134,536,139,743,137,950,123,996,116"/>
<area shape="rect" href="structrgw_1_1cls_1_1fifo_1_1_journal_processor.html#a3a5343d47c26aaec6e8ff76d516e2e14" title=" " alt="" coords="750,71,949,113"/>
<area shape="poly" title=" " alt="" coords="983,95,949,95,949,90,983,90"/>
<area shape="rect" href="structrgw_1_1cls_1_1fifo_1_1_journal_processor.html#a4f683f8b3f7524fcd1a95c663a890d23" title=" " alt="" coords="500,71,698,113"/>
<area shape="poly" title=" " alt="" coords="735,95,699,95,699,89,735,89"/>
<area shape="rect" href="structrgw_1_1cls_1_1fifo_1_1_journal_processor.html#aa8352e9e0cc45d6744dfb39e38693cf1" title=" " alt="" coords="252,71,450,113"/>
<area shape="poly" title=" " alt="" coords="484,95,451,95,451,89,484,89"/>
<area shape="poly" title=" " alt="" coords="236,108,205,112,204,107,236,103"/>
<area shape="poly" title=" " alt="" coords="1019,442,959,444,890,442,818,434,748,417,712,403,679,385,625,347,628,342,682,380,714,398,749,412,819,428,890,436,959,438,1019,436"/>
<area shape="poly" title=" " alt="" coords="1018,419,918,398,919,393,1020,413"/>
<area shape="poly" title=" " alt="" coords="1051,404,881,288,884,284,1054,399"/>
<area shape="poly" title=" " alt="" coords="1020,456,932,479,931,474,1019,450"/>
<area shape="poly" title=" " alt="" coords="1059,465,1009,501,952,534,925,546,923,541,949,530,1007,496,1056,461"/>
<area shape="rect" href="structrgw_1_1cls_1_1fifo_1_1_updater.html#a8c18fb611ddbe35989c795dfcb57959d" title=" " alt="" coords="1026,579,1170,621"/>
<area shape="poly" title=" " alt="" coords="1267,526,1198,562,1157,580,1155,576,1196,558,1264,522"/>
</map>
</div>

</div>
</div>
<a id="ac4b92be06298b9e40d12bc9832643083" name="ac4b92be06298b9e40d12bc9832643083"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac4b92be06298b9e40d12bc9832643083">&#9670;&#160;</a></span>create()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int rgw::cls::fifo::FIFO::create </td>
          <td>(</td>
          <td class="paramtype">const DoutPrefixProvider *&#160;</td>
          <td class="paramname"><em>dpp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">lr::IoCtx&#160;</td>
          <td class="paramname"><em>ioctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::string&#160;</td>
          <td class="paramname"><em>oid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::unique_ptr&lt; <a class="el" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html">FIFO</a> &gt; *&#160;</td>
          <td class="paramname"><em>fifo</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">optional_yield&#160;</td>
          <td class="paramname"><em>y</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::optional&lt; fifo::objv &gt;&#160;</td>
          <td class="paramname"><em>objv</em> = <code>std::nullopt</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::optional&lt; std::string_view &gt;&#160;</td>
          <td class="paramname"><em>oid_prefix</em> = <code>std::nullopt</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>exclusive</em> = <code>false</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::uint64_t&#160;</td>
          <td class="paramname"><em>max_part_size</em> = <code><a class="el" href="namespacergw_1_1cls_1_1fifo.html#a65dc7b90c1a825fd6b0eb0a4504aefb5">default_max_part_size</a></code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::uint64_t&#160;</td>
          <td class="paramname"><em>max_entry_size</em> = <code><a class="el" href="namespacergw_1_1cls_1_1fifo.html#ab78c79bad0a2f6ae2221cb6a23606fbd">default_max_entry_size</a></code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Create a new or open an existing <a class="el" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html">FIFO</a>. </p>
<dl class="params"><dt>매개변수</dt><dd>
  <table class="params">
    <tr><td class="paramname">objv</td><td>Operation will fail if the <a class="el" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html">FIFO</a> exists and is not of this version.  </td></tr>
    <tr><td class="paramname">oid_prefix</td><td>Prefix for all objects  </td></tr>
    <tr><td class="paramname">exclusive</td><td>Fail if the <a class="el" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html">FIFO</a> already exists  </td></tr>
    <tr><td class="paramname">max_part_size</td><td>Maximum allowed size of parts  </td></tr>
    <tr><td class="paramname">max_entry_size</td><td>Maximum allowed size of entries </td></tr>
  </table>
  </dd>
</dl>

<p class="definition"><a class="el" href="cls__fifo__legacy_8cc_source.html">cls_fifo_legacy.cc</a> 파일의 <a class="el" href="cls__fifo__legacy_8cc_source.html#l01198">1198</a> 번째 라인에서 정의되었습니다.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1203</span>{</div>
<div class="line"><span class="lineno"> 1204</span>  ldpp_dout(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>, 20)</div>
<div class="line"><span class="lineno"> 1205</span>    &lt;&lt; __PRETTY_FUNCTION__ &lt;&lt; <span class="stringliteral">&quot;:&quot;</span> &lt;&lt; __LINE__</div>
<div class="line"><span class="lineno"> 1206</span>    &lt;&lt; <span class="stringliteral">&quot; entering&quot;</span> &lt;&lt; dendl;</div>
<div class="line"><span class="lineno"> 1207</span>  lr::ObjectWriteOperation op;</div>
<div class="line"><span class="lineno"> 1208</span>  <a class="code hl_function" href="namespacergw_1_1cls_1_1fifo.html#ae35a711ed7d5002a93119bf0cecddbb5">create_meta</a>(&amp;op, <a class="code hl_variable" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html#a3e0ced0e9aa607afbde4462e07416be3">oid</a>, objv, oid_prefix, exclusive, max_part_size,</div>
<div class="line"><span class="lineno"> 1209</span>          max_entry_size);</div>
<div class="line"><span class="lineno"> 1210</span>  <span class="keyword">auto</span> <a class="code hl_variable" href="rgw__aio_8cc.html#ae38055824c6eac64615832ad9d888539">r</a> = <a class="code hl_function" href="rgw__tools_8cc.html#ac8fd9a95626d93661d7280c9455eba5c">rgw_rados_operate</a>(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>, <a class="code hl_variable" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html#af2b49f78650a528ef6b4abb16205b71f">ioctx</a>, <a class="code hl_variable" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html#a3e0ced0e9aa607afbde4462e07416be3">oid</a>, &amp;op, y);</div>
<div class="line"><span class="lineno"> 1211</span>  <span class="keywordflow">if</span> (<a class="code hl_variable" href="rgw__aio_8cc.html#ae38055824c6eac64615832ad9d888539">r</a> &lt; 0) {</div>
<div class="line"><span class="lineno"> 1212</span>    ldpp_dout(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>, -1) &lt;&lt; __PRETTY_FUNCTION__ &lt;&lt; <span class="stringliteral">&quot;:&quot;</span> &lt;&lt; __LINE__</div>
<div class="line"><span class="lineno"> 1213</span>           &lt;&lt; <span class="stringliteral">&quot; create_meta failed: r=&quot;</span> &lt;&lt; <a class="code hl_variable" href="rgw__aio_8cc.html#ae38055824c6eac64615832ad9d888539">r</a> &lt;&lt; dendl;</div>
<div class="line"><span class="lineno"> 1214</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="rgw__aio_8cc.html#ae38055824c6eac64615832ad9d888539">r</a>;</div>
<div class="line"><span class="lineno"> 1215</span>  }</div>
<div class="line"><span class="lineno"> 1216</span>  <a class="code hl_variable" href="rgw__aio_8cc.html#ae38055824c6eac64615832ad9d888539">r</a> = <a class="code hl_function" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html#a3a4a22943997d3dcb8ced6a8db6ba9f5">open</a>(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>, std::move(<a class="code hl_variable" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html#af2b49f78650a528ef6b4abb16205b71f">ioctx</a>), std::move(<a class="code hl_variable" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html#a3e0ced0e9aa607afbde4462e07416be3">oid</a>), fifo, y, objv);</div>
<div class="line"><span class="lineno"> 1217</span>  <span class="keywordflow">return</span> <a class="code hl_variable" href="rgw__aio_8cc.html#ae38055824c6eac64615832ad9d888539">r</a>;</div>
<div class="line"><span class="lineno"> 1218</span>}</div>
<div class="ttc" id="aclassrgw_1_1cls_1_1fifo_1_1_f_i_f_o_html_a3a4a22943997d3dcb8ced6a8db6ba9f5"><div class="ttname"><a href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html#a3a4a22943997d3dcb8ced6a8db6ba9f5">rgw::cls::fifo::FIFO::open</a></div><div class="ttdeci">static int open(const DoutPrefixProvider *dpp, lr::IoCtx ioctx, std::string oid, std::unique_ptr&lt; FIFO &gt; *fifo, optional_yield y, std::optional&lt; fifo::objv &gt; objv=std::nullopt, bool probe=false)</div><div class="ttdoc">Open an existing FIFO.</div><div class="ttdef"><b>Definition</b> <a href="cls__fifo__legacy_8cc_source.html#l01158">cls_fifo_legacy.cc:1158</a></div></div>
<div class="ttc" id="anamespacergw_1_1cls_1_1fifo_html_ae35a711ed7d5002a93119bf0cecddbb5"><div class="ttname"><a href="namespacergw_1_1cls_1_1fifo.html#ae35a711ed7d5002a93119bf0cecddbb5">rgw::cls::fifo::create_meta</a></div><div class="ttdeci">void create_meta(lr::ObjectWriteOperation *op, std::string_view id, std::optional&lt; fifo::objv &gt; objv, std::optional&lt; std::string_view &gt; oid_prefix, bool exclusive, std::uint64_t max_part_size, std::uint64_t max_entry_size)</div><div class="ttdef"><b>Definition</b> <a href="cls__fifo__legacy_8cc_source.html#l00046">cls_fifo_legacy.cc:46</a></div></div>
</div><!-- fragment --><div class="dynheader">
이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o_ac4b92be06298b9e40d12bc9832643083_cgraph.png" border="0" usemap="#aclassrgw_1_1cls_1_1fifo_1_1_f_i_f_o_ac4b92be06298b9e40d12bc9832643083_cgraph" alt=""/></div>
<map name="aclassrgw_1_1cls_1_1fifo_1_1_f_i_f_o_ac4b92be06298b9e40d12bc9832643083_cgraph" id="aclassrgw_1_1cls_1_1fifo_1_1_f_i_f_o_ac4b92be06298b9e40d12bc9832643083_cgraph">
<area shape="rect" title="Create a new or open an existing FIFO." alt="" coords="5,215,133,257"/>
<area shape="rect" href="namespacergw_1_1cls_1_1fifo.html#ae35a711ed7d5002a93119bf0cecddbb5" title=" " alt="" coords="356,61,526,88"/>
<area shape="poly" title=" " alt="" coords="119,212,393,92,395,97,122,217"/>
<area shape="rect" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5" title=" " alt="" coords="753,231,795,257"/>
<area shape="poly" title=" " alt="" coords="100,255,138,278,181,296,260,311,342,316,423,314,502,306,640,279,737,253,739,258,641,285,502,311,423,319,342,322,260,316,180,301,135,283,98,260"/>
<area shape="rect" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html#a3a4a22943997d3dcb8ced6a8db6ba9f5" title="Open an existing FIFO." alt="" coords="181,244,308,287"/>
<area shape="poly" title=" " alt="" coords="134,244,166,250,165,255,133,249"/>
<area shape="rect" href="rgw__tools_8cc.html#ac8fd9a95626d93661d7280c9455eba5c" title="perform the rados operation, using the yield context when given" alt="" coords="574,205,705,232"/>
<area shape="poly" title=" " alt="" coords="133,231,181,229,558,218,559,223,181,235,133,236"/>
<area shape="rect" href="namespacergw.html#a34a5757756e9618325f611b073ccd448" title=" " alt="" coords="594,29,685,56"/>
<area shape="poly" title=" " alt="" coords="526,58,578,50,579,55,527,64"/>
<area shape="poly" title=" " alt="" coords="616,30,612,21,615,11,624,5,640,3,656,5,665,12,662,16,654,10,639,8,626,10,619,14,617,20,621,28"/>
<area shape="poly" title=" " alt="" coords="308,260,737,243,737,248,308,265"/>
<area shape="rect" href="namespacergw_1_1cls_1_1fifo.html#a467406e6496bef3cfca16fa6eaf7ba28" title=" " alt="" coords="365,143,517,169"/>
<area shape="poly" title=" " alt="" coords="283,241,401,175,403,180,286,246"/>
<area shape="poly" title=" " alt="" coords="462,140,573,72,595,61,597,66,576,77,465,144"/>
<area shape="poly" title=" " alt="" coords="467,140,515,119,576,102,609,97,643,97,675,103,706,116,730,137,748,162,769,214,764,216,743,165,726,140,703,121,674,108,642,102,610,102,577,107,517,124,470,145"/>
<area shape="rect" href="namespacergw.html#a49e77e75ed539fdbde0dcc092bb76467" title=" " alt="" coords="594,155,685,181"/>
<area shape="poly" title=" " alt="" coords="518,158,579,162,579,167,517,163"/>
<area shape="poly" title=" " alt="" coords="487,167,581,198,579,203,485,172"/>
<area shape="poly" title=" " alt="" coords="616,155,612,146,615,137,624,130,640,128,656,131,665,137,662,142,654,136,639,133,626,135,619,140,617,146,621,153"/>
<area shape="poly" title=" " alt="" coords="706,228,738,235,737,240,705,234"/>
</map>
</div>
<div class="dynheader">
이 함수를 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o_ac4b92be06298b9e40d12bc9832643083_icgraph.png" border="0" usemap="#aclassrgw_1_1cls_1_1fifo_1_1_f_i_f_o_ac4b92be06298b9e40d12bc9832643083_icgraph" alt=""/></div>
<map name="aclassrgw_1_1cls_1_1fifo_1_1_f_i_f_o_ac4b92be06298b9e40d12bc9832643083_icgraph" id="aclassrgw_1_1cls_1_1fifo_1_1_f_i_f_o_ac4b92be06298b9e40d12bc9832643083_icgraph">
<area shape="rect" title="Create a new or open an existing FIFO." alt="" coords="402,343,529,385"/>
<area shape="rect" href="class_lazy_f_i_f_o.html#a67e6ab18f0a696fb4a7cb8e4c20c023a" title=" " alt="" coords="220,351,354,377"/>
<area shape="poly" title=" " alt="" coords="387,367,354,367,354,361,387,361"/>
<area shape="rect" href="class_lazy_f_i_f_o.html#ac16e514d809808318e3bcd4717eab84d" title=" " alt="" coords="5,5,172,32"/>
<area shape="poly" title=" " alt="" coords="281,335,273,275,255,197,240,156,222,116,198,79,170,46,154,35,157,30,173,42,203,76,226,114,245,154,260,196,278,274,286,335"/>
<area shape="rect" href="class_lazy_f_i_f_o.html#aa5de558a7fe54d63e5da73bc1826bf34" title=" " alt="" coords="8,56,169,83"/>
<area shape="poly" title=" " alt="" coords="279,336,268,285,248,220,216,154,195,123,170,97,153,85,156,81,173,93,199,120,221,151,253,218,273,283,284,335"/>
<area shape="rect" href="class_lazy_f_i_f_o.html#a221539e23951dd581b8d17dcee23c955" title=" " alt="" coords="8,107,169,133"/>
<area shape="poly" title=" " alt="" coords="276,337,262,295,241,244,210,192,191,168,170,147,152,136,155,132,173,143,195,165,215,189,246,241,267,293,281,335"/>
<area shape="rect" href="class_lazy_f_i_f_o.html#a44611dc8693ef2bc6fbf887bdf8f8cb0" title=" " alt="" coords="22,157,155,200"/>
<area shape="poly" title=" " alt="" coords="269,339,229,277,202,243,170,214,152,203,155,198,173,210,206,240,234,273,274,336"/>
<area shape="rect" href="class_lazy_f_i_f_o.html#a51848f2008f1515db776d4f71c2b77d8" title=" " alt="" coords="37,224,140,251"/>
<area shape="poly" title=" " alt="" coords="262,341,221,302,170,265,140,252,142,247,173,260,225,298,266,337"/>
<area shape="rect" href="class_lazy_f_i_f_o.html#a1aff5a041e32a0b10d6fa6fe60583726" title=" " alt="" coords="37,275,140,301"/>
<area shape="poly" title=" " alt="" coords="242,346,171,316,137,304,139,299,173,311,244,341"/>
<area shape="rect" href="class_lazy_f_i_f_o.html#a89c884d41a3204410b94d02ff8c30e03" title=" " alt="" coords="31,325,146,352"/>
<area shape="poly" title=" " alt="" coords="204,356,146,349,147,343,205,351"/>
<area shape="rect" href="class_lazy_f_i_f_o.html#a3216db64892d41d69adac6fadf3401c4" title=" " alt="" coords="31,376,146,403"/>
<area shape="poly" title=" " alt="" coords="205,377,147,385,146,379,204,372"/>
<area shape="rect" href="class_lazy_f_i_f_o.html#ac0d799ea1570f0a40dcb99f011facb4a" title=" " alt="" coords="31,427,146,453"/>
<area shape="poly" title=" " alt="" coords="244,387,173,417,139,429,137,424,171,412,242,382"/>
<area shape="rect" href="class_lazy_f_i_f_o.html#a5270b5f0206f79deb55ef09d051ab38a" title=" " alt="" coords="31,477,146,504"/>
<area shape="poly" title=" " alt="" coords="266,391,225,430,173,468,147,479,145,474,170,463,221,426,262,387"/>
<area shape="rect" href="class_lazy_f_i_f_o.html#ac5e04837d3da359a8dae21d3ed7b10dd" title=" " alt="" coords="31,528,146,555"/>
<area shape="poly" title=" " alt="" coords="274,392,235,455,206,489,173,518,147,531,145,527,170,514,203,485,230,452,270,390"/>
<area shape="rect" href="class_lazy_f_i_f_o.html#aa0b80e2e29ffd24efcd2e24d80ee5d7b" title=" " alt="" coords="15,579,162,605"/>
<area shape="poly" title=" " alt="" coords="280,393,265,432,243,479,213,527,173,569,154,580,151,576,170,565,208,524,239,477,260,430,275,391"/>
<area shape="rect" href="class_lazy_f_i_f_o.html#a98cc78c5fdd103dd2097ca047d1ea80a" title=" " alt="" coords="34,629,143,656"/>
<area shape="poly" title=" " alt="" coords="283,393,271,442,251,503,219,565,198,594,173,619,144,636,142,631,170,615,194,591,214,562,246,501,266,440,278,392"/>
<area shape="rect" href="class_lazy_f_i_f_o.html#a29d482b07a332ddd1f47cf44d4084694" title=" " alt="" coords="34,680,143,707"/>
<area shape="poly" title=" " alt="" coords="286,393,277,451,258,525,243,564,225,603,201,638,173,670,144,687,142,682,170,666,197,635,220,600,238,562,253,524,272,450,280,392"/>
</map>
</div>

</div>
</div>
<a id="a8e9d27e0bfcef221c264d48a277a6961" name="a8e9d27e0bfcef221c264d48a277a6961"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8e9d27e0bfcef221c264d48a277a6961">&#9670;&#160;</a></span>create_part()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int rgw::cls::fifo::FIFO::create_part </td>
          <td>(</td>
          <td class="paramtype">const DoutPrefixProvider *&#160;</td>
          <td class="paramname"><em>dpp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int64_t&#160;</td>
          <td class="paramname"><em>part_num</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::uint64_t&#160;</td>
          <td class="paramname"><em>tid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">optional_yield&#160;</td>
          <td class="paramname"><em>y</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition"><a class="el" href="cls__fifo__legacy_8cc_source.html">cls_fifo_legacy.cc</a> 파일의 <a class="el" href="cls__fifo__legacy_8cc_source.html#l00556">556</a> 번째 라인에서 정의되었습니다.</p>
<div class="fragment"><div class="line"><span class="lineno">  558</span>{</div>
<div class="line"><span class="lineno">  559</span>  ldpp_dout(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>, 20) &lt;&lt; __PRETTY_FUNCTION__ &lt;&lt; <span class="stringliteral">&quot;:&quot;</span> &lt;&lt; __LINE__</div>
<div class="line"><span class="lineno">  560</span>         &lt;&lt; <span class="stringliteral">&quot; entering: tid=&quot;</span> &lt;&lt; <a class="code hl_variable" href="cls__fifo__legacy_8cc.html#ab35eff139cb790487ef1520b2446d3f7">tid</a> &lt;&lt; dendl;</div>
<div class="line"><span class="lineno">  561</span>  lr::ObjectWriteOperation op;</div>
<div class="line"><span class="lineno">  562</span>  op.create(<span class="keyword">false</span>); <span class="comment">/* We don&#39;t need exclusivity, part_init ensures</span></div>
<div class="line"><span class="lineno">  563</span><span class="comment">               we&#39;re creating from the same journal entry. */</span></div>
<div class="line"><span class="lineno">  564</span>  std::unique_lock l(<a class="code hl_variable" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html#af2b6bcbdfba97260e576ff4a72d8ba49">m</a>);</div>
<div class="line"><span class="lineno">  565</span>  part_init(&amp;op, <a class="code hl_variable" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html#ac39e05a390f49314efc600e47135eee9">info</a>.params);</div>
<div class="line"><span class="lineno">  566</span>  <span class="keyword">auto</span> <a class="code hl_variable" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html#a3e0ced0e9aa607afbde4462e07416be3">oid</a> = <a class="code hl_variable" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html#ac39e05a390f49314efc600e47135eee9">info</a>.part_oid(part_num);</div>
<div class="line"><span class="lineno">  567</span>  l.unlock();</div>
<div class="line"><span class="lineno">  568</span>  <span class="keyword">auto</span> <a class="code hl_variable" href="rgw__aio_8cc.html#ae38055824c6eac64615832ad9d888539">r</a> = <a class="code hl_function" href="rgw__tools_8cc.html#ac8fd9a95626d93661d7280c9455eba5c">rgw_rados_operate</a>(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>, <a class="code hl_variable" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html#af2b49f78650a528ef6b4abb16205b71f">ioctx</a>, <a class="code hl_variable" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html#a3e0ced0e9aa607afbde4462e07416be3">oid</a>, &amp;op, y);</div>
<div class="line"><span class="lineno">  569</span>  <span class="keywordflow">if</span> (<a class="code hl_variable" href="rgw__aio_8cc.html#ae38055824c6eac64615832ad9d888539">r</a> &lt; 0) {</div>
<div class="line"><span class="lineno">  570</span>    ldpp_dout(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>, -1) &lt;&lt; __PRETTY_FUNCTION__ &lt;&lt; <span class="stringliteral">&quot;:&quot;</span> &lt;&lt; __LINE__</div>
<div class="line"><span class="lineno">  571</span>           &lt;&lt; <span class="stringliteral">&quot; part_init failed: r=&quot;</span> &lt;&lt; <a class="code hl_variable" href="rgw__aio_8cc.html#ae38055824c6eac64615832ad9d888539">r</a> &lt;&lt; <span class="stringliteral">&quot; tid=&quot;</span></div>
<div class="line"><span class="lineno">  572</span>           &lt;&lt; <a class="code hl_variable" href="cls__fifo__legacy_8cc.html#ab35eff139cb790487ef1520b2446d3f7">tid</a> &lt;&lt; dendl;</div>
<div class="line"><span class="lineno">  573</span>  }</div>
<div class="line"><span class="lineno">  574</span>  <span class="keywordflow">return</span> <a class="code hl_variable" href="rgw__aio_8cc.html#ae38055824c6eac64615832ad9d888539">r</a>;</div>
<div class="line"><span class="lineno">  575</span>}</div>
</div><!-- fragment --><div class="dynheader">
이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o_a8e9d27e0bfcef221c264d48a277a6961_cgraph.png" border="0" usemap="#aclassrgw_1_1cls_1_1fifo_1_1_f_i_f_o_a8e9d27e0bfcef221c264d48a277a6961_cgraph" alt=""/></div>
<map name="aclassrgw_1_1cls_1_1fifo_1_1_f_i_f_o_a8e9d27e0bfcef221c264d48a277a6961_cgraph" id="aclassrgw_1_1cls_1_1fifo_1_1_f_i_f_o_a8e9d27e0bfcef221c264d48a277a6961_cgraph">
<area shape="rect" title=" " alt="" coords="5,5,133,48"/>
<area shape="rect" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5" title=" " alt="" coords="359,13,401,40"/>
<area shape="poly" title=" " alt="" coords="133,24,343,24,343,29,133,29"/>
<area shape="rect" href="rgw__tools_8cc.html#ac8fd9a95626d93661d7280c9455eba5c" title="perform the rados operation, using the yield context when given" alt="" coords="181,39,311,65"/>
<area shape="poly" title=" " alt="" coords="134,33,166,38,165,43,133,38"/>
<area shape="poly" title=" " alt="" coords="311,37,343,31,344,36,312,42"/>
</map>
</div>
<div class="dynheader">
이 함수를 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o_a8e9d27e0bfcef221c264d48a277a6961_icgraph.png" border="0" usemap="#aclassrgw_1_1cls_1_1fifo_1_1_f_i_f_o_a8e9d27e0bfcef221c264d48a277a6961_icgraph" alt=""/></div>
<map name="aclassrgw_1_1cls_1_1fifo_1_1_f_i_f_o_a8e9d27e0bfcef221c264d48a277a6961_icgraph" id="aclassrgw_1_1cls_1_1fifo_1_1_f_i_f_o_a8e9d27e0bfcef221c264d48a277a6961_icgraph">
<area shape="rect" title=" " alt="" coords="1056,135,1183,177"/>
<area shape="rect" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html#a1183904fcb363500f021b6ecf9f58d29" title=" " alt="" coords="881,135,1008,177"/>
<area shape="poly" title=" " alt="" coords="1040,159,1008,159,1008,153,1040,153"/>
<area shape="rect" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html#adaf8b9d5a771ad7b704328dea8156446" title=" " alt="" coords="409,39,553,81"/>
<area shape="poly" title=" " alt="" coords="916,124,879,87,856,71,832,58,797,47,761,40,686,35,616,38,554,47,554,42,615,33,686,29,761,35,798,42,834,54,859,66,882,83,920,121"/>
<area shape="rect" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html#aec8b6a339b01a90706117af46da93abf" title=" " alt="" coords="662,68,801,111"/>
<area shape="poly" title=" " alt="" coords="865,134,801,114,802,109,867,129"/>
<area shape="rect" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html#a5b962aff7e9ff729f83b709e1bba6d13" title=" " alt="" coords="662,135,801,177"/>
<area shape="poly" title=" " alt="" coords="866,159,801,159,801,153,866,153"/>
<area shape="rect" href="structrgw_1_1cls_1_1fifo_1_1_new_part_preparer.html#a0753418126dd6052a830cdd7ec76335c" title=" " alt="" coords="633,201,830,244"/>
<area shape="poly" title=" " alt="" coords="867,183,803,203,801,198,865,178"/>
<area shape="rect" href="structrgw_1_1cls_1_1fifo_1_1_new_head_preparer.html#a23d676fb4554b85a770cadee0a64c2d0" title=" " alt="" coords="630,268,833,311"/>
<area shape="poly" title=" " alt="" coords="916,191,879,226,834,258,811,270,808,265,831,254,875,222,912,187"/>
<area shape="rect" href="structrgw_1_1cls_1_1fifo_1_1_pusher.html#aa31861b769b07bfba149c0da14a051d3" title=" " alt="" coords="193,5,332,48"/>
<area shape="poly" title=" " alt="" coords="393,49,332,40,333,35,394,44"/>
<area shape="rect" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html#a6789013559e6332545632da406591905" title="Push entries to the FIFO" alt="" coords="199,72,326,115"/>
<area shape="poly" title=" " alt="" coords="394,76,327,86,326,81,394,71"/>
<area shape="rect" href="structrgw_1_1cls_1_1fifo_1_1_pusher.html#a9eb943fbddd67a9be022e380e187c2e9" title=" " alt="" coords="5,5,145,48"/>
<area shape="poly" title=" " alt="" coords="177,29,145,29,145,24,177,24"/>
<area shape="poly" title=" " alt="" coords="647,132,629,125,530,84,532,79,631,120,649,127"/>
<area shape="rect" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html#acb4cd6c9b683badf085564c1ad87b0bc" title=" " alt="" coords="409,135,553,177"/>
<area shape="poly" title=" " alt="" coords="647,159,554,159,554,153,647,153"/>
<area shape="rect" href="structrgw_1_1cls_1_1fifo_1_1_new_head_preparer.html#a11dc6a6f1d09332d11f5ef6d95b6e426" title=" " alt="" coords="380,268,582,311"/>
<area shape="poly" title=" " alt="" coords="615,292,583,292,583,287,615,287"/>
</map>
</div>

</div>
</div>
<a id="a922adbe15322a0f2a199afa190fd6560" name="a922adbe15322a0f2a199afa190fd6560"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a922adbe15322a0f2a199afa190fd6560">&#9670;&#160;</a></span>get_head_info()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void rgw::cls::fifo::FIFO::get_head_info </td>
          <td>(</td>
          <td class="paramtype">const DoutPrefixProvider *&#160;</td>
          <td class="paramname"><em>dpp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">fu2::unique_function&lt; void(int <a class="el" href="rgw__aio_8cc.html#ae38055824c6eac64615832ad9d888539">r</a>, fifo::part_header &amp;&amp;)&gt;&#160;</td>
          <td class="paramname"><em>f</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">lr::AioCompletion *&#160;</td>
          <td class="paramname"><em>c</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>A convenience method to fetch the part information for the <a class="el" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html">FIFO</a> head, using librados::AioCompletion, since libradio::AioCompletions compose lousily. </p>

<p class="definition"><a class="el" href="cls__fifo__legacy_8cc_source.html">cls_fifo_legacy.cc</a> 파일의 <a class="el" href="cls__fifo__legacy_8cc_source.html#l02093">2093</a> 번째 라인에서 정의되었습니다.</p>
<div class="fragment"><div class="line"><span class="lineno"> 2096</span>{</div>
<div class="line"><span class="lineno"> 2097</span>  std::unique_lock l(<a class="code hl_variable" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html#af2b6bcbdfba97260e576ff4a72d8ba49">m</a>);</div>
<div class="line"><span class="lineno"> 2098</span>  <span class="keyword">auto</span> <a class="code hl_variable" href="cls__fifo__legacy_8cc.html#ab35eff139cb790487ef1520b2446d3f7">tid</a> = ++<a class="code hl_variable" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html#afa7af9bdb8c2b6813e746cba65f61115">next_tid</a>;</div>
<div class="line"><span class="lineno"> 2099</span>  l.unlock();</div>
<div class="line"><span class="lineno"> 2100</span>  <span class="keyword">auto</span> ig = std::make_unique&lt;InfoGetter&gt;(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>, <span class="keyword">this</span>, std::move(f), <a class="code hl_variable" href="cls__fifo__legacy_8cc.html#ab35eff139cb790487ef1520b2446d3f7">tid</a>, <a class="code hl_variable" href="rgw__aio_8cc.html#af3997c9b015c5696191674621076ae50">c</a>);</div>
<div class="line"><span class="lineno"> 2101</span>  <a class="code hl_function" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html#a767e397207c78989f0e0ebcef3252d78">read_meta</a>(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>, <a class="code hl_variable" href="cls__fifo__legacy_8cc.html#ab35eff139cb790487ef1520b2446d3f7">tid</a>, <a class="code hl_function" href="structrgw_1_1cls_1_1fifo_1_1_completion.html#a35c552581b3e840b33621734133dc2e3">InfoGetter::call</a>(std::move(ig)));</div>
<div class="line"><span class="lineno"> 2102</span>}</div>
<div class="ttc" id="aclassrgw_1_1cls_1_1fifo_1_1_f_i_f_o_html_afa7af9bdb8c2b6813e746cba65f61115"><div class="ttname"><a href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html#afa7af9bdb8c2b6813e746cba65f61115">rgw::cls::fifo::FIFO::next_tid</a></div><div class="ttdeci">std::uint64_t next_tid</div><div class="ttdef"><b>Definition</b> <a href="cls__fifo__legacy_8h_source.html#l00117">cls_fifo_legacy.h:117</a></div></div>
</div><!-- fragment --><div class="dynheader">
이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o_a922adbe15322a0f2a199afa190fd6560_cgraph.png" border="0" usemap="#aclassrgw_1_1cls_1_1fifo_1_1_f_i_f_o_a922adbe15322a0f2a199afa190fd6560_cgraph" alt=""/></div>
<map name="aclassrgw_1_1cls_1_1fifo_1_1_f_i_f_o_a922adbe15322a0f2a199afa190fd6560_cgraph" id="aclassrgw_1_1cls_1_1fifo_1_1_f_i_f_o_a922adbe15322a0f2a199afa190fd6560_cgraph">
<area shape="rect" title=" " alt="" coords="5,64,133,107"/>
<area shape="rect" href="structrgw_1_1cls_1_1fifo_1_1_completion.html#a35c552581b3e840b33621734133dc2e3" title=" " alt="" coords="181,5,344,48"/>
<area shape="poly" title=" " alt="" coords="133,63,174,51,176,56,134,69"/>
<area shape="rect" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5" title=" " alt="" coords="771,148,813,175"/>
<area shape="poly" title=" " alt="" coords="133,83,245,86,392,94,557,109,723,136,756,145,755,151,722,141,557,115,392,99,245,91,133,88"/>
<area shape="rect" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html#a767e397207c78989f0e0ebcef3252d78" title="Force refresh of metadata, yielding/blocking style" alt="" coords="199,123,326,165"/>
<area shape="poly" title=" " alt="" coords="134,102,184,118,183,123,133,107"/>
<area shape="poly" title=" " alt="" coords="326,143,755,158,755,163,326,149"/>
<area shape="rect" href="namespacergw_1_1cls_1_1fifo.html#a467406e6496bef3cfca16fa6eaf7ba28" title=" " alt="" coords="392,248,544,275"/>
<area shape="poly" title=" " alt="" coords="303,163,431,238,428,242,300,168"/>
<area shape="poly" title=" " alt="" coords="500,245,591,209,680,184,755,166,756,171,681,189,593,215,502,250"/>
<area shape="rect" href="namespacergw.html#a49e77e75ed539fdbde0dcc092bb76467" title=" " alt="" coords="612,248,703,275"/>
<area shape="poly" title=" " alt="" coords="545,259,596,259,596,264,545,264"/>
<area shape="rect" href="namespacergw.html#a34a5757756e9618325f611b073ccd448" title=" " alt="" coords="612,323,703,349"/>
<area shape="poly" title=" " alt="" coords="505,273,609,314,607,319,503,278"/>
<area shape="rect" href="rgw__tools_8cc.html#ac8fd9a95626d93661d7280c9455eba5c" title="perform the rados operation, using the yield context when given" alt="" coords="592,373,723,400"/>
<area shape="poly" title=" " alt="" coords="485,273,532,315,594,359,603,364,601,369,591,364,528,319,482,277"/>
<area shape="poly" title=" " alt="" coords="634,249,630,239,633,230,642,224,658,221,674,224,683,231,680,235,672,229,657,227,644,229,637,233,635,239,639,246"/>
<area shape="poly" title=" " alt="" coords="634,323,630,314,633,305,642,298,658,296,674,299,683,305,680,310,672,304,657,301,644,303,637,308,635,314,639,321"/>
<area shape="poly" title=" " alt="" coords="705,371,721,359,749,319,768,273,780,227,786,189,791,190,785,228,773,274,754,321,725,363,709,375"/>
</map>
</div>

</div>
</div>
<a id="a405a9789cead19aa2ce3bb5f7ec084f5" name="a405a9789cead19aa2ce3bb5f7ec084f5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a405a9789cead19aa2ce3bb5f7ec084f5">&#9670;&#160;</a></span>get_part_info() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int rgw::cls::fifo::FIFO::get_part_info </td>
          <td>(</td>
          <td class="paramtype">const DoutPrefixProvider *&#160;</td>
          <td class="paramname"><em>dpp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int64_t&#160;</td>
          <td class="paramname"><em>part_num</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">fifo::part_header *&#160;</td>
          <td class="paramname"><em>header</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">optional_yield&#160;</td>
          <td class="paramname"><em>y</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get part info </p>
<dl class="params"><dt>매개변수</dt><dd>
  <table class="params">
    <tr><td class="paramname">header</td><td>Part number </td></tr>
  </table>
  </dd>
</dl>

<p class="definition"><a class="el" href="cls__fifo__legacy_8cc_source.html">cls_fifo_legacy.cc</a> 파일의 <a class="el" href="cls__fifo__legacy_8cc_source.html#l02006">2006</a> 번째 라인에서 정의되었습니다.</p>
<div class="fragment"><div class="line"><span class="lineno"> 2009</span>{</div>
<div class="line"><span class="lineno"> 2010</span>  std::unique_lock l(<a class="code hl_variable" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html#af2b6bcbdfba97260e576ff4a72d8ba49">m</a>);</div>
<div class="line"><span class="lineno"> 2011</span>  <span class="keyword">const</span> <span class="keyword">auto</span> part_oid = <a class="code hl_variable" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html#ac39e05a390f49314efc600e47135eee9">info</a>.part_oid(part_num);</div>
<div class="line"><span class="lineno"> 2012</span>  <span class="keyword">auto</span> <a class="code hl_variable" href="cls__fifo__legacy_8cc.html#ab35eff139cb790487ef1520b2446d3f7">tid</a> = ++<a class="code hl_variable" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html#afa7af9bdb8c2b6813e746cba65f61115">next_tid</a>;</div>
<div class="line"><span class="lineno"> 2013</span>  l.unlock();</div>
<div class="line"><span class="lineno"> 2014</span>  <span class="keyword">auto</span> <a class="code hl_variable" href="rgw__aio_8cc.html#ae38055824c6eac64615832ad9d888539">r</a> = rgw::cls::fifo::get_part_info(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>, <a class="code hl_variable" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html#af2b49f78650a528ef6b4abb16205b71f">ioctx</a>, part_oid, header, <a class="code hl_variable" href="cls__fifo__legacy_8cc.html#ab35eff139cb790487ef1520b2446d3f7">tid</a>, y);</div>
<div class="line"><span class="lineno"> 2015</span>  <span class="keywordflow">if</span> (<a class="code hl_variable" href="rgw__aio_8cc.html#ae38055824c6eac64615832ad9d888539">r</a> &lt; 0) {</div>
<div class="line"><span class="lineno"> 2016</span>    ldpp_dout(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>, -1) &lt;&lt; __PRETTY_FUNCTION__ &lt;&lt; <span class="stringliteral">&quot;:&quot;</span> &lt;&lt; __LINE__</div>
<div class="line"><span class="lineno"> 2017</span>           &lt;&lt; <span class="stringliteral">&quot; get_part_info failed: r=&quot;</span></div>
<div class="line"><span class="lineno"> 2018</span>           &lt;&lt; <a class="code hl_variable" href="rgw__aio_8cc.html#ae38055824c6eac64615832ad9d888539">r</a> &lt;&lt; <span class="stringliteral">&quot; tid=&quot;</span> &lt;&lt; <a class="code hl_variable" href="cls__fifo__legacy_8cc.html#ab35eff139cb790487ef1520b2446d3f7">tid</a> &lt;&lt; dendl;</div>
<div class="line"><span class="lineno"> 2019</span>  }</div>
<div class="line"><span class="lineno"> 2020</span>  <span class="keywordflow">return</span> <a class="code hl_variable" href="rgw__aio_8cc.html#ae38055824c6eac64615832ad9d888539">r</a>;</div>
<div class="line"><span class="lineno"> 2021</span>}</div>
</div><!-- fragment --><div class="dynheader">
이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o_a405a9789cead19aa2ce3bb5f7ec084f5_cgraph.png" border="0" usemap="#aclassrgw_1_1cls_1_1fifo_1_1_f_i_f_o_a405a9789cead19aa2ce3bb5f7ec084f5_cgraph" alt=""/></div>
<map name="aclassrgw_1_1cls_1_1fifo_1_1_f_i_f_o_a405a9789cead19aa2ce3bb5f7ec084f5_cgraph" id="aclassrgw_1_1cls_1_1fifo_1_1_f_i_f_o_a405a9789cead19aa2ce3bb5f7ec084f5_cgraph">
<area shape="rect" title="Get part info" alt="" coords="5,5,133,48"/>
<area shape="rect" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5" title=" " alt="" coords="181,13,223,40"/>
<area shape="poly" title=" " alt="" coords="133,24,165,24,165,29,133,29"/>
</map>
</div>

</div>
</div>
<a id="a994a5e2c2d654542cffaaea69e7f227c" name="a994a5e2c2d654542cffaaea69e7f227c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a994a5e2c2d654542cffaaea69e7f227c">&#9670;&#160;</a></span>get_part_info() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void rgw::cls::fifo::FIFO::get_part_info </td>
          <td>(</td>
          <td class="paramtype">int64_t&#160;</td>
          <td class="paramname"><em>part_num</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">fifo::part_header *&#160;</td>
          <td class="paramname"><em>header</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">lr::AioCompletion *&#160;</td>
          <td class="paramname"><em>c</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get part info </p>

<p class="definition"><a class="el" href="cls__fifo__legacy_8cc_source.html">cls_fifo_legacy.cc</a> 파일의 <a class="el" href="cls__fifo__legacy_8cc_source.html#l02023">2023</a> 번째 라인에서 정의되었습니다.</p>
<div class="fragment"><div class="line"><span class="lineno"> 2026</span>{</div>
<div class="line"><span class="lineno"> 2027</span>  std::unique_lock l(<a class="code hl_variable" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html#af2b6bcbdfba97260e576ff4a72d8ba49">m</a>);</div>
<div class="line"><span class="lineno"> 2028</span>  <span class="keyword">const</span> <span class="keyword">auto</span> part_oid = <a class="code hl_variable" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html#ac39e05a390f49314efc600e47135eee9">info</a>.part_oid(part_num);</div>
<div class="line"><span class="lineno"> 2029</span>  <span class="keyword">auto</span> <a class="code hl_variable" href="cls__fifo__legacy_8cc.html#ab35eff139cb790487ef1520b2446d3f7">tid</a> = ++<a class="code hl_variable" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html#afa7af9bdb8c2b6813e746cba65f61115">next_tid</a>;</div>
<div class="line"><span class="lineno"> 2030</span>  l.unlock();</div>
<div class="line"><span class="lineno"> 2031</span>  <span class="keyword">auto</span> op = rgw::cls::fifo::get_part_info(<a class="code hl_variable" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html#ab04aec5111a70848f003a5174f5f43af">cct</a>, header, <a class="code hl_variable" href="cls__fifo__legacy_8cc.html#ab35eff139cb790487ef1520b2446d3f7">tid</a>);</div>
<div class="line"><span class="lineno"> 2032</span>  <span class="keyword">auto</span> <a class="code hl_variable" href="rgw__aio_8cc.html#ae38055824c6eac64615832ad9d888539">r</a> = <a class="code hl_variable" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html#af2b49f78650a528ef6b4abb16205b71f">ioctx</a>.aio_operate(part_oid, <a class="code hl_variable" href="rgw__aio_8cc.html#af3997c9b015c5696191674621076ae50">c</a>, &amp;op, <span class="keyword">nullptr</span>);</div>
<div class="line"><span class="lineno"> 2033</span>  ceph_assert(<a class="code hl_variable" href="rgw__aio_8cc.html#ae38055824c6eac64615832ad9d888539">r</a> &gt;= 0);</div>
<div class="line"><span class="lineno"> 2034</span>}</div>
<div class="ttc" id="aclassrgw_1_1cls_1_1fifo_1_1_f_i_f_o_html_ab04aec5111a70848f003a5174f5f43af"><div class="ttname"><a href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html#ab04aec5111a70848f003a5174f5f43af">rgw::cls::fifo::FIFO::cct</a></div><div class="ttdeci">CephContext * cct</div><div class="ttdef"><b>Definition</b> <a href="cls__fifo__legacy_8h_source.html#l00114">cls_fifo_legacy.h:114</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a720846157aa7edd5a9103bf671e05b12" name="a720846157aa7edd5a9103bf671e05b12"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a720846157aa7edd5a9103bf671e05b12">&#9670;&#160;</a></span>get_part_layout_info()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::pair&lt; std::uint32_t, std::uint32_t &gt; rgw::cls::fifo::FIFO::get_part_layout_info </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get partition header and entry overhead size </p>

<p class="definition"><a class="el" href="cls__fifo__legacy_8cc_source.html">cls_fifo_legacy.cc</a> 파일의 <a class="el" href="cls__fifo__legacy_8cc_source.html#l01303">1303</a> 번째 라인에서 정의되었습니다.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1303</span>                                                                   {</div>
<div class="line"><span class="lineno"> 1304</span>  <span class="keywordflow">return</span> {<a class="code hl_variable" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html#ae8573df3015bf8beaa2bf62ee4130178">part_header_size</a>, <a class="code hl_variable" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html#a585247aa2c1b7c19869ceb1544443976">part_entry_overhead</a>};</div>
<div class="line"><span class="lineno"> 1305</span>}</div>
<div class="ttc" id="aclassrgw_1_1cls_1_1fifo_1_1_f_i_f_o_html_a585247aa2c1b7c19869ceb1544443976"><div class="ttname"><a href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html#a585247aa2c1b7c19869ceb1544443976">rgw::cls::fifo::FIFO::part_entry_overhead</a></div><div class="ttdeci">std::uint32_t part_entry_overhead</div><div class="ttdef"><b>Definition</b> <a href="cls__fifo__legacy_8h_source.html#l00122">cls_fifo_legacy.h:122</a></div></div>
<div class="ttc" id="aclassrgw_1_1cls_1_1fifo_1_1_f_i_f_o_html_ae8573df3015bf8beaa2bf62ee4130178"><div class="ttname"><a href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html#ae8573df3015bf8beaa2bf62ee4130178">rgw::cls::fifo::FIFO::part_header_size</a></div><div class="ttdeci">std::uint32_t part_header_size</div><div class="ttdef"><b>Definition</b> <a href="cls__fifo__legacy_8h_source.html#l00121">cls_fifo_legacy.h:121</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a70f3f7d9fd217a54a176d29c0d01113b" name="a70f3f7d9fd217a54a176d29c0d01113b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a70f3f7d9fd217a54a176d29c0d01113b">&#9670;&#160;</a></span>list() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void rgw::cls::fifo::FIFO::list </td>
          <td>(</td>
          <td class="paramtype">const DoutPrefixProvider *&#160;</td>
          <td class="paramname"><em>dpp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>max_entries</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::optional&lt; std::string_view &gt;&#160;</td>
          <td class="paramname"><em>markstr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; <a class="el" href="structrgw_1_1cls_1_1fifo_1_1list__entry.html">list_entry</a> &gt; *&#160;</td>
          <td class="paramname"><em>out</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool *&#160;</td>
          <td class="paramname"><em>more</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">lr::AioCompletion *&#160;</td>
          <td class="paramname"><em>c</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="params"><dt>매개변수</dt><dd>
  <table class="params">
    <tr><td class="paramname">markstr</td><td>Point after which to begin listing. Start at tail if null  </td></tr>
    <tr><td class="paramname">more</td><td>OUT: True if more entries in <a class="el" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html">FIFO</a> beyond the last returned </td></tr>
  </table>
  </dd>
</dl>

<p class="definition"><a class="el" href="cls__fifo__legacy_8cc_source.html">cls_fifo_legacy.cc</a> 파일의 <a class="el" href="cls__fifo__legacy_8cc_source.html#l02503">2503</a> 번째 라인에서 정의되었습니다.</p>
<div class="fragment"><div class="line"><span class="lineno"> 2507</span>                            {</div>
<div class="line"><span class="lineno"> 2508</span>  std::unique_lock l(<a class="code hl_variable" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html#af2b6bcbdfba97260e576ff4a72d8ba49">m</a>);</div>
<div class="line"><span class="lineno"> 2509</span>  <span class="keyword">auto</span> <a class="code hl_variable" href="cls__fifo__legacy_8cc.html#ab35eff139cb790487ef1520b2446d3f7">tid</a> = ++<a class="code hl_variable" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html#afa7af9bdb8c2b6813e746cba65f61115">next_tid</a>;</div>
<div class="line"><span class="lineno"> 2510</span>  std::int64_t part_num = <a class="code hl_variable" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html#ac39e05a390f49314efc600e47135eee9">info</a>.tail_part_num;</div>
<div class="line"><span class="lineno"> 2511</span>  l.unlock();</div>
<div class="line"><span class="lineno"> 2512</span>  std::uint64_t ofs = 0;</div>
<div class="line"><span class="lineno"> 2513</span>  std::optional&lt;::rgw::cls::fifo::marker&gt; marker;</div>
<div class="line"><span class="lineno"> 2514</span> </div>
<div class="line"><span class="lineno"> 2515</span>  <span class="keywordflow">if</span> (markstr) {</div>
<div class="line"><span class="lineno"> 2516</span>    marker = <a class="code hl_function" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html#a33d911f777b4ecaeff1b9248bbe516a7">to_marker</a>(*markstr);</div>
<div class="line"><span class="lineno"> 2517</span>    <span class="keywordflow">if</span> (marker) {</div>
<div class="line"><span class="lineno"> 2518</span>      part_num = marker-&gt;num;</div>
<div class="line"><span class="lineno"> 2519</span>      ofs = marker-&gt;ofs;</div>
<div class="line"><span class="lineno"> 2520</span>    }</div>
<div class="line"><span class="lineno"> 2521</span>  }</div>
<div class="line"><span class="lineno"> 2522</span> </div>
<div class="line"><span class="lineno"> 2523</span>  <span class="keyword">auto</span> ls = std::make_unique&lt;Lister&gt;(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>, <span class="keyword">this</span>, part_num, ofs, max_entries, out,</div>
<div class="line"><span class="lineno"> 2524</span>                     <a class="code hl_variable" href="cls__fifo__legacy_8cc.html#a9be039e59c8900399b85638616af1095">more</a>, <a class="code hl_variable" href="cls__fifo__legacy_8cc.html#ab35eff139cb790487ef1520b2446d3f7">tid</a>, <a class="code hl_variable" href="rgw__aio_8cc.html#af3997c9b015c5696191674621076ae50">c</a>);</div>
<div class="line"><span class="lineno"> 2525</span>  <span class="keywordflow">if</span> (markstr &amp;&amp; !marker) {</div>
<div class="line"><span class="lineno"> 2526</span>    <span class="keyword">auto</span> l = ls.get();</div>
<div class="line"><span class="lineno"> 2527</span>    l-&gt;complete(std::move(ls), -EINVAL);</div>
<div class="line"><span class="lineno"> 2528</span>  } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 2529</span>    ls-&gt;list(std::move(ls));</div>
<div class="line"><span class="lineno"> 2530</span>  }</div>
<div class="line"><span class="lineno"> 2531</span>}</div>
<div class="ttc" id="aclassrgw_1_1cls_1_1fifo_1_1_f_i_f_o_html_a33d911f777b4ecaeff1b9248bbe516a7"><div class="ttname"><a href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html#a33d911f777b4ecaeff1b9248bbe516a7">rgw::cls::fifo::FIFO::to_marker</a></div><div class="ttdeci">std::optional&lt; marker &gt; to_marker(std::string_view s)</div><div class="ttdef"><b>Definition</b> <a href="cls__fifo__legacy_8cc_source.html#l00385">cls_fifo_legacy.cc:385</a></div></div>
<div class="ttc" id="acls__fifo__legacy_8cc_html_a9be039e59c8900399b85638616af1095"><div class="ttname"><a href="cls__fifo__legacy_8cc.html#a9be039e59c8900399b85638616af1095">more</a></div><div class="ttdeci">bool * more</div><div class="ttdef"><b>Definition</b> <a href="cls__fifo__legacy_8cc_source.html#l00250">cls_fifo_legacy.cc:250</a></div></div>
</div><!-- fragment --><div class="dynheader">
이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o_a70f3f7d9fd217a54a176d29c0d01113b_cgraph.png" border="0" usemap="#aclassrgw_1_1cls_1_1fifo_1_1_f_i_f_o_a70f3f7d9fd217a54a176d29c0d01113b_cgraph" alt=""/></div>
<map name="aclassrgw_1_1cls_1_1fifo_1_1_f_i_f_o_a70f3f7d9fd217a54a176d29c0d01113b_cgraph" id="aclassrgw_1_1cls_1_1fifo_1_1_f_i_f_o_a70f3f7d9fd217a54a176d29c0d01113b_cgraph">
<area shape="rect" title=" " alt="" coords="5,27,133,69"/>
<area shape="rect" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5" title=" " alt="" coords="223,5,266,32"/>
<area shape="poly" title=" " alt="" coords="133,35,207,22,208,27,134,40"/>
<area shape="rect" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html#a33d911f777b4ecaeff1b9248bbe516a7" title=" " alt="" coords="181,56,308,99"/>
<area shape="poly" title=" " alt="" coords="134,56,166,62,165,67,133,61"/>
</map>
</div>

</div>
</div>
<a id="ae8ae12a1e0c8a4b30d6f0d7152b42839" name="ae8ae12a1e0c8a4b30d6f0d7152b42839"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae8ae12a1e0c8a4b30d6f0d7152b42839">&#9670;&#160;</a></span>list() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int rgw::cls::fifo::FIFO::list </td>
          <td>(</td>
          <td class="paramtype">const DoutPrefixProvider *&#160;</td>
          <td class="paramname"><em>dpp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>max_entries</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::optional&lt; std::string_view &gt;&#160;</td>
          <td class="paramname"><em>markstr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; <a class="el" href="structrgw_1_1cls_1_1fifo_1_1list__entry.html">list_entry</a> &gt; *&#160;</td>
          <td class="paramname"><em>out</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool *&#160;</td>
          <td class="paramname"><em>more</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">optional_yield&#160;</td>
          <td class="paramname"><em>y</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>List entries </p>
<dl class="params"><dt>매개변수</dt><dd>
  <table class="params">
    <tr><td class="paramname">markstr</td><td>Point after which to begin listing. Start at tail if null  </td></tr>
    <tr><td class="paramname">more</td><td>OUT: True if more entries in <a class="el" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html">FIFO</a> beyond the last returned </td></tr>
  </table>
  </dd>
</dl>

<p class="definition"><a class="el" href="cls__fifo__legacy_8cc_source.html">cls_fifo_legacy.cc</a> 파일의 <a class="el" href="cls__fifo__legacy_8cc_source.html#l01645">1645</a> 번째 라인에서 정의되었습니다.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1649</span>{</div>
<div class="line"><span class="lineno"> 1650</span>  std::unique_lock l(<a class="code hl_variable" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html#af2b6bcbdfba97260e576ff4a72d8ba49">m</a>);</div>
<div class="line"><span class="lineno"> 1651</span>  <span class="keyword">auto</span> <a class="code hl_variable" href="cls__fifo__legacy_8cc.html#ab35eff139cb790487ef1520b2446d3f7">tid</a> = ++<a class="code hl_variable" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html#afa7af9bdb8c2b6813e746cba65f61115">next_tid</a>;</div>
<div class="line"><span class="lineno"> 1652</span>  std::int64_t part_num = <a class="code hl_variable" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html#ac39e05a390f49314efc600e47135eee9">info</a>.tail_part_num;</div>
<div class="line"><span class="lineno"> 1653</span>  l.unlock();</div>
<div class="line"><span class="lineno"> 1654</span>  ldpp_dout(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>, 20) &lt;&lt; __PRETTY_FUNCTION__ &lt;&lt; <span class="stringliteral">&quot;:&quot;</span> &lt;&lt; __LINE__</div>
<div class="line"><span class="lineno"> 1655</span>         &lt;&lt; <span class="stringliteral">&quot; entering: tid=&quot;</span> &lt;&lt; <a class="code hl_variable" href="cls__fifo__legacy_8cc.html#ab35eff139cb790487ef1520b2446d3f7">tid</a> &lt;&lt; dendl;</div>
<div class="line"><span class="lineno"> 1656</span>  std::uint64_t ofs = 0;</div>
<div class="line"><span class="lineno"> 1657</span>  <span class="keywordflow">if</span> (markstr) {</div>
<div class="line"><span class="lineno"> 1658</span>    <span class="keyword">auto</span> marker = <a class="code hl_function" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html#a33d911f777b4ecaeff1b9248bbe516a7">to_marker</a>(*markstr);</div>
<div class="line"><span class="lineno"> 1659</span>    <span class="keywordflow">if</span> (!marker) {</div>
<div class="line"><span class="lineno"> 1660</span>      ldpp_dout(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>, -1) &lt;&lt; __PRETTY_FUNCTION__ &lt;&lt; <span class="stringliteral">&quot;:&quot;</span> &lt;&lt; __LINE__</div>
<div class="line"><span class="lineno"> 1661</span>         &lt;&lt; <span class="stringliteral">&quot; invalid marker string: &quot;</span> &lt;&lt; markstr</div>
<div class="line"><span class="lineno"> 1662</span>         &lt;&lt; <span class="stringliteral">&quot; tid= &quot;</span>&lt;&lt; <a class="code hl_variable" href="cls__fifo__legacy_8cc.html#ab35eff139cb790487ef1520b2446d3f7">tid</a> &lt;&lt; dendl;</div>
<div class="line"><span class="lineno"> 1663</span>      <span class="keywordflow">return</span> -EINVAL;</div>
<div class="line"><span class="lineno"> 1664</span>    }</div>
<div class="line"><span class="lineno"> 1665</span>    part_num = marker-&gt;num;</div>
<div class="line"><span class="lineno"> 1666</span>    ofs = marker-&gt;ofs;</div>
<div class="line"><span class="lineno"> 1667</span>  }</div>
<div class="line"><span class="lineno"> 1668</span> </div>
<div class="line"><span class="lineno"> 1669</span>  std::vector&lt;list_entry&gt; result;</div>
<div class="line"><span class="lineno"> 1670</span>  result.reserve(max_entries);</div>
<div class="line"><span class="lineno"> 1671</span>  <span class="keywordtype">bool</span> <a class="code hl_variable" href="cls__fifo__legacy_8cc.html#a9be039e59c8900399b85638616af1095">more</a> = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 1672</span> </div>
<div class="line"><span class="lineno"> 1673</span>  std::vector&lt;fifo::part_list_entry&gt; <a class="code hl_variable" href="cls__fifo__legacy_8cc.html#a0341b0ec09e77f9d6274d5b1517f7711">entries</a>;</div>
<div class="line"><span class="lineno"> 1674</span>  <span class="keywordtype">int</span> <a class="code hl_variable" href="rgw__aio_8cc.html#ae38055824c6eac64615832ad9d888539">r</a> = 0;</div>
<div class="line"><span class="lineno"> 1675</span>  <span class="keywordflow">while</span> (max_entries &gt; 0) {</div>
<div class="line"><span class="lineno"> 1676</span>    ldpp_dout(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>, 20) &lt;&lt; __PRETTY_FUNCTION__ &lt;&lt; <span class="stringliteral">&quot;:&quot;</span> &lt;&lt; __LINE__</div>
<div class="line"><span class="lineno"> 1677</span>           &lt;&lt; <span class="stringliteral">&quot; max_entries=&quot;</span> &lt;&lt; max_entries &lt;&lt; <span class="stringliteral">&quot; tid=&quot;</span> &lt;&lt; <a class="code hl_variable" href="cls__fifo__legacy_8cc.html#ab35eff139cb790487ef1520b2446d3f7">tid</a> &lt;&lt; dendl;</div>
<div class="line"><span class="lineno"> 1678</span>    <span class="keywordtype">bool</span> part_more = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 1679</span>    <span class="keywordtype">bool</span> part_full = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 1680</span> </div>
<div class="line"><span class="lineno"> 1681</span>    std::unique_lock l(<a class="code hl_variable" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html#af2b6bcbdfba97260e576ff4a72d8ba49">m</a>);</div>
<div class="line"><span class="lineno"> 1682</span>    <span class="keyword">auto</span> part_oid = <a class="code hl_variable" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html#ac39e05a390f49314efc600e47135eee9">info</a>.part_oid(part_num);</div>
<div class="line"><span class="lineno"> 1683</span>    l.unlock();</div>
<div class="line"><span class="lineno"> 1684</span> </div>
<div class="line"><span class="lineno"> 1685</span>    <a class="code hl_variable" href="rgw__aio_8cc.html#ae38055824c6eac64615832ad9d888539">r</a> = list_part(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>, <a class="code hl_variable" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html#af2b49f78650a528ef6b4abb16205b71f">ioctx</a>, part_oid, ofs, max_entries, &amp;<a class="code hl_variable" href="cls__fifo__legacy_8cc.html#a0341b0ec09e77f9d6274d5b1517f7711">entries</a>,</div>
<div class="line"><span class="lineno"> 1686</span>          &amp;part_more, &amp;part_full, <a class="code hl_variable" href="cls__fifo__legacy_8cc.html#ab35eff139cb790487ef1520b2446d3f7">tid</a>, y);</div>
<div class="line"><span class="lineno"> 1687</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="rgw__aio_8cc.html#ae38055824c6eac64615832ad9d888539">r</a> == -ENOENT) {</div>
<div class="line"><span class="lineno"> 1688</span>      ldpp_dout(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>, 20) &lt;&lt; __PRETTY_FUNCTION__ &lt;&lt; <span class="stringliteral">&quot;:&quot;</span> &lt;&lt; __LINE__</div>
<div class="line"><span class="lineno"> 1689</span>             &lt;&lt; <span class="stringliteral">&quot; missing part, rereading metadata&quot;</span></div>
<div class="line"><span class="lineno"> 1690</span>             &lt;&lt; <span class="stringliteral">&quot; tid= &quot;</span>&lt;&lt; <a class="code hl_variable" href="cls__fifo__legacy_8cc.html#ab35eff139cb790487ef1520b2446d3f7">tid</a> &lt;&lt; dendl;</div>
<div class="line"><span class="lineno"> 1691</span>      <a class="code hl_variable" href="rgw__aio_8cc.html#ae38055824c6eac64615832ad9d888539">r</a> = <a class="code hl_function" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html#a767e397207c78989f0e0ebcef3252d78">read_meta</a>(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>, <a class="code hl_variable" href="cls__fifo__legacy_8cc.html#ab35eff139cb790487ef1520b2446d3f7">tid</a>, y);</div>
<div class="line"><span class="lineno"> 1692</span>      <span class="keywordflow">if</span> (<a class="code hl_variable" href="rgw__aio_8cc.html#ae38055824c6eac64615832ad9d888539">r</a> &lt; 0) {</div>
<div class="line"><span class="lineno"> 1693</span>    ldpp_dout(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>, -1) &lt;&lt; __PRETTY_FUNCTION__ &lt;&lt; <span class="stringliteral">&quot;:&quot;</span> &lt;&lt; __LINE__</div>
<div class="line"><span class="lineno"> 1694</span>           &lt;&lt; <span class="stringliteral">&quot; read_meta failed: r=&quot;</span> &lt;&lt; <a class="code hl_variable" href="rgw__aio_8cc.html#ae38055824c6eac64615832ad9d888539">r</a></div>
<div class="line"><span class="lineno"> 1695</span>           &lt;&lt; <span class="stringliteral">&quot; tid= &quot;</span>&lt;&lt; <a class="code hl_variable" href="cls__fifo__legacy_8cc.html#ab35eff139cb790487ef1520b2446d3f7">tid</a> &lt;&lt; dendl;</div>
<div class="line"><span class="lineno"> 1696</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="rgw__aio_8cc.html#ae38055824c6eac64615832ad9d888539">r</a>;</div>
<div class="line"><span class="lineno"> 1697</span>      }</div>
<div class="line"><span class="lineno"> 1698</span>      <span class="keywordflow">if</span> (part_num &lt; <a class="code hl_variable" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html#ac39e05a390f49314efc600e47135eee9">info</a>.tail_part_num) {</div>
<div class="line"><span class="lineno"> 1699</span>    <span class="comment">/* raced with trim? restart */</span></div>
<div class="line"><span class="lineno"> 1700</span>    ldpp_dout(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>, 20) &lt;&lt; __PRETTY_FUNCTION__ &lt;&lt; <span class="stringliteral">&quot;:&quot;</span> &lt;&lt; __LINE__</div>
<div class="line"><span class="lineno"> 1701</span>               &lt;&lt; <span class="stringliteral">&quot; raced with trim, restarting: tid=&quot;</span> &lt;&lt; <a class="code hl_variable" href="cls__fifo__legacy_8cc.html#ab35eff139cb790487ef1520b2446d3f7">tid</a> &lt;&lt; dendl;</div>
<div class="line"><span class="lineno"> 1702</span>    max_entries += result.size();</div>
<div class="line"><span class="lineno"> 1703</span>    result.clear();</div>
<div class="line"><span class="lineno"> 1704</span>    std::unique_lock l(<a class="code hl_variable" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html#af2b6bcbdfba97260e576ff4a72d8ba49">m</a>);</div>
<div class="line"><span class="lineno"> 1705</span>    part_num = <a class="code hl_variable" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html#ac39e05a390f49314efc600e47135eee9">info</a>.tail_part_num;</div>
<div class="line"><span class="lineno"> 1706</span>    l.unlock();</div>
<div class="line"><span class="lineno"> 1707</span>    ofs = 0;</div>
<div class="line"><span class="lineno"> 1708</span>    <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 1709</span>      }</div>
<div class="line"><span class="lineno"> 1710</span>      ldpp_dout(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>, 20) &lt;&lt; __PRETTY_FUNCTION__ &lt;&lt; <span class="stringliteral">&quot;:&quot;</span> &lt;&lt; __LINE__</div>
<div class="line"><span class="lineno"> 1711</span>             &lt;&lt; <span class="stringliteral">&quot; assuming part was not written yet, so end of data: &quot;</span></div>
<div class="line"><span class="lineno"> 1712</span>             &lt;&lt; <span class="stringliteral">&quot;tid=&quot;</span> &lt;&lt; <a class="code hl_variable" href="cls__fifo__legacy_8cc.html#ab35eff139cb790487ef1520b2446d3f7">tid</a> &lt;&lt; dendl;</div>
<div class="line"><span class="lineno"> 1713</span>      <a class="code hl_variable" href="cls__fifo__legacy_8cc.html#a9be039e59c8900399b85638616af1095">more</a> = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 1714</span>      <a class="code hl_variable" href="rgw__aio_8cc.html#ae38055824c6eac64615832ad9d888539">r</a> = 0;</div>
<div class="line"><span class="lineno"> 1715</span>      <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1716</span>    }</div>
<div class="line"><span class="lineno"> 1717</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="rgw__aio_8cc.html#ae38055824c6eac64615832ad9d888539">r</a> &lt; 0) {</div>
<div class="line"><span class="lineno"> 1718</span>      ldpp_dout(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>, -1) &lt;&lt; __PRETTY_FUNCTION__ &lt;&lt; <span class="stringliteral">&quot;:&quot;</span> &lt;&lt; __LINE__</div>
<div class="line"><span class="lineno"> 1719</span>         &lt;&lt; <span class="stringliteral">&quot; list_entries failed: r=&quot;</span> &lt;&lt; <a class="code hl_variable" href="rgw__aio_8cc.html#ae38055824c6eac64615832ad9d888539">r</a></div>
<div class="line"><span class="lineno"> 1720</span>         &lt;&lt; <span class="stringliteral">&quot; tid= &quot;</span>&lt;&lt; <a class="code hl_variable" href="cls__fifo__legacy_8cc.html#ab35eff139cb790487ef1520b2446d3f7">tid</a> &lt;&lt; dendl;</div>
<div class="line"><span class="lineno"> 1721</span>      <span class="keywordflow">return</span> <a class="code hl_variable" href="rgw__aio_8cc.html#ae38055824c6eac64615832ad9d888539">r</a>;</div>
<div class="line"><span class="lineno"> 1722</span>    }</div>
<div class="line"><span class="lineno"> 1723</span>    <a class="code hl_variable" href="cls__fifo__legacy_8cc.html#a9be039e59c8900399b85638616af1095">more</a> = part_full || part_more;</div>
<div class="line"><span class="lineno"> 1724</span>    <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp; entry : <a class="code hl_variable" href="cls__fifo__legacy_8cc.html#a0341b0ec09e77f9d6274d5b1517f7711">entries</a>) {</div>
<div class="line"><span class="lineno"> 1725</span>      list_entry e;</div>
<div class="line"><span class="lineno"> 1726</span>      e.data = std::move(entry.data);</div>
<div class="line"><span class="lineno"> 1727</span>      e.marker = marker{part_num, entry.ofs}.to_string();</div>
<div class="line"><span class="lineno"> 1728</span>      e.mtime = entry.mtime;</div>
<div class="line"><span class="lineno"> 1729</span>      result.push_back(std::move(e));</div>
<div class="line"><span class="lineno"> 1730</span>      --max_entries;</div>
<div class="line"><span class="lineno"> 1731</span>      <span class="keywordflow">if</span> (max_entries == 0)</div>
<div class="line"><span class="lineno"> 1732</span>    <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1733</span>    }</div>
<div class="line"><span class="lineno"> 1734</span>    <a class="code hl_variable" href="cls__fifo__legacy_8cc.html#a0341b0ec09e77f9d6274d5b1517f7711">entries</a>.clear();</div>
<div class="line"><span class="lineno"> 1735</span>    <span class="keywordflow">if</span> (max_entries &gt; 0 &amp;&amp;</div>
<div class="line"><span class="lineno"> 1736</span>    part_more) {</div>
<div class="line"><span class="lineno"> 1737</span>    }</div>
<div class="line"><span class="lineno"> 1738</span> </div>
<div class="line"><span class="lineno"> 1739</span>    <span class="keywordflow">if</span> (!part_full) {</div>
<div class="line"><span class="lineno"> 1740</span>      ldpp_dout(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>, 20) &lt;&lt; __PRETTY_FUNCTION__ &lt;&lt; <span class="stringliteral">&quot;:&quot;</span> &lt;&lt; __LINE__</div>
<div class="line"><span class="lineno"> 1741</span>             &lt;&lt; <span class="stringliteral">&quot; head part is not full, so we can assume we&#39;re done: &quot;</span></div>
<div class="line"><span class="lineno"> 1742</span>             &lt;&lt; <span class="stringliteral">&quot;tid=&quot;</span> &lt;&lt; <a class="code hl_variable" href="cls__fifo__legacy_8cc.html#ab35eff139cb790487ef1520b2446d3f7">tid</a> &lt;&lt; dendl;</div>
<div class="line"><span class="lineno"> 1743</span>      <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1744</span>    }</div>
<div class="line"><span class="lineno"> 1745</span>    <span class="keywordflow">if</span> (!part_more) {</div>
<div class="line"><span class="lineno"> 1746</span>      ++part_num;</div>
<div class="line"><span class="lineno"> 1747</span>      ofs = 0;</div>
<div class="line"><span class="lineno"> 1748</span>    }</div>
<div class="line"><span class="lineno"> 1749</span>  }</div>
<div class="line"><span class="lineno"> 1750</span>  <span class="keywordflow">if</span> (presult)</div>
<div class="line"><span class="lineno"> 1751</span>    *presult = std::move(result);</div>
<div class="line"><span class="lineno"> 1752</span>  <span class="keywordflow">if</span> (pmore)</div>
<div class="line"><span class="lineno"> 1753</span>    *pmore =  <a class="code hl_variable" href="cls__fifo__legacy_8cc.html#a9be039e59c8900399b85638616af1095">more</a>;</div>
<div class="line"><span class="lineno"> 1754</span>  <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno"> 1755</span>}</div>
<div class="ttc" id="acls__fifo__legacy_8cc_html_a0341b0ec09e77f9d6274d5b1517f7711"><div class="ttname"><a href="cls__fifo__legacy_8cc.html#a0341b0ec09e77f9d6274d5b1517f7711">entries</a></div><div class="ttdeci">std::vector&lt; fifo::part_list_entry &gt; * entries</div><div class="ttdef"><b>Definition</b> <a href="cls__fifo__legacy_8cc_source.html#l00249">cls_fifo_legacy.cc:249</a></div></div>
</div><!-- fragment --><div class="dynheader">
이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o_ae8ae12a1e0c8a4b30d6f0d7152b42839_cgraph.png" border="0" usemap="#aclassrgw_1_1cls_1_1fifo_1_1_f_i_f_o_ae8ae12a1e0c8a4b30d6f0d7152b42839_cgraph" alt=""/></div>
<map name="aclassrgw_1_1cls_1_1fifo_1_1_f_i_f_o_ae8ae12a1e0c8a4b30d6f0d7152b42839_cgraph" id="aclassrgw_1_1cls_1_1fifo_1_1_f_i_f_o_ae8ae12a1e0c8a4b30d6f0d7152b42839_cgraph">
<area shape="rect" title="List entries" alt="" coords="5,23,133,66"/>
<area shape="rect" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5" title=" " alt="" coords="735,48,777,75"/>
<area shape="poly" title=" " alt="" coords="131,20,180,9,236,4,303,3,455,10,596,24,687,37,720,46,719,51,686,42,595,29,454,15,303,8,236,9,181,14,132,25"/>
<area shape="rect" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html#a767e397207c78989f0e0ebcef3252d78" title="Force refresh of metadata, yielding/blocking style" alt="" coords="181,23,308,66"/>
<area shape="poly" title=" " alt="" coords="133,42,165,42,165,47,133,47"/>
<area shape="rect" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html#a33d911f777b4ecaeff1b9248bbe516a7" title=" " alt="" coords="181,90,308,132"/>
<area shape="poly" title=" " alt="" coords="128,64,173,81,171,86,126,69"/>
<area shape="poly" title=" " alt="" coords="309,44,719,58,719,63,308,49"/>
<area shape="rect" href="namespacergw_1_1cls_1_1fifo.html#a467406e6496bef3cfca16fa6eaf7ba28" title=" " alt="" coords="356,148,508,175"/>
<area shape="poly" title=" " alt="" coords="290,64,309,76,401,137,398,141,307,80,287,69"/>
<area shape="poly" title=" " alt="" coords="464,145,555,110,644,85,719,67,720,72,645,90,557,115,466,150"/>
<area shape="rect" href="namespacergw.html#a49e77e75ed539fdbde0dcc092bb76467" title=" " alt="" coords="576,148,667,175"/>
<area shape="poly" title=" " alt="" coords="509,159,560,159,560,164,509,164"/>
<area shape="rect" href="namespacergw.html#a34a5757756e9618325f611b073ccd448" title=" " alt="" coords="576,223,667,250"/>
<area shape="poly" title=" " alt="" coords="469,173,573,215,571,220,467,178"/>
<area shape="rect" href="rgw__tools_8cc.html#ac8fd9a95626d93661d7280c9455eba5c" title="perform the rados operation, using the yield context when given" alt="" coords="556,274,687,300"/>
<area shape="poly" title=" " alt="" coords="449,174,496,215,558,260,567,265,565,269,555,264,492,219,446,178"/>
<area shape="poly" title=" " alt="" coords="598,149,594,140,597,130,606,124,622,122,638,124,647,131,644,135,636,129,621,127,608,129,601,134,599,139,603,147"/>
<area shape="poly" title=" " alt="" coords="598,224,594,214,597,205,606,199,622,196,638,199,647,206,644,210,636,204,621,202,608,204,601,208,599,214,603,222"/>
<area shape="poly" title=" " alt="" coords="669,271,685,260,713,219,732,173,744,128,750,90,755,91,749,129,737,175,718,222,689,264,673,276"/>
</map>
</div>

</div>
</div>
<a id="a3192cf05cf42c9a586044e5a4ee50357" name="a3192cf05cf42c9a586044e5a4ee50357"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3192cf05cf42c9a586044e5a4ee50357">&#9670;&#160;</a></span>meta()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const fifo::info &amp; rgw::cls::fifo::FIFO::meta </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get currently known metadata </p>

<p class="definition"><a class="el" href="cls__fifo__legacy_8cc_source.html">cls_fifo_legacy.cc</a> 파일의 <a class="el" href="cls__fifo__legacy_8cc_source.html#l01299">1299</a> 번째 라인에서 정의되었습니다.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1299</span>                                 {</div>
<div class="line"><span class="lineno"> 1300</span>  <span class="keywordflow">return</span> <a class="code hl_variable" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html#ac39e05a390f49314efc600e47135eee9">info</a>;</div>
<div class="line"><span class="lineno"> 1301</span>}</div>
</div><!-- fragment --><div class="dynheader">
이 함수를 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o_a3192cf05cf42c9a586044e5a4ee50357_icgraph.png" border="0" usemap="#aclassrgw_1_1cls_1_1fifo_1_1_f_i_f_o_a3192cf05cf42c9a586044e5a4ee50357_icgraph" alt=""/></div>
<map name="aclassrgw_1_1cls_1_1fifo_1_1_f_i_f_o_a3192cf05cf42c9a586044e5a4ee50357_icgraph" id="aclassrgw_1_1cls_1_1fifo_1_1_f_i_f_o_a3192cf05cf42c9a586044e5a4ee50357_icgraph">
<area shape="rect" title="Get currently known metadata" alt="" coords="208,5,335,48"/>
<area shape="rect" href="structrgw_1_1cls_1_1fifo_1_1_info_getter.html#ac46aadc4638a844a92cd3269e5070a00" title=" " alt="" coords="5,5,160,48"/>
<area shape="poly" title=" " alt="" coords="192,29,160,29,160,24,192,24"/>
</map>
</div>

</div>
</div>
<a id="a3a4a22943997d3dcb8ced6a8db6ba9f5" name="a3a4a22943997d3dcb8ced6a8db6ba9f5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3a4a22943997d3dcb8ced6a8db6ba9f5">&#9670;&#160;</a></span>open()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int rgw::cls::fifo::FIFO::open </td>
          <td>(</td>
          <td class="paramtype">const DoutPrefixProvider *&#160;</td>
          <td class="paramname"><em>dpp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">lr::IoCtx&#160;</td>
          <td class="paramname"><em>ioctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::string&#160;</td>
          <td class="paramname"><em>oid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::unique_ptr&lt; <a class="el" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html">FIFO</a> &gt; *&#160;</td>
          <td class="paramname"><em>fifo</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">optional_yield&#160;</td>
          <td class="paramname"><em>y</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::optional&lt; fifo::objv &gt;&#160;</td>
          <td class="paramname"><em>objv</em> = <code>std::nullopt</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>probe</em> = <code>false</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Open an existing <a class="el" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html">FIFO</a>. </p>
<dl class="params"><dt>매개변수</dt><dd>
  <table class="params">
    <tr><td class="paramname">objv</td><td>Operation will fail if <a class="el" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html">FIFO</a> is not at this version  </td></tr>
    <tr><td class="paramname">probe</td><td>Probing for existence, don't print errors if we can't find it. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition"><a class="el" href="cls__fifo__legacy_8cc_source.html">cls_fifo_legacy.cc</a> 파일의 <a class="el" href="cls__fifo__legacy_8cc_source.html#l01158">1158</a> 번째 라인에서 정의되었습니다.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1161</span>{</div>
<div class="line"><span class="lineno"> 1162</span>  ldpp_dout(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>, 20)</div>
<div class="line"><span class="lineno"> 1163</span>    &lt;&lt; __PRETTY_FUNCTION__ &lt;&lt; <span class="stringliteral">&quot;:&quot;</span> &lt;&lt; __LINE__</div>
<div class="line"><span class="lineno"> 1164</span>    &lt;&lt; <span class="stringliteral">&quot; entering&quot;</span> &lt;&lt; dendl;</div>
<div class="line"><span class="lineno"> 1165</span>  fifo::info <a class="code hl_variable" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html#ac39e05a390f49314efc600e47135eee9">info</a>;</div>
<div class="line"><span class="lineno"> 1166</span>  std::uint32_t size;</div>
<div class="line"><span class="lineno"> 1167</span>  std::uint32_t over;</div>
<div class="line"><span class="lineno"> 1168</span>  <span class="keywordtype">int</span> <a class="code hl_variable" href="rgw__aio_8cc.html#ae38055824c6eac64615832ad9d888539">r</a> = <a class="code hl_function" href="namespacergw_1_1cls_1_1fifo.html#a467406e6496bef3cfca16fa6eaf7ba28">get_meta</a>(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>, <a class="code hl_variable" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html#af2b49f78650a528ef6b4abb16205b71f">ioctx</a>, std::move(<a class="code hl_variable" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html#a3e0ced0e9aa607afbde4462e07416be3">oid</a>), objv, &amp;<a class="code hl_variable" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html#ac39e05a390f49314efc600e47135eee9">info</a>, &amp;size, &amp;over, 0, y,</div>
<div class="line"><span class="lineno"> 1169</span>           probe);</div>
<div class="line"><span class="lineno"> 1170</span>  <span class="keywordflow">if</span> (<a class="code hl_variable" href="rgw__aio_8cc.html#ae38055824c6eac64615832ad9d888539">r</a> &lt; 0) {</div>
<div class="line"><span class="lineno"> 1171</span>    <span class="keywordflow">if</span> (!(probe &amp;&amp; (<a class="code hl_variable" href="rgw__aio_8cc.html#ae38055824c6eac64615832ad9d888539">r</a> == -ENOENT || <a class="code hl_variable" href="rgw__aio_8cc.html#ae38055824c6eac64615832ad9d888539">r</a> == -ENODATA))) {</div>
<div class="line"><span class="lineno"> 1172</span>      ldpp_dout(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>, -1) &lt;&lt; __PRETTY_FUNCTION__ &lt;&lt; <span class="stringliteral">&quot;:&quot;</span> &lt;&lt; __LINE__</div>
<div class="line"><span class="lineno"> 1173</span>         &lt;&lt; <span class="stringliteral">&quot; get_meta failed: r=&quot;</span> &lt;&lt; <a class="code hl_variable" href="rgw__aio_8cc.html#ae38055824c6eac64615832ad9d888539">r</a> &lt;&lt; dendl;</div>
<div class="line"><span class="lineno"> 1174</span>    }</div>
<div class="line"><span class="lineno"> 1175</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="rgw__aio_8cc.html#ae38055824c6eac64615832ad9d888539">r</a>;</div>
<div class="line"><span class="lineno"> 1176</span>  }</div>
<div class="line"><span class="lineno"> 1177</span>  std::unique_ptr&lt;FIFO&gt; f(<span class="keyword">new</span> <a class="code hl_function" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html#ab4c9eb9846a7a0396ad2ce56cc0d25d8">FIFO</a>(std::move(<a class="code hl_variable" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html#af2b49f78650a528ef6b4abb16205b71f">ioctx</a>), <a class="code hl_variable" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html#a3e0ced0e9aa607afbde4462e07416be3">oid</a>));</div>
<div class="line"><span class="lineno"> 1178</span>  f-&gt;info = <a class="code hl_variable" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html#ac39e05a390f49314efc600e47135eee9">info</a>;</div>
<div class="line"><span class="lineno"> 1179</span>  f-&gt;part_header_size = size;</div>
<div class="line"><span class="lineno"> 1180</span>  f-&gt;part_entry_overhead = over;</div>
<div class="line"><span class="lineno"> 1181</span>  <span class="comment">// If there are journal entries, process them, in case</span></div>
<div class="line"><span class="lineno"> 1182</span>  <span class="comment">// someone crashed mid-transaction.</span></div>
<div class="line"><span class="lineno"> 1183</span>  <span class="keywordflow">if</span> (!<a class="code hl_variable" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html#ac39e05a390f49314efc600e47135eee9">info</a>.journal.empty()) {</div>
<div class="line"><span class="lineno"> 1184</span>    ldpp_dout(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>, 20)</div>
<div class="line"><span class="lineno"> 1185</span>      &lt;&lt; __PRETTY_FUNCTION__ &lt;&lt; <span class="stringliteral">&quot;:&quot;</span> &lt;&lt; __LINE__</div>
<div class="line"><span class="lineno"> 1186</span>      &lt;&lt; <span class="stringliteral">&quot; processing leftover journal&quot;</span> &lt;&lt; dendl;</div>
<div class="line"><span class="lineno"> 1187</span>    <a class="code hl_variable" href="rgw__aio_8cc.html#ae38055824c6eac64615832ad9d888539">r</a> = f-&gt;process_journal(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>, 0, y);</div>
<div class="line"><span class="lineno"> 1188</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="rgw__aio_8cc.html#ae38055824c6eac64615832ad9d888539">r</a> &lt; 0) {</div>
<div class="line"><span class="lineno"> 1189</span>      ldpp_dout(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>, -1) &lt;&lt; __PRETTY_FUNCTION__ &lt;&lt; <span class="stringliteral">&quot;:&quot;</span> &lt;&lt; __LINE__</div>
<div class="line"><span class="lineno"> 1190</span>         &lt;&lt; <span class="stringliteral">&quot; process_journal failed: r=&quot;</span> &lt;&lt; <a class="code hl_variable" href="rgw__aio_8cc.html#ae38055824c6eac64615832ad9d888539">r</a> &lt;&lt; dendl;</div>
<div class="line"><span class="lineno"> 1191</span>      <span class="keywordflow">return</span> <a class="code hl_variable" href="rgw__aio_8cc.html#ae38055824c6eac64615832ad9d888539">r</a>;</div>
<div class="line"><span class="lineno"> 1192</span>    }</div>
<div class="line"><span class="lineno"> 1193</span>  }</div>
<div class="line"><span class="lineno"> 1194</span>  *<a class="code hl_enumvalue" href="rgw__log__backing_8cc.html#a6a9b2bbff101e9220d06d871f217c028acf54937a2330ac17aa523bf7130911a3">fifo</a> = std::move(f);</div>
<div class="line"><span class="lineno"> 1195</span>  <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno"> 1196</span>}</div>
<div class="ttc" id="aclassrgw_1_1cls_1_1fifo_1_1_f_i_f_o_html_ab4c9eb9846a7a0396ad2ce56cc0d25d8"><div class="ttname"><a href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html#ab4c9eb9846a7a0396ad2ce56cc0d25d8">rgw::cls::fifo::FIFO::FIFO</a></div><div class="ttdeci">FIFO(lr::IoCtx &amp;&amp;ioc, std::string oid)</div><div class="ttdef"><b>Definition</b> <a href="cls__fifo__legacy_8h_source.html#l00126">cls_fifo_legacy.h:126</a></div></div>
<div class="ttc" id="anamespacergw_1_1cls_1_1fifo_html_a467406e6496bef3cfca16fa6eaf7ba28"><div class="ttname"><a href="namespacergw_1_1cls_1_1fifo.html#a467406e6496bef3cfca16fa6eaf7ba28">rgw::cls::fifo::get_meta</a></div><div class="ttdeci">int get_meta(const DoutPrefixProvider *dpp, lr::IoCtx &amp;ioctx, const std::string &amp;oid, std::optional&lt; fifo::objv &gt; objv, fifo::info *info, std::uint32_t *part_header_size, std::uint32_t *part_entry_overhead, uint64_t tid, optional_yield y, bool probe)</div><div class="ttdef"><b>Definition</b> <a href="cls__fifo__legacy_8cc_source.html#l00068">cls_fifo_legacy.cc:68</a></div></div>
<div class="ttc" id="argw__log__backing_8cc_html_a6a9b2bbff101e9220d06d871f217c028acf54937a2330ac17aa523bf7130911a3"><div class="ttname"><a href="rgw__log__backing_8cc.html#a6a9b2bbff101e9220d06d871f217c028acf54937a2330ac17aa523bf7130911a3">shard_check::fifo</a></div><div class="ttdeci">@ fifo</div></div>
</div><!-- fragment --><div class="dynheader">
이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o_a3a4a22943997d3dcb8ced6a8db6ba9f5_cgraph.png" border="0" usemap="#aclassrgw_1_1cls_1_1fifo_1_1_f_i_f_o_a3a4a22943997d3dcb8ced6a8db6ba9f5_cgraph" alt=""/></div>
<map name="aclassrgw_1_1cls_1_1fifo_1_1_f_i_f_o_a3a4a22943997d3dcb8ced6a8db6ba9f5_cgraph" id="aclassrgw_1_1cls_1_1fifo_1_1_f_i_f_o_a3a4a22943997d3dcb8ced6a8db6ba9f5_cgraph">
<area shape="rect" title="Open an existing FIFO." alt="" coords="5,9,133,52"/>
<area shape="rect" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5" title=" " alt="" coords="559,5,602,32"/>
<area shape="poly" title=" " alt="" coords="133,24,381,13,511,13,544,14,544,20,511,19,381,19,133,30"/>
<area shape="rect" href="namespacergw_1_1cls_1_1fifo.html#a467406e6496bef3cfca16fa6eaf7ba28" title=" " alt="" coords="181,80,333,107"/>
<area shape="poly" title=" " alt="" coords="134,49,201,72,199,77,132,54"/>
<area shape="poly" title=" " alt="" coords="286,77,330,58,380,41,468,25,544,18,545,23,469,30,382,47,331,63,288,82"/>
<area shape="rect" href="namespacergw.html#a49e77e75ed539fdbde0dcc092bb76467" title=" " alt="" coords="401,80,492,107"/>
<area shape="poly" title=" " alt="" coords="334,91,385,91,385,96,334,96"/>
<area shape="rect" href="namespacergw.html#a34a5757756e9618325f611b073ccd448" title=" " alt="" coords="401,155,492,181"/>
<area shape="poly" title=" " alt="" coords="294,105,397,146,395,151,292,110"/>
<area shape="rect" href="rgw__tools_8cc.html#ac8fd9a95626d93661d7280c9455eba5c" title="perform the rados operation, using the yield context when given" alt="" coords="381,205,511,232"/>
<area shape="poly" title=" " alt="" coords="274,105,320,147,382,191,392,196,389,201,380,196,317,151,270,109"/>
<area shape="poly" title=" " alt="" coords="422,81,418,71,421,62,431,56,446,53,463,56,472,63,468,67,461,61,446,59,433,61,425,65,424,71,427,78"/>
<area shape="poly" title=" " alt="" coords="422,155,418,146,421,137,431,130,446,128,463,131,472,137,468,142,461,136,446,133,433,135,425,140,424,146,427,153"/>
<area shape="poly" title=" " alt="" coords="494,203,509,191,535,157,553,118,566,80,573,47,578,48,571,81,558,120,540,160,513,195,497,207"/>
</map>
</div>
<div class="dynheader">
이 함수를 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o_a3a4a22943997d3dcb8ced6a8db6ba9f5_icgraph.png" border="0" usemap="#aclassrgw_1_1cls_1_1fifo_1_1_f_i_f_o_a3a4a22943997d3dcb8ced6a8db6ba9f5_icgraph" alt=""/></div>
<map name="aclassrgw_1_1cls_1_1fifo_1_1_f_i_f_o_a3a4a22943997d3dcb8ced6a8db6ba9f5_icgraph" id="aclassrgw_1_1cls_1_1fifo_1_1_f_i_f_o_a3a4a22943997d3dcb8ced6a8db6ba9f5_icgraph">
<area shape="rect" title="Open an existing FIFO." alt="" coords="577,343,705,385"/>
<area shape="rect" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html#ac4b92be06298b9e40d12bc9832643083" title="Create a new or open an existing FIFO." alt="" coords="402,343,529,385"/>
<area shape="poly" title=" " alt="" coords="562,367,529,367,529,361,562,361"/>
<area shape="rect" href="class_lazy_f_i_f_o.html#a67e6ab18f0a696fb4a7cb8e4c20c023a" title=" " alt="" coords="220,351,354,377"/>
<area shape="poly" title=" " alt="" coords="387,367,354,367,354,361,387,361"/>
<area shape="rect" href="class_lazy_f_i_f_o.html#ac16e514d809808318e3bcd4717eab84d" title=" " alt="" coords="5,5,172,32"/>
<area shape="poly" title=" " alt="" coords="281,335,273,275,255,197,240,156,222,116,198,79,170,46,154,35,157,30,173,42,203,76,226,114,245,154,260,196,278,274,286,335"/>
<area shape="rect" href="class_lazy_f_i_f_o.html#aa5de558a7fe54d63e5da73bc1826bf34" title=" " alt="" coords="8,56,169,83"/>
<area shape="poly" title=" " alt="" coords="279,336,268,285,248,220,216,154,195,123,170,97,153,85,156,81,173,93,199,120,221,151,253,218,273,283,284,335"/>
<area shape="rect" href="class_lazy_f_i_f_o.html#a221539e23951dd581b8d17dcee23c955" title=" " alt="" coords="8,107,169,133"/>
<area shape="poly" title=" " alt="" coords="276,337,262,295,241,244,210,192,191,168,170,147,152,136,155,132,173,143,195,165,215,189,246,241,267,293,281,335"/>
<area shape="rect" href="class_lazy_f_i_f_o.html#a44611dc8693ef2bc6fbf887bdf8f8cb0" title=" " alt="" coords="22,157,155,200"/>
<area shape="poly" title=" " alt="" coords="269,339,229,277,202,243,170,214,152,203,155,198,173,210,206,240,234,273,274,336"/>
<area shape="rect" href="class_lazy_f_i_f_o.html#a51848f2008f1515db776d4f71c2b77d8" title=" " alt="" coords="37,224,140,251"/>
<area shape="poly" title=" " alt="" coords="262,341,221,302,170,265,140,252,142,247,173,260,225,298,266,337"/>
<area shape="rect" href="class_lazy_f_i_f_o.html#a1aff5a041e32a0b10d6fa6fe60583726" title=" " alt="" coords="37,275,140,301"/>
<area shape="poly" title=" " alt="" coords="242,346,171,316,137,304,139,299,173,311,244,341"/>
<area shape="rect" href="class_lazy_f_i_f_o.html#a89c884d41a3204410b94d02ff8c30e03" title=" " alt="" coords="31,325,146,352"/>
<area shape="poly" title=" " alt="" coords="204,356,146,349,147,343,205,351"/>
<area shape="rect" href="class_lazy_f_i_f_o.html#a3216db64892d41d69adac6fadf3401c4" title=" " alt="" coords="31,376,146,403"/>
<area shape="poly" title=" " alt="" coords="205,377,147,385,146,379,204,372"/>
<area shape="rect" href="class_lazy_f_i_f_o.html#ac0d799ea1570f0a40dcb99f011facb4a" title=" " alt="" coords="31,427,146,453"/>
<area shape="poly" title=" " alt="" coords="244,387,173,417,139,429,137,424,171,412,242,382"/>
<area shape="rect" href="class_lazy_f_i_f_o.html#a5270b5f0206f79deb55ef09d051ab38a" title=" " alt="" coords="31,477,146,504"/>
<area shape="poly" title=" " alt="" coords="266,391,225,430,173,468,147,479,145,474,170,463,221,426,262,387"/>
<area shape="rect" href="class_lazy_f_i_f_o.html#ac5e04837d3da359a8dae21d3ed7b10dd" title=" " alt="" coords="31,528,146,555"/>
<area shape="poly" title=" " alt="" coords="274,392,235,455,206,489,173,518,147,531,145,527,170,514,203,485,230,452,270,390"/>
<area shape="rect" href="class_lazy_f_i_f_o.html#aa0b80e2e29ffd24efcd2e24d80ee5d7b" title=" " alt="" coords="15,579,162,605"/>
<area shape="poly" title=" " alt="" coords="280,393,265,432,243,479,213,527,173,569,154,580,151,576,170,565,208,524,239,477,260,430,275,391"/>
<area shape="rect" href="class_lazy_f_i_f_o.html#a98cc78c5fdd103dd2097ca047d1ea80a" title=" " alt="" coords="34,629,143,656"/>
<area shape="poly" title=" " alt="" coords="283,393,271,442,251,503,219,565,198,594,173,619,144,636,142,631,170,615,194,591,214,562,246,501,266,440,278,392"/>
<area shape="rect" href="class_lazy_f_i_f_o.html#a29d482b07a332ddd1f47cf44d4084694" title=" " alt="" coords="34,680,143,707"/>
<area shape="poly" title=" " alt="" coords="286,393,277,451,258,525,243,564,225,603,201,638,173,670,144,687,142,682,170,666,197,635,220,600,238,562,253,524,272,450,280,392"/>
</map>
</div>

</div>
</div>
<a id="ade9633fbe45e52b567b52f60c6a2126b" name="ade9633fbe45e52b567b52f60c6a2126b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ade9633fbe45e52b567b52f60c6a2126b">&#9670;&#160;</a></span>operator=() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html">FIFO</a> &amp; rgw::cls::fifo::FIFO::operator= </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html">FIFO</a> &amp;&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">delete</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a8260329b4fe712cba7faaa75e74f5fdf" name="a8260329b4fe712cba7faaa75e74f5fdf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8260329b4fe712cba7faaa75e74f5fdf">&#9670;&#160;</a></span>operator=() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html">FIFO</a> &amp; rgw::cls::fifo::FIFO::operator= </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html">FIFO</a> &amp;&amp;&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">delete</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="aeac49c88d791eb299a24676ccf21d0c2" name="aeac49c88d791eb299a24676ccf21d0c2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aeac49c88d791eb299a24676ccf21d0c2">&#9670;&#160;</a></span>process_journal() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void rgw::cls::fifo::FIFO::process_journal </td>
          <td>(</td>
          <td class="paramtype">const DoutPrefixProvider *&#160;</td>
          <td class="paramname"><em>dpp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::uint64_t&#160;</td>
          <td class="paramname"><em>tid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">lr::AioCompletion *&#160;</td>
          <td class="paramname"><em>c</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition"><a class="el" href="cls__fifo__legacy_8cc_source.html">cls_fifo_legacy.cc</a> 파일의 <a class="el" href="cls__fifo__legacy_8cc_source.html#l02367">2367</a> 번째 라인에서 정의되었습니다.</p>
<div class="fragment"><div class="line"><span class="lineno"> 2367</span>                                                                                             {</div>
<div class="line"><span class="lineno"> 2368</span>  <span class="keyword">auto</span> p = std::make_unique&lt;JournalProcessor&gt;(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>, <span class="keyword">this</span>, <a class="code hl_variable" href="cls__fifo__legacy_8cc.html#ab35eff139cb790487ef1520b2446d3f7">tid</a>, <a class="code hl_variable" href="rgw__aio_8cc.html#af3997c9b015c5696191674621076ae50">c</a>);</div>
<div class="line"><span class="lineno"> 2369</span>  p-&gt;process(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>, std::move(p));</div>
<div class="line"><span class="lineno"> 2370</span>}</div>
</div><!-- fragment --><div class="dynheader">
이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o_aeac49c88d791eb299a24676ccf21d0c2_cgraph.png" border="0" usemap="#aclassrgw_1_1cls_1_1fifo_1_1_f_i_f_o_aeac49c88d791eb299a24676ccf21d0c2_cgraph" alt=""/></div>
<map name="aclassrgw_1_1cls_1_1fifo_1_1_f_i_f_o_aeac49c88d791eb299a24676ccf21d0c2_cgraph" id="aclassrgw_1_1cls_1_1fifo_1_1_f_i_f_o_aeac49c88d791eb299a24676ccf21d0c2_cgraph">
<area shape="rect" title=" " alt="" coords="5,5,133,48"/>
<area shape="rect" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5" title=" " alt="" coords="181,13,223,40"/>
<area shape="poly" title=" " alt="" coords="133,24,165,24,165,29,133,29"/>
</map>
</div>

</div>
</div>
<a id="a1183904fcb363500f021b6ecf9f58d29" name="a1183904fcb363500f021b6ecf9f58d29"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1183904fcb363500f021b6ecf9f58d29">&#9670;&#160;</a></span>process_journal() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int rgw::cls::fifo::FIFO::process_journal </td>
          <td>(</td>
          <td class="paramtype">const DoutPrefixProvider *&#160;</td>
          <td class="paramname"><em>dpp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::uint64_t&#160;</td>
          <td class="paramname"><em>tid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">optional_yield&#160;</td>
          <td class="paramname"><em>y</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition"><a class="el" href="cls__fifo__legacy_8cc_source.html">cls_fifo_legacy.cc</a> 파일의 <a class="el" href="cls__fifo__legacy_8cc_source.html#l00596">596</a> 번째 라인에서 정의되었습니다.</p>
<div class="fragment"><div class="line"><span class="lineno">  597</span>{</div>
<div class="line"><span class="lineno">  598</span>  ldpp_dout(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>, 20) &lt;&lt; __PRETTY_FUNCTION__ &lt;&lt; <span class="stringliteral">&quot;:&quot;</span> &lt;&lt; __LINE__</div>
<div class="line"><span class="lineno">  599</span>         &lt;&lt; <span class="stringliteral">&quot; entering: tid=&quot;</span> &lt;&lt; <a class="code hl_variable" href="cls__fifo__legacy_8cc.html#ab35eff139cb790487ef1520b2446d3f7">tid</a> &lt;&lt; dendl;</div>
<div class="line"><span class="lineno">  600</span>  std::vector&lt;fifo::journal_entry&gt; processed;</div>
<div class="line"><span class="lineno">  601</span> </div>
<div class="line"><span class="lineno">  602</span>  std::unique_lock l(<a class="code hl_variable" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html#af2b6bcbdfba97260e576ff4a72d8ba49">m</a>);</div>
<div class="line"><span class="lineno">  603</span>  <span class="keyword">auto</span> tmpjournal = <a class="code hl_variable" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html#ac39e05a390f49314efc600e47135eee9">info</a>.journal;</div>
<div class="line"><span class="lineno">  604</span>  <span class="keyword">auto</span> new_tail = <a class="code hl_variable" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html#ac39e05a390f49314efc600e47135eee9">info</a>.tail_part_num;</div>
<div class="line"><span class="lineno">  605</span>  <span class="keyword">auto</span> new_head = <a class="code hl_variable" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html#ac39e05a390f49314efc600e47135eee9">info</a>.head_part_num;</div>
<div class="line"><span class="lineno">  606</span>  <span class="keyword">auto</span> new_max = <a class="code hl_variable" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html#ac39e05a390f49314efc600e47135eee9">info</a>.max_push_part_num;</div>
<div class="line"><span class="lineno">  607</span>  l.unlock();</div>
<div class="line"><span class="lineno">  608</span> </div>
<div class="line"><span class="lineno">  609</span>  <span class="keywordtype">int</span> <a class="code hl_variable" href="rgw__aio_8cc.html#ae38055824c6eac64615832ad9d888539">r</a> = 0;</div>
<div class="line"><span class="lineno">  610</span>  <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp; entry : tmpjournal) {</div>
<div class="line"><span class="lineno">  611</span>    ldpp_dout(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>, 20) &lt;&lt; __PRETTY_FUNCTION__ &lt;&lt; <span class="stringliteral">&quot;:&quot;</span> &lt;&lt; __LINE__</div>
<div class="line"><span class="lineno">  612</span>           &lt;&lt; <span class="stringliteral">&quot; processing entry: entry=&quot;</span> &lt;&lt; entry &lt;&lt; <span class="stringliteral">&quot; tid=&quot;</span> &lt;&lt; <a class="code hl_variable" href="cls__fifo__legacy_8cc.html#ab35eff139cb790487ef1520b2446d3f7">tid</a></div>
<div class="line"><span class="lineno">  613</span>           &lt;&lt; dendl;</div>
<div class="line"><span class="lineno">  614</span>    <span class="keywordflow">switch</span> (entry.op) {</div>
<div class="line"><span class="lineno">  615</span>    <span class="keywordflow">case</span> fifo::journal_entry::Op::create:</div>
<div class="line"><span class="lineno">  616</span>      <a class="code hl_variable" href="rgw__aio_8cc.html#ae38055824c6eac64615832ad9d888539">r</a> = <a class="code hl_function" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html#a8e9d27e0bfcef221c264d48a277a6961">create_part</a>(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>, entry.part_num, <a class="code hl_variable" href="cls__fifo__legacy_8cc.html#ab35eff139cb790487ef1520b2446d3f7">tid</a>, y);</div>
<div class="line"><span class="lineno">  617</span>      <span class="keywordflow">if</span> (entry.part_num &gt; new_max) {</div>
<div class="line"><span class="lineno">  618</span>    new_max = entry.part_num;</div>
<div class="line"><span class="lineno">  619</span>      }</div>
<div class="line"><span class="lineno">  620</span>      <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  621</span>    <span class="keywordflow">case</span> fifo::journal_entry::Op::set_head:</div>
<div class="line"><span class="lineno">  622</span>      <a class="code hl_variable" href="rgw__aio_8cc.html#ae38055824c6eac64615832ad9d888539">r</a> = 0;</div>
<div class="line"><span class="lineno">  623</span>      <span class="keywordflow">if</span> (entry.part_num &gt; new_head) {</div>
<div class="line"><span class="lineno">  624</span>    new_head = entry.part_num;</div>
<div class="line"><span class="lineno">  625</span>      }</div>
<div class="line"><span class="lineno">  626</span>      <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  627</span>    <span class="keywordflow">case</span> fifo::journal_entry::Op::remove:</div>
<div class="line"><span class="lineno">  628</span>      <a class="code hl_variable" href="rgw__aio_8cc.html#ae38055824c6eac64615832ad9d888539">r</a> = <a class="code hl_function" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html#aea9becd936635377461013178aecdbed">remove_part</a>(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>, entry.part_num, <a class="code hl_variable" href="cls__fifo__legacy_8cc.html#ab35eff139cb790487ef1520b2446d3f7">tid</a>, y);</div>
<div class="line"><span class="lineno">  629</span>      <span class="keywordflow">if</span> (<a class="code hl_variable" href="rgw__aio_8cc.html#ae38055824c6eac64615832ad9d888539">r</a> == -ENOENT) <a class="code hl_variable" href="rgw__aio_8cc.html#ae38055824c6eac64615832ad9d888539">r</a> = 0;</div>
<div class="line"><span class="lineno">  630</span>      <span class="keywordflow">if</span> (entry.part_num &gt;= new_tail) {</div>
<div class="line"><span class="lineno">  631</span>    new_tail = entry.part_num + 1;</div>
<div class="line"><span class="lineno">  632</span>      }</div>
<div class="line"><span class="lineno">  633</span>      <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  634</span>    <span class="keywordflow">default</span>:</div>
<div class="line"><span class="lineno">  635</span>      ldpp_dout(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>, -1) &lt;&lt; __PRETTY_FUNCTION__ &lt;&lt; <span class="stringliteral">&quot;:&quot;</span> &lt;&lt; __LINE__</div>
<div class="line"><span class="lineno">  636</span>         &lt;&lt; <span class="stringliteral">&quot; unknown journaled op: entry=&quot;</span> &lt;&lt; entry &lt;&lt; <span class="stringliteral">&quot; tid=&quot;</span></div>
<div class="line"><span class="lineno">  637</span>         &lt;&lt; <a class="code hl_variable" href="cls__fifo__legacy_8cc.html#ab35eff139cb790487ef1520b2446d3f7">tid</a> &lt;&lt; dendl;</div>
<div class="line"><span class="lineno">  638</span>      <span class="keywordflow">return</span> -EIO;</div>
<div class="line"><span class="lineno">  639</span>    }</div>
<div class="line"><span class="lineno">  640</span> </div>
<div class="line"><span class="lineno">  641</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="rgw__aio_8cc.html#ae38055824c6eac64615832ad9d888539">r</a> &lt; 0) {</div>
<div class="line"><span class="lineno">  642</span>      ldpp_dout(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>, -1) &lt;&lt; __PRETTY_FUNCTION__ &lt;&lt; <span class="stringliteral">&quot;:&quot;</span> &lt;&lt; __LINE__</div>
<div class="line"><span class="lineno">  643</span>         &lt;&lt; <span class="stringliteral">&quot; processing entry failed: entry=&quot;</span> &lt;&lt; entry</div>
<div class="line"><span class="lineno">  644</span>         &lt;&lt; <span class="stringliteral">&quot; r=&quot;</span> &lt;&lt; <a class="code hl_variable" href="rgw__aio_8cc.html#ae38055824c6eac64615832ad9d888539">r</a> &lt;&lt; <span class="stringliteral">&quot; tid=&quot;</span> &lt;&lt; <a class="code hl_variable" href="cls__fifo__legacy_8cc.html#ab35eff139cb790487ef1520b2446d3f7">tid</a> &lt;&lt; dendl;</div>
<div class="line"><span class="lineno">  645</span>      <span class="keywordflow">return</span> -<a class="code hl_variable" href="rgw__aio_8cc.html#ae38055824c6eac64615832ad9d888539">r</a>;</div>
<div class="line"><span class="lineno">  646</span>    }</div>
<div class="line"><span class="lineno">  647</span> </div>
<div class="line"><span class="lineno">  648</span>    processed.push_back(std::move(entry));</div>
<div class="line"><span class="lineno">  649</span>  }</div>
<div class="line"><span class="lineno">  650</span> </div>
<div class="line"><span class="lineno">  651</span>  <span class="comment">// Postprocess</span></div>
<div class="line"><span class="lineno">  652</span>  <span class="keywordtype">bool</span> canceled = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  653</span> </div>
<div class="line"><span class="lineno">  654</span>  <span class="keywordflow">for</span> (<span class="keyword">auto</span> i = 0; canceled &amp;&amp; i &lt; <a class="code hl_variable" href="namespacergw_1_1cls_1_1fifo.html#a933975517fc01392747c3e4269c249a6">MAX_RACE_RETRIES</a>; ++i) {</div>
<div class="line"><span class="lineno">  655</span>    ldpp_dout(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>, 20) &lt;&lt; __PRETTY_FUNCTION__ &lt;&lt; <span class="stringliteral">&quot;:&quot;</span> &lt;&lt; __LINE__</div>
<div class="line"><span class="lineno">  656</span>           &lt;&lt; <span class="stringliteral">&quot; postprocessing: i=&quot;</span> &lt;&lt; i &lt;&lt; <span class="stringliteral">&quot; tid=&quot;</span> &lt;&lt; <a class="code hl_variable" href="cls__fifo__legacy_8cc.html#ab35eff139cb790487ef1520b2446d3f7">tid</a> &lt;&lt; dendl;</div>
<div class="line"><span class="lineno">  657</span> </div>
<div class="line"><span class="lineno">  658</span>    std::optional&lt;int64_t&gt; tail_part_num;</div>
<div class="line"><span class="lineno">  659</span>    std::optional&lt;int64_t&gt; head_part_num;</div>
<div class="line"><span class="lineno">  660</span>    std::optional&lt;int64_t&gt; max_part_num;</div>
<div class="line"><span class="lineno">  661</span> </div>
<div class="line"><span class="lineno">  662</span>    std::unique_lock l(<a class="code hl_variable" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html#af2b6bcbdfba97260e576ff4a72d8ba49">m</a>);</div>
<div class="line"><span class="lineno">  663</span>    <span class="keyword">auto</span> objv = <a class="code hl_variable" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html#ac39e05a390f49314efc600e47135eee9">info</a>.version;</div>
<div class="line"><span class="lineno">  664</span>    <span class="keywordflow">if</span> (new_tail &gt; tail_part_num) tail_part_num = new_tail;</div>
<div class="line"><span class="lineno">  665</span>    <span class="keywordflow">if</span> (new_head &gt; <a class="code hl_variable" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html#ac39e05a390f49314efc600e47135eee9">info</a>.head_part_num) head_part_num = new_head;</div>
<div class="line"><span class="lineno">  666</span>    <span class="keywordflow">if</span> (new_max &gt; <a class="code hl_variable" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html#ac39e05a390f49314efc600e47135eee9">info</a>.max_push_part_num) max_part_num = new_max;</div>
<div class="line"><span class="lineno">  667</span>    l.unlock();</div>
<div class="line"><span class="lineno">  668</span> </div>
<div class="line"><span class="lineno">  669</span>    <span class="keywordflow">if</span> (processed.empty() &amp;&amp;</div>
<div class="line"><span class="lineno">  670</span>    !tail_part_num &amp;&amp;</div>
<div class="line"><span class="lineno">  671</span>    !max_part_num) {</div>
<div class="line"><span class="lineno">  672</span>      ldpp_dout(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>, 20) &lt;&lt; __PRETTY_FUNCTION__ &lt;&lt; <span class="stringliteral">&quot;:&quot;</span> &lt;&lt; __LINE__</div>
<div class="line"><span class="lineno">  673</span>             &lt;&lt; <span class="stringliteral">&quot; nothing to update any more: i=&quot;</span> &lt;&lt; i &lt;&lt; <span class="stringliteral">&quot; tid=&quot;</span></div>
<div class="line"><span class="lineno">  674</span>             &lt;&lt; <a class="code hl_variable" href="cls__fifo__legacy_8cc.html#ab35eff139cb790487ef1520b2446d3f7">tid</a> &lt;&lt; dendl;</div>
<div class="line"><span class="lineno">  675</span>      canceled = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  676</span>      <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  677</span>    }</div>
<div class="line"><span class="lineno">  678</span>    <span class="keyword">auto</span> u = fifo::update().tail_part_num(tail_part_num)</div>
<div class="line"><span class="lineno">  679</span>      .head_part_num(head_part_num).max_push_part_num(max_part_num)</div>
<div class="line"><span class="lineno">  680</span>      .journal_entries_rm(processed);</div>
<div class="line"><span class="lineno">  681</span>    <a class="code hl_variable" href="rgw__aio_8cc.html#ae38055824c6eac64615832ad9d888539">r</a> = <a class="code hl_function" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html#aba781c2176312b28522495f0021ba590">_update_meta</a>(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>, u, objv, &amp;canceled, <a class="code hl_variable" href="cls__fifo__legacy_8cc.html#ab35eff139cb790487ef1520b2446d3f7">tid</a>, y);</div>
<div class="line"><span class="lineno">  682</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="rgw__aio_8cc.html#ae38055824c6eac64615832ad9d888539">r</a> &lt; 0) {</div>
<div class="line"><span class="lineno">  683</span>      ldpp_dout(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>, -1) &lt;&lt; __PRETTY_FUNCTION__ &lt;&lt; <span class="stringliteral">&quot;:&quot;</span> &lt;&lt; __LINE__</div>
<div class="line"><span class="lineno">  684</span>         &lt;&lt; <span class="stringliteral">&quot; _update_meta failed: update=&quot;</span> &lt;&lt; u</div>
<div class="line"><span class="lineno">  685</span>         &lt;&lt; <span class="stringliteral">&quot; r=&quot;</span> &lt;&lt; <a class="code hl_variable" href="rgw__aio_8cc.html#ae38055824c6eac64615832ad9d888539">r</a> &lt;&lt; <span class="stringliteral">&quot; tid=&quot;</span> &lt;&lt; <a class="code hl_variable" href="cls__fifo__legacy_8cc.html#ab35eff139cb790487ef1520b2446d3f7">tid</a> &lt;&lt; dendl;</div>
<div class="line"><span class="lineno">  686</span>      <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  687</span>    }</div>
<div class="line"><span class="lineno">  688</span> </div>
<div class="line"><span class="lineno">  689</span>    <span class="keywordflow">if</span> (canceled) {</div>
<div class="line"><span class="lineno">  690</span>      std::vector&lt;fifo::journal_entry&gt; new_processed;</div>
<div class="line"><span class="lineno">  691</span>      std::unique_lock l(<a class="code hl_variable" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html#af2b6bcbdfba97260e576ff4a72d8ba49">m</a>);</div>
<div class="line"><span class="lineno">  692</span>      ldpp_dout(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>, 20) &lt;&lt; __PRETTY_FUNCTION__ &lt;&lt; <span class="stringliteral">&quot;:&quot;</span> &lt;&lt; __LINE__</div>
<div class="line"><span class="lineno">  693</span>             &lt;&lt; <span class="stringliteral">&quot; update canceled, retrying: i=&quot;</span> &lt;&lt; i &lt;&lt; <span class="stringliteral">&quot; tid=&quot;</span></div>
<div class="line"><span class="lineno">  694</span>             &lt;&lt; <a class="code hl_variable" href="cls__fifo__legacy_8cc.html#ab35eff139cb790487ef1520b2446d3f7">tid</a> &lt;&lt; dendl;</div>
<div class="line"><span class="lineno">  695</span>      <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp; e : processed) {</div>
<div class="line"><span class="lineno">  696</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html#ac39e05a390f49314efc600e47135eee9">info</a>.journal.contains(e)) {</div>
<div class="line"><span class="lineno">  697</span>      new_processed.push_back(e);</div>
<div class="line"><span class="lineno">  698</span>    }</div>
<div class="line"><span class="lineno">  699</span>      }</div>
<div class="line"><span class="lineno">  700</span>      processed = std::move(new_processed);</div>
<div class="line"><span class="lineno">  701</span>    }</div>
<div class="line"><span class="lineno">  702</span>  }</div>
<div class="line"><span class="lineno">  703</span>  <span class="keywordflow">if</span> (<a class="code hl_variable" href="rgw__aio_8cc.html#ae38055824c6eac64615832ad9d888539">r</a> == 0 &amp;&amp; canceled) {</div>
<div class="line"><span class="lineno">  704</span>    ldpp_dout(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>, -1) &lt;&lt; __PRETTY_FUNCTION__ &lt;&lt; <span class="stringliteral">&quot;:&quot;</span> &lt;&lt; __LINE__</div>
<div class="line"><span class="lineno">  705</span>           &lt;&lt; <span class="stringliteral">&quot; canceled too many times, giving up: tid=&quot;</span> &lt;&lt; <a class="code hl_variable" href="cls__fifo__legacy_8cc.html#ab35eff139cb790487ef1520b2446d3f7">tid</a> &lt;&lt; dendl;</div>
<div class="line"><span class="lineno">  706</span>    <a class="code hl_variable" href="rgw__aio_8cc.html#ae38055824c6eac64615832ad9d888539">r</a> = -ECANCELED;</div>
<div class="line"><span class="lineno">  707</span>  }</div>
<div class="line"><span class="lineno">  708</span>  <span class="keywordflow">if</span> (<a class="code hl_variable" href="rgw__aio_8cc.html#ae38055824c6eac64615832ad9d888539">r</a> &lt; 0) {</div>
<div class="line"><span class="lineno">  709</span>    ldpp_dout(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>, -1) &lt;&lt; __PRETTY_FUNCTION__ &lt;&lt; <span class="stringliteral">&quot;:&quot;</span> &lt;&lt; __LINE__</div>
<div class="line"><span class="lineno">  710</span>           &lt;&lt; <span class="stringliteral">&quot; failed, r=: &quot;</span> &lt;&lt; <a class="code hl_variable" href="rgw__aio_8cc.html#ae38055824c6eac64615832ad9d888539">r</a> &lt;&lt; <span class="stringliteral">&quot; tid=&quot;</span> &lt;&lt; <a class="code hl_variable" href="cls__fifo__legacy_8cc.html#ab35eff139cb790487ef1520b2446d3f7">tid</a> &lt;&lt; dendl;</div>
<div class="line"><span class="lineno">  711</span>  }</div>
<div class="line"><span class="lineno">  712</span>  <span class="keywordflow">return</span> <a class="code hl_variable" href="rgw__aio_8cc.html#ae38055824c6eac64615832ad9d888539">r</a>;</div>
<div class="line"><span class="lineno">  713</span>}</div>
<div class="ttc" id="aclassrgw_1_1cls_1_1fifo_1_1_f_i_f_o_html_a8e9d27e0bfcef221c264d48a277a6961"><div class="ttname"><a href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html#a8e9d27e0bfcef221c264d48a277a6961">rgw::cls::fifo::FIFO::create_part</a></div><div class="ttdeci">int create_part(const DoutPrefixProvider *dpp, int64_t part_num, std::uint64_t tid, optional_yield y)</div><div class="ttdef"><b>Definition</b> <a href="cls__fifo__legacy_8cc_source.html#l00556">cls_fifo_legacy.cc:556</a></div></div>
<div class="ttc" id="aclassrgw_1_1cls_1_1fifo_1_1_f_i_f_o_html_aea9becd936635377461013178aecdbed"><div class="ttname"><a href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html#aea9becd936635377461013178aecdbed">rgw::cls::fifo::FIFO::remove_part</a></div><div class="ttdeci">int remove_part(const DoutPrefixProvider *dpp, int64_t part_num, std::uint64_t tid, optional_yield y)</div><div class="ttdef"><b>Definition</b> <a href="cls__fifo__legacy_8cc_source.html#l00577">cls_fifo_legacy.cc:577</a></div></div>
</div><!-- fragment --><div class="dynheader">
이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o_a1183904fcb363500f021b6ecf9f58d29_cgraph.png" border="0" usemap="#aclassrgw_1_1cls_1_1fifo_1_1_f_i_f_o_a1183904fcb363500f021b6ecf9f58d29_cgraph" alt=""/></div>
<map name="aclassrgw_1_1cls_1_1fifo_1_1_f_i_f_o_a1183904fcb363500f021b6ecf9f58d29_cgraph" id="aclassrgw_1_1cls_1_1fifo_1_1_f_i_f_o_a1183904fcb363500f021b6ecf9f58d29_cgraph">
<area shape="rect" title=" " alt="" coords="5,274,133,317"/>
<area shape="rect" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html#aba781c2176312b28522495f0021ba590" title=" " alt="" coords="181,233,308,275"/>
<area shape="poly" title=" " alt="" coords="133,278,165,270,166,275,134,283"/>
<area shape="rect" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5" title=" " alt="" coords="910,170,952,197"/>
<area shape="poly" title=" " alt="" coords="80,272,126,202,160,158,200,113,247,71,299,36,357,12,387,6,418,3,609,3,684,3,744,7,772,14,801,25,864,64,885,84,901,108,923,154,919,157,897,110,881,87,860,68,798,30,771,19,744,13,684,8,609,9,418,9,388,11,358,17,302,41,250,75,204,116,164,161,130,205,85,275"/>
<area shape="rect" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html#a8e9d27e0bfcef221c264d48a277a6961" title=" " alt="" coords="544,383,671,426"/>
<area shape="poly" title=" " alt="" coords="134,307,357,354,529,388,528,393,355,359,133,312"/>
<area shape="rect" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html#aea9becd936635377461013178aecdbed" title=" " alt="" coords="544,450,671,493"/>
<area shape="poly" title=" " alt="" coords="109,315,182,350,273,383,367,411,529,452,528,457,366,416,272,388,180,355,107,320"/>
<area shape="rect" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html#ae9b671fb0e801459fa35a4982053047c" title=" " alt="" coords="356,118,483,161"/>
<area shape="poly" title=" " alt="" coords="277,230,372,167,375,172,280,234"/>
<area shape="poly" title=" " alt="" coords="252,231,267,201,289,165,318,130,355,104,426,70,490,47,550,34,607,30,665,37,726,52,791,76,863,108,893,129,916,155,911,159,890,133,861,112,789,81,724,57,665,42,607,36,550,39,491,52,428,75,357,108,322,134,293,168,271,203,257,234"/>
<area shape="rect" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html#a767e397207c78989f0e0ebcef3252d78" title="Force refresh of metadata, yielding/blocking style" alt="" coords="356,233,483,275"/>
<area shape="poly" title=" " alt="" coords="308,251,341,251,341,257,308,257"/>
<area shape="rect" href="rgw__tools_8cc.html#ac8fd9a95626d93661d7280c9455eba5c" title="perform the rados operation, using the yield context when given" alt="" coords="732,395,862,422"/>
<area shape="poly" title=" " alt="" coords="309,271,357,285,521,326,684,369,743,387,741,392,683,374,519,331,355,290,308,276"/>
<area shape="poly" title=" " alt="" coords="484,126,561,117,657,112,761,117,813,125,863,137,885,146,904,158,901,163,882,151,861,142,812,130,760,122,657,117,562,122,484,131"/>
<area shape="poly" title=" " alt="" coords="483,238,598,216,731,195,894,182,894,187,732,201,599,221,484,243"/>
<area shape="rect" href="namespacergw_1_1cls_1_1fifo.html#a467406e6496bef3cfca16fa6eaf7ba28" title=" " alt="" coords="531,270,684,297"/>
<area shape="poly" title=" " alt="" coords="484,261,516,266,515,272,483,266"/>
<area shape="poly" title=" " alt="" coords="639,267,731,231,819,206,894,188,896,193,820,211,733,236,641,272"/>
<area shape="rect" href="namespacergw.html#a49e77e75ed539fdbde0dcc092bb76467" title=" " alt="" coords="751,270,843,297"/>
<area shape="poly" title=" " alt="" coords="684,281,736,281,736,286,684,286"/>
<area shape="rect" href="namespacergw.html#a34a5757756e9618325f611b073ccd448" title=" " alt="" coords="751,345,843,371"/>
<area shape="poly" title=" " alt="" coords="644,295,748,336,746,341,643,300"/>
<area shape="poly" title=" " alt="" coords="648,295,685,317,701,334,710,350,718,366,733,381,740,385,736,390,730,385,714,369,705,353,697,337,682,321,645,299"/>
<area shape="poly" title=" " alt="" coords="773,271,769,261,772,252,781,245,797,243,813,246,822,253,819,257,811,251,797,249,783,250,776,255,774,261,778,268"/>
<area shape="poly" title=" " alt="" coords="773,345,769,336,772,326,781,320,797,318,813,321,822,327,819,331,811,325,797,323,783,325,776,330,774,335,778,343"/>
<area shape="poly" title=" " alt="" coords="845,393,860,381,889,341,908,294,919,249,925,211,930,212,924,250,913,296,893,343,864,385,848,397"/>
<area shape="poly" title=" " alt="" coords="672,419,725,431,781,439,829,441,847,438,860,432,872,418,883,395,902,335,915,268,924,211,929,212,921,268,907,336,888,397,877,420,864,436,849,443,829,446,780,445,724,436,671,424"/>
<area shape="poly" title=" " alt="" coords="672,403,716,404,716,410,671,409"/>
<area shape="poly" title=" " alt="" coords="672,482,718,486,768,484,817,473,840,462,860,448,873,432,884,408,903,342,916,271,924,211,929,212,921,271,908,343,889,409,877,435,864,452,842,467,819,478,769,489,718,491,671,487"/>
<area shape="poly" title=" " alt="" coords="671,448,739,425,740,430,672,453"/>
</map>
</div>
<div class="dynheader">
이 함수를 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o_a1183904fcb363500f021b6ecf9f58d29_icgraph.png" border="0" usemap="#aclassrgw_1_1cls_1_1fifo_1_1_f_i_f_o_a1183904fcb363500f021b6ecf9f58d29_icgraph" alt=""/></div>
<map name="aclassrgw_1_1cls_1_1fifo_1_1_f_i_f_o_a1183904fcb363500f021b6ecf9f58d29_icgraph" id="aclassrgw_1_1cls_1_1fifo_1_1_f_i_f_o_a1183904fcb363500f021b6ecf9f58d29_icgraph">
<area shape="rect" title=" " alt="" coords="881,135,1008,177"/>
<area shape="rect" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html#adaf8b9d5a771ad7b704328dea8156446" title=" " alt="" coords="409,39,553,81"/>
<area shape="poly" title=" " alt="" coords="916,124,879,87,856,71,832,58,797,47,761,40,686,35,616,38,554,47,554,42,615,33,686,29,761,35,798,42,834,54,859,66,882,83,920,121"/>
<area shape="rect" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html#aec8b6a339b01a90706117af46da93abf" title=" " alt="" coords="662,68,801,111"/>
<area shape="poly" title=" " alt="" coords="865,134,801,114,802,109,867,129"/>
<area shape="rect" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html#a5b962aff7e9ff729f83b709e1bba6d13" title=" " alt="" coords="662,135,801,177"/>
<area shape="poly" title=" " alt="" coords="866,159,801,159,801,153,866,153"/>
<area shape="rect" href="structrgw_1_1cls_1_1fifo_1_1_new_part_preparer.html#a0753418126dd6052a830cdd7ec76335c" title=" " alt="" coords="633,201,830,244"/>
<area shape="poly" title=" " alt="" coords="867,183,803,203,801,198,865,178"/>
<area shape="rect" href="structrgw_1_1cls_1_1fifo_1_1_new_head_preparer.html#a23d676fb4554b85a770cadee0a64c2d0" title=" " alt="" coords="630,268,833,311"/>
<area shape="poly" title=" " alt="" coords="916,191,879,226,834,258,811,270,808,265,831,254,875,222,912,187"/>
<area shape="rect" href="structrgw_1_1cls_1_1fifo_1_1_pusher.html#aa31861b769b07bfba149c0da14a051d3" title=" " alt="" coords="193,5,332,48"/>
<area shape="poly" title=" " alt="" coords="393,49,332,40,333,35,394,44"/>
<area shape="rect" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html#a6789013559e6332545632da406591905" title="Push entries to the FIFO" alt="" coords="199,72,326,115"/>
<area shape="poly" title=" " alt="" coords="394,76,327,86,326,81,394,71"/>
<area shape="rect" href="structrgw_1_1cls_1_1fifo_1_1_pusher.html#a9eb943fbddd67a9be022e380e187c2e9" title=" " alt="" coords="5,5,145,48"/>
<area shape="poly" title=" " alt="" coords="177,29,145,29,145,24,177,24"/>
<area shape="poly" title=" " alt="" coords="647,132,629,125,530,84,532,79,631,120,649,127"/>
<area shape="rect" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html#acb4cd6c9b683badf085564c1ad87b0bc" title=" " alt="" coords="409,135,553,177"/>
<area shape="poly" title=" " alt="" coords="647,159,554,159,554,153,647,153"/>
<area shape="rect" href="structrgw_1_1cls_1_1fifo_1_1_new_head_preparer.html#a11dc6a6f1d09332d11f5ef6d95b6e426" title=" " alt="" coords="380,268,582,311"/>
<area shape="poly" title=" " alt="" coords="615,292,583,292,583,287,615,287"/>
</map>
</div>

</div>
</div>
<a id="a87811ba72ab52ab4f93100e289e227ce" name="a87811ba72ab52ab4f93100e289e227ce"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a87811ba72ab52ab4f93100e289e227ce">&#9670;&#160;</a></span>push() <span class="overload">[1/4]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void rgw::cls::fifo::FIFO::push </td>
          <td>(</td>
          <td class="paramtype">const DoutPrefixProvider *&#160;</td>
          <td class="paramname"><em>dpp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const cb::list &amp;&#160;</td>
          <td class="paramname"><em>bl</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">lr::AioCompletion *&#160;</td>
          <td class="paramname"><em>c</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Push an entry to the <a class="el" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html">FIFO</a> </p>

<p class="definition"><a class="el" href="cls__fifo__legacy_8cc_source.html">cls_fifo_legacy.cc</a> 파일의 <a class="el" href="cls__fifo__legacy_8cc_source.html#l01311">1311</a> 번째 라인에서 정의되었습니다.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1311</span>                                                                                   {</div>
<div class="line"><span class="lineno"> 1312</span>  <a class="code hl_function" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html#a5aed78aa9795506d79259df5cf86cd1d">push</a>(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>, std::vector{ bl }, <a class="code hl_variable" href="rgw__aio_8cc.html#af3997c9b015c5696191674621076ae50">c</a>);</div>
<div class="line"><span class="lineno"> 1313</span>}</div>
<div class="ttc" id="aclassrgw_1_1cls_1_1fifo_1_1_f_i_f_o_html_a5aed78aa9795506d79259df5cf86cd1d"><div class="ttname"><a href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html#a5aed78aa9795506d79259df5cf86cd1d">rgw::cls::fifo::FIFO::push</a></div><div class="ttdeci">int push(const DoutPrefixProvider *dpp, const cb::list &amp;bl, optional_yield y)</div><div class="ttdoc">Push an entry to the FIFO</div><div class="ttdef"><b>Definition</b> <a href="cls__fifo__legacy_8cc_source.html#l01307">cls_fifo_legacy.cc:1307</a></div></div>
</div><!-- fragment --><div class="dynheader">
이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o_a87811ba72ab52ab4f93100e289e227ce_cgraph.png" border="0" usemap="#aclassrgw_1_1cls_1_1fifo_1_1_f_i_f_o_a87811ba72ab52ab4f93100e289e227ce_cgraph" alt=""/></div>
<map name="aclassrgw_1_1cls_1_1fifo_1_1_f_i_f_o_a87811ba72ab52ab4f93100e289e227ce_cgraph" id="aclassrgw_1_1cls_1_1fifo_1_1_f_i_f_o_a87811ba72ab52ab4f93100e289e227ce_cgraph">
<area shape="rect" title="Push an entry to the FIFO" alt="" coords="5,5,133,48"/>
<area shape="rect" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5" title=" " alt="" coords="356,13,398,40"/>
<area shape="poly" title=" " alt="" coords="133,13,180,8,244,4,308,8,341,14,341,19,308,13,244,9,181,13,133,19"/>
<area shape="rect" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html#a5aed78aa9795506d79259df5cf86cd1d" title="Push an entry to the FIFO" alt="" coords="181,47,308,89"/>
<area shape="poly" title=" " alt="" coords="134,39,166,47,165,52,133,44"/>
<area shape="poly" title=" " alt="" coords="308,46,341,35,342,40,309,51"/>
<area shape="poly" title=" " alt="" coords="218,46,217,37,221,28,231,22,244,20,259,23,268,29,265,33,257,27,244,25,232,27,225,32,222,38,223,46"/>
</map>
</div>

</div>
</div>
<a id="a5aed78aa9795506d79259df5cf86cd1d" name="a5aed78aa9795506d79259df5cf86cd1d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5aed78aa9795506d79259df5cf86cd1d">&#9670;&#160;</a></span>push() <span class="overload">[2/4]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int rgw::cls::fifo::FIFO::push </td>
          <td>(</td>
          <td class="paramtype">const DoutPrefixProvider *&#160;</td>
          <td class="paramname"><em>dpp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const cb::list &amp;&#160;</td>
          <td class="paramname"><em>bl</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">optional_yield&#160;</td>
          <td class="paramname"><em>y</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Push an entry to the <a class="el" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html">FIFO</a> </p>

<p class="definition"><a class="el" href="cls__fifo__legacy_8cc_source.html">cls_fifo_legacy.cc</a> 파일의 <a class="el" href="cls__fifo__legacy_8cc_source.html#l01307">1307</a> 번째 라인에서 정의되었습니다.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1307</span>                                                                                {</div>
<div class="line"><span class="lineno"> 1308</span>  <span class="keywordflow">return</span> <a class="code hl_function" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html#a5aed78aa9795506d79259df5cf86cd1d">push</a>(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>, std::vector{ bl }, y);</div>
<div class="line"><span class="lineno"> 1309</span>}</div>
</div><!-- fragment --><div class="dynheader">
이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o_a5aed78aa9795506d79259df5cf86cd1d_cgraph.png" border="0" usemap="#aclassrgw_1_1cls_1_1fifo_1_1_f_i_f_o_a5aed78aa9795506d79259df5cf86cd1d_cgraph" alt=""/></div>
<map name="aclassrgw_1_1cls_1_1fifo_1_1_f_i_f_o_a5aed78aa9795506d79259df5cf86cd1d_cgraph" id="aclassrgw_1_1cls_1_1fifo_1_1_f_i_f_o_a5aed78aa9795506d79259df5cf86cd1d_cgraph">
<area shape="rect" title="Push an entry to the FIFO" alt="" coords="5,29,133,72"/>
<area shape="poly" title=" " alt="" coords="43,29,42,19,46,11,55,5,69,3,84,5,93,12,90,16,82,10,69,8,57,10,50,14,47,20,48,28"/>
<area shape="rect" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5" title=" " alt="" coords="181,37,223,64"/>
<area shape="poly" title=" " alt="" coords="133,48,165,48,165,53,133,53"/>
</map>
</div>
<div class="dynheader">
이 함수를 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o_a5aed78aa9795506d79259df5cf86cd1d_icgraph.png" border="0" usemap="#aclassrgw_1_1cls_1_1fifo_1_1_f_i_f_o_a5aed78aa9795506d79259df5cf86cd1d_icgraph" alt=""/></div>
<map name="aclassrgw_1_1cls_1_1fifo_1_1_f_i_f_o_a5aed78aa9795506d79259df5cf86cd1d_icgraph" id="aclassrgw_1_1cls_1_1fifo_1_1_f_i_f_o_a5aed78aa9795506d79259df5cf86cd1d_icgraph">
<area shape="rect" title="Push an entry to the FIFO" alt="" coords="181,29,308,72"/>
<area shape="poly" title=" " alt="" coords="272,16,262,10,244,8,228,10,218,14,214,20,216,28,210,29,209,19,215,10,227,5,244,3,263,5,275,11"/>
<area shape="rect" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html#a87811ba72ab52ab4f93100e289e227ce" title="Push an entry to the FIFO" alt="" coords="5,29,133,72"/>
<area shape="poly" title=" " alt="" coords="165,53,133,53,133,48,165,48"/>
</map>
</div>

</div>
</div>
<a id="a3bad9d6c3325c76c9a168905d83d75b5" name="a3bad9d6c3325c76c9a168905d83d75b5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3bad9d6c3325c76c9a168905d83d75b5">&#9670;&#160;</a></span>push() <span class="overload">[3/4]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void rgw::cls::fifo::FIFO::push </td>
          <td>(</td>
          <td class="paramtype">const DoutPrefixProvider *&#160;</td>
          <td class="paramname"><em>dpp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::vector&lt; cb::list &gt; &amp;&#160;</td>
          <td class="paramname"><em>data_bufs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">lr::AioCompletion *&#160;</td>
          <td class="paramname"><em>c</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Push entries to the <a class="el" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html">FIFO</a> </p>

<p class="definition"><a class="el" href="cls__fifo__legacy_8cc_source.html">cls_fifo_legacy.cc</a> 파일의 <a class="el" href="cls__fifo__legacy_8cc_source.html#l01606">1606</a> 번째 라인에서 정의되었습니다.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1608</span>{</div>
<div class="line"><span class="lineno"> 1609</span>  std::unique_lock l(<a class="code hl_variable" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html#af2b6bcbdfba97260e576ff4a72d8ba49">m</a>);</div>
<div class="line"><span class="lineno"> 1610</span>  <span class="keyword">auto</span> <a class="code hl_variable" href="cls__fifo__legacy_8cc.html#ab35eff139cb790487ef1520b2446d3f7">tid</a> = ++<a class="code hl_variable" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html#afa7af9bdb8c2b6813e746cba65f61115">next_tid</a>;</div>
<div class="line"><span class="lineno"> 1611</span>  <span class="keyword">auto</span> max_entry_size = <a class="code hl_variable" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html#ac39e05a390f49314efc600e47135eee9">info</a>.params.max_entry_size;</div>
<div class="line"><span class="lineno"> 1612</span>  <span class="keyword">auto</span> need_new_head = <a class="code hl_variable" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html#ac39e05a390f49314efc600e47135eee9">info</a>.need_new_head();</div>
<div class="line"><span class="lineno"> 1613</span>  <span class="keyword">auto</span> head_part_num = <a class="code hl_variable" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html#ac39e05a390f49314efc600e47135eee9">info</a>.head_part_num;</div>
<div class="line"><span class="lineno"> 1614</span>  l.unlock();</div>
<div class="line"><span class="lineno"> 1615</span>  ldpp_dout(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>, 20) &lt;&lt; __PRETTY_FUNCTION__ &lt;&lt; <span class="stringliteral">&quot;:&quot;</span> &lt;&lt; __LINE__</div>
<div class="line"><span class="lineno"> 1616</span>         &lt;&lt; <span class="stringliteral">&quot; entering: tid=&quot;</span> &lt;&lt; <a class="code hl_variable" href="cls__fifo__legacy_8cc.html#ab35eff139cb790487ef1520b2446d3f7">tid</a> &lt;&lt; dendl;</div>
<div class="line"><span class="lineno"> 1617</span>  <span class="keyword">auto</span> p = std::make_unique&lt;Pusher&gt;(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>, <span class="keyword">this</span>, std::deque&lt;cb::list&gt;(data_bufs.begin(), data_bufs.end()),</div>
<div class="line"><span class="lineno"> 1618</span>                    head_part_num, <a class="code hl_variable" href="cls__fifo__legacy_8cc.html#ab35eff139cb790487ef1520b2446d3f7">tid</a>, <a class="code hl_variable" href="rgw__aio_8cc.html#af3997c9b015c5696191674621076ae50">c</a>);</div>
<div class="line"><span class="lineno"> 1619</span>  <span class="comment">// Validate sizes</span></div>
<div class="line"><span class="lineno"> 1620</span>  <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span>&amp; bl : data_bufs) {</div>
<div class="line"><span class="lineno"> 1621</span>    <span class="keywordflow">if</span> (bl.length() &gt; max_entry_size) {</div>
<div class="line"><span class="lineno"> 1622</span>      ldpp_dout(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>, -1) &lt;&lt; __PRETTY_FUNCTION__ &lt;&lt; <span class="stringliteral">&quot;:&quot;</span> &lt;&lt; __LINE__</div>
<div class="line"><span class="lineno"> 1623</span>         &lt;&lt; <span class="stringliteral">&quot; entry bigger than max_entry_size tid=&quot;</span> &lt;&lt; <a class="code hl_variable" href="cls__fifo__legacy_8cc.html#ab35eff139cb790487ef1520b2446d3f7">tid</a> &lt;&lt; dendl;</div>
<div class="line"><span class="lineno"> 1624</span>      <a class="code hl_function" href="structrgw_1_1cls_1_1fifo_1_1_completion.html#a151f518b6e1a5ba1b444ed8834412ffc">Pusher::complete</a>(std::move(p), -E2BIG);</div>
<div class="line"><span class="lineno"> 1625</span>      <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 1626</span>    }</div>
<div class="line"><span class="lineno"> 1627</span>  }</div>
<div class="line"><span class="lineno"> 1628</span> </div>
<div class="line"><span class="lineno"> 1629</span>  <span class="keywordflow">if</span> (data_bufs.empty() ) {</div>
<div class="line"><span class="lineno"> 1630</span>    ldpp_dout(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>, 20) &lt;&lt; __PRETTY_FUNCTION__ &lt;&lt; <span class="stringliteral">&quot;:&quot;</span> &lt;&lt; __LINE__</div>
<div class="line"><span class="lineno"> 1631</span>           &lt;&lt; <span class="stringliteral">&quot; empty push, returning success tid=&quot;</span> &lt;&lt; <a class="code hl_variable" href="cls__fifo__legacy_8cc.html#ab35eff139cb790487ef1520b2446d3f7">tid</a> &lt;&lt; dendl;</div>
<div class="line"><span class="lineno"> 1632</span>    <a class="code hl_function" href="structrgw_1_1cls_1_1fifo_1_1_completion.html#a151f518b6e1a5ba1b444ed8834412ffc">Pusher::complete</a>(std::move(p), 0);</div>
<div class="line"><span class="lineno"> 1633</span>    <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 1634</span>  }</div>
<div class="line"><span class="lineno"> 1635</span> </div>
<div class="line"><span class="lineno"> 1636</span>  <span class="keywordflow">if</span> (need_new_head) {</div>
<div class="line"><span class="lineno"> 1637</span>    ldpp_dout(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>, 20) &lt;&lt; __PRETTY_FUNCTION__ &lt;&lt; <span class="stringliteral">&quot;:&quot;</span> &lt;&lt; __LINE__</div>
<div class="line"><span class="lineno"> 1638</span>           &lt;&lt; <span class="stringliteral">&quot; need new head tid=&quot;</span> &lt;&lt; <a class="code hl_variable" href="cls__fifo__legacy_8cc.html#ab35eff139cb790487ef1520b2446d3f7">tid</a> &lt;&lt; dendl;</div>
<div class="line"><span class="lineno"> 1639</span>    p-&gt;new_head(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>, std::move(p));</div>
<div class="line"><span class="lineno"> 1640</span>  } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 1641</span>    p-&gt;prep_then_push(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>, std::move(p), 0);</div>
<div class="line"><span class="lineno"> 1642</span>  }</div>
<div class="line"><span class="lineno"> 1643</span>}</div>
<div class="ttc" id="astructrgw_1_1cls_1_1fifo_1_1_completion_html_a151f518b6e1a5ba1b444ed8834412ffc"><div class="ttname"><a href="structrgw_1_1cls_1_1fifo_1_1_completion.html#a151f518b6e1a5ba1b444ed8834412ffc">rgw::cls::fifo::Completion&lt; Pusher &gt;::complete</a></div><div class="ttdeci">static void complete(Ptr &amp;&amp;p, int r)</div><div class="ttdef"><b>Definition</b> <a href="cls__fifo__legacy_8h_source.html#l00322">cls_fifo_legacy.h:322</a></div></div>
</div><!-- fragment --><div class="dynheader">
이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o_a3bad9d6c3325c76c9a168905d83d75b5_cgraph.png" border="0" usemap="#aclassrgw_1_1cls_1_1fifo_1_1_f_i_f_o_a3bad9d6c3325c76c9a168905d83d75b5_cgraph" alt=""/></div>
<map name="aclassrgw_1_1cls_1_1fifo_1_1_f_i_f_o_a3bad9d6c3325c76c9a168905d83d75b5_cgraph" id="aclassrgw_1_1cls_1_1fifo_1_1_f_i_f_o_a3bad9d6c3325c76c9a168905d83d75b5_cgraph">
<area shape="rect" title="Push entries to the FIFO" alt="" coords="5,35,133,77"/>
<area shape="rect" href="structrgw_1_1cls_1_1fifo_1_1_completion.html#a151f518b6e1a5ba1b444ed8834412ffc" title=" " alt="" coords="181,5,344,48"/>
<area shape="poly" title=" " alt="" coords="133,44,165,39,165,44,134,49"/>
<area shape="rect" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5" title=" " alt="" coords="241,72,284,99"/>
<area shape="poly" title=" " alt="" coords="134,63,226,77,225,83,133,68"/>
</map>
</div>

</div>
</div>
<a id="a6789013559e6332545632da406591905" name="a6789013559e6332545632da406591905"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6789013559e6332545632da406591905">&#9670;&#160;</a></span>push() <span class="overload">[4/4]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int rgw::cls::fifo::FIFO::push </td>
          <td>(</td>
          <td class="paramtype">const DoutPrefixProvider *&#160;</td>
          <td class="paramname"><em>dpp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::vector&lt; cb::list &gt; &amp;&#160;</td>
          <td class="paramname"><em>data_bufs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">optional_yield&#160;</td>
          <td class="paramname"><em>y</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Push entries to the <a class="el" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html">FIFO</a> </p>

<p class="definition"><a class="el" href="cls__fifo__legacy_8cc_source.html">cls_fifo_legacy.cc</a> 파일의 <a class="el" href="cls__fifo__legacy_8cc_source.html#l01315">1315</a> 번째 라인에서 정의되었습니다.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1316</span>{</div>
<div class="line"><span class="lineno"> 1317</span>  std::unique_lock l(<a class="code hl_variable" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html#af2b6bcbdfba97260e576ff4a72d8ba49">m</a>);</div>
<div class="line"><span class="lineno"> 1318</span>  <span class="keyword">auto</span> <a class="code hl_variable" href="cls__fifo__legacy_8cc.html#ab35eff139cb790487ef1520b2446d3f7">tid</a> = ++<a class="code hl_variable" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html#afa7af9bdb8c2b6813e746cba65f61115">next_tid</a>;</div>
<div class="line"><span class="lineno"> 1319</span>  <span class="keyword">auto</span> max_entry_size = <a class="code hl_variable" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html#ac39e05a390f49314efc600e47135eee9">info</a>.params.max_entry_size;</div>
<div class="line"><span class="lineno"> 1320</span>  <span class="keyword">auto</span> need_new_head = <a class="code hl_variable" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html#ac39e05a390f49314efc600e47135eee9">info</a>.need_new_head();</div>
<div class="line"><span class="lineno"> 1321</span>  <span class="keyword">auto</span> head_part_num = <a class="code hl_variable" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html#ac39e05a390f49314efc600e47135eee9">info</a>.head_part_num;</div>
<div class="line"><span class="lineno"> 1322</span>  l.unlock();</div>
<div class="line"><span class="lineno"> 1323</span>  ldpp_dout(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>, 20) &lt;&lt; __PRETTY_FUNCTION__ &lt;&lt; <span class="stringliteral">&quot;:&quot;</span> &lt;&lt; __LINE__</div>
<div class="line"><span class="lineno"> 1324</span>         &lt;&lt; <span class="stringliteral">&quot; entering: tid=&quot;</span> &lt;&lt; <a class="code hl_variable" href="cls__fifo__legacy_8cc.html#ab35eff139cb790487ef1520b2446d3f7">tid</a> &lt;&lt; dendl;</div>
<div class="line"><span class="lineno"> 1325</span>  <span class="keywordflow">if</span> (data_bufs.empty()) {</div>
<div class="line"><span class="lineno"> 1326</span>    ldpp_dout(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>, 20) &lt;&lt; __PRETTY_FUNCTION__ &lt;&lt; <span class="stringliteral">&quot;:&quot;</span> &lt;&lt; __LINE__</div>
<div class="line"><span class="lineno"> 1327</span>           &lt;&lt; <span class="stringliteral">&quot; empty push, returning success tid=&quot;</span> &lt;&lt; <a class="code hl_variable" href="cls__fifo__legacy_8cc.html#ab35eff139cb790487ef1520b2446d3f7">tid</a> &lt;&lt; dendl;</div>
<div class="line"><span class="lineno"> 1328</span>    <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno"> 1329</span>  }</div>
<div class="line"><span class="lineno"> 1330</span> </div>
<div class="line"><span class="lineno"> 1331</span>  <span class="comment">// Validate sizes</span></div>
<div class="line"><span class="lineno"> 1332</span>  <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span>&amp; bl : data_bufs) {</div>
<div class="line"><span class="lineno"> 1333</span>    <span class="keywordflow">if</span> (bl.length() &gt; max_entry_size) {</div>
<div class="line"><span class="lineno"> 1334</span>      ldpp_dout(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>, -1) &lt;&lt; __PRETTY_FUNCTION__ &lt;&lt; <span class="stringliteral">&quot;:&quot;</span> &lt;&lt; __LINE__</div>
<div class="line"><span class="lineno"> 1335</span>         &lt;&lt; <span class="stringliteral">&quot; entry bigger than max_entry_size tid=&quot;</span> &lt;&lt; <a class="code hl_variable" href="cls__fifo__legacy_8cc.html#ab35eff139cb790487ef1520b2446d3f7">tid</a> &lt;&lt; dendl;</div>
<div class="line"><span class="lineno"> 1336</span>      <span class="keywordflow">return</span> -E2BIG;</div>
<div class="line"><span class="lineno"> 1337</span>    }</div>
<div class="line"><span class="lineno"> 1338</span>  }</div>
<div class="line"><span class="lineno"> 1339</span> </div>
<div class="line"><span class="lineno"> 1340</span>  <span class="keywordtype">int</span> <a class="code hl_variable" href="rgw__aio_8cc.html#ae38055824c6eac64615832ad9d888539">r</a> = 0;</div>
<div class="line"><span class="lineno"> 1341</span>  <span class="keywordflow">if</span> (need_new_head) {</div>
<div class="line"><span class="lineno"> 1342</span>    ldpp_dout(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>, 20) &lt;&lt; __PRETTY_FUNCTION__ &lt;&lt; <span class="stringliteral">&quot;:&quot;</span> &lt;&lt; __LINE__</div>
<div class="line"><span class="lineno"> 1343</span>           &lt;&lt; <span class="stringliteral">&quot; need new head tid=&quot;</span> &lt;&lt; <a class="code hl_variable" href="cls__fifo__legacy_8cc.html#ab35eff139cb790487ef1520b2446d3f7">tid</a> &lt;&lt; dendl;</div>
<div class="line"><span class="lineno"> 1344</span>    <a class="code hl_variable" href="rgw__aio_8cc.html#ae38055824c6eac64615832ad9d888539">r</a> = <a class="code hl_function" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html#adaf8b9d5a771ad7b704328dea8156446">_prepare_new_head</a>(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>, head_part_num + 1, <a class="code hl_variable" href="cls__fifo__legacy_8cc.html#ab35eff139cb790487ef1520b2446d3f7">tid</a>, y);</div>
<div class="line"><span class="lineno"> 1345</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="rgw__aio_8cc.html#ae38055824c6eac64615832ad9d888539">r</a> &lt; 0) {</div>
<div class="line"><span class="lineno"> 1346</span>      ldpp_dout(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>, -1) &lt;&lt; __PRETTY_FUNCTION__ &lt;&lt; <span class="stringliteral">&quot;:&quot;</span> &lt;&lt; __LINE__</div>
<div class="line"><span class="lineno"> 1347</span>         &lt;&lt; <span class="stringliteral">&quot; _prepare_new_head failed: r=&quot;</span> &lt;&lt; <a class="code hl_variable" href="rgw__aio_8cc.html#ae38055824c6eac64615832ad9d888539">r</a></div>
<div class="line"><span class="lineno"> 1348</span>         &lt;&lt; <span class="stringliteral">&quot; tid=&quot;</span> &lt;&lt; <a class="code hl_variable" href="cls__fifo__legacy_8cc.html#ab35eff139cb790487ef1520b2446d3f7">tid</a> &lt;&lt; dendl;</div>
<div class="line"><span class="lineno"> 1349</span>      <span class="keywordflow">return</span> <a class="code hl_variable" href="rgw__aio_8cc.html#ae38055824c6eac64615832ad9d888539">r</a>;</div>
<div class="line"><span class="lineno"> 1350</span>    }</div>
<div class="line"><span class="lineno"> 1351</span>  }</div>
<div class="line"><span class="lineno"> 1352</span> </div>
<div class="line"><span class="lineno"> 1353</span>  std::deque&lt;cb::list&gt; remaining(data_bufs.begin(), data_bufs.end());</div>
<div class="line"><span class="lineno"> 1354</span>  std::deque&lt;cb::list&gt; batch;</div>
<div class="line"><span class="lineno"> 1355</span> </div>
<div class="line"><span class="lineno"> 1356</span>  uint64_t batch_len = 0;</div>
<div class="line"><span class="lineno"> 1357</span>  <span class="keyword">auto</span> retries = 0;</div>
<div class="line"><span class="lineno"> 1358</span>  <span class="keywordtype">bool</span> canceled = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 1359</span>  <span class="keywordflow">while</span> ((!remaining.empty() || !batch.empty()) &amp;&amp;</div>
<div class="line"><span class="lineno"> 1360</span>     (retries &lt;= <a class="code hl_variable" href="namespacergw_1_1cls_1_1fifo.html#a933975517fc01392747c3e4269c249a6">MAX_RACE_RETRIES</a>)) {</div>
<div class="line"><span class="lineno"> 1361</span>    ldpp_dout(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>, 20) &lt;&lt; __PRETTY_FUNCTION__ &lt;&lt; <span class="stringliteral">&quot;:&quot;</span> &lt;&lt; __LINE__</div>
<div class="line"><span class="lineno"> 1362</span>           &lt;&lt; <span class="stringliteral">&quot; preparing push: remaining=&quot;</span> &lt;&lt; remaining.size()</div>
<div class="line"><span class="lineno"> 1363</span>           &lt;&lt; <span class="stringliteral">&quot; batch=&quot;</span> &lt;&lt; batch.size() &lt;&lt; <span class="stringliteral">&quot; retries=&quot;</span> &lt;&lt; retries</div>
<div class="line"><span class="lineno"> 1364</span>           &lt;&lt; <span class="stringliteral">&quot; tid=&quot;</span> &lt;&lt; <a class="code hl_variable" href="cls__fifo__legacy_8cc.html#ab35eff139cb790487ef1520b2446d3f7">tid</a> &lt;&lt; dendl;</div>
<div class="line"><span class="lineno"> 1365</span>    std::unique_lock l(<a class="code hl_variable" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html#af2b6bcbdfba97260e576ff4a72d8ba49">m</a>);</div>
<div class="line"><span class="lineno"> 1366</span>    head_part_num = <a class="code hl_variable" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html#ac39e05a390f49314efc600e47135eee9">info</a>.head_part_num;</div>
<div class="line"><span class="lineno"> 1367</span>    <span class="keyword">auto</span> max_part_size = <a class="code hl_variable" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html#ac39e05a390f49314efc600e47135eee9">info</a>.params.max_part_size;</div>
<div class="line"><span class="lineno"> 1368</span>    <span class="keyword">auto</span> overhead = <a class="code hl_variable" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html#a585247aa2c1b7c19869ceb1544443976">part_entry_overhead</a>;</div>
<div class="line"><span class="lineno"> 1369</span>    l.unlock();</div>
<div class="line"><span class="lineno"> 1370</span> </div>
<div class="line"><span class="lineno"> 1371</span>    <span class="keywordflow">while</span> (!remaining.empty() &amp;&amp;</div>
<div class="line"><span class="lineno"> 1372</span>       (remaining.front().length() + batch_len &lt;= max_part_size)) {</div>
<div class="line"><span class="lineno"> 1373</span>      <span class="comment">/* We can send entries with data_len up to max_entry_size,</span></div>
<div class="line"><span class="lineno"> 1374</span><span class="comment">     however, we want to also account the overhead when</span></div>
<div class="line"><span class="lineno"> 1375</span><span class="comment">     dealing with multiple entries. Previous check doesn&#39;t</span></div>
<div class="line"><span class="lineno"> 1376</span><span class="comment">     account for overhead on purpose. */</span></div>
<div class="line"><span class="lineno"> 1377</span>      batch_len += remaining.front().length() + overhead;</div>
<div class="line"><span class="lineno"> 1378</span>      batch.push_back(std::move(remaining.front()));</div>
<div class="line"><span class="lineno"> 1379</span>      remaining.pop_front();</div>
<div class="line"><span class="lineno"> 1380</span>    }</div>
<div class="line"><span class="lineno"> 1381</span>    ldpp_dout(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>, 20) &lt;&lt; __PRETTY_FUNCTION__ &lt;&lt; <span class="stringliteral">&quot;:&quot;</span> &lt;&lt; __LINE__</div>
<div class="line"><span class="lineno"> 1382</span>           &lt;&lt; <span class="stringliteral">&quot; prepared push: remaining=&quot;</span> &lt;&lt; remaining.size()</div>
<div class="line"><span class="lineno"> 1383</span>           &lt;&lt; <span class="stringliteral">&quot; batch=&quot;</span> &lt;&lt; batch.size() &lt;&lt; <span class="stringliteral">&quot; retries=&quot;</span> &lt;&lt; retries</div>
<div class="line"><span class="lineno"> 1384</span>           &lt;&lt; <span class="stringliteral">&quot; batch_len=&quot;</span> &lt;&lt; batch_len</div>
<div class="line"><span class="lineno"> 1385</span>           &lt;&lt; <span class="stringliteral">&quot; tid=&quot;</span> &lt;&lt; <a class="code hl_variable" href="cls__fifo__legacy_8cc.html#ab35eff139cb790487ef1520b2446d3f7">tid</a> &lt;&lt; dendl;</div>
<div class="line"><span class="lineno"> 1386</span> </div>
<div class="line"><span class="lineno"> 1387</span>    <span class="keyword">auto</span> <a class="code hl_variable" href="rgw__aio_8cc.html#ae38055824c6eac64615832ad9d888539">r</a> = <a class="code hl_function" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html#a1d19bcf2e74438d5782e5b1a457e8736">push_entries</a>(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>, batch, <a class="code hl_variable" href="cls__fifo__legacy_8cc.html#ab35eff139cb790487ef1520b2446d3f7">tid</a>, y);</div>
<div class="line"><span class="lineno"> 1388</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="rgw__aio_8cc.html#ae38055824c6eac64615832ad9d888539">r</a> == -ERANGE) {</div>
<div class="line"><span class="lineno"> 1389</span>      canceled = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 1390</span>      ++retries;</div>
<div class="line"><span class="lineno"> 1391</span>      ldpp_dout(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>, 20) &lt;&lt; __PRETTY_FUNCTION__ &lt;&lt; <span class="stringliteral">&quot;:&quot;</span> &lt;&lt; __LINE__</div>
<div class="line"><span class="lineno"> 1392</span>             &lt;&lt; <span class="stringliteral">&quot; need new head tid=&quot;</span> &lt;&lt; <a class="code hl_variable" href="cls__fifo__legacy_8cc.html#ab35eff139cb790487ef1520b2446d3f7">tid</a> &lt;&lt; dendl;</div>
<div class="line"><span class="lineno"> 1393</span>      <a class="code hl_variable" href="rgw__aio_8cc.html#ae38055824c6eac64615832ad9d888539">r</a> = <a class="code hl_function" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html#adaf8b9d5a771ad7b704328dea8156446">_prepare_new_head</a>(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>, head_part_num + 1, <a class="code hl_variable" href="cls__fifo__legacy_8cc.html#ab35eff139cb790487ef1520b2446d3f7">tid</a>, y);</div>
<div class="line"><span class="lineno"> 1394</span>      <span class="keywordflow">if</span> (<a class="code hl_variable" href="rgw__aio_8cc.html#ae38055824c6eac64615832ad9d888539">r</a> &lt; 0) {</div>
<div class="line"><span class="lineno"> 1395</span>    ldpp_dout(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>, -1) &lt;&lt; __PRETTY_FUNCTION__ &lt;&lt; <span class="stringliteral">&quot;:&quot;</span> &lt;&lt; __LINE__</div>
<div class="line"><span class="lineno"> 1396</span>           &lt;&lt; <span class="stringliteral">&quot; prepare_new_head failed: r=&quot;</span> &lt;&lt; <a class="code hl_variable" href="rgw__aio_8cc.html#ae38055824c6eac64615832ad9d888539">r</a></div>
<div class="line"><span class="lineno"> 1397</span>           &lt;&lt; <span class="stringliteral">&quot; tid=&quot;</span> &lt;&lt; <a class="code hl_variable" href="cls__fifo__legacy_8cc.html#ab35eff139cb790487ef1520b2446d3f7">tid</a> &lt;&lt; dendl;</div>
<div class="line"><span class="lineno"> 1398</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="rgw__aio_8cc.html#ae38055824c6eac64615832ad9d888539">r</a>;</div>
<div class="line"><span class="lineno"> 1399</span>      }</div>
<div class="line"><span class="lineno"> 1400</span>      <a class="code hl_variable" href="rgw__aio_8cc.html#ae38055824c6eac64615832ad9d888539">r</a> = 0;</div>
<div class="line"><span class="lineno"> 1401</span>      <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 1402</span>    }</div>
<div class="line"><span class="lineno"> 1403</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="rgw__aio_8cc.html#ae38055824c6eac64615832ad9d888539">r</a> == -ENOENT) {</div>
<div class="line"><span class="lineno"> 1404</span>      ldpp_dout(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>, 20) &lt;&lt; __PRETTY_FUNCTION__ &lt;&lt; <span class="stringliteral">&quot;:&quot;</span> &lt;&lt; __LINE__</div>
<div class="line"><span class="lineno"> 1405</span>             &lt;&lt; <span class="stringliteral">&quot; racing client trimmed part, rereading metadata &quot;</span></div>
<div class="line"><span class="lineno"> 1406</span>             &lt;&lt; <span class="stringliteral">&quot;tid=&quot;</span> &lt;&lt; <a class="code hl_variable" href="cls__fifo__legacy_8cc.html#ab35eff139cb790487ef1520b2446d3f7">tid</a> &lt;&lt; dendl;</div>
<div class="line"><span class="lineno"> 1407</span>      canceled = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 1408</span>      ++retries;</div>
<div class="line"><span class="lineno"> 1409</span>      <a class="code hl_variable" href="rgw__aio_8cc.html#ae38055824c6eac64615832ad9d888539">r</a> = <a class="code hl_function" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html#a767e397207c78989f0e0ebcef3252d78">read_meta</a>(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>, y);</div>
<div class="line"><span class="lineno"> 1410</span>      <span class="keywordflow">if</span> (<a class="code hl_variable" href="rgw__aio_8cc.html#ae38055824c6eac64615832ad9d888539">r</a> &lt; 0) {</div>
<div class="line"><span class="lineno"> 1411</span>    ldpp_dout(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>, -1) &lt;&lt; __PRETTY_FUNCTION__ &lt;&lt; <span class="stringliteral">&quot;:&quot;</span> &lt;&lt; __LINE__</div>
<div class="line"><span class="lineno"> 1412</span>           &lt;&lt; <span class="stringliteral">&quot; read_meta failed: r=&quot;</span> &lt;&lt; <a class="code hl_variable" href="rgw__aio_8cc.html#ae38055824c6eac64615832ad9d888539">r</a></div>
<div class="line"><span class="lineno"> 1413</span>           &lt;&lt; <span class="stringliteral">&quot; tid=&quot;</span> &lt;&lt; <a class="code hl_variable" href="cls__fifo__legacy_8cc.html#ab35eff139cb790487ef1520b2446d3f7">tid</a> &lt;&lt; dendl;</div>
<div class="line"><span class="lineno"> 1414</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="rgw__aio_8cc.html#ae38055824c6eac64615832ad9d888539">r</a>;</div>
<div class="line"><span class="lineno"> 1415</span>      }</div>
<div class="line"><span class="lineno"> 1416</span>      <a class="code hl_variable" href="rgw__aio_8cc.html#ae38055824c6eac64615832ad9d888539">r</a> = 0;</div>
<div class="line"><span class="lineno"> 1417</span>      <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 1418</span>    }</div>
<div class="line"><span class="lineno"> 1419</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="rgw__aio_8cc.html#ae38055824c6eac64615832ad9d888539">r</a> &lt; 0) {</div>
<div class="line"><span class="lineno"> 1420</span>      ldpp_dout(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>, -1) &lt;&lt; __PRETTY_FUNCTION__ &lt;&lt; <span class="stringliteral">&quot;:&quot;</span> &lt;&lt; __LINE__</div>
<div class="line"><span class="lineno"> 1421</span>         &lt;&lt; <span class="stringliteral">&quot; push_entries failed: r=&quot;</span> &lt;&lt; <a class="code hl_variable" href="rgw__aio_8cc.html#ae38055824c6eac64615832ad9d888539">r</a></div>
<div class="line"><span class="lineno"> 1422</span>         &lt;&lt; <span class="stringliteral">&quot; tid=&quot;</span> &lt;&lt; <a class="code hl_variable" href="cls__fifo__legacy_8cc.html#ab35eff139cb790487ef1520b2446d3f7">tid</a> &lt;&lt; dendl;</div>
<div class="line"><span class="lineno"> 1423</span>      <span class="keywordflow">return</span> <a class="code hl_variable" href="rgw__aio_8cc.html#ae38055824c6eac64615832ad9d888539">r</a>;</div>
<div class="line"><span class="lineno"> 1424</span>    }</div>
<div class="line"><span class="lineno"> 1425</span>    <span class="comment">// Made forward progress!</span></div>
<div class="line"><span class="lineno"> 1426</span>    canceled = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 1427</span>    retries = 0;</div>
<div class="line"><span class="lineno"> 1428</span>    batch_len = 0;</div>
<div class="line"><span class="lineno"> 1429</span>    <span class="keywordflow">if</span> (<span class="keyword">static_cast&lt;</span><span class="keywordtype">unsigned</span><span class="keyword">&gt;</span>(<a class="code hl_variable" href="rgw__aio_8cc.html#ae38055824c6eac64615832ad9d888539">r</a>) == batch.size()) {</div>
<div class="line"><span class="lineno"> 1430</span>      batch.clear();</div>
<div class="line"><span class="lineno"> 1431</span>    } <span class="keywordflow">else</span>  {</div>
<div class="line"><span class="lineno"> 1432</span>      batch.erase(batch.begin(), batch.begin() + <a class="code hl_variable" href="rgw__aio_8cc.html#ae38055824c6eac64615832ad9d888539">r</a>);</div>
<div class="line"><span class="lineno"> 1433</span>      <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span>&amp; b : batch) {</div>
<div class="line"><span class="lineno"> 1434</span>    batch_len +=  b.length() + <a class="code hl_variable" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html#a585247aa2c1b7c19869ceb1544443976">part_entry_overhead</a>;</div>
<div class="line"><span class="lineno"> 1435</span>      }</div>
<div class="line"><span class="lineno"> 1436</span>    }</div>
<div class="line"><span class="lineno"> 1437</span>  }</div>
<div class="line"><span class="lineno"> 1438</span>  <span class="keywordflow">if</span> (canceled) {</div>
<div class="line"><span class="lineno"> 1439</span>    ldpp_dout(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>, -1) &lt;&lt; __PRETTY_FUNCTION__ &lt;&lt; <span class="stringliteral">&quot;:&quot;</span> &lt;&lt; __LINE__</div>
<div class="line"><span class="lineno"> 1440</span>           &lt;&lt; <span class="stringliteral">&quot; canceled too many times, giving up: tid=&quot;</span> &lt;&lt; <a class="code hl_variable" href="cls__fifo__legacy_8cc.html#ab35eff139cb790487ef1520b2446d3f7">tid</a> &lt;&lt; dendl;</div>
<div class="line"><span class="lineno"> 1441</span>    <span class="keywordflow">return</span> -ECANCELED;</div>
<div class="line"><span class="lineno"> 1442</span>  }</div>
<div class="line"><span class="lineno"> 1443</span>  <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno"> 1444</span>}</div>
<div class="ttc" id="aclassrgw_1_1cls_1_1fifo_1_1_f_i_f_o_html_a1d19bcf2e74438d5782e5b1a457e8736"><div class="ttname"><a href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html#a1d19bcf2e74438d5782e5b1a457e8736">rgw::cls::fifo::FIFO::push_entries</a></div><div class="ttdeci">int push_entries(const DoutPrefixProvider *dpp, const std::deque&lt; cb::list &gt; &amp;data_bufs, std::uint64_t tid, optional_yield y)</div><div class="ttdef"><b>Definition</b> <a href="cls__fifo__legacy_8cc_source.html#l01095">cls_fifo_legacy.cc:1095</a></div></div>
<div class="ttc" id="aclassrgw_1_1cls_1_1fifo_1_1_f_i_f_o_html_adaf8b9d5a771ad7b704328dea8156446"><div class="ttname"><a href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html#adaf8b9d5a771ad7b704328dea8156446">rgw::cls::fifo::FIFO::_prepare_new_head</a></div><div class="ttdeci">int _prepare_new_head(const DoutPrefixProvider *dpp, std::int64_t new_head_part_num, std::uint64_t tid, optional_yield y)</div><div class="ttdef"><b>Definition</b> <a href="cls__fifo__legacy_8cc_source.html#l00793">cls_fifo_legacy.cc:793</a></div></div>
</div><!-- fragment --><div class="dynheader">
이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o_a6789013559e6332545632da406591905_cgraph.png" border="0" usemap="#aclassrgw_1_1cls_1_1fifo_1_1_f_i_f_o_a6789013559e6332545632da406591905_cgraph" alt=""/></div>
<map name="aclassrgw_1_1cls_1_1fifo_1_1_f_i_f_o_a6789013559e6332545632da406591905_cgraph" id="aclassrgw_1_1cls_1_1fifo_1_1_f_i_f_o_a6789013559e6332545632da406591905_cgraph">
<area shape="rect" title="Push entries to the FIFO" alt="" coords="5,157,133,200"/>
<area shape="rect" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html#adaf8b9d5a771ad7b704328dea8156446" title=" " alt="" coords="181,249,325,292"/>
<area shape="poly" title=" " alt="" coords="114,198,196,239,193,244,112,203"/>
<area shape="rect" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5" title=" " alt="" coords="1464,300,1506,327"/>
<area shape="poly" title=" " alt="" coords="122,154,185,131,264,108,352,90,441,83,1163,83,1239,82,1300,86,1329,93,1357,105,1386,123,1418,147,1444,179,1463,215,1475,252,1483,284,1477,285,1470,254,1458,217,1440,182,1414,151,1383,127,1355,110,1327,98,1300,91,1239,87,1163,88,441,88,352,95,265,113,187,137,124,159"/>
<area shape="rect" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html#a767e397207c78989f0e0ebcef3252d78" title="Force refresh of metadata, yielding/blocking style" alt="" coords="910,615,1037,657"/>
<area shape="poly" title=" " alt="" coords="75,200,83,257,99,338,123,435,158,536,180,586,206,632,235,675,268,713,305,745,346,769,391,784,441,789,624,789,669,786,714,776,758,762,800,744,874,703,932,665,935,669,877,708,802,749,760,767,716,781,670,791,624,795,441,795,390,789,343,773,302,749,264,717,231,678,201,635,176,588,153,538,118,436,93,340,78,258,70,201"/>
<area shape="rect" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html#a1d19bcf2e74438d5782e5b1a457e8736" title=" " alt="" coords="379,5,506,48"/>
<area shape="poly" title=" " alt="" coords="83,155,122,108,149,84,179,64,225,46,272,34,363,23,363,29,273,39,226,51,182,69,152,88,126,112,87,159"/>
<area shape="rect" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html#a5b962aff7e9ff729f83b709e1bba6d13" title=" " alt="" coords="373,249,511,292"/>
<area shape="poly" title=" " alt="" coords="325,268,357,268,357,273,325,273"/>
<area shape="rect" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html#aba781c2176312b28522495f0021ba590" title=" " alt="" coords="735,308,862,351"/>
<area shape="poly" title=" " alt="" coords="323,290,373,301,466,314,559,321,719,327,719,332,558,327,465,319,373,307,322,295"/>
<area shape="poly" title=" " alt="" coords="287,246,348,213,429,176,523,146,572,137,622,133,1163,133,1238,133,1298,137,1326,144,1355,155,1418,194,1439,214,1455,238,1477,284,1473,287,1451,240,1435,217,1414,198,1352,160,1325,149,1298,143,1238,138,1163,139,622,139,573,142,525,151,431,181,350,217,290,251"/>
<area shape="rect" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html#a1183904fcb363500f021b6ecf9f58d29" title=" " alt="" coords="559,379,687,421"/>
<area shape="poly" title=" " alt="" coords="283,290,324,319,374,346,461,373,544,389,543,394,460,378,372,350,322,324,280,295"/>
<area shape="poly" title=" " alt="" coords="512,279,687,308,720,314,719,319,686,313,511,284"/>
<area shape="poly" title=" " alt="" coords="499,246,559,226,633,206,714,190,797,184,1163,184,1237,184,1296,188,1351,203,1417,235,1447,259,1469,286,1465,289,1443,262,1415,240,1350,208,1295,193,1237,189,1163,189,797,189,715,196,634,211,561,231,500,251"/>
<area shape="poly" title=" " alt="" coords="475,290,581,367,578,372,472,295"/>
<area shape="rect" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html#ae9b671fb0e801459fa35a4982053047c" title=" " alt="" coords="910,224,1037,267"/>
<area shape="poly" title=" " alt="" coords="843,305,913,271,915,276,846,310"/>
<area shape="poly" title=" " alt="" coords="862,322,1085,311,1286,307,1416,307,1449,308,1448,314,1416,312,1286,312,1085,316,863,328"/>
<area shape="poly" title=" " alt="" coords="814,350,955,599,950,602,809,352"/>
<area shape="rect" href="rgw__tools_8cc.html#ac8fd9a95626d93661d7280c9455eba5c" title="perform the rados operation, using the yield context when given" alt="" coords="1286,376,1416,403"/>
<area shape="poly" title=" " alt="" coords="863,340,967,360,1086,377,1181,384,1270,387,1270,392,1181,390,1085,383,966,366,862,346"/>
<area shape="poly" title=" " alt="" coords="1038,236,1116,232,1211,233,1315,243,1367,253,1417,267,1457,288,1455,293,1415,272,1366,258,1314,248,1211,238,1116,237,1038,241"/>
<area shape="poly" title=" " alt="" coords="1032,655,1115,679,1165,689,1217,695,1270,695,1322,687,1370,671,1414,643,1430,623,1443,591,1463,506,1474,415,1480,342,1485,342,1480,415,1468,507,1448,593,1434,626,1418,647,1373,675,1323,692,1270,700,1216,700,1164,694,1114,685,1030,660"/>
<area shape="rect" href="namespacergw_1_1cls_1_1fifo.html#a467406e6496bef3cfca16fa6eaf7ba28" title=" " alt="" coords="1085,576,1238,603"/>
<area shape="poly" title=" " alt="" coords="1037,618,1090,604,1091,610,1038,623"/>
<area shape="poly" title=" " alt="" coords="1191,601,1238,620,1298,635,1329,638,1359,636,1388,628,1414,613,1429,595,1441,566,1460,491,1473,408,1479,342,1484,342,1478,409,1465,492,1446,568,1433,597,1418,617,1390,633,1360,641,1329,643,1297,640,1236,625,1189,606"/>
<area shape="rect" href="namespacergw.html#a49e77e75ed539fdbde0dcc092bb76467" title=" " alt="" coords="1305,501,1397,528"/>
<area shape="poly" title=" " alt="" coords="1196,573,1285,538,1299,532,1301,537,1287,542,1198,578"/>
<area shape="rect" href="namespacergw.html#a34a5757756e9618325f611b073ccd448" title=" " alt="" coords="1305,576,1397,603"/>
<area shape="poly" title=" " alt="" coords="1238,587,1290,587,1290,592,1238,592"/>
<area shape="poly" title=" " alt="" coords="1174,574,1325,412,1328,416,1178,577"/>
<area shape="poly" title=" " alt="" coords="1327,502,1323,493,1326,483,1335,477,1351,475,1367,477,1376,484,1373,488,1365,482,1351,480,1337,482,1330,486,1328,492,1332,500"/>
<area shape="poly" title=" " alt="" coords="1327,577,1323,567,1326,558,1335,552,1351,549,1367,552,1376,559,1373,563,1365,557,1351,555,1337,557,1330,561,1328,567,1332,574"/>
<area shape="poly" title=" " alt="" coords="1381,373,1415,355,1450,333,1453,338,1417,360,1383,378"/>
<area shape="poly" title=" " alt="" coords="677,376,728,355,730,359,679,380"/>
<area shape="poly" title=" " alt="" coords="636,421,677,502,709,555,749,608,795,658,848,700,877,716,907,728,939,736,972,739,1163,739,1239,743,1302,748,1330,746,1357,738,1385,723,1414,698,1431,672,1445,634,1465,532,1476,425,1480,342,1486,342,1481,425,1470,533,1450,635,1436,675,1418,702,1388,727,1359,743,1331,751,1302,753,1239,749,1163,744,972,744,938,741,906,733,875,721,845,704,792,662,745,612,705,558,672,505,631,423"/>
<area shape="rect" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html#a8e9d27e0bfcef221c264d48a277a6961" title=" " alt="" coords="1098,325,1225,368"/>
<area shape="poly" title=" " alt="" coords="687,391,1082,352,1082,357,687,396"/>
<area shape="rect" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html#aea9becd936635377461013178aecdbed" title=" " alt="" coords="1098,443,1225,485"/>
<area shape="poly" title=" " alt="" coords="687,405,1082,452,1082,457,687,410"/>
<area shape="poly" title=" " alt="" coords="1225,338,1448,314,1449,320,1226,343"/>
<area shape="poly" title=" " alt="" coords="1226,358,1275,369,1273,375,1225,364"/>
<area shape="poly" title=" " alt="" coords="1225,462,1270,459,1319,451,1369,436,1415,412,1433,397,1448,378,1470,340,1475,342,1453,381,1437,401,1417,417,1371,441,1321,456,1271,464,1226,468"/>
<area shape="poly" title=" " alt="" coords="1217,440,1300,406,1302,411,1219,444"/>
<area shape="poly" title=" " alt="" coords="506,25,797,28,1163,28,1238,23,1300,18,1329,20,1357,27,1387,41,1418,65,1430,80,1441,104,1460,164,1482,284,1477,285,1454,165,1436,106,1426,83,1414,69,1384,46,1356,32,1328,25,1300,23,1239,28,1163,33,797,33,506,30"/>
</map>
</div>

</div>
</div>
<a id="a1d19bcf2e74438d5782e5b1a457e8736" name="a1d19bcf2e74438d5782e5b1a457e8736"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1d19bcf2e74438d5782e5b1a457e8736">&#9670;&#160;</a></span>push_entries() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int rgw::cls::fifo::FIFO::push_entries </td>
          <td>(</td>
          <td class="paramtype">const DoutPrefixProvider *&#160;</td>
          <td class="paramname"><em>dpp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::deque&lt; cb::list &gt; &amp;&#160;</td>
          <td class="paramname"><em>data_bufs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::uint64_t&#160;</td>
          <td class="paramname"><em>tid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">optional_yield&#160;</td>
          <td class="paramname"><em>y</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition"><a class="el" href="cls__fifo__legacy_8cc_source.html">cls_fifo_legacy.cc</a> 파일의 <a class="el" href="cls__fifo__legacy_8cc_source.html#l01095">1095</a> 번째 라인에서 정의되었습니다.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1097</span>{</div>
<div class="line"><span class="lineno"> 1098</span>  ldpp_dout(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>, 20) &lt;&lt; __PRETTY_FUNCTION__ &lt;&lt; <span class="stringliteral">&quot;:&quot;</span> &lt;&lt; __LINE__</div>
<div class="line"><span class="lineno"> 1099</span>         &lt;&lt; <span class="stringliteral">&quot; entering: tid=&quot;</span> &lt;&lt; <a class="code hl_variable" href="cls__fifo__legacy_8cc.html#ab35eff139cb790487ef1520b2446d3f7">tid</a> &lt;&lt; dendl;</div>
<div class="line"><span class="lineno"> 1100</span>  std::unique_lock l(<a class="code hl_variable" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html#af2b6bcbdfba97260e576ff4a72d8ba49">m</a>);</div>
<div class="line"><span class="lineno"> 1101</span>  <span class="keyword">auto</span> head_part_num = <a class="code hl_variable" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html#ac39e05a390f49314efc600e47135eee9">info</a>.head_part_num;</div>
<div class="line"><span class="lineno"> 1102</span>  <span class="keyword">const</span> <span class="keyword">auto</span> part_oid = <a class="code hl_variable" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html#ac39e05a390f49314efc600e47135eee9">info</a>.part_oid(head_part_num);</div>
<div class="line"><span class="lineno"> 1103</span>  l.unlock();</div>
<div class="line"><span class="lineno"> 1104</span> </div>
<div class="line"><span class="lineno"> 1105</span>  <span class="keyword">auto</span> <a class="code hl_variable" href="rgw__aio_8cc.html#ae38055824c6eac64615832ad9d888539">r</a> = push_part(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>, <a class="code hl_variable" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html#af2b49f78650a528ef6b4abb16205b71f">ioctx</a>, part_oid, data_bufs, <a class="code hl_variable" href="cls__fifo__legacy_8cc.html#ab35eff139cb790487ef1520b2446d3f7">tid</a>, y);</div>
<div class="line"><span class="lineno"> 1106</span>  <span class="keywordflow">if</span> (<a class="code hl_variable" href="rgw__aio_8cc.html#ae38055824c6eac64615832ad9d888539">r</a> &lt; 0) {</div>
<div class="line"><span class="lineno"> 1107</span>    ldpp_dout(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>, -1) &lt;&lt; __PRETTY_FUNCTION__ &lt;&lt; <span class="stringliteral">&quot;:&quot;</span> &lt;&lt; __LINE__</div>
<div class="line"><span class="lineno"> 1108</span>           &lt;&lt; <span class="stringliteral">&quot; push_part failed: r=&quot;</span> &lt;&lt; <a class="code hl_variable" href="rgw__aio_8cc.html#ae38055824c6eac64615832ad9d888539">r</a> &lt;&lt; <span class="stringliteral">&quot; tid=&quot;</span> &lt;&lt; <a class="code hl_variable" href="cls__fifo__legacy_8cc.html#ab35eff139cb790487ef1520b2446d3f7">tid</a> &lt;&lt; dendl;</div>
<div class="line"><span class="lineno"> 1109</span>  }</div>
<div class="line"><span class="lineno"> 1110</span>  <span class="keywordflow">return</span> <a class="code hl_variable" href="rgw__aio_8cc.html#ae38055824c6eac64615832ad9d888539">r</a>;</div>
<div class="line"><span class="lineno"> 1111</span>}</div>
</div><!-- fragment --><div class="dynheader">
이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o_a1d19bcf2e74438d5782e5b1a457e8736_cgraph.png" border="0" usemap="#aclassrgw_1_1cls_1_1fifo_1_1_f_i_f_o_a1d19bcf2e74438d5782e5b1a457e8736_cgraph" alt=""/></div>
<map name="aclassrgw_1_1cls_1_1fifo_1_1_f_i_f_o_a1d19bcf2e74438d5782e5b1a457e8736_cgraph" id="aclassrgw_1_1cls_1_1fifo_1_1_f_i_f_o_a1d19bcf2e74438d5782e5b1a457e8736_cgraph">
<area shape="rect" title=" " alt="" coords="5,5,133,48"/>
<area shape="rect" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5" title=" " alt="" coords="181,13,223,40"/>
<area shape="poly" title=" " alt="" coords="133,24,165,24,165,29,133,29"/>
</map>
</div>
<div class="dynheader">
이 함수를 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o_a1d19bcf2e74438d5782e5b1a457e8736_icgraph.png" border="0" usemap="#aclassrgw_1_1cls_1_1fifo_1_1_f_i_f_o_a1d19bcf2e74438d5782e5b1a457e8736_icgraph" alt=""/></div>
<map name="aclassrgw_1_1cls_1_1fifo_1_1_f_i_f_o_a1d19bcf2e74438d5782e5b1a457e8736_icgraph" id="aclassrgw_1_1cls_1_1fifo_1_1_f_i_f_o_a1d19bcf2e74438d5782e5b1a457e8736_icgraph">
<area shape="rect" title=" " alt="" coords="755,39,882,81"/>
<area shape="rect" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html#a6789013559e6332545632da406591905" title="Push entries to the FIFO" alt="" coords="573,5,701,48"/>
<area shape="poly" title=" " alt="" coords="739,48,700,41,701,36,740,43"/>
<area shape="rect" href="structrgw_1_1cls_1_1fifo_1_1_pusher.html#a4a8b613ba2abfdf216fd673f0450eab3" title=" " alt="" coords="567,72,707,115"/>
<area shape="poly" title=" " alt="" coords="740,77,707,83,706,78,739,72"/>
<area shape="rect" href="structrgw_1_1cls_1_1fifo_1_1_pusher.html#a91b3dedb3b8473bde2b293359078b5a8" title=" " alt="" coords="193,43,332,85"/>
<area shape="poly" title=" " alt="" coords="552,89,332,72,333,67,552,84"/>
<area shape="rect" href="structrgw_1_1cls_1_1fifo_1_1_pusher.html#af62940ebd63153e8ffe0344d617d122f" title=" " alt="" coords="380,101,519,144"/>
<area shape="poly" title=" " alt="" coords="552,109,520,114,519,109,551,104"/>
<area shape="rect" href="structrgw_1_1cls_1_1fifo_1_1_pusher.html#a9eb943fbddd67a9be022e380e187c2e9" title=" " alt="" coords="5,72,145,115"/>
<area shape="poly" title=" " alt="" coords="178,80,146,85,145,80,177,75"/>
<area shape="poly" title=" " alt="" coords="364,99,332,88,333,83,366,94"/>
<area shape="poly" title=" " alt="" coords="364,119,145,101,145,96,365,113"/>
</map>
</div>

</div>
</div>
<a id="a42f919c8b7b575f7a234766014454b9c" name="a42f919c8b7b575f7a234766014454b9c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a42f919c8b7b575f7a234766014454b9c">&#9670;&#160;</a></span>push_entries() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void rgw::cls::fifo::FIFO::push_entries </td>
          <td>(</td>
          <td class="paramtype">const std::deque&lt; cb::list &gt; &amp;&#160;</td>
          <td class="paramname"><em>data_bufs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::uint64_t&#160;</td>
          <td class="paramname"><em>tid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">lr::AioCompletion *&#160;</td>
          <td class="paramname"><em>c</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition"><a class="el" href="cls__fifo__legacy_8cc_source.html">cls_fifo_legacy.cc</a> 파일의 <a class="el" href="cls__fifo__legacy_8cc_source.html#l01113">1113</a> 번째 라인에서 정의되었습니다.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1115</span>{</div>
<div class="line"><span class="lineno"> 1116</span>  std::unique_lock l(<a class="code hl_variable" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html#af2b6bcbdfba97260e576ff4a72d8ba49">m</a>);</div>
<div class="line"><span class="lineno"> 1117</span>  <span class="keyword">auto</span> head_part_num = <a class="code hl_variable" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html#ac39e05a390f49314efc600e47135eee9">info</a>.head_part_num;</div>
<div class="line"><span class="lineno"> 1118</span>  <span class="keyword">const</span> <span class="keyword">auto</span> part_oid = <a class="code hl_variable" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html#ac39e05a390f49314efc600e47135eee9">info</a>.part_oid(head_part_num);</div>
<div class="line"><span class="lineno"> 1119</span>  l.unlock();</div>
<div class="line"><span class="lineno"> 1120</span> </div>
<div class="line"><span class="lineno"> 1121</span>  push_part(<a class="code hl_variable" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html#af2b49f78650a528ef6b4abb16205b71f">ioctx</a>, part_oid, data_bufs, <a class="code hl_variable" href="cls__fifo__legacy_8cc.html#ab35eff139cb790487ef1520b2446d3f7">tid</a>, <a class="code hl_variable" href="rgw__aio_8cc.html#af3997c9b015c5696191674621076ae50">c</a>);</div>
<div class="line"><span class="lineno"> 1122</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a2ff72550aa5ad4ba33ae8f6af1b16ed5" name="a2ff72550aa5ad4ba33ae8f6af1b16ed5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2ff72550aa5ad4ba33ae8f6af1b16ed5">&#9670;&#160;</a></span>read_meta() <span class="overload">[1/3]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int rgw::cls::fifo::FIFO::read_meta </td>
          <td>(</td>
          <td class="paramtype">const DoutPrefixProvider *&#160;</td>
          <td class="paramname"><em>dpp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">optional_yield&#160;</td>
          <td class="paramname"><em>y</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Force refresh of metadata, yielding/blocking style </p>

<p class="definition"><a class="el" href="cls__fifo__legacy_8cc_source.html">cls_fifo_legacy.cc</a> 파일의 <a class="el" href="cls__fifo__legacy_8cc_source.html#l01243">1243</a> 번째 라인에서 정의되었습니다.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1243</span>                                                                   {</div>
<div class="line"><span class="lineno"> 1244</span>  std::unique_lock l(<a class="code hl_variable" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html#af2b6bcbdfba97260e576ff4a72d8ba49">m</a>);</div>
<div class="line"><span class="lineno"> 1245</span>  <span class="keyword">auto</span> <a class="code hl_variable" href="cls__fifo__legacy_8cc.html#ab35eff139cb790487ef1520b2446d3f7">tid</a> = ++<a class="code hl_variable" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html#afa7af9bdb8c2b6813e746cba65f61115">next_tid</a>;</div>
<div class="line"><span class="lineno"> 1246</span>  l.unlock();</div>
<div class="line"><span class="lineno"> 1247</span>  <span class="keywordflow">return</span> <a class="code hl_function" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html#a767e397207c78989f0e0ebcef3252d78">read_meta</a>(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>, <a class="code hl_variable" href="cls__fifo__legacy_8cc.html#ab35eff139cb790487ef1520b2446d3f7">tid</a>, y);</div>
<div class="line"><span class="lineno"> 1248</span>}</div>
</div><!-- fragment --><div class="dynheader">
이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o_a2ff72550aa5ad4ba33ae8f6af1b16ed5_cgraph.png" border="0" usemap="#aclassrgw_1_1cls_1_1fifo_1_1_f_i_f_o_a2ff72550aa5ad4ba33ae8f6af1b16ed5_cgraph" alt=""/></div>
<map name="aclassrgw_1_1cls_1_1fifo_1_1_f_i_f_o_a2ff72550aa5ad4ba33ae8f6af1b16ed5_cgraph" id="aclassrgw_1_1cls_1_1fifo_1_1_f_i_f_o_a2ff72550aa5ad4ba33ae8f6af1b16ed5_cgraph">
<area shape="rect" title="Force refresh of metadata, yielding/blocking style" alt="" coords="5,5,133,48"/>
<area shape="rect" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5" title=" " alt="" coords="735,60,777,87"/>
<area shape="poly" title=" " alt="" coords="133,21,181,20,324,16,435,16,546,24,687,48,720,57,719,62,686,53,546,30,435,21,324,22,181,25,133,27"/>
<area shape="rect" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html#a767e397207c78989f0e0ebcef3252d78" title="Force refresh of metadata, yielding/blocking style" alt="" coords="181,35,308,77"/>
<area shape="poly" title=" " alt="" coords="134,35,166,40,165,45,133,40"/>
<area shape="poly" title=" " alt="" coords="309,55,719,69,719,75,308,61"/>
<area shape="rect" href="namespacergw_1_1cls_1_1fifo.html#a467406e6496bef3cfca16fa6eaf7ba28" title=" " alt="" coords="356,160,508,187"/>
<area shape="poly" title=" " alt="" coords="281,76,398,149,395,154,279,80"/>
<area shape="poly" title=" " alt="" coords="464,157,555,121,644,96,719,78,720,83,645,101,557,127,466,162"/>
<area shape="rect" href="namespacergw.html#a49e77e75ed539fdbde0dcc092bb76467" title=" " alt="" coords="576,160,667,187"/>
<area shape="poly" title=" " alt="" coords="509,171,560,171,560,176,509,176"/>
<area shape="rect" href="namespacergw.html#a34a5757756e9618325f611b073ccd448" title=" " alt="" coords="576,235,667,261"/>
<area shape="poly" title=" " alt="" coords="469,185,573,226,571,231,467,190"/>
<area shape="rect" href="rgw__tools_8cc.html#ac8fd9a95626d93661d7280c9455eba5c" title="perform the rados operation, using the yield context when given" alt="" coords="556,285,687,312"/>
<area shape="poly" title=" " alt="" coords="449,185,496,227,558,271,567,276,565,281,555,276,492,231,446,189"/>
<area shape="poly" title=" " alt="" coords="598,161,594,151,597,142,606,136,622,133,638,136,647,143,644,147,636,141,621,139,608,141,601,145,599,151,603,158"/>
<area shape="poly" title=" " alt="" coords="598,235,594,226,597,217,606,210,622,208,638,211,647,217,644,222,636,216,621,213,608,215,601,220,599,226,603,233"/>
<area shape="poly" title=" " alt="" coords="669,283,685,271,713,231,732,185,744,139,750,101,755,102,749,140,737,186,718,233,689,275,673,287"/>
</map>
</div>

</div>
</div>
<a id="ac195211bd8cfabc15fc383868cd0a8e2" name="ac195211bd8cfabc15fc383868cd0a8e2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac195211bd8cfabc15fc383868cd0a8e2">&#9670;&#160;</a></span>read_meta() <span class="overload">[2/3]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void rgw::cls::fifo::FIFO::read_meta </td>
          <td>(</td>
          <td class="paramtype">const DoutPrefixProvider *&#160;</td>
          <td class="paramname"><em>dpp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::uint64_t&#160;</td>
          <td class="paramname"><em>tid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">lr::AioCompletion *&#160;</td>
          <td class="paramname"><em>c</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Force refresh of metadata, with a librados <a class="el" href="structrgw_1_1cls_1_1fifo_1_1_completion.html">Completion</a> </p>

<p class="definition"><a class="el" href="cls__fifo__legacy_8cc_source.html">cls_fifo_legacy.cc</a> 파일의 <a class="el" href="cls__fifo__legacy_8cc_source.html#l01284">1284</a> 번째 라인에서 정의되었습니다.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1285</span>{</div>
<div class="line"><span class="lineno"> 1286</span>  ldpp_dout(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>, 20) &lt;&lt; __PRETTY_FUNCTION__ &lt;&lt; <span class="stringliteral">&quot;:&quot;</span> &lt;&lt; __LINE__</div>
<div class="line"><span class="lineno"> 1287</span>         &lt;&lt; <span class="stringliteral">&quot; entering: tid=&quot;</span> &lt;&lt; <a class="code hl_variable" href="cls__fifo__legacy_8cc.html#ab35eff139cb790487ef1520b2446d3f7">tid</a> &lt;&lt; dendl;</div>
<div class="line"><span class="lineno"> 1288</span>  lr::ObjectReadOperation op;</div>
<div class="line"><span class="lineno"> 1289</span>  fifo::op::get_meta gm;</div>
<div class="line"><span class="lineno"> 1290</span>  cb::list in;</div>
<div class="line"><span class="lineno"> 1291</span>  <a class="code hl_function" href="namespacergw.html#a34a5757756e9618325f611b073ccd448">encode</a>(gm, in);</div>
<div class="line"><span class="lineno"> 1292</span>  <span class="keyword">auto</span> reader = std::make_unique&lt;Reader&gt;(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>, <span class="keyword">this</span>, <a class="code hl_variable" href="rgw__aio_8cc.html#af3997c9b015c5696191674621076ae50">c</a>, <a class="code hl_variable" href="cls__fifo__legacy_8cc.html#ab35eff139cb790487ef1520b2446d3f7">tid</a>);</div>
<div class="line"><span class="lineno"> 1293</span>  <span class="keyword">auto</span> <a class="code hl_variable" href="cls__fifo__legacy_8cc.html#a6c69cb889db560ef44bad7881525af22">rp</a> = reader.get();</div>
<div class="line"><span class="lineno"> 1294</span>  <span class="keyword">auto</span> <a class="code hl_variable" href="rgw__aio_8cc.html#ae38055824c6eac64615832ad9d888539">r</a> = <a class="code hl_variable" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html#af2b49f78650a528ef6b4abb16205b71f">ioctx</a>.aio_exec(<a class="code hl_variable" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html#a3e0ced0e9aa607afbde4462e07416be3">oid</a>, <a class="code hl_function" href="structrgw_1_1cls_1_1fifo_1_1_completion.html#a35c552581b3e840b33621734133dc2e3">Reader::call</a>(std::move(reader)), fifo::op::CLASS,</div>
<div class="line"><span class="lineno"> 1295</span>              fifo::op::GET_META, in, &amp;<a class="code hl_variable" href="cls__fifo__legacy_8cc.html#a6c69cb889db560ef44bad7881525af22">rp</a>-&gt;bl);</div>
<div class="line"><span class="lineno"> 1296</span>  assert(<a class="code hl_variable" href="rgw__aio_8cc.html#ae38055824c6eac64615832ad9d888539">r</a> &gt;= 0);</div>
<div class="line"><span class="lineno"> 1297</span>}</div>
<div class="ttc" id="acls__fifo__legacy_8cc_html_a6c69cb889db560ef44bad7881525af22"><div class="ttname"><a href="cls__fifo__legacy_8cc.html#a6c69cb889db560ef44bad7881525af22">rp</a></div><div class="ttdeci">int * rp</div><div class="ttdef"><b>Definition</b> <a href="cls__fifo__legacy_8cc_source.html#l00339">cls_fifo_legacy.cc:339</a></div></div>
<div class="ttc" id="anamespacergw_html_a34a5757756e9618325f611b073ccd448"><div class="ttname"><a href="namespacergw.html#a34a5757756e9618325f611b073ccd448">rgw::encode</a></div><div class="ttdeci">void encode(const bucket_index_normal_layout &amp;l, bufferlist &amp;bl, uint64_t f)</div><div class="ttdef"><b>Definition</b> <a href="rgw__bucket__layout_8cc_source.html#l00020">rgw_bucket_layout.cc:20</a></div></div>
</div><!-- fragment --><div class="dynheader">
이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o_ac195211bd8cfabc15fc383868cd0a8e2_cgraph.png" border="0" usemap="#aclassrgw_1_1cls_1_1fifo_1_1_f_i_f_o_ac195211bd8cfabc15fc383868cd0a8e2_cgraph" alt=""/></div>
<map name="aclassrgw_1_1cls_1_1fifo_1_1_f_i_f_o_ac195211bd8cfabc15fc383868cd0a8e2_cgraph" id="aclassrgw_1_1cls_1_1fifo_1_1_f_i_f_o_ac195211bd8cfabc15fc383868cd0a8e2_cgraph">
<area shape="rect" title="Force refresh of metadata, with a librados Completion" alt="" coords="5,64,133,107"/>
<area shape="rect" href="structrgw_1_1cls_1_1fifo_1_1_completion.html#a35c552581b3e840b33621734133dc2e3" title=" " alt="" coords="181,5,344,48"/>
<area shape="poly" title=" " alt="" coords="133,63,174,51,176,56,134,69"/>
<area shape="rect" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5" title=" " alt="" coords="241,72,284,99"/>
<area shape="poly" title=" " alt="" coords="133,83,226,83,226,88,133,88"/>
<area shape="rect" href="namespacergw.html#a34a5757756e9618325f611b073ccd448" title=" " alt="" coords="217,147,308,173"/>
<area shape="poly" title=" " alt="" coords="127,105,212,138,210,143,126,110"/>
<area shape="poly" title=" " alt="" coords="229,148,223,138,228,128,241,122,262,120,285,123,298,129,295,134,284,128,262,125,242,127,231,132,229,137,234,145"/>
</map>
</div>

</div>
</div>
<a id="a767e397207c78989f0e0ebcef3252d78" name="a767e397207c78989f0e0ebcef3252d78"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a767e397207c78989f0e0ebcef3252d78">&#9670;&#160;</a></span>read_meta() <span class="overload">[3/3]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int rgw::cls::fifo::FIFO::read_meta </td>
          <td>(</td>
          <td class="paramtype">const DoutPrefixProvider *&#160;</td>
          <td class="paramname"><em>dpp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::uint64_t&#160;</td>
          <td class="paramname"><em>tid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">optional_yield&#160;</td>
          <td class="paramname"><em>y</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Force refresh of metadata, yielding/blocking style </p>

<p class="definition"><a class="el" href="cls__fifo__legacy_8cc_source.html">cls_fifo_legacy.cc</a> 파일의 <a class="el" href="cls__fifo__legacy_8cc_source.html#l01220">1220</a> 번째 라인에서 정의되었습니다.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1220</span>                                                                                    {</div>
<div class="line"><span class="lineno"> 1221</span>  ldpp_dout(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>, 20) &lt;&lt; __PRETTY_FUNCTION__ &lt;&lt; <span class="stringliteral">&quot;:&quot;</span> &lt;&lt; __LINE__</div>
<div class="line"><span class="lineno"> 1222</span>         &lt;&lt; <span class="stringliteral">&quot; entering: tid=&quot;</span> &lt;&lt; <a class="code hl_variable" href="cls__fifo__legacy_8cc.html#ab35eff139cb790487ef1520b2446d3f7">tid</a> &lt;&lt; dendl;</div>
<div class="line"><span class="lineno"> 1223</span>  fifo::info _info;</div>
<div class="line"><span class="lineno"> 1224</span>  std::uint32_t _phs;</div>
<div class="line"><span class="lineno"> 1225</span>  std::uint32_t _peo;</div>
<div class="line"><span class="lineno"> 1226</span> </div>
<div class="line"><span class="lineno"> 1227</span>  <span class="keyword">auto</span> <a class="code hl_variable" href="rgw__aio_8cc.html#ae38055824c6eac64615832ad9d888539">r</a> = <a class="code hl_function" href="namespacergw_1_1cls_1_1fifo.html#a467406e6496bef3cfca16fa6eaf7ba28">get_meta</a>(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>, <a class="code hl_variable" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html#af2b49f78650a528ef6b4abb16205b71f">ioctx</a>, <a class="code hl_variable" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html#a3e0ced0e9aa607afbde4462e07416be3">oid</a>, std::nullopt, &amp;_info, &amp;_phs, &amp;_peo, <a class="code hl_variable" href="cls__fifo__legacy_8cc.html#ab35eff139cb790487ef1520b2446d3f7">tid</a>, y);</div>
<div class="line"><span class="lineno"> 1228</span>  <span class="keywordflow">if</span> (<a class="code hl_variable" href="rgw__aio_8cc.html#ae38055824c6eac64615832ad9d888539">r</a> &lt; 0) {</div>
<div class="line"><span class="lineno"> 1229</span>    ldpp_dout(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>, -1) &lt;&lt; __PRETTY_FUNCTION__ &lt;&lt; <span class="stringliteral">&quot;:&quot;</span> &lt;&lt; __LINE__</div>
<div class="line"><span class="lineno"> 1230</span>           &lt;&lt; <span class="stringliteral">&quot; get_meta failed: r=&quot;</span> &lt;&lt; <a class="code hl_variable" href="rgw__aio_8cc.html#ae38055824c6eac64615832ad9d888539">r</a> &lt;&lt; <span class="stringliteral">&quot; tid=&quot;</span> &lt;&lt; <a class="code hl_variable" href="cls__fifo__legacy_8cc.html#ab35eff139cb790487ef1520b2446d3f7">tid</a> &lt;&lt; dendl;</div>
<div class="line"><span class="lineno"> 1231</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="rgw__aio_8cc.html#ae38055824c6eac64615832ad9d888539">r</a>;</div>
<div class="line"><span class="lineno"> 1232</span>  }</div>
<div class="line"><span class="lineno"> 1233</span>  std::unique_lock l(<a class="code hl_variable" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html#af2b6bcbdfba97260e576ff4a72d8ba49">m</a>);</div>
<div class="line"><span class="lineno"> 1234</span>  <span class="comment">// We have a newer version already!</span></div>
<div class="line"><span class="lineno"> 1235</span>  <span class="keywordflow">if</span> (_info.version.same_or_later(this-&gt;info.version)) {</div>
<div class="line"><span class="lineno"> 1236</span>    <a class="code hl_variable" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html#ac39e05a390f49314efc600e47135eee9">info</a> = std::move(_info);</div>
<div class="line"><span class="lineno"> 1237</span>    <a class="code hl_variable" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html#ae8573df3015bf8beaa2bf62ee4130178">part_header_size</a> = _phs;</div>
<div class="line"><span class="lineno"> 1238</span>    <a class="code hl_variable" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html#a585247aa2c1b7c19869ceb1544443976">part_entry_overhead</a> = _peo;</div>
<div class="line"><span class="lineno"> 1239</span>  }</div>
<div class="line"><span class="lineno"> 1240</span>  <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno"> 1241</span>}</div>
</div><!-- fragment --><div class="dynheader">
이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o_a767e397207c78989f0e0ebcef3252d78_cgraph.png" border="0" usemap="#aclassrgw_1_1cls_1_1fifo_1_1_f_i_f_o_a767e397207c78989f0e0ebcef3252d78_cgraph" alt=""/></div>
<map name="aclassrgw_1_1cls_1_1fifo_1_1_f_i_f_o_a767e397207c78989f0e0ebcef3252d78_cgraph" id="aclassrgw_1_1cls_1_1fifo_1_1_f_i_f_o_a767e397207c78989f0e0ebcef3252d78_cgraph">
<area shape="rect" title="Force refresh of metadata, yielding/blocking style" alt="" coords="5,9,133,52"/>
<area shape="rect" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5" title=" " alt="" coords="559,5,602,32"/>
<area shape="poly" title=" " alt="" coords="133,24,381,13,511,13,544,14,544,20,511,19,381,19,133,30"/>
<area shape="rect" href="namespacergw_1_1cls_1_1fifo.html#a467406e6496bef3cfca16fa6eaf7ba28" title=" " alt="" coords="181,80,333,107"/>
<area shape="poly" title=" " alt="" coords="134,49,201,72,199,77,132,54"/>
<area shape="poly" title=" " alt="" coords="286,77,330,58,380,41,468,25,544,18,545,23,469,30,382,47,331,63,288,82"/>
<area shape="rect" href="namespacergw.html#a49e77e75ed539fdbde0dcc092bb76467" title=" " alt="" coords="401,80,492,107"/>
<area shape="poly" title=" " alt="" coords="334,91,385,91,385,96,334,96"/>
<area shape="rect" href="namespacergw.html#a34a5757756e9618325f611b073ccd448" title=" " alt="" coords="401,155,492,181"/>
<area shape="poly" title=" " alt="" coords="294,105,397,146,395,151,292,110"/>
<area shape="rect" href="rgw__tools_8cc.html#ac8fd9a95626d93661d7280c9455eba5c" title="perform the rados operation, using the yield context when given" alt="" coords="381,205,511,232"/>
<area shape="poly" title=" " alt="" coords="274,105,320,147,382,191,392,196,389,201,380,196,317,151,270,109"/>
<area shape="poly" title=" " alt="" coords="422,81,418,71,421,62,431,56,446,53,463,56,472,63,468,67,461,61,446,59,433,61,425,65,424,71,427,78"/>
<area shape="poly" title=" " alt="" coords="422,155,418,146,421,137,431,130,446,128,463,131,472,137,468,142,461,136,446,133,433,135,425,140,424,146,427,153"/>
<area shape="poly" title=" " alt="" coords="494,203,509,191,535,157,553,118,566,80,573,47,578,48,571,81,558,120,540,160,513,195,497,207"/>
</map>
</div>
<div class="dynheader">
이 함수를 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o_a767e397207c78989f0e0ebcef3252d78_icgraph.png" border="0" usemap="#aclassrgw_1_1cls_1_1fifo_1_1_f_i_f_o_a767e397207c78989f0e0ebcef3252d78_icgraph" alt=""/></div>
<map name="aclassrgw_1_1cls_1_1fifo_1_1_f_i_f_o_a767e397207c78989f0e0ebcef3252d78_icgraph" id="aclassrgw_1_1cls_1_1fifo_1_1_f_i_f_o_a767e397207c78989f0e0ebcef3252d78_icgraph">
<area shape="rect" title="Force refresh of metadata, yielding/blocking style" alt="" coords="1436,765,1564,808"/>
<area shape="rect" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html#aba781c2176312b28522495f0021ba590" title=" " alt="" coords="1253,345,1380,388"/>
<area shape="poly" title=" " alt="" coords="1481,752,1325,389,1330,387,1486,750"/>
<area shape="rect" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html#a6789013559e6332545632da406591905" title="Push entries to the FIFO" alt="" coords="287,587,415,629"/>
<area shape="poly" title=" " alt="" coords="1470,756,1433,720,1387,690,1311,660,1248,648,1183,646,1099,647,848,647,728,644,608,636,415,618,415,613,609,631,728,638,848,641,1099,641,1183,640,1249,643,1313,655,1390,686,1436,716,1473,752"/>
<area shape="rect" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html#abbe22f2a9fda63a7f370fc302177eb2a" title="Trim entries, coroutine/block style" alt="" coords="1034,564,1162,607"/>
<area shape="poly" title=" " alt="" coords="1482,752,1467,721,1446,687,1419,654,1387,628,1332,603,1272,588,1214,583,1162,583,1162,577,1214,577,1273,583,1334,597,1390,623,1423,650,1450,684,1472,718,1487,750"/>
<area shape="rect" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html#a922adbe15322a0f2a199afa190fd6560" title=" " alt="" coords="1253,732,1380,775"/>
<area shape="poly" title=" " alt="" coords="1420,775,1380,768,1381,762,1421,770"/>
<area shape="rect" href="structrgw_1_1cls_1_1fifo_1_1_lister.html#a97e1992bfc567af23a140766899bdf90" title=" " alt="" coords="1252,799,1382,841"/>
<area shape="poly" title=" " alt="" coords="1422,804,1383,811,1382,805,1421,798"/>
<area shape="rect" href="structrgw_1_1cls_1_1fifo_1_1_updater.html#adef1bb74f03a7d93464d1e9d233043b4" title=" " alt="" coords="1245,865,1388,908"/>
<area shape="poly" title=" " alt="" coords="1453,819,1390,856,1367,867,1365,862,1387,851,1450,814"/>
<area shape="rect" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html#ae8ae12a1e0c8a4b30d6f0d7152b42839" title="List entries" alt="" coords="1253,932,1380,975"/>
<area shape="poly" title=" " alt="" coords="1479,823,1440,873,1390,922,1372,934,1370,929,1387,918,1436,869,1474,819"/>
<area shape="rect" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html#a2ff72550aa5ad4ba33ae8f6af1b16ed5" title="Force refresh of metadata, yielding/blocking style" alt="" coords="1253,999,1380,1041"/>
<area shape="poly" title=" " alt="" coords="1489,823,1452,905,1425,949,1390,989,1375,1000,1372,996,1387,985,1420,946,1448,902,1484,821"/>
<area shape="rect" href="structrgw_1_1cls_1_1fifo_1_1_pusher.html#a9300b0b19346ddefbcf464548960af1b" title=" " alt="" coords="281,671,421,713"/>
<area shape="poly" title=" " alt="" coords="1457,759,1424,739,1387,723,1309,702,1246,695,1099,697,848,697,421,695,421,690,848,692,1099,692,1246,690,1310,697,1389,717,1427,734,1460,754"/>
<area shape="rect" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html#ac9872716c2601d007934cd541627e6f6" title="Trim entries, librados AioCompletion style" alt="" coords="1253,1065,1380,1108"/>
<area shape="poly" title=" " alt="" coords="1495,824,1482,875,1462,936,1432,999,1413,1028,1390,1055,1376,1067,1373,1063,1386,1051,1408,1025,1427,996,1457,934,1477,873,1490,823"/>
<area shape="rect" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html#acb4cd6c9b683badf085564c1ad87b0bc" title=" " alt="" coords="527,165,671,208"/>
<area shape="poly" title=" " alt="" coords="1302,332,1286,295,1264,253,1234,214,1196,184,1130,155,1060,137,988,129,915,128,845,134,780,143,672,167,671,162,779,138,845,128,915,123,988,123,1061,132,1132,150,1198,179,1238,210,1268,250,1291,292,1307,330"/>
<area shape="rect" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html#adaf8b9d5a771ad7b704328dea8156446" title=" " alt="" coords="527,509,671,552"/>
<area shape="poly" title=" " alt="" coords="1286,401,1247,435,1198,465,1130,492,1058,511,984,525,912,534,778,541,672,539,672,534,778,536,912,529,984,520,1056,506,1128,486,1196,460,1243,431,1283,397"/>
<area shape="rect" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html#aec8b6a339b01a90706117af46da93abf" title=" " alt="" coords="780,451,919,493"/>
<area shape="poly" title=" " alt="" coords="1258,397,1198,420,1124,438,1049,452,919,469,919,464,1049,447,1123,433,1196,415,1256,392"/>
<area shape="rect" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html#a5b962aff7e9ff729f83b709e1bba6d13" title=" " alt="" coords="780,384,919,427"/>
<area shape="poly" title=" " alt="" coords="1239,394,1197,403,1123,410,1048,414,919,412,919,407,1048,408,1123,405,1197,397,1238,389"/>
<area shape="rect" href="structrgw_1_1cls_1_1fifo_1_1_new_part_preparer.html#a0753418126dd6052a830cdd7ec76335c" title=" " alt="" coords="751,188,948,231"/>
<area shape="poly" title=" " alt="" coords="1297,333,1280,303,1257,271,1229,241,1196,218,1135,197,1071,188,1007,187,949,192,948,187,1007,182,1071,182,1136,192,1198,214,1233,237,1262,268,1285,300,1302,331"/>
<area shape="rect" href="structrgw_1_1cls_1_1fifo_1_1_trimmer.html#acf0010a30dd2bd26aa13093a0817b757" title=" " alt="" coords="1025,228,1171,271"/>
<area shape="poly" title=" " alt="" coords="1272,339,1196,292,1157,274,1159,269,1198,287,1275,334"/>
<area shape="rect" href="structrgw_1_1cls_1_1fifo_1_1_new_head_preparer.html#a23d676fb4554b85a770cadee0a64c2d0" title=" " alt="" coords="748,267,951,309"/>
<area shape="poly" title=" " alt="" coords="1237,346,1196,336,1069,314,951,300,951,295,1070,309,1198,331,1239,341"/>
<area shape="rect" href="structrgw_1_1cls_1_1fifo_1_1_journal_processor.html#ac307538f71585fd886f48063d871cddf" title=" " alt="" coords="999,60,1197,103"/>
<area shape="poly" title=" " alt="" coords="1304,331,1290,285,1267,229,1236,173,1195,123,1169,105,1172,101,1199,119,1241,170,1272,227,1295,283,1309,330"/>
<area shape="rect" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html#a1183904fcb363500f021b6ecf9f58d29" title=" " alt="" coords="1034,345,1162,388"/>
<area shape="poly" title=" " alt="" coords="1238,369,1162,369,1162,364,1238,364"/>
<area shape="poly" title=" " alt="" coords="1302,403,1262,475,1233,514,1199,547,1163,569,1160,564,1195,543,1229,510,1257,472,1298,401"/>
<area shape="rect" href="structrgw_1_1cls_1_1fifo_1_1_pusher.html#aa31861b769b07bfba149c0da14a051d3" title=" " alt="" coords="281,512,421,555"/>
<area shape="poly" title=" " alt="" coords="512,534,421,535,421,530,512,529"/>
<area shape="poly" title=" " alt="" coords="514,560,416,591,414,586,513,555"/>
<area shape="rect" href="structrgw_1_1cls_1_1fifo_1_1_pusher.html#a9eb943fbddd67a9be022e380e187c2e9" title=" " alt="" coords="35,579,174,621"/>
<area shape="poly" title=" " alt="" coords="267,559,175,584,174,579,265,554"/>
<area shape="poly" title=" " alt="" coords="805,376,746,323,723,289,713,274,698,257,668,232,637,211,640,206,672,227,702,253,718,270,727,286,750,320,809,372"/>
<area shape="poly" title=" " alt="" coords="767,433,750,441,686,476,632,511,630,506,683,471,747,436,765,429"/>
<area shape="rect" href="structrgw_1_1cls_1_1fifo_1_1_new_head_preparer.html#a11dc6a6f1d09332d11f5ef6d95b6e426" title=" " alt="" coords="498,267,700,309"/>
<area shape="poly" title=" " alt="" coords="733,291,701,291,701,285,733,285"/>
<area shape="rect" href="structrgw_1_1cls_1_1fifo_1_1_journal_processor.html#ada0b95135907661cd3bbe6076ef96495" title=" " alt="" coords="5,35,204,77"/>
<area shape="poly" title=" " alt="" coords="983,81,252,63,204,61,204,56,252,57,983,76"/>
<area shape="rect" href="structrgw_1_1cls_1_1fifo_1_1_journal_processor.html#a3a5343d47c26aaec6e8ff76d516e2e14" title=" " alt="" coords="750,5,949,48"/>
<area shape="poly" title=" " alt="" coords="983,59,949,51,950,46,984,54"/>
<area shape="rect" href="structrgw_1_1cls_1_1fifo_1_1_journal_processor.html#a4f683f8b3f7524fcd1a95c663a890d23" title=" " alt="" coords="500,5,698,48"/>
<area shape="poly" title=" " alt="" coords="735,29,699,29,699,24,735,24"/>
<area shape="rect" href="structrgw_1_1cls_1_1fifo_1_1_journal_processor.html#aa8352e9e0cc45d6744dfb39e38693cf1" title=" " alt="" coords="252,5,450,48"/>
<area shape="poly" title=" " alt="" coords="484,29,451,29,451,24,484,24"/>
<area shape="poly" title=" " alt="" coords="236,43,205,47,204,42,236,38"/>
<area shape="poly" title=" " alt="" coords="1018,354,958,347,889,346,817,354,783,362,750,374,705,403,666,440,636,478,615,511,610,508,632,475,662,436,701,398,747,370,781,357,816,348,888,340,958,342,1019,348"/>
<area shape="poly" title=" " alt="" coords="1044,398,952,441,920,453,918,448,950,436,1042,393"/>
<area shape="poly" title=" " alt="" coords="1019,381,919,397,919,392,1019,376"/>
<area shape="poly" title=" " alt="" coords="1059,337,1008,297,949,257,904,234,906,229,952,252,1011,293,1062,333"/>
<area shape="poly" title=" " alt="" coords="1019,345,919,312,920,307,1020,339"/>
<area shape="rect" href="structrgw_1_1cls_1_1fifo_1_1_lister.html#a06f24fe6ed82f6f13a7458317077c376" title=" " alt="" coords="1033,799,1163,841"/>
<area shape="poly" title=" " alt="" coords="1236,823,1164,823,1164,817,1236,817"/>
<area shape="rect" href="structrgw_1_1cls_1_1fifo_1_1_updater.html#a8c18fb611ddbe35989c795dfcb57959d" title=" " alt="" coords="1026,865,1170,908"/>
<area shape="poly" title=" " alt="" coords="1230,889,1170,889,1170,884,1230,884"/>
<area shape="poly" title=" " alt="" coords="277,667,163,624,165,619,279,662"/>
</map>
</div>

</div>
</div>
<a id="aea9becd936635377461013178aecdbed" name="aea9becd936635377461013178aecdbed"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aea9becd936635377461013178aecdbed">&#9670;&#160;</a></span>remove_part()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int rgw::cls::fifo::FIFO::remove_part </td>
          <td>(</td>
          <td class="paramtype">const DoutPrefixProvider *&#160;</td>
          <td class="paramname"><em>dpp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int64_t&#160;</td>
          <td class="paramname"><em>part_num</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::uint64_t&#160;</td>
          <td class="paramname"><em>tid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">optional_yield&#160;</td>
          <td class="paramname"><em>y</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition"><a class="el" href="cls__fifo__legacy_8cc_source.html">cls_fifo_legacy.cc</a> 파일의 <a class="el" href="cls__fifo__legacy_8cc_source.html#l00577">577</a> 번째 라인에서 정의되었습니다.</p>
<div class="fragment"><div class="line"><span class="lineno">  579</span>{</div>
<div class="line"><span class="lineno">  580</span>  ldpp_dout(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>, 20) &lt;&lt; __PRETTY_FUNCTION__ &lt;&lt; <span class="stringliteral">&quot;:&quot;</span> &lt;&lt; __LINE__</div>
<div class="line"><span class="lineno">  581</span>         &lt;&lt; <span class="stringliteral">&quot; entering: tid=&quot;</span> &lt;&lt; <a class="code hl_variable" href="cls__fifo__legacy_8cc.html#ab35eff139cb790487ef1520b2446d3f7">tid</a> &lt;&lt; dendl;</div>
<div class="line"><span class="lineno">  582</span>  lr::ObjectWriteOperation op;</div>
<div class="line"><span class="lineno">  583</span>  op.remove();</div>
<div class="line"><span class="lineno">  584</span>  std::unique_lock l(<a class="code hl_variable" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html#af2b6bcbdfba97260e576ff4a72d8ba49">m</a>);</div>
<div class="line"><span class="lineno">  585</span>  <span class="keyword">auto</span> <a class="code hl_variable" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html#a3e0ced0e9aa607afbde4462e07416be3">oid</a> = <a class="code hl_variable" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html#ac39e05a390f49314efc600e47135eee9">info</a>.part_oid(part_num);</div>
<div class="line"><span class="lineno">  586</span>  l.unlock();</div>
<div class="line"><span class="lineno">  587</span>  <span class="keyword">auto</span> <a class="code hl_variable" href="rgw__aio_8cc.html#ae38055824c6eac64615832ad9d888539">r</a> = <a class="code hl_function" href="rgw__tools_8cc.html#ac8fd9a95626d93661d7280c9455eba5c">rgw_rados_operate</a>(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>, <a class="code hl_variable" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html#af2b49f78650a528ef6b4abb16205b71f">ioctx</a>, <a class="code hl_variable" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html#a3e0ced0e9aa607afbde4462e07416be3">oid</a>, &amp;op, y);</div>
<div class="line"><span class="lineno">  588</span>  <span class="keywordflow">if</span> (<a class="code hl_variable" href="rgw__aio_8cc.html#ae38055824c6eac64615832ad9d888539">r</a> &lt; 0) {</div>
<div class="line"><span class="lineno">  589</span>    ldpp_dout(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>, -1) &lt;&lt; __PRETTY_FUNCTION__ &lt;&lt; <span class="stringliteral">&quot;:&quot;</span> &lt;&lt; __LINE__</div>
<div class="line"><span class="lineno">  590</span>           &lt;&lt; <span class="stringliteral">&quot; remove failed: r=&quot;</span> &lt;&lt; <a class="code hl_variable" href="rgw__aio_8cc.html#ae38055824c6eac64615832ad9d888539">r</a> &lt;&lt; <span class="stringliteral">&quot; tid=&quot;</span></div>
<div class="line"><span class="lineno">  591</span>           &lt;&lt; <a class="code hl_variable" href="cls__fifo__legacy_8cc.html#ab35eff139cb790487ef1520b2446d3f7">tid</a> &lt;&lt; dendl;</div>
<div class="line"><span class="lineno">  592</span>  }</div>
<div class="line"><span class="lineno">  593</span>  <span class="keywordflow">return</span> <a class="code hl_variable" href="rgw__aio_8cc.html#ae38055824c6eac64615832ad9d888539">r</a>;</div>
<div class="line"><span class="lineno">  594</span>}</div>
</div><!-- fragment --><div class="dynheader">
이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o_aea9becd936635377461013178aecdbed_cgraph.png" border="0" usemap="#aclassrgw_1_1cls_1_1fifo_1_1_f_i_f_o_aea9becd936635377461013178aecdbed_cgraph" alt=""/></div>
<map name="aclassrgw_1_1cls_1_1fifo_1_1_f_i_f_o_aea9becd936635377461013178aecdbed_cgraph" id="aclassrgw_1_1cls_1_1fifo_1_1_f_i_f_o_aea9becd936635377461013178aecdbed_cgraph">
<area shape="rect" title=" " alt="" coords="5,5,133,48"/>
<area shape="rect" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5" title=" " alt="" coords="359,13,401,40"/>
<area shape="poly" title=" " alt="" coords="133,24,343,24,343,29,133,29"/>
<area shape="rect" href="rgw__tools_8cc.html#ac8fd9a95626d93661d7280c9455eba5c" title="perform the rados operation, using the yield context when given" alt="" coords="181,39,311,65"/>
<area shape="poly" title=" " alt="" coords="134,33,166,38,165,43,133,38"/>
<area shape="poly" title=" " alt="" coords="311,37,343,31,344,36,312,42"/>
</map>
</div>
<div class="dynheader">
이 함수를 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o_aea9becd936635377461013178aecdbed_icgraph.png" border="0" usemap="#aclassrgw_1_1cls_1_1fifo_1_1_f_i_f_o_aea9becd936635377461013178aecdbed_icgraph" alt=""/></div>
<map name="aclassrgw_1_1cls_1_1fifo_1_1_f_i_f_o_aea9becd936635377461013178aecdbed_icgraph" id="aclassrgw_1_1cls_1_1fifo_1_1_f_i_f_o_aea9becd936635377461013178aecdbed_icgraph">
<area shape="rect" title=" " alt="" coords="1056,135,1183,177"/>
<area shape="rect" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html#a1183904fcb363500f021b6ecf9f58d29" title=" " alt="" coords="881,135,1008,177"/>
<area shape="poly" title=" " alt="" coords="1040,159,1008,159,1008,153,1040,153"/>
<area shape="rect" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html#adaf8b9d5a771ad7b704328dea8156446" title=" " alt="" coords="409,39,553,81"/>
<area shape="poly" title=" " alt="" coords="916,124,879,87,856,71,832,58,797,47,761,40,686,35,616,38,554,47,554,42,615,33,686,29,761,35,798,42,834,54,859,66,882,83,920,121"/>
<area shape="rect" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html#aec8b6a339b01a90706117af46da93abf" title=" " alt="" coords="662,68,801,111"/>
<area shape="poly" title=" " alt="" coords="865,134,801,114,802,109,867,129"/>
<area shape="rect" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html#a5b962aff7e9ff729f83b709e1bba6d13" title=" " alt="" coords="662,135,801,177"/>
<area shape="poly" title=" " alt="" coords="866,159,801,159,801,153,866,153"/>
<area shape="rect" href="structrgw_1_1cls_1_1fifo_1_1_new_part_preparer.html#a0753418126dd6052a830cdd7ec76335c" title=" " alt="" coords="633,201,830,244"/>
<area shape="poly" title=" " alt="" coords="867,183,803,203,801,198,865,178"/>
<area shape="rect" href="structrgw_1_1cls_1_1fifo_1_1_new_head_preparer.html#a23d676fb4554b85a770cadee0a64c2d0" title=" " alt="" coords="630,268,833,311"/>
<area shape="poly" title=" " alt="" coords="916,191,879,226,834,258,811,270,808,265,831,254,875,222,912,187"/>
<area shape="rect" href="structrgw_1_1cls_1_1fifo_1_1_pusher.html#aa31861b769b07bfba149c0da14a051d3" title=" " alt="" coords="193,5,332,48"/>
<area shape="poly" title=" " alt="" coords="393,49,332,40,333,35,394,44"/>
<area shape="rect" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html#a6789013559e6332545632da406591905" title="Push entries to the FIFO" alt="" coords="199,72,326,115"/>
<area shape="poly" title=" " alt="" coords="394,76,327,86,326,81,394,71"/>
<area shape="rect" href="structrgw_1_1cls_1_1fifo_1_1_pusher.html#a9eb943fbddd67a9be022e380e187c2e9" title=" " alt="" coords="5,5,145,48"/>
<area shape="poly" title=" " alt="" coords="177,29,145,29,145,24,177,24"/>
<area shape="poly" title=" " alt="" coords="647,132,629,125,530,84,532,79,631,120,649,127"/>
<area shape="rect" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html#acb4cd6c9b683badf085564c1ad87b0bc" title=" " alt="" coords="409,135,553,177"/>
<area shape="poly" title=" " alt="" coords="647,159,554,159,554,153,647,153"/>
<area shape="rect" href="structrgw_1_1cls_1_1fifo_1_1_new_head_preparer.html#a11dc6a6f1d09332d11f5ef6d95b6e426" title=" " alt="" coords="380,268,582,311"/>
<area shape="poly" title=" " alt="" coords="615,292,583,292,583,287,615,287"/>
</map>
</div>

</div>
</div>
<a id="a33d911f777b4ecaeff1b9248bbe516a7" name="a33d911f777b4ecaeff1b9248bbe516a7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a33d911f777b4ecaeff1b9248bbe516a7">&#9670;&#160;</a></span>to_marker()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::optional&lt; <a class="el" href="structrgw_1_1cls_1_1fifo_1_1marker.html">marker</a> &gt; rgw::cls::fifo::FIFO::to_marker </td>
          <td>(</td>
          <td class="paramtype">std::string_view&#160;</td>
          <td class="paramname"><em>s</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition"><a class="el" href="cls__fifo__legacy_8cc_source.html">cls_fifo_legacy.cc</a> 파일의 <a class="el" href="cls__fifo__legacy_8cc_source.html#l00385">385</a> 번째 라인에서 정의되었습니다.</p>
<div class="fragment"><div class="line"><span class="lineno">  386</span>{</div>
<div class="line"><span class="lineno">  387</span>  marker <a class="code hl_variable" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html#af2b6bcbdfba97260e576ff4a72d8ba49">m</a>;</div>
<div class="line"><span class="lineno">  388</span>  <span class="keywordflow">if</span> (s.empty()) {</div>
<div class="line"><span class="lineno">  389</span>    <a class="code hl_variable" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html#af2b6bcbdfba97260e576ff4a72d8ba49">m</a>.num = <a class="code hl_variable" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html#ac39e05a390f49314efc600e47135eee9">info</a>.tail_part_num;</div>
<div class="line"><span class="lineno">  390</span>    <a class="code hl_variable" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html#af2b6bcbdfba97260e576ff4a72d8ba49">m</a>.ofs = 0;</div>
<div class="line"><span class="lineno">  391</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html#af2b6bcbdfba97260e576ff4a72d8ba49">m</a>;</div>
<div class="line"><span class="lineno">  392</span>  }</div>
<div class="line"><span class="lineno">  393</span> </div>
<div class="line"><span class="lineno">  394</span>  <span class="keyword">auto</span> pos = s.find(<span class="charliteral">&#39;:&#39;</span>);</div>
<div class="line"><span class="lineno">  395</span>  <span class="keywordflow">if</span> (pos == s.npos) {</div>
<div class="line"><span class="lineno">  396</span>    <span class="keywordflow">return</span> std::nullopt;</div>
<div class="line"><span class="lineno">  397</span>  }</div>
<div class="line"><span class="lineno">  398</span> </div>
<div class="line"><span class="lineno">  399</span>  <span class="keyword">auto</span> num = s.substr(0, pos);</div>
<div class="line"><span class="lineno">  400</span>  <span class="keyword">auto</span> ofs = s.substr(pos + 1);</div>
<div class="line"><span class="lineno">  401</span> </div>
<div class="line"><span class="lineno">  402</span>  <span class="keyword">auto</span> n = ceph::parse&lt;<span class="keyword">decltype</span>(<a class="code hl_variable" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html#af2b6bcbdfba97260e576ff4a72d8ba49">m</a>.num)&gt;(num);</div>
<div class="line"><span class="lineno">  403</span>  <span class="keywordflow">if</span> (!n) {</div>
<div class="line"><span class="lineno">  404</span>    <span class="keywordflow">return</span> std::nullopt;</div>
<div class="line"><span class="lineno">  405</span>  }</div>
<div class="line"><span class="lineno">  406</span>  <a class="code hl_variable" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html#af2b6bcbdfba97260e576ff4a72d8ba49">m</a>.num = *n;</div>
<div class="line"><span class="lineno">  407</span>  <span class="keyword">auto</span> o = ceph::parse&lt;<span class="keyword">decltype</span>(<a class="code hl_variable" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html#af2b6bcbdfba97260e576ff4a72d8ba49">m</a>.ofs)&gt;(ofs);</div>
<div class="line"><span class="lineno">  408</span>  <span class="keywordflow">if</span> (!o) {</div>
<div class="line"><span class="lineno">  409</span>    <span class="keywordflow">return</span> std::nullopt;</div>
<div class="line"><span class="lineno">  410</span>  }</div>
<div class="line"><span class="lineno">  411</span>  <a class="code hl_variable" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html#af2b6bcbdfba97260e576ff4a72d8ba49">m</a>.ofs = *o;</div>
<div class="line"><span class="lineno">  412</span>  <span class="keywordflow">return</span> <a class="code hl_variable" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html#af2b6bcbdfba97260e576ff4a72d8ba49">m</a>;</div>
<div class="line"><span class="lineno">  413</span>}</div>
</div><!-- fragment --><div class="dynheader">
이 함수를 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o_a33d911f777b4ecaeff1b9248bbe516a7_icgraph.png" border="0" usemap="#aclassrgw_1_1cls_1_1fifo_1_1_f_i_f_o_a33d911f777b4ecaeff1b9248bbe516a7_icgraph" alt=""/></div>
<map name="aclassrgw_1_1cls_1_1fifo_1_1_f_i_f_o_a33d911f777b4ecaeff1b9248bbe516a7_icgraph" id="aclassrgw_1_1cls_1_1fifo_1_1_f_i_f_o_a33d911f777b4ecaeff1b9248bbe516a7_icgraph">
<area shape="rect" title=" " alt="" coords="181,105,308,148"/>
<area shape="rect" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html#a70f3f7d9fd217a54a176d29c0d01113b" title=" " alt="" coords="5,5,133,48"/>
<area shape="poly" title=" " alt="" coords="194,99,131,62,111,51,113,46,134,58,197,95"/>
<area shape="rect" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html#ae8ae12a1e0c8a4b30d6f0d7152b42839" title="List entries" alt="" coords="5,72,133,115"/>
<area shape="poly" title=" " alt="" coords="165,114,132,108,133,103,166,109"/>
<area shape="rect" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html#ac9872716c2601d007934cd541627e6f6" title="Trim entries, librados AioCompletion style" alt="" coords="5,139,133,181"/>
<area shape="poly" title=" " alt="" coords="166,144,133,151,132,145,165,139"/>
<area shape="rect" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html#abbe22f2a9fda63a7f370fc302177eb2a" title="Trim entries, coroutine/block style" alt="" coords="5,205,133,248"/>
<area shape="poly" title=" " alt="" coords="197,159,134,196,113,207,111,202,131,191,194,154"/>
</map>
</div>

</div>
</div>
<a id="ac9872716c2601d007934cd541627e6f6" name="ac9872716c2601d007934cd541627e6f6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac9872716c2601d007934cd541627e6f6">&#9670;&#160;</a></span>trim() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void rgw::cls::fifo::FIFO::trim </td>
          <td>(</td>
          <td class="paramtype">const DoutPrefixProvider *&#160;</td>
          <td class="paramname"><em>dpp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::string_view&#160;</td>
          <td class="paramname"><em>markstr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>exclusive</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">lr::AioCompletion *&#160;</td>
          <td class="paramname"><em>c</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Trim entries, librados AioCompletion style </p>

<p class="definition"><a class="el" href="cls__fifo__legacy_8cc_source.html">cls_fifo_legacy.cc</a> 파일의 <a class="el" href="cls__fifo__legacy_8cc_source.html#l01970">1970</a> 번째 라인에서 정의되었습니다.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1971</span>                            {</div>
<div class="line"><span class="lineno"> 1972</span>  <span class="keyword">auto</span> marker = <a class="code hl_function" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html#a33d911f777b4ecaeff1b9248bbe516a7">to_marker</a>(markstr);</div>
<div class="line"><span class="lineno"> 1973</span>  <span class="keyword">auto</span> realmark = marker.value_or(<a class="code hl_struct" href="structrgw_1_1cls_1_1fifo_1_1marker.html">::rgw::cls::fifo::marker</a>{});</div>
<div class="line"><span class="lineno"> 1974</span>  std::unique_lock l(<a class="code hl_variable" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html#af2b6bcbdfba97260e576ff4a72d8ba49">m</a>);</div>
<div class="line"><span class="lineno"> 1975</span>  <span class="keyword">const</span> <span class="keyword">auto</span> hn = <a class="code hl_variable" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html#ac39e05a390f49314efc600e47135eee9">info</a>.head_part_num;</div>
<div class="line"><span class="lineno"> 1976</span>  <span class="keyword">const</span> <span class="keyword">auto</span> max_part_size = <a class="code hl_variable" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html#ac39e05a390f49314efc600e47135eee9">info</a>.params.max_part_size;</div>
<div class="line"><span class="lineno"> 1977</span>  <span class="keyword">const</span> <span class="keyword">auto</span> pn = <a class="code hl_variable" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html#ac39e05a390f49314efc600e47135eee9">info</a>.tail_part_num;</div>
<div class="line"><span class="lineno"> 1978</span>  <span class="keyword">const</span> <span class="keyword">auto</span> part_oid = <a class="code hl_variable" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html#ac39e05a390f49314efc600e47135eee9">info</a>.part_oid(pn);</div>
<div class="line"><span class="lineno"> 1979</span>  <span class="keyword">auto</span> <a class="code hl_variable" href="cls__fifo__legacy_8cc.html#ab35eff139cb790487ef1520b2446d3f7">tid</a> = ++<a class="code hl_variable" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html#afa7af9bdb8c2b6813e746cba65f61115">next_tid</a>;</div>
<div class="line"><span class="lineno"> 1980</span>  l.unlock();</div>
<div class="line"><span class="lineno"> 1981</span>  ldpp_dout(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>, 20) &lt;&lt; __PRETTY_FUNCTION__ &lt;&lt; <span class="stringliteral">&quot;:&quot;</span> &lt;&lt; __LINE__</div>
<div class="line"><span class="lineno"> 1982</span>         &lt;&lt; <span class="stringliteral">&quot; entering: tid=&quot;</span> &lt;&lt; <a class="code hl_variable" href="cls__fifo__legacy_8cc.html#ab35eff139cb790487ef1520b2446d3f7">tid</a> &lt;&lt; dendl;</div>
<div class="line"><span class="lineno"> 1983</span>  <span class="keyword">auto</span> trimmer = std::make_unique&lt;Trimmer&gt;(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>, <span class="keyword">this</span>, realmark.num, realmark.ofs,</div>
<div class="line"><span class="lineno"> 1984</span>                       pn, exclusive, <a class="code hl_variable" href="rgw__aio_8cc.html#af3997c9b015c5696191674621076ae50">c</a>, <a class="code hl_variable" href="cls__fifo__legacy_8cc.html#ab35eff139cb790487ef1520b2446d3f7">tid</a>);</div>
<div class="line"><span class="lineno"> 1985</span>  <span class="keywordflow">if</span> (!marker) {</div>
<div class="line"><span class="lineno"> 1986</span>    <a class="code hl_function" href="structrgw_1_1cls_1_1fifo_1_1_completion.html#a151f518b6e1a5ba1b444ed8834412ffc">Trimmer::complete</a>(std::move(trimmer), -EINVAL);</div>
<div class="line"><span class="lineno"> 1987</span>    <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 1988</span>  }</div>
<div class="line"><span class="lineno"> 1989</span>  ++trimmer-&gt;pn;</div>
<div class="line"><span class="lineno"> 1990</span>  <span class="keyword">auto</span> ofs = marker-&gt;ofs;</div>
<div class="line"><span class="lineno"> 1991</span>  <span class="keywordflow">if</span> (marker-&gt;num &gt; hn) {</div>
<div class="line"><span class="lineno"> 1992</span>    trimmer-&gt;reread = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 1993</span>    <a class="code hl_function" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html#a767e397207c78989f0e0ebcef3252d78">read_meta</a>(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>, <a class="code hl_variable" href="cls__fifo__legacy_8cc.html#ab35eff139cb790487ef1520b2446d3f7">tid</a>, <a class="code hl_function" href="structrgw_1_1cls_1_1fifo_1_1_completion.html#a35c552581b3e840b33621734133dc2e3">Trimmer::call</a>(std::move(trimmer)));</div>
<div class="line"><span class="lineno"> 1994</span>    <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 1995</span>  }</div>
<div class="line"><span class="lineno"> 1996</span>  <span class="keywordflow">if</span> (pn &lt; marker-&gt;num) {</div>
<div class="line"><span class="lineno"> 1997</span>    ldpp_dout(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>, 20) &lt;&lt; __PRETTY_FUNCTION__ &lt;&lt; <span class="stringliteral">&quot;:&quot;</span> &lt;&lt; __LINE__</div>
<div class="line"><span class="lineno"> 1998</span>           &lt;&lt; <span class="stringliteral">&quot; pn=&quot;</span> &lt;&lt; pn &lt;&lt; <span class="stringliteral">&quot; tid=&quot;</span> &lt;&lt; <a class="code hl_variable" href="cls__fifo__legacy_8cc.html#ab35eff139cb790487ef1520b2446d3f7">tid</a> &lt;&lt; dendl;</div>
<div class="line"><span class="lineno"> 1999</span>    ofs = max_part_size;</div>
<div class="line"><span class="lineno"> 2000</span>  } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 2001</span>    trimmer-&gt;update = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 2002</span>  }</div>
<div class="line"><span class="lineno"> 2003</span>  <a class="code hl_function" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html#aff781ce13369438e40d77ec8f4799e30">trim_part</a>(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>, pn, ofs, exclusive, <a class="code hl_variable" href="cls__fifo__legacy_8cc.html#ab35eff139cb790487ef1520b2446d3f7">tid</a>, <a class="code hl_function" href="structrgw_1_1cls_1_1fifo_1_1_completion.html#a35c552581b3e840b33621734133dc2e3">Trimmer::call</a>(std::move(trimmer)));</div>
<div class="line"><span class="lineno"> 2004</span>}</div>
<div class="ttc" id="aclassrgw_1_1cls_1_1fifo_1_1_f_i_f_o_html_aff781ce13369438e40d77ec8f4799e30"><div class="ttname"><a href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html#aff781ce13369438e40d77ec8f4799e30">rgw::cls::fifo::FIFO::trim_part</a></div><div class="ttdeci">int trim_part(const DoutPrefixProvider *dpp, int64_t part_num, uint64_t ofs, bool exclusive, std::uint64_t tid, optional_yield y)</div><div class="ttdef"><b>Definition</b> <a href="cls__fifo__legacy_8cc_source.html#l01124">cls_fifo_legacy.cc:1124</a></div></div>
<div class="ttc" id="astructrgw_1_1cls_1_1fifo_1_1marker_html"><div class="ttname"><a href="structrgw_1_1cls_1_1fifo_1_1marker.html">rgw::cls::fifo::marker</a></div><div class="ttdef"><b>Definition</b> <a href="cls__fifo__legacy_8h_source.html#l00065">cls_fifo_legacy.h:65</a></div></div>
</div><!-- fragment --><div class="dynheader">
이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o_ac9872716c2601d007934cd541627e6f6_cgraph.png" border="0" usemap="#aclassrgw_1_1cls_1_1fifo_1_1_f_i_f_o_ac9872716c2601d007934cd541627e6f6_cgraph" alt=""/></div>
<map name="aclassrgw_1_1cls_1_1fifo_1_1_f_i_f_o_ac9872716c2601d007934cd541627e6f6_cgraph" id="aclassrgw_1_1cls_1_1fifo_1_1_f_i_f_o_ac9872716c2601d007934cd541627e6f6_cgraph">
<area shape="rect" title="Trim entries, librados AioCompletion style" alt="" coords="5,160,133,203"/>
<area shape="rect" href="structrgw_1_1cls_1_1fifo_1_1_completion.html#a35c552581b3e840b33621734133dc2e3" title=" " alt="" coords="181,5,344,48"/>
<area shape="poly" title=" " alt="" coords="84,158,123,108,150,82,179,58,186,54,188,58,182,62,154,86,127,112,88,161"/>
<area shape="rect" href="structrgw_1_1cls_1_1fifo_1_1_completion.html#a151f518b6e1a5ba1b444ed8834412ffc" title=" " alt="" coords="181,72,344,115"/>
<area shape="poly" title=" " alt="" coords="117,157,199,119,201,124,119,162"/>
<area shape="rect" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5" title=" " alt="" coords="771,240,813,267"/>
<area shape="poly" title=" " alt="" coords="133,176,181,175,335,171,455,173,574,187,723,221,757,234,755,239,722,227,573,192,455,178,335,177,181,180,133,181"/>
<area shape="rect" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html#a767e397207c78989f0e0ebcef3252d78" title="Force refresh of metadata, yielding/blocking style" alt="" coords="199,189,326,232"/>
<area shape="poly" title=" " alt="" coords="134,188,184,196,183,201,133,194"/>
<area shape="rect" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html#a33d911f777b4ecaeff1b9248bbe516a7" title=" " alt="" coords="199,256,326,299"/>
<area shape="poly" title=" " alt="" coords="107,201,182,242,193,247,191,252,179,246,105,205"/>
<area shape="rect" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html#aff781ce13369438e40d77ec8f4799e30" title=" " alt="" coords="405,432,532,475"/>
<area shape="poly" title=" " alt="" coords="87,201,127,254,153,282,182,309,234,344,289,376,393,423,391,428,287,381,231,349,179,313,149,286,123,257,82,205"/>
<area shape="poly" title=" " alt="" coords="326,213,755,248,755,253,326,218"/>
<area shape="rect" href="namespacergw_1_1cls_1_1fifo.html#a467406e6496bef3cfca16fa6eaf7ba28" title=" " alt="" coords="392,315,544,341"/>
<area shape="poly" title=" " alt="" coords="322,230,345,242,395,272,439,303,436,307,392,277,343,246,319,235"/>
<area shape="poly" title=" " alt="" coords="497,312,541,293,592,276,680,260,755,252,756,258,680,265,593,281,543,298,499,317"/>
<area shape="rect" href="namespacergw.html#a49e77e75ed539fdbde0dcc092bb76467" title=" " alt="" coords="612,315,703,341"/>
<area shape="poly" title=" " alt="" coords="545,325,596,325,596,331,545,331"/>
<area shape="rect" href="namespacergw.html#a34a5757756e9618325f611b073ccd448" title=" " alt="" coords="612,389,703,416"/>
<area shape="poly" title=" " alt="" coords="505,339,609,381,607,386,503,344"/>
<area shape="rect" href="rgw__tools_8cc.html#ac8fd9a95626d93661d7280c9455eba5c" title="perform the rados operation, using the yield context when given" alt="" coords="592,440,723,467"/>
<area shape="poly" title=" " alt="" coords="485,340,532,381,594,426,603,431,601,435,591,430,528,385,482,344"/>
<area shape="poly" title=" " alt="" coords="634,315,630,306,633,297,642,290,658,288,674,291,683,297,680,302,672,296,657,293,644,295,637,300,635,306,639,313"/>
<area shape="poly" title=" " alt="" coords="634,390,630,381,633,371,642,365,658,363,674,365,683,372,680,376,672,370,657,368,644,370,637,374,635,380,639,388"/>
<area shape="poly" title=" " alt="" coords="705,437,721,426,746,392,765,353,777,314,784,281,789,283,782,316,770,355,751,395,725,430,708,442"/>
<area shape="poly" title=" " alt="" coords="516,473,563,489,617,499,645,500,672,498,698,490,721,477,741,457,757,434,769,408,778,381,787,327,789,282,794,282,792,328,783,382,774,410,762,437,745,461,724,481,700,495,673,503,645,506,617,505,562,494,515,478"/>
<area shape="poly" title=" " alt="" coords="532,451,577,451,577,456,532,456"/>
</map>
</div>

</div>
</div>
<a id="abbe22f2a9fda63a7f370fc302177eb2a" name="abbe22f2a9fda63a7f370fc302177eb2a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abbe22f2a9fda63a7f370fc302177eb2a">&#9670;&#160;</a></span>trim() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int rgw::cls::fifo::FIFO::trim </td>
          <td>(</td>
          <td class="paramtype">const DoutPrefixProvider *&#160;</td>
          <td class="paramname"><em>dpp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::string_view&#160;</td>
          <td class="paramname"><em>markstr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>exclusive</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">optional_yield&#160;</td>
          <td class="paramname"><em>y</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Trim entries, coroutine/block style </p>

<p class="definition"><a class="el" href="cls__fifo__legacy_8cc_source.html">cls_fifo_legacy.cc</a> 파일의 <a class="el" href="cls__fifo__legacy_8cc_source.html#l01757">1757</a> 번째 라인에서 정의되었습니다.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1758</span>{</div>
<div class="line"><span class="lineno"> 1759</span>  <span class="keywordtype">bool</span> overshoot = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 1760</span>  <span class="keyword">auto</span> marker = <a class="code hl_function" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html#a33d911f777b4ecaeff1b9248bbe516a7">to_marker</a>(markstr);</div>
<div class="line"><span class="lineno"> 1761</span>  <span class="keywordflow">if</span> (!marker) {</div>
<div class="line"><span class="lineno"> 1762</span>    <span class="keywordflow">return</span> -EINVAL;</div>
<div class="line"><span class="lineno"> 1763</span>  }</div>
<div class="line"><span class="lineno"> 1764</span>  <span class="keyword">auto</span> part_num = marker-&gt;num;</div>
<div class="line"><span class="lineno"> 1765</span>  <span class="keyword">auto</span> ofs = marker-&gt;ofs;</div>
<div class="line"><span class="lineno"> 1766</span>  std::unique_lock l(<a class="code hl_variable" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html#af2b6bcbdfba97260e576ff4a72d8ba49">m</a>);</div>
<div class="line"><span class="lineno"> 1767</span>  <span class="keyword">auto</span> <a class="code hl_variable" href="cls__fifo__legacy_8cc.html#ab35eff139cb790487ef1520b2446d3f7">tid</a> = ++<a class="code hl_variable" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html#afa7af9bdb8c2b6813e746cba65f61115">next_tid</a>;</div>
<div class="line"><span class="lineno"> 1768</span>  <span class="keyword">auto</span> hn = <a class="code hl_variable" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html#ac39e05a390f49314efc600e47135eee9">info</a>.head_part_num;</div>
<div class="line"><span class="lineno"> 1769</span>  <span class="keyword">const</span> <span class="keyword">auto</span> max_part_size = <a class="code hl_variable" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html#ac39e05a390f49314efc600e47135eee9">info</a>.params.max_part_size;</div>
<div class="line"><span class="lineno"> 1770</span>  <span class="keywordflow">if</span> (part_num &gt; hn) {</div>
<div class="line"><span class="lineno"> 1771</span>    l.unlock();</div>
<div class="line"><span class="lineno"> 1772</span>    <span class="keyword">auto</span> <a class="code hl_variable" href="rgw__aio_8cc.html#ae38055824c6eac64615832ad9d888539">r</a> = <a class="code hl_function" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html#a767e397207c78989f0e0ebcef3252d78">read_meta</a>(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>, <a class="code hl_variable" href="cls__fifo__legacy_8cc.html#ab35eff139cb790487ef1520b2446d3f7">tid</a>, y);</div>
<div class="line"><span class="lineno"> 1773</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="rgw__aio_8cc.html#ae38055824c6eac64615832ad9d888539">r</a> &lt; 0) {</div>
<div class="line"><span class="lineno"> 1774</span>      <span class="keywordflow">return</span> <a class="code hl_variable" href="rgw__aio_8cc.html#ae38055824c6eac64615832ad9d888539">r</a>;</div>
<div class="line"><span class="lineno"> 1775</span>    }</div>
<div class="line"><span class="lineno"> 1776</span>    l.lock();</div>
<div class="line"><span class="lineno"> 1777</span>    <span class="keyword">auto</span> hn = <a class="code hl_variable" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html#ac39e05a390f49314efc600e47135eee9">info</a>.head_part_num;</div>
<div class="line"><span class="lineno"> 1778</span>    <span class="keywordflow">if</span> (part_num &gt; hn) {</div>
<div class="line"><span class="lineno"> 1779</span>      overshoot = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 1780</span>      part_num = hn;</div>
<div class="line"><span class="lineno"> 1781</span>      ofs = max_part_size;</div>
<div class="line"><span class="lineno"> 1782</span>    }</div>
<div class="line"><span class="lineno"> 1783</span>  }</div>
<div class="line"><span class="lineno"> 1784</span>  <span class="keywordflow">if</span> (part_num &lt; <a class="code hl_variable" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html#ac39e05a390f49314efc600e47135eee9">info</a>.tail_part_num) {</div>
<div class="line"><span class="lineno"> 1785</span>    <span class="keywordflow">return</span> -ENODATA;</div>
<div class="line"><span class="lineno"> 1786</span>  }</div>
<div class="line"><span class="lineno"> 1787</span>  <span class="keyword">auto</span> pn = <a class="code hl_variable" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html#ac39e05a390f49314efc600e47135eee9">info</a>.tail_part_num;</div>
<div class="line"><span class="lineno"> 1788</span>  l.unlock();</div>
<div class="line"><span class="lineno"> 1789</span>  ldpp_dout(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>, 20) &lt;&lt; __PRETTY_FUNCTION__ &lt;&lt; <span class="stringliteral">&quot;:&quot;</span> &lt;&lt; __LINE__</div>
<div class="line"><span class="lineno"> 1790</span>         &lt;&lt; <span class="stringliteral">&quot; entering: tid=&quot;</span> &lt;&lt; <a class="code hl_variable" href="cls__fifo__legacy_8cc.html#ab35eff139cb790487ef1520b2446d3f7">tid</a> &lt;&lt; dendl;</div>
<div class="line"><span class="lineno"> 1791</span> </div>
<div class="line"><span class="lineno"> 1792</span>  <span class="keywordtype">int</span> <a class="code hl_variable" href="rgw__aio_8cc.html#ae38055824c6eac64615832ad9d888539">r</a> = 0;</div>
<div class="line"><span class="lineno"> 1793</span>  <span class="keywordflow">while</span> (pn &lt; part_num) {</div>
<div class="line"><span class="lineno"> 1794</span>    ldpp_dout(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>, 20) &lt;&lt; __PRETTY_FUNCTION__ &lt;&lt; <span class="stringliteral">&quot;:&quot;</span> &lt;&lt; __LINE__</div>
<div class="line"><span class="lineno"> 1795</span>           &lt;&lt; <span class="stringliteral">&quot; pn=&quot;</span> &lt;&lt; pn &lt;&lt; <span class="stringliteral">&quot; tid=&quot;</span> &lt;&lt; <a class="code hl_variable" href="cls__fifo__legacy_8cc.html#ab35eff139cb790487ef1520b2446d3f7">tid</a> &lt;&lt; dendl;</div>
<div class="line"><span class="lineno"> 1796</span>    std::unique_lock l(<a class="code hl_variable" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html#af2b6bcbdfba97260e576ff4a72d8ba49">m</a>);</div>
<div class="line"><span class="lineno"> 1797</span>    l.unlock();</div>
<div class="line"><span class="lineno"> 1798</span>    <a class="code hl_variable" href="rgw__aio_8cc.html#ae38055824c6eac64615832ad9d888539">r</a> = <a class="code hl_function" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html#aff781ce13369438e40d77ec8f4799e30">trim_part</a>(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>, pn, max_part_size, <span class="keyword">false</span>, <a class="code hl_variable" href="cls__fifo__legacy_8cc.html#ab35eff139cb790487ef1520b2446d3f7">tid</a>, y);</div>
<div class="line"><span class="lineno"> 1799</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="rgw__aio_8cc.html#ae38055824c6eac64615832ad9d888539">r</a> &lt; 0 &amp;&amp; <a class="code hl_variable" href="rgw__aio_8cc.html#ae38055824c6eac64615832ad9d888539">r</a> == -ENOENT) {</div>
<div class="line"><span class="lineno"> 1800</span>      ldpp_dout(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>, -1) &lt;&lt; __PRETTY_FUNCTION__ &lt;&lt; <span class="stringliteral">&quot;:&quot;</span> &lt;&lt; __LINE__</div>
<div class="line"><span class="lineno"> 1801</span>         &lt;&lt; <span class="stringliteral">&quot; trim_part failed: r=&quot;</span> &lt;&lt; <a class="code hl_variable" href="rgw__aio_8cc.html#ae38055824c6eac64615832ad9d888539">r</a></div>
<div class="line"><span class="lineno"> 1802</span>         &lt;&lt; <span class="stringliteral">&quot; tid= &quot;</span>&lt;&lt; <a class="code hl_variable" href="cls__fifo__legacy_8cc.html#ab35eff139cb790487ef1520b2446d3f7">tid</a> &lt;&lt; dendl;</div>
<div class="line"><span class="lineno"> 1803</span>      <span class="keywordflow">return</span> <a class="code hl_variable" href="rgw__aio_8cc.html#ae38055824c6eac64615832ad9d888539">r</a>;</div>
<div class="line"><span class="lineno"> 1804</span>    }</div>
<div class="line"><span class="lineno"> 1805</span>    ++pn;</div>
<div class="line"><span class="lineno"> 1806</span>  }</div>
<div class="line"><span class="lineno"> 1807</span>  <a class="code hl_variable" href="rgw__aio_8cc.html#ae38055824c6eac64615832ad9d888539">r</a> = <a class="code hl_function" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html#aff781ce13369438e40d77ec8f4799e30">trim_part</a>(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>, part_num, ofs, exclusive, <a class="code hl_variable" href="cls__fifo__legacy_8cc.html#ab35eff139cb790487ef1520b2446d3f7">tid</a>, y);</div>
<div class="line"><span class="lineno"> 1808</span>  <span class="keywordflow">if</span> (<a class="code hl_variable" href="rgw__aio_8cc.html#ae38055824c6eac64615832ad9d888539">r</a> &lt; 0 &amp;&amp; <a class="code hl_variable" href="rgw__aio_8cc.html#ae38055824c6eac64615832ad9d888539">r</a> != -ENOENT) {</div>
<div class="line"><span class="lineno"> 1809</span>    ldpp_dout(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>, -1) &lt;&lt; __PRETTY_FUNCTION__ &lt;&lt; <span class="stringliteral">&quot;:&quot;</span> &lt;&lt; __LINE__</div>
<div class="line"><span class="lineno"> 1810</span>           &lt;&lt; <span class="stringliteral">&quot; trim_part failed: r=&quot;</span> &lt;&lt; <a class="code hl_variable" href="rgw__aio_8cc.html#ae38055824c6eac64615832ad9d888539">r</a></div>
<div class="line"><span class="lineno"> 1811</span>           &lt;&lt; <span class="stringliteral">&quot; tid= &quot;</span>&lt;&lt; <a class="code hl_variable" href="cls__fifo__legacy_8cc.html#ab35eff139cb790487ef1520b2446d3f7">tid</a> &lt;&lt; dendl;</div>
<div class="line"><span class="lineno"> 1812</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="rgw__aio_8cc.html#ae38055824c6eac64615832ad9d888539">r</a>;</div>
<div class="line"><span class="lineno"> 1813</span>  }</div>
<div class="line"><span class="lineno"> 1814</span> </div>
<div class="line"><span class="lineno"> 1815</span>  l.lock();</div>
<div class="line"><span class="lineno"> 1816</span>  <span class="keyword">auto</span> tail_part_num = <a class="code hl_variable" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html#ac39e05a390f49314efc600e47135eee9">info</a>.tail_part_num;</div>
<div class="line"><span class="lineno"> 1817</span>  <span class="keyword">auto</span> objv = <a class="code hl_variable" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html#ac39e05a390f49314efc600e47135eee9">info</a>.version;</div>
<div class="line"><span class="lineno"> 1818</span>  l.unlock();</div>
<div class="line"><span class="lineno"> 1819</span>  <span class="keywordtype">bool</span> canceled = tail_part_num &lt; part_num;</div>
<div class="line"><span class="lineno"> 1820</span>  <span class="keywordtype">int</span> retries = 0;</div>
<div class="line"><span class="lineno"> 1821</span>  <span class="keywordflow">while</span> ((tail_part_num &lt; part_num) &amp;&amp;</div>
<div class="line"><span class="lineno"> 1822</span>     canceled &amp;&amp;</div>
<div class="line"><span class="lineno"> 1823</span>     (retries &lt;= <a class="code hl_variable" href="namespacergw_1_1cls_1_1fifo.html#a933975517fc01392747c3e4269c249a6">MAX_RACE_RETRIES</a>)) {</div>
<div class="line"><span class="lineno"> 1824</span>    <a class="code hl_variable" href="rgw__aio_8cc.html#ae38055824c6eac64615832ad9d888539">r</a> = <a class="code hl_function" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html#aba781c2176312b28522495f0021ba590">_update_meta</a>(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>, fifo::update{}.tail_part_num(part_num), objv, &amp;canceled,</div>
<div class="line"><span class="lineno"> 1825</span>             <a class="code hl_variable" href="cls__fifo__legacy_8cc.html#ab35eff139cb790487ef1520b2446d3f7">tid</a>, y);</div>
<div class="line"><span class="lineno"> 1826</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="rgw__aio_8cc.html#ae38055824c6eac64615832ad9d888539">r</a> &lt; 0) {</div>
<div class="line"><span class="lineno"> 1827</span>      ldpp_dout(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>, -1) &lt;&lt; __PRETTY_FUNCTION__ &lt;&lt; <span class="stringliteral">&quot;:&quot;</span> &lt;&lt; __LINE__</div>
<div class="line"><span class="lineno"> 1828</span>         &lt;&lt; <span class="stringliteral">&quot; _update_meta failed: r=&quot;</span> &lt;&lt; <a class="code hl_variable" href="rgw__aio_8cc.html#ae38055824c6eac64615832ad9d888539">r</a></div>
<div class="line"><span class="lineno"> 1829</span>         &lt;&lt; <span class="stringliteral">&quot; tid= &quot;</span>&lt;&lt; <a class="code hl_variable" href="cls__fifo__legacy_8cc.html#ab35eff139cb790487ef1520b2446d3f7">tid</a> &lt;&lt; dendl;</div>
<div class="line"><span class="lineno"> 1830</span>      <span class="keywordflow">return</span> <a class="code hl_variable" href="rgw__aio_8cc.html#ae38055824c6eac64615832ad9d888539">r</a>;</div>
<div class="line"><span class="lineno"> 1831</span>    }</div>
<div class="line"><span class="lineno"> 1832</span>    <span class="keywordflow">if</span> (canceled) {</div>
<div class="line"><span class="lineno"> 1833</span>      ldpp_dout(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>, 20) &lt;&lt; __PRETTY_FUNCTION__ &lt;&lt; <span class="stringliteral">&quot;:&quot;</span> &lt;&lt; __LINE__</div>
<div class="line"><span class="lineno"> 1834</span>             &lt;&lt; <span class="stringliteral">&quot; canceled: retries=&quot;</span> &lt;&lt; retries</div>
<div class="line"><span class="lineno"> 1835</span>             &lt;&lt; <span class="stringliteral">&quot; tid=&quot;</span> &lt;&lt; <a class="code hl_variable" href="cls__fifo__legacy_8cc.html#ab35eff139cb790487ef1520b2446d3f7">tid</a> &lt;&lt; dendl;</div>
<div class="line"><span class="lineno"> 1836</span>      l.lock();</div>
<div class="line"><span class="lineno"> 1837</span>      tail_part_num = <a class="code hl_variable" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html#ac39e05a390f49314efc600e47135eee9">info</a>.tail_part_num;</div>
<div class="line"><span class="lineno"> 1838</span>      objv = <a class="code hl_variable" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html#ac39e05a390f49314efc600e47135eee9">info</a>.version;</div>
<div class="line"><span class="lineno"> 1839</span>      l.unlock();</div>
<div class="line"><span class="lineno"> 1840</span>      ++retries;</div>
<div class="line"><span class="lineno"> 1841</span>    }</div>
<div class="line"><span class="lineno"> 1842</span>  }</div>
<div class="line"><span class="lineno"> 1843</span>  <span class="keywordflow">if</span> (canceled) {</div>
<div class="line"><span class="lineno"> 1844</span>    ldpp_dout(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>, -1) &lt;&lt; __PRETTY_FUNCTION__ &lt;&lt; <span class="stringliteral">&quot;:&quot;</span> &lt;&lt; __LINE__</div>
<div class="line"><span class="lineno"> 1845</span>           &lt;&lt; <span class="stringliteral">&quot; canceled too many times, giving up: tid=&quot;</span> &lt;&lt; <a class="code hl_variable" href="cls__fifo__legacy_8cc.html#ab35eff139cb790487ef1520b2446d3f7">tid</a> &lt;&lt; dendl;</div>
<div class="line"><span class="lineno"> 1846</span>    <span class="keywordflow">return</span> -EIO;</div>
<div class="line"><span class="lineno"> 1847</span>  }</div>
<div class="line"><span class="lineno"> 1848</span>  <span class="keywordflow">return</span> overshoot ? -ENODATA : 0;</div>
<div class="line"><span class="lineno"> 1849</span>}</div>
</div><!-- fragment --><div class="dynheader">
이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o_abbe22f2a9fda63a7f370fc302177eb2a_cgraph.png" border="0" usemap="#aclassrgw_1_1cls_1_1fifo_1_1_f_i_f_o_abbe22f2a9fda63a7f370fc302177eb2a_cgraph" alt=""/></div>
<map name="aclassrgw_1_1cls_1_1fifo_1_1_f_i_f_o_abbe22f2a9fda63a7f370fc302177eb2a_cgraph" id="aclassrgw_1_1cls_1_1fifo_1_1_f_i_f_o_abbe22f2a9fda63a7f370fc302177eb2a_cgraph">
<area shape="rect" title="Trim entries, coroutine/block style" alt="" coords="5,217,133,260"/>
<area shape="rect" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html#aba781c2176312b28522495f0021ba590" title=" " alt="" coords="181,159,308,201"/>
<area shape="poly" title=" " alt="" coords="132,215,165,204,167,209,134,220"/>
<area shape="rect" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5" title=" " alt="" coords="910,144,952,171"/>
<area shape="poly" title=" " alt="" coords="85,215,135,157,170,122,211,87,258,55,308,28,362,9,418,3,609,3,684,6,743,17,798,40,864,79,892,103,914,130,910,133,888,107,860,84,796,45,742,22,684,11,609,8,418,8,363,15,310,33,261,59,215,91,174,126,139,161,89,218"/>
<area shape="rect" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html#a767e397207c78989f0e0ebcef3252d78" title="Force refresh of metadata, yielding/blocking style" alt="" coords="356,188,483,231"/>
<area shape="poly" title=" " alt="" coords="133,231,340,213,341,219,133,236"/>
<area shape="rect" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html#a33d911f777b4ecaeff1b9248bbe516a7" title=" " alt="" coords="181,384,308,427"/>
<area shape="poly" title=" " alt="" coords="88,259,129,309,182,363,195,373,191,377,179,367,125,312,84,262"/>
<area shape="rect" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html#aff781ce13369438e40d77ec8f4799e30" title=" " alt="" coords="544,387,671,429"/>
<area shape="poly" title=" " alt="" coords="134,256,530,381,528,386,132,261"/>
<area shape="rect" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html#ae9b671fb0e801459fa35a4982053047c" title=" " alt="" coords="356,107,483,149"/>
<area shape="poly" title=" " alt="" coords="308,159,341,149,342,154,309,164"/>
<area shape="poly" title=" " alt="" coords="263,156,303,121,328,105,355,92,395,82,445,74,505,70,572,69,643,72,717,80,791,93,863,112,902,132,900,137,861,117,790,98,716,85,643,77,572,74,505,75,446,80,396,87,357,97,330,109,306,125,267,160"/>
<area shape="poly" title=" " alt="" coords="309,188,341,194,340,199,308,193"/>
<area shape="rect" href="rgw__tools_8cc.html#ac8fd9a95626d93661d7280c9455eba5c" title="perform the rados operation, using the yield context when given" alt="" coords="732,395,862,421"/>
<area shape="poly" title=" " alt="" coords="282,199,357,240,461,285,565,326,738,387,736,392,563,331,458,290,355,245,279,204"/>
<area shape="poly" title=" " alt="" coords="484,122,655,120,759,125,862,136,896,144,895,149,862,141,758,130,655,126,484,127"/>
<area shape="poly" title=" " alt="" coords="483,200,731,173,894,158,895,163,732,179,484,205"/>
<area shape="rect" href="namespacergw_1_1cls_1_1fifo.html#a467406e6496bef3cfca16fa6eaf7ba28" title=" " alt="" coords="531,232,684,259"/>
<area shape="poly" title=" " alt="" coords="484,219,520,226,519,231,483,224"/>
<area shape="poly" title=" " alt="" coords="659,229,861,173,894,164,896,169,863,179,660,234"/>
<area shape="rect" href="namespacergw.html#a49e77e75ed539fdbde0dcc092bb76467" title=" " alt="" coords="751,269,843,296"/>
<area shape="poly" title=" " alt="" coords="679,257,737,268,735,273,678,262"/>
<area shape="rect" href="namespacergw.html#a34a5757756e9618325f611b073ccd448" title=" " alt="" coords="751,344,843,371"/>
<area shape="poly" title=" " alt="" coords="647,257,685,275,730,303,768,332,765,336,727,308,682,280,645,262"/>
<area shape="poly" title=" " alt="" coords="657,257,686,275,704,303,710,330,716,355,723,368,734,381,737,384,734,388,730,385,718,371,711,357,705,331,699,305,682,279,655,261"/>
<area shape="poly" title=" " alt="" coords="773,270,769,261,772,251,781,245,797,243,813,245,822,252,819,256,811,250,797,248,783,250,776,254,774,260,778,268"/>
<area shape="poly" title=" " alt="" coords="773,345,769,335,772,326,781,320,797,317,813,320,822,327,819,331,811,325,797,323,783,325,776,329,774,335,778,342"/>
<area shape="poly" title=" " alt="" coords="846,392,860,381,877,359,891,334,911,280,922,228,926,186,932,186,927,229,916,282,896,336,882,362,864,385,849,396"/>
<area shape="poly" title=" " alt="" coords="655,427,702,444,757,455,785,456,812,453,837,445,860,431,873,415,885,390,904,322,917,247,925,186,930,187,922,248,909,323,890,392,878,418,864,435,839,450,813,458,785,461,756,460,701,449,653,432"/>
<area shape="poly" title=" " alt="" coords="672,405,716,405,716,411,672,411"/>
</map>
</div>

</div>
</div>
<a id="abea6ff81001c236ea632aa3aa8808e22" name="abea6ff81001c236ea632aa3aa8808e22"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abea6ff81001c236ea632aa3aa8808e22">&#9670;&#160;</a></span>trim_part() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void rgw::cls::fifo::FIFO::trim_part </td>
          <td>(</td>
          <td class="paramtype">const DoutPrefixProvider *&#160;</td>
          <td class="paramname"><em>dpp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int64_t&#160;</td>
          <td class="paramname"><em>part_num</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t&#160;</td>
          <td class="paramname"><em>ofs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>exclusive</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::uint64_t&#160;</td>
          <td class="paramname"><em>tid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">lr::AioCompletion *&#160;</td>
          <td class="paramname"><em>c</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition"><a class="el" href="cls__fifo__legacy_8cc_source.html">cls_fifo_legacy.cc</a> 파일의 <a class="el" href="cls__fifo__legacy_8cc_source.html#l01143">1143</a> 번째 라인에서 정의되었습니다.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1146</span>{</div>
<div class="line"><span class="lineno"> 1147</span>  ldpp_dout(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>, 20) &lt;&lt; __PRETTY_FUNCTION__ &lt;&lt; <span class="stringliteral">&quot;:&quot;</span> &lt;&lt; __LINE__</div>
<div class="line"><span class="lineno"> 1148</span>         &lt;&lt; <span class="stringliteral">&quot; entering: tid=&quot;</span> &lt;&lt; <a class="code hl_variable" href="cls__fifo__legacy_8cc.html#ab35eff139cb790487ef1520b2446d3f7">tid</a> &lt;&lt; dendl;</div>
<div class="line"><span class="lineno"> 1149</span>  lr::ObjectWriteOperation op;</div>
<div class="line"><span class="lineno"> 1150</span>  std::unique_lock l(<a class="code hl_variable" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html#af2b6bcbdfba97260e576ff4a72d8ba49">m</a>);</div>
<div class="line"><span class="lineno"> 1151</span>  <span class="keyword">const</span> <span class="keyword">auto</span> part_oid = <a class="code hl_variable" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html#ac39e05a390f49314efc600e47135eee9">info</a>.part_oid(part_num);</div>
<div class="line"><span class="lineno"> 1152</span>  l.unlock();</div>
<div class="line"><span class="lineno"> 1153</span>  rgw::cls::fifo::trim_part(&amp;op, ofs, exclusive);</div>
<div class="line"><span class="lineno"> 1154</span>  <span class="keyword">auto</span> <a class="code hl_variable" href="rgw__aio_8cc.html#ae38055824c6eac64615832ad9d888539">r</a> = <a class="code hl_variable" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html#af2b49f78650a528ef6b4abb16205b71f">ioctx</a>.aio_operate(part_oid, <a class="code hl_variable" href="rgw__aio_8cc.html#af3997c9b015c5696191674621076ae50">c</a>, &amp;op);</div>
<div class="line"><span class="lineno"> 1155</span>  ceph_assert(<a class="code hl_variable" href="rgw__aio_8cc.html#ae38055824c6eac64615832ad9d888539">r</a> &gt;= 0);</div>
<div class="line"><span class="lineno"> 1156</span>}</div>
</div><!-- fragment --><div class="dynheader">
이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o_abea6ff81001c236ea632aa3aa8808e22_cgraph.png" border="0" usemap="#aclassrgw_1_1cls_1_1fifo_1_1_f_i_f_o_abea6ff81001c236ea632aa3aa8808e22_cgraph" alt=""/></div>
<map name="aclassrgw_1_1cls_1_1fifo_1_1_f_i_f_o_abea6ff81001c236ea632aa3aa8808e22_cgraph" id="aclassrgw_1_1cls_1_1fifo_1_1_f_i_f_o_abea6ff81001c236ea632aa3aa8808e22_cgraph">
<area shape="rect" title=" " alt="" coords="5,5,133,48"/>
<area shape="rect" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5" title=" " alt="" coords="181,13,223,40"/>
<area shape="poly" title=" " alt="" coords="133,24,165,24,165,29,133,29"/>
</map>
</div>

</div>
</div>
<a id="aff781ce13369438e40d77ec8f4799e30" name="aff781ce13369438e40d77ec8f4799e30"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aff781ce13369438e40d77ec8f4799e30">&#9670;&#160;</a></span>trim_part() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int rgw::cls::fifo::FIFO::trim_part </td>
          <td>(</td>
          <td class="paramtype">const DoutPrefixProvider *&#160;</td>
          <td class="paramname"><em>dpp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int64_t&#160;</td>
          <td class="paramname"><em>part_num</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t&#160;</td>
          <td class="paramname"><em>ofs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>exclusive</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::uint64_t&#160;</td>
          <td class="paramname"><em>tid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">optional_yield&#160;</td>
          <td class="paramname"><em>y</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition"><a class="el" href="cls__fifo__legacy_8cc_source.html">cls_fifo_legacy.cc</a> 파일의 <a class="el" href="cls__fifo__legacy_8cc_source.html#l01124">1124</a> 번째 라인에서 정의되었습니다.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1127</span>{</div>
<div class="line"><span class="lineno"> 1128</span>  ldpp_dout(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>, 20) &lt;&lt; __PRETTY_FUNCTION__ &lt;&lt; <span class="stringliteral">&quot;:&quot;</span> &lt;&lt; __LINE__</div>
<div class="line"><span class="lineno"> 1129</span>         &lt;&lt; <span class="stringliteral">&quot; entering: tid=&quot;</span> &lt;&lt; <a class="code hl_variable" href="cls__fifo__legacy_8cc.html#ab35eff139cb790487ef1520b2446d3f7">tid</a> &lt;&lt; dendl;</div>
<div class="line"><span class="lineno"> 1130</span>  lr::ObjectWriteOperation op;</div>
<div class="line"><span class="lineno"> 1131</span>  std::unique_lock l(<a class="code hl_variable" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html#af2b6bcbdfba97260e576ff4a72d8ba49">m</a>);</div>
<div class="line"><span class="lineno"> 1132</span>  <span class="keyword">const</span> <span class="keyword">auto</span> part_oid = <a class="code hl_variable" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html#ac39e05a390f49314efc600e47135eee9">info</a>.part_oid(part_num);</div>
<div class="line"><span class="lineno"> 1133</span>  l.unlock();</div>
<div class="line"><span class="lineno"> 1134</span>  rgw::cls::fifo::trim_part(&amp;op, ofs, exclusive);</div>
<div class="line"><span class="lineno"> 1135</span>  <span class="keyword">auto</span> <a class="code hl_variable" href="rgw__aio_8cc.html#ae38055824c6eac64615832ad9d888539">r</a> = <a class="code hl_function" href="rgw__tools_8cc.html#ac8fd9a95626d93661d7280c9455eba5c">rgw_rados_operate</a>(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>, <a class="code hl_variable" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html#af2b49f78650a528ef6b4abb16205b71f">ioctx</a>, part_oid, &amp;op, y);</div>
<div class="line"><span class="lineno"> 1136</span>  <span class="keywordflow">if</span> (<a class="code hl_variable" href="rgw__aio_8cc.html#ae38055824c6eac64615832ad9d888539">r</a> &lt; 0) {</div>
<div class="line"><span class="lineno"> 1137</span>    ldpp_dout(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>, -1) &lt;&lt; __PRETTY_FUNCTION__ &lt;&lt; <span class="stringliteral">&quot;:&quot;</span> &lt;&lt; __LINE__</div>
<div class="line"><span class="lineno"> 1138</span>           &lt;&lt; <span class="stringliteral">&quot; trim_part failed: r=&quot;</span> &lt;&lt; <a class="code hl_variable" href="rgw__aio_8cc.html#ae38055824c6eac64615832ad9d888539">r</a> &lt;&lt; <span class="stringliteral">&quot; tid=&quot;</span> &lt;&lt; <a class="code hl_variable" href="cls__fifo__legacy_8cc.html#ab35eff139cb790487ef1520b2446d3f7">tid</a> &lt;&lt; dendl;</div>
<div class="line"><span class="lineno"> 1139</span>  }</div>
<div class="line"><span class="lineno"> 1140</span>  <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno"> 1141</span>}</div>
</div><!-- fragment --><div class="dynheader">
이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o_aff781ce13369438e40d77ec8f4799e30_cgraph.png" border="0" usemap="#aclassrgw_1_1cls_1_1fifo_1_1_f_i_f_o_aff781ce13369438e40d77ec8f4799e30_cgraph" alt=""/></div>
<map name="aclassrgw_1_1cls_1_1fifo_1_1_f_i_f_o_aff781ce13369438e40d77ec8f4799e30_cgraph" id="aclassrgw_1_1cls_1_1fifo_1_1_f_i_f_o_aff781ce13369438e40d77ec8f4799e30_cgraph">
<area shape="rect" title=" " alt="" coords="5,5,133,48"/>
<area shape="rect" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5" title=" " alt="" coords="359,13,401,40"/>
<area shape="poly" title=" " alt="" coords="133,24,343,24,343,29,133,29"/>
<area shape="rect" href="rgw__tools_8cc.html#ac8fd9a95626d93661d7280c9455eba5c" title="perform the rados operation, using the yield context when given" alt="" coords="181,39,311,65"/>
<area shape="poly" title=" " alt="" coords="134,33,166,38,165,43,133,38"/>
<area shape="poly" title=" " alt="" coords="311,37,343,31,344,36,312,42"/>
</map>
</div>
<div class="dynheader">
이 함수를 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o_aff781ce13369438e40d77ec8f4799e30_icgraph.png" border="0" usemap="#aclassrgw_1_1cls_1_1fifo_1_1_f_i_f_o_aff781ce13369438e40d77ec8f4799e30_icgraph" alt=""/></div>
<map name="aclassrgw_1_1cls_1_1fifo_1_1_f_i_f_o_aff781ce13369438e40d77ec8f4799e30_icgraph" id="aclassrgw_1_1cls_1_1fifo_1_1_f_i_f_o_aff781ce13369438e40d77ec8f4799e30_icgraph">
<area shape="rect" title=" " alt="" coords="199,72,326,115"/>
<area shape="rect" href="structrgw_1_1cls_1_1fifo_1_1_trimmer.html#acf0010a30dd2bd26aa13093a0817b757" title=" " alt="" coords="5,5,151,48"/>
<area shape="poly" title=" " alt="" coords="187,69,138,51,140,46,188,64"/>
<area shape="rect" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html#ac9872716c2601d007934cd541627e6f6" title="Trim entries, librados AioCompletion style" alt="" coords="14,72,142,115"/>
<area shape="poly" title=" " alt="" coords="183,96,142,96,142,91,183,91"/>
<area shape="rect" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html#abbe22f2a9fda63a7f370fc302177eb2a" title="Trim entries, coroutine/block style" alt="" coords="14,139,142,181"/>
<area shape="poly" title=" " alt="" coords="188,123,140,141,138,136,187,118"/>
</map>
</div>

</div>
</div>
<h2 class="groupheader">Friend, 그리고 관련된 함수 문서화</h2>
<a id="ae5b89291153dc90fe7e0204270d0c5af" name="ae5b89291153dc90fe7e0204270d0c5af"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae5b89291153dc90fe7e0204270d0c5af">&#9670;&#160;</a></span>InfoGetter</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">friend struct <a class="el" href="structrgw_1_1cls_1_1fifo_1_1_info_getter.html">InfoGetter</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">friend</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition"><a class="el" href="cls__fifo__legacy_8h_source.html">cls_fifo_legacy.h</a> 파일의 <a class="el" href="cls__fifo__legacy_8h_source.html#l00106">106</a> 번째 라인에서 정의되었습니다.</p>

</div>
</div>
<a id="acc11c2a95ced87978824f46bdda8842f" name="acc11c2a95ced87978824f46bdda8842f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acc11c2a95ced87978824f46bdda8842f">&#9670;&#160;</a></span>JournalProcessor</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">friend struct <a class="el" href="structrgw_1_1cls_1_1fifo_1_1_journal_processor.html">JournalProcessor</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">friend</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition"><a class="el" href="cls__fifo__legacy_8h_source.html">cls_fifo_legacy.h</a> 파일의 <a class="el" href="cls__fifo__legacy_8h_source.html#l00110">110</a> 번째 라인에서 정의되었습니다.</p>

</div>
</div>
<a id="a3ec8dbd10388a6364793c1b0ff3f5f7a" name="a3ec8dbd10388a6364793c1b0ff3f5f7a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3ec8dbd10388a6364793c1b0ff3f5f7a">&#9670;&#160;</a></span>Lister</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">friend struct <a class="el" href="structrgw_1_1cls_1_1fifo_1_1_lister.html">Lister</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">friend</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition"><a class="el" href="cls__fifo__legacy_8h_source.html">cls_fifo_legacy.h</a> 파일의 <a class="el" href="cls__fifo__legacy_8h_source.html#l00111">111</a> 번째 라인에서 정의되었습니다.</p>

</div>
</div>
<a id="a3346aa0f630bdf5a8b7e2eabee07d4a5" name="a3346aa0f630bdf5a8b7e2eabee07d4a5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3346aa0f630bdf5a8b7e2eabee07d4a5">&#9670;&#160;</a></span>NewHeadPreparer</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">friend struct <a class="el" href="structrgw_1_1cls_1_1fifo_1_1_new_head_preparer.html">NewHeadPreparer</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">friend</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition"><a class="el" href="cls__fifo__legacy_8h_source.html">cls_fifo_legacy.h</a> 파일의 <a class="el" href="cls__fifo__legacy_8h_source.html#l00109">109</a> 번째 라인에서 정의되었습니다.</p>

</div>
</div>
<a id="ab7c842b406b462fcb999d51bb8d341a1" name="ab7c842b406b462fcb999d51bb8d341a1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab7c842b406b462fcb999d51bb8d341a1">&#9670;&#160;</a></span>NewPartPreparer</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">friend struct <a class="el" href="structrgw_1_1cls_1_1fifo_1_1_new_part_preparer.html">NewPartPreparer</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">friend</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition"><a class="el" href="cls__fifo__legacy_8h_source.html">cls_fifo_legacy.h</a> 파일의 <a class="el" href="cls__fifo__legacy_8h_source.html#l00108">108</a> 번째 라인에서 정의되었습니다.</p>

</div>
</div>
<a id="a1c18ca80180787ca184b5d2e79c472d2" name="a1c18ca80180787ca184b5d2e79c472d2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1c18ca80180787ca184b5d2e79c472d2">&#9670;&#160;</a></span>Pusher</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">friend struct <a class="el" href="structrgw_1_1cls_1_1fifo_1_1_pusher.html">Pusher</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">friend</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition"><a class="el" href="cls__fifo__legacy_8h_source.html">cls_fifo_legacy.h</a> 파일의 <a class="el" href="cls__fifo__legacy_8h_source.html#l00107">107</a> 번째 라인에서 정의되었습니다.</p>

</div>
</div>
<a id="a61eda40b83a54c92df0fff14e68ce1a0" name="a61eda40b83a54c92df0fff14e68ce1a0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a61eda40b83a54c92df0fff14e68ce1a0">&#9670;&#160;</a></span>Reader</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">friend struct <a class="el" href="structrgw_1_1cls_1_1fifo_1_1_reader.html">Reader</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">friend</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition"><a class="el" href="cls__fifo__legacy_8h_source.html">cls_fifo_legacy.h</a> 파일의 <a class="el" href="cls__fifo__legacy_8h_source.html#l00103">103</a> 번째 라인에서 정의되었습니다.</p>

</div>
</div>
<a id="ab1ca174fed1c9d2ef16f1e0822cc37aa" name="ab1ca174fed1c9d2ef16f1e0822cc37aa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab1ca174fed1c9d2ef16f1e0822cc37aa">&#9670;&#160;</a></span>Trimmer</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">friend struct <a class="el" href="structrgw_1_1cls_1_1fifo_1_1_trimmer.html">Trimmer</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">friend</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition"><a class="el" href="cls__fifo__legacy_8h_source.html">cls_fifo_legacy.h</a> 파일의 <a class="el" href="cls__fifo__legacy_8h_source.html#l00105">105</a> 번째 라인에서 정의되었습니다.</p>

</div>
</div>
<a id="a42e6aa897e4963dc808e42dc2a3ff98d" name="a42e6aa897e4963dc808e42dc2a3ff98d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a42e6aa897e4963dc808e42dc2a3ff98d">&#9670;&#160;</a></span>Updater</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">friend struct <a class="el" href="structrgw_1_1cls_1_1fifo_1_1_updater.html">Updater</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">friend</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition"><a class="el" href="cls__fifo__legacy_8h_source.html">cls_fifo_legacy.h</a> 파일의 <a class="el" href="cls__fifo__legacy_8h_source.html#l00104">104</a> 번째 라인에서 정의되었습니다.</p>

</div>
</div>
<h2 class="groupheader">멤버 데이터 문서화</h2>
<a id="ab04aec5111a70848f003a5174f5f43af" name="ab04aec5111a70848f003a5174f5f43af"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab04aec5111a70848f003a5174f5f43af">&#9670;&#160;</a></span>cct</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">CephContext* rgw::cls::fifo::FIFO::cct = static_cast&lt;CephContext*&gt;(ioctx.cct())</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition"><a class="el" href="cls__fifo__legacy_8h_source.html">cls_fifo_legacy.h</a> 파일의 <a class="el" href="cls__fifo__legacy_8h_source.html#l00114">114</a> 번째 라인에서 정의되었습니다.</p>

</div>
</div>
<a id="ac39e05a390f49314efc600e47135eee9" name="ac39e05a390f49314efc600e47135eee9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac39e05a390f49314efc600e47135eee9">&#9670;&#160;</a></span>info</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">fifo::info rgw::cls::fifo::FIFO::info</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition"><a class="el" href="cls__fifo__legacy_8h_source.html">cls_fifo_legacy.h</a> 파일의 <a class="el" href="cls__fifo__legacy_8h_source.html#l00119">119</a> 번째 라인에서 정의되었습니다.</p>

</div>
</div>
<a id="af2b49f78650a528ef6b4abb16205b71f" name="af2b49f78650a528ef6b4abb16205b71f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af2b49f78650a528ef6b4abb16205b71f">&#9670;&#160;</a></span>ioctx</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">lr::IoCtx rgw::cls::fifo::FIFO::ioctx</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">mutable</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition"><a class="el" href="cls__fifo__legacy_8h_source.html">cls_fifo_legacy.h</a> 파일의 <a class="el" href="cls__fifo__legacy_8h_source.html#l00113">113</a> 번째 라인에서 정의되었습니다.</p>

</div>
</div>
<a id="af2b6bcbdfba97260e576ff4a72d8ba49" name="af2b6bcbdfba97260e576ff4a72d8ba49"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af2b6bcbdfba97260e576ff4a72d8ba49">&#9670;&#160;</a></span>m</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::mutex rgw::cls::fifo::FIFO::m</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition"><a class="el" href="cls__fifo__legacy_8h_source.html">cls_fifo_legacy.h</a> 파일의 <a class="el" href="cls__fifo__legacy_8h_source.html#l00116">116</a> 번째 라인에서 정의되었습니다.</p>

</div>
</div>
<a id="afa7af9bdb8c2b6813e746cba65f61115" name="afa7af9bdb8c2b6813e746cba65f61115"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afa7af9bdb8c2b6813e746cba65f61115">&#9670;&#160;</a></span>next_tid</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::uint64_t rgw::cls::fifo::FIFO::next_tid = 0</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition"><a class="el" href="cls__fifo__legacy_8h_source.html">cls_fifo_legacy.h</a> 파일의 <a class="el" href="cls__fifo__legacy_8h_source.html#l00117">117</a> 번째 라인에서 정의되었습니다.</p>

</div>
</div>
<a id="a3e0ced0e9aa607afbde4462e07416be3" name="a3e0ced0e9aa607afbde4462e07416be3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3e0ced0e9aa607afbde4462e07416be3">&#9670;&#160;</a></span>oid</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const std::string rgw::cls::fifo::FIFO::oid</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition"><a class="el" href="cls__fifo__legacy_8h_source.html">cls_fifo_legacy.h</a> 파일의 <a class="el" href="cls__fifo__legacy_8h_source.html#l00115">115</a> 번째 라인에서 정의되었습니다.</p>

</div>
</div>
<a id="a585247aa2c1b7c19869ceb1544443976" name="a585247aa2c1b7c19869ceb1544443976"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a585247aa2c1b7c19869ceb1544443976">&#9670;&#160;</a></span>part_entry_overhead</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::uint32_t rgw::cls::fifo::FIFO::part_entry_overhead = 0xdeadbeef</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition"><a class="el" href="cls__fifo__legacy_8h_source.html">cls_fifo_legacy.h</a> 파일의 <a class="el" href="cls__fifo__legacy_8h_source.html#l00122">122</a> 번째 라인에서 정의되었습니다.</p>

</div>
</div>
<a id="ae8573df3015bf8beaa2bf62ee4130178" name="ae8573df3015bf8beaa2bf62ee4130178"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae8573df3015bf8beaa2bf62ee4130178">&#9670;&#160;</a></span>part_header_size</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::uint32_t rgw::cls::fifo::FIFO::part_header_size = 0xdeadbeef</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition"><a class="el" href="cls__fifo__legacy_8h_source.html">cls_fifo_legacy.h</a> 파일의 <a class="el" href="cls__fifo__legacy_8h_source.html#l00121">121</a> 번째 라인에서 정의되었습니다.</p>

</div>
</div>
<hr/>이 클래스에 대한 문서화 페이지는 다음의 파일들로부터 생성되었습니다.:<ul>
<li>D:/git/ceph/src/rgw/<a class="el" href="cls__fifo__legacy_8h_source.html">cls_fifo_legacy.h</a></li>
<li>D:/git/ceph/src/rgw/<a class="el" href="cls__fifo__legacy_8cc_source.html">cls_fifo_legacy.cc</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespacergw.html">rgw</a></li><li class="navelem"><a class="el" href="namespacergw_1_1cls.html">cls</a></li><li class="navelem"><a class="el" href="namespacergw_1_1cls_1_1fifo.html">fifo</a></li><li class="navelem"><a class="el" href="classrgw_1_1cls_1_1fifo_1_1_f_i_f_o.html">FIFO</a></li>
    <li class="footer">다음에 의해 생성됨 :  <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8 </li>
  </ul>
</div>
</body>
</html>
