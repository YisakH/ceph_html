<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="ko">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>My Project: RGWBucketReshard 클래스 참조</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">My Project
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- 다음에 의해 생성됨 :  Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','검색');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('class_r_g_w_bucket_reshard.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">로딩중...</div>
<div class="SRStatus" id="Searching">검색중...</div>
<div class="SRStatus" id="NoMatches">일치하는것 없음</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-types">Public 타입</a> &#124;
<a href="#pub-methods">Public 멤버 함수</a> &#124;
<a href="#pub-static-methods">정적 Public 멤버 함수</a> &#124;
<a href="#pri-methods">Private 멤버 함수</a> &#124;
<a href="#pri-attribs">Private 속성</a> &#124;
<a href="#pri-static-attribs">정적 Private 속성</a> &#124;
<a href="#friends">Friends</a> &#124;
<a href="class_r_g_w_bucket_reshard-members.html">모든 멤버 목록</a>  </div>
  <div class="headertitle"><div class="title">RGWBucketReshard 클래스 참조</div></div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="rgw__reshard_8h_source.html">rgw_reshard.h</a>&gt;</code></p>
<div class="dynheader">
RGWBucketReshard에 대한 협력 다이어그램:</div>
<div class="dyncontent">
<div class="center"><img src="class_r_g_w_bucket_reshard__coll__graph.png" border="0" usemap="#a_r_g_w_bucket_reshard_coll__map" alt="Collaboration graph"/></div>
<map name="a_r_g_w_bucket_reshard_coll__map" id="a_r_g_w_bucket_reshard_coll__map">
<area shape="rect" title=" " alt="" coords="1778,3589,1978,4064"/>
<area shape="rect" href="classrgw_1_1sal_1_1_rados_store.html" title=" " alt="" coords="2314,784,2477,1083"/>
<area shape="poly" title=" " alt="" coords="2316,1053,2250,1127,2212,1161,2171,1192,2150,1200,2131,1201,2114,1204,2097,1215,2066,1257,2048,1296,2040,1333,2038,1372,2041,1455,2040,1504,2034,1558,2025,1634,2024,1702,2030,1820,2027,1875,2016,1930,1992,1988,1949,2050,1934,2060,1917,2062,1902,2064,1890,2074,1837,2161,1794,2253,1759,2348,1733,2447,1713,2548,1701,2650,1694,2753,1693,2855,1697,2957,1705,3056,1730,3247,1764,3421,1801,3572,1796,3573,1759,3423,1725,3248,1700,3057,1692,2957,1688,2855,1689,2752,1696,2649,1708,2547,1727,2446,1754,2347,1789,2251,1832,2158,1886,2070,1900,2059,1916,2057,1932,2055,1945,2046,1987,1985,2011,1929,2022,1874,2024,1820,2019,1702,2020,1634,2029,1557,2035,1503,2036,1455,2032,1372,2034,1333,2043,1294,2062,1254,2093,1211,2112,1199,2130,1196,2149,1195,2169,1187,2209,1157,2246,1123,2312,1050"/>
<area shape="rect" href="class_r_g_w_rados.html" title=" " alt="" coords="2821,2400,3005,3525"/>
<area shape="poly" title=" " alt="" coords="2455,1082,2510,1219,2571,1360,2626,1474,2649,1512,2666,1531,2685,1536,2725,1540,2853,1543,3220,1539,3585,1537,3711,1543,3750,1548,3770,1555,3782,1575,3792,1607,3807,1701,3816,1823,3819,1961,3817,2099,3811,2223,3800,2321,3793,2355,3786,2377,3752,2434,3714,2487,3671,2537,3624,2584,3523,2669,3415,2743,3305,2806,3200,2857,3103,2898,3021,2929,3020,2924,3101,2894,3198,2852,3303,2801,3412,2739,3520,2665,3621,2580,3667,2533,3709,2483,3748,2431,3781,2375,3788,2354,3795,2320,3806,2223,3812,2099,3814,1961,3810,1823,3802,1701,3787,1608,3778,1577,3767,1559,3749,1553,3711,1548,3585,1543,3220,1544,2853,1548,2725,1545,2685,1541,2663,1536,2645,1515,2621,1477,2566,1362,2505,1221,2450,1084"/>
<area shape="rect" href="class_r_g_w_sync_log_trim_thread.html" title=" " alt="" coords="4109,1693,4287,1912"/>
<area shape="poly" title=" " alt="" coords="2478,1002,2573,1097,2621,1153,2663,1212,2687,1260,2700,1305,2711,1389,2717,1427,2729,1464,2751,1498,2789,1531,2812,1537,2859,1542,3009,1546,3442,1543,3875,1539,4026,1544,4073,1548,4098,1555,4126,1579,4148,1609,4166,1642,4178,1676,4173,1678,4161,1644,4144,1612,4122,1583,4095,1560,4072,1553,4025,1549,3875,1545,3442,1548,3009,1551,2858,1547,2811,1543,2786,1536,2747,1502,2724,1466,2711,1428,2705,1389,2695,1306,2682,1261,2658,1215,2616,1156,2569,1101,2475,1006"/>
<area shape="rect" href="class_r_g_w_reshard.html" title=" " alt="" coords="2100,1557,2275,2048"/>
<area shape="poly" title=" " alt="" coords="2320,1083,2293,1148,2270,1214,2249,1295,2233,1378,2209,1541,2204,1540,2227,1377,2244,1294,2265,1213,2288,1146,2315,1081"/>
<area shape="rect" href="classrgw_1_1sal_1_1_rados_zone.html" title=" " alt="" coords="2388,1651,2544,1955"/>
<area shape="poly" title=" " alt="" coords="2385,1083,2381,1183,2379,1296,2383,1415,2394,1533,2415,1634,2409,1635,2389,1534,2377,1416,2374,1296,2375,1183,2380,1082"/>
<area shape="rect" href="class_r_g_w_bucket_reshard_lock.html" title=" " alt="" coords="1937,2072,2117,2376"/>
<area shape="poly" title=" " alt="" coords="2317,1013,2237,1105,2199,1158,2167,1215,2130,1305,2113,1381,2104,1458,2091,1558,2073,1688,2059,1819,2040,2055,2034,2055,2054,1818,2068,1687,2086,1557,2098,1458,2107,1380,2125,1304,2163,1212,2195,1156,2233,1102,2313,1010"/>
<area shape="rect" href="classrgw_1_1sal_1_1_store.html" title="Base singleton representing a Store or stacking layer" alt="" coords="4102,256,4265,555"/>
<area shape="poly" title=" " alt="" coords="4088,430,3790,494,3418,568,3320,584,3235,593,3090,604,3021,611,2948,624,2867,646,2774,680,2691,719,2611,767,2539,817,2478,864,2475,860,2536,813,2609,762,2688,715,2772,675,2865,641,2947,619,3020,606,3089,598,3234,588,3319,579,3418,563,3789,488,4087,425"/>
<area shape="rect" href="class_r_g_w_l_c.html" title=" " alt="" coords="4089,728,4278,1139"/>
<area shape="poly" title=" " alt="" coords="4186,554,4186,711,4181,711,4181,554"/>
<area shape="rect" href="class_r_g_w_object_expirer.html" title=" " alt="" coords="4378,1661,4538,1944"/>
<area shape="poly" title=" " alt="" coords="4251,554,4293,677,4311,759,4332,866,4373,1129,4442,1644,4436,1645,4368,1129,4326,867,4306,760,4287,678,4246,555"/>
<area shape="poly" title=" " alt="" coords="2819,2862,2699,2714,2630,2621,2561,2519,2493,2409,2431,2292,2377,2172,2334,2049,2320,1969,2314,1864,2315,1742,2321,1608,2344,1335,2371,1099,2376,1100,2349,1336,2327,1608,2320,1742,2319,1864,2325,1968,2339,2047,2382,2170,2436,2290,2498,2406,2565,2516,2635,2618,2703,2711,2823,2858"/>
<area shape="rect" href="class_r_g_w_g_c.html" title=" " alt="" coords="2833,3613,2989,4040"/>
<area shape="poly" title=" " alt="" coords="2875,3525,2877,3565,2880,3596,2874,3597,2872,3566,2869,3525"/>
<area shape="rect" href="class_r_g_w_index_completion_manager.html" title=" " alt="" coords="2003,3621,2220,4032"/>
<area shape="poly" title=" " alt="" coords="2823,3048,2587,3269,2450,3407,2318,3551,2232,3658,2228,3654,2314,3548,2446,3403,2583,3265,2819,3044"/>
<area shape="poly" title=" " alt="" coords="2913,3614,2914,3565,2914,3542,2920,3542,2919,3565,2919,3614"/>
<area shape="rect" href="class_r_g_w_g_c_1_1_g_c_worker.html" title=" " alt="" coords="2845,4128,2978,4304"/>
<area shape="poly" title=" " alt="" coords="2884,4040,2887,4104,2888,4111,2882,4111,2881,4104,2878,4040"/>
<area shape="rect" title=" " alt="" coords="4320,371,4439,440"/>
<area shape="poly" title=" " alt="" coords="4443,447,4495,489,4553,542,4607,605,4630,640,4650,676,4674,744,4681,801,4675,932,4675,2964,4671,3034,4660,3100,4642,3162,4617,3220,4586,3275,4549,3327,4506,3375,4459,3420,4408,3462,4352,3501,4293,3537,4231,3570,4099,3629,3960,3678,3816,3718,3672,3751,3531,3776,3396,3795,3160,3818,2989,3827,2989,3821,3159,3813,3396,3790,3530,3771,3671,3745,3815,3713,3958,3673,4097,3624,4229,3565,4291,3532,4349,3496,4405,3458,4456,3416,4503,3371,4544,3323,4581,3272,4612,3218,4637,3160,4655,3098,4666,3033,4670,2964,4670,932,4675,801,4669,745,4645,678,4626,643,4602,609,4549,546,4492,493,4439,451"/>
<area shape="poly" title=" " alt="" coords="4364,455,4262,730,4257,728,4359,453"/>
<area shape="rect" href="class_r_g_w_object_expirer_1_1_o_e_worker.html" title=" " alt="" coords="4441,824,4635,1043"/>
<area shape="poly" title=" " alt="" coords="4396,454,4508,824,4503,825,4391,455"/>
<area shape="poly" title=" " alt="" coords="4375,455,4350,678,4341,808,4339,919,4341,1108,4341,1199,4335,1296,4322,1405,4299,1534,4277,1617,4248,1695,4243,1693,4272,1615,4294,1533,4317,1405,4330,1295,4335,1199,4336,1108,4334,919,4336,808,4345,677,4370,455"/>
<area shape="rect" title=" " alt="" coords="1758,371,1817,440"/>
<area shape="poly" title=" " alt="" coords="1818,416,1887,450,1977,505,2023,540,2066,581,2105,626,2135,676,2170,750,2198,818,2218,883,2228,945,2226,1005,2211,1066,2181,1127,2135,1191,2118,1205,2099,1210,2061,1204,2024,1198,2008,1203,1992,1215,1965,1254,1952,1290,1949,1325,1953,1360,1974,1438,1985,1483,1993,1533,2000,1683,2005,1803,2013,1858,2028,1915,2053,1977,2091,2046,2098,2054,2105,2058,2114,2062,2122,2071,2141,2114,2148,2154,2147,2192,2142,2228,2138,2264,2139,2300,2150,2336,2173,2374,2186,2385,2199,2388,2215,2391,2233,2398,2230,2402,2213,2396,2198,2393,2184,2389,2169,2378,2145,2338,2134,2300,2133,2264,2137,2228,2141,2192,2142,2154,2136,2115,2117,2073,2110,2066,2103,2062,2094,2058,2087,2050,2048,1979,2023,1917,2007,1859,1999,1803,1995,1684,1987,1534,1980,1484,1969,1440,1948,1361,1943,1325,1947,1289,1961,1251,1988,1212,2005,1198,2024,1193,2062,1199,2099,1204,2115,1200,2131,1187,2177,1124,2206,1064,2221,1005,2222,945,2213,884,2193,820,2165,752,2130,679,2100,629,2063,584,2020,544,1974,509,1885,455,1815,421"/>
<area shape="poly" title=" " alt="" coords="2233,2398,2317,2450,2400,2508,2558,2631,2698,2752,2810,2856,2807,2860,2694,2755,2554,2635,2396,2512,2314,2455,2230,2402"/>
<area shape="poly" title=" " alt="" coords="1772,441,1741,509,1726,549,1715,590,1704,691,1695,862,1684,1318,1681,1774,1687,2048,1689,2100,1685,2148,1677,2230,1679,2267,1688,2303,1707,2338,1740,2374,1754,2383,1772,2390,1818,2396,1874,2395,1934,2390,2053,2382,2102,2385,2139,2398,2183,2431,2228,2477,2274,2533,2322,2598,2418,2751,2513,2924,2605,3108,2690,3291,2829,3613,2824,3615,2686,3294,2600,3110,2508,2927,2413,2753,2317,2601,2270,2536,2224,2480,2179,2435,2137,2402,2101,2390,2053,2387,1935,2395,1874,2400,1818,2401,1770,2395,1751,2388,1736,2378,1703,2341,1683,2305,1673,2268,1672,2230,1680,2147,1683,2100,1682,2048,1676,1774,1679,1318,1690,861,1699,691,1710,589,1721,547,1736,506,1767,439"/>
<area shape="rect" href="struct_d3n_data_cache.html" title=" " alt="" coords="1780,677,1995,1189"/>
<area shape="poly" title=" " alt="" coords="1803,439,1826,507,1849,589,1862,660,1857,661,1843,590,1821,509,1798,441"/>
<area shape="rect" href="structrgw_1_1bucket__index__layout__generation.html" title=" " alt="" coords="1494,891,1654,976"/>
<area shape="poly" title=" " alt="" coords="1760,436,1701,503,1670,545,1645,590,1617,664,1598,741,1586,813,1580,874,1575,874,1581,813,1593,740,1612,663,1640,588,1666,542,1697,499,1756,432"/>
<area shape="poly" title=" " alt="" coords="2909,4128,2909,4057,2914,4057,2914,4128"/>
<area shape="poly" title=" " alt="" coords="4135,1139,4126,1239,4126,1290,4130,1342,4139,1394,4154,1443,4175,1489,4204,1532,4214,1541,4225,1544,4251,1543,4277,1541,4290,1545,4301,1556,4312,1577,4320,1609,4333,1705,4340,1828,4342,1965,4339,2103,4331,2226,4319,2322,4311,2356,4302,2377,4241,2457,4173,2530,4097,2595,4015,2653,3928,2705,3838,2751,3746,2791,3653,2825,3560,2855,3468,2880,3295,2918,3143,2943,3022,2957,3021,2951,3142,2938,3294,2913,3467,2875,3558,2850,3651,2820,3744,2786,3836,2746,3925,2700,4012,2649,4093,2591,4169,2526,4237,2454,4297,2375,4306,2354,4313,2322,4326,2226,4334,2102,4337,1965,4335,1828,4327,1705,4315,1610,4307,1578,4297,1559,4287,1550,4276,1546,4251,1548,4225,1549,4212,1545,4200,1535,4171,1492,4149,1445,4134,1395,4124,1343,4120,1291,4120,1238,4130,1138"/>
<area shape="rect" title=" " alt="" coords="1254,371,1299,440"/>
<area shape="poly" title=" " alt="" coords="1300,414,1373,444,1482,486,1611,528,1746,563,1816,568,1906,569,1996,572,2034,578,2063,587,2134,629,2199,681,2257,738,2306,796,2302,800,2253,742,2196,685,2131,633,2061,592,2032,583,1995,578,1906,574,1815,573,1746,568,1610,533,1480,491,1371,449,1298,419"/>
<area shape="poly" title=" " alt="" coords="1301,420,1534,587,1575,621,1617,651,1631,657,1644,660,1656,665,1668,676,1686,720,1700,789,1710,880,1717,990,1725,1248,1728,1535,1733,1821,1745,2077,1755,2183,1768,2271,1786,2336,1796,2359,1808,2374,1833,2383,1881,2389,2015,2391,2151,2391,2202,2393,2232,2397,2321,2438,2407,2487,2488,2542,2566,2602,2638,2663,2703,2725,2811,2837,2808,2841,2699,2728,2634,2667,2562,2606,2485,2546,2404,2491,2318,2442,2231,2403,2202,2398,2151,2396,2015,2397,1880,2394,1832,2388,1804,2378,1792,2361,1781,2338,1763,2272,1749,2184,1739,2077,1728,1822,1723,1536,1719,1248,1712,990,1705,881,1695,790,1681,721,1664,679,1654,669,1643,665,1629,662,1614,656,1572,625,1531,591,1298,424"/>
<area shape="poly" title=" " alt="" coords="1300,414,1373,446,1481,488,1611,530,1746,563,1823,572,1918,578,2140,583,2362,583,2535,587,2782,601,2974,616,3412,651,3607,655,3716,660,3762,666,3799,675,3876,706,3949,747,4017,791,4077,836,4074,840,4014,796,3946,751,3873,711,3797,680,3761,671,3715,666,3606,660,3412,656,2974,622,2782,607,2535,592,2362,589,2140,588,1917,584,1822,578,1746,568,1610,535,1480,493,1371,451,1298,419"/>
<area shape="rect" href="class_r_g_w_coroutines_manager_registry.html" title=" " alt="" coords="1439,1253,1671,1493"/>
<area shape="poly" title=" " alt="" coords="1301,435,1369,538,1404,605,1433,676,1453,752,1462,818,1465,877,1464,932,1463,1046,1470,1112,1485,1189,1499,1237,1494,1239,1479,1190,1464,1113,1458,1046,1459,932,1460,877,1457,818,1447,753,1427,678,1399,608,1364,541,1297,438"/>
<area shape="poly" title=" " alt="" coords="1300,414,1482,485,1612,528,1746,563,1803,566,1878,564,1951,568,1980,575,2001,587,2050,643,2087,697,2112,751,2128,804,2135,858,2135,911,2130,965,2121,1020,2098,1133,2077,1255,2071,1319,2070,1387,2075,1458,2089,1533,2098,1568,2093,1570,2083,1534,2070,1459,2065,1387,2066,1319,2072,1254,2093,1132,2116,1019,2125,964,2130,911,2130,858,2122,806,2107,753,2082,700,2046,646,1998,591,1978,580,1950,573,1878,569,1803,571,1746,568,1610,533,1480,490,1298,419"/>
<area shape="poly" title=" " alt="" coords="1300,411,1368,433,1467,470,1577,522,1632,553,1684,587,1725,630,1763,676,1773,692,1769,695,1759,679,1721,634,1680,591,1629,557,1575,527,1465,475,1367,438,1298,416"/>
<area shape="rect" href="struct_r_g_w_bucket_info.html" title=" " alt="" coords="637,2672,853,3253"/>
<area shape="poly" title=" " alt="" coords="1255,413,1156,436,1087,456,1011,483,931,519,853,563,781,616,748,646,719,679,670,746,637,808,617,867,606,926,598,1054,594,1128,586,1214,578,1303,578,1373,586,1533,595,1791,615,2048,653,2361,696,2655,691,2656,648,2362,610,2048,589,1791,581,1533,573,1373,573,1303,581,1213,589,1128,593,1053,601,925,612,866,632,806,665,744,715,676,744,642,777,612,850,558,929,514,1009,478,1085,451,1155,430,1254,408"/>
<area shape="rect" href="structrgw__bucket.html" title=" " alt="" coords="267,781,441,1085"/>
<area shape="poly" title=" " alt="" coords="1254,410,1081,422,954,435,815,452,677,476,551,507,496,525,449,545,411,567,383,591,357,629,341,672,333,718,330,764,325,764,327,717,336,671,352,627,379,588,407,563,446,540,494,520,549,502,676,471,815,447,953,429,1081,417,1254,405"/>
<area shape="rect" href="structrgw__user.html" title=" " alt="" coords="151,1221,325,1525"/>
<area shape="poly" title=" " alt="" coords="1254,411,1071,425,785,458,634,483,494,513,377,549,332,569,297,591,266,619,240,650,218,684,200,720,174,798,162,881,159,966,165,1050,177,1131,192,1205,186,1206,171,1132,160,1051,154,966,156,880,169,796,195,718,213,681,235,647,262,615,294,587,329,565,375,544,492,508,633,478,784,453,1071,420,1254,405"/>
<area shape="rect" href="structrgw__placement__rule.html" title=" " alt="" coords="385,1213,541,1533"/>
<area shape="poly" title=" " alt="" coords="1254,411,1098,425,984,439,861,458,739,482,628,512,580,529,539,548,506,569,482,591,476,613,471,663,466,818,464,1196,459,1196,460,818,466,662,471,612,477,588,502,565,536,543,578,524,626,507,738,476,860,452,984,434,1097,420,1254,406"/>
<area shape="rect" href="struct_r_g_w_bucket_website_conf.html" title=" " alt="" coords="1125,1640,1303,1965"/>
<area shape="poly" title=" " alt="" coords="1256,434,1221,477,1180,535,1140,604,1111,678,1093,753,1082,818,1079,876,1081,930,1094,1044,1111,1189,1124,1302,1140,1416,1178,1623,1173,1624,1135,1417,1118,1303,1106,1190,1089,1045,1075,931,1073,876,1077,817,1087,752,1106,677,1136,602,1175,532,1217,474,1252,430"/>
<area shape="rect" href="struct_r_g_w_redirect_info.html" title=" " alt="" coords="935,867,1048,1000"/>
<area shape="poly" title=" " alt="" coords="1255,417,1202,438,1134,474,1099,497,1065,525,1035,556,1011,591,997,621,986,654,975,722,974,789,979,850,973,850,968,790,970,722,981,653,992,619,1007,588,1031,552,1062,521,1095,493,1131,469,1200,433,1253,412"/>
<area shape="poly" title=" " alt="" coords="4471,1944,4468,2048,4462,2104,4451,2162,4437,2220,4416,2276,4390,2329,4356,2378,4287,2455,4210,2525,4127,2588,4039,2645,3947,2696,3852,2741,3756,2781,3660,2816,3472,2872,3296,2912,3143,2939,3022,2954,3022,2949,3143,2933,3295,2907,3470,2867,3659,2811,3754,2776,3850,2736,3944,2691,4036,2640,4123,2584,4206,2521,4283,2451,4352,2374,4385,2326,4411,2274,4432,2218,4446,2161,4456,2103,4462,2047,4466,1943"/>
<area shape="poly" title=" " alt="" coords="4486,1661,4506,1533,4518,1407,4526,1281,4534,1060,4540,1060,4532,1281,4524,1408,4511,1534,4491,1662"/>
<area shape="rect" href="class_r_g_w_obj_exp_store.html" title=" " alt="" coords="3648,867,3785,1000"/>
<area shape="poly" title=" " alt="" coords="3764,998,3851,1112,3974,1254,4046,1329,4123,1402,4206,1470,4291,1531,4310,1539,4327,1541,4343,1544,4361,1555,4395,1597,4420,1644,4416,1647,4391,1600,4358,1559,4341,1549,4326,1546,4308,1544,4289,1536,4202,1475,4120,1406,4042,1333,3970,1258,3847,1115,3760,1001"/>
<area shape="rect" href="classrgw_1_1sal_1_1_zone.html" title="Abstraction of a Zone" alt="" coords="3249,264,3405,547"/>
<area shape="poly" title=" " alt="" coords="3407,510,3661,852,3656,855,3403,513"/>
<area shape="poly" title=" " alt="" coords="3236,431,2668,568,2637,571,2612,571,2590,575,2569,591,2558,613,2548,649,2532,756,2521,896,2514,1052,2507,1353,2502,1534,2489,1651,2483,1651,2497,1533,2502,1353,2509,1052,2516,896,2527,756,2543,648,2553,611,2565,588,2588,570,2612,566,2637,566,2667,563,3234,426"/>
<area shape="poly" title=" " alt="" coords="4503,1043,4480,1126,4462,1214,4451,1325,4446,1439,4450,1644,4444,1644,4441,1439,4446,1325,4457,1213,4474,1125,4498,1042"/>
<area shape="rect" href="class_r_g_w_meta_notifier.html" title=" " alt="" coords="3952,1736,4084,1869"/>
<area shape="poly" title=" " alt="" coords="4030,1869,4036,1974,4036,2038,4031,2107,4021,2177,4004,2247,3979,2315,3944,2377,3899,2438,3849,2495,3794,2548,3735,2597,3674,2643,3610,2686,3479,2760,3349,2822,3225,2871,3114,2910,3021,2937,3020,2932,3112,2904,3223,2866,3347,2817,3477,2755,3607,2681,3671,2639,3732,2593,3790,2544,3845,2491,3895,2435,3940,2375,3974,2313,3999,2246,4016,2176,4026,2106,4030,2038,4031,1974,4024,1869"/>
<area shape="rect" href="class_r_g_w_data_notifier.html" title=" " alt="" coords="2647,1736,2778,1869"/>
<area shape="poly" title=" " alt="" coords="2727,1869,2820,2412,2815,2413,2721,1870"/>
<area shape="rect" href="class_r_g_w_meta_sync_processor_thread.html" title=" " alt="" coords="2803,1704,3023,1901"/>
<area shape="poly" title=" " alt="" coords="2915,1901,2915,2383,2910,2383,2910,1901"/>
<area shape="rect" href="class_r_g_w_sync_trace_manager.html" title=" " alt="" coords="3047,1619,3231,1987"/>
<area shape="poly" title=" " alt="" coords="3119,1987,3092,2175,3057,2377,3011,2586,3006,2585,3051,2375,3086,2174,3114,1986"/>
<area shape="poly" title=" " alt="" coords="4198,1912,4190,2035,4176,2171,4154,2294,4139,2342,4120,2377,4065,2446,4004,2508,3938,2566,3867,2619,3792,2667,3716,2711,3637,2751,3559,2786,3403,2846,3257,2891,3127,2924,3022,2946,3021,2941,3126,2919,3255,2886,3401,2841,3557,2781,3635,2746,3713,2706,3790,2663,3864,2615,3934,2562,4000,2505,4061,2442,4116,2375,4134,2340,4149,2293,4171,2171,4185,2035,4192,1911"/>
<area shape="rect" href="class_r_g_w_chained_cache_impl.html" title=" " alt="" coords="3255,1661,3439,1944"/>
<area shape="poly" title=" " alt="" coords="3316,1944,3260,2150,3225,2265,3186,2377,3102,2580,3014,2768,3010,2765,3097,2578,3181,2375,3220,2263,3255,2149,3311,1943"/>
<area shape="rect" href="classlru__map.html" title=" " alt="" coords="3463,1768,3573,1837"/>
<area shape="poly" title=" " alt="" coords="3516,1838,3500,1933,3471,2069,3426,2225,3398,2303,3364,2377,3327,2446,3286,2514,3195,2644,3102,2760,3018,2856,3014,2853,3098,2757,3191,2641,3281,2511,3323,2443,3360,2375,3393,2301,3421,2223,3466,2068,3495,1932,3511,1837"/>
<area shape="rect" href="class_r_g_w_quota_handler.html" title=" " alt="" coords="3597,1704,3756,1901"/>
<area shape="poly" title=" " alt="" coords="3689,1901,3692,2004,3685,2127,3675,2191,3661,2256,3641,2318,3614,2377,3555,2470,3486,2555,3408,2634,3326,2706,3242,2769,3161,2825,3021,2909,3018,2904,3159,2820,3239,2765,3322,2701,3404,2630,3482,2552,3551,2467,3609,2375,3636,2316,3656,2254,3670,2190,3680,2126,3687,2004,3684,1901"/>
<area shape="poly" title=" " alt="" coords="1534,1493,1521,1587,1511,1698,1508,1819,1517,1946,1527,2009,1540,2071,1559,2130,1583,2188,1612,2241,1647,2291,1689,2335,1738,2374,1772,2388,1819,2394,1933,2393,2050,2388,2100,2390,2139,2397,2240,2440,2339,2491,2435,2549,2525,2612,2609,2676,2686,2739,2811,2853,2807,2857,2682,2744,2606,2680,2522,2616,2432,2554,2337,2496,2238,2444,2137,2403,2099,2395,2050,2393,1934,2398,1819,2399,1771,2393,1735,2378,1686,2339,1643,2294,1607,2244,1578,2190,1554,2132,1535,2072,1521,2010,1512,1946,1503,1819,1505,1697,1515,1586,1529,1493"/>
<area shape="poly" title=" " alt="" coords="2218,3707,2807,3073,2811,3077,2222,3711"/>
<area shape="rect" href="struct_r_g_w_services.html" title=" " alt="" coords="2785,867,2878,1000"/>
<area shape="poly" title=" " alt="" coords="2832,1000,2824,1132,2807,1291,2794,1369,2777,1439,2756,1496,2731,1535,2715,1547,2698,1551,2665,1547,2634,1544,2620,1548,2606,1559,2595,1577,2586,1599,2575,1655,2572,1721,2574,1794,2590,1937,2607,2048,2624,2139,2646,2232,2699,2415,2758,2587,2817,2737,2812,2739,2753,2589,2694,2417,2641,2233,2619,2140,2602,2048,2584,1938,2569,1794,2567,1721,2570,1654,2581,1597,2590,1574,2602,1556,2617,1543,2633,1538,2665,1541,2698,1545,2712,1542,2727,1531,2751,1493,2772,1437,2789,1368,2802,1290,2819,1131,2827,1000"/>
<area shape="rect" href="struct_r_g_w_ctl.html" title=" " alt="" coords="3866,1768,3927,1837"/>
<area shape="poly" title=" " alt="" coords="2828,1000,2825,1118,2830,1189,2841,1264,2860,1340,2889,1411,2929,1477,2954,1505,2982,1531,3002,1540,3036,1547,3137,1551,3268,1548,3414,1542,3560,1536,3691,1533,3792,1538,3827,1545,3849,1555,3868,1575,3882,1598,3900,1650,3906,1703,3906,1751,3900,1751,3901,1704,3895,1651,3878,1600,3864,1578,3846,1559,3825,1550,3792,1544,3691,1539,3560,1541,3414,1547,3268,1554,3137,1557,3036,1552,3001,1545,2979,1536,2950,1509,2925,1480,2884,1414,2855,1341,2836,1265,2825,1190,2820,1118,2822,1000"/>
<area shape="poly" title=" " alt="" coords="3904,1837,3913,1936,3914,2002,3911,2076,3903,2153,3887,2231,3862,2307,3826,2377,3787,2433,3744,2486,3697,2536,3646,2583,3538,2668,3425,2742,3311,2804,3203,2856,3104,2898,3021,2929,3019,2924,3102,2893,3201,2851,3309,2800,3422,2737,3535,2663,3643,2579,3693,2532,3740,2482,3783,2430,3821,2375,3857,2305,3882,2230,3898,2152,3906,2075,3909,2002,3907,1936,3899,1837"/>
<area shape="rect" href="class_r_g_w_user_ctl.html" title=" " alt="" coords="2499,256,2655,555"/>
<area shape="poly" title=" " alt="" coords="2501,539,2478,590,2449,679,2427,768,2422,767,2444,677,2474,588,2496,537"/>
<area shape="poly" title=" " alt="" coords="2655,425,2734,450,2826,486,2922,531,3013,587,3080,648,3186,756,3457,1054,3596,1215,3719,1362,3811,1480,3860,1556,3879,1606,3890,1658,3899,1751,3894,1751,3885,1659,3874,1607,3856,1559,3807,1484,3714,1365,3592,1218,3453,1058,3182,759,3077,652,3010,591,2920,536,2824,491,2732,455,2653,430"/>
<area shape="rect" href="struct_r_g_w_user_ctl_1_1_svc.html" title=" " alt="" coords="2291,59,2409,128"/>
<area shape="poly" title=" " alt="" coords="2376,126,2491,283,2487,286,2372,129"/>
<area shape="rect" href="struct_r_g_w_user_ctl_1_1_ctl.html" title=" " alt="" coords="2433,59,2545,128"/>
<area shape="poly" title=" " alt="" coords="2501,127,2532,239,2527,240,2496,129"/>
<area shape="rect" href="class_r_g_w_user_metadata_handler.html" title=" " alt="" coords="2569,5,2757,181"/>
<area shape="poly" title=" " alt="" coords="2642,182,2625,241,2620,239,2637,181"/>
<area shape="rect" href="class_r_g_w_s_i___meta_backend___handler.html" title=" " alt="" coords="2782,19,2995,168"/>
<area shape="poly" title=" " alt="" coords="2817,170,2669,317,2665,313,2813,166"/>
<area shape="poly" title=" " alt="" coords="2178,2048,2184,2130,2197,2214,2219,2297,2252,2375,2306,2464,2371,2547,2443,2625,2520,2695,2598,2759,2674,2814,2808,2900,2805,2905,2671,2819,2595,2763,2517,2699,2440,2629,2367,2551,2302,2467,2247,2377,2214,2298,2192,2215,2179,2130,2173,2048"/>
<area shape="poly" title=" " alt="" coords="1864,1189,1849,1370,1838,1557,1831,1803,1838,2048,1837,2100,1830,2147,1816,2229,1814,2266,1819,2301,1836,2337,1866,2374,1888,2382,1929,2387,2045,2390,2162,2391,2206,2393,2232,2397,2321,2438,2406,2487,2488,2543,2565,2603,2637,2664,2703,2725,2811,2838,2807,2841,2699,2729,2634,2668,2562,2607,2485,2547,2403,2492,2318,2443,2231,2403,2206,2398,2162,2397,2045,2396,1929,2392,1887,2387,1863,2378,1831,2340,1814,2303,1808,2266,1810,2228,1825,2146,1831,2100,1832,2048,1825,1803,1832,1557,1843,1370,1858,1189"/>
<area shape="poly" title=" " alt="" coords="2460,1651,2451,1443,2434,1214,2420,1100,2425,1099,2439,1213,2456,1443,2465,1651"/>
<area shape="poly" title=" " alt="" coords="854,3044,1766,3737,1763,3741,851,3048"/>
<area shape="poly" title=" " alt="" coords="361,1085,375,1533,378,1774,382,1962,390,2052,406,2147,433,2252,473,2375,508,2470,548,2565,632,2742,627,2744,543,2567,503,2472,467,2377,428,2254,401,2148,385,2053,377,1963,373,1774,370,1533,356,1085"/>
<area shape="rect" href="structrgw__data__placement__target.html" title=" " alt="" coords="5,245,153,565"/>
<area shape="poly" title=" " alt="" coords="65,565,71,610,83,652,116,714,159,769,207,819,256,860,252,864,204,823,155,773,112,716,78,654,65,611,60,565"/>
<area shape="poly" title=" " alt="" coords="228,1525,224,1703,226,1808,234,1920,247,2035,268,2151,297,2266,335,2375,364,2439,397,2502,472,2623,552,2734,628,2828,624,2831,548,2737,468,2626,393,2504,359,2441,330,2377,291,2267,262,2152,242,2036,228,1920,221,1808,218,1703,223,1525"/>
<area shape="poly" title=" " alt="" coords="455,1533,451,1647,450,1776,457,1913,471,2048,502,2208,541,2368,587,2522,634,2663,629,2664,582,2523,536,2369,496,2209,466,2048,451,1913,445,1777,445,1647,449,1533"/>
<area shape="rect" href="struct_r_g_w_obj_version_tracker.html" title=" " alt="" coords="949,1675,1101,1931"/>
<area shape="poly" title=" " alt="" coords="997,1931,890,2377,822,2656,817,2655,885,2375,992,1930"/>
<area shape="rect" href="struct_r_g_w_quota_info.html" title=" " alt="" coords="625,1715,744,1891"/>
<area shape="poly" title=" " alt="" coords="692,1890,731,2655,726,2656,686,1891"/>
<area shape="rect" title=" " alt="" coords="729,899,781,968"/>
<area shape="poly" title=" " alt="" coords="758,968,751,1204,742,1367,729,1534,706,1698,701,1697,723,1533,737,1367,745,1204,752,968"/>
<area shape="rect" href="structrgw_1_1_bucket_layout.html" title=" " alt="" coords="1328,1747,1449,1859"/>
<area shape="poly" title=" " alt="" coords="1385,1859,1369,1959,1341,2091,1299,2236,1271,2309,1239,2377,1200,2446,1156,2514,1059,2643,958,2757,867,2852,863,2848,954,2754,1054,2640,1151,2511,1195,2444,1234,2375,1266,2306,1294,2235,1336,2090,1364,1958,1380,1858"/>
<area shape="poly" title=" " alt="" coords="1565,977,1546,1026,1518,1085,1480,1142,1457,1169,1432,1192,1418,1199,1405,1202,1381,1201,1359,1202,1349,1206,1339,1215,1327,1241,1321,1277,1319,1321,1321,1368,1331,1461,1340,1533,1355,1636,1374,1730,1369,1731,1349,1637,1335,1534,1326,1462,1316,1368,1314,1321,1315,1277,1322,1240,1335,1212,1346,1201,1357,1196,1381,1196,1405,1197,1416,1194,1428,1187,1454,1165,1476,1139,1514,1082,1541,1024,1560,975"/>
<area shape="poly" title=" " alt="" coords="1178,1966,1122,2164,1087,2272,1048,2377,1006,2477,959,2577,863,2761,858,2758,954,2574,1001,2475,1044,2375,1082,2270,1117,2163,1173,1964"/>
<area shape="poly" title=" " alt="" coords="972,1000,944,1113,933,1181,928,1254,930,1328,942,1401,966,1470,984,1502,1005,1532,1017,1542,1029,1546,1055,1545,1084,1543,1099,1546,1114,1555,1144,1587,1168,1624,1163,1627,1140,1590,1111,1559,1097,1551,1084,1548,1056,1550,1028,1551,1014,1546,1001,1535,979,1505,961,1472,937,1403,925,1329,922,1254,928,1181,939,1112,967,999"/>
<area shape="rect" href="struct_r_g_w_b_w_routing_rules.html" title=" " alt="" coords="1225,816,1419,1051"/>
<area shape="poly" title=" " alt="" coords="1276,1051,1249,1131,1229,1214,1215,1318,1208,1425,1205,1529,1206,1623,1201,1623,1200,1529,1202,1425,1210,1318,1224,1213,1244,1129,1271,1050"/>
<area shape="rect" href="class_r_g_w_object_lock.html" title=" " alt="" coords="768,1651,924,1955"/>
<area shape="poly" title=" " alt="" coords="836,1954,774,2655,769,2655,830,1954"/>
<area shape="rect" href="class_object_lock_rule.html" title=" " alt="" coords="805,835,911,1032"/>
<area shape="poly" title=" " alt="" coords="859,1032,851,1634,846,1634,854,1032"/>
<area shape="poly" title=" " alt="" coords="2019,2376,1978,2902,1949,3233,1915,3566,1915,3573,1909,3572,1910,3565,1944,3232,1973,2902,2014,2376"/>
</map>
</div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-types" name="pub-types"></a>
Public 타입</h2></td></tr>
<tr class="memitem:abf3eaab6bf38fc5c6ea480e3a41e59e9" id="r_abf3eaab6bf38fc5c6ea480e3a41e59e9"><td class="memItemLeft" align="right" valign="top">using&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_r_g_w_bucket_reshard.html#abf3eaab6bf38fc5c6ea480e3a41e59e9">Clock</a> = ceph::coarse_mono_clock</td></tr>
<tr class="separator:abf3eaab6bf38fc5c6ea480e3a41e59e9"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public 멤버 함수</h2></td></tr>
<tr class="memitem:a525043b578e9e53547eaa65725d3217e" id="r_a525043b578e9e53547eaa65725d3217e"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_r_g_w_bucket_reshard.html#a525043b578e9e53547eaa65725d3217e">RGWBucketReshard</a> (<a class="el" href="classrgw_1_1sal_1_1_rados_store.html">rgw::sal::RadosStore</a> *_store, const <a class="el" href="struct_r_g_w_bucket_info.html">RGWBucketInfo</a> &amp;_bucket_info, const std::map&lt; std::string, bufferlist &gt; &amp;_bucket_attrs, <a class="el" href="class_r_g_w_bucket_reshard_lock.html">RGWBucketReshardLock</a> *_outer_reshard_lock)</td></tr>
<tr class="separator:a525043b578e9e53547eaa65725d3217e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a319abfcc0f8c0486af32cb2ba23f1ee7" id="r_a319abfcc0f8c0486af32cb2ba23f1ee7"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_r_g_w_bucket_reshard.html#a319abfcc0f8c0486af32cb2ba23f1ee7">execute</a> (int num_shards, int max_op_entries, const DoutPrefixProvider *<a class="el" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>, bool verbose=false, std::ostream *out=nullptr, Formatter *formatter=nullptr, <a class="el" href="class_r_g_w_reshard.html">RGWReshard</a> *reshard_log=nullptr)</td></tr>
<tr class="separator:a319abfcc0f8c0486af32cb2ba23f1ee7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7275c5f2d27fa8ac8f8db05aa6dc7066" id="r_a7275c5f2d27fa8ac8f8db05aa6dc7066"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_r_g_w_bucket_reshard.html#a7275c5f2d27fa8ac8f8db05aa6dc7066">get_status</a> (const DoutPrefixProvider *<a class="el" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>, std::list&lt; cls_rgw_bucket_instance_entry &gt; *status)</td></tr>
<tr class="separator:a7275c5f2d27fa8ac8f8db05aa6dc7066"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7fc0412dd4bac9b1efccc39ee5d71836" id="r_a7fc0412dd4bac9b1efccc39ee5d71836"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_r_g_w_bucket_reshard.html#a7fc0412dd4bac9b1efccc39ee5d71836">cancel</a> (const DoutPrefixProvider *<a class="el" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>)</td></tr>
<tr class="separator:a7fc0412dd4bac9b1efccc39ee5d71836"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abe3b5cb06833591addb7e5108481a0bf" id="r_abe3b5cb06833591addb7e5108481a0bf"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_r_g_w_bucket_reshard.html#abe3b5cb06833591addb7e5108481a0bf">clear_resharding</a> (const DoutPrefixProvider *<a class="el" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>)</td></tr>
<tr class="separator:abe3b5cb06833591addb7e5108481a0bf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac8b732cd96fc3fb512af627bcefcb6b0" id="r_ac8b732cd96fc3fb512af627bcefcb6b0"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_r_g_w_bucket_reshard.html#ac8b732cd96fc3fb512af627bcefcb6b0">clear_index_shard_reshard_status</a> (const DoutPrefixProvider *<a class="el" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>)</td></tr>
<tr class="separator:ac8b732cd96fc3fb512af627bcefcb6b0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a80cb46ef72372674f8b8dfcb6a94693a" id="r_a80cb46ef72372674f8b8dfcb6a94693a"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_r_g_w_bucket_reshard.html#a80cb46ef72372674f8b8dfcb6a94693a">set_resharding_status</a> (const DoutPrefixProvider *<a class="el" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>, const std::string &amp;new_instance_id, int32_t num_shards, cls_rgw_reshard_status status)</td></tr>
<tr class="separator:a80cb46ef72372674f8b8dfcb6a94693a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-static-methods" name="pub-static-methods"></a>
정적 Public 멤버 함수</h2></td></tr>
<tr class="memitem:a7a31258875317e70e25532ec462d64f9" id="r_a7a31258875317e70e25532ec462d64f9"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_r_g_w_bucket_reshard.html#a7a31258875317e70e25532ec462d64f9">clear_resharding</a> (const DoutPrefixProvider *<a class="el" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>, <a class="el" href="classrgw_1_1sal_1_1_rados_store.html">rgw::sal::RadosStore</a> *<a class="el" href="class_r_g_w_bucket_reshard.html#a4f6af5db7fa4c14beaaa211aa4cd7b66">store</a>, const <a class="el" href="struct_r_g_w_bucket_info.html">RGWBucketInfo</a> &amp;<a class="el" href="class_r_g_w_bucket_reshard.html#a9a80fd0006cbe73ed86fbea20e198b67">bucket_info</a>)</td></tr>
<tr class="separator:a7a31258875317e70e25532ec462d64f9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9733156e6b004c4df0ed5965cf423c03" id="r_a9733156e6b004c4df0ed5965cf423c03"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_r_g_w_bucket_reshard.html#a9733156e6b004c4df0ed5965cf423c03">clear_index_shard_reshard_status</a> (const DoutPrefixProvider *<a class="el" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>, <a class="el" href="classrgw_1_1sal_1_1_rados_store.html">rgw::sal::RadosStore</a> *<a class="el" href="class_r_g_w_bucket_reshard.html#a4f6af5db7fa4c14beaaa211aa4cd7b66">store</a>, const <a class="el" href="struct_r_g_w_bucket_info.html">RGWBucketInfo</a> &amp;<a class="el" href="class_r_g_w_bucket_reshard.html#a9a80fd0006cbe73ed86fbea20e198b67">bucket_info</a>)</td></tr>
<tr class="separator:a9733156e6b004c4df0ed5965cf423c03"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afcd76a86d4c925fec30237644c58cf12" id="r_afcd76a86d4c925fec30237644c58cf12"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_r_g_w_bucket_reshard.html#afcd76a86d4c925fec30237644c58cf12">set_resharding_status</a> (const DoutPrefixProvider *<a class="el" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>, <a class="el" href="classrgw_1_1sal_1_1_rados_store.html">rgw::sal::RadosStore</a> *<a class="el" href="class_r_g_w_bucket_reshard.html#a4f6af5db7fa4c14beaaa211aa4cd7b66">store</a>, const <a class="el" href="struct_r_g_w_bucket_info.html">RGWBucketInfo</a> &amp;<a class="el" href="class_r_g_w_bucket_reshard.html#a9a80fd0006cbe73ed86fbea20e198b67">bucket_info</a>, const std::string &amp;new_instance_id, int32_t num_shards, cls_rgw_reshard_status status)</td></tr>
<tr class="separator:afcd76a86d4c925fec30237644c58cf12"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4a8596c53fec1467ab183c8be9f86a42" id="r_a4a8596c53fec1467ab183c8be9f86a42"><td class="memItemLeft" align="right" valign="top">static uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_r_g_w_bucket_reshard.html#a4a8596c53fec1467ab183c8be9f86a42">get_max_prime_shards</a> ()</td></tr>
<tr class="separator:a4a8596c53fec1467ab183c8be9f86a42"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad3f326fa8a7828800e7b6722ac835b9c" id="r_ad3f326fa8a7828800e7b6722ac835b9c"><td class="memItemLeft" align="right" valign="top">static uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_r_g_w_bucket_reshard.html#ad3f326fa8a7828800e7b6722ac835b9c">get_prime_shards_less_or_equal</a> (uint32_t requested_shards)</td></tr>
<tr class="separator:ad3f326fa8a7828800e7b6722ac835b9c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae5cf98fad9af6738c30143dd0e3fcea1" id="r_ae5cf98fad9af6738c30143dd0e3fcea1"><td class="memItemLeft" align="right" valign="top">static uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_r_g_w_bucket_reshard.html#ae5cf98fad9af6738c30143dd0e3fcea1">get_prime_shards_greater_or_equal</a> (uint32_t requested_shards)</td></tr>
<tr class="separator:ae5cf98fad9af6738c30143dd0e3fcea1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2b01b95bc8107bdadcba8969864f3f1b" id="r_a2b01b95bc8107bdadcba8969864f3f1b"><td class="memItemLeft" align="right" valign="top">static uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_r_g_w_bucket_reshard.html#a2b01b95bc8107bdadcba8969864f3f1b">get_preferred_shards</a> (uint32_t suggested_shards, uint32_t max_dynamic_shards)</td></tr>
<tr class="separator:a2b01b95bc8107bdadcba8969864f3f1b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pri-methods" name="pri-methods"></a>
Private 멤버 함수</h2></td></tr>
<tr class="memitem:aaef2e13273e7f5de5e42a0e1194755ba" id="r_aaef2e13273e7f5de5e42a0e1194755ba"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_r_g_w_bucket_reshard.html#aaef2e13273e7f5de5e42a0e1194755ba">create_new_bucket_instance</a> (int new_num_shards, <a class="el" href="struct_r_g_w_bucket_info.html">RGWBucketInfo</a> &amp;new_bucket_info, const DoutPrefixProvider *<a class="el" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>)</td></tr>
<tr class="separator:aaef2e13273e7f5de5e42a0e1194755ba"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae588c08f572694b006c9ceae3e75b3f1" id="r_ae588c08f572694b006c9ceae3e75b3f1"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_r_g_w_bucket_reshard.html#ae588c08f572694b006c9ceae3e75b3f1">do_reshard</a> (int num_shards, <a class="el" href="struct_r_g_w_bucket_info.html">RGWBucketInfo</a> &amp;new_bucket_info, int max_entries, bool verbose, std::ostream *os, Formatter *formatter, const DoutPrefixProvider *<a class="el" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>)</td></tr>
<tr class="separator:ae588c08f572694b006c9ceae3e75b3f1"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pri-attribs" name="pri-attribs"></a>
Private 속성</h2></td></tr>
<tr class="memitem:a4f6af5db7fa4c14beaaa211aa4cd7b66" id="r_a4f6af5db7fa4c14beaaa211aa4cd7b66"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classrgw_1_1sal_1_1_rados_store.html">rgw::sal::RadosStore</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_r_g_w_bucket_reshard.html#a4f6af5db7fa4c14beaaa211aa4cd7b66">store</a></td></tr>
<tr class="separator:a4f6af5db7fa4c14beaaa211aa4cd7b66"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9a80fd0006cbe73ed86fbea20e198b67" id="r_a9a80fd0006cbe73ed86fbea20e198b67"><td class="memItemLeft" align="right" valign="top"><a class="el" href="struct_r_g_w_bucket_info.html">RGWBucketInfo</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_r_g_w_bucket_reshard.html#a9a80fd0006cbe73ed86fbea20e198b67">bucket_info</a></td></tr>
<tr class="separator:a9a80fd0006cbe73ed86fbea20e198b67"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa7cdab7c31eb7eb4652a335e0c5cdcfe" id="r_aa7cdab7c31eb7eb4652a335e0c5cdcfe"><td class="memItemLeft" align="right" valign="top">std::map&lt; std::string, bufferlist &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_r_g_w_bucket_reshard.html#aa7cdab7c31eb7eb4652a335e0c5cdcfe">bucket_attrs</a></td></tr>
<tr class="separator:aa7cdab7c31eb7eb4652a335e0c5cdcfe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad0deed6306d9a0324d10d0d20f3f1059" id="r_ad0deed6306d9a0324d10d0d20f3f1059"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_r_g_w_bucket_reshard_lock.html">RGWBucketReshardLock</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_r_g_w_bucket_reshard.html#ad0deed6306d9a0324d10d0d20f3f1059">reshard_lock</a></td></tr>
<tr class="separator:ad0deed6306d9a0324d10d0d20f3f1059"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a934de5bc39e4398daffeb3c93a430e6e" id="r_a934de5bc39e4398daffeb3c93a430e6e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_r_g_w_bucket_reshard_lock.html">RGWBucketReshardLock</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_r_g_w_bucket_reshard.html#a934de5bc39e4398daffeb3c93a430e6e">outer_reshard_lock</a></td></tr>
<tr class="separator:a934de5bc39e4398daffeb3c93a430e6e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pri-static-attribs" name="pri-static-attribs"></a>
정적 Private 속성</h2></td></tr>
<tr class="memitem:a54e2b3f71c196d4f9c71b1b437d0ecdd" id="r_a54e2b3f71c196d4f9c71b1b437d0ecdd"><td class="memItemLeft" align="right" valign="top">static const std::initializer_list&lt; uint16_t &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_r_g_w_bucket_reshard.html#a54e2b3f71c196d4f9c71b1b437d0ecdd">reshard_primes</a></td></tr>
<tr class="separator:a54e2b3f71c196d4f9c71b1b437d0ecdd"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="friends" name="friends"></a>
Friends</h2></td></tr>
<tr class="memitem:af4009af0b53e8abac660836178c8069a" id="r_af4009af0b53e8abac660836178c8069a"><td class="memItemLeft" align="right" valign="top">class&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_r_g_w_bucket_reshard.html#af4009af0b53e8abac660836178c8069a">RGWReshard</a></td></tr>
<tr class="separator:af4009af0b53e8abac660836178c8069a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">상세한 설명</h2>
<div class="textblock">
<p class="definition"><a class="el" href="rgw__reshard_8h_source.html">rgw_reshard.h</a> 파일의 <a class="el" href="rgw__reshard_8h_source.html#l00067">67</a> 번째 라인에서 정의되었습니다.</p>
</div><h2 class="groupheader">멤버 타입정의 문서화</h2>
<a id="abf3eaab6bf38fc5c6ea480e3a41e59e9" name="abf3eaab6bf38fc5c6ea480e3a41e59e9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abf3eaab6bf38fc5c6ea480e3a41e59e9">&#9670;&#160;</a></span>Clock</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">using <a class="el" href="class_r_g_w_bucket_reshard.html#abf3eaab6bf38fc5c6ea480e3a41e59e9">RGWBucketReshard::Clock</a> =  ceph::coarse_mono_clock</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition"><a class="el" href="rgw__reshard_8h_source.html">rgw_reshard.h</a> 파일의 <a class="el" href="rgw__reshard_8h_source.html#l00072">72</a> 번째 라인에서 정의되었습니다.</p>

</div>
</div>
<h2 class="groupheader">생성자 &amp; 소멸자 문서화</h2>
<a id="a525043b578e9e53547eaa65725d3217e" name="a525043b578e9e53547eaa65725d3217e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a525043b578e9e53547eaa65725d3217e">&#9670;&#160;</a></span>RGWBucketReshard()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">RGWBucketReshard::RGWBucketReshard </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classrgw_1_1sal_1_1_rados_store.html">rgw::sal::RadosStore</a> *&#160;</td>
          <td class="paramname"><em>_store</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="struct_r_g_w_bucket_info.html">RGWBucketInfo</a> &amp;&#160;</td>
          <td class="paramname"><em>_bucket_info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::map&lt; std::string, bufferlist &gt; &amp;&#160;</td>
          <td class="paramname"><em>_bucket_attrs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_r_g_w_bucket_reshard_lock.html">RGWBucketReshardLock</a> *&#160;</td>
          <td class="paramname"><em>_outer_reshard_lock</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition"><a class="el" href="rgw__reshard_8cc_source.html">rgw_reshard.cc</a> 파일의 <a class="el" href="rgw__reshard_8cc_source.html#l00255">255</a> 번째 라인에서 정의되었습니다.</p>
<div class="fragment"><div class="line"><span class="lineno">  258</span>                                                              :</div>
<div class="line"><span class="lineno">  259</span>  <a class="code hl_variable" href="class_r_g_w_bucket_reshard.html#a4f6af5db7fa4c14beaaa211aa4cd7b66">store</a>(_store), <a class="code hl_variable" href="class_r_g_w_bucket_reshard.html#a9a80fd0006cbe73ed86fbea20e198b67">bucket_info</a>(_bucket_info), <a class="code hl_variable" href="class_r_g_w_bucket_reshard.html#aa7cdab7c31eb7eb4652a335e0c5cdcfe">bucket_attrs</a>(_bucket_attrs),</div>
<div class="line"><span class="lineno">  260</span>  <a class="code hl_variable" href="class_r_g_w_bucket_reshard.html#ad0deed6306d9a0324d10d0d20f3f1059">reshard_lock</a>(<a class="code hl_variable" href="class_r_g_w_bucket_reshard.html#a4f6af5db7fa4c14beaaa211aa4cd7b66">store</a>, <a class="code hl_variable" href="class_r_g_w_bucket_reshard.html#a9a80fd0006cbe73ed86fbea20e198b67">bucket_info</a>, <span class="keyword">true</span>),</div>
<div class="line"><span class="lineno">  261</span>  <a class="code hl_variable" href="class_r_g_w_bucket_reshard.html#a934de5bc39e4398daffeb3c93a430e6e">outer_reshard_lock</a>(_outer_reshard_lock)</div>
<div class="line"><span class="lineno">  262</span>{ }</div>
<div class="ttc" id="aclass_r_g_w_bucket_reshard_html_a4f6af5db7fa4c14beaaa211aa4cd7b66"><div class="ttname"><a href="class_r_g_w_bucket_reshard.html#a4f6af5db7fa4c14beaaa211aa4cd7b66">RGWBucketReshard::store</a></div><div class="ttdeci">rgw::sal::RadosStore * store</div><div class="ttdef"><b>Definition</b> <a href="rgw__reshard_8h_source.html#l00076">rgw_reshard.h:76</a></div></div>
<div class="ttc" id="aclass_r_g_w_bucket_reshard_html_a934de5bc39e4398daffeb3c93a430e6e"><div class="ttname"><a href="class_r_g_w_bucket_reshard.html#a934de5bc39e4398daffeb3c93a430e6e">RGWBucketReshard::outer_reshard_lock</a></div><div class="ttdeci">RGWBucketReshardLock * outer_reshard_lock</div><div class="ttdef"><b>Definition</b> <a href="rgw__reshard_8h_source.html#l00081">rgw_reshard.h:81</a></div></div>
<div class="ttc" id="aclass_r_g_w_bucket_reshard_html_a9a80fd0006cbe73ed86fbea20e198b67"><div class="ttname"><a href="class_r_g_w_bucket_reshard.html#a9a80fd0006cbe73ed86fbea20e198b67">RGWBucketReshard::bucket_info</a></div><div class="ttdeci">RGWBucketInfo bucket_info</div><div class="ttdef"><b>Definition</b> <a href="rgw__reshard_8h_source.html#l00077">rgw_reshard.h:77</a></div></div>
<div class="ttc" id="aclass_r_g_w_bucket_reshard_html_aa7cdab7c31eb7eb4652a335e0c5cdcfe"><div class="ttname"><a href="class_r_g_w_bucket_reshard.html#aa7cdab7c31eb7eb4652a335e0c5cdcfe">RGWBucketReshard::bucket_attrs</a></div><div class="ttdeci">std::map&lt; std::string, bufferlist &gt; bucket_attrs</div><div class="ttdef"><b>Definition</b> <a href="rgw__reshard_8h_source.html#l00078">rgw_reshard.h:78</a></div></div>
<div class="ttc" id="aclass_r_g_w_bucket_reshard_html_ad0deed6306d9a0324d10d0d20f3f1059"><div class="ttname"><a href="class_r_g_w_bucket_reshard.html#ad0deed6306d9a0324d10d0d20f3f1059">RGWBucketReshard::reshard_lock</a></div><div class="ttdeci">RGWBucketReshardLock reshard_lock</div><div class="ttdef"><b>Definition</b> <a href="rgw__reshard_8h_source.html#l00080">rgw_reshard.h:80</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">멤버 함수 문서화</h2>
<a id="a7fc0412dd4bac9b1efccc39ee5d71836" name="a7fc0412dd4bac9b1efccc39ee5d71836"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7fc0412dd4bac9b1efccc39ee5d71836">&#9670;&#160;</a></span>cancel()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int RGWBucketReshard::cancel </td>
          <td>(</td>
          <td class="paramtype">const DoutPrefixProvider *&#160;</td>
          <td class="paramname"><em>dpp</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition"><a class="el" href="rgw__reshard_8cc_source.html">rgw_reshard.cc</a> 파일의 <a class="el" href="rgw__reshard_8cc_source.html#l00371">371</a> 번째 라인에서 정의되었습니다.</p>
<div class="fragment"><div class="line"><span class="lineno">  372</span>{</div>
<div class="line"><span class="lineno">  373</span>  <span class="keywordtype">int</span> ret = <a class="code hl_variable" href="class_r_g_w_bucket_reshard.html#ad0deed6306d9a0324d10d0d20f3f1059">reshard_lock</a>.<a class="code hl_function" href="class_r_g_w_bucket_reshard_lock.html#a61fea80ba6140750a63d86e9878286cb">lock</a>(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>);</div>
<div class="line"><span class="lineno">  374</span>  <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno">  375</span>    <span class="keywordflow">return</span> ret;</div>
<div class="line"><span class="lineno">  376</span>  }</div>
<div class="line"><span class="lineno">  377</span> </div>
<div class="line"><span class="lineno">  378</span>  ret = <a class="code hl_function" href="class_r_g_w_bucket_reshard.html#a7a31258875317e70e25532ec462d64f9">clear_resharding</a>(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>);</div>
<div class="line"><span class="lineno">  379</span> </div>
<div class="line"><span class="lineno">  380</span>  <a class="code hl_variable" href="class_r_g_w_bucket_reshard.html#ad0deed6306d9a0324d10d0d20f3f1059">reshard_lock</a>.<a class="code hl_function" href="class_r_g_w_bucket_reshard_lock.html#a678aa004403478a16cf2974f542fbba6">unlock</a>();</div>
<div class="line"><span class="lineno">  381</span>  <span class="keywordflow">return</span> ret;</div>
<div class="line"><span class="lineno">  382</span>}</div>
<div class="ttc" id="aclass_r_g_w_bucket_reshard_html_a7a31258875317e70e25532ec462d64f9"><div class="ttname"><a href="class_r_g_w_bucket_reshard.html#a7a31258875317e70e25532ec462d64f9">RGWBucketReshard::clear_resharding</a></div><div class="ttdeci">static int clear_resharding(const DoutPrefixProvider *dpp, rgw::sal::RadosStore *store, const RGWBucketInfo &amp;bucket_info)</div><div class="ttdef"><b>Definition</b> <a href="rgw__reshard_8cc_source.html#l00289">rgw_reshard.cc:289</a></div></div>
<div class="ttc" id="aclass_r_g_w_bucket_reshard_lock_html_a61fea80ba6140750a63d86e9878286cb"><div class="ttname"><a href="class_r_g_w_bucket_reshard_lock.html#a61fea80ba6140750a63d86e9878286cb">RGWBucketReshardLock::lock</a></div><div class="ttdeci">int lock(const DoutPrefixProvider *dpp)</div><div class="ttdef"><b>Definition</b> <a href="rgw__reshard_8cc_source.html#l00474">rgw_reshard.cc:474</a></div></div>
<div class="ttc" id="aclass_r_g_w_bucket_reshard_lock_html_a678aa004403478a16cf2974f542fbba6"><div class="ttname"><a href="class_r_g_w_bucket_reshard_lock.html#a678aa004403478a16cf2974f542fbba6">RGWBucketReshardLock::unlock</a></div><div class="ttdeci">void unlock()</div><div class="ttdef"><b>Definition</b> <a href="rgw__reshard_8cc_source.html#l00502">rgw_reshard.cc:502</a></div></div>
<div class="ttc" id="argw__admin_8cc_html_afe3e74bcdf0327f8777c02b83cfea5b5"><div class="ttname"><a href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a></div><div class="ttdeci">static const DoutPrefixProvider * dpp()</div><div class="ttdef"><b>Definition</b> <a href="rgw__admin_8cc_source.html#l00081">rgw_admin.cc:81</a></div></div>
</div><!-- fragment --><div class="dynheader">
이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="class_r_g_w_bucket_reshard_a7fc0412dd4bac9b1efccc39ee5d71836_cgraph.png" border="0" usemap="#aclass_r_g_w_bucket_reshard_a7fc0412dd4bac9b1efccc39ee5d71836_cgraph" alt=""/></div>
<map name="aclass_r_g_w_bucket_reshard_a7fc0412dd4bac9b1efccc39ee5d71836_cgraph" id="aclass_r_g_w_bucket_reshard_a7fc0412dd4bac9b1efccc39ee5d71836_cgraph">
<area shape="rect" title=" " alt="" coords="5,97,194,124"/>
<area shape="rect" href="class_r_g_w_bucket_reshard.html#a7a31258875317e70e25532ec462d64f9" title=" " alt="" coords="242,56,420,99"/>
<area shape="poly" title=" " alt="" coords="193,94,226,90,226,95,194,100"/>
<area shape="rect" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5" title=" " alt="" coords="745,5,788,32"/>
<area shape="poly" title=" " alt="" coords="123,95,175,67,241,41,310,25,380,14,520,4,643,6,730,12,730,18,642,11,520,10,381,19,311,30,242,47,178,72,125,99"/>
<area shape="rect" href="class_r_g_w_bucket_reshard_lock.html#a61fea80ba6140750a63d86e9878286cb" title=" " alt="" coords="246,189,416,232"/>
<area shape="poly" title=" " alt="" coords="130,122,243,175,257,181,255,186,241,180,127,127"/>
<area shape="rect" href="class_r_g_w_bucket_reshard_lock.html#a678aa004403478a16cf2974f542fbba6" title=" " alt="" coords="246,123,416,165"/>
<area shape="poly" title=" " alt="" coords="194,122,230,127,230,132,193,127"/>
<area shape="rect" href="class_r_g_w_rados.html#a906e23c836f08ac9adb5ab730f3d1928" title=" " alt="" coords="472,56,634,99"/>
<area shape="poly" title=" " alt="" coords="420,75,456,75,456,80,420,80"/>
<area shape="poly" title=" " alt="" coords="412,53,468,41,613,24,730,17,730,23,613,30,468,47,413,58"/>
<area shape="rect" href="classrgw_1_1sal_1_1_rados_store.html#aca5c28bc0f22f3f963d0475b594350e1" title=" " alt="" coords="482,123,624,165"/>
<area shape="poly" title=" " alt="" coords="405,97,468,116,467,121,403,102"/>
<area shape="poly" title=" " alt="" coords="632,53,730,26,731,31,634,58"/>
<area shape="rect" href="class_r_g_w_s_i___r_a_d_o_s_1_1_pool.html#a93e7513947d59965733e309d18e7b192" title=" " alt="" coords="686,56,847,99"/>
<area shape="poly" title=" " alt="" coords="635,75,671,75,671,80,635,80"/>
<area shape="poly" title=" " alt="" coords="361,230,417,268,452,287,490,303,529,314,567,318,604,311,637,293,660,265,670,237,669,206,664,175,659,142,657,109,664,75,684,42,705,27,729,19,731,24,708,32,688,46,669,77,662,109,664,141,670,174,675,206,675,237,665,268,640,297,605,316,567,323,528,320,488,308,450,292,414,273,358,235"/>
<area shape="poly" title=" " alt="" coords="403,186,467,167,468,172,405,191"/>
<area shape="rect" href="classrgw_1_1sal_1_1_rados_store.html#aabf846e99f9f01172f86ce5e7fb1ed5b" title=" " alt="" coords="469,189,637,216"/>
<area shape="poly" title=" " alt="" coords="416,205,453,204,454,209,417,210"/>
<area shape="rect" href="class_r_g_w_bucket_reshard_lock.html#aeca8f8183756ddb2f82f67e954ecc0cf" title=" " alt="" coords="468,240,638,283"/>
<area shape="poly" title=" " alt="" coords="417,228,453,236,452,241,416,233"/>
<area shape="rect" href="class_r_g_w_rados.html#afd08a0b75dba3b0234ff468fca0a0c70" title=" " alt="" coords="708,189,825,216"/>
<area shape="poly" title=" " alt="" coords="638,200,693,200,693,205,638,205"/>
<area shape="poly" title=" " alt="" coords="416,141,467,141,467,147,416,147"/>
<area shape="poly" title=" " alt="" coords="415,163,486,182,485,188,413,168"/>
</map>
</div>
<div class="dynheader">
이 함수를 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="class_r_g_w_bucket_reshard_a7fc0412dd4bac9b1efccc39ee5d71836_icgraph.png" border="0" usemap="#aclass_r_g_w_bucket_reshard_a7fc0412dd4bac9b1efccc39ee5d71836_icgraph" alt=""/></div>
<map name="aclass_r_g_w_bucket_reshard_a7fc0412dd4bac9b1efccc39ee5d71836_icgraph" id="aclass_r_g_w_bucket_reshard_a7fc0412dd4bac9b1efccc39ee5d71836_icgraph">
<area shape="rect" title=" " alt="" coords="103,5,291,32"/>
<area shape="rect" href="rgw__admin_8cc.html#a217dbf8b442f20279ea00b898af96f52" title=" " alt="" coords="5,5,55,32"/>
<area shape="poly" title=" " alt="" coords="87,21,55,21,55,16,87,16"/>
</map>
</div>

</div>
</div>
<a id="ac8b732cd96fc3fb512af627bcefcb6b0" name="ac8b732cd96fc3fb512af627bcefcb6b0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac8b732cd96fc3fb512af627bcefcb6b0">&#9670;&#160;</a></span>clear_index_shard_reshard_status() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int RGWBucketReshard::clear_index_shard_reshard_status </td>
          <td>(</td>
          <td class="paramtype">const DoutPrefixProvider *&#160;</td>
          <td class="paramname"><em>dpp</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition"><a class="el" href="rgw__reshard_8h_source.html">rgw_reshard.h</a> 파일의 <a class="el" href="rgw__reshard_8h_source.html#l00120">120</a> 번째 라인에서 정의되었습니다.</p>
<div class="fragment"><div class="line"><span class="lineno">  120</span>                                                                      {</div>
<div class="line"><span class="lineno">  121</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="class_r_g_w_bucket_reshard.html#a9733156e6b004c4df0ed5965cf423c03">clear_index_shard_reshard_status</a>(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>, <a class="code hl_variable" href="class_r_g_w_bucket_reshard.html#a4f6af5db7fa4c14beaaa211aa4cd7b66">store</a>, <a class="code hl_variable" href="class_r_g_w_bucket_reshard.html#a9a80fd0006cbe73ed86fbea20e198b67">bucket_info</a>);</div>
<div class="line"><span class="lineno">  122</span>  }</div>
<div class="ttc" id="aclass_r_g_w_bucket_reshard_html_a9733156e6b004c4df0ed5965cf423c03"><div class="ttname"><a href="class_r_g_w_bucket_reshard.html#a9733156e6b004c4df0ed5965cf423c03">RGWBucketReshard::clear_index_shard_reshard_status</a></div><div class="ttdeci">static int clear_index_shard_reshard_status(const DoutPrefixProvider *dpp, rgw::sal::RadosStore *store, const RGWBucketInfo &amp;bucket_info)</div><div class="ttdef"><b>Definition</b> <a href="rgw__reshard_8cc_source.html#l00309">rgw_reshard.cc:309</a></div></div>
</div><!-- fragment --><div class="dynheader">
이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="class_r_g_w_bucket_reshard_ac8b732cd96fc3fb512af627bcefcb6b0_cgraph.png" border="0" usemap="#aclass_r_g_w_bucket_reshard_ac8b732cd96fc3fb512af627bcefcb6b0_cgraph" alt=""/></div>
<map name="aclass_r_g_w_bucket_reshard_ac8b732cd96fc3fb512af627bcefcb6b0_cgraph" id="aclass_r_g_w_bucket_reshard_ac8b732cd96fc3fb512af627bcefcb6b0_cgraph">
<area shape="rect" title=" " alt="" coords="5,27,197,69"/>
<area shape="rect" href="class_r_g_w_bucket_reshard.html#a9733156e6b004c4df0ed5965cf423c03" title=" " alt="" coords="245,56,436,99"/>
<area shape="poly" title=" " alt="" coords="198,57,229,61,229,66,197,62"/>
<area shape="rect" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5" title=" " alt="" coords="547,5,589,32"/>
<area shape="poly" title=" " alt="" coords="197,39,531,18,531,24,197,45"/>
<area shape="poly" title=" " alt="" coords="425,53,531,25,532,30,426,58"/>
<area shape="rect" href="class_r_g_w_bucket_reshard.html#afcd76a86d4c925fec30237644c58cf12" title=" " alt="" coords="484,56,652,99"/>
<area shape="poly" title=" " alt="" coords="437,75,468,75,468,80,437,80"/>
</map>
</div>

</div>
</div>
<a id="a9733156e6b004c4df0ed5965cf423c03" name="a9733156e6b004c4df0ed5965cf423c03"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9733156e6b004c4df0ed5965cf423c03">&#9670;&#160;</a></span>clear_index_shard_reshard_status() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int RGWBucketReshard::clear_index_shard_reshard_status </td>
          <td>(</td>
          <td class="paramtype">const DoutPrefixProvider *&#160;</td>
          <td class="paramname"><em>dpp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classrgw_1_1sal_1_1_rados_store.html">rgw::sal::RadosStore</a> *&#160;</td>
          <td class="paramname"><em>store</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="struct_r_g_w_bucket_info.html">RGWBucketInfo</a> &amp;&#160;</td>
          <td class="paramname"><em>bucket_info</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition"><a class="el" href="rgw__reshard_8cc_source.html">rgw_reshard.cc</a> 파일의 <a class="el" href="rgw__reshard_8cc_source.html#l00309">309</a> 번째 라인에서 정의되었습니다.</p>
<div class="fragment"><div class="line"><span class="lineno">  312</span>{</div>
<div class="line"><span class="lineno">  313</span>  uint32_t num_shards = <a class="code hl_variable" href="class_r_g_w_bucket_reshard.html#a9a80fd0006cbe73ed86fbea20e198b67">bucket_info</a>.<a class="code hl_variable" href="struct_r_g_w_bucket_info.html#a2f1c3c04708aff00336329d2b5a6b2c0">layout</a>.<a class="code hl_variable" href="structrgw_1_1_bucket_layout.html#a21b2e627c7cfc06dfc9437d2923c1eb6">current_index</a>.<a class="code hl_variable" href="structrgw_1_1bucket__index__layout__generation.html#a79b14696bcebca917981ef684691c2a6">layout</a>.<a class="code hl_variable" href="structrgw_1_1bucket__index__layout.html#a077a0ad9c56601354155d3c860bef951">normal</a>.<a class="code hl_variable" href="structrgw_1_1bucket__index__normal__layout.html#abe639d74cb05a11985d3dd74eadc5d10">num_shards</a>;</div>
<div class="line"><span class="lineno">  314</span> </div>
<div class="line"><span class="lineno">  315</span>  <span class="keywordflow">if</span> (num_shards &lt; std::numeric_limits&lt;uint32_t&gt;::max()) {</div>
<div class="line"><span class="lineno">  316</span>    <span class="keywordtype">int</span> ret = <a class="code hl_function" href="class_r_g_w_bucket_reshard.html#afcd76a86d4c925fec30237644c58cf12">set_resharding_status</a>(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>, <a class="code hl_variable" href="class_r_g_w_bucket_reshard.html#a4f6af5db7fa4c14beaaa211aa4cd7b66">store</a>, <a class="code hl_variable" href="class_r_g_w_bucket_reshard.html#a9a80fd0006cbe73ed86fbea20e198b67">bucket_info</a>,</div>
<div class="line"><span class="lineno">  317</span>                    <a class="code hl_variable" href="class_r_g_w_bucket_reshard.html#a9a80fd0006cbe73ed86fbea20e198b67">bucket_info</a>.<a class="code hl_variable" href="struct_r_g_w_bucket_info.html#afbd8422e16061abdf72d710794ac74d4">bucket</a>.<a class="code hl_variable" href="structrgw__bucket.html#adaba18504e183a1e80d861533a81c2a1">bucket_id</a>,</div>
<div class="line"><span class="lineno">  318</span>                    (num_shards &lt; 1 ? 1 : num_shards),</div>
<div class="line"><span class="lineno">  319</span>                    cls_rgw_reshard_status::NOT_RESHARDING);</div>
<div class="line"><span class="lineno">  320</span>    <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno">  321</span>      ldpp_dout(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>, 0) &lt;&lt; <span class="stringliteral">&quot;RGWBucketReshard::&quot;</span> &lt;&lt; __func__ &lt;&lt;</div>
<div class="line"><span class="lineno">  322</span>    <span class="stringliteral">&quot; ERROR: error clearing reshard status from index shard &quot;</span> &lt;&lt;</div>
<div class="line"><span class="lineno">  323</span>    cpp_strerror(-ret) &lt;&lt; dendl;</div>
<div class="line"><span class="lineno">  324</span>      <span class="keywordflow">return</span> ret;</div>
<div class="line"><span class="lineno">  325</span>    }</div>
<div class="line"><span class="lineno">  326</span>  }</div>
<div class="line"><span class="lineno">  327</span> </div>
<div class="line"><span class="lineno">  328</span>  <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">  329</span>}</div>
<div class="ttc" id="aclass_r_g_w_bucket_reshard_html_afcd76a86d4c925fec30237644c58cf12"><div class="ttname"><a href="class_r_g_w_bucket_reshard.html#afcd76a86d4c925fec30237644c58cf12">RGWBucketReshard::set_resharding_status</a></div><div class="ttdeci">static int set_resharding_status(const DoutPrefixProvider *dpp, rgw::sal::RadosStore *store, const RGWBucketInfo &amp;bucket_info, const std::string &amp;new_instance_id, int32_t num_shards, cls_rgw_reshard_status status)</div></div>
<div class="ttc" id="astruct_r_g_w_bucket_info_html_a2f1c3c04708aff00336329d2b5a6b2c0"><div class="ttname"><a href="struct_r_g_w_bucket_info.html#a2f1c3c04708aff00336329d2b5a6b2c0">RGWBucketInfo::layout</a></div><div class="ttdeci">rgw::BucketLayout layout</div><div class="ttdef"><b>Definition</b> <a href="rgw__common_8h_source.html#l01074">rgw_common.h:1074</a></div></div>
<div class="ttc" id="astruct_r_g_w_bucket_info_html_afbd8422e16061abdf72d710794ac74d4"><div class="ttname"><a href="struct_r_g_w_bucket_info.html#afbd8422e16061abdf72d710794ac74d4">RGWBucketInfo::bucket</a></div><div class="ttdeci">rgw_bucket bucket</div><div class="ttdef"><b>Definition</b> <a href="rgw__common_8h_source.html#l01063">rgw_common.h:1063</a></div></div>
<div class="ttc" id="astructrgw_1_1_bucket_layout_html_a21b2e627c7cfc06dfc9437d2923c1eb6"><div class="ttname"><a href="structrgw_1_1_bucket_layout.html#a21b2e627c7cfc06dfc9437d2923c1eb6">rgw::BucketLayout::current_index</a></div><div class="ttdeci">bucket_index_layout_generation current_index</div><div class="ttdef"><b>Definition</b> <a href="rgw__bucket__layout_8h_source.html#l00133">rgw_bucket_layout.h:133</a></div></div>
<div class="ttc" id="astructrgw_1_1bucket__index__layout__generation_html_a79b14696bcebca917981ef684691c2a6"><div class="ttname"><a href="structrgw_1_1bucket__index__layout__generation.html#a79b14696bcebca917981ef684691c2a6">rgw::bucket_index_layout_generation::layout</a></div><div class="ttdeci">bucket_index_layout layout</div><div class="ttdef"><b>Definition</b> <a href="rgw__bucket__layout_8h_source.html#l00068">rgw_bucket_layout.h:68</a></div></div>
<div class="ttc" id="astructrgw_1_1bucket__index__layout_html_a077a0ad9c56601354155d3c860bef951"><div class="ttname"><a href="structrgw_1_1bucket__index__layout.html#a077a0ad9c56601354155d3c860bef951">rgw::bucket_index_layout::normal</a></div><div class="ttdeci">bucket_index_normal_layout normal</div><div class="ttdef"><b>Definition</b> <a href="rgw__bucket__layout_8h_source.html#l00059">rgw_bucket_layout.h:59</a></div></div>
<div class="ttc" id="astructrgw_1_1bucket__index__normal__layout_html_abe639d74cb05a11985d3dd74eadc5d10"><div class="ttname"><a href="structrgw_1_1bucket__index__normal__layout.html#abe639d74cb05a11985d3dd74eadc5d10">rgw::bucket_index_normal_layout::num_shards</a></div><div class="ttdeci">uint32_t num_shards</div><div class="ttdef"><b>Definition</b> <a href="rgw__bucket__layout_8h_source.html#l00046">rgw_bucket_layout.h:46</a></div></div>
<div class="ttc" id="astructrgw__bucket_html_adaba18504e183a1e80d861533a81c2a1"><div class="ttname"><a href="structrgw__bucket.html#adaba18504e183a1e80d861533a81c2a1">rgw_bucket::bucket_id</a></div><div class="ttdeci">std::string bucket_id</div><div class="ttdef"><b>Definition</b> <a href="rgw__basic__types_8h_source.html#l00293">rgw_basic_types.h:293</a></div></div>
</div><!-- fragment --><div class="dynheader">
이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="class_r_g_w_bucket_reshard_a9733156e6b004c4df0ed5965cf423c03_cgraph.png" border="0" usemap="#aclass_r_g_w_bucket_reshard_a9733156e6b004c4df0ed5965cf423c03_cgraph" alt=""/></div>
<map name="aclass_r_g_w_bucket_reshard_a9733156e6b004c4df0ed5965cf423c03_cgraph" id="aclass_r_g_w_bucket_reshard_a9733156e6b004c4df0ed5965cf423c03_cgraph">
<area shape="rect" title=" " alt="" coords="5,27,197,69"/>
<area shape="rect" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5" title=" " alt="" coords="308,5,350,32"/>
<area shape="poly" title=" " alt="" coords="197,33,292,21,292,26,198,38"/>
<area shape="rect" href="class_r_g_w_bucket_reshard.html#afcd76a86d4c925fec30237644c58cf12" title=" " alt="" coords="245,56,413,99"/>
<area shape="poly" title=" " alt="" coords="198,58,230,62,229,67,197,63"/>
</map>
</div>
<div class="dynheader">
이 함수를 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="class_r_g_w_bucket_reshard_a9733156e6b004c4df0ed5965cf423c03_icgraph.png" border="0" usemap="#aclass_r_g_w_bucket_reshard_a9733156e6b004c4df0ed5965cf423c03_icgraph" alt=""/></div>
<map name="aclass_r_g_w_bucket_reshard_a9733156e6b004c4df0ed5965cf423c03_icgraph" id="aclass_r_g_w_bucket_reshard_a9733156e6b004c4df0ed5965cf423c03_icgraph">
<area shape="rect" title=" " alt="" coords="245,39,436,81"/>
<area shape="rect" href="class_r_g_w_bucket_reshard.html#ac8b732cd96fc3fb512af627bcefcb6b0" title=" " alt="" coords="5,5,197,48"/>
<area shape="poly" title=" " alt="" coords="229,47,197,43,198,37,230,42"/>
<area shape="rect" href="class_bucket_info_reshard_update.html#ab0d93e19d1a7c32367d4ef83b03b15cf" title=" " alt="" coords="7,72,195,115"/>
<area shape="poly" title=" " alt="" coords="230,78,196,83,195,78,229,73"/>
</map>
</div>

</div>
</div>
<a id="abe3b5cb06833591addb7e5108481a0bf" name="abe3b5cb06833591addb7e5108481a0bf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abe3b5cb06833591addb7e5108481a0bf">&#9670;&#160;</a></span>clear_resharding() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int RGWBucketReshard::clear_resharding </td>
          <td>(</td>
          <td class="paramtype">const DoutPrefixProvider *&#160;</td>
          <td class="paramname"><em>dpp</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition"><a class="el" href="rgw__reshard_8h_source.html">rgw_reshard.h</a> 파일의 <a class="el" href="rgw__reshard_8h_source.html#l00114">114</a> 번째 라인에서 정의되었습니다.</p>
<div class="fragment"><div class="line"><span class="lineno">  114</span>                                                      {</div>
<div class="line"><span class="lineno">  115</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="class_r_g_w_bucket_reshard.html#a7a31258875317e70e25532ec462d64f9">clear_resharding</a>(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>, <a class="code hl_variable" href="class_r_g_w_bucket_reshard.html#a4f6af5db7fa4c14beaaa211aa4cd7b66">store</a>, <a class="code hl_variable" href="class_r_g_w_bucket_reshard.html#a9a80fd0006cbe73ed86fbea20e198b67">bucket_info</a>);</div>
<div class="line"><span class="lineno">  116</span>  }</div>
</div><!-- fragment --><div class="dynheader">
이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="class_r_g_w_bucket_reshard_abe3b5cb06833591addb7e5108481a0bf_cgraph.png" border="0" usemap="#aclass_r_g_w_bucket_reshard_abe3b5cb06833591addb7e5108481a0bf_cgraph" alt=""/></div>
<map name="aclass_r_g_w_bucket_reshard_abe3b5cb06833591addb7e5108481a0bf_cgraph" id="aclass_r_g_w_bucket_reshard_abe3b5cb06833591addb7e5108481a0bf_cgraph">
<area shape="rect" title=" " alt="" coords="5,5,184,48"/>
<area shape="rect" href="class_r_g_w_bucket_reshard.html#a7a31258875317e70e25532ec462d64f9" title=" " alt="" coords="232,60,410,103"/>
<area shape="poly" title=" " alt="" coords="185,46,217,54,216,59,184,51"/>
<area shape="rect" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5" title=" " alt="" coords="727,35,770,61"/>
<area shape="poly" title=" " alt="" coords="184,27,712,44,712,50,184,32"/>
<area shape="rect" href="class_r_g_w_rados.html#a906e23c836f08ac9adb5ab730f3d1928" title=" " alt="" coords="458,85,620,128"/>
<area shape="poly" title=" " alt="" coords="411,89,443,93,442,98,410,94"/>
<area shape="poly" title=" " alt="" coords="410,72,712,48,712,53,410,77"/>
<area shape="rect" href="classrgw_1_1sal_1_1_rados_store.html#aca5c28bc0f22f3f963d0475b594350e1" title=" " alt="" coords="468,152,610,195"/>
<area shape="poly" title=" " alt="" coords="373,101,459,138,472,143,470,148,457,142,371,106"/>
<area shape="poly" title=" " alt="" coords="617,82,711,55,713,61,618,87"/>
<area shape="rect" href="class_r_g_w_s_i___r_a_d_o_s_1_1_pool.html#a93e7513947d59965733e309d18e7b192" title=" " alt="" coords="668,85,829,128"/>
<area shape="poly" title=" " alt="" coords="621,104,653,104,653,109,621,109"/>
</map>
</div>

</div>
</div>
<a id="a7a31258875317e70e25532ec462d64f9" name="a7a31258875317e70e25532ec462d64f9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7a31258875317e70e25532ec462d64f9">&#9670;&#160;</a></span>clear_resharding() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int RGWBucketReshard::clear_resharding </td>
          <td>(</td>
          <td class="paramtype">const DoutPrefixProvider *&#160;</td>
          <td class="paramname"><em>dpp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classrgw_1_1sal_1_1_rados_store.html">rgw::sal::RadosStore</a> *&#160;</td>
          <td class="paramname"><em>store</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="struct_r_g_w_bucket_info.html">RGWBucketInfo</a> &amp;&#160;</td>
          <td class="paramname"><em>bucket_info</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition"><a class="el" href="rgw__reshard_8cc_source.html">rgw_reshard.cc</a> 파일의 <a class="el" href="rgw__reshard_8cc_source.html#l00289">289</a> 번째 라인에서 정의되었습니다.</p>
<div class="fragment"><div class="line"><span class="lineno">  292</span>{</div>
<div class="line"><span class="lineno">  293</span>  <span class="keywordtype">int</span> ret;</div>
<div class="line"><span class="lineno">  294</span> </div>
<div class="line"><span class="lineno">  295</span>  <span class="comment">// default constructed = NOT_RESHARDING</span></div>
<div class="line"><span class="lineno">  296</span>  cls_rgw_bucket_instance_entry instance_entry;</div>
<div class="line"><span class="lineno">  297</span> </div>
<div class="line"><span class="lineno">  298</span>  ret = <a class="code hl_variable" href="class_r_g_w_bucket_reshard.html#a4f6af5db7fa4c14beaaa211aa4cd7b66">store</a>-&gt;<a class="code hl_function" href="classrgw_1_1sal_1_1_rados_store.html#aca5c28bc0f22f3f963d0475b594350e1">getRados</a>()-&gt;<a class="code hl_function" href="class_r_g_w_rados.html#a906e23c836f08ac9adb5ab730f3d1928">bucket_set_reshard</a>(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>, <a class="code hl_variable" href="class_r_g_w_bucket_reshard.html#a9a80fd0006cbe73ed86fbea20e198b67">bucket_info</a>, instance_entry);</div>
<div class="line"><span class="lineno">  299</span>  <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno">  300</span>    ldpp_dout(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>, 0) &lt;&lt; <span class="stringliteral">&quot;RGWReshard::&quot;</span> &lt;&lt; __func__ &lt;&lt;</div>
<div class="line"><span class="lineno">  301</span>      <span class="stringliteral">&quot; ERROR: error setting bucket resharding flag on bucket index: &quot;</span> &lt;&lt;</div>
<div class="line"><span class="lineno">  302</span>      cpp_strerror(-ret) &lt;&lt; dendl;</div>
<div class="line"><span class="lineno">  303</span>    <span class="keywordflow">return</span> ret;</div>
<div class="line"><span class="lineno">  304</span>  }</div>
<div class="line"><span class="lineno">  305</span> </div>
<div class="line"><span class="lineno">  306</span>  <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">  307</span>}</div>
<div class="ttc" id="aclass_r_g_w_rados_html_a906e23c836f08ac9adb5ab730f3d1928"><div class="ttname"><a href="class_r_g_w_rados.html#a906e23c836f08ac9adb5ab730f3d1928">RGWRados::bucket_set_reshard</a></div><div class="ttdeci">int bucket_set_reshard(const DoutPrefixProvider *dpp, const RGWBucketInfo &amp;bucket_info, const cls_rgw_bucket_instance_entry &amp;entry)</div><div class="ttdef"><b>Definition</b> <a href="rgw__rados_8cc_source.html#l05077">rgw_rados.cc:5077</a></div></div>
<div class="ttc" id="aclassrgw_1_1sal_1_1_rados_store_html_aca5c28bc0f22f3f963d0475b594350e1"><div class="ttname"><a href="classrgw_1_1sal_1_1_rados_store.html#aca5c28bc0f22f3f963d0475b594350e1">rgw::sal::RadosStore::getRados</a></div><div class="ttdeci">RGWRados * getRados(void)</div><div class="ttdef"><b>Definition</b> <a href="rgw__sal__rados_8h_source.html#l00499">rgw_sal_rados.h:499</a></div></div>
</div><!-- fragment --><div class="dynheader">
이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="class_r_g_w_bucket_reshard_a7a31258875317e70e25532ec462d64f9_cgraph.png" border="0" usemap="#aclass_r_g_w_bucket_reshard_a7a31258875317e70e25532ec462d64f9_cgraph" alt=""/></div>
<map name="aclass_r_g_w_bucket_reshard_a7a31258875317e70e25532ec462d64f9_cgraph" id="aclass_r_g_w_bucket_reshard_a7a31258875317e70e25532ec462d64f9_cgraph">
<area shape="rect" title=" " alt="" coords="5,56,184,99"/>
<area shape="rect" href="class_r_g_w_rados.html#a906e23c836f08ac9adb5ab730f3d1928" title=" " alt="" coords="232,56,394,99"/>
<area shape="poly" title=" " alt="" coords="184,75,216,75,216,80,184,80"/>
<area shape="rect" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5" title=" " alt="" coords="501,5,543,32"/>
<area shape="poly" title=" " alt="" coords="176,53,231,41,372,25,485,17,485,23,372,30,232,47,177,58"/>
<area shape="rect" href="classrgw_1_1sal_1_1_rados_store.html#aca5c28bc0f22f3f963d0475b594350e1" title=" " alt="" coords="242,123,384,165"/>
<area shape="poly" title=" " alt="" coords="167,97,228,115,226,120,166,102"/>
<area shape="poly" title=" " alt="" coords="390,53,485,26,486,31,392,58"/>
<area shape="rect" href="class_r_g_w_s_i___r_a_d_o_s_1_1_pool.html#a93e7513947d59965733e309d18e7b192" title=" " alt="" coords="442,56,602,99"/>
<area shape="poly" title=" " alt="" coords="395,75,426,75,426,80,395,80"/>
</map>
</div>
<div class="dynheader">
이 함수를 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="class_r_g_w_bucket_reshard_a7a31258875317e70e25532ec462d64f9_icgraph.png" border="0" usemap="#aclass_r_g_w_bucket_reshard_a7a31258875317e70e25532ec462d64f9_icgraph" alt=""/></div>
<map name="aclass_r_g_w_bucket_reshard_a7a31258875317e70e25532ec462d64f9_icgraph" id="aclass_r_g_w_bucket_reshard_a7a31258875317e70e25532ec462d64f9_icgraph">
<area shape="rect" title=" " alt="" coords="478,64,656,107"/>
<area shape="rect" href="class_r_g_w_rados.html#a2593b461186a60bd5d48dc53afd29de1" title=" " alt="" coords="253,5,419,48"/>
<area shape="poly" title=" " alt="" coords="465,62,418,50,420,45,466,57"/>
<area shape="rect" href="class_r_g_w_bucket_reshard.html#a7fc0412dd4bac9b1efccc39ee5d71836" title=" " alt="" coords="242,72,430,99"/>
<area shape="poly" title=" " alt="" coords="462,88,431,88,431,83,462,83"/>
<area shape="rect" href="class_r_g_w_bucket_reshard.html#abe3b5cb06833591addb7e5108481a0bf" title=" " alt="" coords="247,123,425,165"/>
<area shape="poly" title=" " alt="" coords="467,114,423,125,422,119,465,108"/>
<area shape="rect" href="class_r_g_w_rados_1_1_bucket_1_1_update_index.html#af38db1231e34aa56565bb7b5454e5e6c" title=" " alt="" coords="5,5,194,48"/>
<area shape="poly" title=" " alt="" coords="237,29,194,29,194,24,237,24"/>
<area shape="rect" href="rgw__admin_8cc.html#a217dbf8b442f20279ea00b898af96f52" title=" " alt="" coords="75,72,124,99"/>
<area shape="poly" title=" " alt="" coords="226,88,125,88,125,83,226,83"/>
</map>
</div>

</div>
</div>
<a id="aaef2e13273e7f5de5e42a0e1194755ba" name="aaef2e13273e7f5de5e42a0e1194755ba"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaef2e13273e7f5de5e42a0e1194755ba">&#9670;&#160;</a></span>create_new_bucket_instance()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int RGWBucketReshard::create_new_bucket_instance </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>new_num_shards</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_r_g_w_bucket_info.html">RGWBucketInfo</a> &amp;&#160;</td>
          <td class="paramname"><em>new_bucket_info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const DoutPrefixProvider *&#160;</td>
          <td class="paramname"><em>dpp</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition"><a class="el" href="rgw__reshard_8cc_source.html">rgw_reshard.cc</a> 파일의 <a class="el" href="rgw__reshard_8cc_source.html#l00363">363</a> 번째 라인에서 정의되었습니다.</p>
<div class="fragment"><div class="line"><span class="lineno">  366</span>{</div>
<div class="line"><span class="lineno">  367</span>  return ::create_new_bucket_instance(<a class="code hl_variable" href="class_r_g_w_bucket_reshard.html#a4f6af5db7fa4c14beaaa211aa4cd7b66">store</a>, new_num_shards,</div>
<div class="line"><span class="lineno">  368</span>                      <a class="code hl_variable" href="class_r_g_w_bucket_reshard.html#a9a80fd0006cbe73ed86fbea20e198b67">bucket_info</a>, <a class="code hl_variable" href="class_r_g_w_bucket_reshard.html#aa7cdab7c31eb7eb4652a335e0c5cdcfe">bucket_attrs</a>, new_bucket_info, <a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>);</div>
<div class="line"><span class="lineno">  369</span>}</div>
</div><!-- fragment --><div class="dynheader">
이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="class_r_g_w_bucket_reshard_aaef2e13273e7f5de5e42a0e1194755ba_cgraph.png" border="0" usemap="#aclass_r_g_w_bucket_reshard_aaef2e13273e7f5de5e42a0e1194755ba_cgraph" alt=""/></div>
<map name="aclass_r_g_w_bucket_reshard_aaef2e13273e7f5de5e42a0e1194755ba_cgraph" id="aclass_r_g_w_bucket_reshard_aaef2e13273e7f5de5e42a0e1194755ba_cgraph">
<area shape="rect" title=" " alt="" coords="5,5,192,48"/>
<area shape="rect" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5" title=" " alt="" coords="240,13,282,40"/>
<area shape="poly" title=" " alt="" coords="192,24,224,24,224,29,192,29"/>
</map>
</div>
<div class="dynheader">
이 함수를 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="class_r_g_w_bucket_reshard_aaef2e13273e7f5de5e42a0e1194755ba_icgraph.png" border="0" usemap="#aclass_r_g_w_bucket_reshard_aaef2e13273e7f5de5e42a0e1194755ba_icgraph" alt=""/></div>
<map name="aclass_r_g_w_bucket_reshard_aaef2e13273e7f5de5e42a0e1194755ba_icgraph" id="aclass_r_g_w_bucket_reshard_aaef2e13273e7f5de5e42a0e1194755ba_icgraph">
<area shape="rect" title=" " alt="" coords="904,27,1090,69"/>
<area shape="rect" href="class_r_g_w_bucket_reshard.html#a319abfcc0f8c0486af32cb2ba23f1ee7" title=" " alt="" coords="659,35,856,61"/>
<area shape="poly" title=" " alt="" coords="888,51,856,51,856,45,888,45"/>
<area shape="rect" href="rgw__admin_8cc.html#a217dbf8b442f20279ea00b898af96f52" title=" " alt="" coords="80,5,130,32"/>
<area shape="poly" title=" " alt="" coords="643,46,130,22,130,17,644,40"/>
<area shape="rect" href="class_r_g_w_reshard.html#acecb0fb6736c3fd1fc3bfbd026e46ec0" title=" " alt="" coords="456,56,611,99"/>
<area shape="poly" title=" " alt="" coords="645,65,612,70,612,64,644,60"/>
<area shape="rect" href="class_r_g_w_reshard.html#a2a859c80efebf3a6a3d14e9560663b21" title=" " alt="" coords="253,56,408,99"/>
<area shape="poly" title=" " alt="" coords="441,80,409,80,409,75,441,75"/>
<area shape="poly" title=" " alt="" coords="237,55,204,47,130,27,131,22,205,41,238,50"/>
<area shape="rect" href="class_r_g_w_reshard_1_1_reshard_worker.html#addb91f5f5beaffcf44cb51bb61bbe65a" title=" " alt="" coords="5,56,205,99"/>
<area shape="poly" title=" " alt="" coords="237,80,205,80,205,75,237,75"/>
</map>
</div>

</div>
</div>
<a id="ae588c08f572694b006c9ceae3e75b3f1" name="ae588c08f572694b006c9ceae3e75b3f1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae588c08f572694b006c9ceae3e75b3f1">&#9670;&#160;</a></span>do_reshard()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int RGWBucketReshard::do_reshard </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>num_shards</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_r_g_w_bucket_info.html">RGWBucketInfo</a> &amp;&#160;</td>
          <td class="paramname"><em>new_bucket_info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>max_entries</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>verbose</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::ostream *&#160;</td>
          <td class="paramname"><em>os</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Formatter *&#160;</td>
          <td class="paramname"><em>formatter</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const DoutPrefixProvider *&#160;</td>
          <td class="paramname"><em>dpp</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition"><a class="el" href="rgw__reshard_8cc_source.html">rgw_reshard.cc</a> 파일의 <a class="el" href="rgw__reshard_8cc_source.html#l00540">540</a> 번째 라인에서 정의되었습니다.</p>
<div class="fragment"><div class="line"><span class="lineno">  547</span>{</div>
<div class="line"><span class="lineno">  548</span>  <span class="keywordflow">if</span> (out) {</div>
<div class="line"><span class="lineno">  549</span>    <span class="keyword">const</span> <a class="code hl_struct" href="structrgw__bucket.html">rgw_bucket</a>&amp; bucket = <a class="code hl_variable" href="class_r_g_w_bucket_reshard.html#a9a80fd0006cbe73ed86fbea20e198b67">bucket_info</a>.<a class="code hl_variable" href="struct_r_g_w_bucket_info.html#afbd8422e16061abdf72d710794ac74d4">bucket</a>;</div>
<div class="line"><span class="lineno">  550</span>    (*out) &lt;&lt; <span class="stringliteral">&quot;tenant: &quot;</span> &lt;&lt; bucket.<a class="code hl_variable" href="structrgw__bucket.html#ac2d65e02c9242ad2ea2ad31da15d8836">tenant</a> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno">  551</span>    (*out) &lt;&lt; <span class="stringliteral">&quot;bucket name: &quot;</span> &lt;&lt; bucket.<a class="code hl_variable" href="structrgw__bucket.html#a32d3529f5b0c53051c856a7abe867a6b">name</a> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno">  552</span>    (*out) &lt;&lt; <span class="stringliteral">&quot;old bucket instance id: &quot;</span> &lt;&lt; bucket.<a class="code hl_variable" href="structrgw__bucket.html#adaba18504e183a1e80d861533a81c2a1">bucket_id</a> &lt;&lt;</div>
<div class="line"><span class="lineno">  553</span>      std::endl;</div>
<div class="line"><span class="lineno">  554</span>    (*out) &lt;&lt; <span class="stringliteral">&quot;new bucket instance id: &quot;</span> &lt;&lt; new_bucket_info.<a class="code hl_variable" href="struct_r_g_w_bucket_info.html#afbd8422e16061abdf72d710794ac74d4">bucket</a>.<a class="code hl_variable" href="structrgw__bucket.html#adaba18504e183a1e80d861533a81c2a1">bucket_id</a> &lt;&lt;</div>
<div class="line"><span class="lineno">  555</span>      std::endl;</div>
<div class="line"><span class="lineno">  556</span>  }</div>
<div class="line"><span class="lineno">  557</span> </div>
<div class="line"><span class="lineno">  558</span>  <span class="comment">/* update bucket info -- in progress*/</span></div>
<div class="line"><span class="lineno">  559</span>  list&lt;rgw_cls_bi_entry&gt; <a class="code hl_variable" href="cls__fifo__legacy_8cc.html#a0341b0ec09e77f9d6274d5b1517f7711">entries</a>;</div>
<div class="line"><span class="lineno">  560</span> </div>
<div class="line"><span class="lineno">  561</span>  <span class="keywordflow">if</span> (max_entries &lt; 0) {</div>
<div class="line"><span class="lineno">  562</span>    ldpp_dout(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>, 0) &lt;&lt; __func__ &lt;&lt;</div>
<div class="line"><span class="lineno">  563</span>      <span class="stringliteral">&quot;: can&#39;t reshard, negative max_entries&quot;</span> &lt;&lt; dendl;</div>
<div class="line"><span class="lineno">  564</span>    <span class="keywordflow">return</span> -EINVAL;</div>
<div class="line"><span class="lineno">  565</span>  }</div>
<div class="line"><span class="lineno">  566</span> </div>
<div class="line"><span class="lineno">  567</span>  <span class="comment">// NB: destructor cleans up sharding state if reshard does not</span></div>
<div class="line"><span class="lineno">  568</span>  <span class="comment">// complete successfully</span></div>
<div class="line"><span class="lineno">  569</span>  <a class="code hl_class" href="class_bucket_info_reshard_update.html">BucketInfoReshardUpdate</a> bucket_info_updater(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>, <a class="code hl_variable" href="class_r_g_w_bucket_reshard.html#a4f6af5db7fa4c14beaaa211aa4cd7b66">store</a>, <a class="code hl_variable" href="class_r_g_w_bucket_reshard.html#a9a80fd0006cbe73ed86fbea20e198b67">bucket_info</a>, <a class="code hl_variable" href="class_r_g_w_bucket_reshard.html#aa7cdab7c31eb7eb4652a335e0c5cdcfe">bucket_attrs</a>, new_bucket_info.<a class="code hl_variable" href="struct_r_g_w_bucket_info.html#afbd8422e16061abdf72d710794ac74d4">bucket</a>.<a class="code hl_variable" href="structrgw__bucket.html#adaba18504e183a1e80d861533a81c2a1">bucket_id</a>);</div>
<div class="line"><span class="lineno">  570</span> </div>
<div class="line"><span class="lineno">  571</span>  <span class="keywordtype">int</span> ret = bucket_info_updater.start();</div>
<div class="line"><span class="lineno">  572</span>  <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno">  573</span>    ldpp_dout(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>, 0) &lt;&lt; __func__ &lt;&lt; <span class="stringliteral">&quot;: failed to update bucket info ret=&quot;</span> &lt;&lt; ret &lt;&lt; dendl;</div>
<div class="line"><span class="lineno">  574</span>    <span class="keywordflow">return</span> ret;</div>
<div class="line"><span class="lineno">  575</span>  }</div>
<div class="line"><span class="lineno">  576</span> </div>
<div class="line"><span class="lineno">  577</span>  <span class="keywordtype">int</span> num_target_shards = (new_bucket_info.<a class="code hl_variable" href="struct_r_g_w_bucket_info.html#a2f1c3c04708aff00336329d2b5a6b2c0">layout</a>.<a class="code hl_variable" href="structrgw_1_1_bucket_layout.html#a21b2e627c7cfc06dfc9437d2923c1eb6">current_index</a>.<a class="code hl_variable" href="structrgw_1_1bucket__index__layout__generation.html#a79b14696bcebca917981ef684691c2a6">layout</a>.<a class="code hl_variable" href="structrgw_1_1bucket__index__layout.html#a077a0ad9c56601354155d3c860bef951">normal</a>.<a class="code hl_variable" href="structrgw_1_1bucket__index__normal__layout.html#abe639d74cb05a11985d3dd74eadc5d10">num_shards</a> &gt; 0 ? new_bucket_info.<a class="code hl_variable" href="struct_r_g_w_bucket_info.html#a2f1c3c04708aff00336329d2b5a6b2c0">layout</a>.<a class="code hl_variable" href="structrgw_1_1_bucket_layout.html#a21b2e627c7cfc06dfc9437d2923c1eb6">current_index</a>.<a class="code hl_variable" href="structrgw_1_1bucket__index__layout__generation.html#a79b14696bcebca917981ef684691c2a6">layout</a>.<a class="code hl_variable" href="structrgw_1_1bucket__index__layout.html#a077a0ad9c56601354155d3c860bef951">normal</a>.<a class="code hl_variable" href="structrgw_1_1bucket__index__normal__layout.html#abe639d74cb05a11985d3dd74eadc5d10">num_shards</a> : 1);</div>
<div class="line"><span class="lineno">  578</span> </div>
<div class="line"><span class="lineno">  579</span>  <a class="code hl_class" href="class_bucket_reshard_manager.html">BucketReshardManager</a> target_shards_mgr(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>, <a class="code hl_variable" href="class_r_g_w_bucket_reshard.html#a4f6af5db7fa4c14beaaa211aa4cd7b66">store</a>, new_bucket_info, num_target_shards);</div>
<div class="line"><span class="lineno">  580</span> </div>
<div class="line"><span class="lineno">  581</span>  <span class="keywordtype">bool</span> verbose_json_out = verbose &amp;&amp; (formatter != <span class="keyword">nullptr</span>) &amp;&amp; (out != <span class="keyword">nullptr</span>);</div>
<div class="line"><span class="lineno">  582</span> </div>
<div class="line"><span class="lineno">  583</span>  <span class="keywordflow">if</span> (verbose_json_out) {</div>
<div class="line"><span class="lineno">  584</span>    formatter-&gt;open_array_section(<span class="stringliteral">&quot;entries&quot;</span>);</div>
<div class="line"><span class="lineno">  585</span>  }</div>
<div class="line"><span class="lineno">  586</span> </div>
<div class="line"><span class="lineno">  587</span>  uint64_t total_entries = 0;</div>
<div class="line"><span class="lineno">  588</span> </div>
<div class="line"><span class="lineno">  589</span>  <span class="keywordflow">if</span> (!verbose_json_out &amp;&amp; out) {</div>
<div class="line"><span class="lineno">  590</span>    (*out) &lt;&lt; <span class="stringliteral">&quot;total entries:&quot;</span>;</div>
<div class="line"><span class="lineno">  591</span>  }</div>
<div class="line"><span class="lineno">  592</span> </div>
<div class="line"><span class="lineno">  593</span>  <span class="keyword">const</span> <span class="keywordtype">int</span> num_source_shards =</div>
<div class="line"><span class="lineno">  594</span>    (<a class="code hl_variable" href="class_r_g_w_bucket_reshard.html#a9a80fd0006cbe73ed86fbea20e198b67">bucket_info</a>.<a class="code hl_variable" href="struct_r_g_w_bucket_info.html#a2f1c3c04708aff00336329d2b5a6b2c0">layout</a>.<a class="code hl_variable" href="structrgw_1_1_bucket_layout.html#a21b2e627c7cfc06dfc9437d2923c1eb6">current_index</a>.<a class="code hl_variable" href="structrgw_1_1bucket__index__layout__generation.html#a79b14696bcebca917981ef684691c2a6">layout</a>.<a class="code hl_variable" href="structrgw_1_1bucket__index__layout.html#a077a0ad9c56601354155d3c860bef951">normal</a>.<a class="code hl_variable" href="structrgw_1_1bucket__index__normal__layout.html#abe639d74cb05a11985d3dd74eadc5d10">num_shards</a> &gt; 0 ? <a class="code hl_variable" href="class_r_g_w_bucket_reshard.html#a9a80fd0006cbe73ed86fbea20e198b67">bucket_info</a>.<a class="code hl_variable" href="struct_r_g_w_bucket_info.html#a2f1c3c04708aff00336329d2b5a6b2c0">layout</a>.<a class="code hl_variable" href="structrgw_1_1_bucket_layout.html#a21b2e627c7cfc06dfc9437d2923c1eb6">current_index</a>.<a class="code hl_variable" href="structrgw_1_1bucket__index__layout__generation.html#a79b14696bcebca917981ef684691c2a6">layout</a>.<a class="code hl_variable" href="structrgw_1_1bucket__index__layout.html#a077a0ad9c56601354155d3c860bef951">normal</a>.<a class="code hl_variable" href="structrgw_1_1bucket__index__normal__layout.html#abe639d74cb05a11985d3dd74eadc5d10">num_shards</a> : 1);</div>
<div class="line"><span class="lineno">  595</span>  <span class="keywordtype">string</span> marker;</div>
<div class="line"><span class="lineno">  596</span>  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; num_source_shards; ++i) {</div>
<div class="line"><span class="lineno">  597</span>    <span class="keywordtype">bool</span> is_truncated = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  598</span>    marker.clear();</div>
<div class="line"><span class="lineno">  599</span>    <span class="keyword">const</span> std::string null_object_filter; <span class="comment">// empty string since we&#39;re not filtering by object</span></div>
<div class="line"><span class="lineno">  600</span>    <span class="keywordflow">while</span> (is_truncated) {</div>
<div class="line"><span class="lineno">  601</span>      <a class="code hl_variable" href="cls__fifo__legacy_8cc.html#a0341b0ec09e77f9d6274d5b1517f7711">entries</a>.clear();</div>
<div class="line"><span class="lineno">  602</span>      ret = <a class="code hl_variable" href="class_r_g_w_bucket_reshard.html#a4f6af5db7fa4c14beaaa211aa4cd7b66">store</a>-&gt;<a class="code hl_function" href="classrgw_1_1sal_1_1_rados_store.html#aca5c28bc0f22f3f963d0475b594350e1">getRados</a>()-&gt;<a class="code hl_function" href="class_r_g_w_rados.html#aa39de5cf86e480324a4d15227144ce20">bi_list</a>(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>, <a class="code hl_variable" href="class_r_g_w_bucket_reshard.html#a9a80fd0006cbe73ed86fbea20e198b67">bucket_info</a>, i, null_object_filter, marker, max_entries, &amp;<a class="code hl_variable" href="cls__fifo__legacy_8cc.html#a0341b0ec09e77f9d6274d5b1517f7711">entries</a>, &amp;is_truncated);</div>
<div class="line"><span class="lineno">  603</span>      <span class="keywordflow">if</span> (ret &lt; 0 &amp;&amp; ret != -ENOENT) {</div>
<div class="line"><span class="lineno">  604</span>    derr &lt;&lt; <span class="stringliteral">&quot;ERROR: bi_list(): &quot;</span> &lt;&lt; cpp_strerror(-ret) &lt;&lt; dendl;</div>
<div class="line"><span class="lineno">  605</span>    <span class="keywordflow">return</span> ret;</div>
<div class="line"><span class="lineno">  606</span>      }</div>
<div class="line"><span class="lineno">  607</span> </div>
<div class="line"><span class="lineno">  608</span>      <span class="keywordflow">for</span> (<span class="keyword">auto</span> iter = <a class="code hl_variable" href="cls__fifo__legacy_8cc.html#a0341b0ec09e77f9d6274d5b1517f7711">entries</a>.begin(); iter != <a class="code hl_variable" href="cls__fifo__legacy_8cc.html#a0341b0ec09e77f9d6274d5b1517f7711">entries</a>.end(); ++iter) {</div>
<div class="line"><span class="lineno">  609</span>    rgw_cls_bi_entry&amp; entry = *iter;</div>
<div class="line"><span class="lineno">  610</span>    <span class="keywordflow">if</span> (verbose_json_out) {</div>
<div class="line"><span class="lineno">  611</span>      formatter-&gt;open_object_section(<span class="stringliteral">&quot;entry&quot;</span>);</div>
<div class="line"><span class="lineno">  612</span> </div>
<div class="line"><span class="lineno">  613</span>      <a class="code hl_function" href="rgw__admin_8cc.html#ab596b9e1a1fc78e98a4d13a66578b658">encode_json</a>(<span class="stringliteral">&quot;shard_id&quot;</span>, i, formatter);</div>
<div class="line"><span class="lineno">  614</span>      <a class="code hl_function" href="rgw__admin_8cc.html#ab596b9e1a1fc78e98a4d13a66578b658">encode_json</a>(<span class="stringliteral">&quot;num_entry&quot;</span>, total_entries, formatter);</div>
<div class="line"><span class="lineno">  615</span>      <a class="code hl_function" href="rgw__admin_8cc.html#ab596b9e1a1fc78e98a4d13a66578b658">encode_json</a>(<span class="stringliteral">&quot;entry&quot;</span>, entry, formatter);</div>
<div class="line"><span class="lineno">  616</span>    }</div>
<div class="line"><span class="lineno">  617</span>    total_entries++;</div>
<div class="line"><span class="lineno">  618</span> </div>
<div class="line"><span class="lineno">  619</span>    marker = entry.idx;</div>
<div class="line"><span class="lineno">  620</span> </div>
<div class="line"><span class="lineno">  621</span>    <span class="keywordtype">int</span> target_shard_id;</div>
<div class="line"><span class="lineno">  622</span>    cls_rgw_obj_key cls_key;</div>
<div class="line"><span class="lineno">  623</span>    RGWObjCategory category;</div>
<div class="line"><span class="lineno">  624</span>    rgw_bucket_category_stats stats;</div>
<div class="line"><span class="lineno">  625</span>    <span class="keywordtype">bool</span> account = entry.get_info(&amp;cls_key, &amp;category, &amp;stats);</div>
<div class="line"><span class="lineno">  626</span>    <a class="code hl_struct" href="structrgw__obj__key.html">rgw_obj_key</a> key(cls_key);</div>
<div class="line"><span class="lineno">  627</span>        <span class="keywordflow">if</span> (entry.type == BIIndexType::OLH &amp;&amp; key.empty()) {</div>
<div class="line"><span class="lineno">  628</span>      <span class="comment">// bogus entry created by https://tracker.ceph.com/issues/46456</span></div>
<div class="line"><span class="lineno">  629</span>      <span class="comment">// to fix, skip so it doesn&#39;t get include in the new bucket instance</span></div>
<div class="line"><span class="lineno">  630</span>      total_entries--;</div>
<div class="line"><span class="lineno">  631</span>      ldpp_dout(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>, 10) &lt;&lt; <span class="stringliteral">&quot;Dropping entry with empty name, idx=&quot;</span> &lt;&lt; marker &lt;&lt; dendl;</div>
<div class="line"><span class="lineno">  632</span>      <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno">  633</span>    }</div>
<div class="line"><span class="lineno">  634</span>    <a class="code hl_struct" href="structrgw__obj.html">rgw_obj</a> obj(new_bucket_info.<a class="code hl_variable" href="struct_r_g_w_bucket_info.html#afbd8422e16061abdf72d710794ac74d4">bucket</a>, key);</div>
<div class="line"><span class="lineno">  635</span>    <a class="code hl_class" href="class_r_g_w_m_p_obj.html">RGWMPObj</a> mp;</div>
<div class="line"><span class="lineno">  636</span>    <span class="keywordflow">if</span> (key.ns == <a class="code hl_define" href="rgw__rados_8h.html#ae0aa963272f470d3884b7a4160593740">RGW_OBJ_NS_MULTIPART</a> &amp;&amp; mp.<a class="code hl_function" href="class_r_g_w_m_p_obj.html#a7bb7becd3809c5b03a99d56af6ce6337">from_meta</a>(key.name)) {</div>
<div class="line"><span class="lineno">  637</span>      <span class="comment">// place the multipart .meta object on the same shard as its head object</span></div>
<div class="line"><span class="lineno">  638</span>      obj.index_hash_source = mp.<a class="code hl_function" href="class_r_g_w_m_p_obj.html#a943cf939ca453f52a39b79cd31a8a6d6">get_key</a>();</div>
<div class="line"><span class="lineno">  639</span>    }</div>
<div class="line"><span class="lineno">  640</span>    <span class="keywordtype">int</span> ret = <a class="code hl_variable" href="class_r_g_w_bucket_reshard.html#a4f6af5db7fa4c14beaaa211aa4cd7b66">store</a>-&gt;<a class="code hl_function" href="classrgw_1_1sal_1_1_rados_store.html#aca5c28bc0f22f3f963d0475b594350e1">getRados</a>()-&gt;<a class="code hl_function" href="class_r_g_w_rados.html#ae35301b3fbdbc854a630e013efbafdbb">get_target_shard_id</a>(new_bucket_info.<a class="code hl_variable" href="struct_r_g_w_bucket_info.html#a2f1c3c04708aff00336329d2b5a6b2c0">layout</a>.<a class="code hl_variable" href="structrgw_1_1_bucket_layout.html#a21b2e627c7cfc06dfc9437d2923c1eb6">current_index</a>.<a class="code hl_variable" href="structrgw_1_1bucket__index__layout__generation.html#a79b14696bcebca917981ef684691c2a6">layout</a>.<a class="code hl_variable" href="structrgw_1_1bucket__index__layout.html#a077a0ad9c56601354155d3c860bef951">normal</a>, obj.get_hash_object(), &amp;target_shard_id);</div>
<div class="line"><span class="lineno">  641</span>    <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno">  642</span>      ldpp_dout(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>, -1) &lt;&lt; <span class="stringliteral">&quot;ERROR: get_target_shard_id() returned ret=&quot;</span> &lt;&lt; ret &lt;&lt; dendl;</div>
<div class="line"><span class="lineno">  643</span>      <span class="keywordflow">return</span> ret;</div>
<div class="line"><span class="lineno">  644</span>    }</div>
<div class="line"><span class="lineno">  645</span> </div>
<div class="line"><span class="lineno">  646</span>    <span class="keywordtype">int</span> shard_index = (target_shard_id &gt; 0 ? target_shard_id : 0);</div>
<div class="line"><span class="lineno">  647</span> </div>
<div class="line"><span class="lineno">  648</span>    ret = target_shards_mgr.add_entry(shard_index, entry, account,</div>
<div class="line"><span class="lineno">  649</span>                      category, stats);</div>
<div class="line"><span class="lineno">  650</span>    <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno">  651</span>      <span class="keywordflow">return</span> ret;</div>
<div class="line"><span class="lineno">  652</span>    }</div>
<div class="line"><span class="lineno">  653</span> </div>
<div class="line"><span class="lineno">  654</span>    Clock::time_point now = Clock::now();</div>
<div class="line"><span class="lineno">  655</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="class_r_g_w_bucket_reshard.html#ad0deed6306d9a0324d10d0d20f3f1059">reshard_lock</a>.<a class="code hl_function" href="class_r_g_w_bucket_reshard_lock.html#a7853e2f226ec1ffa358948919be2a373">should_renew</a>(now)) {</div>
<div class="line"><span class="lineno">  656</span>      <span class="comment">// assume outer locks have timespans at least the size of ours, so</span></div>
<div class="line"><span class="lineno">  657</span>      <span class="comment">// can call inside conditional</span></div>
<div class="line"><span class="lineno">  658</span>      <span class="keywordflow">if</span> (<a class="code hl_variable" href="class_r_g_w_bucket_reshard.html#a934de5bc39e4398daffeb3c93a430e6e">outer_reshard_lock</a>) {</div>
<div class="line"><span class="lineno">  659</span>        ret = <a class="code hl_variable" href="class_r_g_w_bucket_reshard.html#a934de5bc39e4398daffeb3c93a430e6e">outer_reshard_lock</a>-&gt;<a class="code hl_function" href="class_r_g_w_bucket_reshard_lock.html#a8c208706eab9dd075451a121b8214182">renew</a>(now);</div>
<div class="line"><span class="lineno">  660</span>        <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno">  661</span>          <span class="keywordflow">return</span> ret;</div>
<div class="line"><span class="lineno">  662</span>        }</div>
<div class="line"><span class="lineno">  663</span>      }</div>
<div class="line"><span class="lineno">  664</span>      ret = <a class="code hl_variable" href="class_r_g_w_bucket_reshard.html#ad0deed6306d9a0324d10d0d20f3f1059">reshard_lock</a>.<a class="code hl_function" href="class_r_g_w_bucket_reshard_lock.html#a8c208706eab9dd075451a121b8214182">renew</a>(now);</div>
<div class="line"><span class="lineno">  665</span>      <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno">  666</span>        ldpp_dout(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>, -1) &lt;&lt; <span class="stringliteral">&quot;Error renewing bucket lock: &quot;</span> &lt;&lt; ret &lt;&lt; dendl;</div>
<div class="line"><span class="lineno">  667</span>        <span class="keywordflow">return</span> ret;</div>
<div class="line"><span class="lineno">  668</span>      }</div>
<div class="line"><span class="lineno">  669</span>    }</div>
<div class="line"><span class="lineno">  670</span>    <span class="keywordflow">if</span> (verbose_json_out) {</div>
<div class="line"><span class="lineno">  671</span>      formatter-&gt;close_section();</div>
<div class="line"><span class="lineno">  672</span>      formatter-&gt;flush(*out);</div>
<div class="line"><span class="lineno">  673</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (out &amp;&amp; !(total_entries % 1000)) {</div>
<div class="line"><span class="lineno">  674</span>      (*out) &lt;&lt; <span class="stringliteral">&quot; &quot;</span> &lt;&lt; total_entries;</div>
<div class="line"><span class="lineno">  675</span>    }</div>
<div class="line"><span class="lineno">  676</span>      } <span class="comment">// entries loop</span></div>
<div class="line"><span class="lineno">  677</span>    }</div>
<div class="line"><span class="lineno">  678</span>  }</div>
<div class="line"><span class="lineno">  679</span> </div>
<div class="line"><span class="lineno">  680</span>  <span class="keywordflow">if</span> (verbose_json_out) {</div>
<div class="line"><span class="lineno">  681</span>    formatter-&gt;close_section();</div>
<div class="line"><span class="lineno">  682</span>    formatter-&gt;flush(*out);</div>
<div class="line"><span class="lineno">  683</span>  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (out) {</div>
<div class="line"><span class="lineno">  684</span>    (*out) &lt;&lt; <span class="stringliteral">&quot; &quot;</span> &lt;&lt; total_entries &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno">  685</span>  }</div>
<div class="line"><span class="lineno">  686</span> </div>
<div class="line"><span class="lineno">  687</span>  ret = target_shards_mgr.finish();</div>
<div class="line"><span class="lineno">  688</span>  <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno">  689</span>    ldpp_dout(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>, -1) &lt;&lt; <span class="stringliteral">&quot;ERROR: failed to reshard&quot;</span> &lt;&lt; dendl;</div>
<div class="line"><span class="lineno">  690</span>    <span class="keywordflow">return</span> -EIO;</div>
<div class="line"><span class="lineno">  691</span>  }</div>
<div class="line"><span class="lineno">  692</span> </div>
<div class="line"><span class="lineno">  693</span>  ret = <a class="code hl_variable" href="class_r_g_w_bucket_reshard.html#a4f6af5db7fa4c14beaaa211aa4cd7b66">store</a>-&gt;<a class="code hl_function" href="classrgw_1_1sal_1_1_rados_store.html#ab6a306bab7ce6cc5da2f287d4d9f11e0">ctl</a>()-&gt;<a class="code hl_variable" href="struct_r_g_w_ctl.html#aad9554920ed5b4cc9b75de55bb1af061">bucket</a>-&gt;<a class="code hl_function" href="class_r_g_w_bucket_ctl.html#a6ef69b8b0df300e115546f579f036ab2">link_bucket</a>(new_bucket_info.<a class="code hl_variable" href="struct_r_g_w_bucket_info.html#a18215d487317142f30bd2675ccec2293">owner</a>, new_bucket_info.<a class="code hl_variable" href="struct_r_g_w_bucket_info.html#afbd8422e16061abdf72d710794ac74d4">bucket</a>, <a class="code hl_variable" href="class_r_g_w_bucket_reshard.html#a9a80fd0006cbe73ed86fbea20e198b67">bucket_info</a>.<a class="code hl_variable" href="struct_r_g_w_bucket_info.html#a2e51e9d0006ff4d49a565582513b6af6">creation_time</a>, null_yield, <a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>);</div>
<div class="line"><span class="lineno">  694</span>  <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno">  695</span>    ldpp_dout(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>, -1) &lt;&lt; <span class="stringliteral">&quot;failed to link new bucket instance (bucket_id=&quot;</span> &lt;&lt; new_bucket_info.<a class="code hl_variable" href="struct_r_g_w_bucket_info.html#afbd8422e16061abdf72d710794ac74d4">bucket</a>.<a class="code hl_variable" href="structrgw__bucket.html#adaba18504e183a1e80d861533a81c2a1">bucket_id</a> &lt;&lt; <span class="stringliteral">&quot;: &quot;</span> &lt;&lt; cpp_strerror(-ret) &lt;&lt; <span class="stringliteral">&quot;)&quot;</span> &lt;&lt; dendl;</div>
<div class="line"><span class="lineno">  696</span>    <span class="keywordflow">return</span> ret;</div>
<div class="line"><span class="lineno">  697</span>  }</div>
<div class="line"><span class="lineno">  698</span> </div>
<div class="line"><span class="lineno">  699</span>  ret = bucket_info_updater.complete();</div>
<div class="line"><span class="lineno">  700</span>  <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno">  701</span>    ldpp_dout(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>, 0) &lt;&lt; __func__ &lt;&lt; <span class="stringliteral">&quot;: failed to update bucket info ret=&quot;</span> &lt;&lt; ret &lt;&lt; dendl;</div>
<div class="line"><span class="lineno">  702</span>    <span class="comment">/* don&#39;t error out, reshard process succeeded */</span></div>
<div class="line"><span class="lineno">  703</span>  }</div>
<div class="line"><span class="lineno">  704</span> </div>
<div class="line"><span class="lineno">  705</span>  <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">  706</span>  <span class="comment">// NB: some error clean-up is done by ~BucketInfoReshardUpdate</span></div>
<div class="line"><span class="lineno">  707</span>} <span class="comment">// RGWBucketReshard::do_reshard</span></div>
<div class="ttc" id="aclass_bucket_info_reshard_update_html"><div class="ttname"><a href="class_bucket_info_reshard_update.html">BucketInfoReshardUpdate</a></div><div class="ttdef"><b>Definition</b> <a href="rgw__reshard_8cc_source.html#l00384">rgw_reshard.cc:385</a></div></div>
<div class="ttc" id="aclass_bucket_reshard_manager_html"><div class="ttname"><a href="class_bucket_reshard_manager.html">BucketReshardManager</a></div><div class="ttdef"><b>Definition</b> <a href="rgw__reshard_8cc_source.html#l00187">rgw_reshard.cc:187</a></div></div>
<div class="ttc" id="aclass_r_g_w_bucket_ctl_html_a6ef69b8b0df300e115546f579f036ab2"><div class="ttname"><a href="class_r_g_w_bucket_ctl.html#a6ef69b8b0df300e115546f579f036ab2">RGWBucketCtl::link_bucket</a></div><div class="ttdeci">int link_bucket(const rgw_user &amp;user_id, const rgw_bucket &amp;bucket, ceph::real_time creation_time, optional_yield y, const DoutPrefixProvider *dpp, bool update_entrypoint=true, rgw_ep_info *pinfo=nullptr)</div><div class="ttdef"><b>Definition</b> <a href="rgw__bucket_8cc_source.html#l02769">rgw_bucket.cc:2769</a></div></div>
<div class="ttc" id="aclass_r_g_w_bucket_reshard_lock_html_a7853e2f226ec1ffa358948919be2a373"><div class="ttname"><a href="class_r_g_w_bucket_reshard_lock.html#a7853e2f226ec1ffa358948919be2a373">RGWBucketReshardLock::should_renew</a></div><div class="ttdeci">bool should_renew(const Clock::time_point &amp;now) const</div><div class="ttdef"><b>Definition</b> <a href="rgw__reshard_8h_source.html#l00062">rgw_reshard.h:62</a></div></div>
<div class="ttc" id="aclass_r_g_w_bucket_reshard_lock_html_a8c208706eab9dd075451a121b8214182"><div class="ttname"><a href="class_r_g_w_bucket_reshard_lock.html#a8c208706eab9dd075451a121b8214182">RGWBucketReshardLock::renew</a></div><div class="ttdeci">int renew(const Clock::time_point &amp;)</div><div class="ttdef"><b>Definition</b> <a href="rgw__reshard_8cc_source.html#l00510">rgw_reshard.cc:510</a></div></div>
<div class="ttc" id="aclass_r_g_w_m_p_obj_html"><div class="ttname"><a href="class_r_g_w_m_p_obj.html">RGWMPObj</a></div><div class="ttdef"><b>Definition</b> <a href="svc__tier__rados_8h_source.html#l00027">svc_tier_rados.h:27</a></div></div>
<div class="ttc" id="aclass_r_g_w_m_p_obj_html_a7bb7becd3809c5b03a99d56af6ce6337"><div class="ttname"><a href="class_r_g_w_m_p_obj.html#a7bb7becd3809c5b03a99d56af6ce6337">RGWMPObj::from_meta</a></div><div class="ttdeci">bool from_meta(const std::string &amp;meta)</div><div class="ttdef"><b>Definition</b> <a href="svc__tier__rados_8h_source.html#l00078">svc_tier_rados.h:78</a></div></div>
<div class="ttc" id="aclass_r_g_w_m_p_obj_html_a943cf939ca453f52a39b79cd31a8a6d6"><div class="ttname"><a href="class_r_g_w_m_p_obj.html#a943cf939ca453f52a39b79cd31a8a6d6">RGWMPObj::get_key</a></div><div class="ttdeci">const std::string &amp; get_key() const</div><div class="ttdef"><b>Definition</b> <a href="svc__tier__rados_8h_source.html#l00075">svc_tier_rados.h:75</a></div></div>
<div class="ttc" id="aclass_r_g_w_rados_html_aa39de5cf86e480324a4d15227144ce20"><div class="ttname"><a href="class_r_g_w_rados.html#aa39de5cf86e480324a4d15227144ce20">RGWRados::bi_list</a></div><div class="ttdeci">int bi_list(const DoutPrefixProvider *dpp, const RGWBucketInfo &amp;bucket_info, int shard_id, const std::string &amp;filter_obj, const std::string &amp;marker, uint32_t max, std::list&lt; rgw_cls_bi_entry &gt; *entries, bool *is_truncated)</div></div>
<div class="ttc" id="aclass_r_g_w_rados_html_ae35301b3fbdbc854a630e013efbafdbb"><div class="ttname"><a href="class_r_g_w_rados.html#ae35301b3fbdbc854a630e013efbafdbb">RGWRados::get_target_shard_id</a></div><div class="ttdeci">int get_target_shard_id(const rgw::bucket_index_normal_layout &amp;layout, const std::string &amp;obj_key, int *shard_id)</div><div class="ttdef"><b>Definition</b> <a href="rgw__rados_8cc_source.html#l09434">rgw_rados.cc:9434</a></div></div>
<div class="ttc" id="aclassrgw_1_1sal_1_1_rados_store_html_ab6a306bab7ce6cc5da2f287d4d9f11e0"><div class="ttname"><a href="classrgw_1_1sal_1_1_rados_store.html#ab6a306bab7ce6cc5da2f287d4d9f11e0">rgw::sal::RadosStore::ctl</a></div><div class="ttdeci">RGWCtl * ctl()</div><div class="ttdef"><b>Definition</b> <a href="rgw__sal__rados_8h_source.html#l00503">rgw_sal_rados.h:503</a></div></div>
<div class="ttc" id="acls__fifo__legacy_8cc_html_a0341b0ec09e77f9d6274d5b1517f7711"><div class="ttname"><a href="cls__fifo__legacy_8cc.html#a0341b0ec09e77f9d6274d5b1517f7711">entries</a></div><div class="ttdeci">std::vector&lt; fifo::part_list_entry &gt; * entries</div><div class="ttdef"><b>Definition</b> <a href="cls__fifo__legacy_8cc_source.html#l00249">cls_fifo_legacy.cc:249</a></div></div>
<div class="ttc" id="argw__admin_8cc_html_ab596b9e1a1fc78e98a4d13a66578b658"><div class="ttname"><a href="rgw__admin_8cc.html#ab596b9e1a1fc78e98a4d13a66578b658">encode_json</a></div><div class="ttdeci">void encode_json(const char *name, const RGWBucketSyncFlowManager::pipe_set &amp;pset, Formatter *f)</div><div class="ttdef"><b>Definition</b> <a href="rgw__admin_8cc_source.html#l02560">rgw_admin.cc:2560</a></div></div>
<div class="ttc" id="argw__rados_8h_html_ae0aa963272f470d3884b7a4160593740"><div class="ttname"><a href="rgw__rados_8h.html#ae0aa963272f470d3884b7a4160593740">RGW_OBJ_NS_MULTIPART</a></div><div class="ttdeci">#define RGW_OBJ_NS_MULTIPART</div><div class="ttdef"><b>Definition</b> <a href="rgw__rados_8h_source.html#l00066">rgw_rados.h:66</a></div></div>
<div class="ttc" id="astruct_r_g_w_bucket_info_html_a18215d487317142f30bd2675ccec2293"><div class="ttname"><a href="struct_r_g_w_bucket_info.html#a18215d487317142f30bd2675ccec2293">RGWBucketInfo::owner</a></div><div class="ttdeci">rgw_user owner</div><div class="ttdef"><b>Definition</b> <a href="rgw__common_8h_source.html#l01064">rgw_common.h:1064</a></div></div>
<div class="ttc" id="astruct_r_g_w_bucket_info_html_a2e51e9d0006ff4d49a565582513b6af6"><div class="ttname"><a href="struct_r_g_w_bucket_info.html#a2e51e9d0006ff4d49a565582513b6af6">RGWBucketInfo::creation_time</a></div><div class="ttdeci">ceph::real_time creation_time</div><div class="ttdef"><b>Definition</b> <a href="rgw__common_8h_source.html#l01067">rgw_common.h:1067</a></div></div>
<div class="ttc" id="astruct_r_g_w_ctl_html_aad9554920ed5b4cc9b75de55bb1af061"><div class="ttname"><a href="struct_r_g_w_ctl.html#aad9554920ed5b4cc9b75de55bb1af061">RGWCtl::bucket</a></div><div class="ttdeci">RGWBucketCtl * bucket</div><div class="ttdef"><b>Definition</b> <a href="rgw__service_8h_source.html#l00213">rgw_service.h:213</a></div></div>
<div class="ttc" id="astructrgw__bucket_html"><div class="ttname"><a href="structrgw__bucket.html">rgw_bucket</a></div><div class="ttdef"><b>Definition</b> <a href="rgw__basic__types_8h_source.html#l00289">rgw_basic_types.h:289</a></div></div>
<div class="ttc" id="astructrgw__bucket_html_a32d3529f5b0c53051c856a7abe867a6b"><div class="ttname"><a href="structrgw__bucket.html#a32d3529f5b0c53051c856a7abe867a6b">rgw_bucket::name</a></div><div class="ttdeci">std::string name</div><div class="ttdef"><b>Definition</b> <a href="rgw__basic__types_8h_source.html#l00291">rgw_basic_types.h:291</a></div></div>
<div class="ttc" id="astructrgw__bucket_html_ac2d65e02c9242ad2ea2ad31da15d8836"><div class="ttname"><a href="structrgw__bucket.html#ac2d65e02c9242ad2ea2ad31da15d8836">rgw_bucket::tenant</a></div><div class="ttdeci">std::string tenant</div><div class="ttdef"><b>Definition</b> <a href="rgw__basic__types_8h_source.html#l00290">rgw_basic_types.h:290</a></div></div>
<div class="ttc" id="astructrgw__obj__key_html"><div class="ttname"><a href="structrgw__obj__key.html">rgw_obj_key</a></div><div class="ttdef"><b>Definition</b> <a href="rgw__common_8h_source.html#l01248">rgw_common.h:1248</a></div></div>
<div class="ttc" id="astructrgw__obj_html"><div class="ttname"><a href="structrgw__obj.html">rgw_obj</a></div><div class="ttdef"><b>Definition</b> <a href="rgw__common_8h_source.html#l01802">rgw_common.h:1802</a></div></div>
</div><!-- fragment --><div class="dynheader">
이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="class_r_g_w_bucket_reshard_ae588c08f572694b006c9ceae3e75b3f1_cgraph.png" border="0" usemap="#aclass_r_g_w_bucket_reshard_ae588c08f572694b006c9ceae3e75b3f1_cgraph" alt=""/></div>
<map name="aclass_r_g_w_bucket_reshard_ae588c08f572694b006c9ceae3e75b3f1_cgraph" id="aclass_r_g_w_bucket_reshard_ae588c08f572694b006c9ceae3e75b3f1_cgraph">
<area shape="rect" title=" " alt="" coords="5,484,170,527"/>
<area shape="rect" href="class_bucket_reshard_manager.html#acaa644855f455f26db62d100916af733" title=" " alt="" coords="223,5,384,48"/>
<area shape="poly" title=" " alt="" coords="86,483,90,405,107,293,124,231,146,169,177,110,216,58,218,56,221,60,220,62,181,113,151,171,129,232,113,294,96,406,91,484"/>
<area shape="rect" href="class_r_g_w_rados.html#aa39de5cf86e480324a4d15227144ce20" title=" " alt="" coords="237,72,370,99"/>
<area shape="poly" title=" " alt="" coords="87,483,92,412,111,311,127,257,150,203,179,153,216,109,222,104,225,108,220,113,183,156,154,206,132,259,116,313,98,412,92,484"/>
<area shape="rect" href="class_bucket_info_reshard_update.html#a48e69bc97ab8a0f0f4da5f8b2d4776cc" title=" " alt="" coords="218,241,389,284"/>
<area shape="poly" title=" " alt="" coords="94,483,111,443,137,393,172,340,216,294,221,290,224,295,219,298,176,344,142,396,116,445,99,485"/>
<area shape="rect" href="classrgw_1_1sal_1_1_rados_store.html#aca5c28bc0f22f3f963d0475b594350e1" title=" " alt="" coords="693,173,835,216"/>
<area shape="poly" title=" " alt="" coords="89,483,99,429,122,358,138,321,159,286,185,254,216,227,252,211,301,199,359,191,424,186,559,184,678,187,678,192,559,189,425,191,360,196,302,204,254,216,219,232,189,257,164,289,143,324,127,360,105,431,94,484"/>
<area shape="rect" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5" title=" " alt="" coords="1236,497,1278,524"/>
<area shape="poly" title=" " alt="" coords="170,484,217,477,303,474,389,477,882,492,1220,506,1220,512,881,497,389,483,303,479,218,483,171,489"/>
<area shape="rect" href="classrgw_1_1sal_1_1_rados_store.html#ab6a306bab7ce6cc5da2f287d4d9f11e0" title=" " alt="" coords="221,492,386,519"/>
<area shape="poly" title=" " alt="" coords="170,503,206,503,206,508,170,508"/>
<area shape="rect" href="structrgw__obj__key.html#a214246c5efbd558c4c3f498c2acb65d4" title=" " alt="" coords="235,543,372,569"/>
<area shape="poly" title=" " alt="" coords="171,522,229,536,228,541,169,527"/>
<area shape="rect" href="rgw__admin_8cc.html#ab596b9e1a1fc78e98a4d13a66578b658" title=" " alt="" coords="256,617,351,644"/>
<area shape="poly" title=" " alt="" coords="127,525,219,579,267,607,264,612,216,584,125,530"/>
<area shape="rect" href="class_bucket_reshard_manager.html#ab1ee52e42a4022c5727aa252232fbd74" title=" " alt="" coords="223,668,384,711"/>
<area shape="poly" title=" " alt="" coords="105,526,151,588,183,623,219,654,225,658,222,662,216,658,179,627,147,592,100,529"/>
<area shape="rect" href="class_r_g_w_m_p_obj.html#a7bb7becd3809c5b03a99d56af6ce6337" title=" " alt="" coords="222,735,385,761"/>
<area shape="poly" title=" " alt="" coords="98,526,114,568,139,620,174,674,196,699,219,721,226,725,222,729,216,725,192,703,170,678,135,623,109,570,93,528"/>
<area shape="rect" href="structrgw__obj.html#ac435104880843012b54b3b1c280f386f" title=" " alt="" coords="219,785,388,812"/>
<area shape="poly" title=" " alt="" coords="96,526,109,577,132,643,169,712,192,744,219,771,225,775,221,779,216,775,188,747,164,715,127,645,103,578,90,528"/>
<area shape="rect" href="class_r_g_w_m_p_obj.html#a943cf939ca453f52a39b79cd31a8a6d6" title=" " alt="" coords="230,836,377,863"/>
<area shape="poly" title=" " alt="" coords="94,527,104,585,126,665,142,708,163,749,188,788,220,822,224,826,220,830,216,826,184,791,158,752,137,710,121,667,99,587,89,528"/>
<area shape="rect" href="class_r_g_w_rados.html#ae35301b3fbdbc854a630e013efbafdbb" title=" " alt="" coords="225,887,382,929"/>
<area shape="poly" title=" " alt="" coords="93,527,101,593,122,685,138,735,159,785,186,831,220,873,222,875,218,879,216,876,182,834,155,787,133,737,116,687,96,594,88,528"/>
<area shape="rect" href="class_r_g_w_bucket_ctl.html#a6ef69b8b0df300e115546f579f036ab2" title=" " alt="" coords="234,375,373,417"/>
<area shape="poly" title=" " alt="" coords="127,481,216,434,240,422,243,427,219,438,129,486"/>
<area shape="rect" href="class_r_g_w_bucket_reshard_lock.html#a8c208706eab9dd075451a121b8214182" title=" " alt="" coords="218,123,389,165"/>
<area shape="poly" title=" " alt="" coords="89,483,101,425,124,346,141,303,161,260,186,219,216,182,227,172,230,176,220,186,190,222,166,262,145,305,129,347,106,426,95,484"/>
<area shape="rect" href="class_r_g_w_bucket_reshard_lock.html#a7853e2f226ec1ffa358948919be2a373" title=" " alt="" coords="218,953,389,996"/>
<area shape="poly" title=" " alt="" coords="92,527,96,603,114,713,130,773,152,833,182,889,220,940,222,942,218,945,216,943,177,892,147,835,125,775,109,714,91,604,86,527"/>
<area shape="rect" href="class_bucket_info_reshard_update.html#ad3156e0592960affdd3f0af3eacbca37" title=" " alt="" coords="218,308,389,351"/>
<area shape="poly" title=" " alt="" coords="101,482,148,423,180,390,216,361,223,356,226,361,219,365,184,394,152,426,106,485"/>
<area shape="rect" href="class_bucket_info_reshard_update.html#a00d17f067d845a031f3e407fa3011c88" title=" " alt="" coords="448,240,619,283"/>
<area shape="poly" title=" " alt="" coords="389,260,432,259,432,265,389,265"/>
<area shape="poly" title=" " alt="" coords="608,237,677,217,679,222,610,242"/>
<area shape="rect" href="class_r_g_w_rados.html#a87f0abb09153b85fddc998de116b22c1" title=" " alt="" coords="683,240,845,283"/>
<area shape="poly" title=" " alt="" coords="619,259,667,259,667,264,619,264"/>
<area shape="poly" title=" " alt="" coords="846,271,993,299,1061,317,1108,336,1152,369,1190,409,1220,449,1242,482,1238,485,1216,452,1185,412,1148,373,1106,341,1059,322,992,304,845,276"/>
<area shape="rect" href="struct_r_g_w_bucket_ctl_1_1_bucket_instance_1_1_put_params.html#ae75395f075f4506195757f9b01457c25" title=" " alt="" coords="899,160,1107,203"/>
<area shape="poly" title=" " alt="" coords="826,237,898,212,918,205,920,210,900,217,828,242"/>
<area shape="rect" href="struct_r_g_w_bucket_ctl_1_1_bucket_instance_1_1_put_params.html#ae52af231a453c4bcdf43b644cadccdfd" title=" " alt="" coords="899,227,1107,269"/>
<area shape="poly" title=" " alt="" coords="845,254,883,252,883,257,845,259"/>
<area shape="rect" href="struct_r_g_w_bucket_ctl_1_1_bucket_instance_1_1_put_params.html#a82d0777469dfb72c6bbb28b27b42f944" title=" " alt="" coords="899,93,1107,136"/>
<area shape="poly" title=" " alt="" coords="832,237,849,226,865,207,872,187,880,166,897,146,902,142,905,147,900,150,884,169,877,189,869,209,852,230,835,242"/>
<area shape="poly" title=" " alt="" coords="267,618,260,609,265,599,279,593,303,591,329,593,343,600,340,604,328,598,303,596,281,598,268,603,266,608,271,615"/>
<area shape="rect" href="class_r_g_w_m_p_obj.html#a5ba0ed5a9efbe0aee49eca3734f24029" title=" " alt="" coords="474,735,592,761"/>
<area shape="poly" title=" " alt="" coords="385,745,458,745,458,751,385,751"/>
<area shape="poly" title=" " alt="" coords="495,736,487,726,492,716,508,710,533,708,561,711,575,717,573,722,560,716,533,713,509,715,496,720,493,725,499,733"/>
<area shape="poly" title=" " alt="" coords="359,372,436,343,490,335,533,334,630,343,766,357,872,373,977,398,1108,439,1170,463,1223,490,1220,494,1168,468,1106,444,975,403,871,379,766,363,629,348,533,339,491,340,438,348,361,377"/>
<area shape="rect" href="class_r_g_w_bucket_metadata_handler.html#ac36fb9edf32e6f0145a033bb92993e89" title=" " alt="" coords="437,381,629,424"/>
<area shape="poly" title=" " alt="" coords="373,395,421,397,421,402,373,401"/>
<area shape="rect" href="class_r_g_w_bucket_ctl.html#ae3980ca90b030f0794e00a76b3be39c0" title=" " alt="" coords="454,644,613,687"/>
<area shape="poly" title=" " alt="" coords="330,416,391,478,457,559,510,630,505,633,453,562,387,482,326,420"/>
<area shape="poly" title=" " alt="" coords="490,381,488,371,495,362,510,357,533,355,558,357,573,363,570,368,556,362,533,360,511,362,498,367,493,373,495,380"/>
<area shape="poly" title=" " alt="" coords="586,641,725,589,811,562,898,540,988,525,1078,516,1220,508,1220,514,1079,521,989,530,899,545,812,567,727,594,587,646"/>
<area shape="rect" href="class_r_g_w_user_ctl.html#afaeb252671689e76d1ea3c22a3e56c6c" title=" " alt="" coords="917,599,1089,625"/>
<area shape="poly" title=" " alt="" coords="613,654,901,621,902,626,613,659"/>
<area shape="rect" href="class_r_g_w_bucket_ctl.html#a0316ea0b4ce77a8f431f79cb6687df1b" title=" " alt="" coords="677,712,851,755"/>
<area shape="poly" title=" " alt="" coords="609,685,675,705,674,710,607,690"/>
<area shape="rect" href="class_r_g_w_s_i___bucket.html#aaa6923b5abd006f8981d08b30f566112" title=" " alt="" coords="901,849,1105,892"/>
<area shape="poly" title=" " alt="" coords="615,685,631,697,644,712,650,728,655,758,660,787,666,801,679,814,726,843,779,861,833,871,886,875,885,880,832,876,777,866,724,847,676,818,662,804,654,789,650,759,645,729,639,715,627,701,612,689"/>
<area shape="rect" href="class_r_g_w_s_i___bucket.html#a0125494bd3e3ffa03922ded7b64f41fe" title=" " alt="" coords="924,649,1082,692"/>
<area shape="poly" title=" " alt="" coords="613,664,908,667,908,672,613,669"/>
<area shape="rect" href="class_r_g_w_s_i___bucket.html#a469ad7b4ed146fbca66c27964eca6cba" title=" " alt="" coords="924,783,1082,825"/>
<area shape="poly" title=" " alt="" coords="612,685,631,697,647,715,655,733,663,750,679,764,734,789,794,803,853,810,908,810,908,815,853,815,793,809,732,794,676,769,658,753,650,735,643,717,628,701,609,690"/>
<area shape="poly" title=" " alt="" coords="1058,596,1106,578,1130,563,1154,547,1220,520,1222,525,1156,552,1133,567,1108,582,1059,601"/>
<area shape="rect" href="class_r_g_w_s_i___user.html#abac7d5068668999c30fe3fa5ed9b0d50" title=" " alt="" coords="1170,561,1344,588"/>
<area shape="poly" title=" " alt="" coords="1088,597,1154,587,1154,592,1089,602"/>
<area shape="rect" href="class_r_g_w_s_i___meta_backend___handler.html#a58f554ea8b3fc5cd1366a2c55cfc943d" title=" " alt="" coords="1155,636,1358,679"/>
<area shape="poly" title=" " alt="" coords="1082,623,1140,634,1139,639,1081,629"/>
<area shape="rect" href="class_r_g_w_s_i___meta_backend___handler_1_1_op.html#a05f37c0bcf5db94e5a0160429e0d2c26" title=" " alt="" coords="1155,703,1358,745"/>
<area shape="poly" title=" " alt="" coords="1083,623,1108,635,1124,648,1133,662,1142,676,1157,689,1164,693,1161,698,1153,693,1138,679,1129,665,1120,652,1106,640,1081,628"/>
<area shape="poly" title=" " alt="" coords="1209,636,1207,626,1215,617,1232,611,1257,609,1284,612,1300,618,1298,623,1283,617,1257,615,1233,617,1218,621,1212,627,1214,635"/>
<area shape="poly" title=" " alt="" coords="777,710,824,647,858,613,897,584,960,561,1050,541,1219,513,1220,518,1051,546,962,566,900,589,862,617,828,650,781,713"/>
<area shape="poly" title=" " alt="" coords="790,753,839,794,900,835,911,840,909,845,897,840,835,799,786,757"/>
<area shape="poly" title=" " alt="" coords="847,709,908,693,910,698,849,714"/>
<area shape="rect" href="class_r_g_w_user_ctl.html#ae523a8e5fbbdd9e119cf95e1aed74112" title=" " alt="" coords="930,716,1076,759"/>
<area shape="poly" title=" " alt="" coords="851,732,915,733,915,739,851,737"/>
<area shape="poly" title=" " alt="" coords="840,753,914,775,913,780,838,758"/>
<area shape="rect" href="structrgw__bucket.html#ad369d093e39599e8eea191882fcdc6a9" title=" " alt="" coords="1186,857,1327,884"/>
<area shape="poly" title=" " alt="" coords="1105,868,1170,868,1170,873,1105,873"/>
<area shape="poly" title=" " alt="" coords="1075,722,1105,702,1119,684,1126,665,1129,627,1131,588,1139,568,1153,547,1185,525,1220,514,1221,519,1187,530,1157,551,1143,570,1136,589,1134,627,1132,666,1124,686,1109,706,1078,726"/>
<area shape="poly" title=" " alt="" coords="1072,713,1171,681,1173,686,1074,718"/>
<area shape="poly" title=" " alt="" coords="1076,731,1139,727,1140,733,1076,736"/>
<area shape="rect" href="class_r_g_w_s_i___user.html#a894bdb3a1fcda928802f31219dac85d6" title=" " alt="" coords="1183,769,1331,812"/>
<area shape="poly" title=" " alt="" coords="1077,750,1168,769,1167,775,1076,755"/>
<area shape="poly" title=" " alt="" coords="389,151,678,183,677,188,388,156"/>
<area shape="rect" href="classrgw_1_1sal_1_1_rados_store.html#aabf846e99f9f01172f86ce5e7fb1ed5b" title=" " alt="" coords="449,21,617,48"/>
<area shape="poly" title=" " alt="" coords="368,120,387,108,402,96,410,83,420,70,436,58,447,52,449,57,438,62,424,74,415,86,406,99,391,113,370,124"/>
<area shape="rect" href="class_r_g_w_bucket_reshard_lock.html#aeca8f8183756ddb2f82f67e954ecc0cf" title=" " alt="" coords="448,72,618,115"/>
<area shape="poly" title=" " alt="" coords="388,123,432,113,433,118,389,128"/>
<area shape="rect" href="class_r_g_w_rados.html#afd08a0b75dba3b0234ff468fca0a0c70" title=" " alt="" coords="706,21,822,48"/>
<area shape="poly" title=" " alt="" coords="618,32,691,32,691,37,618,37"/>
<area shape="poly" title=" " alt="" coords="377,305,443,285,445,290,379,310"/>
</map>
</div>
<div class="dynheader">
이 함수를 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="class_r_g_w_bucket_reshard_ae588c08f572694b006c9ceae3e75b3f1_icgraph.png" border="0" usemap="#aclass_r_g_w_bucket_reshard_ae588c08f572694b006c9ceae3e75b3f1_icgraph" alt=""/></div>
<map name="aclass_r_g_w_bucket_reshard_ae588c08f572694b006c9ceae3e75b3f1_icgraph" id="aclass_r_g_w_bucket_reshard_ae588c08f572694b006c9ceae3e75b3f1_icgraph">
<area shape="rect" title=" " alt="" coords="904,27,1068,69"/>
<area shape="rect" href="class_r_g_w_bucket_reshard.html#a319abfcc0f8c0486af32cb2ba23f1ee7" title=" " alt="" coords="659,35,856,61"/>
<area shape="poly" title=" " alt="" coords="888,51,856,51,856,45,888,45"/>
<area shape="rect" href="rgw__admin_8cc.html#a217dbf8b442f20279ea00b898af96f52" title=" " alt="" coords="80,5,130,32"/>
<area shape="poly" title=" " alt="" coords="643,46,130,22,130,17,644,40"/>
<area shape="rect" href="class_r_g_w_reshard.html#acecb0fb6736c3fd1fc3bfbd026e46ec0" title=" " alt="" coords="456,56,611,99"/>
<area shape="poly" title=" " alt="" coords="645,65,612,70,612,64,644,60"/>
<area shape="rect" href="class_r_g_w_reshard.html#a2a859c80efebf3a6a3d14e9560663b21" title=" " alt="" coords="253,56,408,99"/>
<area shape="poly" title=" " alt="" coords="441,80,409,80,409,75,441,75"/>
<area shape="poly" title=" " alt="" coords="237,55,204,47,130,27,131,22,205,41,238,50"/>
<area shape="rect" href="class_r_g_w_reshard_1_1_reshard_worker.html#addb91f5f5beaffcf44cb51bb61bbe65a" title=" " alt="" coords="5,56,205,99"/>
<area shape="poly" title=" " alt="" coords="237,80,205,80,205,75,237,75"/>
</map>
</div>

</div>
</div>
<a id="a319abfcc0f8c0486af32cb2ba23f1ee7" name="a319abfcc0f8c0486af32cb2ba23f1ee7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a319abfcc0f8c0486af32cb2ba23f1ee7">&#9670;&#160;</a></span>execute()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int RGWBucketReshard::execute </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>num_shards</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>max_op_entries</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const DoutPrefixProvider *&#160;</td>
          <td class="paramname"><em>dpp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>verbose</em> = <code>false</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::ostream *&#160;</td>
          <td class="paramname"><em>out</em> = <code>nullptr</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Formatter *&#160;</td>
          <td class="paramname"><em>formatter</em> = <code>nullptr</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_r_g_w_reshard.html">RGWReshard</a> *&#160;</td>
          <td class="paramname"><em>reshard_log</em> = <code>nullptr</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition"><a class="el" href="rgw__reshard_8cc_source.html">rgw_reshard.cc</a> 파일의 <a class="el" href="rgw__reshard_8cc_source.html#l00715">715</a> 번째 라인에서 정의되었습니다.</p>
<div class="fragment"><div class="line"><span class="lineno">  719</span>{</div>
<div class="line"><span class="lineno">  720</span>  <span class="keywordtype">int</span> ret = <a class="code hl_variable" href="class_r_g_w_bucket_reshard.html#ad0deed6306d9a0324d10d0d20f3f1059">reshard_lock</a>.<a class="code hl_function" href="class_r_g_w_bucket_reshard_lock.html#a61fea80ba6140750a63d86e9878286cb">lock</a>(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>);</div>
<div class="line"><span class="lineno">  721</span>  <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno">  722</span>    <span class="keywordflow">return</span> ret;</div>
<div class="line"><span class="lineno">  723</span>  }</div>
<div class="line"><span class="lineno">  724</span> </div>
<div class="line"><span class="lineno">  725</span>  <a class="code hl_struct" href="struct_r_g_w_bucket_info.html">RGWBucketInfo</a> new_bucket_info;</div>
<div class="line"><span class="lineno">  726</span>  ret = <a class="code hl_function" href="class_r_g_w_bucket_reshard.html#aaef2e13273e7f5de5e42a0e1194755ba">create_new_bucket_instance</a>(num_shards, new_bucket_info, <a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>);</div>
<div class="line"><span class="lineno">  727</span>  <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno">  728</span>    <span class="comment">// shard state is uncertain, but this will attempt to remove them anyway</span></div>
<div class="line"><span class="lineno">  729</span>    <span class="keywordflow">goto</span> error_out;</div>
<div class="line"><span class="lineno">  730</span>  }</div>
<div class="line"><span class="lineno">  731</span> </div>
<div class="line"><span class="lineno">  732</span>  <span class="keywordflow">if</span> (reshard_log) {</div>
<div class="line"><span class="lineno">  733</span>    ret = reshard_log-&gt;<a class="code hl_function" href="class_r_g_w_reshard.html#a443a7b9368b0d599a5a0ca0401dcfc69">update</a>(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>, <a class="code hl_variable" href="class_r_g_w_bucket_reshard.html#a9a80fd0006cbe73ed86fbea20e198b67">bucket_info</a>, new_bucket_info);</div>
<div class="line"><span class="lineno">  734</span>    <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno">  735</span>      <span class="keywordflow">goto</span> error_out;</div>
<div class="line"><span class="lineno">  736</span>    }</div>
<div class="line"><span class="lineno">  737</span>  }</div>
<div class="line"><span class="lineno">  738</span> </div>
<div class="line"><span class="lineno">  739</span>  <span class="comment">// set resharding status of current bucket_info &amp; shards with</span></div>
<div class="line"><span class="lineno">  740</span>  <span class="comment">// information about planned resharding</span></div>
<div class="line"><span class="lineno">  741</span>  ret = <a class="code hl_function" href="class_r_g_w_bucket_reshard.html#afcd76a86d4c925fec30237644c58cf12">set_resharding_status</a>(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>, new_bucket_info.<a class="code hl_variable" href="struct_r_g_w_bucket_info.html#afbd8422e16061abdf72d710794ac74d4">bucket</a>.<a class="code hl_variable" href="structrgw__bucket.html#adaba18504e183a1e80d861533a81c2a1">bucket_id</a>,</div>
<div class="line"><span class="lineno">  742</span>                  num_shards, cls_rgw_reshard_status::IN_PROGRESS);</div>
<div class="line"><span class="lineno">  743</span>  <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno">  744</span>    <span class="keywordflow">goto</span> error_out;</div>
<div class="line"><span class="lineno">  745</span>  }</div>
<div class="line"><span class="lineno">  746</span> </div>
<div class="line"><span class="lineno">  747</span>  ret = <a class="code hl_function" href="class_r_g_w_bucket_reshard.html#ae588c08f572694b006c9ceae3e75b3f1">do_reshard</a>(num_shards,</div>
<div class="line"><span class="lineno">  748</span>           new_bucket_info,</div>
<div class="line"><span class="lineno">  749</span>           max_op_entries,</div>
<div class="line"><span class="lineno">  750</span>                   verbose, out, formatter, <a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>);</div>
<div class="line"><span class="lineno">  751</span>  <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno">  752</span>    <span class="keywordflow">goto</span> error_out;</div>
<div class="line"><span class="lineno">  753</span>  }</div>
<div class="line"><span class="lineno">  754</span> </div>
<div class="line"><span class="lineno">  755</span>  <span class="comment">// at this point we&#39;ve done the main work; we&#39;ll make a best-effort</span></div>
<div class="line"><span class="lineno">  756</span>  <span class="comment">// to clean-up but will not indicate any errors encountered</span></div>
<div class="line"><span class="lineno">  757</span> </div>
<div class="line"><span class="lineno">  758</span>  <a class="code hl_variable" href="class_r_g_w_bucket_reshard.html#ad0deed6306d9a0324d10d0d20f3f1059">reshard_lock</a>.<a class="code hl_function" href="class_r_g_w_bucket_reshard_lock.html#a678aa004403478a16cf2974f542fbba6">unlock</a>();</div>
<div class="line"><span class="lineno">  759</span> </div>
<div class="line"><span class="lineno">  760</span>  <span class="comment">// resharding successful, so remove old bucket index shards; use</span></div>
<div class="line"><span class="lineno">  761</span>  <span class="comment">// best effort and don&#39;t report out an error; the lock isn&#39;t needed</span></div>
<div class="line"><span class="lineno">  762</span>  <span class="comment">// at this point since all we&#39;re using a best effort to remove old</span></div>
<div class="line"><span class="lineno">  763</span>  <span class="comment">// shard objects</span></div>
<div class="line"><span class="lineno">  764</span>  ret = <a class="code hl_variable" href="class_r_g_w_bucket_reshard.html#a4f6af5db7fa4c14beaaa211aa4cd7b66">store</a>-&gt;<a class="code hl_function" href="classrgw_1_1sal_1_1_rados_store.html#abe4f0602b771d5549a02c0a326d6a832">svc</a>()-&gt;<a class="code hl_variable" href="struct_r_g_w_services.html#a958d8269aa11dfb7facdc2d41ebd0ca4">bi</a>-&gt;<a class="code hl_function" href="class_r_g_w_s_i___bucket_index.html#a022254cba975d2e1aa5ed0fd1ce140e1">clean_index</a>(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>, <a class="code hl_variable" href="class_r_g_w_bucket_reshard.html#a9a80fd0006cbe73ed86fbea20e198b67">bucket_info</a>);</div>
<div class="line"><span class="lineno">  765</span>  <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno">  766</span>    ldpp_dout(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>, -1) &lt;&lt; <span class="stringliteral">&quot;Error: &quot;</span> &lt;&lt; __func__ &lt;&lt;</div>
<div class="line"><span class="lineno">  767</span>      <span class="stringliteral">&quot; failed to clean up old shards; &quot;</span> &lt;&lt;</div>
<div class="line"><span class="lineno">  768</span>      <span class="stringliteral">&quot;RGWRados::clean_bucket_index returned &quot;</span> &lt;&lt; ret &lt;&lt; dendl;</div>
<div class="line"><span class="lineno">  769</span>  }</div>
<div class="line"><span class="lineno">  770</span> </div>
<div class="line"><span class="lineno">  771</span>  ret = <a class="code hl_variable" href="class_r_g_w_bucket_reshard.html#a4f6af5db7fa4c14beaaa211aa4cd7b66">store</a>-&gt;<a class="code hl_function" href="classrgw_1_1sal_1_1_rados_store.html#ab6a306bab7ce6cc5da2f287d4d9f11e0">ctl</a>()-&gt;<a class="code hl_variable" href="struct_r_g_w_ctl.html#aad9554920ed5b4cc9b75de55bb1af061">bucket</a>-&gt;<a class="code hl_function" href="class_r_g_w_bucket_ctl.html#aea6f07e0e4c543adeacfde25f6a5582c">remove_bucket_instance_info</a>(<a class="code hl_variable" href="class_r_g_w_bucket_reshard.html#a9a80fd0006cbe73ed86fbea20e198b67">bucket_info</a>.<a class="code hl_variable" href="struct_r_g_w_bucket_info.html#afbd8422e16061abdf72d710794ac74d4">bucket</a>,</div>
<div class="line"><span class="lineno">  772</span>                                                       <a class="code hl_variable" href="class_r_g_w_bucket_reshard.html#a9a80fd0006cbe73ed86fbea20e198b67">bucket_info</a>, null_yield, <a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>);</div>
<div class="line"><span class="lineno">  773</span>  <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno">  774</span>    ldpp_dout(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>, -1) &lt;&lt; <span class="stringliteral">&quot;Error: &quot;</span> &lt;&lt; __func__ &lt;&lt;</div>
<div class="line"><span class="lineno">  775</span>      <span class="stringliteral">&quot; failed to clean old bucket info object \&quot;&quot;</span> &lt;&lt;</div>
<div class="line"><span class="lineno">  776</span>      <a class="code hl_variable" href="class_r_g_w_bucket_reshard.html#a9a80fd0006cbe73ed86fbea20e198b67">bucket_info</a>.<a class="code hl_variable" href="struct_r_g_w_bucket_info.html#afbd8422e16061abdf72d710794ac74d4">bucket</a>.<a class="code hl_function" href="structrgw__bucket.html#ad369d093e39599e8eea191882fcdc6a9">get_key</a>() &lt;&lt;</div>
<div class="line"><span class="lineno">  777</span>      <span class="stringliteral">&quot;\&quot;created after successful resharding with error &quot;</span> &lt;&lt; ret &lt;&lt; dendl;</div>
<div class="line"><span class="lineno">  778</span>  }</div>
<div class="line"><span class="lineno">  779</span> </div>
<div class="line"><span class="lineno">  780</span>  ldpp_dout(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>, 1) &lt;&lt; __func__ &lt;&lt;</div>
<div class="line"><span class="lineno">  781</span>    <span class="stringliteral">&quot; INFO: reshard of bucket \&quot;&quot;</span> &lt;&lt; <a class="code hl_variable" href="class_r_g_w_bucket_reshard.html#a9a80fd0006cbe73ed86fbea20e198b67">bucket_info</a>.<a class="code hl_variable" href="struct_r_g_w_bucket_info.html#afbd8422e16061abdf72d710794ac74d4">bucket</a>.<a class="code hl_variable" href="structrgw__bucket.html#a32d3529f5b0c53051c856a7abe867a6b">name</a> &lt;&lt; <span class="stringliteral">&quot;\&quot; from \&quot;&quot;</span> &lt;&lt;</div>
<div class="line"><span class="lineno">  782</span>    <a class="code hl_variable" href="class_r_g_w_bucket_reshard.html#a9a80fd0006cbe73ed86fbea20e198b67">bucket_info</a>.<a class="code hl_variable" href="struct_r_g_w_bucket_info.html#afbd8422e16061abdf72d710794ac74d4">bucket</a>.<a class="code hl_function" href="structrgw__bucket.html#ad369d093e39599e8eea191882fcdc6a9">get_key</a>() &lt;&lt; <span class="stringliteral">&quot;\&quot; to \&quot;&quot;</span> &lt;&lt;</div>
<div class="line"><span class="lineno">  783</span>    new_bucket_info.<a class="code hl_variable" href="struct_r_g_w_bucket_info.html#afbd8422e16061abdf72d710794ac74d4">bucket</a>.<a class="code hl_function" href="structrgw__bucket.html#ad369d093e39599e8eea191882fcdc6a9">get_key</a>() &lt;&lt; <span class="stringliteral">&quot;\&quot; completed successfully&quot;</span> &lt;&lt; dendl;</div>
<div class="line"><span class="lineno">  784</span> </div>
<div class="line"><span class="lineno">  785</span>  <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">  786</span> </div>
<div class="line"><span class="lineno">  787</span>error_out:</div>
<div class="line"><span class="lineno">  788</span> </div>
<div class="line"><span class="lineno">  789</span>  <a class="code hl_variable" href="class_r_g_w_bucket_reshard.html#ad0deed6306d9a0324d10d0d20f3f1059">reshard_lock</a>.<a class="code hl_function" href="class_r_g_w_bucket_reshard_lock.html#a678aa004403478a16cf2974f542fbba6">unlock</a>();</div>
<div class="line"><span class="lineno">  790</span> </div>
<div class="line"><span class="lineno">  791</span>  <span class="comment">// since the real problem is the issue that led to this error code</span></div>
<div class="line"><span class="lineno">  792</span>  <span class="comment">// path, we won&#39;t touch ret and instead use another variable to</span></div>
<div class="line"><span class="lineno">  793</span>  <span class="comment">// temporarily error codes</span></div>
<div class="line"><span class="lineno">  794</span>  <span class="keywordtype">int</span> ret2 = <a class="code hl_variable" href="class_r_g_w_bucket_reshard.html#a4f6af5db7fa4c14beaaa211aa4cd7b66">store</a>-&gt;<a class="code hl_function" href="classrgw_1_1sal_1_1_rados_store.html#abe4f0602b771d5549a02c0a326d6a832">svc</a>()-&gt;<a class="code hl_variable" href="struct_r_g_w_services.html#a958d8269aa11dfb7facdc2d41ebd0ca4">bi</a>-&gt;<a class="code hl_function" href="class_r_g_w_s_i___bucket_index.html#a022254cba975d2e1aa5ed0fd1ce140e1">clean_index</a>(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>, new_bucket_info);</div>
<div class="line"><span class="lineno">  795</span>  <span class="keywordflow">if</span> (ret2 &lt; 0) {</div>
<div class="line"><span class="lineno">  796</span>    ldpp_dout(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>, -1) &lt;&lt; <span class="stringliteral">&quot;Error: &quot;</span> &lt;&lt; __func__ &lt;&lt;</div>
<div class="line"><span class="lineno">  797</span>      <span class="stringliteral">&quot; failed to clean up shards from failed incomplete resharding; &quot;</span> &lt;&lt;</div>
<div class="line"><span class="lineno">  798</span>      <span class="stringliteral">&quot;RGWRados::clean_bucket_index returned &quot;</span> &lt;&lt; ret2 &lt;&lt; dendl;</div>
<div class="line"><span class="lineno">  799</span>  }</div>
<div class="line"><span class="lineno">  800</span> </div>
<div class="line"><span class="lineno">  801</span>  ret2 = <a class="code hl_variable" href="class_r_g_w_bucket_reshard.html#a4f6af5db7fa4c14beaaa211aa4cd7b66">store</a>-&gt;<a class="code hl_function" href="classrgw_1_1sal_1_1_rados_store.html#ab6a306bab7ce6cc5da2f287d4d9f11e0">ctl</a>()-&gt;<a class="code hl_variable" href="struct_r_g_w_ctl.html#aad9554920ed5b4cc9b75de55bb1af061">bucket</a>-&gt;<a class="code hl_function" href="class_r_g_w_bucket_ctl.html#aea6f07e0e4c543adeacfde25f6a5582c">remove_bucket_instance_info</a>(new_bucket_info.<a class="code hl_variable" href="struct_r_g_w_bucket_info.html#afbd8422e16061abdf72d710794ac74d4">bucket</a>,</div>
<div class="line"><span class="lineno">  802</span>                                                        new_bucket_info,</div>
<div class="line"><span class="lineno">  803</span>                            null_yield, <a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>);</div>
<div class="line"><span class="lineno">  804</span>  <span class="keywordflow">if</span> (ret2 &lt; 0) {</div>
<div class="line"><span class="lineno">  805</span>    ldpp_dout(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>, -1) &lt;&lt; <span class="stringliteral">&quot;Error: &quot;</span> &lt;&lt; __func__ &lt;&lt;</div>
<div class="line"><span class="lineno">  806</span>      <span class="stringliteral">&quot; failed to clean bucket info object \&quot;&quot;</span> &lt;&lt;</div>
<div class="line"><span class="lineno">  807</span>      new_bucket_info.<a class="code hl_variable" href="struct_r_g_w_bucket_info.html#afbd8422e16061abdf72d710794ac74d4">bucket</a>.<a class="code hl_function" href="structrgw__bucket.html#ad369d093e39599e8eea191882fcdc6a9">get_key</a>() &lt;&lt;</div>
<div class="line"><span class="lineno">  808</span>      <span class="stringliteral">&quot;\&quot;created during incomplete resharding with error &quot;</span> &lt;&lt; ret2 &lt;&lt; dendl;</div>
<div class="line"><span class="lineno">  809</span>  }</div>
<div class="line"><span class="lineno">  810</span> </div>
<div class="line"><span class="lineno">  811</span>  <span class="keywordflow">return</span> ret;</div>
<div class="line"><span class="lineno">  812</span>} <span class="comment">// execute</span></div>
<div class="ttc" id="aclass_r_g_w_bucket_ctl_html_aea6f07e0e4c543adeacfde25f6a5582c"><div class="ttname"><a href="class_r_g_w_bucket_ctl.html#aea6f07e0e4c543adeacfde25f6a5582c">RGWBucketCtl::remove_bucket_instance_info</a></div><div class="ttdeci">int remove_bucket_instance_info(const rgw_bucket &amp;bucket, RGWBucketInfo &amp;info, optional_yield y, const DoutPrefixProvider *dpp, const BucketInstance::RemoveParams &amp;params={})</div><div class="ttdef"><b>Definition</b> <a href="rgw__bucket_8cc_source.html#l02626">rgw_bucket.cc:2626</a></div></div>
<div class="ttc" id="aclass_r_g_w_bucket_reshard_html_aaef2e13273e7f5de5e42a0e1194755ba"><div class="ttname"><a href="class_r_g_w_bucket_reshard.html#aaef2e13273e7f5de5e42a0e1194755ba">RGWBucketReshard::create_new_bucket_instance</a></div><div class="ttdeci">int create_new_bucket_instance(int new_num_shards, RGWBucketInfo &amp;new_bucket_info, const DoutPrefixProvider *dpp)</div><div class="ttdef"><b>Definition</b> <a href="rgw__reshard_8cc_source.html#l00363">rgw_reshard.cc:363</a></div></div>
<div class="ttc" id="aclass_r_g_w_bucket_reshard_html_ae588c08f572694b006c9ceae3e75b3f1"><div class="ttname"><a href="class_r_g_w_bucket_reshard.html#ae588c08f572694b006c9ceae3e75b3f1">RGWBucketReshard::do_reshard</a></div><div class="ttdeci">int do_reshard(int num_shards, RGWBucketInfo &amp;new_bucket_info, int max_entries, bool verbose, std::ostream *os, Formatter *formatter, const DoutPrefixProvider *dpp)</div><div class="ttdef"><b>Definition</b> <a href="rgw__reshard_8cc_source.html#l00540">rgw_reshard.cc:540</a></div></div>
<div class="ttc" id="aclass_r_g_w_reshard_html_a443a7b9368b0d599a5a0ca0401dcfc69"><div class="ttname"><a href="class_r_g_w_reshard.html#a443a7b9368b0d599a5a0ca0401dcfc69">RGWReshard::update</a></div><div class="ttdeci">int update(const DoutPrefixProvider *dpp, const RGWBucketInfo &amp;bucket_info, const RGWBucketInfo &amp;new_bucket_info)</div><div class="ttdef"><b>Definition</b> <a href="rgw__reshard_8cc_source.html#l00864">rgw_reshard.cc:864</a></div></div>
<div class="ttc" id="aclass_r_g_w_s_i___bucket_index_html_a022254cba975d2e1aa5ed0fd1ce140e1"><div class="ttname"><a href="class_r_g_w_s_i___bucket_index.html#a022254cba975d2e1aa5ed0fd1ce140e1">RGWSI_BucketIndex::clean_index</a></div><div class="ttdeci">virtual int clean_index(const DoutPrefixProvider *dpp, RGWBucketInfo &amp;bucket_info)=0</div></div>
<div class="ttc" id="aclassrgw_1_1sal_1_1_rados_store_html_abe4f0602b771d5549a02c0a326d6a832"><div class="ttname"><a href="classrgw_1_1sal_1_1_rados_store.html#abe4f0602b771d5549a02c0a326d6a832">rgw::sal::RadosStore::svc</a></div><div class="ttdeci">RGWServices * svc()</div><div class="ttdef"><b>Definition</b> <a href="rgw__sal__rados_8h_source.html#l00501">rgw_sal_rados.h:501</a></div></div>
<div class="ttc" id="astruct_r_g_w_bucket_info_html"><div class="ttname"><a href="struct_r_g_w_bucket_info.html">RGWBucketInfo</a></div><div class="ttdef"><b>Definition</b> <a href="rgw__common_8h_source.html#l01062">rgw_common.h:1062</a></div></div>
<div class="ttc" id="astruct_r_g_w_services_html_a958d8269aa11dfb7facdc2d41ebd0ca4"><div class="ttname"><a href="struct_r_g_w_services.html#a958d8269aa11dfb7facdc2d41ebd0ca4">RGWServices::bi</a></div><div class="ttdeci">RGWSI_BucketIndex * bi</div><div class="ttdef"><b>Definition</b> <a href="rgw__service_8h_source.html#l00129">rgw_service.h:129</a></div></div>
<div class="ttc" id="astructrgw__bucket_html_ad369d093e39599e8eea191882fcdc6a9"><div class="ttname"><a href="structrgw__bucket.html#ad369d093e39599e8eea191882fcdc6a9">rgw_bucket::get_key</a></div><div class="ttdeci">std::string get_key(char tenant_delim='/', char id_delim=':', size_t reserve=0) const</div><div class="ttdef"><b>Definition</b> <a href="rgw__basic__types_8cc_source.html#l00059">rgw_basic_types.cc:59</a></div></div>
</div><!-- fragment --><div class="dynheader">
이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="class_r_g_w_bucket_reshard_a319abfcc0f8c0486af32cb2ba23f1ee7_cgraph.png" border="0" usemap="#aclass_r_g_w_bucket_reshard_a319abfcc0f8c0486af32cb2ba23f1ee7_cgraph" alt=""/></div>
<map name="aclass_r_g_w_bucket_reshard_a319abfcc0f8c0486af32cb2ba23f1ee7_cgraph" id="aclass_r_g_w_bucket_reshard_a319abfcc0f8c0486af32cb2ba23f1ee7_cgraph">
<area shape="rect" title=" " alt="" coords="5,1192,202,1219"/>
<area shape="rect" href="class_r_g_w_s_i___bucket_index.html#a022254cba975d2e1aa5ed0fd1ce140e1" title=" " alt="" coords="267,5,419,48"/>
<area shape="poly" title=" " alt="" coords="102,1192,105,994,110,835,121,657,139,475,164,306,181,230,200,164,222,108,248,65,256,56,260,60,252,68,227,110,205,166,186,232,170,307,144,476,126,657,116,835,110,994,107,1192"/>
<area shape="rect" href="class_r_g_w_bucket_reshard.html#aaef2e13273e7f5de5e42a0e1194755ba" title=" " alt="" coords="250,1155,436,1197"/>
<area shape="poly" title=" " alt="" coords="202,1191,234,1187,235,1192,202,1196"/>
<area shape="rect" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5" title=" " alt="" coords="1252,1052,1294,1079"/>
<area shape="poly" title=" " alt="" coords="202,1207,314,1209,436,1207,631,1200,784,1196,856,1189,934,1178,1021,1160,1122,1133,1184,1110,1237,1083,1239,1088,1186,1115,1124,1139,1022,1165,935,1183,857,1195,784,1201,631,1206,436,1212,314,1215,202,1212"/>
<area shape="rect" href="classrgw_1_1sal_1_1_rados_store.html#ab6a306bab7ce6cc5da2f287d4d9f11e0" title=" " alt="" coords="488,123,652,149"/>
<area shape="poly" title=" " alt="" coords="104,1191,117,1100,145,949,187,768,215,674,247,584,295,458,336,360,360,315,391,271,431,225,482,174,512,154,515,158,486,178,435,228,395,274,365,318,340,362,299,460,252,586,220,676,193,769,150,950,122,1101,109,1192"/>
<area shape="rect" href="class_r_g_w_bucket_reshard.html#ae588c08f572694b006c9ceae3e75b3f1" title=" " alt="" coords="261,597,425,640"/>
<area shape="poly" title=" " alt="" coords="108,1190,325,653,330,655,113,1192"/>
<area shape="rect" href="structrgw__bucket.html#ad369d093e39599e8eea191882fcdc6a9" title=" " alt="" coords="1422,1483,1564,1509"/>
<area shape="poly" title=" " alt="" coords="109,1219,121,1279,146,1368,165,1418,189,1468,217,1516,252,1558,325,1630,358,1656,392,1676,428,1691,468,1702,514,1707,568,1709,1035,1709,1088,1711,1134,1716,1213,1726,1250,1727,1287,1721,1328,1708,1373,1684,1394,1669,1413,1650,1444,1606,1466,1562,1481,1523,1486,1525,1471,1564,1449,1609,1417,1653,1398,1673,1376,1689,1330,1713,1289,1726,1250,1732,1213,1732,1133,1722,1087,1717,1035,1715,568,1715,514,1713,467,1707,426,1697,389,1681,355,1660,321,1634,248,1562,213,1519,184,1471,160,1420,141,1370,116,1280,104,1220"/>
<area shape="rect" href="class_r_g_w_bucket_reshard_lock.html#a61fea80ba6140750a63d86e9878286cb" title=" " alt="" coords="714,581,885,624"/>
<area shape="poly" title=" " alt="" coords="102,1191,104,1074,110,980,121,871,139,752,165,627,200,503,247,386,292,290,313,252,336,218,362,187,394,160,433,134,483,108,531,87,574,77,595,77,615,82,636,92,657,109,670,125,679,145,689,198,690,263,687,332,684,403,683,468,689,524,696,545,706,562,712,570,708,573,701,566,691,547,684,525,678,469,679,403,682,332,685,263,683,199,674,147,665,127,653,113,633,97,613,87,594,82,575,82,533,93,485,113,436,138,397,164,366,191,340,221,318,255,297,293,252,388,205,505,170,629,144,753,126,872,116,981,110,1074,107,1192"/>
<area shape="rect" href="class_r_g_w_bucket_ctl.html#aea6f07e0e4c543adeacfde25f6a5582c" title=" " alt="" coords="954,1587,1113,1629"/>
<area shape="poly" title=" " alt="" coords="111,1218,126,1265,153,1331,195,1401,221,1433,251,1461,291,1488,333,1512,423,1551,517,1580,612,1599,705,1610,793,1615,938,1613,938,1619,793,1620,705,1615,612,1604,516,1585,421,1556,331,1517,288,1493,248,1465,217,1437,190,1404,148,1334,121,1267,106,1220"/>
<area shape="rect" href="class_r_g_w_bucket_reshard.html#afcd76a86d4c925fec30237644c58cf12" title=" " alt="" coords="259,1323,427,1365"/>
<area shape="poly" title=" " alt="" coords="124,1217,180,1257,251,1302,274,1314,272,1318,248,1306,177,1262,121,1221"/>
<area shape="rect" href="classrgw_1_1sal_1_1_rados_store.html#abe4f0602b771d5549a02c0a326d6a832" title=" " alt="" coords="949,1536,1118,1563"/>
<area shape="poly" title=" " alt="" coords="114,1218,134,1251,164,1294,204,1338,251,1375,337,1420,428,1456,522,1485,616,1507,707,1523,792,1534,934,1545,933,1550,791,1539,706,1528,615,1512,520,1490,426,1461,334,1425,248,1380,200,1342,160,1297,130,1253,110,1220"/>
<area shape="rect" href="class_r_g_w_bucket_reshard_lock.html#a678aa004403478a16cf2974f542fbba6" title=" " alt="" coords="714,1048,885,1091"/>
<area shape="poly" title=" " alt="" coords="130,1189,184,1164,249,1140,368,1112,490,1093,603,1080,699,1072,699,1077,604,1085,490,1098,369,1118,250,1145,186,1169,132,1194"/>
<area shape="rect" href="class_r_g_w_reshard.html#a443a7b9368b0d599a5a0ca0401dcfc69" title=" " alt="" coords="496,1295,644,1321"/>
<area shape="poly" title=" " alt="" coords="143,1217,250,1251,370,1276,480,1294,479,1299,369,1281,249,1256,141,1222"/>
<area shape="poly" title=" " alt="" coords="436,1171,571,1165,742,1152,933,1131,1122,1100,1236,1073,1237,1078,1124,1105,933,1136,743,1157,571,1170,436,1176"/>
<area shape="poly" title=" " alt="" coords="425,603,490,596,558,593,617,597,640,603,657,613,674,630,686,649,693,668,696,688,693,728,684,769,674,809,671,849,673,868,679,887,689,905,705,923,720,934,738,942,786,952,843,957,905,957,1030,956,1083,958,1124,967,1159,982,1192,1001,1246,1040,1243,1044,1189,1006,1156,987,1122,972,1082,964,1030,961,905,963,843,962,785,958,736,947,717,938,702,927,685,909,674,889,668,869,665,849,669,808,679,767,688,727,691,688,688,670,681,651,670,634,654,617,638,608,616,602,558,598,491,602,426,609"/>
<area shape="poly" title=" " alt="" coords="351,596,389,497,433,366,441,336,443,308,445,260,447,237,452,215,463,191,482,166,494,155,498,159,486,170,468,194,457,216,452,238,450,260,449,309,446,336,439,367,394,499,356,598"/>
<area shape="rect" href="class_bucket_reshard_manager.html#acaa644855f455f26db62d100916af733" title=" " alt="" coords="490,693,650,736"/>
<area shape="poly" title=" " alt="" coords="393,638,485,679,499,685,497,690,483,684,391,643"/>
<area shape="rect" href="class_r_g_w_rados.html#aa39de5cf86e480324a4d15227144ce20" title=" " alt="" coords="504,760,636,787"/>
<area shape="poly" title=" " alt="" coords="364,638,415,692,449,721,485,746,496,751,494,756,483,750,445,725,411,696,360,642"/>
<area shape="rect" href="class_bucket_info_reshard_update.html#a48e69bc97ab8a0f0f4da5f8b2d4776cc" title=" " alt="" coords="484,1003,655,1045"/>
<area shape="poly" title=" " alt="" coords="349,640,359,707,382,800,400,850,423,900,451,947,486,989,488,991,485,995,482,992,447,950,418,902,395,852,377,801,354,708,344,641"/>
<area shape="rect" href="classrgw_1_1sal_1_1_rados_store.html#aca5c28bc0f22f3f963d0475b594350e1" title=" " alt="" coords="962,1048,1105,1091"/>
<area shape="poly" title=" " alt="" coords="347,640,351,719,358,773,369,832,386,893,411,953,444,1008,486,1055,511,1075,538,1091,596,1115,659,1127,724,1130,788,1127,849,1118,954,1093,955,1098,850,1123,788,1132,724,1136,658,1132,595,1120,535,1096,508,1080,482,1059,439,1011,406,955,381,895,364,833,352,774,345,720,341,641"/>
<area shape="rect" href="structrgw__obj__key.html#a214246c5efbd558c4c3f498c2acb65d4" title=" " alt="" coords="501,877,638,904"/>
<area shape="poly" title=" " alt="" coords="353,640,369,686,396,747,435,810,459,838,486,863,492,868,489,872,482,867,455,842,431,813,392,749,364,688,348,641"/>
<area shape="rect" href="rgw__admin_8cc.html#ab596b9e1a1fc78e98a4d13a66578b658" title=" " alt="" coords="523,952,617,979"/>
<area shape="poly" title=" " alt="" coords="352,640,368,693,395,765,434,843,459,880,486,914,503,929,523,942,520,947,500,934,482,918,454,883,430,846,390,767,363,695,347,641"/>
<area shape="rect" href="class_bucket_reshard_manager.html#ab1ee52e42a4022c5727aa252232fbd74" title=" " alt="" coords="490,275,650,317"/>
<area shape="poly" title=" " alt="" coords="346,596,361,543,388,471,427,395,453,359,482,327,485,325,489,329,486,331,457,363,432,398,392,473,366,544,351,598"/>
<area shape="rect" href="class_r_g_w_m_p_obj.html#a7bb7becd3809c5b03a99d56af6ce6337" title=" " alt="" coords="489,224,651,251"/>
<area shape="poly" title=" " alt="" coords="350,596,421,405,459,308,482,261,486,257,490,261,486,264,464,310,426,407,355,598"/>
<area shape="rect" href="structrgw__obj.html#ac435104880843012b54b3b1c280f386f" title=" " alt="" coords="486,341,654,368"/>
<area shape="poly" title=" " alt="" coords="348,596,365,550,393,492,432,431,455,402,482,378,489,373,492,378,486,382,459,406,436,434,397,494,370,553,353,598"/>
<area shape="rect" href="class_r_g_w_m_p_obj.html#a943cf939ca453f52a39b79cd31a8a6d6" title=" " alt="" coords="496,392,643,419"/>
<area shape="poly" title=" " alt="" coords="352,596,372,560,400,514,438,468,482,429,490,424,493,428,486,433,442,472,405,517,376,562,357,598"/>
<area shape="rect" href="class_r_g_w_rados.html#ae35301b3fbdbc854a630e013efbafdbb" title=" " alt="" coords="492,443,648,485"/>
<area shape="poly" title=" " alt="" coords="363,595,415,546,483,495,491,490,494,495,485,500,418,550,366,599"/>
<area shape="rect" href="class_r_g_w_bucket_ctl.html#a6ef69b8b0df300e115546f579f036ab2" title=" " alt="" coords="501,509,639,552"/>
<area shape="poly" title=" " alt="" coords="399,594,498,556,500,561,401,599"/>
<area shape="rect" href="class_r_g_w_bucket_reshard_lock.html#a8c208706eab9dd075451a121b8214182" title=" " alt="" coords="714,648,885,691"/>
<area shape="poly" title=" " alt="" coords="350,596,433,366,442,319,444,280,447,261,453,243,464,226,482,210,528,183,550,176,571,173,593,175,614,182,636,193,657,210,669,225,678,245,687,294,689,354,686,420,684,547,690,599,696,619,706,634,706,636,702,639,701,638,691,621,685,600,678,547,681,420,683,354,682,295,673,246,665,228,653,214,633,198,612,187,592,180,571,179,551,181,530,188,486,214,468,230,458,246,452,262,450,280,448,320,439,367,355,598"/>
<area shape="rect" href="class_r_g_w_bucket_reshard_lock.html#a7853e2f226ec1ffa358948919be2a373" title=" " alt="" coords="485,627,655,669"/>
<area shape="poly" title=" " alt="" coords="425,627,469,632,469,638,425,632"/>
<area shape="rect" href="class_bucket_info_reshard_update.html#ad3156e0592960affdd3f0af3eacbca37" title=" " alt="" coords="484,811,655,853"/>
<area shape="poly" title=" " alt="" coords="358,639,408,715,444,759,486,797,491,800,488,805,482,801,440,762,403,718,354,642"/>
<area shape="rect" href="class_bucket_info_reshard_update.html#a00d17f067d845a031f3e407fa3011c88" title=" " alt="" coords="714,981,885,1024"/>
<area shape="poly" title=" " alt="" coords="655,1013,698,1009,698,1015,656,1019"/>
<area shape="poly" title=" " alt="" coords="877,1022,948,1042,947,1048,876,1027"/>
<area shape="rect" href="class_r_g_w_rados.html#a87f0abb09153b85fddc998de116b22c1" title=" " alt="" coords="952,981,1115,1024"/>
<area shape="poly" title=" " alt="" coords="886,1000,937,1000,937,1005,886,1005"/>
<area shape="poly" title=" " alt="" coords="1115,1021,1237,1053,1236,1059,1114,1026"/>
<area shape="poly" title=" " alt="" coords="531,953,525,943,529,933,545,927,570,925,597,928,611,934,609,939,595,933,570,931,546,933,533,937,530,943,536,950"/>
<area shape="rect" href="class_r_g_w_m_p_obj.html#a5ba0ed5a9efbe0aee49eca3734f24029" title=" " alt="" coords="740,739,859,765"/>
<area shape="poly" title=" " alt="" coords="644,249,657,261,678,289,691,317,700,345,703,372,699,426,687,479,675,532,669,587,671,614,677,643,688,671,705,701,720,717,739,729,736,734,717,721,701,704,683,674,672,644,666,615,664,587,670,532,682,478,694,425,698,372,694,346,686,319,673,292,653,264,640,253"/>
<area shape="poly" title=" " alt="" coords="761,740,754,730,759,720,774,714,800,712,827,715,842,721,839,726,826,720,799,717,775,719,762,724,759,729,765,737"/>
<area shape="poly" title=" " alt="" coords="637,550,657,569,679,609,686,649,683,687,676,725,670,761,669,797,679,832,705,866,730,887,754,903,778,913,802,918,850,920,900,913,951,904,1005,898,1062,902,1093,910,1124,923,1165,948,1201,978,1255,1038,1251,1041,1197,982,1162,952,1122,928,1091,915,1061,908,1005,903,951,909,900,918,851,925,802,924,777,918,752,907,727,892,701,870,675,834,664,798,665,761,671,724,678,687,681,649,674,611,653,572,633,554"/>
<area shape="rect" href="class_r_g_w_bucket_metadata_handler.html#ac36fb9edf32e6f0145a033bb92993e89" title=" " alt="" coords="703,813,896,856"/>
<area shape="poly" title=" " alt="" coords="636,551,657,569,675,596,683,623,685,648,683,673,683,723,690,749,705,776,735,803,731,807,701,779,685,751,678,724,678,673,679,648,677,624,670,599,653,572,632,555"/>
<area shape="rect" href="class_r_g_w_bucket_ctl.html#ae3980ca90b030f0794e00a76b3be39c0" title=" " alt="" coords="720,509,879,552"/>
<area shape="poly" title=" " alt="" coords="639,528,704,528,704,533,639,533"/>
<area shape="poly" title=" " alt="" coords="756,813,754,803,761,794,777,789,800,787,824,789,839,795,837,800,823,794,799,792,778,794,765,799,759,805,761,812"/>
<area shape="poly" title=" " alt="" coords="872,550,1025,602,1090,628,1125,647,1145,675,1156,701,1161,726,1162,752,1161,805,1165,834,1174,867,1216,962,1257,1037,1253,1040,1211,965,1168,869,1159,835,1156,805,1156,752,1155,727,1151,703,1140,678,1121,651,1088,632,1023,607,870,555"/>
<area shape="rect" href="class_r_g_w_user_ctl.html#afaeb252671689e76d1ea3c22a3e56c6c" title=" " alt="" coords="948,661,1119,688"/>
<area shape="poly" title=" " alt="" coords="870,550,897,567,914,586,922,605,930,623,945,641,964,652,961,657,942,645,925,626,917,607,909,589,894,571,868,555"/>
<area shape="rect" href="class_r_g_w_bucket_ctl.html#a0316ea0b4ce77a8f431f79cb6687df1b" title=" " alt="" coords="947,493,1120,536"/>
<area shape="poly" title=" " alt="" coords="880,523,931,519,931,524,880,528"/>
<area shape="rect" href="class_r_g_w_s_i___bucket.html#aaa6923b5abd006f8981d08b30f566112" title=" " alt="" coords="1171,552,1374,595"/>
<area shape="poly" title=" " alt="" coords="880,538,944,545,1156,563,1155,568,943,551,879,544"/>
<area shape="rect" href="class_r_g_w_s_i___bucket.html#a0125494bd3e3ffa03922ded7b64f41fe" title=" " alt="" coords="1194,393,1352,436"/>
<area shape="poly" title=" " alt="" coords="835,507,885,480,943,456,1003,441,1064,429,1178,416,1178,422,1065,434,1004,446,945,461,887,484,837,511"/>
<area shape="rect" href="class_r_g_w_s_i___bucket.html#a469ad7b4ed146fbca66c27964eca6cba" title=" " alt="" coords="1194,468,1352,511"/>
<area shape="poly" title=" " alt="" coords="850,506,895,491,943,479,1004,472,1066,470,1178,475,1178,480,1066,475,1004,477,944,484,896,496,852,511"/>
<area shape="poly" title=" " alt="" coords="1098,686,1125,705,1141,725,1151,744,1158,781,1162,821,1174,867,1217,962,1258,1037,1253,1040,1212,964,1168,869,1156,822,1153,782,1146,746,1136,728,1121,709,1095,691"/>
<area shape="poly" title=" " alt="" coords="1065,535,1097,565,1125,604,1142,641,1151,675,1156,734,1158,794,1163,828,1174,867,1193,916,1215,962,1257,1037,1252,1040,1210,965,1188,918,1168,869,1158,829,1152,795,1151,734,1146,676,1137,643,1121,607,1093,569,1062,538"/>
<area shape="poly" title=" " alt="" coords="1121,533,1169,545,1168,550,1120,539"/>
<area shape="poly" title=" " alt="" coords="1084,490,1170,454,1203,440,1205,445,1172,458,1086,495"/>
<area shape="poly" title=" " alt="" coords="1120,503,1178,497,1178,502,1121,508"/>
<area shape="poly" title=" " alt="" coords="1287,594,1331,689,1355,752,1377,817,1402,911,1423,1009,1457,1199,1480,1360,1492,1467,1486,1468,1474,1361,1452,1200,1418,1010,1397,913,1372,818,1350,754,1326,691,1282,596"/>
<area shape="poly" title=" " alt="" coords="885,689,898,701,913,723,924,745,933,787,931,828,923,869,915,910,913,951,921,992,931,1013,946,1034,952,1041,948,1044,942,1038,926,1016,916,994,907,951,910,909,918,868,925,828,927,787,919,746,909,726,894,704,882,693"/>
<area shape="rect" href="classrgw_1_1sal_1_1_rados_store.html#aabf846e99f9f01172f86ce5e7fb1ed5b" title=" " alt="" coords="949,829,1118,856"/>
<area shape="poly" title=" " alt="" coords="882,689,898,701,910,716,917,731,922,760,927,788,934,802,946,815,950,819,946,823,942,819,929,805,922,790,917,761,912,732,905,718,894,705,879,693"/>
<area shape="rect" href="class_r_g_w_bucket_reshard_lock.html#aeca8f8183756ddb2f82f67e954ecc0cf" title=" " alt="" coords="948,763,1119,805"/>
<area shape="poly" title=" " alt="" coords="874,689,897,700,922,721,945,742,965,753,962,758,942,746,918,725,894,705,871,694"/>
<area shape="rect" href="class_r_g_w_rados.html#afd08a0b75dba3b0234ff468fca0a0c70" title=" " alt="" coords="1215,829,1331,856"/>
<area shape="poly" title=" " alt="" coords="1118,840,1199,840,1199,845,1118,845"/>
<area shape="poly" title=" " alt="" coords="641,852,657,863,675,889,682,913,688,937,705,961,718,971,715,975,701,965,684,939,677,915,670,891,653,867,638,856"/>
<area shape="poly" title=" " alt="" coords="878,622,897,634,913,650,922,667,930,683,945,698,969,711,992,717,1036,720,1079,723,1102,732,1125,749,1147,776,1157,804,1162,833,1173,867,1259,1037,1254,1040,1169,869,1157,834,1151,805,1143,779,1121,753,1099,737,1078,729,1036,725,991,723,967,716,942,702,926,686,917,670,909,654,894,638,875,627"/>
<area shape="poly" title=" " alt="" coords="885,623,898,634,916,661,928,687,935,712,938,738,934,787,923,836,912,885,908,934,910,958,917,983,928,1009,946,1034,952,1041,948,1044,942,1038,924,1011,912,985,905,959,903,934,907,884,918,835,928,786,932,738,930,713,923,688,911,663,894,638,882,627"/>
<area shape="poly" title=" " alt="" coords="884,623,898,634,914,658,921,681,922,727,922,772,930,794,946,816,949,818,945,822,942,819,925,796,917,773,916,727,916,682,909,660,894,638,880,627"/>
<area shape="poly" title=" " alt="" coords="881,622,897,634,909,648,917,662,923,689,929,716,935,729,946,742,957,752,954,756,942,746,930,732,923,717,918,690,912,664,905,651,894,638,878,627"/>
<area shape="poly" title=" " alt="" coords="1108,1584,1121,1573,1261,1092,1266,1094,1125,1576,1111,1588"/>
<area shape="rect" href="class_r_g_w_bucket_instance_metadata_handler.html#a68f5049c01e07c9e30832eac72a5f2b8" title=" " alt="" coords="1174,1632,1371,1675"/>
<area shape="poly" title=" " alt="" coords="1114,1620,1159,1629,1158,1634,1113,1626"/>
<area shape="rect" href="class_r_g_w_s_i___bucket.html#a8ff03f83a5811acd5c9b9bb1ff9e2cf2" title=" " alt="" coords="1195,1475,1351,1517"/>
<area shape="poly" title=" " alt="" coords="1100,1584,1122,1572,1136,1561,1145,1550,1155,1539,1170,1527,1179,1522,1182,1526,1172,1532,1158,1543,1149,1554,1139,1565,1124,1577,1103,1588"/>
<area shape="rect" href="class_r_g_w_s_i___bucket.html#a1f4b6b5baa6b549e309825c2b1e0c631" title=" " alt="" coords="1192,1541,1354,1584"/>
<area shape="poly" title=" " alt="" coords="1113,1590,1175,1578,1176,1584,1114,1596"/>
<area shape="poly" title=" " alt="" coords="1231,1632,1229,1622,1236,1613,1251,1607,1273,1605,1296,1608,1310,1614,1308,1619,1295,1613,1273,1611,1252,1613,1239,1617,1234,1623,1236,1631"/>
<area shape="poly" title=" " alt="" coords="1351,1493,1407,1493,1407,1499,1351,1499"/>
<area shape="poly" title=" " alt="" coords="885,1067,947,1067,947,1072,885,1072"/>
<area shape="poly" title=" " alt="" coords="876,1045,894,1034,1011,867,1016,870,897,1038,878,1050"/>
<area shape="poly" title=" " alt="" coords="644,1296,762,1278,901,1254,1031,1226,1083,1211,1122,1195,1160,1171,1195,1143,1248,1089,1252,1093,1198,1147,1163,1176,1124,1200,1085,1216,1032,1231,902,1260,763,1284,645,1301"/>
<area shape="rect" href="class_r_g_w_reshard.html#a8a99721c33933289a58ba77dbc12fa79" title=" " alt="" coords="734,1384,865,1411"/>
<area shape="poly" title=" " alt="" coords="607,1319,750,1376,748,1381,606,1324"/>
<area shape="rect" href="class_r_g_w_reshard.html#a47d4fac024eefbb41acb2935e613490f" title=" " alt="" coords="736,1317,863,1344"/>
<area shape="poly" title=" " alt="" coords="644,1313,721,1320,720,1326,644,1318"/>
<area shape="poly" title=" " alt="" coords="865,1407,924,1413,991,1412,1060,1399,1092,1387,1121,1370,1155,1342,1183,1308,1206,1270,1225,1231,1251,1154,1264,1093,1270,1095,1256,1155,1230,1233,1211,1273,1187,1311,1159,1345,1125,1374,1094,1391,1061,1404,992,1417,924,1418,865,1412"/>
<area shape="poly" title=" " alt="" coords="849,1381,873,1370,894,1354,920,1326,942,1294,979,1226,1005,1159,1021,1105,1026,1107,1010,1161,984,1228,947,1297,924,1329,897,1358,876,1374,851,1386"/>
<area shape="poly" title=" " alt="" coords="831,1409,864,1428,898,1454,913,1473,921,1490,929,1506,945,1522,953,1527,950,1531,942,1526,925,1510,916,1493,908,1476,894,1458,861,1433,828,1413"/>
<area shape="rect" href="class_r_g_w_s_i___zone.html#a0e611802f633e522028a941827fa39ea" title=" " alt="" coords="944,1485,1123,1512"/>
<area shape="poly" title=" " alt="" coords="825,1409,878,1439,945,1471,964,1478,962,1483,943,1476,876,1444,822,1414"/>
<area shape="rect" href="class_r_g_w_reshard.html#a3b433a0ee35e3762a633c7611d43b664" title=" " alt="" coords="947,1317,1120,1360"/>
<area shape="poly" title=" " alt="" coords="855,1381,931,1362,932,1367,856,1386"/>
<area shape="rect" href="rgw__tools_8cc.html#ac8fd9a95626d93661d7280c9455eba5c" title="perform the rados operation, using the yield context when given" alt="" coords="968,1435,1099,1461"/>
<area shape="poly" title=" " alt="" coords="865,1409,954,1428,953,1433,864,1414"/>
<area shape="rect" href="class_r_g_w_period.html#a2d8588f2db7c5bcf8d79bde99ac341c0" title=" " alt="" coords="1206,1424,1339,1451"/>
<area shape="poly" title=" " alt="" coords="1086,1482,1170,1460,1200,1452,1202,1458,1172,1465,1088,1487"/>
<area shape="poly" title=" " alt="" coords="1093,1432,1121,1414,1154,1377,1182,1335,1206,1290,1224,1245,1251,1159,1264,1094,1270,1095,1256,1160,1229,1247,1210,1293,1187,1338,1159,1380,1125,1418,1096,1436"/>
<area shape="poly" title=" " alt="" coords="863,1317,1007,1286,1075,1266,1122,1246,1165,1211,1203,1169,1233,1127,1255,1091,1259,1094,1237,1130,1207,1172,1169,1214,1124,1250,1077,1271,1008,1291,864,1322"/>
<area shape="poly" title=" " alt="" coords="811,1315,1000,1101,1004,1104,815,1319"/>
<area shape="poly" title=" " alt="" coords="863,1330,931,1333,931,1338,863,1335"/>
</map>
</div>
<div class="dynheader">
이 함수를 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="class_r_g_w_bucket_reshard_a319abfcc0f8c0486af32cb2ba23f1ee7_icgraph.png" border="0" usemap="#aclass_r_g_w_bucket_reshard_a319abfcc0f8c0486af32cb2ba23f1ee7_icgraph" alt=""/></div>
<map name="aclass_r_g_w_bucket_reshard_a319abfcc0f8c0486af32cb2ba23f1ee7_icgraph" id="aclass_r_g_w_bucket_reshard_a319abfcc0f8c0486af32cb2ba23f1ee7_icgraph">
<area shape="rect" title=" " alt="" coords="659,35,856,61"/>
<area shape="rect" href="rgw__admin_8cc.html#a217dbf8b442f20279ea00b898af96f52" title=" " alt="" coords="80,5,130,32"/>
<area shape="poly" title=" " alt="" coords="643,46,130,22,130,17,644,40"/>
<area shape="rect" href="class_r_g_w_reshard.html#acecb0fb6736c3fd1fc3bfbd026e46ec0" title=" " alt="" coords="456,56,611,99"/>
<area shape="poly" title=" " alt="" coords="645,65,612,70,612,64,644,60"/>
<area shape="rect" href="class_r_g_w_reshard.html#a2a859c80efebf3a6a3d14e9560663b21" title=" " alt="" coords="253,56,408,99"/>
<area shape="poly" title=" " alt="" coords="441,80,409,80,409,75,441,75"/>
<area shape="poly" title=" " alt="" coords="237,55,204,47,130,27,131,22,205,41,238,50"/>
<area shape="rect" href="class_r_g_w_reshard_1_1_reshard_worker.html#addb91f5f5beaffcf44cb51bb61bbe65a" title=" " alt="" coords="5,56,205,99"/>
<area shape="poly" title=" " alt="" coords="237,80,205,80,205,75,237,75"/>
</map>
</div>

</div>
</div>
<a id="a4a8596c53fec1467ab183c8be9f86a42" name="a4a8596c53fec1467ab183c8be9f86a42"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4a8596c53fec1467ab183c8be9f86a42">&#9670;&#160;</a></span>get_max_prime_shards()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static uint32_t RGWBucketReshard::get_max_prime_shards </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition"><a class="el" href="rgw__reshard_8h_source.html">rgw_reshard.h</a> 파일의 <a class="el" href="rgw__reshard_8h_source.html#l00136">136</a> 번째 라인에서 정의되었습니다.</p>
<div class="fragment"><div class="line"><span class="lineno">  136</span>                                         {</div>
<div class="line"><span class="lineno">  137</span>    <span class="keywordflow">return</span> *std::crbegin(<a class="code hl_variable" href="class_r_g_w_bucket_reshard.html#a54e2b3f71c196d4f9c71b1b437d0ecdd">reshard_primes</a>);</div>
<div class="line"><span class="lineno">  138</span>  }</div>
<div class="ttc" id="aclass_r_g_w_bucket_reshard_html_a54e2b3f71c196d4f9c71b1b437d0ecdd"><div class="ttname"><a href="class_r_g_w_bucket_reshard.html#a54e2b3f71c196d4f9c71b1b437d0ecdd">RGWBucketReshard::reshard_primes</a></div><div class="ttdeci">static const std::initializer_list&lt; uint16_t &gt; reshard_primes</div><div class="ttdef"><b>Definition</b> <a href="rgw__reshard_8h_source.html#l00036">rgw_reshard.h:36</a></div></div>
</div><!-- fragment --><div class="dynheader">
이 함수를 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="class_r_g_w_bucket_reshard_a4a8596c53fec1467ab183c8be9f86a42_icgraph.png" border="0" usemap="#aclass_r_g_w_bucket_reshard_a4a8596c53fec1467ab183c8be9f86a42_icgraph" alt=""/></div>
<map name="aclass_r_g_w_bucket_reshard_a4a8596c53fec1467ab183c8be9f86a42_icgraph" id="aclass_r_g_w_bucket_reshard_a4a8596c53fec1467ab183c8be9f86a42_icgraph">
<area shape="rect" title=" " alt="" coords="653,5,822,48"/>
<area shape="rect" href="class_r_g_w_bucket_reshard.html#a2b01b95bc8107bdadcba8969864f3f1b" title=" " alt="" coords="437,5,605,48"/>
<area shape="poly" title=" " alt="" coords="638,29,606,29,606,24,638,24"/>
<area shape="rect" href="class_r_g_w_rados.html#a6c4a3d20b19410f7088c7c034938a9c8" title=" " alt="" coords="210,5,389,48"/>
<area shape="poly" title=" " alt="" coords="421,29,389,29,389,24,421,24"/>
<area shape="rect" href="classrgw_1_1sal_1_1_rados_bucket.html#a6af0efad6d182eb3baa88fca2e767569" title=" " alt="" coords="5,5,162,48"/>
<area shape="poly" title=" " alt="" coords="194,29,162,29,162,24,194,24"/>
</map>
</div>

</div>
</div>
<a id="a2b01b95bc8107bdadcba8969864f3f1b" name="a2b01b95bc8107bdadcba8969864f3f1b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2b01b95bc8107bdadcba8969864f3f1b">&#9670;&#160;</a></span>get_preferred_shards()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static uint32_t RGWBucketReshard::get_preferred_shards </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>suggested_shards</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>max_dynamic_shards</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition"><a class="el" href="rgw__reshard_8h_source.html">rgw_reshard.h</a> 파일의 <a class="el" href="rgw__reshard_8h_source.html#l00168">168</a> 번째 라인에서 정의되었습니다.</p>
<div class="fragment"><div class="line"><span class="lineno">  169</span>                                                    {</div>
<div class="line"><span class="lineno">  170</span> </div>
<div class="line"><span class="lineno">  171</span>    <span class="comment">// use a prime if max is within our prime range, otherwise use</span></div>
<div class="line"><span class="lineno">  172</span>    <span class="comment">// specified max</span></div>
<div class="line"><span class="lineno">  173</span>    <span class="keyword">const</span> uint32_t absolute_max =</div>
<div class="line"><span class="lineno">  174</span>      max_dynamic_shards &gt;= <a class="code hl_function" href="class_r_g_w_bucket_reshard.html#a4a8596c53fec1467ab183c8be9f86a42">get_max_prime_shards</a>() ?</div>
<div class="line"><span class="lineno">  175</span>      max_dynamic_shards :</div>
<div class="line"><span class="lineno">  176</span>      <a class="code hl_function" href="class_r_g_w_bucket_reshard.html#ad3f326fa8a7828800e7b6722ac835b9c">get_prime_shards_less_or_equal</a>(max_dynamic_shards);</div>
<div class="line"><span class="lineno">  177</span> </div>
<div class="line"><span class="lineno">  178</span>    <span class="comment">// if we can use a prime number, use it, otherwise use suggested;</span></div>
<div class="line"><span class="lineno">  179</span>    <span class="comment">// note get_prime_shards_greater_or_equal will return 0 if no prime in</span></div>
<div class="line"><span class="lineno">  180</span>    <span class="comment">// prime range</span></div>
<div class="line"><span class="lineno">  181</span>    <span class="keyword">const</span> uint32_t prime_ish_num_shards =</div>
<div class="line"><span class="lineno">  182</span>      std::max(<a class="code hl_function" href="class_r_g_w_bucket_reshard.html#ae5cf98fad9af6738c30143dd0e3fcea1">get_prime_shards_greater_or_equal</a>(suggested_shards),</div>
<div class="line"><span class="lineno">  183</span>           suggested_shards);</div>
<div class="line"><span class="lineno">  184</span> </div>
<div class="line"><span class="lineno">  185</span>    <span class="comment">// dynamic sharding cannot reshard more than defined maximum</span></div>
<div class="line"><span class="lineno">  186</span>    <span class="keyword">const</span> uint32_t final_num_shards =</div>
<div class="line"><span class="lineno">  187</span>      std::min(prime_ish_num_shards, absolute_max);</div>
<div class="line"><span class="lineno">  188</span> </div>
<div class="line"><span class="lineno">  189</span>    <span class="keywordflow">return</span> final_num_shards;</div>
<div class="line"><span class="lineno">  190</span>  }</div>
<div class="ttc" id="aclass_r_g_w_bucket_reshard_html_a4a8596c53fec1467ab183c8be9f86a42"><div class="ttname"><a href="class_r_g_w_bucket_reshard.html#a4a8596c53fec1467ab183c8be9f86a42">RGWBucketReshard::get_max_prime_shards</a></div><div class="ttdeci">static uint32_t get_max_prime_shards()</div><div class="ttdef"><b>Definition</b> <a href="rgw__reshard_8h_source.html#l00136">rgw_reshard.h:136</a></div></div>
<div class="ttc" id="aclass_r_g_w_bucket_reshard_html_ad3f326fa8a7828800e7b6722ac835b9c"><div class="ttname"><a href="class_r_g_w_bucket_reshard.html#ad3f326fa8a7828800e7b6722ac835b9c">RGWBucketReshard::get_prime_shards_less_or_equal</a></div><div class="ttdeci">static uint32_t get_prime_shards_less_or_equal(uint32_t requested_shards)</div><div class="ttdef"><b>Definition</b> <a href="rgw__reshard_8h_source.html#l00142">rgw_reshard.h:142</a></div></div>
<div class="ttc" id="aclass_r_g_w_bucket_reshard_html_ae5cf98fad9af6738c30143dd0e3fcea1"><div class="ttname"><a href="class_r_g_w_bucket_reshard.html#ae5cf98fad9af6738c30143dd0e3fcea1">RGWBucketReshard::get_prime_shards_greater_or_equal</a></div><div class="ttdeci">static uint32_t get_prime_shards_greater_or_equal(uint32_t requested_shards)</div><div class="ttdef"><b>Definition</b> <a href="rgw__reshard_8h_source.html#l00154">rgw_reshard.h:154</a></div></div>
</div><!-- fragment --><div class="dynheader">
이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="class_r_g_w_bucket_reshard_a2b01b95bc8107bdadcba8969864f3f1b_cgraph.png" border="0" usemap="#aclass_r_g_w_bucket_reshard_a2b01b95bc8107bdadcba8969864f3f1b_cgraph" alt=""/></div>
<map name="aclass_r_g_w_bucket_reshard_a2b01b95bc8107bdadcba8969864f3f1b_cgraph" id="aclass_r_g_w_bucket_reshard_a2b01b95bc8107bdadcba8969864f3f1b_cgraph">
<area shape="rect" title=" " alt="" coords="5,80,174,123"/>
<area shape="rect" href="class_r_g_w_bucket_reshard.html#a4a8596c53fec1467ab183c8be9f86a42" title=" " alt="" coords="234,5,403,48"/>
<area shape="poly" title=" " alt="" coords="157,77,235,51,237,56,158,82"/>
<area shape="rect" href="class_r_g_w_bucket_reshard.html#ae5cf98fad9af6738c30143dd0e3fcea1" title=" " alt="" coords="234,72,403,131"/>
<area shape="poly" title=" " alt="" coords="174,99,218,99,218,104,174,104"/>
<area shape="rect" href="class_r_g_w_bucket_reshard.html#ad3f326fa8a7828800e7b6722ac835b9c" title=" " alt="" coords="222,155,415,197"/>
<area shape="poly" title=" " alt="" coords="158,121,237,147,235,152,157,126"/>
</map>
</div>
<div class="dynheader">
이 함수를 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="class_r_g_w_bucket_reshard_a2b01b95bc8107bdadcba8969864f3f1b_icgraph.png" border="0" usemap="#aclass_r_g_w_bucket_reshard_a2b01b95bc8107bdadcba8969864f3f1b_icgraph" alt=""/></div>
<map name="aclass_r_g_w_bucket_reshard_a2b01b95bc8107bdadcba8969864f3f1b_icgraph" id="aclass_r_g_w_bucket_reshard_a2b01b95bc8107bdadcba8969864f3f1b_icgraph">
<area shape="rect" title=" " alt="" coords="437,5,605,48"/>
<area shape="rect" href="class_r_g_w_rados.html#a6c4a3d20b19410f7088c7c034938a9c8" title=" " alt="" coords="210,5,389,48"/>
<area shape="poly" title=" " alt="" coords="421,29,389,29,389,24,421,24"/>
<area shape="rect" href="classrgw_1_1sal_1_1_rados_bucket.html#a6af0efad6d182eb3baa88fca2e767569" title=" " alt="" coords="5,5,162,48"/>
<area shape="poly" title=" " alt="" coords="194,29,162,29,162,24,194,24"/>
</map>
</div>

</div>
</div>
<a id="ae5cf98fad9af6738c30143dd0e3fcea1" name="ae5cf98fad9af6738c30143dd0e3fcea1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae5cf98fad9af6738c30143dd0e3fcea1">&#9670;&#160;</a></span>get_prime_shards_greater_or_equal()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static uint32_t RGWBucketReshard::get_prime_shards_greater_or_equal </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>requested_shards</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition"><a class="el" href="rgw__reshard_8h_source.html">rgw_reshard.h</a> 파일의 <a class="el" href="rgw__reshard_8h_source.html#l00154">154</a> 번째 라인에서 정의되었습니다.</p>
<div class="fragment"><div class="line"><span class="lineno">  156</span>  {</div>
<div class="line"><span class="lineno">  157</span>    <span class="keyword">auto</span> it = std::lower_bound(<a class="code hl_variable" href="class_r_g_w_bucket_reshard.html#a54e2b3f71c196d4f9c71b1b437d0ecdd">reshard_primes</a>.begin(), <a class="code hl_variable" href="class_r_g_w_bucket_reshard.html#a54e2b3f71c196d4f9c71b1b437d0ecdd">reshard_primes</a>.end(),</div>
<div class="line"><span class="lineno">  158</span>                   requested_shards);</div>
<div class="line"><span class="lineno">  159</span>    <span class="keywordflow">if</span> (it == <a class="code hl_variable" href="class_r_g_w_bucket_reshard.html#a54e2b3f71c196d4f9c71b1b437d0ecdd">reshard_primes</a>.end()) {</div>
<div class="line"><span class="lineno">  160</span>      <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">  161</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  162</span>      <span class="keywordflow">return</span> *it;</div>
<div class="line"><span class="lineno">  163</span>    }</div>
<div class="line"><span class="lineno">  164</span>  }</div>
</div><!-- fragment --><div class="dynheader">
이 함수를 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="class_r_g_w_bucket_reshard_ae5cf98fad9af6738c30143dd0e3fcea1_icgraph.png" border="0" usemap="#aclass_r_g_w_bucket_reshard_ae5cf98fad9af6738c30143dd0e3fcea1_icgraph" alt=""/></div>
<map name="aclass_r_g_w_bucket_reshard_ae5cf98fad9af6738c30143dd0e3fcea1_icgraph" id="aclass_r_g_w_bucket_reshard_ae5cf98fad9af6738c30143dd0e3fcea1_icgraph">
<area shape="rect" title=" " alt="" coords="653,5,822,64"/>
<area shape="rect" href="class_r_g_w_bucket_reshard.html#a2b01b95bc8107bdadcba8969864f3f1b" title=" " alt="" coords="437,13,605,56"/>
<area shape="poly" title=" " alt="" coords="638,37,606,37,606,32,638,32"/>
<area shape="rect" href="class_r_g_w_rados.html#a6c4a3d20b19410f7088c7c034938a9c8" title=" " alt="" coords="210,13,389,56"/>
<area shape="poly" title=" " alt="" coords="421,37,389,37,389,32,421,32"/>
<area shape="rect" href="classrgw_1_1sal_1_1_rados_bucket.html#a6af0efad6d182eb3baa88fca2e767569" title=" " alt="" coords="5,13,162,56"/>
<area shape="poly" title=" " alt="" coords="194,37,162,37,162,32,194,32"/>
</map>
</div>

</div>
</div>
<a id="ad3f326fa8a7828800e7b6722ac835b9c" name="ad3f326fa8a7828800e7b6722ac835b9c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad3f326fa8a7828800e7b6722ac835b9c">&#9670;&#160;</a></span>get_prime_shards_less_or_equal()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static uint32_t RGWBucketReshard::get_prime_shards_less_or_equal </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>requested_shards</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition"><a class="el" href="rgw__reshard_8h_source.html">rgw_reshard.h</a> 파일의 <a class="el" href="rgw__reshard_8h_source.html#l00142">142</a> 번째 라인에서 정의되었습니다.</p>
<div class="fragment"><div class="line"><span class="lineno">  142</span>                                                                            {</div>
<div class="line"><span class="lineno">  143</span>    <span class="keyword">auto</span> it = std::upper_bound(<a class="code hl_variable" href="class_r_g_w_bucket_reshard.html#a54e2b3f71c196d4f9c71b1b437d0ecdd">reshard_primes</a>.begin(), <a class="code hl_variable" href="class_r_g_w_bucket_reshard.html#a54e2b3f71c196d4f9c71b1b437d0ecdd">reshard_primes</a>.end(),</div>
<div class="line"><span class="lineno">  144</span>                   requested_shards);</div>
<div class="line"><span class="lineno">  145</span>    <span class="keywordflow">if</span> (it == <a class="code hl_variable" href="class_r_g_w_bucket_reshard.html#a54e2b3f71c196d4f9c71b1b437d0ecdd">reshard_primes</a>.begin()) {</div>
<div class="line"><span class="lineno">  146</span>      <span class="keywordflow">return</span> 1;</div>
<div class="line"><span class="lineno">  147</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  148</span>      <span class="keywordflow">return</span> *(--it);</div>
<div class="line"><span class="lineno">  149</span>    }</div>
<div class="line"><span class="lineno">  150</span>  }</div>
</div><!-- fragment --><div class="dynheader">
이 함수를 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="class_r_g_w_bucket_reshard_ad3f326fa8a7828800e7b6722ac835b9c_icgraph.png" border="0" usemap="#aclass_r_g_w_bucket_reshard_ad3f326fa8a7828800e7b6722ac835b9c_icgraph" alt=""/></div>
<map name="aclass_r_g_w_bucket_reshard_ad3f326fa8a7828800e7b6722ac835b9c_icgraph" id="aclass_r_g_w_bucket_reshard_ad3f326fa8a7828800e7b6722ac835b9c_icgraph">
<area shape="rect" title=" " alt="" coords="653,5,847,48"/>
<area shape="rect" href="class_r_g_w_bucket_reshard.html#a2b01b95bc8107bdadcba8969864f3f1b" title=" " alt="" coords="437,5,605,48"/>
<area shape="poly" title=" " alt="" coords="638,29,606,29,606,24,638,24"/>
<area shape="rect" href="class_r_g_w_rados.html#a6c4a3d20b19410f7088c7c034938a9c8" title=" " alt="" coords="210,5,389,48"/>
<area shape="poly" title=" " alt="" coords="421,29,389,29,389,24,421,24"/>
<area shape="rect" href="classrgw_1_1sal_1_1_rados_bucket.html#a6af0efad6d182eb3baa88fca2e767569" title=" " alt="" coords="5,5,162,48"/>
<area shape="poly" title=" " alt="" coords="194,29,162,29,162,24,194,24"/>
</map>
</div>

</div>
</div>
<a id="a7275c5f2d27fa8ac8f8db05aa6dc7066" name="a7275c5f2d27fa8ac8f8db05aa6dc7066"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7275c5f2d27fa8ac8f8db05aa6dc7066">&#9670;&#160;</a></span>get_status()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int RGWBucketReshard::get_status </td>
          <td>(</td>
          <td class="paramtype">const DoutPrefixProvider *&#160;</td>
          <td class="paramname"><em>dpp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::list&lt; cls_rgw_bucket_instance_entry &gt; *&#160;</td>
          <td class="paramname"><em>status</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition"><a class="el" href="rgw__reshard_8cc_source.html">rgw_reshard.cc</a> 파일의 <a class="el" href="rgw__reshard_8cc_source.html#l00709">709</a> 번째 라인에서 정의되었습니다.</p>
<div class="fragment"><div class="line"><span class="lineno">  710</span>{</div>
<div class="line"><span class="lineno">  711</span>  <span class="keywordflow">return</span> <a class="code hl_variable" href="class_r_g_w_bucket_reshard.html#a4f6af5db7fa4c14beaaa211aa4cd7b66">store</a>-&gt;<a class="code hl_function" href="classrgw_1_1sal_1_1_rados_store.html#abe4f0602b771d5549a02c0a326d6a832">svc</a>()-&gt;<a class="code hl_variable" href="struct_r_g_w_services.html#a2ad68d3e0a1930ed83815c6701e86879">bi_rados</a>-&gt;<a class="code hl_function" href="class_r_g_w_s_i___bucket_index___r_a_d_o_s.html#a47bab4a7906f139865faec5e5a5858e3">get_reshard_status</a>(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>, <a class="code hl_variable" href="class_r_g_w_bucket_reshard.html#a9a80fd0006cbe73ed86fbea20e198b67">bucket_info</a>, status);</div>
<div class="line"><span class="lineno">  712</span>}</div>
<div class="ttc" id="aclass_r_g_w_s_i___bucket_index___r_a_d_o_s_html_a47bab4a7906f139865faec5e5a5858e3"><div class="ttname"><a href="class_r_g_w_s_i___bucket_index___r_a_d_o_s.html#a47bab4a7906f139865faec5e5a5858e3">RGWSI_BucketIndex_RADOS::get_reshard_status</a></div><div class="ttdeci">int get_reshard_status(const DoutPrefixProvider *dpp, const RGWBucketInfo &amp;bucket_info, std::list&lt; cls_rgw_bucket_instance_entry &gt; *status)</div><div class="ttdef"><b>Definition</b> <a href="svc__bi__rados_8cc_source.html#l00406">svc_bi_rados.cc:406</a></div></div>
<div class="ttc" id="astruct_r_g_w_services_html_a2ad68d3e0a1930ed83815c6701e86879"><div class="ttname"><a href="struct_r_g_w_services.html#a2ad68d3e0a1930ed83815c6701e86879">RGWServices::bi_rados</a></div><div class="ttdeci">RGWSI_BucketIndex_RADOS * bi_rados</div><div class="ttdef"><b>Definition</b> <a href="rgw__service_8h_source.html#l00130">rgw_service.h:130</a></div></div>
</div><!-- fragment --><div class="dynheader">
이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="class_r_g_w_bucket_reshard_a7275c5f2d27fa8ac8f8db05aa6dc7066_cgraph.png" border="0" usemap="#aclass_r_g_w_bucket_reshard_a7275c5f2d27fa8ac8f8db05aa6dc7066_cgraph" alt=""/></div>
<map name="aclass_r_g_w_bucket_reshard_a7275c5f2d27fa8ac8f8db05aa6dc7066_cgraph" id="aclass_r_g_w_bucket_reshard_a7275c5f2d27fa8ac8f8db05aa6dc7066_cgraph">
<area shape="rect" title=" " alt="" coords="5,56,174,99"/>
<area shape="rect" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5" title=" " alt="" coords="545,5,587,32"/>
<area shape="poly" title=" " alt="" coords="167,53,221,41,307,30,393,23,529,17,529,22,394,28,308,35,222,47,168,58"/>
<area shape="rect" href="class_r_g_w_s_i___bucket_index___r_a_d_o_s.html#a47bab4a7906f139865faec5e5a5858e3" title=" " alt="" coords="222,56,419,99"/>
<area shape="poly" title=" " alt="" coords="174,75,206,75,206,80,174,80"/>
<area shape="rect" href="classrgw_1_1sal_1_1_rados_store.html#abe4f0602b771d5549a02c0a326d6a832" title=" " alt="" coords="236,123,405,149"/>
<area shape="poly" title=" " alt="" coords="175,96,251,116,249,121,173,101"/>
<area shape="poly" title=" " alt="" coords="412,53,528,25,530,30,413,58"/>
<area shape="rect" href="class_r_g_w_s_i___r_a_d_o_s_1_1_pool.html#a93e7513947d59965733e309d18e7b192" title=" " alt="" coords="486,56,646,99"/>
<area shape="poly" title=" " alt="" coords="419,75,470,75,470,80,419,80"/>
<area shape="rect" href="class_r_g_w_s_i___bucket_index___r_a_d_o_s.html#aaa63aef652cb6b732d3d1209f8a75954" title=" " alt="" coords="467,123,664,165"/>
<area shape="poly" title=" " alt="" coords="402,97,471,115,469,121,401,102"/>
</map>
</div>
<div class="dynheader">
이 함수를 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="class_r_g_w_bucket_reshard_a7275c5f2d27fa8ac8f8db05aa6dc7066_icgraph.png" border="0" usemap="#aclass_r_g_w_bucket_reshard_a7275c5f2d27fa8ac8f8db05aa6dc7066_icgraph" alt=""/></div>
<map name="aclass_r_g_w_bucket_reshard_a7275c5f2d27fa8ac8f8db05aa6dc7066_icgraph" id="aclass_r_g_w_bucket_reshard_a7275c5f2d27fa8ac8f8db05aa6dc7066_icgraph">
<area shape="rect" title=" " alt="" coords="103,5,271,48"/>
<area shape="rect" href="rgw__admin_8cc.html#a217dbf8b442f20279ea00b898af96f52" title=" " alt="" coords="5,13,55,40"/>
<area shape="poly" title=" " alt="" coords="87,29,55,29,55,24,87,24"/>
</map>
</div>

</div>
</div>
<a id="a80cb46ef72372674f8b8dfcb6a94693a" name="a80cb46ef72372674f8b8dfcb6a94693a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a80cb46ef72372674f8b8dfcb6a94693a">&#9670;&#160;</a></span>set_resharding_status() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int RGWBucketReshard::set_resharding_status </td>
          <td>(</td>
          <td class="paramtype">const DoutPrefixProvider *&#160;</td>
          <td class="paramname"><em>dpp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>new_instance_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int32_t&#160;</td>
          <td class="paramname"><em>num_shards</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">cls_rgw_reshard_status&#160;</td>
          <td class="paramname"><em>status</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition"><a class="el" href="rgw__reshard_8h_source.html">rgw_reshard.h</a> 파일의 <a class="el" href="rgw__reshard_8h_source.html#l00129">129</a> 번째 라인에서 정의되었습니다.</p>
<div class="fragment"><div class="line"><span class="lineno">  131</span>                                               {</div>
<div class="line"><span class="lineno">  132</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="class_r_g_w_bucket_reshard.html#afcd76a86d4c925fec30237644c58cf12">set_resharding_status</a>(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>, <a class="code hl_variable" href="class_r_g_w_bucket_reshard.html#a4f6af5db7fa4c14beaaa211aa4cd7b66">store</a>, <a class="code hl_variable" href="class_r_g_w_bucket_reshard.html#a9a80fd0006cbe73ed86fbea20e198b67">bucket_info</a>,</div>
<div class="line"><span class="lineno">  133</span>                 new_instance_id, num_shards, status);</div>
<div class="line"><span class="lineno">  134</span>  }</div>
</div><!-- fragment --><div class="dynheader">
이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="class_r_g_w_bucket_reshard_a80cb46ef72372674f8b8dfcb6a94693a_cgraph.png" border="0" usemap="#aclass_r_g_w_bucket_reshard_a80cb46ef72372674f8b8dfcb6a94693a_cgraph" alt=""/></div>
<map name="aclass_r_g_w_bucket_reshard_a80cb46ef72372674f8b8dfcb6a94693a_cgraph" id="aclass_r_g_w_bucket_reshard_a80cb46ef72372674f8b8dfcb6a94693a_cgraph">
<area shape="rect" title=" " alt="" coords="5,27,174,69"/>
<area shape="rect" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5" title=" " alt="" coords="285,5,327,32"/>
<area shape="poly" title=" " alt="" coords="174,34,269,21,270,26,174,39"/>
<area shape="rect" href="class_r_g_w_bucket_reshard.html#afcd76a86d4c925fec30237644c58cf12" title=" " alt="" coords="222,56,390,99"/>
<area shape="poly" title=" " alt="" coords="174,57,206,61,206,66,174,62"/>
</map>
</div>

</div>
</div>
<a id="afcd76a86d4c925fec30237644c58cf12" name="afcd76a86d4c925fec30237644c58cf12"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afcd76a86d4c925fec30237644c58cf12">&#9670;&#160;</a></span>set_resharding_status() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int RGWBucketReshard::set_resharding_status </td>
          <td>(</td>
          <td class="paramtype">const DoutPrefixProvider *&#160;</td>
          <td class="paramname"><em>dpp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classrgw_1_1sal_1_1_rados_store.html">rgw::sal::RadosStore</a> *&#160;</td>
          <td class="paramname"><em>store</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="struct_r_g_w_bucket_info.html">RGWBucketInfo</a> &amp;&#160;</td>
          <td class="paramname"><em>bucket_info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>new_instance_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int32_t&#160;</td>
          <td class="paramname"><em>num_shards</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">cls_rgw_reshard_status&#160;</td>
          <td class="paramname"><em>status</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
이 함수를 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="class_r_g_w_bucket_reshard_afcd76a86d4c925fec30237644c58cf12_icgraph.png" border="0" usemap="#aclass_r_g_w_bucket_reshard_afcd76a86d4c925fec30237644c58cf12_icgraph" alt=""/></div>
<map name="aclass_r_g_w_bucket_reshard_afcd76a86d4c925fec30237644c58cf12_icgraph" id="aclass_r_g_w_bucket_reshard_afcd76a86d4c925fec30237644c58cf12_icgraph">
<area shape="rect" title=" " alt="" coords="940,131,1108,173"/>
<area shape="rect" href="class_r_g_w_bucket_reshard.html#a9733156e6b004c4df0ed5965cf423c03" title=" " alt="" coords="698,72,889,115"/>
<area shape="poly" title=" " alt="" coords="924,129,879,118,880,113,925,124"/>
<area shape="rect" href="class_r_g_w_bucket_reshard.html#a319abfcc0f8c0486af32cb2ba23f1ee7" title=" " alt="" coords="695,139,892,165"/>
<area shape="poly" title=" " alt="" coords="924,155,892,155,892,149,924,149"/>
<area shape="rect" href="class_r_g_w_bucket_reshard.html#a80cb46ef72372674f8b8dfcb6a94693a" title=" " alt="" coords="709,189,878,232"/>
<area shape="poly" title=" " alt="" coords="925,180,879,192,878,187,924,175"/>
<area shape="rect" href="class_r_g_w_bucket_reshard.html#ac8b732cd96fc3fb512af627bcefcb6b0" title=" " alt="" coords="456,5,647,48"/>
<area shape="poly" title=" " alt="" coords="699,70,631,51,633,46,700,65"/>
<area shape="rect" href="class_bucket_info_reshard_update.html#ab0d93e19d1a7c32367d4ef83b03b15cf" title=" " alt="" coords="458,72,645,115"/>
<area shape="poly" title=" " alt="" coords="682,96,646,96,646,91,682,91"/>
<area shape="rect" href="rgw__admin_8cc.html#a217dbf8b442f20279ea00b898af96f52" title=" " alt="" coords="80,139,130,165"/>
<area shape="poly" title=" " alt="" coords="680,155,130,155,130,149,680,149"/>
<area shape="rect" href="class_r_g_w_reshard.html#acecb0fb6736c3fd1fc3bfbd026e46ec0" title=" " alt="" coords="474,189,629,232"/>
<area shape="poly" title=" " alt="" coords="722,172,630,194,629,189,720,167"/>
<area shape="rect" href="class_r_g_w_reshard.html#a2a859c80efebf3a6a3d14e9560663b21" title=" " alt="" coords="253,189,408,232"/>
<area shape="poly" title=" " alt="" coords="459,213,408,213,408,208,459,208"/>
<area shape="poly" title=" " alt="" coords="237,189,204,180,130,161,131,155,205,175,238,183"/>
<area shape="rect" href="class_r_g_w_reshard_1_1_reshard_worker.html#addb91f5f5beaffcf44cb51bb61bbe65a" title=" " alt="" coords="5,189,205,232"/>
<area shape="poly" title=" " alt="" coords="237,213,205,213,205,208,237,208"/>
</map>
</div>

</div>
</div>
<h2 class="groupheader">Friend, 그리고 관련된 함수 문서화</h2>
<a id="af4009af0b53e8abac660836178c8069a" name="af4009af0b53e8abac660836178c8069a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af4009af0b53e8abac660836178c8069a">&#9670;&#160;</a></span>RGWReshard</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">friend class <a class="el" href="class_r_g_w_reshard.html">RGWReshard</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">friend</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition"><a class="el" href="rgw__reshard_8h_source.html">rgw_reshard.h</a> 파일의 <a class="el" href="rgw__reshard_8h_source.html#l00070">70</a> 번째 라인에서 정의되었습니다.</p>

</div>
</div>
<h2 class="groupheader">멤버 데이터 문서화</h2>
<a id="aa7cdab7c31eb7eb4652a335e0c5cdcfe" name="aa7cdab7c31eb7eb4652a335e0c5cdcfe"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa7cdab7c31eb7eb4652a335e0c5cdcfe">&#9670;&#160;</a></span>bucket_attrs</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::map&lt;std::string, bufferlist&gt; RGWBucketReshard::bucket_attrs</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition"><a class="el" href="rgw__reshard_8h_source.html">rgw_reshard.h</a> 파일의 <a class="el" href="rgw__reshard_8h_source.html#l00078">78</a> 번째 라인에서 정의되었습니다.</p>

</div>
</div>
<a id="a9a80fd0006cbe73ed86fbea20e198b67" name="a9a80fd0006cbe73ed86fbea20e198b67"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9a80fd0006cbe73ed86fbea20e198b67">&#9670;&#160;</a></span>bucket_info</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="struct_r_g_w_bucket_info.html">RGWBucketInfo</a> RGWBucketReshard::bucket_info</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition"><a class="el" href="rgw__reshard_8h_source.html">rgw_reshard.h</a> 파일의 <a class="el" href="rgw__reshard_8h_source.html#l00077">77</a> 번째 라인에서 정의되었습니다.</p>

</div>
</div>
<a id="a934de5bc39e4398daffeb3c93a430e6e" name="a934de5bc39e4398daffeb3c93a430e6e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a934de5bc39e4398daffeb3c93a430e6e">&#9670;&#160;</a></span>outer_reshard_lock</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_r_g_w_bucket_reshard_lock.html">RGWBucketReshardLock</a>* RGWBucketReshard::outer_reshard_lock</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition"><a class="el" href="rgw__reshard_8h_source.html">rgw_reshard.h</a> 파일의 <a class="el" href="rgw__reshard_8h_source.html#l00081">81</a> 번째 라인에서 정의되었습니다.</p>

</div>
</div>
<a id="ad0deed6306d9a0324d10d0d20f3f1059" name="ad0deed6306d9a0324d10d0d20f3f1059"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad0deed6306d9a0324d10d0d20f3f1059">&#9670;&#160;</a></span>reshard_lock</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_r_g_w_bucket_reshard_lock.html">RGWBucketReshardLock</a> RGWBucketReshard::reshard_lock</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition"><a class="el" href="rgw__reshard_8h_source.html">rgw_reshard.h</a> 파일의 <a class="el" href="rgw__reshard_8h_source.html#l00080">80</a> 번째 라인에서 정의되었습니다.</p>

</div>
</div>
<a id="a54e2b3f71c196d4f9c71b1b437d0ecdd" name="a54e2b3f71c196d4f9c71b1b437d0ecdd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a54e2b3f71c196d4f9c71b1b437d0ecdd">&#9670;&#160;</a></span>reshard_primes</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const std::initializer_list&lt; uint16_t &gt; RGWBucketReshard::reshard_primes</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<b>초기값:</b><div class="fragment"><div class="line">= {</div>
<div class="line">  1, 2, 3, 5, 7, 11, 13, 17, 19, 23, 29, 31, 37, 41, 43, 47, 53, 59, 61,</div>
<div class="line">  67, 71, 73, 79, 83, 89, 97, 101, 103, 107, 109, 113, 127, 131, 137,</div>
<div class="line">  139, 149, 151, 157, 163, 167, 173, 179, 181, 191, 193, 197, 199, 211,</div>
<div class="line">  223, 227, 229, 233, 239, 241, 251, 257, 263, 269, 271, 277, 281, 283,</div>
<div class="line">  293, 307, 311, 313, 317, 331, 337, 347, 349, 353, 359, 367, 373, 379,</div>
<div class="line">  383, 389, 397, 401, 409, 419, 421, 431, 433, 439, 443, 449, 457, 461,</div>
<div class="line">  463, 467, 479, 487, 491, 499, 503, 509, 521, 523, 541, 547, 557, 563,</div>
<div class="line">  569, 571, 577, 587, 593, 599, 601, 607, 613, 617, 619, 631, 641, 643,</div>
<div class="line">  647, 653, 659, 661, 673, 677, 683, 691, 701, 709, 719, 727, 733, 739,</div>
<div class="line">  743, 751, 757, 761, 769, 773, 787, 797, 809, 811, 821, 823, 827, 829,</div>
<div class="line">  839, 853, 857, 859, 863, 877, 881, 883, 887, 907, 911, 919, 929, 937,</div>
<div class="line">  941, 947, 953, 967, 971, 977, 983, 991, 997, 1009, 1013, 1019, 1021,</div>
<div class="line">  1031, 1033, 1039, 1049, 1051, 1061, 1063, 1069, 1087, 1091, 1093,</div>
<div class="line">  1097, 1103, 1109, 1117, 1123, 1129, 1151, 1153, 1163, 1171, 1181,</div>
<div class="line">  1187, 1193, 1201, 1213, 1217, 1223, 1229, 1231, 1237, 1249, 1259,</div>
<div class="line">  1277, 1279, 1283, 1289, 1291, 1297, 1301, 1303, 1307, 1319, 1321,</div>
<div class="line">  1327, 1361, 1367, 1373, 1381, 1399, 1409, 1423, 1427, 1429, 1433,</div>
<div class="line">  1439, 1447, 1451, 1453, 1459, 1471, 1481, 1483, 1487, 1489, 1493,</div>
<div class="line">  1499, 1511, 1523, 1531, 1543, 1549, 1553, 1559, 1567, 1571, 1579,</div>
<div class="line">  1583, 1597, 1601, 1607, 1609, 1613, 1619, 1621, 1627, 1637, 1657,</div>
<div class="line">  1663, 1667, 1669, 1693, 1697, 1699, 1709, 1721, 1723, 1733, 1741,</div>
<div class="line">  1747, 1753, 1759, 1777, 1783, 1787, 1789, 1801, 1811, 1823, 1831,</div>
<div class="line">  1847, 1861, 1867, 1871, 1873, 1877, 1879, 1889, 1901, 1907, 1913,</div>
<div class="line">  1931, 1933, 1949, 1951, 1973, 1979, 1987, 1993, 1997, 1999</div>
<div class="line">}</div>
</div><!-- fragment -->
<p class="definition"><a class="el" href="rgw__reshard_8h_source.html">rgw_reshard.h</a> 파일의 <a class="el" href="rgw__reshard_8h_source.html#l00036">36</a> 번째 라인에서 정의되었습니다.</p>
<div class="fragment"><div class="line"><span class="lineno">   43</span>                                              {</div>
<div class="line"><span class="lineno">   44</span>    start_time = now;</div>
<div class="line"><span class="lineno">   45</span>    renew_thresh = start_time + duration / 2;</div>
<div class="line"><span class="lineno">   46</span>  }</div>
<div class="line"><span class="lineno">   47</span> </div>
<div class="line"><span class="lineno">   48</span><span class="keyword">public</span>:</div>
<div class="line"><span class="lineno">   49</span>  <a class="code hl_class" href="class_r_g_w_bucket_reshard_lock.html">RGWBucketReshardLock</a>(<a class="code hl_class" href="classrgw_1_1sal_1_1_rados_store.html">rgw::sal::RadosStore</a>* _store,</div>
<div class="line"><span class="lineno">   50</span>               <span class="keyword">const</span> std::string&amp; reshard_lock_oid,</div>
<div class="line"><span class="lineno">   51</span>               <span class="keywordtype">bool</span> _ephemeral);</div>
<div class="line"><span class="lineno">   52</span>  <a class="code hl_class" href="class_r_g_w_bucket_reshard_lock.html">RGWBucketReshardLock</a>(<a class="code hl_class" href="classrgw_1_1sal_1_1_rados_store.html">rgw::sal::RadosStore</a>* _store,</div>
<div class="line"><span class="lineno">   53</span>               <span class="keyword">const</span> <a class="code hl_struct" href="struct_r_g_w_bucket_info.html">RGWBucketInfo</a>&amp; <a class="code hl_variable" href="class_r_g_w_bucket_reshard.html#a9a80fd0006cbe73ed86fbea20e198b67">bucket_info</a>,</div>
<div class="line"><span class="lineno">   54</span>               <span class="keywordtype">bool</span> _ephemeral) :</div>
<div class="line"><span class="lineno">   55</span>    <a class="code hl_class" href="class_r_g_w_bucket_reshard_lock.html">RGWBucketReshardLock</a>(_store, <a class="code hl_variable" href="class_r_g_w_bucket_reshard.html#a9a80fd0006cbe73ed86fbea20e198b67">bucket_info</a>.bucket.get_key(<span class="stringliteral">&#39;:&#39;</span>), _ephemeral)</div>
<div class="line"><span class="lineno">   56</span>  {}</div>
<div class="line"><span class="lineno">   57</span> </div>
<div class="line"><span class="lineno">   58</span>  <span class="keywordtype">int</span> lock(<span class="keyword">const</span> DoutPrefixProvider *<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>);</div>
<div class="line"><span class="lineno">   59</span>  <span class="keywordtype">void</span> unlock();</div>
<div class="line"><span class="lineno">   60</span>  <span class="keywordtype">int</span> renew(<span class="keyword">const</span> Clock::time_point&amp;);</div>
<div class="line"><span class="lineno">   61</span> </div>
<div class="ttc" id="aclass_r_g_w_bucket_reshard_lock_html"><div class="ttname"><a href="class_r_g_w_bucket_reshard_lock.html">RGWBucketReshardLock</a></div><div class="ttdef"><b>Definition</b> <a href="rgw__reshard_8h_source.html#l00031">rgw_reshard.h:31</a></div></div>
<div class="ttc" id="aclassrgw_1_1sal_1_1_rados_store_html"><div class="ttname"><a href="classrgw_1_1sal_1_1_rados_store.html">rgw::sal::RadosStore</a></div><div class="ttdef"><b>Definition</b> <a href="rgw__sal__rados_8h_source.html#l00363">rgw_sal_rados.h:363</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a4f6af5db7fa4c14beaaa211aa4cd7b66" name="a4f6af5db7fa4c14beaaa211aa4cd7b66"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4f6af5db7fa4c14beaaa211aa4cd7b66">&#9670;&#160;</a></span>store</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classrgw_1_1sal_1_1_rados_store.html">rgw::sal::RadosStore</a>* RGWBucketReshard::store</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition"><a class="el" href="rgw__reshard_8h_source.html">rgw_reshard.h</a> 파일의 <a class="el" href="rgw__reshard_8h_source.html#l00076">76</a> 번째 라인에서 정의되었습니다.</p>

</div>
</div>
<hr/>이 클래스에 대한 문서화 페이지는 다음의 파일들로부터 생성되었습니다.:<ul>
<li>D:/git/ceph/src/rgw/<a class="el" href="rgw__reshard_8h_source.html">rgw_reshard.h</a></li>
<li>D:/git/ceph/src/rgw/<a class="el" href="rgw__reshard_8cc_source.html">rgw_reshard.cc</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="class_r_g_w_bucket_reshard.html">RGWBucketReshard</a></li>
    <li class="footer">다음에 의해 생성됨 :  <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8 </li>
  </ul>
</div>
</body>
</html>
