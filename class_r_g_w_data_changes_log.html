<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="ko">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>My Project: RGWDataChangesLog 클래스 참조</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">My Project
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- 다음에 의해 생성됨 :  Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','검색');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('class_r_g_w_data_changes_log.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">로딩중...</div>
<div class="SRStatus" id="Searching">검색중...</div>
<div class="SRStatus" id="NoMatches">일치하는것 없음</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">클래스</a> &#124;
<a href="#pub-types">Public 타입</a> &#124;
<a href="#pub-methods">Public 멤버 함수</a> &#124;
<a href="#pri-types">Private 타입</a> &#124;
<a href="#pri-methods">Private 멤버 함수</a> &#124;
<a href="#pri-attribs">Private 속성</a> &#124;
<a href="class_r_g_w_data_changes_log-members.html">모든 멤버 목록</a>  </div>
  <div class="headertitle"><div class="title">RGWDataChangesLog 클래스 참조</div></div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="rgw__datalog_8h_source.html">rgw_datalog.h</a>&gt;</code></p>
<div class="dynheader">
RGWDataChangesLog에 대한 협력 다이어그램:</div>
<div class="dyncontent">
<div class="center"><img src="class_r_g_w_data_changes_log__coll__graph.png" border="0" usemap="#a_r_g_w_data_changes_log_coll__map" alt="Collaboration graph"/></div>
<map name="a_r_g_w_data_changes_log_coll__map" id="a_r_g_w_data_changes_log_coll__map">
<area shape="rect" title=" " alt="" coords="195,635,366,1429"/>
<area shape="rect" href="structrgw_1_1_bucket_change_observer.html" title="Interface to inform the trim process about which buckets are most active" alt="" coords="5,333,183,424"/>
<area shape="poly" title=" " alt="" coords="108,423,159,610,193,728,188,729,154,611,103,425"/>
<area shape="rect" href="struct_r_g_w_zone.html" title=" " alt="" coords="294,187,473,571"/>
<area shape="poly" title=" " alt="" coords="356,571,348,618,343,618,351,570"/>
<area shape="rect" title=" " alt="" coords="230,5,275,75"/>
<area shape="poly" title=" " alt="" coords="253,74,246,187,241,379,246,571,248,618,243,618,240,571,236,379,240,187,247,74"/>
<area shape="poly" title=" " alt="" coords="268,73,306,170,301,172,263,75"/>
<area shape="rect" href="classlru__map.html" title=" " alt="" coords="497,336,667,421"/>
<area shape="poly" title=" " alt="" coords="565,422,376,832,371,830,561,420"/>
</map>
</div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
클래스</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_r_g_w_data_changes_log_1_1_change_status.html">ChangeStatus</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-types" name="pub-types"></a>
Public 타입</h2></td></tr>
<tr class="memitem:a3e644e3bb04ccaf4f1a87e9c412b0364" id="r_a3e644e3bb04ccaf4f1a87e9c412b0364"><td class="memItemLeft" align="right" valign="top">using&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_r_g_w_data_changes_log.html#a3e644e3bb04ccaf4f1a87e9c412b0364">LogMarker</a> = <a class="el" href="struct_r_g_w_data_changes_log_marker.html">RGWDataChangesLogMarker</a></td></tr>
<tr class="separator:a3e644e3bb04ccaf4f1a87e9c412b0364"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public 멤버 함수</h2></td></tr>
<tr class="memitem:a557ea1dc752a8dd187d78e29e275d16f" id="r_a557ea1dc752a8dd187d78e29e275d16f"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_r_g_w_data_changes_log.html#a557ea1dc752a8dd187d78e29e275d16f">RGWDataChangesLog</a> (CephContext *<a class="el" href="class_r_g_w_data_changes_log.html#af0ac934d9ab9db8e47e046dc7e4e977b">cct</a>)</td></tr>
<tr class="separator:a557ea1dc752a8dd187d78e29e275d16f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad699bcd7a081e3209c0c50852c1248be" id="r_ad699bcd7a081e3209c0c50852c1248be"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_r_g_w_data_changes_log.html#ad699bcd7a081e3209c0c50852c1248be">~RGWDataChangesLog</a> ()</td></tr>
<tr class="separator:ad699bcd7a081e3209c0c50852c1248be"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a88f3364b1bbf290c257ee6aa39618b92" id="r_a88f3364b1bbf290c257ee6aa39618b92"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_r_g_w_data_changes_log.html#a88f3364b1bbf290c257ee6aa39618b92">start</a> (const DoutPrefixProvider *<a class="el" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>, const <a class="el" href="struct_r_g_w_zone.html">RGWZone</a> *_zone, const <a class="el" href="struct_r_g_w_zone_params.html">RGWZoneParams</a> &amp;zoneparams, librados::Rados *lr)</td></tr>
<tr class="separator:a88f3364b1bbf290c257ee6aa39618b92"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a47abef6595c8dd36459547a88674f2d5" id="r_a47abef6595c8dd36459547a88674f2d5"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_r_g_w_data_changes_log.html#a47abef6595c8dd36459547a88674f2d5">add_entry</a> (const DoutPrefixProvider *<a class="el" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>, const <a class="el" href="struct_r_g_w_bucket_info.html">RGWBucketInfo</a> &amp;bucket_info, int shard_id)</td></tr>
<tr class="separator:a47abef6595c8dd36459547a88674f2d5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a12e7037a9e18f965bffc75d81b010dad" id="r_a12e7037a9e18f965bffc75d81b010dad"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_r_g_w_data_changes_log.html#a12e7037a9e18f965bffc75d81b010dad">get_log_shard_id</a> (<a class="el" href="structrgw__bucket.html">rgw_bucket</a> &amp;bucket, int shard_id)</td></tr>
<tr class="separator:a12e7037a9e18f965bffc75d81b010dad"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a664935eccae980b32efe3e84b874937d" id="r_a664935eccae980b32efe3e84b874937d"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_r_g_w_data_changes_log.html#a664935eccae980b32efe3e84b874937d">list_entries</a> (const DoutPrefixProvider *<a class="el" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>, int shard, int max_entries, std::vector&lt; <a class="el" href="structrgw__data__change__log__entry.html">rgw_data_change_log_entry</a> &gt; &amp;<a class="el" href="cls__fifo__legacy_8cc.html#a0341b0ec09e77f9d6274d5b1517f7711">entries</a>, std::string_view marker, std::string *out_marker, bool *truncated)</td></tr>
<tr class="separator:a664935eccae980b32efe3e84b874937d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a80ef573ce60986a09f8f259870a5dda4" id="r_a80ef573ce60986a09f8f259870a5dda4"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_r_g_w_data_changes_log.html#a80ef573ce60986a09f8f259870a5dda4">trim_entries</a> (const DoutPrefixProvider *<a class="el" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>, int shard_id, std::string_view marker)</td></tr>
<tr class="separator:a80ef573ce60986a09f8f259870a5dda4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a02408db2a1337732bf6faf345bd5f8fd" id="r_a02408db2a1337732bf6faf345bd5f8fd"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_r_g_w_data_changes_log.html#a02408db2a1337732bf6faf345bd5f8fd">trim_entries</a> (const DoutPrefixProvider *<a class="el" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>, int shard_id, std::string_view marker, librados::AioCompletion *<a class="el" href="rgw__aio_8cc.html#af3997c9b015c5696191674621076ae50">c</a>)</td></tr>
<tr class="separator:a02408db2a1337732bf6faf345bd5f8fd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a494b289195a8668ee61161bd40164aeb" id="r_a494b289195a8668ee61161bd40164aeb"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_r_g_w_data_changes_log.html#a494b289195a8668ee61161bd40164aeb">get_info</a> (const DoutPrefixProvider *<a class="el" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>, int shard_id, <a class="el" href="struct_r_g_w_data_changes_log_info.html">RGWDataChangesLogInfo</a> *info)</td></tr>
<tr class="separator:a494b289195a8668ee61161bd40164aeb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad3fac8e2c245ad24daf58d1be64154fc" id="r_ad3fac8e2c245ad24daf58d1be64154fc"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_r_g_w_data_changes_log.html#ad3fac8e2c245ad24daf58d1be64154fc">list_entries</a> (const DoutPrefixProvider *<a class="el" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>, int max_entries, std::vector&lt; <a class="el" href="structrgw__data__change__log__entry.html">rgw_data_change_log_entry</a> &gt; &amp;<a class="el" href="cls__fifo__legacy_8cc.html#a0341b0ec09e77f9d6274d5b1517f7711">entries</a>, <a class="el" href="class_r_g_w_data_changes_log.html#a3e644e3bb04ccaf4f1a87e9c412b0364">LogMarker</a> &amp;marker, bool *ptruncated)</td></tr>
<tr class="separator:ad3fac8e2c245ad24daf58d1be64154fc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afc0615cb71609115df900a34dca00218" id="r_afc0615cb71609115df900a34dca00218"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_r_g_w_data_changes_log.html#afc0615cb71609115df900a34dca00218">mark_modified</a> (int shard_id, const <a class="el" href="structrgw__bucket__shard.html">rgw_bucket_shard</a> &amp;bs)</td></tr>
<tr class="separator:afc0615cb71609115df900a34dca00218"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af86494695a4a0d0d1520cc265f717b33" id="r_af86494695a4a0d0d1520cc265f717b33"><td class="memItemLeft" align="right" valign="top">auto&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_r_g_w_data_changes_log.html#af86494695a4a0d0d1520cc265f717b33">read_clear_modified</a> ()</td></tr>
<tr class="separator:af86494695a4a0d0d1520cc265f717b33"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0e38189d1705f32bc6388a64b421b827" id="r_a0e38189d1705f32bc6388a64b421b827"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_r_g_w_data_changes_log.html#a0e38189d1705f32bc6388a64b421b827">set_observer</a> (<a class="el" href="structrgw_1_1_bucket_change_observer.html">rgw::BucketChangeObserver</a> *<a class="el" href="class_r_g_w_data_changes_log.html#a1a87b9cdd0fc87950ab740aeebcc7d1a">observer</a>)</td></tr>
<tr class="separator:a0e38189d1705f32bc6388a64b421b827"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a15d1f41242a9b744b5664ad432458906" id="r_a15d1f41242a9b744b5664ad432458906"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_r_g_w_data_changes_log.html#a15d1f41242a9b744b5664ad432458906">set_bucket_filter</a> (decltype(<a class="el" href="class_r_g_w_data_changes_log.html#a61080bda904ae53d83ea1ca81cdfd47b">bucket_filter</a>)&amp;&amp;f)</td></tr>
<tr class="separator:a15d1f41242a9b744b5664ad432458906"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae3bc3a28cd6a55cc50d2c361cf45fb1b" id="r_ae3bc3a28cd6a55cc50d2c361cf45fb1b"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_r_g_w_data_changes_log.html#ae3bc3a28cd6a55cc50d2c361cf45fb1b">max_marker</a> () const</td></tr>
<tr class="separator:ae3bc3a28cd6a55cc50d2c361cf45fb1b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a57d902a10e5c4015ddc7eb4e75164112" id="r_a57d902a10e5c4015ddc7eb4e75164112"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_r_g_w_data_changes_log.html#a57d902a10e5c4015ddc7eb4e75164112">get_oid</a> (uint64_t gen_id, int shard_id) const</td></tr>
<tr class="separator:a57d902a10e5c4015ddc7eb4e75164112"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0b8b7ebe9cb721c6cd373fe5f7a11437" id="r_a0b8b7ebe9cb721c6cd373fe5f7a11437"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_r_g_w_data_changes_log.html#a0b8b7ebe9cb721c6cd373fe5f7a11437">change_format</a> (const DoutPrefixProvider *<a class="el" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>, <a class="el" href="rgw__log__backing_8h.html#a8488e4c6d9298df81f48a34e80c81410">log_type</a> type, optional_yield y)</td></tr>
<tr class="separator:a0b8b7ebe9cb721c6cd373fe5f7a11437"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aabbafc54d5200021a8d5ee30b64f24df" id="r_aabbafc54d5200021a8d5ee30b64f24df"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_r_g_w_data_changes_log.html#aabbafc54d5200021a8d5ee30b64f24df">trim_generations</a> (const DoutPrefixProvider *<a class="el" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>, std::optional&lt; uint64_t &gt; &amp;through)</td></tr>
<tr class="separator:aabbafc54d5200021a8d5ee30b64f24df"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pri-types" name="pri-types"></a>
Private 타입</h2></td></tr>
<tr class="memitem:addff264ba685ef1626b30ec1512275e6" id="r_addff264ba685ef1626b30ec1512275e6"><td class="memItemLeft" align="right" valign="top">using&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_r_g_w_data_changes_log.html#addff264ba685ef1626b30ec1512275e6">ChangeStatusPtr</a> = std::shared_ptr&lt; <a class="el" href="struct_r_g_w_data_changes_log_1_1_change_status.html">ChangeStatus</a> &gt;</td></tr>
<tr class="separator:addff264ba685ef1626b30ec1512275e6"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pri-methods" name="pri-methods"></a>
Private 멤버 함수</h2></td></tr>
<tr class="memitem:a7d79710e82df993c0afc0e39b719e316" id="r_a7d79710e82df993c0afc0e39b719e316"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_r_g_w_data_changes_log.html#a7d79710e82df993c0afc0e39b719e316">get_prefix</a> ()</td></tr>
<tr class="separator:a7d79710e82df993c0afc0e39b719e316"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2b9b0ce82c32226979918b93600ad79d" id="r_a2b9b0ce82c32226979918b93600ad79d"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_r_g_w_data_changes_log.html#a2b9b0ce82c32226979918b93600ad79d">metadata_log_oid</a> ()</td></tr>
<tr class="separator:a2b9b0ce82c32226979918b93600ad79d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7b411764f9c4f61d6dd369cd92cf1438" id="r_a7b411764f9c4f61d6dd369cd92cf1438"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_r_g_w_data_changes_log.html#a7b411764f9c4f61d6dd369cd92cf1438">_get_change</a> (const <a class="el" href="structrgw__bucket__shard.html">rgw_bucket_shard</a> &amp;bs, <a class="el" href="class_r_g_w_data_changes_log.html#addff264ba685ef1626b30ec1512275e6">ChangeStatusPtr</a> &amp;status)</td></tr>
<tr class="separator:a7b411764f9c4f61d6dd369cd92cf1438"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa5d53b3a036c5b978b672991684b1b05" id="r_aa5d53b3a036c5b978b672991684b1b05"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_r_g_w_data_changes_log.html#aa5d53b3a036c5b978b672991684b1b05">register_renew</a> (const <a class="el" href="structrgw__bucket__shard.html">rgw_bucket_shard</a> &amp;bs)</td></tr>
<tr class="separator:aa5d53b3a036c5b978b672991684b1b05"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8624efc122696e52cdf9f1176adfddf3" id="r_a8624efc122696e52cdf9f1176adfddf3"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_r_g_w_data_changes_log.html#a8624efc122696e52cdf9f1176adfddf3">update_renewed</a> (const <a class="el" href="structrgw__bucket__shard.html">rgw_bucket_shard</a> &amp;bs, ceph::real_time expiration)</td></tr>
<tr class="separator:a8624efc122696e52cdf9f1176adfddf3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a31f323d4bf6fff21ea4c8f288b202a5b" id="r_a31f323d4bf6fff21ea4c8f288b202a5b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_r_g_w_data_changes_log.html#a31f323d4bf6fff21ea4c8f288b202a5b">renew_run</a> () noexcept</td></tr>
<tr class="separator:a31f323d4bf6fff21ea4c8f288b202a5b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa2488a4c26814dd6125e8b81e22ade3b" id="r_aa2488a4c26814dd6125e8b81e22ade3b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_r_g_w_data_changes_log.html#aa2488a4c26814dd6125e8b81e22ade3b">renew_stop</a> ()</td></tr>
<tr class="separator:aa2488a4c26814dd6125e8b81e22ade3b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7392b031c0a2762d0e030d8c56e1ff4a" id="r_a7392b031c0a2762d0e030d8c56e1ff4a"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_r_g_w_data_changes_log.html#a7392b031c0a2762d0e030d8c56e1ff4a">choose_oid</a> (const <a class="el" href="structrgw__bucket__shard.html">rgw_bucket_shard</a> &amp;bs)</td></tr>
<tr class="separator:a7392b031c0a2762d0e030d8c56e1ff4a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a936d85de3906b530b0c1ca8b2f7c6713" id="r_a936d85de3906b530b0c1ca8b2f7c6713"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_r_g_w_data_changes_log.html#a936d85de3906b530b0c1ca8b2f7c6713">going_down</a> () const</td></tr>
<tr class="separator:a936d85de3906b530b0c1ca8b2f7c6713"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aec9927534059a6ed15cc311a7db7c8ff" id="r_aec9927534059a6ed15cc311a7db7c8ff"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_r_g_w_data_changes_log.html#aec9927534059a6ed15cc311a7db7c8ff">filter_bucket</a> (const DoutPrefixProvider *<a class="el" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>, const <a class="el" href="structrgw__bucket.html">rgw_bucket</a> &amp;bucket, optional_yield y) const</td></tr>
<tr class="separator:aec9927534059a6ed15cc311a7db7c8ff"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acec51d68a6fc7965c01a50dfab1b20e4" id="r_acec51d68a6fc7965c01a50dfab1b20e4"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_r_g_w_data_changes_log.html#acec51d68a6fc7965c01a50dfab1b20e4">renew_entries</a> (const DoutPrefixProvider *<a class="el" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>)</td></tr>
<tr class="separator:acec51d68a6fc7965c01a50dfab1b20e4"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pri-attribs" name="pri-attribs"></a>
Private 속성</h2></td></tr>
<tr class="memitem:a60808e8f273f2bea2fa9e5d4b00da1bc" id="r_a60808e8f273f2bea2fa9e5d4b00da1bc"><td class="memItemLeft" align="right" valign="top">friend&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_r_g_w_data_changes_log.html#a60808e8f273f2bea2fa9e5d4b00da1bc">DataLogBackends</a></td></tr>
<tr class="separator:a60808e8f273f2bea2fa9e5d4b00da1bc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af0ac934d9ab9db8e47e046dc7e4e977b" id="r_af0ac934d9ab9db8e47e046dc7e4e977b"><td class="memItemLeft" align="right" valign="top">CephContext *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_r_g_w_data_changes_log.html#af0ac934d9ab9db8e47e046dc7e4e977b">cct</a></td></tr>
<tr class="separator:af0ac934d9ab9db8e47e046dc7e4e977b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9d3cba188026d2ba0dc2ae97da2a282a" id="r_a9d3cba188026d2ba0dc2ae97da2a282a"><td class="memItemLeft" align="right" valign="top">librados::IoCtx&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_r_g_w_data_changes_log.html#a9d3cba188026d2ba0dc2ae97da2a282a">ioctx</a></td></tr>
<tr class="separator:a9d3cba188026d2ba0dc2ae97da2a282a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1a87b9cdd0fc87950ab740aeebcc7d1a" id="r_a1a87b9cdd0fc87950ab740aeebcc7d1a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structrgw_1_1_bucket_change_observer.html">rgw::BucketChangeObserver</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_r_g_w_data_changes_log.html#a1a87b9cdd0fc87950ab740aeebcc7d1a">observer</a> = nullptr</td></tr>
<tr class="separator:a1a87b9cdd0fc87950ab740aeebcc7d1a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7663620820fa69faceb66f9d235b74bc" id="r_a7663620820fa69faceb66f9d235b74bc"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="struct_r_g_w_zone.html">RGWZone</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_r_g_w_data_changes_log.html#a7663620820fa69faceb66f9d235b74bc">zone</a></td></tr>
<tr class="separator:a7663620820fa69faceb66f9d235b74bc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4f11cd31c20eaff68d63652cad9d353a" id="r_a4f11cd31c20eaff68d63652cad9d353a"><td class="memItemLeft" align="right" valign="top">std::unique_ptr&lt; <a class="el" href="class_data_log_backends.html">DataLogBackends</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_r_g_w_data_changes_log.html#a4f11cd31c20eaff68d63652cad9d353a">bes</a></td></tr>
<tr class="separator:a4f11cd31c20eaff68d63652cad9d353a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad9344c62ed8a04be879f0fc45fc05352" id="r_ad9344c62ed8a04be879f0fc45fc05352"><td class="memItemLeft" align="right" valign="top">const int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_r_g_w_data_changes_log.html#ad9344c62ed8a04be879f0fc45fc05352">num_shards</a></td></tr>
<tr class="separator:ad9344c62ed8a04be879f0fc45fc05352"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac58a3712bbfce3f07df02fcea1b49731" id="r_ac58a3712bbfce3f07df02fcea1b49731"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_r_g_w_data_changes_log.html#ac58a3712bbfce3f07df02fcea1b49731">prefix</a></td></tr>
<tr class="separator:ac58a3712bbfce3f07df02fcea1b49731"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae454d544a25cac814d002e6f40bdf1eb" id="r_ae454d544a25cac814d002e6f40bdf1eb"><td class="memItemLeft" align="right" valign="top">ceph::mutex&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_r_g_w_data_changes_log.html#ae454d544a25cac814d002e6f40bdf1eb">lock</a> = ceph::make_mutex(&quot;RGWDataChangesLog::lock&quot;)</td></tr>
<tr class="separator:ae454d544a25cac814d002e6f40bdf1eb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8862ed62bc6d533e6e84484c4b8f98fe" id="r_a8862ed62bc6d533e6e84484c4b8f98fe"><td class="memItemLeft" align="right" valign="top">ceph::shared_mutex&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_r_g_w_data_changes_log.html#a8862ed62bc6d533e6e84484c4b8f98fe">modified_lock</a></td></tr>
<tr class="separator:a8862ed62bc6d533e6e84484c4b8f98fe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abb36e2e155d74eef5e89531315ef06e5" id="r_abb36e2e155d74eef5e89531315ef06e5"><td class="memItemLeft" align="right" valign="top">bc::flat_map&lt; int, bc::flat_set&lt; std::string &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_r_g_w_data_changes_log.html#abb36e2e155d74eef5e89531315ef06e5">modified_shards</a></td></tr>
<tr class="separator:abb36e2e155d74eef5e89531315ef06e5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acbe1b701edec8384ccf85fd3de0c9788" id="r_acbe1b701edec8384ccf85fd3de0c9788"><td class="memItemLeft" align="right" valign="top">std::atomic&lt; bool &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_r_g_w_data_changes_log.html#acbe1b701edec8384ccf85fd3de0c9788">down_flag</a> = { false }</td></tr>
<tr class="separator:acbe1b701edec8384ccf85fd3de0c9788"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a13ba43cfae8845eb4ed602f023b9387d" id="r_a13ba43cfae8845eb4ed602f023b9387d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classlru__map.html">lru_map</a>&lt; <a class="el" href="structrgw__bucket__shard.html">rgw_bucket_shard</a>, <a class="el" href="class_r_g_w_data_changes_log.html#addff264ba685ef1626b30ec1512275e6">ChangeStatusPtr</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_r_g_w_data_changes_log.html#a13ba43cfae8845eb4ed602f023b9387d">changes</a></td></tr>
<tr class="separator:a13ba43cfae8845eb4ed602f023b9387d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7c9c471f0aaba0f781eb65a29f164c4a" id="r_a7c9c471f0aaba0f781eb65a29f164c4a"><td class="memItemLeft" align="right" valign="top">bc::flat_set&lt; <a class="el" href="structrgw__bucket__shard.html">rgw_bucket_shard</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_r_g_w_data_changes_log.html#a7c9c471f0aaba0f781eb65a29f164c4a">cur_cycle</a></td></tr>
<tr class="separator:a7c9c471f0aaba0f781eb65a29f164c4a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae83720efaea6603783225da9d3d91ebe" id="r_ae83720efaea6603783225da9d3d91ebe"><td class="memItemLeft" align="right" valign="top">ceph::mutex&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_r_g_w_data_changes_log.html#ae83720efaea6603783225da9d3d91ebe">renew_lock</a> = ceph::make_mutex(&quot;ChangesRenewThread::lock&quot;)</td></tr>
<tr class="separator:ae83720efaea6603783225da9d3d91ebe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9f23abfeb0ac298943b4ebedc0f3ef7a" id="r_a9f23abfeb0ac298943b4ebedc0f3ef7a"><td class="memItemLeft" align="right" valign="top">ceph::condition_variable&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_r_g_w_data_changes_log.html#a9f23abfeb0ac298943b4ebedc0f3ef7a">renew_cond</a></td></tr>
<tr class="separator:a9f23abfeb0ac298943b4ebedc0f3ef7a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aad9062fd4055f82a5c7039c9d61f1625" id="r_aad9062fd4055f82a5c7039c9d61f1625"><td class="memItemLeft" align="right" valign="top">std::thread&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_r_g_w_data_changes_log.html#aad9062fd4055f82a5c7039c9d61f1625">renew_thread</a></td></tr>
<tr class="separator:aad9062fd4055f82a5c7039c9d61f1625"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a61080bda904ae53d83ea1ca81cdfd47b" id="r_a61080bda904ae53d83ea1ca81cdfd47b"><td class="memItemLeft" align="right" valign="top">std::function&lt; bool(const <a class="el" href="structrgw__bucket.html">rgw_bucket</a> &amp;bucket, optional_yield y, const DoutPrefixProvider *<a class="el" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>)&gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_r_g_w_data_changes_log.html#a61080bda904ae53d83ea1ca81cdfd47b">bucket_filter</a></td></tr>
<tr class="separator:a61080bda904ae53d83ea1ca81cdfd47b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">상세한 설명</h2>
<div class="textblock">
<p class="definition"><a class="el" href="rgw__datalog_8h_source.html">rgw_datalog.h</a> 파일의 <a class="el" href="rgw__datalog_8h_source.html#l00167">167</a> 번째 라인에서 정의되었습니다.</p>
</div><h2 class="groupheader">멤버 타입정의 문서화</h2>
<a id="addff264ba685ef1626b30ec1512275e6" name="addff264ba685ef1626b30ec1512275e6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#addff264ba685ef1626b30ec1512275e6">&#9670;&#160;</a></span>ChangeStatusPtr</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">using <a class="el" href="class_r_g_w_data_changes_log.html#addff264ba685ef1626b30ec1512275e6">RGWDataChangesLog::ChangeStatusPtr</a> =  std::shared_ptr&lt;<a class="el" href="struct_r_g_w_data_changes_log_1_1_change_status.html">ChangeStatus</a>&gt;</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition"><a class="el" href="rgw__datalog_8h_source.html">rgw_datalog.h</a> 파일의 <a class="el" href="rgw__datalog_8h_source.html#l00201">201</a> 번째 라인에서 정의되었습니다.</p>

</div>
</div>
<a id="a3e644e3bb04ccaf4f1a87e9c412b0364" name="a3e644e3bb04ccaf4f1a87e9c412b0364"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3e644e3bb04ccaf4f1a87e9c412b0364">&#9670;&#160;</a></span>LogMarker</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">using <a class="el" href="class_r_g_w_data_changes_log.html#a3e644e3bb04ccaf4f1a87e9c412b0364">RGWDataChangesLog::LogMarker</a> =  <a class="el" href="struct_r_g_w_data_changes_log_marker.html">RGWDataChangesLogMarker</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition"><a class="el" href="rgw__datalog_8h_source.html">rgw_datalog.h</a> 파일의 <a class="el" href="rgw__datalog_8h_source.html#l00242">242</a> 번째 라인에서 정의되었습니다.</p>

</div>
</div>
<h2 class="groupheader">생성자 &amp; 소멸자 문서화</h2>
<a id="a557ea1dc752a8dd187d78e29e275d16f" name="a557ea1dc752a8dd187d78e29e275d16f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a557ea1dc752a8dd187d78e29e275d16f">&#9670;&#160;</a></span>RGWDataChangesLog()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">RGWDataChangesLog::RGWDataChangesLog </td>
          <td>(</td>
          <td class="paramtype">CephContext *&#160;</td>
          <td class="paramname"><em>cct</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition"><a class="el" href="rgw__datalog_8cc_source.html">rgw_datalog.cc</a> 파일의 <a class="el" href="rgw__datalog_8cc_source.html#l00384">384</a> 번째 라인에서 정의되었습니다.</p>
<div class="fragment"><div class="line"><span class="lineno">  385</span>  : <a class="code hl_variable" href="class_r_g_w_data_changes_log.html#af0ac934d9ab9db8e47e046dc7e4e977b">cct</a>(<a class="code hl_variable" href="class_r_g_w_data_changes_log.html#af0ac934d9ab9db8e47e046dc7e4e977b">cct</a>),</div>
<div class="line"><span class="lineno">  386</span>    <a class="code hl_variable" href="class_r_g_w_data_changes_log.html#ad9344c62ed8a04be879f0fc45fc05352">num_shards</a>(<a class="code hl_variable" href="class_r_g_w_data_changes_log.html#af0ac934d9ab9db8e47e046dc7e4e977b">cct</a>-&gt;_conf-&gt;rgw_data_log_num_shards),</div>
<div class="line"><span class="lineno">  387</span>    <a class="code hl_variable" href="class_r_g_w_data_changes_log.html#ac58a3712bbfce3f07df02fcea1b49731">prefix</a>(<a class="code hl_function" href="class_r_g_w_data_changes_log.html#a7d79710e82df993c0afc0e39b719e316">get_prefix</a>()),</div>
<div class="line"><span class="lineno">  388</span>    <a class="code hl_variable" href="class_r_g_w_data_changes_log.html#a13ba43cfae8845eb4ed602f023b9387d">changes</a>(<a class="code hl_variable" href="class_r_g_w_data_changes_log.html#af0ac934d9ab9db8e47e046dc7e4e977b">cct</a>-&gt;_conf-&gt;rgw_data_log_changes_size) {}</div>
<div class="ttc" id="aclass_r_g_w_data_changes_log_html_a13ba43cfae8845eb4ed602f023b9387d"><div class="ttname"><a href="class_r_g_w_data_changes_log.html#a13ba43cfae8845eb4ed602f023b9387d">RGWDataChangesLog::changes</a></div><div class="ttdeci">lru_map&lt; rgw_bucket_shard, ChangeStatusPtr &gt; changes</div><div class="ttdef"><b>Definition</b> <a href="rgw__datalog_8h_source.html#l00203">rgw_datalog.h:203</a></div></div>
<div class="ttc" id="aclass_r_g_w_data_changes_log_html_a7d79710e82df993c0afc0e39b719e316"><div class="ttname"><a href="class_r_g_w_data_changes_log.html#a7d79710e82df993c0afc0e39b719e316">RGWDataChangesLog::get_prefix</a></div><div class="ttdeci">std::string get_prefix()</div><div class="ttdef"><b>Definition</b> <a href="rgw__datalog_8h_source.html#l00176">rgw_datalog.h:176</a></div></div>
<div class="ttc" id="aclass_r_g_w_data_changes_log_html_ac58a3712bbfce3f07df02fcea1b49731"><div class="ttname"><a href="class_r_g_w_data_changes_log.html#ac58a3712bbfce3f07df02fcea1b49731">RGWDataChangesLog::prefix</a></div><div class="ttdeci">std::string prefix</div><div class="ttdef"><b>Definition</b> <a href="rgw__datalog_8h_source.html#l00183">rgw_datalog.h:183</a></div></div>
<div class="ttc" id="aclass_r_g_w_data_changes_log_html_ad9344c62ed8a04be879f0fc45fc05352"><div class="ttname"><a href="class_r_g_w_data_changes_log.html#ad9344c62ed8a04be879f0fc45fc05352">RGWDataChangesLog::num_shards</a></div><div class="ttdeci">const int num_shards</div><div class="ttdef"><b>Definition</b> <a href="rgw__datalog_8h_source.html#l00175">rgw_datalog.h:175</a></div></div>
<div class="ttc" id="aclass_r_g_w_data_changes_log_html_af0ac934d9ab9db8e47e046dc7e4e977b"><div class="ttname"><a href="class_r_g_w_data_changes_log.html#af0ac934d9ab9db8e47e046dc7e4e977b">RGWDataChangesLog::cct</a></div><div class="ttdeci">CephContext * cct</div><div class="ttdef"><b>Definition</b> <a href="rgw__datalog_8h_source.html#l00169">rgw_datalog.h:169</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ad699bcd7a081e3209c0c50852c1248be" name="ad699bcd7a081e3209c0c50852c1248be"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad699bcd7a081e3209c0c50852c1248be">&#9670;&#160;</a></span>~RGWDataChangesLog()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">RGWDataChangesLog::~RGWDataChangesLog </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition"><a class="el" href="rgw__datalog_8cc_source.html">rgw_datalog.cc</a> 파일의 <a class="el" href="rgw__datalog_8cc_source.html#l00942">942</a> 번째 라인에서 정의되었습니다.</p>
<div class="fragment"><div class="line"><span class="lineno">  942</span>                                      {</div>
<div class="line"><span class="lineno">  943</span>  <a class="code hl_variable" href="class_r_g_w_data_changes_log.html#acbe1b701edec8384ccf85fd3de0c9788">down_flag</a> = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  944</span>  <span class="keywordflow">if</span> (<a class="code hl_variable" href="class_r_g_w_data_changes_log.html#aad9062fd4055f82a5c7039c9d61f1625">renew_thread</a>.joinable()) {</div>
<div class="line"><span class="lineno">  945</span>    <a class="code hl_function" href="class_r_g_w_data_changes_log.html#aa2488a4c26814dd6125e8b81e22ade3b">renew_stop</a>();</div>
<div class="line"><span class="lineno">  946</span>    <a class="code hl_variable" href="class_r_g_w_data_changes_log.html#aad9062fd4055f82a5c7039c9d61f1625">renew_thread</a>.join();</div>
<div class="line"><span class="lineno">  947</span>  }</div>
<div class="line"><span class="lineno">  948</span>}</div>
<div class="ttc" id="aclass_r_g_w_data_changes_log_html_aa2488a4c26814dd6125e8b81e22ade3b"><div class="ttname"><a href="class_r_g_w_data_changes_log.html#aa2488a4c26814dd6125e8b81e22ade3b">RGWDataChangesLog::renew_stop</a></div><div class="ttdeci">void renew_stop()</div><div class="ttdef"><b>Definition</b> <a href="rgw__datalog_8cc_source.html#l00989">rgw_datalog.cc:989</a></div></div>
<div class="ttc" id="aclass_r_g_w_data_changes_log_html_aad9062fd4055f82a5c7039c9d61f1625"><div class="ttname"><a href="class_r_g_w_data_changes_log.html#aad9062fd4055f82a5c7039c9d61f1625">RGWDataChangesLog::renew_thread</a></div><div class="ttdeci">std::thread renew_thread</div><div class="ttdef"><b>Definition</b> <a href="rgw__datalog_8h_source.html#l00215">rgw_datalog.h:215</a></div></div>
<div class="ttc" id="aclass_r_g_w_data_changes_log_html_acbe1b701edec8384ccf85fd3de0c9788"><div class="ttname"><a href="class_r_g_w_data_changes_log.html#acbe1b701edec8384ccf85fd3de0c9788">RGWDataChangesLog::down_flag</a></div><div class="ttdeci">std::atomic&lt; bool &gt; down_flag</div><div class="ttdef"><b>Definition</b> <a href="rgw__datalog_8h_source.html#l00190">rgw_datalog.h:190</a></div></div>
</div><!-- fragment --><div class="dynheader">
이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="class_r_g_w_data_changes_log_ad699bcd7a081e3209c0c50852c1248be_cgraph.png" border="0" usemap="#aclass_r_g_w_data_changes_log_ad699bcd7a081e3209c0c50852c1248be_cgraph" alt=""/></div>
<map name="aclass_r_g_w_data_changes_log_ad699bcd7a081e3209c0c50852c1248be_cgraph" id="aclass_r_g_w_data_changes_log_ad699bcd7a081e3209c0c50852c1248be_cgraph">
<area shape="rect" title=" " alt="" coords="5,5,166,48"/>
<area shape="rect" href="class_r_g_w_data_changes_log.html#aa2488a4c26814dd6125e8b81e22ade3b" title=" " alt="" coords="214,5,374,48"/>
<area shape="poly" title=" " alt="" coords="166,24,198,24,198,29,166,29"/>
</map>
</div>

</div>
</div>
<h2 class="groupheader">멤버 함수 문서화</h2>
<a id="a7b411764f9c4f61d6dd369cd92cf1438" name="a7b411764f9c4f61d6dd369cd92cf1438"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7b411764f9c4f61d6dd369cd92cf1438">&#9670;&#160;</a></span>_get_change()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void RGWDataChangesLog::_get_change </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structrgw__bucket__shard.html">rgw_bucket_shard</a> &amp;&#160;</td>
          <td class="paramname"><em>bs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_r_g_w_data_changes_log.html#addff264ba685ef1626b30ec1512275e6">ChangeStatusPtr</a> &amp;&#160;</td>
          <td class="paramname"><em>status</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition"><a class="el" href="rgw__datalog_8cc_source.html">rgw_datalog.cc</a> 파일의 <a class="el" href="rgw__datalog_8cc_source.html#l00550">550</a> 번째 라인에서 정의되었습니다.</p>
<div class="fragment"><div class="line"><span class="lineno">  552</span>{</div>
<div class="line"><span class="lineno">  553</span>  ceph_assert(ceph_mutex_is_locked(<a class="code hl_variable" href="class_r_g_w_data_changes_log.html#ae454d544a25cac814d002e6f40bdf1eb">lock</a>));</div>
<div class="line"><span class="lineno">  554</span>  <span class="keywordflow">if</span> (!<a class="code hl_variable" href="class_r_g_w_data_changes_log.html#a13ba43cfae8845eb4ed602f023b9387d">changes</a>.find(bs, status)) {</div>
<div class="line"><span class="lineno">  555</span>    status = <a class="code hl_typedef" href="class_r_g_w_data_changes_log.html#addff264ba685ef1626b30ec1512275e6">ChangeStatusPtr</a>(<span class="keyword">new</span> ChangeStatus);</div>
<div class="line"><span class="lineno">  556</span>    <a class="code hl_variable" href="class_r_g_w_data_changes_log.html#a13ba43cfae8845eb4ed602f023b9387d">changes</a>.add(bs, status);</div>
<div class="line"><span class="lineno">  557</span>  }</div>
<div class="line"><span class="lineno">  558</span>}</div>
<div class="ttc" id="aclass_r_g_w_data_changes_log_html_addff264ba685ef1626b30ec1512275e6"><div class="ttname"><a href="class_r_g_w_data_changes_log.html#addff264ba685ef1626b30ec1512275e6">RGWDataChangesLog::ChangeStatusPtr</a></div><div class="ttdeci">std::shared_ptr&lt; ChangeStatus &gt; ChangeStatusPtr</div><div class="ttdef"><b>Definition</b> <a href="rgw__datalog_8h_source.html#l00201">rgw_datalog.h:201</a></div></div>
<div class="ttc" id="aclass_r_g_w_data_changes_log_html_ae454d544a25cac814d002e6f40bdf1eb"><div class="ttname"><a href="class_r_g_w_data_changes_log.html#ae454d544a25cac814d002e6f40bdf1eb">RGWDataChangesLog::lock</a></div><div class="ttdeci">ceph::mutex lock</div><div class="ttdef"><b>Definition</b> <a href="rgw__datalog_8h_source.html#l00185">rgw_datalog.h:185</a></div></div>
</div><!-- fragment --><div class="dynheader">
이 함수를 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="class_r_g_w_data_changes_log_a7b411764f9c4f61d6dd369cd92cf1438_icgraph.png" border="0" usemap="#aclass_r_g_w_data_changes_log_a7b411764f9c4f61d6dd369cd92cf1438_icgraph" alt=""/></div>
<map name="aclass_r_g_w_data_changes_log_a7b411764f9c4f61d6dd369cd92cf1438_icgraph" id="aclass_r_g_w_data_changes_log_a7b411764f9c4f61d6dd369cd92cf1438_icgraph">
<area shape="rect" title=" " alt="" coords="1132,300,1292,343"/>
<area shape="rect" href="class_r_g_w_data_changes_log.html#a47abef6595c8dd36459547a88674f2d5" title=" " alt="" coords="924,208,1084,251"/>
<area shape="poly" title=" " alt="" coords="1147,296,1053,254,1055,249,1149,291"/>
<area shape="rect" href="class_r_g_w_data_changes_log.html#a8624efc122696e52cdf9f1176adfddf3" title=" " alt="" coords="924,333,1084,376"/>
<area shape="poly" title=" " alt="" coords="1117,339,1085,344,1084,339,1116,334"/>
<area shape="rect" href="class_r_g_w_rados_1_1_bucket_1_1_update_index.html#a9ad1c8f012535381d111a637335bdc7e" title=" " alt="" coords="682,208,870,251"/>
<area shape="poly" title=" " alt="" coords="908,232,871,232,871,227,908,227"/>
<area shape="rect" href="struct_r_g_w_rados_1_1_object_1_1_delete.html#a7d9eb79062106ce1af7373f1a593ec7e" title=" " alt="" coords="447,259,628,301"/>
<area shape="poly" title=" " alt="" coords="915,257,876,265,747,279,629,283,629,278,746,273,875,260,914,252"/>
<area shape="rect" href="class_r_g_w_rados_1_1_bucket_1_1_update_index.html#a62cb7015c0bf71c0b4ec739c8c45598b" title=" " alt="" coords="682,8,870,51"/>
<area shape="poly" title=" " alt="" coords="982,196,938,129,908,95,874,65,855,54,858,49,877,61,912,91,942,126,986,193"/>
<area shape="rect" href="class_r_g_w_rados_1_1_bucket_1_1_update_index.html#a5980155cf7e122f01612b6ad07932b13" title=" " alt="" coords="682,325,870,368"/>
<area shape="poly" title=" " alt="" coords="959,262,877,309,837,327,835,322,874,304,956,257"/>
<area shape="rect" href="class_r_g_w_s_i___bucket_index___r_a_d_o_s.html#ac00a20ee4a60cf1b3c600b9f82d739ba" title=" " alt="" coords="677,75,875,117"/>
<area shape="poly" title=" " alt="" coords="967,200,924,164,874,132,850,120,852,115,877,127,928,160,971,195"/>
<area shape="rect" href="class_r_g_w_index_completion_manager.html#af22b30b6aa262fc71cac5b18b066fe20" title=" " alt="" coords="676,141,876,184"/>
<area shape="poly" title=" " alt="" coords="914,206,851,187,852,182,915,201"/>
<area shape="rect" href="struct_r_g_w_rados_1_1_object_1_1_write.html#af1ba1d592dced1cf54563315fa0a0066" title=" " alt="" coords="450,9,625,52"/>
<area shape="poly" title=" " alt="" coords="678,201,674,198,661,182,654,165,649,133,645,101,638,86,626,70,606,55,610,50,630,66,643,83,650,100,654,132,659,164,666,179,678,194,681,197"/>
<area shape="poly" title=" " alt="" coords="667,255,629,263,628,258,666,250"/>
<area shape="rect" href="class_r_g_w_rados.html#a3b51d79d4a900f4326fd06af5b8cc4e5" title=" " alt="" coords="463,80,612,107"/>
<area shape="poly" title=" " alt="" coords="686,204,675,198,604,152,552,109,556,105,608,148,678,194,689,199"/>
<area shape="rect" href="class_r_g_w_async_remove_obj.html#accafaf5f59056835ae2c72aa1a24d625" title=" " alt="" coords="219,273,383,316"/>
<area shape="poly" title=" " alt="" coords="431,289,384,292,383,287,431,284"/>
<area shape="rect" href="class_r_g_w_rados.html#a390a22cffcaca08280970e1a7dc0a227" title=" " alt="" coords="222,340,380,367"/>
<area shape="poly" title=" " alt="" coords="464,309,400,331,359,342,358,337,398,325,462,304"/>
<area shape="rect" href="classrgw_1_1sal_1_1_rados_object.html#a0ac066b99684f4f14127604ec387244f" title=" " alt="" coords="226,140,376,183"/>
<area shape="poly" title=" " alt="" coords="492,252,447,224,398,197,371,186,373,181,400,192,450,219,495,247"/>
<area shape="rect" href="class_r_g_w_pub_sub_1_1_sub_with_events.html#a5df143f9787910688d9d43c95b127658" title=" " alt="" coords="203,207,399,249"/>
<area shape="poly" title=" " alt="" coords="431,259,399,252,400,247,432,254"/>
<area shape="rect" href="classrgw_1_1sal_1_1_rados_object.html#aee26f8979cdc2417960dc016ea645307" title=" " alt="" coords="226,72,376,115"/>
<area shape="poly" title=" " alt="" coords="448,96,376,96,376,91,448,91"/>
<area shape="rect" href="classrgw_1_1sal_1_1_rados_object.html#a6346b1f7936bfe5fbcee10a20096c35a" title=" " alt="" coords="5,5,155,48"/>
<area shape="poly" title=" " alt="" coords="213,70,153,51,154,46,215,65"/>
<area shape="rect" href="classrgw_1_1sal_1_1_rados_object.html#ae8437f6b12fd3ae2cfdd54b19edd504b" title=" " alt="" coords="5,72,155,115"/>
<area shape="poly" title=" " alt="" coords="210,96,155,96,155,91,210,91"/>
<area shape="rect" href="classrgw_1_1sal_1_1_rados_object.html#a3d43d9111d2bb62a6cd056d91c3d65f4" title=" " alt="" coords="5,139,155,181"/>
<area shape="poly" title=" " alt="" coords="215,122,154,141,153,135,213,117"/>
<area shape="poly" title=" " alt="" coords="666,33,626,33,626,28,666,27"/>
<area shape="poly" title=" " alt="" coords="680,58,591,82,590,77,679,53"/>
<area shape="poly" title=" " alt="" coords="683,323,616,305,617,299,684,318"/>
<area shape="rect" href="class_r_g_w_rados.html#a43bad5bb50adcc4f783ebeacf3e79b96" title=" " alt="" coords="459,325,616,368"/>
<area shape="poly" title=" " alt="" coords="666,349,617,349,617,344,666,344"/>
<area shape="rect" href="class_r_g_w_data_changes_log.html#acec51d68a6fc7965c01a50dfab1b20e4" title=" " alt="" coords="696,392,856,435"/>
<area shape="poly" title=" " alt="" coords="909,382,857,395,856,390,908,377"/>
<area shape="rect" href="class_r_g_w_data_changes_log.html#a31f323d4bf6fff21ea4c8f288b202a5b" title=" " alt="" coords="458,392,618,435"/>
<area shape="poly" title=" " alt="" coords="681,416,618,416,618,411,681,411"/>
<area shape="rect" href="class_r_g_w_data_changes_log.html#a88f3364b1bbf290c257ee6aa39618b92" title=" " alt="" coords="221,392,381,435"/>
<area shape="poly" title=" " alt="" coords="442,416,381,416,381,411,442,411"/>
</map>
</div>

</div>
</div>
<a id="a47abef6595c8dd36459547a88674f2d5" name="a47abef6595c8dd36459547a88674f2d5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a47abef6595c8dd36459547a88674f2d5">&#9670;&#160;</a></span>add_entry()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int RGWDataChangesLog::add_entry </td>
          <td>(</td>
          <td class="paramtype">const DoutPrefixProvider *&#160;</td>
          <td class="paramname"><em>dpp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="struct_r_g_w_bucket_info.html">RGWBucketInfo</a> &amp;&#160;</td>
          <td class="paramname"><em>bucket_info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>shard_id</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition"><a class="el" href="rgw__datalog_8cc_source.html">rgw_datalog.cc</a> 파일의 <a class="el" href="rgw__datalog_8cc_source.html#l00605">605</a> 번째 라인에서 정의되었습니다.</p>
<div class="fragment"><div class="line"><span class="lineno">  605</span>                                                                                                              {</div>
<div class="line"><span class="lineno">  606</span>  <span class="keyword">auto</span>&amp; bucket = bucket_info.<a class="code hl_variable" href="struct_r_g_w_bucket_info.html#afbd8422e16061abdf72d710794ac74d4">bucket</a>;</div>
<div class="line"><span class="lineno">  607</span> </div>
<div class="line"><span class="lineno">  608</span>  <span class="keywordflow">if</span> (!<a class="code hl_function" href="class_r_g_w_data_changes_log.html#aec9927534059a6ed15cc311a7db7c8ff">filter_bucket</a>(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>, bucket, null_yield)) {</div>
<div class="line"><span class="lineno">  609</span>    <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">  610</span>  }</div>
<div class="line"><span class="lineno">  611</span> </div>
<div class="line"><span class="lineno">  612</span>  <span class="keywordflow">if</span> (<a class="code hl_variable" href="class_r_g_w_data_changes_log.html#a1a87b9cdd0fc87950ab740aeebcc7d1a">observer</a>) {</div>
<div class="line"><span class="lineno">  613</span>    <a class="code hl_variable" href="class_r_g_w_data_changes_log.html#a1a87b9cdd0fc87950ab740aeebcc7d1a">observer</a>-&gt;<a class="code hl_function" href="structrgw_1_1_bucket_change_observer.html#ab593244fe5094cb4f466457cb1e47c60">on_bucket_changed</a>(bucket.get_key());</div>
<div class="line"><span class="lineno">  614</span>  }</div>
<div class="line"><span class="lineno">  615</span> </div>
<div class="line"><span class="lineno">  616</span>  <a class="code hl_struct" href="structrgw__bucket__shard.html">rgw_bucket_shard</a> bs(bucket, shard_id);</div>
<div class="line"><span class="lineno">  617</span> </div>
<div class="line"><span class="lineno">  618</span>  <span class="keywordtype">int</span> index = <a class="code hl_function" href="class_r_g_w_data_changes_log.html#a7392b031c0a2762d0e030d8c56e1ff4a">choose_oid</a>(bs);</div>
<div class="line"><span class="lineno">  619</span>  <a class="code hl_function" href="class_r_g_w_data_changes_log.html#afc0615cb71609115df900a34dca00218">mark_modified</a>(index, bs);</div>
<div class="line"><span class="lineno">  620</span> </div>
<div class="line"><span class="lineno">  621</span>  std::unique_lock l(<a class="code hl_variable" href="class_r_g_w_data_changes_log.html#ae454d544a25cac814d002e6f40bdf1eb">lock</a>);</div>
<div class="line"><span class="lineno">  622</span> </div>
<div class="line"><span class="lineno">  623</span>  <a class="code hl_typedef" href="class_r_g_w_data_changes_log.html#addff264ba685ef1626b30ec1512275e6">ChangeStatusPtr</a> status;</div>
<div class="line"><span class="lineno">  624</span>  <a class="code hl_function" href="class_r_g_w_data_changes_log.html#a7b411764f9c4f61d6dd369cd92cf1438">_get_change</a>(bs, status);</div>
<div class="line"><span class="lineno">  625</span>  l.unlock();</div>
<div class="line"><span class="lineno">  626</span> </div>
<div class="line"><span class="lineno">  627</span>  <span class="keyword">auto</span> now = real_clock::now();</div>
<div class="line"><span class="lineno">  628</span> </div>
<div class="line"><span class="lineno">  629</span>  std::unique_lock sl(status-&gt;lock);</div>
<div class="line"><span class="lineno">  630</span> </div>
<div class="line"><span class="lineno">  631</span>  ldpp_dout(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>, 20) &lt;&lt; <span class="stringliteral">&quot;RGWDataChangesLog::add_entry() bucket.name=&quot;</span> &lt;&lt; bucket.name</div>
<div class="line"><span class="lineno">  632</span>         &lt;&lt; <span class="stringliteral">&quot; shard_id=&quot;</span> &lt;&lt; shard_id &lt;&lt; <span class="stringliteral">&quot; now=&quot;</span> &lt;&lt; now</div>
<div class="line"><span class="lineno">  633</span>         &lt;&lt; <span class="stringliteral">&quot; cur_expiration=&quot;</span> &lt;&lt; status-&gt;cur_expiration &lt;&lt; dendl;</div>
<div class="line"><span class="lineno">  634</span> </div>
<div class="line"><span class="lineno">  635</span>  <span class="keywordflow">if</span> (now &lt; status-&gt;cur_expiration) {</div>
<div class="line"><span class="lineno">  636</span>    <span class="comment">/* no need to send, recently completed */</span></div>
<div class="line"><span class="lineno">  637</span>    sl.unlock();</div>
<div class="line"><span class="lineno">  638</span>    <a class="code hl_function" href="class_r_g_w_data_changes_log.html#aa5d53b3a036c5b978b672991684b1b05">register_renew</a>(bs);</div>
<div class="line"><span class="lineno">  639</span>    <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">  640</span>  }</div>
<div class="line"><span class="lineno">  641</span> </div>
<div class="line"><span class="lineno">  642</span>  RefCountedCond* cond;</div>
<div class="line"><span class="lineno">  643</span> </div>
<div class="line"><span class="lineno">  644</span>  <span class="keywordflow">if</span> (status-&gt;pending) {</div>
<div class="line"><span class="lineno">  645</span>    cond = status-&gt;cond;</div>
<div class="line"><span class="lineno">  646</span> </div>
<div class="line"><span class="lineno">  647</span>    ceph_assert(cond);</div>
<div class="line"><span class="lineno">  648</span> </div>
<div class="line"><span class="lineno">  649</span>    status-&gt;cond-&gt;get();</div>
<div class="line"><span class="lineno">  650</span>    sl.unlock();</div>
<div class="line"><span class="lineno">  651</span> </div>
<div class="line"><span class="lineno">  652</span>    <span class="keywordtype">int</span> ret = cond-&gt;wait();</div>
<div class="line"><span class="lineno">  653</span>    cond-&gt;put();</div>
<div class="line"><span class="lineno">  654</span>    <span class="keywordflow">if</span> (!ret) {</div>
<div class="line"><span class="lineno">  655</span>      <a class="code hl_function" href="class_r_g_w_data_changes_log.html#aa5d53b3a036c5b978b672991684b1b05">register_renew</a>(bs);</div>
<div class="line"><span class="lineno">  656</span>    }</div>
<div class="line"><span class="lineno">  657</span>    <span class="keywordflow">return</span> ret;</div>
<div class="line"><span class="lineno">  658</span>  }</div>
<div class="line"><span class="lineno">  659</span> </div>
<div class="line"><span class="lineno">  660</span>  status-&gt;cond = <span class="keyword">new</span> RefCountedCond;</div>
<div class="line"><span class="lineno">  661</span>  status-&gt;pending = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  662</span> </div>
<div class="line"><span class="lineno">  663</span>  ceph::real_time expiration;</div>
<div class="line"><span class="lineno">  664</span> </div>
<div class="line"><span class="lineno">  665</span>  <span class="keywordtype">int</span> ret;</div>
<div class="line"><span class="lineno">  666</span> </div>
<div class="line"><span class="lineno">  667</span>  <span class="keywordflow">do</span> {</div>
<div class="line"><span class="lineno">  668</span>    status-&gt;cur_sent = now;</div>
<div class="line"><span class="lineno">  669</span> </div>
<div class="line"><span class="lineno">  670</span>    expiration = now;</div>
<div class="line"><span class="lineno">  671</span>    expiration += ceph::make_timespan(<a class="code hl_variable" href="class_r_g_w_data_changes_log.html#af0ac934d9ab9db8e47e046dc7e4e977b">cct</a>-&gt;_conf-&gt;rgw_data_log_window);</div>
<div class="line"><span class="lineno">  672</span> </div>
<div class="line"><span class="lineno">  673</span>    sl.unlock();</div>
<div class="line"><span class="lineno">  674</span> </div>
<div class="line"><span class="lineno">  675</span>    ceph::buffer::list bl;</div>
<div class="line"><span class="lineno">  676</span>    <a class="code hl_struct" href="structrgw__data__change.html">rgw_data_change</a> change;</div>
<div class="line"><span class="lineno">  677</span>    change.<a class="code hl_variable" href="structrgw__data__change.html#a18b73823e1b259520d0d2dadf1eec191">entity_type</a> = <a class="code hl_enumvalue" href="rgw__datalog_8h.html#a64667b47a674a8738a4683b002a6adecae5512837c9d0dfcc7871d9fbca562963">ENTITY_TYPE_BUCKET</a>;</div>
<div class="line"><span class="lineno">  678</span>    change.<a class="code hl_variable" href="structrgw__data__change.html#a98142b41be1f222b3a75cbea254783be">key</a> = bs.get_key();</div>
<div class="line"><span class="lineno">  679</span>    change.<a class="code hl_variable" href="structrgw__data__change.html#a2f536110541869a51f063974cc3fc342">timestamp</a> = now;</div>
<div class="line"><span class="lineno">  680</span>    <a class="code hl_function" href="rgw__log__backing_8h.html#adc91400029fb575818b2a0ccf89e7928">encode</a>(change, bl);</div>
<div class="line"><span class="lineno">  681</span> </div>
<div class="line"><span class="lineno">  682</span>    ldpp_dout(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>, 20) &lt;&lt; <span class="stringliteral">&quot;RGWDataChangesLog::add_entry() sending update with now=&quot;</span> &lt;&lt; now &lt;&lt; <span class="stringliteral">&quot; cur_expiration=&quot;</span> &lt;&lt; expiration &lt;&lt; dendl;</div>
<div class="line"><span class="lineno">  683</span> </div>
<div class="line"><span class="lineno">  684</span>    <span class="keyword">auto</span> be = <a class="code hl_variable" href="class_r_g_w_data_changes_log.html#a4f11cd31c20eaff68d63652cad9d353a">bes</a>-&gt;head();</div>
<div class="line"><span class="lineno">  685</span>    ret = be-&gt;push(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>, index, now, change.<a class="code hl_variable" href="structrgw__data__change.html#a98142b41be1f222b3a75cbea254783be">key</a>, std::move(bl));</div>
<div class="line"><span class="lineno">  686</span> </div>
<div class="line"><span class="lineno">  687</span>    now = real_clock::now();</div>
<div class="line"><span class="lineno">  688</span> </div>
<div class="line"><span class="lineno">  689</span>    sl.lock();</div>
<div class="line"><span class="lineno">  690</span> </div>
<div class="line"><span class="lineno">  691</span>  } <span class="keywordflow">while</span> (!ret &amp;&amp; real_clock::now() &gt; expiration);</div>
<div class="line"><span class="lineno">  692</span> </div>
<div class="line"><span class="lineno">  693</span>  cond = status-&gt;cond;</div>
<div class="line"><span class="lineno">  694</span> </div>
<div class="line"><span class="lineno">  695</span>  status-&gt;pending = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  696</span>  <span class="comment">/* time of when operation started, not completed */</span></div>
<div class="line"><span class="lineno">  697</span>  status-&gt;cur_expiration = status-&gt;cur_sent;</div>
<div class="line"><span class="lineno">  698</span>  status-&gt;cur_expiration += make_timespan(<a class="code hl_variable" href="class_r_g_w_data_changes_log.html#af0ac934d9ab9db8e47e046dc7e4e977b">cct</a>-&gt;_conf-&gt;rgw_data_log_window);</div>
<div class="line"><span class="lineno">  699</span>  status-&gt;cond = <span class="keyword">nullptr</span>;</div>
<div class="line"><span class="lineno">  700</span>  sl.unlock();</div>
<div class="line"><span class="lineno">  701</span> </div>
<div class="line"><span class="lineno">  702</span>  cond-&gt;done(ret);</div>
<div class="line"><span class="lineno">  703</span>  cond-&gt;put();</div>
<div class="line"><span class="lineno">  704</span> </div>
<div class="line"><span class="lineno">  705</span>  <span class="keywordflow">return</span> ret;</div>
<div class="line"><span class="lineno">  706</span>}</div>
<div class="ttc" id="aclass_r_g_w_data_changes_log_html_a1a87b9cdd0fc87950ab740aeebcc7d1a"><div class="ttname"><a href="class_r_g_w_data_changes_log.html#a1a87b9cdd0fc87950ab740aeebcc7d1a">RGWDataChangesLog::observer</a></div><div class="ttdeci">rgw::BucketChangeObserver * observer</div><div class="ttdef"><b>Definition</b> <a href="rgw__datalog_8h_source.html#l00171">rgw_datalog.h:171</a></div></div>
<div class="ttc" id="aclass_r_g_w_data_changes_log_html_a4f11cd31c20eaff68d63652cad9d353a"><div class="ttname"><a href="class_r_g_w_data_changes_log.html#a4f11cd31c20eaff68d63652cad9d353a">RGWDataChangesLog::bes</a></div><div class="ttdeci">std::unique_ptr&lt; DataLogBackends &gt; bes</div><div class="ttdef"><b>Definition</b> <a href="rgw__datalog_8h_source.html#l00173">rgw_datalog.h:173</a></div></div>
<div class="ttc" id="aclass_r_g_w_data_changes_log_html_a7392b031c0a2762d0e030d8c56e1ff4a"><div class="ttname"><a href="class_r_g_w_data_changes_log.html#a7392b031c0a2762d0e030d8c56e1ff4a">RGWDataChangesLog::choose_oid</a></div><div class="ttdeci">int choose_oid(const rgw_bucket_shard &amp;bs)</div><div class="ttdef"><b>Definition</b> <a href="rgw__datalog_8cc_source.html#l00488">rgw_datalog.cc:488</a></div></div>
<div class="ttc" id="aclass_r_g_w_data_changes_log_html_a7b411764f9c4f61d6dd369cd92cf1438"><div class="ttname"><a href="class_r_g_w_data_changes_log.html#a7b411764f9c4f61d6dd369cd92cf1438">RGWDataChangesLog::_get_change</a></div><div class="ttdeci">void _get_change(const rgw_bucket_shard &amp;bs, ChangeStatusPtr &amp;status)</div><div class="ttdef"><b>Definition</b> <a href="rgw__datalog_8cc_source.html#l00550">rgw_datalog.cc:550</a></div></div>
<div class="ttc" id="aclass_r_g_w_data_changes_log_html_aa5d53b3a036c5b978b672991684b1b05"><div class="ttname"><a href="class_r_g_w_data_changes_log.html#aa5d53b3a036c5b978b672991684b1b05">RGWDataChangesLog::register_renew</a></div><div class="ttdeci">void register_renew(const rgw_bucket_shard &amp;bs)</div><div class="ttdef"><b>Definition</b> <a href="rgw__datalog_8cc_source.html#l00560">rgw_datalog.cc:560</a></div></div>
<div class="ttc" id="aclass_r_g_w_data_changes_log_html_aec9927534059a6ed15cc311a7db7c8ff"><div class="ttname"><a href="class_r_g_w_data_changes_log.html#aec9927534059a6ed15cc311a7db7c8ff">RGWDataChangesLog::filter_bucket</a></div><div class="ttdeci">bool filter_bucket(const DoutPrefixProvider *dpp, const rgw_bucket &amp;bucket, optional_yield y) const</div><div class="ttdef"><b>Definition</b> <a href="rgw__datalog_8cc_source.html#l00588">rgw_datalog.cc:588</a></div></div>
<div class="ttc" id="aclass_r_g_w_data_changes_log_html_afc0615cb71609115df900a34dca00218"><div class="ttname"><a href="class_r_g_w_data_changes_log.html#afc0615cb71609115df900a34dca00218">RGWDataChangesLog::mark_modified</a></div><div class="ttdeci">void mark_modified(int shard_id, const rgw_bucket_shard &amp;bs)</div><div class="ttdef"><b>Definition</b> <a href="rgw__datalog_8cc_source.html#l00995">rgw_datalog.cc:995</a></div></div>
<div class="ttc" id="argw__admin_8cc_html_afe3e74bcdf0327f8777c02b83cfea5b5"><div class="ttname"><a href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a></div><div class="ttdeci">static const DoutPrefixProvider * dpp()</div><div class="ttdef"><b>Definition</b> <a href="rgw__admin_8cc_source.html#l00081">rgw_admin.cc:81</a></div></div>
<div class="ttc" id="argw__datalog_8h_html_a64667b47a674a8738a4683b002a6adecae5512837c9d0dfcc7871d9fbca562963"><div class="ttname"><a href="rgw__datalog_8h.html#a64667b47a674a8738a4683b002a6adecae5512837c9d0dfcc7871d9fbca562963">ENTITY_TYPE_BUCKET</a></div><div class="ttdeci">@ ENTITY_TYPE_BUCKET</div><div class="ttdef"><b>Definition</b> <a href="rgw__datalog_8h_source.html#l00048">rgw_datalog.h:48</a></div></div>
<div class="ttc" id="argw__log__backing_8h_html_adc91400029fb575818b2a0ccf89e7928"><div class="ttname"><a href="rgw__log__backing_8h.html#adc91400029fb575818b2a0ccf89e7928">encode</a></div><div class="ttdeci">void encode(const log_type &amp;type, ceph::buffer::list &amp;bl)</div><div class="ttdef"><b>Definition</b> <a href="rgw__log__backing_8h_source.html#l00044">rgw_log_backing.h:44</a></div></div>
<div class="ttc" id="astruct_r_g_w_bucket_info_html_afbd8422e16061abdf72d710794ac74d4"><div class="ttname"><a href="struct_r_g_w_bucket_info.html#afbd8422e16061abdf72d710794ac74d4">RGWBucketInfo::bucket</a></div><div class="ttdeci">rgw_bucket bucket</div><div class="ttdef"><b>Definition</b> <a href="rgw__common_8h_source.html#l01063">rgw_common.h:1063</a></div></div>
<div class="ttc" id="astructrgw_1_1_bucket_change_observer_html_ab593244fe5094cb4f466457cb1e47c60"><div class="ttname"><a href="structrgw_1_1_bucket_change_observer.html#ab593244fe5094cb4f466457cb1e47c60">rgw::BucketChangeObserver::on_bucket_changed</a></div><div class="ttdeci">virtual void on_bucket_changed(const std::string_view &amp;bucket_instance)=0</div></div>
<div class="ttc" id="astructrgw__bucket__shard_html"><div class="ttname"><a href="structrgw__bucket__shard.html">rgw_bucket_shard</a></div><div class="ttdef"><b>Definition</b> <a href="rgw__basic__types_8h_source.html#l00430">rgw_basic_types.h:430</a></div></div>
<div class="ttc" id="astructrgw__data__change_html"><div class="ttname"><a href="structrgw__data__change.html">rgw_data_change</a></div><div class="ttdef"><b>Definition</b> <a href="rgw__datalog_8h_source.html#l00051">rgw_datalog.h:51</a></div></div>
<div class="ttc" id="astructrgw__data__change_html_a18b73823e1b259520d0d2dadf1eec191"><div class="ttname"><a href="structrgw__data__change.html#a18b73823e1b259520d0d2dadf1eec191">rgw_data_change::entity_type</a></div><div class="ttdeci">DataLogEntityType entity_type</div><div class="ttdef"><b>Definition</b> <a href="rgw__datalog_8h_source.html#l00052">rgw_datalog.h:52</a></div></div>
<div class="ttc" id="astructrgw__data__change_html_a2f536110541869a51f063974cc3fc342"><div class="ttname"><a href="structrgw__data__change.html#a2f536110541869a51f063974cc3fc342">rgw_data_change::timestamp</a></div><div class="ttdeci">ceph::real_time timestamp</div><div class="ttdef"><b>Definition</b> <a href="rgw__datalog_8h_source.html#l00054">rgw_datalog.h:54</a></div></div>
<div class="ttc" id="astructrgw__data__change_html_a98142b41be1f222b3a75cbea254783be"><div class="ttname"><a href="structrgw__data__change.html#a98142b41be1f222b3a75cbea254783be">rgw_data_change::key</a></div><div class="ttdeci">std::string key</div><div class="ttdef"><b>Definition</b> <a href="rgw__datalog_8h_source.html#l00053">rgw_datalog.h:53</a></div></div>
</div><!-- fragment --><div class="dynheader">
이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="class_r_g_w_data_changes_log_a47abef6595c8dd36459547a88674f2d5_cgraph.png" border="0" usemap="#aclass_r_g_w_data_changes_log_a47abef6595c8dd36459547a88674f2d5_cgraph" alt=""/></div>
<map name="aclass_r_g_w_data_changes_log_a47abef6595c8dd36459547a88674f2d5_cgraph" id="aclass_r_g_w_data_changes_log_a47abef6595c8dd36459547a88674f2d5_cgraph">
<area shape="rect" title=" " alt="" coords="5,264,166,307"/>
<area shape="rect" href="class_r_g_w_data_changes_log.html#a7b411764f9c4f61d6dd369cd92cf1438" title=" " alt="" coords="226,5,387,48"/>
<area shape="poly" title=" " alt="" coords="91,262,106,220,131,165,166,108,188,81,212,58,216,54,220,59,215,62,192,85,171,111,136,168,111,222,96,264"/>
<area shape="rect" href="class_r_g_w_data_changes_log.html#a7392b031c0a2762d0e030d8c56e1ff4a" title=" " alt="" coords="226,72,387,115"/>
<area shape="poly" title=" " alt="" coords="98,262,144,199,176,163,212,131,229,120,232,124,215,135,180,167,148,202,102,265"/>
<area shape="rect" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5" title=" " alt="" coords="516,205,558,232"/>
<area shape="poly" title=" " alt="" coords="102,262,148,215,178,192,213,175,252,164,292,160,333,161,373,165,446,182,502,201,500,206,444,187,372,171,332,166,292,165,253,170,215,180,181,197,151,219,106,265"/>
<area shape="rect" href="rgw__log__backing_8h.html#adc91400029fb575818b2a0ccf89e7928" title=" " alt="" coords="275,213,338,240"/>
<area shape="poly" title=" " alt="" coords="166,261,259,236,261,241,167,267"/>
<area shape="rect" href="class_r_g_w_data_changes_log.html#aec9927534059a6ed15cc311a7db7c8ff" title=" " alt="" coords="226,264,387,307"/>
<area shape="poly" title=" " alt="" coords="166,283,210,283,210,288,166,288"/>
<area shape="rect" href="structrgw__bucket__shard.html#acbe7782e10b7605478952606c1a27571" title=" " alt="" coords="447,360,627,387"/>
<area shape="poly" title=" " alt="" coords="167,305,214,316,432,355,431,361,213,321,165,310"/>
<area shape="rect" href="class_r_g_w_data_changes_log.html#afc0615cb71609115df900a34dca00218" title=" " alt="" coords="226,381,387,424"/>
<area shape="poly" title=" " alt="" coords="121,305,215,360,239,372,237,377,212,365,119,310"/>
<area shape="rect" href="structrgw_1_1_bucket_change_observer.html#ab593244fe5094cb4f466457cb1e47c60" title=" " alt="" coords="214,448,399,491"/>
<area shape="poly" title=" " alt="" coords="102,305,147,369,179,403,215,434,222,438,219,442,212,438,175,407,143,372,98,308"/>
<area shape="rect" href="class_r_g_w_data_changes_log.html#aa5d53b3a036c5b978b672991684b1b05" title=" " alt="" coords="226,515,387,557"/>
<area shape="poly" title=" " alt="" coords="96,306,112,347,137,399,172,454,215,501,220,504,217,508,212,505,167,457,133,402,107,349,91,308"/>
<area shape="poly" title=" " alt="" coords="272,217,263,206,266,196,281,189,306,187,338,191,349,200,346,205,336,196,306,192,282,194,270,199,268,205,276,213"/>
<area shape="poly" title=" " alt="" coords="382,261,500,226,502,231,383,266"/>
<area shape="rect" href="structrgw__bucket.html#ad369d093e39599e8eea191882fcdc6a9" title=" " alt="" coords="675,360,817,387"/>
<area shape="poly" title=" " alt="" coords="628,371,660,371,660,376,628,376"/>
<area shape="poly" title=" " alt="" coords="386,390,431,384,432,389,387,395"/>
</map>
</div>
<div class="dynheader">
이 함수를 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="class_r_g_w_data_changes_log_a47abef6595c8dd36459547a88674f2d5_icgraph.png" border="0" usemap="#aclass_r_g_w_data_changes_log_a47abef6595c8dd36459547a88674f2d5_icgraph" alt=""/></div>
<map name="aclass_r_g_w_data_changes_log_a47abef6595c8dd36459547a88674f2d5_icgraph" id="aclass_r_g_w_data_changes_log_a47abef6595c8dd36459547a88674f2d5_icgraph">
<area shape="rect" title=" " alt="" coords="924,219,1084,261"/>
<area shape="rect" href="class_r_g_w_rados_1_1_bucket_1_1_update_index.html#a9ad1c8f012535381d111a637335bdc7e" title=" " alt="" coords="682,131,870,173"/>
<area shape="poly" title=" " alt="" coords="931,215,832,176,834,171,933,210"/>
<area shape="rect" href="struct_r_g_w_rados_1_1_object_1_1_delete.html#a7d9eb79062106ce1af7373f1a593ec7e" title=" " alt="" coords="447,189,628,232"/>
<area shape="poly" title=" " alt="" coords="908,237,629,219,629,214,909,231"/>
<area shape="rect" href="class_r_g_w_rados_1_1_bucket_1_1_update_index.html#a62cb7015c0bf71c0b4ec739c8c45598b" title=" " alt="" coords="682,64,870,107"/>
<area shape="poly" title=" " alt="" coords="973,208,929,163,874,121,852,110,854,105,877,116,933,159,977,205"/>
<area shape="rect" href="class_r_g_w_rados_1_1_bucket_1_1_update_index.html#a5980155cf7e122f01612b6ad07932b13" title=" " alt="" coords="682,248,870,291"/>
<area shape="poly" title=" " alt="" coords="909,255,871,260,870,255,908,250"/>
<area shape="rect" href="class_r_g_w_s_i___bucket_index___r_a_d_o_s.html#ac00a20ee4a60cf1b3c600b9f82d739ba" title=" " alt="" coords="677,315,875,357"/>
<area shape="poly" title=" " alt="" coords="950,271,877,305,847,317,845,312,875,300,948,266"/>
<area shape="rect" href="class_r_g_w_index_completion_manager.html#af22b30b6aa262fc71cac5b18b066fe20" title=" " alt="" coords="676,381,876,424"/>
<area shape="poly" title=" " alt="" coords="979,276,935,325,907,350,877,372,855,383,852,378,874,367,904,346,931,321,975,272"/>
<area shape="rect" href="struct_r_g_w_rados_1_1_object_1_1_write.html#af1ba1d592dced1cf54563315fa0a0066" title=" " alt="" coords="450,64,625,107"/>
<area shape="poly" title=" " alt="" coords="683,129,616,110,617,105,684,124"/>
<area shape="poly" title=" " alt="" coords="673,180,628,191,627,186,671,175"/>
<area shape="rect" href="class_r_g_w_rados.html#a3b51d79d4a900f4326fd06af5b8cc4e5" title=" " alt="" coords="463,131,612,157"/>
<area shape="poly" title=" " alt="" coords="666,151,613,149,613,144,666,146"/>
<area shape="rect" href="class_r_g_w_async_remove_obj.html#accafaf5f59056835ae2c72aa1a24d625" title=" " alt="" coords="219,323,383,365"/>
<area shape="poly" title=" " alt="" coords="454,242,449,246,434,262,425,279,417,296,401,313,381,324,379,320,397,309,413,293,421,276,429,259,445,242,451,238"/>
<area shape="rect" href="class_r_g_w_rados.html#a390a22cffcaca08280970e1a7dc0a227" title=" " alt="" coords="222,139,380,165"/>
<area shape="poly" title=" " alt="" coords="433,188,357,169,359,163,435,182"/>
<area shape="rect" href="classrgw_1_1sal_1_1_rados_object.html#a0ac066b99684f4f14127604ec387244f" title=" " alt="" coords="226,189,376,232"/>
<area shape="poly" title=" " alt="" coords="432,213,376,213,376,208,432,208"/>
<area shape="rect" href="class_r_g_w_pub_sub_1_1_sub_with_events.html#a5df143f9787910688d9d43c95b127658" title=" " alt="" coords="203,256,399,299"/>
<area shape="poly" title=" " alt="" coords="446,239,380,258,379,253,444,234"/>
<area shape="rect" href="classrgw_1_1sal_1_1_rados_object.html#aee26f8979cdc2417960dc016ea645307" title=" " alt="" coords="226,72,376,115"/>
<area shape="poly" title=" " alt="" coords="456,129,376,112,377,107,457,124"/>
<area shape="rect" href="classrgw_1_1sal_1_1_rados_object.html#a6346b1f7936bfe5fbcee10a20096c35a" title=" " alt="" coords="5,5,155,48"/>
<area shape="poly" title=" " alt="" coords="213,70,153,51,154,46,215,65"/>
<area shape="rect" href="classrgw_1_1sal_1_1_rados_object.html#ae8437f6b12fd3ae2cfdd54b19edd504b" title=" " alt="" coords="5,72,155,115"/>
<area shape="poly" title=" " alt="" coords="210,96,155,96,155,91,210,91"/>
<area shape="rect" href="classrgw_1_1sal_1_1_rados_object.html#a3d43d9111d2bb62a6cd056d91c3d65f4" title=" " alt="" coords="5,139,155,181"/>
<area shape="poly" title=" " alt="" coords="215,122,154,141,153,135,213,117"/>
<area shape="poly" title=" " alt="" coords="666,88,626,88,626,83,666,83"/>
<area shape="poly" title=" " alt="" coords="672,114,596,133,595,127,671,108"/>
<area shape="poly" title=" " alt="" coords="671,246,627,235,628,230,673,241"/>
<area shape="rect" href="class_r_g_w_rados.html#a43bad5bb50adcc4f783ebeacf3e79b96" title=" " alt="" coords="459,256,616,299"/>
<area shape="poly" title=" " alt="" coords="666,276,617,277,617,272,666,270"/>
</map>
</div>

</div>
</div>
<a id="a0b8b7ebe9cb721c6cd373fe5f7a11437" name="a0b8b7ebe9cb721c6cd373fe5f7a11437"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0b8b7ebe9cb721c6cd373fe5f7a11437">&#9670;&#160;</a></span>change_format()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int RGWDataChangesLog::change_format </td>
          <td>(</td>
          <td class="paramtype">const DoutPrefixProvider *&#160;</td>
          <td class="paramname"><em>dpp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="rgw__log__backing_8h.html#a8488e4c6d9298df81f48a34e80c81410">log_type</a>&#160;</td>
          <td class="paramname"><em>type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">optional_yield&#160;</td>
          <td class="paramname"><em>y</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition"><a class="el" href="rgw__datalog_8cc_source.html">rgw_datalog.cc</a> 파일의 <a class="el" href="rgw__datalog_8cc_source.html#l01019">1019</a> 번째 라인에서 정의되었습니다.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1019</span>                                                                                                   {</div>
<div class="line"><span class="lineno"> 1020</span>  <span class="keywordflow">return</span> ceph::from_error_code(<a class="code hl_variable" href="class_r_g_w_data_changes_log.html#a4f11cd31c20eaff68d63652cad9d353a">bes</a>-&gt;new_backing(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>, type, y));</div>
<div class="line"><span class="lineno"> 1021</span>}</div>
</div><!-- fragment --><div class="dynheader">
이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="class_r_g_w_data_changes_log_a0b8b7ebe9cb721c6cd373fe5f7a11437_cgraph.png" border="0" usemap="#aclass_r_g_w_data_changes_log_a0b8b7ebe9cb721c6cd373fe5f7a11437_cgraph" alt=""/></div>
<map name="aclass_r_g_w_data_changes_log_a0b8b7ebe9cb721c6cd373fe5f7a11437_cgraph" id="aclass_r_g_w_data_changes_log_a0b8b7ebe9cb721c6cd373fe5f7a11437_cgraph">
<area shape="rect" title=" " alt="" coords="5,5,166,48"/>
<area shape="rect" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5" title=" " alt="" coords="214,13,256,40"/>
<area shape="poly" title=" " alt="" coords="166,24,198,24,198,29,166,29"/>
</map>
</div>

</div>
</div>
<a id="a7392b031c0a2762d0e030d8c56e1ff4a" name="a7392b031c0a2762d0e030d8c56e1ff4a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7392b031c0a2762d0e030d8c56e1ff4a">&#9670;&#160;</a></span>choose_oid()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int RGWDataChangesLog::choose_oid </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structrgw__bucket__shard.html">rgw_bucket_shard</a> &amp;&#160;</td>
          <td class="paramname"><em>bs</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition"><a class="el" href="rgw__datalog_8cc_source.html">rgw_datalog.cc</a> 파일의 <a class="el" href="rgw__datalog_8cc_source.html#l00488">488</a> 번째 라인에서 정의되었습니다.</p>
<div class="fragment"><div class="line"><span class="lineno">  488</span>                                                            {</div>
<div class="line"><span class="lineno">  489</span>  <span class="keyword">const</span> <span class="keyword">auto</span>&amp; name = bs.<a class="code hl_variable" href="structrgw__bucket__shard.html#aa6821665d28ae2987ee05096b8a284e8">bucket</a>.<a class="code hl_variable" href="structrgw__bucket.html#a32d3529f5b0c53051c856a7abe867a6b">name</a>;</div>
<div class="line"><span class="lineno">  490</span>  <span class="keyword">auto</span> shard_shift = (bs.<a class="code hl_variable" href="structrgw__bucket__shard.html#a6f623c8052fa8df15ed2a6747fbd624c">shard_id</a> &gt; 0 ? bs.<a class="code hl_variable" href="structrgw__bucket__shard.html#a6f623c8052fa8df15ed2a6747fbd624c">shard_id</a> : 0);</div>
<div class="line"><span class="lineno">  491</span>  <span class="keyword">auto</span> <a class="code hl_variable" href="rgw__aio_8cc.html#ae38055824c6eac64615832ad9d888539">r</a> = (ceph_str_hash_linux(name.data(), name.size()) +</div>
<div class="line"><span class="lineno">  492</span>        shard_shift) % <a class="code hl_variable" href="class_r_g_w_data_changes_log.html#ad9344c62ed8a04be879f0fc45fc05352">num_shards</a>;</div>
<div class="line"><span class="lineno">  493</span>  <span class="keywordflow">return</span> <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>(<a class="code hl_variable" href="rgw__aio_8cc.html#ae38055824c6eac64615832ad9d888539">r</a>);</div>
<div class="line"><span class="lineno">  494</span>}</div>
<div class="ttc" id="argw__aio_8cc_html_ae38055824c6eac64615832ad9d888539"><div class="ttname"><a href="rgw__aio_8cc.html#ae38055824c6eac64615832ad9d888539">r</a></div><div class="ttdeci">AioResult &amp; r</div><div class="ttdef"><b>Definition</b> <a href="rgw__aio_8cc_source.html#l00067">rgw_aio.cc:67</a></div></div>
<div class="ttc" id="astructrgw__bucket__shard_html_a6f623c8052fa8df15ed2a6747fbd624c"><div class="ttname"><a href="structrgw__bucket__shard.html#a6f623c8052fa8df15ed2a6747fbd624c">rgw_bucket_shard::shard_id</a></div><div class="ttdeci">int shard_id</div><div class="ttdef"><b>Definition</b> <a href="rgw__basic__types_8h_source.html#l00432">rgw_basic_types.h:432</a></div></div>
<div class="ttc" id="astructrgw__bucket__shard_html_aa6821665d28ae2987ee05096b8a284e8"><div class="ttname"><a href="structrgw__bucket__shard.html#aa6821665d28ae2987ee05096b8a284e8">rgw_bucket_shard::bucket</a></div><div class="ttdeci">rgw_bucket bucket</div><div class="ttdef"><b>Definition</b> <a href="rgw__basic__types_8h_source.html#l00431">rgw_basic_types.h:431</a></div></div>
<div class="ttc" id="astructrgw__bucket_html_a32d3529f5b0c53051c856a7abe867a6b"><div class="ttname"><a href="structrgw__bucket.html#a32d3529f5b0c53051c856a7abe867a6b">rgw_bucket::name</a></div><div class="ttdeci">std::string name</div><div class="ttdef"><b>Definition</b> <a href="rgw__basic__types_8h_source.html#l00291">rgw_basic_types.h:291</a></div></div>
</div><!-- fragment --><div class="dynheader">
이 함수를 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="class_r_g_w_data_changes_log_a7392b031c0a2762d0e030d8c56e1ff4a_icgraph.png" border="0" usemap="#aclass_r_g_w_data_changes_log_a7392b031c0a2762d0e030d8c56e1ff4a_icgraph" alt=""/></div>
<map name="aclass_r_g_w_data_changes_log_a7392b031c0a2762d0e030d8c56e1ff4a_icgraph" id="aclass_r_g_w_data_changes_log_a7392b031c0a2762d0e030d8c56e1ff4a_icgraph">
<area shape="rect" title=" " alt="" coords="1132,464,1292,507"/>
<area shape="rect" href="class_r_g_w_data_changes_log.html#a47abef6595c8dd36459547a88674f2d5" title=" " alt="" coords="924,264,1084,307"/>
<area shape="poly" title=" " alt="" coords="1176,455,1026,309,1029,305,1180,451"/>
<area shape="rect" href="class_r_g_w_data_changes_log.html#a12e7037a9e18f965bffc75d81b010dad" title=" " alt="" coords="924,464,1084,507"/>
<area shape="poly" title=" " alt="" coords="1117,488,1085,488,1085,483,1117,483"/>
<area shape="rect" href="class_r_g_w_data_changes_log.html#acec51d68a6fc7965c01a50dfab1b20e4" title=" " alt="" coords="924,531,1084,573"/>
<area shape="poly" title=" " alt="" coords="1130,514,1074,533,1072,527,1129,509"/>
<area shape="rect" href="class_r_g_w_rados_1_1_bucket_1_1_update_index.html#a9ad1c8f012535381d111a637335bdc7e" title=" " alt="" coords="682,147,870,189"/>
<area shape="poly" title=" " alt="" coords="956,258,874,210,835,192,837,188,877,206,959,253"/>
<area shape="rect" href="struct_r_g_w_rados_1_1_object_1_1_delete.html#a7d9eb79062106ce1af7373f1a593ec7e" title=" " alt="" coords="447,205,628,248"/>
<area shape="poly" title=" " alt="" coords="913,262,875,255,746,239,629,232,629,226,747,234,876,249,914,257"/>
<area shape="rect" href="class_r_g_w_rados_1_1_bucket_1_1_update_index.html#a62cb7015c0bf71c0b4ec739c8c45598b" title=" " alt="" coords="682,80,870,123"/>
<area shape="poly" title=" " alt="" coords="980,253,935,193,906,163,874,137,854,126,857,121,877,132,910,159,939,190,984,250"/>
<area shape="rect" href="class_r_g_w_rados_1_1_bucket_1_1_update_index.html#a5980155cf7e122f01612b6ad07932b13" title=" " alt="" coords="682,264,870,307"/>
<area shape="poly" title=" " alt="" coords="908,288,871,288,871,283,908,283"/>
<area shape="rect" href="class_r_g_w_s_i___bucket_index___r_a_d_o_s.html#ac00a20ee4a60cf1b3c600b9f82d739ba" title=" " alt="" coords="677,331,875,373"/>
<area shape="poly" title=" " alt="" coords="915,314,852,333,851,327,914,309"/>
<area shape="rect" href="class_r_g_w_index_completion_manager.html#af22b30b6aa262fc71cac5b18b066fe20" title=" " alt="" coords="676,397,876,440"/>
<area shape="poly" title=" " alt="" coords="971,319,928,355,877,388,852,399,850,394,874,383,924,350,967,315"/>
<area shape="rect" href="struct_r_g_w_rados_1_1_object_1_1_write.html#af1ba1d592dced1cf54563315fa0a0066" title=" " alt="" coords="450,139,625,181"/>
<area shape="poly" title=" " alt="" coords="666,167,626,166,626,160,666,162"/>
<area shape="poly" title=" " alt="" coords="673,196,628,207,627,202,671,191"/>
<area shape="rect" href="class_r_g_w_rados.html#a3b51d79d4a900f4326fd06af5b8cc4e5" title=" " alt="" coords="463,88,612,115"/>
<area shape="poly" title=" " alt="" coords="682,145,587,118,589,113,684,139"/>
<area shape="rect" href="class_r_g_w_async_remove_obj.html#accafaf5f59056835ae2c72aa1a24d625" title=" " alt="" coords="219,272,383,315"/>
<area shape="poly" title=" " alt="" coords="446,255,380,274,379,269,444,250"/>
<area shape="rect" href="class_r_g_w_rados.html#a390a22cffcaca08280970e1a7dc0a227" title=" " alt="" coords="222,339,380,365"/>
<area shape="poly" title=" " alt="" coords="454,258,449,262,434,278,426,295,417,312,401,329,378,341,376,336,397,325,413,309,421,293,429,275,445,258,451,254"/>
<area shape="rect" href="classrgw_1_1sal_1_1_rados_object.html#a0ac066b99684f4f14127604ec387244f" title=" " alt="" coords="226,139,376,181"/>
<area shape="poly" title=" " alt="" coords="445,203,375,184,377,178,446,198"/>
<area shape="rect" href="class_r_g_w_pub_sub_1_1_sub_with_events.html#a5df143f9787910688d9d43c95b127658" title=" " alt="" coords="203,205,399,248"/>
<area shape="poly" title=" " alt="" coords="431,229,400,229,400,224,431,224"/>
<area shape="rect" href="classrgw_1_1sal_1_1_rados_object.html#aee26f8979cdc2417960dc016ea645307" title=" " alt="" coords="226,72,376,115"/>
<area shape="poly" title=" " alt="" coords="448,101,376,99,376,93,448,96"/>
<area shape="rect" href="classrgw_1_1sal_1_1_rados_object.html#a6346b1f7936bfe5fbcee10a20096c35a" title=" " alt="" coords="5,5,155,48"/>
<area shape="poly" title=" " alt="" coords="213,70,153,51,154,46,215,65"/>
<area shape="rect" href="classrgw_1_1sal_1_1_rados_object.html#ae8437f6b12fd3ae2cfdd54b19edd504b" title=" " alt="" coords="5,72,155,115"/>
<area shape="poly" title=" " alt="" coords="210,96,155,96,155,91,210,91"/>
<area shape="rect" href="classrgw_1_1sal_1_1_rados_object.html#a3d43d9111d2bb62a6cd056d91c3d65f4" title=" " alt="" coords="5,139,155,181"/>
<area shape="poly" title=" " alt="" coords="215,122,154,141,153,135,213,117"/>
<area shape="poly" title=" " alt="" coords="673,129,626,141,625,136,671,124"/>
<area shape="poly" title=" " alt="" coords="666,104,613,104,613,99,666,99"/>
<area shape="poly" title=" " alt="" coords="671,262,627,251,628,246,673,257"/>
<area shape="rect" href="class_r_g_w_rados.html#a43bad5bb50adcc4f783ebeacf3e79b96" title=" " alt="" coords="459,272,616,315"/>
<area shape="poly" title=" " alt="" coords="666,292,617,293,617,288,666,286"/>
<area shape="rect" href="class_r_g_w_list_bucket_indexes_c_r.html#a9d5046038d859b567b411775b77fc015" title=" " alt="" coords="687,464,865,507"/>
<area shape="poly" title=" " alt="" coords="908,488,866,488,866,483,908,483"/>
<area shape="rect" href="class_r_g_w_data_changes_log.html#a31f323d4bf6fff21ea4c8f288b202a5b" title=" " alt="" coords="696,531,856,573"/>
<area shape="poly" title=" " alt="" coords="908,555,857,555,857,549,908,549"/>
<area shape="rect" href="class_r_g_w_data_changes_log.html#a88f3364b1bbf290c257ee6aa39618b92" title=" " alt="" coords="458,531,618,573"/>
<area shape="poly" title=" " alt="" coords="681,555,618,555,618,549,681,549"/>
</map>
</div>

</div>
</div>
<a id="aec9927534059a6ed15cc311a7db7c8ff" name="aec9927534059a6ed15cc311a7db7c8ff"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aec9927534059a6ed15cc311a7db7c8ff">&#9670;&#160;</a></span>filter_bucket()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool RGWDataChangesLog::filter_bucket </td>
          <td>(</td>
          <td class="paramtype">const DoutPrefixProvider *&#160;</td>
          <td class="paramname"><em>dpp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structrgw__bucket.html">rgw_bucket</a> &amp;&#160;</td>
          <td class="paramname"><em>bucket</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">optional_yield&#160;</td>
          <td class="paramname"><em>y</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition"><a class="el" href="rgw__datalog_8cc_source.html">rgw_datalog.cc</a> 파일의 <a class="el" href="rgw__datalog_8cc_source.html#l00588">588</a> 번째 라인에서 정의되었습니다.</p>
<div class="fragment"><div class="line"><span class="lineno">  591</span>{</div>
<div class="line"><span class="lineno">  592</span>  <span class="keywordflow">if</span> (!<a class="code hl_variable" href="class_r_g_w_data_changes_log.html#a61080bda904ae53d83ea1ca81cdfd47b">bucket_filter</a>) {</div>
<div class="line"><span class="lineno">  593</span>    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  594</span>  }</div>
<div class="line"><span class="lineno">  595</span> </div>
<div class="line"><span class="lineno">  596</span>  <span class="keywordflow">return</span> <a class="code hl_variable" href="class_r_g_w_data_changes_log.html#a61080bda904ae53d83ea1ca81cdfd47b">bucket_filter</a>(bucket, y, <a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>);</div>
<div class="line"><span class="lineno">  597</span>}</div>
<div class="ttc" id="aclass_r_g_w_data_changes_log_html_a61080bda904ae53d83ea1ca81cdfd47b"><div class="ttname"><a href="class_r_g_w_data_changes_log.html#a61080bda904ae53d83ea1ca81cdfd47b">RGWDataChangesLog::bucket_filter</a></div><div class="ttdeci">std::function&lt; bool(const rgw_bucket &amp;bucket, optional_yield y, const DoutPrefixProvider *dpp)&gt; bucket_filter</div><div class="ttdef"><b>Definition</b> <a href="rgw__datalog_8h_source.html#l00217">rgw_datalog.h:217</a></div></div>
</div><!-- fragment --><div class="dynheader">
이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="class_r_g_w_data_changes_log_aec9927534059a6ed15cc311a7db7c8ff_cgraph.png" border="0" usemap="#aclass_r_g_w_data_changes_log_aec9927534059a6ed15cc311a7db7c8ff_cgraph" alt=""/></div>
<map name="aclass_r_g_w_data_changes_log_aec9927534059a6ed15cc311a7db7c8ff_cgraph" id="aclass_r_g_w_data_changes_log_aec9927534059a6ed15cc311a7db7c8ff_cgraph">
<area shape="rect" title=" " alt="" coords="5,5,166,48"/>
<area shape="rect" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5" title=" " alt="" coords="214,13,256,40"/>
<area shape="poly" title=" " alt="" coords="166,24,198,24,198,29,166,29"/>
</map>
</div>
<div class="dynheader">
이 함수를 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="class_r_g_w_data_changes_log_aec9927534059a6ed15cc311a7db7c8ff_icgraph.png" border="0" usemap="#aclass_r_g_w_data_changes_log_aec9927534059a6ed15cc311a7db7c8ff_icgraph" alt=""/></div>
<map name="aclass_r_g_w_data_changes_log_aec9927534059a6ed15cc311a7db7c8ff_icgraph" id="aclass_r_g_w_data_changes_log_aec9927534059a6ed15cc311a7db7c8ff_icgraph">
<area shape="rect" title=" " alt="" coords="1132,219,1292,261"/>
<area shape="rect" href="class_r_g_w_data_changes_log.html#a47abef6595c8dd36459547a88674f2d5" title=" " alt="" coords="924,219,1084,261"/>
<area shape="poly" title=" " alt="" coords="1117,243,1085,243,1085,237,1117,237"/>
<area shape="rect" href="class_r_g_w_rados_1_1_bucket_1_1_update_index.html#a9ad1c8f012535381d111a637335bdc7e" title=" " alt="" coords="682,131,870,173"/>
<area shape="poly" title=" " alt="" coords="931,215,832,176,834,171,933,210"/>
<area shape="rect" href="struct_r_g_w_rados_1_1_object_1_1_delete.html#a7d9eb79062106ce1af7373f1a593ec7e" title=" " alt="" coords="447,189,628,232"/>
<area shape="poly" title=" " alt="" coords="908,237,629,219,629,214,909,231"/>
<area shape="rect" href="class_r_g_w_rados_1_1_bucket_1_1_update_index.html#a62cb7015c0bf71c0b4ec739c8c45598b" title=" " alt="" coords="682,64,870,107"/>
<area shape="poly" title=" " alt="" coords="973,208,929,163,874,121,852,110,854,105,877,116,933,159,977,205"/>
<area shape="rect" href="class_r_g_w_rados_1_1_bucket_1_1_update_index.html#a5980155cf7e122f01612b6ad07932b13" title=" " alt="" coords="682,248,870,291"/>
<area shape="poly" title=" " alt="" coords="909,255,871,260,870,255,908,250"/>
<area shape="rect" href="class_r_g_w_s_i___bucket_index___r_a_d_o_s.html#ac00a20ee4a60cf1b3c600b9f82d739ba" title=" " alt="" coords="677,315,875,357"/>
<area shape="poly" title=" " alt="" coords="950,271,877,305,847,317,845,312,875,300,948,266"/>
<area shape="rect" href="class_r_g_w_index_completion_manager.html#af22b30b6aa262fc71cac5b18b066fe20" title=" " alt="" coords="676,381,876,424"/>
<area shape="poly" title=" " alt="" coords="979,276,935,325,907,350,877,372,855,383,852,378,874,367,904,346,931,321,975,272"/>
<area shape="rect" href="struct_r_g_w_rados_1_1_object_1_1_write.html#af1ba1d592dced1cf54563315fa0a0066" title=" " alt="" coords="450,64,625,107"/>
<area shape="poly" title=" " alt="" coords="683,129,616,110,617,105,684,124"/>
<area shape="poly" title=" " alt="" coords="673,180,628,191,627,186,671,175"/>
<area shape="rect" href="class_r_g_w_rados.html#a3b51d79d4a900f4326fd06af5b8cc4e5" title=" " alt="" coords="463,131,612,157"/>
<area shape="poly" title=" " alt="" coords="666,151,613,149,613,144,666,146"/>
<area shape="rect" href="class_r_g_w_async_remove_obj.html#accafaf5f59056835ae2c72aa1a24d625" title=" " alt="" coords="219,323,383,365"/>
<area shape="poly" title=" " alt="" coords="454,242,449,246,434,262,425,279,417,296,401,313,381,324,379,320,397,309,413,293,421,276,429,259,445,242,451,238"/>
<area shape="rect" href="class_r_g_w_rados.html#a390a22cffcaca08280970e1a7dc0a227" title=" " alt="" coords="222,139,380,165"/>
<area shape="poly" title=" " alt="" coords="433,188,357,169,359,163,435,182"/>
<area shape="rect" href="classrgw_1_1sal_1_1_rados_object.html#a0ac066b99684f4f14127604ec387244f" title=" " alt="" coords="226,189,376,232"/>
<area shape="poly" title=" " alt="" coords="432,213,376,213,376,208,432,208"/>
<area shape="rect" href="class_r_g_w_pub_sub_1_1_sub_with_events.html#a5df143f9787910688d9d43c95b127658" title=" " alt="" coords="203,256,399,299"/>
<area shape="poly" title=" " alt="" coords="446,239,380,258,379,253,444,234"/>
<area shape="rect" href="classrgw_1_1sal_1_1_rados_object.html#aee26f8979cdc2417960dc016ea645307" title=" " alt="" coords="226,72,376,115"/>
<area shape="poly" title=" " alt="" coords="456,129,376,112,377,107,457,124"/>
<area shape="rect" href="classrgw_1_1sal_1_1_rados_object.html#a6346b1f7936bfe5fbcee10a20096c35a" title=" " alt="" coords="5,5,155,48"/>
<area shape="poly" title=" " alt="" coords="213,70,153,51,154,46,215,65"/>
<area shape="rect" href="classrgw_1_1sal_1_1_rados_object.html#ae8437f6b12fd3ae2cfdd54b19edd504b" title=" " alt="" coords="5,72,155,115"/>
<area shape="poly" title=" " alt="" coords="210,96,155,96,155,91,210,91"/>
<area shape="rect" href="classrgw_1_1sal_1_1_rados_object.html#a3d43d9111d2bb62a6cd056d91c3d65f4" title=" " alt="" coords="5,139,155,181"/>
<area shape="poly" title=" " alt="" coords="215,122,154,141,153,135,213,117"/>
<area shape="poly" title=" " alt="" coords="666,88,626,88,626,83,666,83"/>
<area shape="poly" title=" " alt="" coords="672,114,596,133,595,127,671,108"/>
<area shape="poly" title=" " alt="" coords="671,246,627,235,628,230,673,241"/>
<area shape="rect" href="class_r_g_w_rados.html#a43bad5bb50adcc4f783ebeacf3e79b96" title=" " alt="" coords="459,256,616,299"/>
<area shape="poly" title=" " alt="" coords="666,276,617,277,617,272,666,270"/>
</map>
</div>

</div>
</div>
<a id="a494b289195a8668ee61161bd40164aeb" name="a494b289195a8668ee61161bd40164aeb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a494b289195a8668ee61161bd40164aeb">&#9670;&#160;</a></span>get_info()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int RGWDataChangesLog::get_info </td>
          <td>(</td>
          <td class="paramtype">const DoutPrefixProvider *&#160;</td>
          <td class="paramname"><em>dpp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>shard_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_r_g_w_data_changes_log_info.html">RGWDataChangesLogInfo</a> *&#160;</td>
          <td class="paramname"><em>info</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition"><a class="el" href="rgw__datalog_8cc_source.html">rgw_datalog.cc</a> 파일의 <a class="el" href="rgw__datalog_8cc_source.html#l00783">783</a> 번째 라인에서 정의되었습니다.</p>
<div class="fragment"><div class="line"><span class="lineno">  784</span>{</div>
<div class="line"><span class="lineno">  785</span>  assert(shard_id &lt; <a class="code hl_variable" href="class_r_g_w_data_changes_log.html#ad9344c62ed8a04be879f0fc45fc05352">num_shards</a>);</div>
<div class="line"><span class="lineno">  786</span>  <span class="keyword">auto</span> be = <a class="code hl_variable" href="class_r_g_w_data_changes_log.html#a4f11cd31c20eaff68d63652cad9d353a">bes</a>-&gt;head();</div>
<div class="line"><span class="lineno">  787</span>  <span class="keyword">auto</span> <a class="code hl_variable" href="rgw__aio_8cc.html#ae38055824c6eac64615832ad9d888539">r</a> = be-&gt;get_info(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>, shard_id, info);</div>
<div class="line"><span class="lineno">  788</span>  <span class="keywordflow">if</span> (!info-&gt;<a class="code hl_variable" href="struct_r_g_w_data_changes_log_info.html#a1ea8461cd95581edc97d3c666dd942dd">marker</a>.empty()) {</div>
<div class="line"><span class="lineno">  789</span>    info-&gt;<a class="code hl_variable" href="struct_r_g_w_data_changes_log_info.html#a1ea8461cd95581edc97d3c666dd942dd">marker</a> = <a class="code hl_function" href="rgw__log__backing_8h.html#a804210f70f2f910b331ca7008ca3032d">gencursor</a>(be-&gt;gen_id, info-&gt;<a class="code hl_variable" href="struct_r_g_w_data_changes_log_info.html#a1ea8461cd95581edc97d3c666dd942dd">marker</a>);</div>
<div class="line"><span class="lineno">  790</span>  }</div>
<div class="line"><span class="lineno">  791</span>  <span class="keywordflow">return</span> <a class="code hl_variable" href="rgw__aio_8cc.html#ae38055824c6eac64615832ad9d888539">r</a>;</div>
<div class="line"><span class="lineno">  792</span>}</div>
<div class="ttc" id="argw__log__backing_8h_html_a804210f70f2f910b331ca7008ca3032d"><div class="ttname"><a href="rgw__log__backing_8h.html#a804210f70f2f910b331ca7008ca3032d">gencursor</a></div><div class="ttdeci">std::string gencursor(uint64_t gen_id, std::string_view cursor)</div><div class="ttdef"><b>Definition</b> <a href="rgw__log__backing_8h_source.html#l00236">rgw_log_backing.h:236</a></div></div>
<div class="ttc" id="astruct_r_g_w_data_changes_log_info_html_a1ea8461cd95581edc97d3c666dd942dd"><div class="ttname"><a href="struct_r_g_w_data_changes_log_info.html#a1ea8461cd95581edc97d3c666dd942dd">RGWDataChangesLogInfo::marker</a></div><div class="ttdeci">std::string marker</div><div class="ttdef"><b>Definition</b> <a href="rgw__datalog_8h_source.html#l00107">rgw_datalog.h:107</a></div></div>
</div><!-- fragment --><div class="dynheader">
이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="class_r_g_w_data_changes_log_a494b289195a8668ee61161bd40164aeb_cgraph.png" border="0" usemap="#aclass_r_g_w_data_changes_log_a494b289195a8668ee61161bd40164aeb_cgraph" alt=""/></div>
<map name="aclass_r_g_w_data_changes_log_a494b289195a8668ee61161bd40164aeb_cgraph" id="aclass_r_g_w_data_changes_log_a494b289195a8668ee61161bd40164aeb_cgraph">
<area shape="rect" title=" " alt="" coords="5,23,166,65"/>
<area shape="rect" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5" title=" " alt="" coords="232,5,274,32"/>
<area shape="poly" title=" " alt="" coords="166,29,216,21,216,27,167,34"/>
<area shape="rect" href="rgw__log__backing_8h.html#a804210f70f2f910b331ca7008ca3032d" title=" " alt="" coords="214,56,292,83"/>
<area shape="poly" title=" " alt="" coords="167,54,199,58,198,64,166,59"/>
</map>
</div>

</div>
</div>
<a id="a12e7037a9e18f965bffc75d81b010dad" name="a12e7037a9e18f965bffc75d81b010dad"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a12e7037a9e18f965bffc75d81b010dad">&#9670;&#160;</a></span>get_log_shard_id()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int RGWDataChangesLog::get_log_shard_id </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structrgw__bucket.html">rgw_bucket</a> &amp;&#160;</td>
          <td class="paramname"><em>bucket</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>shard_id</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition"><a class="el" href="rgw__datalog_8cc_source.html">rgw_datalog.cc</a> 파일의 <a class="el" href="rgw__datalog_8cc_source.html#l00583">583</a> 번째 라인에서 정의되었습니다.</p>
<div class="fragment"><div class="line"><span class="lineno">  583</span>                                                                        {</div>
<div class="line"><span class="lineno">  584</span>  <a class="code hl_struct" href="structrgw__bucket__shard.html">rgw_bucket_shard</a> bs(bucket, shard_id);</div>
<div class="line"><span class="lineno">  585</span>  <span class="keywordflow">return</span> <a class="code hl_function" href="class_r_g_w_data_changes_log.html#a7392b031c0a2762d0e030d8c56e1ff4a">choose_oid</a>(bs);</div>
<div class="line"><span class="lineno">  586</span>}</div>
</div><!-- fragment --><div class="dynheader">
이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="class_r_g_w_data_changes_log_a12e7037a9e18f965bffc75d81b010dad_cgraph.png" border="0" usemap="#aclass_r_g_w_data_changes_log_a12e7037a9e18f965bffc75d81b010dad_cgraph" alt=""/></div>
<map name="aclass_r_g_w_data_changes_log_a12e7037a9e18f965bffc75d81b010dad_cgraph" id="aclass_r_g_w_data_changes_log_a12e7037a9e18f965bffc75d81b010dad_cgraph">
<area shape="rect" title=" " alt="" coords="5,5,166,48"/>
<area shape="rect" href="class_r_g_w_data_changes_log.html#a7392b031c0a2762d0e030d8c56e1ff4a" title=" " alt="" coords="214,5,374,48"/>
<area shape="poly" title=" " alt="" coords="166,24,198,24,198,29,166,29"/>
</map>
</div>
<div class="dynheader">
이 함수를 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="class_r_g_w_data_changes_log_a12e7037a9e18f965bffc75d81b010dad_icgraph.png" border="0" usemap="#aclass_r_g_w_data_changes_log_a12e7037a9e18f965bffc75d81b010dad_icgraph" alt=""/></div>
<map name="aclass_r_g_w_data_changes_log_a12e7037a9e18f965bffc75d81b010dad_icgraph" id="aclass_r_g_w_data_changes_log_a12e7037a9e18f965bffc75d81b010dad_icgraph">
<area shape="rect" title=" " alt="" coords="232,5,392,48"/>
<area shape="rect" href="class_r_g_w_list_bucket_indexes_c_r.html#a9d5046038d859b567b411775b77fc015" title=" " alt="" coords="5,5,184,48"/>
<area shape="poly" title=" " alt="" coords="216,29,184,29,184,24,216,24"/>
</map>
</div>

</div>
</div>
<a id="a57d902a10e5c4015ddc7eb4e75164112" name="a57d902a10e5c4015ddc7eb4e75164112"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a57d902a10e5c4015ddc7eb4e75164112">&#9670;&#160;</a></span>get_oid()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::string RGWDataChangesLog::get_oid </td>
          <td>(</td>
          <td class="paramtype">uint64_t&#160;</td>
          <td class="paramname"><em>gen_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>shard_id</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition"><a class="el" href="rgw__datalog_8cc_source.html">rgw_datalog.cc</a> 파일의 <a class="el" href="rgw__datalog_8cc_source.html#l00599">599</a> 번째 라인에서 정의되었습니다.</p>
<div class="fragment"><div class="line"><span class="lineno">  599</span>                                                                 {</div>
<div class="line"><span class="lineno">  600</span>  <span class="keywordflow">return</span> (gen_id &gt; 0 ?</div>
<div class="line"><span class="lineno">  601</span>      fmt::format(<span class="stringliteral">&quot;{}@G{}.{}&quot;</span>, <a class="code hl_variable" href="class_r_g_w_data_changes_log.html#ac58a3712bbfce3f07df02fcea1b49731">prefix</a>, gen_id, i) :</div>
<div class="line"><span class="lineno">  602</span>      fmt::format(<span class="stringliteral">&quot;{}.{}&quot;</span>, <a class="code hl_variable" href="class_r_g_w_data_changes_log.html#ac58a3712bbfce3f07df02fcea1b49731">prefix</a>, i));</div>
<div class="line"><span class="lineno">  603</span>}</div>
</div><!-- fragment --><div class="dynheader">
이 함수를 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="class_r_g_w_data_changes_log_a57d902a10e5c4015ddc7eb4e75164112_icgraph.png" border="0" usemap="#aclass_r_g_w_data_changes_log_a57d902a10e5c4015ddc7eb4e75164112_icgraph" alt=""/></div>
<map name="aclass_r_g_w_data_changes_log_a57d902a10e5c4015ddc7eb4e75164112_icgraph" id="aclass_r_g_w_data_changes_log_a57d902a10e5c4015ddc7eb4e75164112_icgraph">
<area shape="rect" title=" " alt="" coords="475,268,635,311"/>
<area shape="rect" href="class_r_g_w_data_changes_b_e.html#af04c3f966c92b57448a9b1c0c369adbc" title=" " alt="" coords="228,247,427,273"/>
<area shape="poly" title=" " alt="" coords="459,280,427,276,428,270,460,274"/>
<area shape="rect" href="class_r_g_w_data_changes_log.html#a88f3364b1bbf290c257ee6aa39618b92" title=" " alt="" coords="247,297,408,340"/>
<area shape="poly" title=" " alt="" coords="460,304,408,311,408,306,459,299"/>
<area shape="rect" href="class_r_g_w_data_changes_f_i_f_o.html#a14be4eb7d634b6fccda1131896046494" title=" " alt="" coords="12,5,173,48"/>
<area shape="poly" title=" " alt="" coords="310,234,289,196,259,150,222,103,178,62,160,51,163,46,181,58,226,100,264,147,294,194,315,232"/>
<area shape="rect" href="class_r_g_w_data_changes_f_i_f_o.html#a29508043d994a2568151d9bb14c9cb3d" title=" " alt="" coords="12,72,173,115"/>
<area shape="poly" title=" " alt="" coords="302,237,248,183,214,154,178,129,157,118,159,113,181,124,218,150,252,179,306,233"/>
<area shape="rect" href="class_r_g_w_data_changes_f_i_f_o.html#a0de7e6f035ab5729ce644ed9eedfc124" title=" " alt="" coords="12,139,173,181"/>
<area shape="poly" title=" " alt="" coords="282,242,179,196,151,184,153,179,181,191,284,237"/>
<area shape="rect" href="class_r_g_w_data_changes_f_i_f_o.html#aa8fb2cef0e156ccc1e3ee2ac95c4abb5" title=" " alt="" coords="12,205,173,248"/>
<area shape="poly" title=" " alt="" coords="213,247,173,241,173,235,214,241"/>
<area shape="rect" href="class_r_g_w_data_changes_f_i_f_o.html#a871add85096734e8d0d5a9450a3ed1db" title=" " alt="" coords="12,272,173,315"/>
<area shape="poly" title=" " alt="" coords="214,279,173,285,173,279,213,273"/>
<area shape="rect" href="class_r_g_w_data_changes_f_i_f_o.html#aaa223c7207a3ae34dd75c8d636b01f00" title=" " alt="" coords="8,339,177,381"/>
<area shape="poly" title=" " alt="" coords="242,281,229,288,215,297,205,307,181,329,159,341,156,336,178,324,202,304,211,293,226,283,240,277"/>
<area shape="rect" href="class_r_g_w_data_changes_omap.html#a469b6b08f8f9b78950ccdd8f57da7bd5" title=" " alt="" coords="5,405,180,448"/>
<area shape="poly" title=" " alt="" coords="234,284,229,287,218,300,211,312,206,339,200,367,193,381,182,395,166,407,163,403,178,391,189,378,195,365,200,338,206,311,213,297,226,283,231,280"/>
<area shape="rect" href="class_r_g_w_data_changes_f_i_f_o.html#ac88aa40bf6a247e807815b95240a8a86" title=" " alt="" coords="12,472,173,515"/>
<area shape="poly" title=" " alt="" coords="233,284,230,287,214,308,206,329,205,371,204,416,197,439,182,462,168,474,164,469,178,458,192,436,199,415,200,371,201,328,209,305,226,284,229,280"/>
</map>
</div>

</div>
</div>
<a id="a7d79710e82df993c0afc0e39b719e316" name="a7d79710e82df993c0afc0e39b719e316"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7d79710e82df993c0afc0e39b719e316">&#9670;&#160;</a></span>get_prefix()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::string RGWDataChangesLog::get_prefix </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition"><a class="el" href="rgw__datalog_8h_source.html">rgw_datalog.h</a> 파일의 <a class="el" href="rgw__datalog_8h_source.html#l00176">176</a> 번째 라인에서 정의되었습니다.</p>
<div class="fragment"><div class="line"><span class="lineno">  176</span>                         {</div>
<div class="line"><span class="lineno">  177</span>    <span class="keyword">auto</span> <a class="code hl_variable" href="class_r_g_w_data_changes_log.html#ac58a3712bbfce3f07df02fcea1b49731">prefix</a> = <a class="code hl_variable" href="class_r_g_w_data_changes_log.html#af0ac934d9ab9db8e47e046dc7e4e977b">cct</a>-&gt;_conf-&gt;rgw_data_log_obj_prefix;</div>
<div class="line"><span class="lineno">  178</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="class_r_g_w_data_changes_log.html#ac58a3712bbfce3f07df02fcea1b49731">prefix</a>.empty() ? <a class="code hl_variable" href="class_r_g_w_data_changes_log.html#ac58a3712bbfce3f07df02fcea1b49731">prefix</a> : <span class="stringliteral">&quot;data_log&quot;</span>;</div>
<div class="line"><span class="lineno">  179</span>  }</div>
</div><!-- fragment --><div class="dynheader">
이 함수를 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="class_r_g_w_data_changes_log_a7d79710e82df993c0afc0e39b719e316_icgraph.png" border="0" usemap="#aclass_r_g_w_data_changes_log_a7d79710e82df993c0afc0e39b719e316_icgraph" alt=""/></div>
<map name="aclass_r_g_w_data_changes_log_a7d79710e82df993c0afc0e39b719e316_icgraph" id="aclass_r_g_w_data_changes_log_a7d79710e82df993c0afc0e39b719e316_icgraph">
<area shape="rect" title=" " alt="" coords="422,5,582,48"/>
<area shape="rect" href="class_r_g_w_data_changes_log.html#a2b9b0ce82c32226979918b93600ad79d" title=" " alt="" coords="214,5,374,48"/>
<area shape="poly" title=" " alt="" coords="407,29,375,29,375,24,407,24"/>
<area shape="rect" href="class_r_g_w_data_changes_log.html#a88f3364b1bbf290c257ee6aa39618b92" title=" " alt="" coords="5,5,166,48"/>
<area shape="poly" title=" " alt="" coords="198,29,166,29,166,24,198,24"/>
</map>
</div>

</div>
</div>
<a id="a936d85de3906b530b0c1ca8b2f7c6713" name="a936d85de3906b530b0c1ca8b2f7c6713"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a936d85de3906b530b0c1ca8b2f7c6713">&#9670;&#160;</a></span>going_down()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool RGWDataChangesLog::going_down </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition"><a class="el" href="rgw__datalog_8cc_source.html">rgw_datalog.cc</a> 파일의 <a class="el" href="rgw__datalog_8cc_source.html#l00937">937</a> 번째 라인에서 정의되었습니다.</p>
<div class="fragment"><div class="line"><span class="lineno">  938</span>{</div>
<div class="line"><span class="lineno">  939</span>  <span class="keywordflow">return</span> <a class="code hl_variable" href="class_r_g_w_data_changes_log.html#acbe1b701edec8384ccf85fd3de0c9788">down_flag</a>;</div>
<div class="line"><span class="lineno">  940</span>}</div>
</div><!-- fragment --><div class="dynheader">
이 함수를 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="class_r_g_w_data_changes_log_a936d85de3906b530b0c1ca8b2f7c6713_icgraph.png" border="0" usemap="#aclass_r_g_w_data_changes_log_a936d85de3906b530b0c1ca8b2f7c6713_icgraph" alt=""/></div>
<map name="aclass_r_g_w_data_changes_log_a936d85de3906b530b0c1ca8b2f7c6713_icgraph" id="aclass_r_g_w_data_changes_log_a936d85de3906b530b0c1ca8b2f7c6713_icgraph">
<area shape="rect" title=" " alt="" coords="422,5,582,48"/>
<area shape="rect" href="class_r_g_w_data_changes_log.html#a31f323d4bf6fff21ea4c8f288b202a5b" title=" " alt="" coords="214,5,374,48"/>
<area shape="poly" title=" " alt="" coords="407,29,375,29,375,24,407,24"/>
<area shape="rect" href="class_r_g_w_data_changes_log.html#a88f3364b1bbf290c257ee6aa39618b92" title=" " alt="" coords="5,5,166,48"/>
<area shape="poly" title=" " alt="" coords="198,29,166,29,166,24,198,24"/>
</map>
</div>

</div>
</div>
<a id="ad3fac8e2c245ad24daf58d1be64154fc" name="ad3fac8e2c245ad24daf58d1be64154fc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad3fac8e2c245ad24daf58d1be64154fc">&#9670;&#160;</a></span>list_entries() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int RGWDataChangesLog::list_entries </td>
          <td>(</td>
          <td class="paramtype">const DoutPrefixProvider *&#160;</td>
          <td class="paramname"><em>dpp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>max_entries</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; <a class="el" href="structrgw__data__change__log__entry.html">rgw_data_change_log_entry</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>entries</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_r_g_w_data_changes_log.html#a3e644e3bb04ccaf4f1a87e9c412b0364">LogMarker</a> &amp;&#160;</td>
          <td class="paramname"><em>marker</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool *&#160;</td>
          <td class="paramname"><em>ptruncated</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition"><a class="el" href="rgw__datalog_8cc_source.html">rgw_datalog.cc</a> 파일의 <a class="el" href="rgw__datalog_8cc_source.html#l00758">758</a> 번째 라인에서 정의되었습니다.</p>
<div class="fragment"><div class="line"><span class="lineno">  761</span>{</div>
<div class="line"><span class="lineno">  762</span>  <span class="keywordtype">bool</span> truncated;</div>
<div class="line"><span class="lineno">  763</span>  <a class="code hl_variable" href="cls__fifo__legacy_8cc.html#a0341b0ec09e77f9d6274d5b1517f7711">entries</a>.clear();</div>
<div class="line"><span class="lineno">  764</span>  <span class="keywordflow">for</span> (; marker.shard &lt; <a class="code hl_variable" href="class_r_g_w_data_changes_log.html#ad9344c62ed8a04be879f0fc45fc05352">num_shards</a> &amp;&amp; int(<a class="code hl_variable" href="cls__fifo__legacy_8cc.html#a0341b0ec09e77f9d6274d5b1517f7711">entries</a>.size()) &lt; max_entries;</div>
<div class="line"><span class="lineno">  765</span>       marker.shard++, marker.marker.clear()) {</div>
<div class="line"><span class="lineno">  766</span>    <span class="keywordtype">int</span> ret = <a class="code hl_function" href="class_r_g_w_data_changes_log.html#a664935eccae980b32efe3e84b874937d">list_entries</a>(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>, marker.shard, max_entries - <a class="code hl_variable" href="cls__fifo__legacy_8cc.html#a0341b0ec09e77f9d6274d5b1517f7711">entries</a>.size(),</div>
<div class="line"><span class="lineno">  767</span>               <a class="code hl_variable" href="cls__fifo__legacy_8cc.html#a0341b0ec09e77f9d6274d5b1517f7711">entries</a>, marker.marker, NULL, &amp;truncated);</div>
<div class="line"><span class="lineno">  768</span>    <span class="keywordflow">if</span> (ret == -ENOENT) {</div>
<div class="line"><span class="lineno">  769</span>      <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno">  770</span>    }</div>
<div class="line"><span class="lineno">  771</span>    <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno">  772</span>      <span class="keywordflow">return</span> ret;</div>
<div class="line"><span class="lineno">  773</span>    }</div>
<div class="line"><span class="lineno">  774</span>    <span class="keywordflow">if</span> (!truncated) {</div>
<div class="line"><span class="lineno">  775</span>      *ptruncated = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  776</span>      <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">  777</span>    }</div>
<div class="line"><span class="lineno">  778</span>  }</div>
<div class="line"><span class="lineno">  779</span>  *ptruncated = (marker.shard &lt; <a class="code hl_variable" href="class_r_g_w_data_changes_log.html#ad9344c62ed8a04be879f0fc45fc05352">num_shards</a>);</div>
<div class="line"><span class="lineno">  780</span>  <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">  781</span>}</div>
<div class="ttc" id="aclass_r_g_w_data_changes_log_html_a664935eccae980b32efe3e84b874937d"><div class="ttname"><a href="class_r_g_w_data_changes_log.html#a664935eccae980b32efe3e84b874937d">RGWDataChangesLog::list_entries</a></div><div class="ttdeci">int list_entries(const DoutPrefixProvider *dpp, int shard, int max_entries, std::vector&lt; rgw_data_change_log_entry &gt; &amp;entries, std::string_view marker, std::string *out_marker, bool *truncated)</div><div class="ttdef"><b>Definition</b> <a href="rgw__datalog_8cc_source.html#l00749">rgw_datalog.cc:749</a></div></div>
<div class="ttc" id="acls__fifo__legacy_8cc_html_a0341b0ec09e77f9d6274d5b1517f7711"><div class="ttname"><a href="cls__fifo__legacy_8cc.html#a0341b0ec09e77f9d6274d5b1517f7711">entries</a></div><div class="ttdeci">std::vector&lt; fifo::part_list_entry &gt; * entries</div><div class="ttdef"><b>Definition</b> <a href="cls__fifo__legacy_8cc_source.html#l00249">cls_fifo_legacy.cc:249</a></div></div>
</div><!-- fragment --><div class="dynheader">
이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="class_r_g_w_data_changes_log_ad3fac8e2c245ad24daf58d1be64154fc_cgraph.png" border="0" usemap="#aclass_r_g_w_data_changes_log_ad3fac8e2c245ad24daf58d1be64154fc_cgraph" alt=""/></div>
<map name="aclass_r_g_w_data_changes_log_ad3fac8e2c245ad24daf58d1be64154fc_cgraph" id="aclass_r_g_w_data_changes_log_ad3fac8e2c245ad24daf58d1be64154fc_cgraph">
<area shape="rect" title=" " alt="" coords="5,5,166,48"/>
<area shape="rect" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5" title=" " alt="" coords="422,13,464,40"/>
<area shape="poly" title=" " alt="" coords="166,21,374,20,407,22,406,27,374,25,166,26"/>
<area shape="rect" href="class_r_g_w_data_changes_log.html#a664935eccae980b32efe3e84b874937d" title=" " alt="" coords="214,35,374,77"/>
<area shape="poly" title=" " alt="" coords="166,35,198,40,198,45,165,41"/>
<area shape="poly" title=" " alt="" coords="374,38,406,31,407,36,375,43"/>
</map>
</div>

</div>
</div>
<a id="a664935eccae980b32efe3e84b874937d" name="a664935eccae980b32efe3e84b874937d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a664935eccae980b32efe3e84b874937d">&#9670;&#160;</a></span>list_entries() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int RGWDataChangesLog::list_entries </td>
          <td>(</td>
          <td class="paramtype">const DoutPrefixProvider *&#160;</td>
          <td class="paramname"><em>dpp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>shard</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>max_entries</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; <a class="el" href="structrgw__data__change__log__entry.html">rgw_data_change_log_entry</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>entries</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::string_view&#160;</td>
          <td class="paramname"><em>marker</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::string *&#160;</td>
          <td class="paramname"><em>out_marker</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool *&#160;</td>
          <td class="paramname"><em>truncated</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition"><a class="el" href="rgw__datalog_8cc_source.html">rgw_datalog.cc</a> 파일의 <a class="el" href="rgw__datalog_8cc_source.html#l00749">749</a> 번째 라인에서 정의되었습니다.</p>
<div class="fragment"><div class="line"><span class="lineno">  753</span>{</div>
<div class="line"><span class="lineno">  754</span>  assert(shard &lt; <a class="code hl_variable" href="class_r_g_w_data_changes_log.html#ad9344c62ed8a04be879f0fc45fc05352">num_shards</a>);</div>
<div class="line"><span class="lineno">  755</span>  <span class="keywordflow">return</span> <a class="code hl_variable" href="class_r_g_w_data_changes_log.html#a4f11cd31c20eaff68d63652cad9d353a">bes</a>-&gt;list(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>, shard, max_entries, <a class="code hl_variable" href="cls__fifo__legacy_8cc.html#a0341b0ec09e77f9d6274d5b1517f7711">entries</a>, marker, out_marker, truncated);</div>
<div class="line"><span class="lineno">  756</span>}</div>
</div><!-- fragment --><div class="dynheader">
이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="class_r_g_w_data_changes_log_a664935eccae980b32efe3e84b874937d_cgraph.png" border="0" usemap="#aclass_r_g_w_data_changes_log_a664935eccae980b32efe3e84b874937d_cgraph" alt=""/></div>
<map name="aclass_r_g_w_data_changes_log_a664935eccae980b32efe3e84b874937d_cgraph" id="aclass_r_g_w_data_changes_log_a664935eccae980b32efe3e84b874937d_cgraph">
<area shape="rect" title=" " alt="" coords="5,5,166,48"/>
<area shape="rect" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5" title=" " alt="" coords="214,13,256,40"/>
<area shape="poly" title=" " alt="" coords="166,24,198,24,198,29,166,29"/>
</map>
</div>
<div class="dynheader">
이 함수를 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="class_r_g_w_data_changes_log_a664935eccae980b32efe3e84b874937d_icgraph.png" border="0" usemap="#aclass_r_g_w_data_changes_log_a664935eccae980b32efe3e84b874937d_icgraph" alt=""/></div>
<map name="aclass_r_g_w_data_changes_log_a664935eccae980b32efe3e84b874937d_icgraph" id="aclass_r_g_w_data_changes_log_a664935eccae980b32efe3e84b874937d_icgraph">
<area shape="rect" title=" " alt="" coords="214,5,374,48"/>
<area shape="rect" href="class_r_g_w_data_changes_log.html#ad3fac8e2c245ad24daf58d1be64154fc" title=" " alt="" coords="5,5,166,48"/>
<area shape="poly" title=" " alt="" coords="198,29,166,29,166,24,198,24"/>
</map>
</div>

</div>
</div>
<a id="afc0615cb71609115df900a34dca00218" name="afc0615cb71609115df900a34dca00218"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afc0615cb71609115df900a34dca00218">&#9670;&#160;</a></span>mark_modified()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void RGWDataChangesLog::mark_modified </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>shard_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structrgw__bucket__shard.html">rgw_bucket_shard</a> &amp;&#160;</td>
          <td class="paramname"><em>bs</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition"><a class="el" href="rgw__datalog_8cc_source.html">rgw_datalog.cc</a> 파일의 <a class="el" href="rgw__datalog_8cc_source.html#l00995">995</a> 번째 라인에서 정의되었습니다.</p>
<div class="fragment"><div class="line"><span class="lineno">  996</span>{</div>
<div class="line"><span class="lineno">  997</span>  <span class="keywordflow">if</span> (!<a class="code hl_variable" href="class_r_g_w_data_changes_log.html#af0ac934d9ab9db8e47e046dc7e4e977b">cct</a>-&gt;_conf-&gt;rgw_data_notify_interval_msec) {</div>
<div class="line"><span class="lineno">  998</span>    <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  999</span>  }</div>
<div class="line"><span class="lineno"> 1000</span> </div>
<div class="line"><span class="lineno"> 1001</span>  <span class="keyword">auto</span> key = bs.<a class="code hl_function" href="structrgw__bucket__shard.html#acbe7782e10b7605478952606c1a27571">get_key</a>();</div>
<div class="line"><span class="lineno"> 1002</span>  {</div>
<div class="line"><span class="lineno"> 1003</span>    std::shared_lock rl{<a class="code hl_variable" href="class_r_g_w_data_changes_log.html#a8862ed62bc6d533e6e84484c4b8f98fe">modified_lock</a>}; <span class="comment">// read lock to check for existence</span></div>
<div class="line"><span class="lineno"> 1004</span>    <span class="keyword">auto</span> shard = <a class="code hl_variable" href="class_r_g_w_data_changes_log.html#abb36e2e155d74eef5e89531315ef06e5">modified_shards</a>.find(shard_id);</div>
<div class="line"><span class="lineno"> 1005</span>    <span class="keywordflow">if</span> (shard != <a class="code hl_variable" href="class_r_g_w_data_changes_log.html#abb36e2e155d74eef5e89531315ef06e5">modified_shards</a>.end() &amp;&amp; shard-&gt;second.count(key)) {</div>
<div class="line"><span class="lineno"> 1006</span>      <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 1007</span>    }</div>
<div class="line"><span class="lineno"> 1008</span>  }</div>
<div class="line"><span class="lineno"> 1009</span> </div>
<div class="line"><span class="lineno"> 1010</span>  std::unique_lock wl{<a class="code hl_variable" href="class_r_g_w_data_changes_log.html#a8862ed62bc6d533e6e84484c4b8f98fe">modified_lock</a>}; <span class="comment">// write lock for insertion</span></div>
<div class="line"><span class="lineno"> 1011</span>  <a class="code hl_variable" href="class_r_g_w_data_changes_log.html#abb36e2e155d74eef5e89531315ef06e5">modified_shards</a>[shard_id].insert(key);</div>
<div class="line"><span class="lineno"> 1012</span>}</div>
<div class="ttc" id="aclass_r_g_w_data_changes_log_html_a8862ed62bc6d533e6e84484c4b8f98fe"><div class="ttname"><a href="class_r_g_w_data_changes_log.html#a8862ed62bc6d533e6e84484c4b8f98fe">RGWDataChangesLog::modified_lock</a></div><div class="ttdeci">ceph::shared_mutex modified_lock</div><div class="ttdef"><b>Definition</b> <a href="rgw__datalog_8h_source.html#l00186">rgw_datalog.h:186</a></div></div>
<div class="ttc" id="aclass_r_g_w_data_changes_log_html_abb36e2e155d74eef5e89531315ef06e5"><div class="ttname"><a href="class_r_g_w_data_changes_log.html#abb36e2e155d74eef5e89531315ef06e5">RGWDataChangesLog::modified_shards</a></div><div class="ttdeci">bc::flat_map&lt; int, bc::flat_set&lt; std::string &gt; &gt; modified_shards</div><div class="ttdef"><b>Definition</b> <a href="rgw__datalog_8h_source.html#l00188">rgw_datalog.h:188</a></div></div>
<div class="ttc" id="astructrgw__bucket__shard_html_acbe7782e10b7605478952606c1a27571"><div class="ttname"><a href="structrgw__bucket__shard.html#acbe7782e10b7605478952606c1a27571">rgw_bucket_shard::get_key</a></div><div class="ttdeci">std::string get_key(char tenant_delim='/', char id_delim=':', char shard_delim=':') const</div><div class="ttdef"><b>Definition</b> <a href="rgw__basic__types_8cc_source.html#l00086">rgw_basic_types.cc:86</a></div></div>
</div><!-- fragment --><div class="dynheader">
이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="class_r_g_w_data_changes_log_afc0615cb71609115df900a34dca00218_cgraph.png" border="0" usemap="#aclass_r_g_w_data_changes_log_afc0615cb71609115df900a34dca00218_cgraph" alt=""/></div>
<map name="aclass_r_g_w_data_changes_log_afc0615cb71609115df900a34dca00218_cgraph" id="aclass_r_g_w_data_changes_log_afc0615cb71609115df900a34dca00218_cgraph">
<area shape="rect" title=" " alt="" coords="5,5,166,48"/>
<area shape="rect" href="structrgw__bucket__shard.html#acbe7782e10b7605478952606c1a27571" title=" " alt="" coords="214,13,394,40"/>
<area shape="poly" title=" " alt="" coords="166,24,198,24,198,29,166,29"/>
<area shape="rect" href="structrgw__bucket.html#ad369d093e39599e8eea191882fcdc6a9" title=" " alt="" coords="442,13,583,40"/>
<area shape="poly" title=" " alt="" coords="394,24,427,24,427,29,394,29"/>
</map>
</div>
<div class="dynheader">
이 함수를 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="class_r_g_w_data_changes_log_afc0615cb71609115df900a34dca00218_icgraph.png" border="0" usemap="#aclass_r_g_w_data_changes_log_afc0615cb71609115df900a34dca00218_icgraph" alt=""/></div>
<map name="aclass_r_g_w_data_changes_log_afc0615cb71609115df900a34dca00218_icgraph" id="aclass_r_g_w_data_changes_log_afc0615cb71609115df900a34dca00218_icgraph">
<area shape="rect" title=" " alt="" coords="1132,219,1292,261"/>
<area shape="rect" href="class_r_g_w_data_changes_log.html#a47abef6595c8dd36459547a88674f2d5" title=" " alt="" coords="924,219,1084,261"/>
<area shape="poly" title=" " alt="" coords="1117,243,1085,243,1085,237,1117,237"/>
<area shape="rect" href="class_r_g_w_rados_1_1_bucket_1_1_update_index.html#a9ad1c8f012535381d111a637335bdc7e" title=" " alt="" coords="682,131,870,173"/>
<area shape="poly" title=" " alt="" coords="931,215,832,176,834,171,933,210"/>
<area shape="rect" href="struct_r_g_w_rados_1_1_object_1_1_delete.html#a7d9eb79062106ce1af7373f1a593ec7e" title=" " alt="" coords="447,189,628,232"/>
<area shape="poly" title=" " alt="" coords="908,237,629,219,629,214,909,231"/>
<area shape="rect" href="class_r_g_w_rados_1_1_bucket_1_1_update_index.html#a62cb7015c0bf71c0b4ec739c8c45598b" title=" " alt="" coords="682,64,870,107"/>
<area shape="poly" title=" " alt="" coords="973,208,929,163,874,121,852,110,854,105,877,116,933,159,977,205"/>
<area shape="rect" href="class_r_g_w_rados_1_1_bucket_1_1_update_index.html#a5980155cf7e122f01612b6ad07932b13" title=" " alt="" coords="682,248,870,291"/>
<area shape="poly" title=" " alt="" coords="909,255,871,260,870,255,908,250"/>
<area shape="rect" href="class_r_g_w_s_i___bucket_index___r_a_d_o_s.html#ac00a20ee4a60cf1b3c600b9f82d739ba" title=" " alt="" coords="677,315,875,357"/>
<area shape="poly" title=" " alt="" coords="950,271,877,305,847,317,845,312,875,300,948,266"/>
<area shape="rect" href="class_r_g_w_index_completion_manager.html#af22b30b6aa262fc71cac5b18b066fe20" title=" " alt="" coords="676,381,876,424"/>
<area shape="poly" title=" " alt="" coords="979,276,935,325,907,350,877,372,855,383,852,378,874,367,904,346,931,321,975,272"/>
<area shape="rect" href="struct_r_g_w_rados_1_1_object_1_1_write.html#af1ba1d592dced1cf54563315fa0a0066" title=" " alt="" coords="450,64,625,107"/>
<area shape="poly" title=" " alt="" coords="683,129,616,110,617,105,684,124"/>
<area shape="poly" title=" " alt="" coords="673,180,628,191,627,186,671,175"/>
<area shape="rect" href="class_r_g_w_rados.html#a3b51d79d4a900f4326fd06af5b8cc4e5" title=" " alt="" coords="463,131,612,157"/>
<area shape="poly" title=" " alt="" coords="666,151,613,149,613,144,666,146"/>
<area shape="rect" href="class_r_g_w_async_remove_obj.html#accafaf5f59056835ae2c72aa1a24d625" title=" " alt="" coords="219,323,383,365"/>
<area shape="poly" title=" " alt="" coords="454,242,449,246,434,262,425,279,417,296,401,313,381,324,379,320,397,309,413,293,421,276,429,259,445,242,451,238"/>
<area shape="rect" href="class_r_g_w_rados.html#a390a22cffcaca08280970e1a7dc0a227" title=" " alt="" coords="222,139,380,165"/>
<area shape="poly" title=" " alt="" coords="433,188,357,169,359,163,435,182"/>
<area shape="rect" href="classrgw_1_1sal_1_1_rados_object.html#a0ac066b99684f4f14127604ec387244f" title=" " alt="" coords="226,189,376,232"/>
<area shape="poly" title=" " alt="" coords="432,213,376,213,376,208,432,208"/>
<area shape="rect" href="class_r_g_w_pub_sub_1_1_sub_with_events.html#a5df143f9787910688d9d43c95b127658" title=" " alt="" coords="203,256,399,299"/>
<area shape="poly" title=" " alt="" coords="446,239,380,258,379,253,444,234"/>
<area shape="rect" href="classrgw_1_1sal_1_1_rados_object.html#aee26f8979cdc2417960dc016ea645307" title=" " alt="" coords="226,72,376,115"/>
<area shape="poly" title=" " alt="" coords="456,129,376,112,377,107,457,124"/>
<area shape="rect" href="classrgw_1_1sal_1_1_rados_object.html#a6346b1f7936bfe5fbcee10a20096c35a" title=" " alt="" coords="5,5,155,48"/>
<area shape="poly" title=" " alt="" coords="213,70,153,51,154,46,215,65"/>
<area shape="rect" href="classrgw_1_1sal_1_1_rados_object.html#ae8437f6b12fd3ae2cfdd54b19edd504b" title=" " alt="" coords="5,72,155,115"/>
<area shape="poly" title=" " alt="" coords="210,96,155,96,155,91,210,91"/>
<area shape="rect" href="classrgw_1_1sal_1_1_rados_object.html#a3d43d9111d2bb62a6cd056d91c3d65f4" title=" " alt="" coords="5,139,155,181"/>
<area shape="poly" title=" " alt="" coords="215,122,154,141,153,135,213,117"/>
<area shape="poly" title=" " alt="" coords="666,88,626,88,626,83,666,83"/>
<area shape="poly" title=" " alt="" coords="672,114,596,133,595,127,671,108"/>
<area shape="poly" title=" " alt="" coords="671,246,627,235,628,230,673,241"/>
<area shape="rect" href="class_r_g_w_rados.html#a43bad5bb50adcc4f783ebeacf3e79b96" title=" " alt="" coords="459,256,616,299"/>
<area shape="poly" title=" " alt="" coords="666,276,617,277,617,272,666,270"/>
</map>
</div>

</div>
</div>
<a id="ae3bc3a28cd6a55cc50d2c361cf45fb1b" name="ae3bc3a28cd6a55cc50d2c361cf45fb1b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae3bc3a28cd6a55cc50d2c361cf45fb1b">&#9670;&#160;</a></span>max_marker()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::string RGWDataChangesLog::max_marker </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition"><a class="el" href="rgw__datalog_8cc_source.html">rgw_datalog.cc</a> 파일의 <a class="el" href="rgw__datalog_8cc_source.html#l01014">1014</a> 번째 라인에서 정의되었습니다.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1014</span>                                              {</div>
<div class="line"><span class="lineno"> 1015</span>  <span class="keywordflow">return</span> <a class="code hl_function" href="rgw__log__backing_8h.html#a804210f70f2f910b331ca7008ca3032d">gencursor</a>(std::numeric_limits&lt;uint64_t&gt;::max(),</div>
<div class="line"><span class="lineno"> 1016</span>           <span class="stringliteral">&quot;~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~&quot;</span>);</div>
<div class="line"><span class="lineno"> 1017</span>}</div>
</div><!-- fragment --><div class="dynheader">
이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="class_r_g_w_data_changes_log_ae3bc3a28cd6a55cc50d2c361cf45fb1b_cgraph.png" border="0" usemap="#aclass_r_g_w_data_changes_log_ae3bc3a28cd6a55cc50d2c361cf45fb1b_cgraph" alt=""/></div>
<map name="aclass_r_g_w_data_changes_log_ae3bc3a28cd6a55cc50d2c361cf45fb1b_cgraph" id="aclass_r_g_w_data_changes_log_ae3bc3a28cd6a55cc50d2c361cf45fb1b_cgraph">
<area shape="rect" title=" " alt="" coords="5,5,166,48"/>
<area shape="rect" href="rgw__log__backing_8h.html#a804210f70f2f910b331ca7008ca3032d" title=" " alt="" coords="214,13,292,40"/>
<area shape="poly" title=" " alt="" coords="166,24,198,24,198,29,166,29"/>
</map>
</div>

</div>
</div>
<a id="a2b9b0ce82c32226979918b93600ad79d" name="a2b9b0ce82c32226979918b93600ad79d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2b9b0ce82c32226979918b93600ad79d">&#9670;&#160;</a></span>metadata_log_oid()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::string RGWDataChangesLog::metadata_log_oid </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition"><a class="el" href="rgw__datalog_8h_source.html">rgw_datalog.h</a> 파일의 <a class="el" href="rgw__datalog_8h_source.html#l00180">180</a> 번째 라인에서 정의되었습니다.</p>
<div class="fragment"><div class="line"><span class="lineno">  180</span>                               {</div>
<div class="line"><span class="lineno">  181</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="class_r_g_w_data_changes_log.html#a7d79710e82df993c0afc0e39b719e316">get_prefix</a>() + <span class="stringliteral">&quot;generations_metadata&quot;</span>;</div>
<div class="line"><span class="lineno">  182</span>  }</div>
</div><!-- fragment --><div class="dynheader">
이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="class_r_g_w_data_changes_log_a2b9b0ce82c32226979918b93600ad79d_cgraph.png" border="0" usemap="#aclass_r_g_w_data_changes_log_a2b9b0ce82c32226979918b93600ad79d_cgraph" alt=""/></div>
<map name="aclass_r_g_w_data_changes_log_a2b9b0ce82c32226979918b93600ad79d_cgraph" id="aclass_r_g_w_data_changes_log_a2b9b0ce82c32226979918b93600ad79d_cgraph">
<area shape="rect" title=" " alt="" coords="5,5,166,48"/>
<area shape="rect" href="class_r_g_w_data_changes_log.html#a7d79710e82df993c0afc0e39b719e316" title=" " alt="" coords="214,5,374,48"/>
<area shape="poly" title=" " alt="" coords="166,24,198,24,198,29,166,29"/>
</map>
</div>
<div class="dynheader">
이 함수를 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="class_r_g_w_data_changes_log_a2b9b0ce82c32226979918b93600ad79d_icgraph.png" border="0" usemap="#aclass_r_g_w_data_changes_log_a2b9b0ce82c32226979918b93600ad79d_icgraph" alt=""/></div>
<map name="aclass_r_g_w_data_changes_log_a2b9b0ce82c32226979918b93600ad79d_icgraph" id="aclass_r_g_w_data_changes_log_a2b9b0ce82c32226979918b93600ad79d_icgraph">
<area shape="rect" title=" " alt="" coords="214,5,374,48"/>
<area shape="rect" href="class_r_g_w_data_changes_log.html#a88f3364b1bbf290c257ee6aa39618b92" title=" " alt="" coords="5,5,166,48"/>
<area shape="poly" title=" " alt="" coords="198,29,166,29,166,24,198,24"/>
</map>
</div>

</div>
</div>
<a id="af86494695a4a0d0d1520cc265f717b33" name="af86494695a4a0d0d1520cc265f717b33"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af86494695a4a0d0d1520cc265f717b33">&#9670;&#160;</a></span>read_clear_modified()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">auto RGWDataChangesLog::read_clear_modified </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition"><a class="el" href="rgw__datalog_8h_source.html">rgw_datalog.h</a> 파일의 <a class="el" href="rgw__datalog_8h_source.html#l00249">249</a> 번째 라인에서 정의되었습니다.</p>
<div class="fragment"><div class="line"><span class="lineno">  249</span>                             {</div>
<div class="line"><span class="lineno">  250</span>    std::unique_lock wl{<a class="code hl_variable" href="class_r_g_w_data_changes_log.html#a8862ed62bc6d533e6e84484c4b8f98fe">modified_lock</a>};</div>
<div class="line"><span class="lineno">  251</span>    <span class="keyword">decltype</span>(<a class="code hl_variable" href="class_r_g_w_data_changes_log.html#abb36e2e155d74eef5e89531315ef06e5">modified_shards</a>) modified;</div>
<div class="line"><span class="lineno">  252</span>    modified.swap(<a class="code hl_variable" href="class_r_g_w_data_changes_log.html#abb36e2e155d74eef5e89531315ef06e5">modified_shards</a>);</div>
<div class="line"><span class="lineno">  253</span>    <a class="code hl_variable" href="class_r_g_w_data_changes_log.html#abb36e2e155d74eef5e89531315ef06e5">modified_shards</a>.clear();</div>
<div class="line"><span class="lineno">  254</span>    <span class="keywordflow">return</span> modified;</div>
<div class="line"><span class="lineno">  255</span>  }</div>
</div><!-- fragment --><div class="dynheader">
이 함수를 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="class_r_g_w_data_changes_log_af86494695a4a0d0d1520cc265f717b33_icgraph.png" border="0" usemap="#aclass_r_g_w_data_changes_log_af86494695a4a0d0d1520cc265f717b33_icgraph" alt=""/></div>
<map name="aclass_r_g_w_data_changes_log_af86494695a4a0d0d1520cc265f717b33_icgraph" id="aclass_r_g_w_data_changes_log_af86494695a4a0d0d1520cc265f717b33_icgraph">
<area shape="rect" title=" " alt="" coords="228,5,388,48"/>
<area shape="rect" href="class_r_g_w_data_notifier.html#a9429b65f281081fec338d8aaad1b3b23" title=" " alt="" coords="5,13,180,40"/>
<area shape="poly" title=" " alt="" coords="212,29,180,29,180,24,212,24"/>
</map>
</div>

</div>
</div>
<a id="aa5d53b3a036c5b978b672991684b1b05" name="aa5d53b3a036c5b978b672991684b1b05"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa5d53b3a036c5b978b672991684b1b05">&#9670;&#160;</a></span>register_renew()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void RGWDataChangesLog::register_renew </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structrgw__bucket__shard.html">rgw_bucket_shard</a> &amp;&#160;</td>
          <td class="paramname"><em>bs</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition"><a class="el" href="rgw__datalog_8cc_source.html">rgw_datalog.cc</a> 파일의 <a class="el" href="rgw__datalog_8cc_source.html#l00560">560</a> 번째 라인에서 정의되었습니다.</p>
<div class="fragment"><div class="line"><span class="lineno">  561</span>{</div>
<div class="line"><span class="lineno">  562</span>  std::scoped_lock l{<a class="code hl_variable" href="class_r_g_w_data_changes_log.html#ae454d544a25cac814d002e6f40bdf1eb">lock</a>};</div>
<div class="line"><span class="lineno">  563</span>  <a class="code hl_variable" href="class_r_g_w_data_changes_log.html#a7c9c471f0aaba0f781eb65a29f164c4a">cur_cycle</a>.insert(bs);</div>
<div class="line"><span class="lineno">  564</span>}</div>
<div class="ttc" id="aclass_r_g_w_data_changes_log_html_a7c9c471f0aaba0f781eb65a29f164c4a"><div class="ttname"><a href="class_r_g_w_data_changes_log.html#a7c9c471f0aaba0f781eb65a29f164c4a">RGWDataChangesLog::cur_cycle</a></div><div class="ttdeci">bc::flat_set&lt; rgw_bucket_shard &gt; cur_cycle</div><div class="ttdef"><b>Definition</b> <a href="rgw__datalog_8h_source.html#l00205">rgw_datalog.h:205</a></div></div>
</div><!-- fragment --><div class="dynheader">
이 함수를 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="class_r_g_w_data_changes_log_aa5d53b3a036c5b978b672991684b1b05_icgraph.png" border="0" usemap="#aclass_r_g_w_data_changes_log_aa5d53b3a036c5b978b672991684b1b05_icgraph" alt=""/></div>
<map name="aclass_r_g_w_data_changes_log_aa5d53b3a036c5b978b672991684b1b05_icgraph" id="aclass_r_g_w_data_changes_log_aa5d53b3a036c5b978b672991684b1b05_icgraph">
<area shape="rect" title=" " alt="" coords="1132,219,1292,261"/>
<area shape="rect" href="class_r_g_w_data_changes_log.html#a47abef6595c8dd36459547a88674f2d5" title=" " alt="" coords="924,219,1084,261"/>
<area shape="poly" title=" " alt="" coords="1117,243,1085,243,1085,237,1117,237"/>
<area shape="rect" href="class_r_g_w_rados_1_1_bucket_1_1_update_index.html#a9ad1c8f012535381d111a637335bdc7e" title=" " alt="" coords="682,131,870,173"/>
<area shape="poly" title=" " alt="" coords="931,215,832,176,834,171,933,210"/>
<area shape="rect" href="struct_r_g_w_rados_1_1_object_1_1_delete.html#a7d9eb79062106ce1af7373f1a593ec7e" title=" " alt="" coords="447,189,628,232"/>
<area shape="poly" title=" " alt="" coords="908,237,629,219,629,214,909,231"/>
<area shape="rect" href="class_r_g_w_rados_1_1_bucket_1_1_update_index.html#a62cb7015c0bf71c0b4ec739c8c45598b" title=" " alt="" coords="682,64,870,107"/>
<area shape="poly" title=" " alt="" coords="973,208,929,163,874,121,852,110,854,105,877,116,933,159,977,205"/>
<area shape="rect" href="class_r_g_w_rados_1_1_bucket_1_1_update_index.html#a5980155cf7e122f01612b6ad07932b13" title=" " alt="" coords="682,248,870,291"/>
<area shape="poly" title=" " alt="" coords="909,255,871,260,870,255,908,250"/>
<area shape="rect" href="class_r_g_w_s_i___bucket_index___r_a_d_o_s.html#ac00a20ee4a60cf1b3c600b9f82d739ba" title=" " alt="" coords="677,315,875,357"/>
<area shape="poly" title=" " alt="" coords="950,271,877,305,847,317,845,312,875,300,948,266"/>
<area shape="rect" href="class_r_g_w_index_completion_manager.html#af22b30b6aa262fc71cac5b18b066fe20" title=" " alt="" coords="676,381,876,424"/>
<area shape="poly" title=" " alt="" coords="979,276,935,325,907,350,877,372,855,383,852,378,874,367,904,346,931,321,975,272"/>
<area shape="rect" href="struct_r_g_w_rados_1_1_object_1_1_write.html#af1ba1d592dced1cf54563315fa0a0066" title=" " alt="" coords="450,64,625,107"/>
<area shape="poly" title=" " alt="" coords="683,129,616,110,617,105,684,124"/>
<area shape="poly" title=" " alt="" coords="673,180,628,191,627,186,671,175"/>
<area shape="rect" href="class_r_g_w_rados.html#a3b51d79d4a900f4326fd06af5b8cc4e5" title=" " alt="" coords="463,131,612,157"/>
<area shape="poly" title=" " alt="" coords="666,151,613,149,613,144,666,146"/>
<area shape="rect" href="class_r_g_w_async_remove_obj.html#accafaf5f59056835ae2c72aa1a24d625" title=" " alt="" coords="219,323,383,365"/>
<area shape="poly" title=" " alt="" coords="454,242,449,246,434,262,425,279,417,296,401,313,381,324,379,320,397,309,413,293,421,276,429,259,445,242,451,238"/>
<area shape="rect" href="class_r_g_w_rados.html#a390a22cffcaca08280970e1a7dc0a227" title=" " alt="" coords="222,139,380,165"/>
<area shape="poly" title=" " alt="" coords="433,188,357,169,359,163,435,182"/>
<area shape="rect" href="classrgw_1_1sal_1_1_rados_object.html#a0ac066b99684f4f14127604ec387244f" title=" " alt="" coords="226,189,376,232"/>
<area shape="poly" title=" " alt="" coords="432,213,376,213,376,208,432,208"/>
<area shape="rect" href="class_r_g_w_pub_sub_1_1_sub_with_events.html#a5df143f9787910688d9d43c95b127658" title=" " alt="" coords="203,256,399,299"/>
<area shape="poly" title=" " alt="" coords="446,239,380,258,379,253,444,234"/>
<area shape="rect" href="classrgw_1_1sal_1_1_rados_object.html#aee26f8979cdc2417960dc016ea645307" title=" " alt="" coords="226,72,376,115"/>
<area shape="poly" title=" " alt="" coords="456,129,376,112,377,107,457,124"/>
<area shape="rect" href="classrgw_1_1sal_1_1_rados_object.html#a6346b1f7936bfe5fbcee10a20096c35a" title=" " alt="" coords="5,5,155,48"/>
<area shape="poly" title=" " alt="" coords="213,70,153,51,154,46,215,65"/>
<area shape="rect" href="classrgw_1_1sal_1_1_rados_object.html#ae8437f6b12fd3ae2cfdd54b19edd504b" title=" " alt="" coords="5,72,155,115"/>
<area shape="poly" title=" " alt="" coords="210,96,155,96,155,91,210,91"/>
<area shape="rect" href="classrgw_1_1sal_1_1_rados_object.html#a3d43d9111d2bb62a6cd056d91c3d65f4" title=" " alt="" coords="5,139,155,181"/>
<area shape="poly" title=" " alt="" coords="215,122,154,141,153,135,213,117"/>
<area shape="poly" title=" " alt="" coords="666,88,626,88,626,83,666,83"/>
<area shape="poly" title=" " alt="" coords="672,114,596,133,595,127,671,108"/>
<area shape="poly" title=" " alt="" coords="671,246,627,235,628,230,673,241"/>
<area shape="rect" href="class_r_g_w_rados.html#a43bad5bb50adcc4f783ebeacf3e79b96" title=" " alt="" coords="459,256,616,299"/>
<area shape="poly" title=" " alt="" coords="666,276,617,277,617,272,666,270"/>
</map>
</div>

</div>
</div>
<a id="acec51d68a6fc7965c01a50dfab1b20e4" name="acec51d68a6fc7965c01a50dfab1b20e4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acec51d68a6fc7965c01a50dfab1b20e4">&#9670;&#160;</a></span>renew_entries()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int RGWDataChangesLog::renew_entries </td>
          <td>(</td>
          <td class="paramtype">const DoutPrefixProvider *&#160;</td>
          <td class="paramname"><em>dpp</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition"><a class="el" href="rgw__datalog_8cc_source.html">rgw_datalog.cc</a> 파일의 <a class="el" href="rgw__datalog_8cc_source.html#l00496">496</a> 번째 라인에서 정의되었습니다.</p>
<div class="fragment"><div class="line"><span class="lineno">  497</span>{</div>
<div class="line"><span class="lineno">  498</span>  <span class="keywordflow">if</span> (!<a class="code hl_variable" href="class_r_g_w_data_changes_log.html#a7663620820fa69faceb66f9d235b74bc">zone</a>-&gt;<a class="code hl_variable" href="struct_r_g_w_zone.html#aaa2cb454fbc56272f60c74bc5c93aa9c">log_data</a>)</div>
<div class="line"><span class="lineno">  499</span>    <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">  500</span> </div>
<div class="line"><span class="lineno">  501</span>  <span class="comment">/* we can&#39;t keep the bucket name as part of the cls_log_entry, and we need</span></div>
<div class="line"><span class="lineno">  502</span><span class="comment">   * it later, so we keep two lists under the map */</span></div>
<div class="line"><span class="lineno">  503</span>  bc::flat_map&lt;int, std::pair&lt;std::vector&lt;rgw_bucket_shard&gt;,</div>
<div class="line"><span class="lineno">  504</span>                  <a class="code hl_typedef" href="class_r_g_w_data_changes_b_e.html#a14f09431a611858c5ff53fcb06995a5b">RGWDataChangesBE::entries</a>&gt;&gt; m;</div>
<div class="line"><span class="lineno">  505</span> </div>
<div class="line"><span class="lineno">  506</span>  std::unique_lock l(<a class="code hl_variable" href="class_r_g_w_data_changes_log.html#ae454d544a25cac814d002e6f40bdf1eb">lock</a>);</div>
<div class="line"><span class="lineno">  507</span>  <span class="keyword">decltype</span>(<a class="code hl_variable" href="class_r_g_w_data_changes_log.html#a7c9c471f0aaba0f781eb65a29f164c4a">cur_cycle</a>) <a class="code hl_variable" href="cls__fifo__legacy_8cc.html#a0341b0ec09e77f9d6274d5b1517f7711">entries</a>;</div>
<div class="line"><span class="lineno">  508</span>  <a class="code hl_variable" href="cls__fifo__legacy_8cc.html#a0341b0ec09e77f9d6274d5b1517f7711">entries</a>.swap(<a class="code hl_variable" href="class_r_g_w_data_changes_log.html#a7c9c471f0aaba0f781eb65a29f164c4a">cur_cycle</a>);</div>
<div class="line"><span class="lineno">  509</span>  l.unlock();</div>
<div class="line"><span class="lineno">  510</span> </div>
<div class="line"><span class="lineno">  511</span>  <span class="keyword">auto</span> ut = real_clock::now();</div>
<div class="line"><span class="lineno">  512</span>  <span class="keyword">auto</span> be = <a class="code hl_variable" href="class_r_g_w_data_changes_log.html#a4f11cd31c20eaff68d63652cad9d353a">bes</a>-&gt;head();</div>
<div class="line"><span class="lineno">  513</span>  <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span>&amp; bs : <a class="code hl_variable" href="cls__fifo__legacy_8cc.html#a0341b0ec09e77f9d6274d5b1517f7711">entries</a>) {</div>
<div class="line"><span class="lineno">  514</span>    <span class="keyword">auto</span> index = <a class="code hl_function" href="class_r_g_w_data_changes_log.html#a7392b031c0a2762d0e030d8c56e1ff4a">choose_oid</a>(bs);</div>
<div class="line"><span class="lineno">  515</span> </div>
<div class="line"><span class="lineno">  516</span>    <a class="code hl_struct" href="structrgw__data__change.html">rgw_data_change</a> change;</div>
<div class="line"><span class="lineno">  517</span>    bufferlist bl;</div>
<div class="line"><span class="lineno">  518</span>    change.<a class="code hl_variable" href="structrgw__data__change.html#a18b73823e1b259520d0d2dadf1eec191">entity_type</a> = <a class="code hl_enumvalue" href="rgw__datalog_8h.html#a64667b47a674a8738a4683b002a6adecae5512837c9d0dfcc7871d9fbca562963">ENTITY_TYPE_BUCKET</a>;</div>
<div class="line"><span class="lineno">  519</span>    change.<a class="code hl_variable" href="structrgw__data__change.html#a98142b41be1f222b3a75cbea254783be">key</a> = bs.get_key();</div>
<div class="line"><span class="lineno">  520</span>    change.<a class="code hl_variable" href="structrgw__data__change.html#a2f536110541869a51f063974cc3fc342">timestamp</a> = ut;</div>
<div class="line"><span class="lineno">  521</span>    <a class="code hl_function" href="rgw__log__backing_8h.html#adc91400029fb575818b2a0ccf89e7928">encode</a>(change, bl);</div>
<div class="line"><span class="lineno">  522</span> </div>
<div class="line"><span class="lineno">  523</span>    m[index].first.push_back(bs);</div>
<div class="line"><span class="lineno">  524</span>    be-&gt;prepare(ut, change.<a class="code hl_variable" href="structrgw__data__change.html#a98142b41be1f222b3a75cbea254783be">key</a>, std::move(bl), m[index].second);</div>
<div class="line"><span class="lineno">  525</span>  }</div>
<div class="line"><span class="lineno">  526</span> </div>
<div class="line"><span class="lineno">  527</span>  <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp; [index, p] : m) {</div>
<div class="line"><span class="lineno">  528</span>    <span class="keyword">auto</span>&amp; [buckets, <a class="code hl_variable" href="cls__fifo__legacy_8cc.html#a0341b0ec09e77f9d6274d5b1517f7711">entries</a>] = p;</div>
<div class="line"><span class="lineno">  529</span> </div>
<div class="line"><span class="lineno">  530</span>    <span class="keyword">auto</span> now = real_clock::now();</div>
<div class="line"><span class="lineno">  531</span> </div>
<div class="line"><span class="lineno">  532</span>    <span class="keyword">auto</span> ret = be-&gt;push(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>, index, std::move(<a class="code hl_variable" href="cls__fifo__legacy_8cc.html#a0341b0ec09e77f9d6274d5b1517f7711">entries</a>));</div>
<div class="line"><span class="lineno">  533</span>    <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno">  534</span>      <span class="comment">/* we don&#39;t really need to have a special handling for failed cases here,</span></div>
<div class="line"><span class="lineno">  535</span><span class="comment">       * as this is just an optimization. */</span></div>
<div class="line"><span class="lineno">  536</span>      ldpp_dout(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>, -1) &lt;&lt; <span class="stringliteral">&quot;ERROR: svc.cls-&gt;timelog.add() returned &quot;</span> &lt;&lt; ret &lt;&lt; dendl;</div>
<div class="line"><span class="lineno">  537</span>      <span class="keywordflow">return</span> ret;</div>
<div class="line"><span class="lineno">  538</span>    }</div>
<div class="line"><span class="lineno">  539</span> </div>
<div class="line"><span class="lineno">  540</span>    <span class="keyword">auto</span> expiration = now;</div>
<div class="line"><span class="lineno">  541</span>    expiration += ceph::make_timespan(<a class="code hl_variable" href="class_r_g_w_data_changes_log.html#af0ac934d9ab9db8e47e046dc7e4e977b">cct</a>-&gt;_conf-&gt;rgw_data_log_window);</div>
<div class="line"><span class="lineno">  542</span>    <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp; bs : buckets) {</div>
<div class="line"><span class="lineno">  543</span>      <a class="code hl_function" href="class_r_g_w_data_changes_log.html#a8624efc122696e52cdf9f1176adfddf3">update_renewed</a>(bs, expiration);</div>
<div class="line"><span class="lineno">  544</span>    }</div>
<div class="line"><span class="lineno">  545</span>  }</div>
<div class="line"><span class="lineno">  546</span> </div>
<div class="line"><span class="lineno">  547</span>  <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">  548</span>}</div>
<div class="ttc" id="aclass_r_g_w_data_changes_b_e_html_a14f09431a611858c5ff53fcb06995a5b"><div class="ttname"><a href="class_r_g_w_data_changes_b_e.html#a14f09431a611858c5ff53fcb06995a5b">RGWDataChangesBE::entries</a></div><div class="ttdeci">std::variant&lt; std::list&lt; cls_log_entry &gt;, std::vector&lt; ceph::buffer::list &gt; &gt; entries</div><div class="ttdef"><b>Definition</b> <a href="rgw__datalog_8h_source.html#l00283">rgw_datalog.h:284</a></div></div>
<div class="ttc" id="aclass_r_g_w_data_changes_log_html_a7663620820fa69faceb66f9d235b74bc"><div class="ttname"><a href="class_r_g_w_data_changes_log.html#a7663620820fa69faceb66f9d235b74bc">RGWDataChangesLog::zone</a></div><div class="ttdeci">const RGWZone * zone</div><div class="ttdef"><b>Definition</b> <a href="rgw__datalog_8h_source.html#l00172">rgw_datalog.h:172</a></div></div>
<div class="ttc" id="aclass_r_g_w_data_changes_log_html_a8624efc122696e52cdf9f1176adfddf3"><div class="ttname"><a href="class_r_g_w_data_changes_log.html#a8624efc122696e52cdf9f1176adfddf3">RGWDataChangesLog::update_renewed</a></div><div class="ttdeci">void update_renewed(const rgw_bucket_shard &amp;bs, ceph::real_time expiration)</div><div class="ttdef"><b>Definition</b> <a href="rgw__datalog_8cc_source.html#l00566">rgw_datalog.cc:566</a></div></div>
<div class="ttc" id="astruct_r_g_w_zone_html_aaa2cb454fbc56272f60c74bc5c93aa9c"><div class="ttname"><a href="struct_r_g_w_zone.html#aaa2cb454fbc56272f60c74bc5c93aa9c">RGWZone::log_data</a></div><div class="ttdeci">bool log_data</div><div class="ttdef"><b>Definition</b> <a href="rgw__zone_8h_source.html#l00581">rgw_zone.h:581</a></div></div>
</div><!-- fragment --><div class="dynheader">
이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="class_r_g_w_data_changes_log_acec51d68a6fc7965c01a50dfab1b20e4_cgraph.png" border="0" usemap="#aclass_r_g_w_data_changes_log_acec51d68a6fc7965c01a50dfab1b20e4_cgraph" alt=""/></div>
<map name="aclass_r_g_w_data_changes_log_acec51d68a6fc7965c01a50dfab1b20e4_cgraph" id="aclass_r_g_w_data_changes_log_acec51d68a6fc7965c01a50dfab1b20e4_cgraph">
<area shape="rect" title=" " alt="" coords="5,101,166,144"/>
<area shape="rect" href="class_r_g_w_data_changes_log.html#a7392b031c0a2762d0e030d8c56e1ff4a" title=" " alt="" coords="214,5,374,48"/>
<area shape="poly" title=" " alt="" coords="128,98,213,58,224,52,227,57,215,62,131,103"/>
<area shape="rect" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5" title=" " alt="" coords="273,72,315,99"/>
<area shape="poly" title=" " alt="" coords="165,106,257,89,258,94,166,111"/>
<area shape="rect" href="rgw__log__backing_8h.html#adc91400029fb575818b2a0ccf89e7928" title=" " alt="" coords="262,147,326,173"/>
<area shape="poly" title=" " alt="" coords="166,134,247,149,246,154,165,140"/>
<area shape="rect" href="class_r_g_w_data_changes_log.html#a8624efc122696e52cdf9f1176adfddf3" title=" " alt="" coords="214,197,374,240"/>
<area shape="poly" title=" " alt="" coords="131,142,215,183,227,188,224,193,213,188,128,147"/>
<area shape="poly" title=" " alt="" coords="260,149,252,139,256,129,270,122,294,120,321,123,333,131,331,135,319,128,294,125,272,127,260,132,258,138,264,145"/>
<area shape="rect" href="class_r_g_w_data_changes_log.html#a7b411764f9c4f61d6dd369cd92cf1438" title=" " alt="" coords="422,197,582,240"/>
<area shape="poly" title=" " alt="" coords="374,216,406,216,406,221,374,221"/>
</map>
</div>
<div class="dynheader">
이 함수를 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="class_r_g_w_data_changes_log_acec51d68a6fc7965c01a50dfab1b20e4_icgraph.png" border="0" usemap="#aclass_r_g_w_data_changes_log_acec51d68a6fc7965c01a50dfab1b20e4_icgraph" alt=""/></div>
<map name="aclass_r_g_w_data_changes_log_acec51d68a6fc7965c01a50dfab1b20e4_icgraph" id="aclass_r_g_w_data_changes_log_acec51d68a6fc7965c01a50dfab1b20e4_icgraph">
<area shape="rect" title=" " alt="" coords="422,5,582,48"/>
<area shape="rect" href="class_r_g_w_data_changes_log.html#a31f323d4bf6fff21ea4c8f288b202a5b" title=" " alt="" coords="214,5,374,48"/>
<area shape="poly" title=" " alt="" coords="407,29,375,29,375,24,407,24"/>
<area shape="rect" href="class_r_g_w_data_changes_log.html#a88f3364b1bbf290c257ee6aa39618b92" title=" " alt="" coords="5,5,166,48"/>
<area shape="poly" title=" " alt="" coords="198,29,166,29,166,24,198,24"/>
</map>
</div>

</div>
</div>
<a id="a31f323d4bf6fff21ea4c8f288b202a5b" name="a31f323d4bf6fff21ea4c8f288b202a5b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a31f323d4bf6fff21ea4c8f288b202a5b">&#9670;&#160;</a></span>renew_run()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void RGWDataChangesLog::renew_run </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span><span class="mlabel">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition"><a class="el" href="rgw__datalog_8cc_source.html">rgw_datalog.cc</a> 파일의 <a class="el" href="rgw__datalog_8cc_source.html#l00950">950</a> 번째 라인에서 정의되었습니다.</p>
<div class="fragment"><div class="line"><span class="lineno">  950</span>                                           {</div>
<div class="line"><span class="lineno">  951</span>  <span class="keyword">static</span> <span class="keyword">constexpr</span> <span class="keyword">auto</span> runs_per_prune = 150;</div>
<div class="line"><span class="lineno">  952</span>  <span class="keyword">auto</span> run = 0;</div>
<div class="line"><span class="lineno">  953</span>  <span class="keywordflow">for</span> (;;) {</div>
<div class="line"><span class="lineno">  954</span>    <span class="keyword">const</span> DoutPrefix dp(<a class="code hl_variable" href="class_r_g_w_data_changes_log.html#af0ac934d9ab9db8e47e046dc7e4e977b">cct</a>, <a class="code hl_define" href="librgw_8cc.html#a5580a2b7c4743669bb9ca22b07e84324">dout_subsys</a>, <span class="stringliteral">&quot;rgw data changes log: &quot;</span>);</div>
<div class="line"><span class="lineno">  955</span>    ldpp_dout(&amp;dp, 2) &lt;&lt; <span class="stringliteral">&quot;RGWDataChangesLog::ChangesRenewThread: start&quot;</span> &lt;&lt; dendl;</div>
<div class="line"><span class="lineno">  956</span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="rgw__aio_8cc.html#ae38055824c6eac64615832ad9d888539">r</a> = <a class="code hl_function" href="class_r_g_w_data_changes_log.html#acec51d68a6fc7965c01a50dfab1b20e4">renew_entries</a>(&amp;dp);</div>
<div class="line"><span class="lineno">  957</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="rgw__aio_8cc.html#ae38055824c6eac64615832ad9d888539">r</a> &lt; 0) {</div>
<div class="line"><span class="lineno">  958</span>      ldpp_dout(&amp;dp, 0) &lt;&lt; <span class="stringliteral">&quot;ERROR: RGWDataChangesLog::renew_entries returned error r=&quot;</span> &lt;&lt; <a class="code hl_variable" href="rgw__aio_8cc.html#ae38055824c6eac64615832ad9d888539">r</a> &lt;&lt; dendl;</div>
<div class="line"><span class="lineno">  959</span>    }</div>
<div class="line"><span class="lineno">  960</span> </div>
<div class="line"><span class="lineno">  961</span>    <span class="keywordflow">if</span> (<a class="code hl_function" href="class_r_g_w_data_changes_log.html#a936d85de3906b530b0c1ca8b2f7c6713">going_down</a>())</div>
<div class="line"><span class="lineno">  962</span>      <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  963</span> </div>
<div class="line"><span class="lineno">  964</span>    <span class="keywordflow">if</span> (run == runs_per_prune) {</div>
<div class="line"><span class="lineno">  965</span>      std::optional&lt;uint64_t&gt; through;</div>
<div class="line"><span class="lineno">  966</span>      ldpp_dout(&amp;dp, 2) &lt;&lt; <span class="stringliteral">&quot;RGWDataChangesLog::ChangesRenewThread: pruning old generations&quot;</span> &lt;&lt; dendl;</div>
<div class="line"><span class="lineno">  967</span>      <a class="code hl_function" href="class_r_g_w_data_changes_log.html#aabbafc54d5200021a8d5ee30b64f24df">trim_generations</a>(&amp;dp, through);</div>
<div class="line"><span class="lineno">  968</span>      <span class="keywordflow">if</span> (<a class="code hl_variable" href="rgw__aio_8cc.html#ae38055824c6eac64615832ad9d888539">r</a> &lt; 0) {</div>
<div class="line"><span class="lineno">  969</span>    derr &lt;&lt; <span class="stringliteral">&quot;RGWDataChangesLog::ChangesRenewThread: failed pruning r=&quot;</span></div>
<div class="line"><span class="lineno">  970</span>         &lt;&lt; <a class="code hl_variable" href="rgw__aio_8cc.html#ae38055824c6eac64615832ad9d888539">r</a> &lt;&lt; dendl;</div>
<div class="line"><span class="lineno">  971</span>      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (through) {</div>
<div class="line"><span class="lineno">  972</span>    ldpp_dout(&amp;dp, 2) &lt;&lt; <span class="stringliteral">&quot;RGWDataChangesLog::ChangesRenewThread: pruned generations &quot;</span></div>
<div class="line"><span class="lineno">  973</span>        &lt;&lt; <span class="stringliteral">&quot;through &quot;</span> &lt;&lt; *through &lt;&lt; <span class="stringliteral">&quot;.&quot;</span> &lt;&lt; dendl;</div>
<div class="line"><span class="lineno">  974</span>      } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  975</span>    ldpp_dout(&amp;dp, 2) &lt;&lt; <span class="stringliteral">&quot;RGWDataChangesLog::ChangesRenewThread: nothing to prune.&quot;</span></div>
<div class="line"><span class="lineno">  976</span>        &lt;&lt; dendl;</div>
<div class="line"><span class="lineno">  977</span>      }</div>
<div class="line"><span class="lineno">  978</span>      run = 0;</div>
<div class="line"><span class="lineno">  979</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  980</span>      ++run;</div>
<div class="line"><span class="lineno">  981</span>    }</div>
<div class="line"><span class="lineno">  982</span> </div>
<div class="line"><span class="lineno">  983</span>    <span class="keywordtype">int</span> interval = <a class="code hl_variable" href="class_r_g_w_data_changes_log.html#af0ac934d9ab9db8e47e046dc7e4e977b">cct</a>-&gt;_conf-&gt;rgw_data_log_window * 3 / 4;</div>
<div class="line"><span class="lineno">  984</span>    std::unique_lock locker{<a class="code hl_variable" href="class_r_g_w_data_changes_log.html#ae83720efaea6603783225da9d3d91ebe">renew_lock</a>};</div>
<div class="line"><span class="lineno">  985</span>    <a class="code hl_variable" href="class_r_g_w_data_changes_log.html#a9f23abfeb0ac298943b4ebedc0f3ef7a">renew_cond</a>.wait_for(locker, std::chrono::seconds(interval));</div>
<div class="line"><span class="lineno">  986</span>  }</div>
<div class="line"><span class="lineno">  987</span>}</div>
<div class="ttc" id="aclass_r_g_w_data_changes_log_html_a936d85de3906b530b0c1ca8b2f7c6713"><div class="ttname"><a href="class_r_g_w_data_changes_log.html#a936d85de3906b530b0c1ca8b2f7c6713">RGWDataChangesLog::going_down</a></div><div class="ttdeci">bool going_down() const</div><div class="ttdef"><b>Definition</b> <a href="rgw__datalog_8cc_source.html#l00937">rgw_datalog.cc:937</a></div></div>
<div class="ttc" id="aclass_r_g_w_data_changes_log_html_a9f23abfeb0ac298943b4ebedc0f3ef7a"><div class="ttname"><a href="class_r_g_w_data_changes_log.html#a9f23abfeb0ac298943b4ebedc0f3ef7a">RGWDataChangesLog::renew_cond</a></div><div class="ttdeci">ceph::condition_variable renew_cond</div><div class="ttdef"><b>Definition</b> <a href="rgw__datalog_8h_source.html#l00212">rgw_datalog.h:212</a></div></div>
<div class="ttc" id="aclass_r_g_w_data_changes_log_html_aabbafc54d5200021a8d5ee30b64f24df"><div class="ttname"><a href="class_r_g_w_data_changes_log.html#aabbafc54d5200021a8d5ee30b64f24df">RGWDataChangesLog::trim_generations</a></div><div class="ttdeci">int trim_generations(const DoutPrefixProvider *dpp, std::optional&lt; uint64_t &gt; &amp;through)</div><div class="ttdef"><b>Definition</b> <a href="rgw__datalog_8cc_source.html#l01023">rgw_datalog.cc:1023</a></div></div>
<div class="ttc" id="aclass_r_g_w_data_changes_log_html_acec51d68a6fc7965c01a50dfab1b20e4"><div class="ttname"><a href="class_r_g_w_data_changes_log.html#acec51d68a6fc7965c01a50dfab1b20e4">RGWDataChangesLog::renew_entries</a></div><div class="ttdeci">int renew_entries(const DoutPrefixProvider *dpp)</div><div class="ttdef"><b>Definition</b> <a href="rgw__datalog_8cc_source.html#l00496">rgw_datalog.cc:496</a></div></div>
<div class="ttc" id="aclass_r_g_w_data_changes_log_html_ae83720efaea6603783225da9d3d91ebe"><div class="ttname"><a href="class_r_g_w_data_changes_log.html#ae83720efaea6603783225da9d3d91ebe">RGWDataChangesLog::renew_lock</a></div><div class="ttdeci">ceph::mutex renew_lock</div><div class="ttdef"><b>Definition</b> <a href="rgw__datalog_8h_source.html#l00211">rgw_datalog.h:211</a></div></div>
<div class="ttc" id="alibrgw_8cc_html_a5580a2b7c4743669bb9ca22b07e84324"><div class="ttname"><a href="librgw_8cc.html#a5580a2b7c4743669bb9ca22b07e84324">dout_subsys</a></div><div class="ttdeci">#define dout_subsys</div><div class="ttdef"><b>Definition</b> <a href="librgw_8cc_source.html#l00070">librgw.cc:70</a></div></div>
</div><!-- fragment --><div class="dynheader">
이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="class_r_g_w_data_changes_log_a31f323d4bf6fff21ea4c8f288b202a5b_cgraph.png" border="0" usemap="#aclass_r_g_w_data_changes_log_a31f323d4bf6fff21ea4c8f288b202a5b_cgraph" alt=""/></div>
<map name="aclass_r_g_w_data_changes_log_a31f323d4bf6fff21ea4c8f288b202a5b_cgraph" id="aclass_r_g_w_data_changes_log_a31f323d4bf6fff21ea4c8f288b202a5b_cgraph">
<area shape="rect" title=" " alt="" coords="5,72,166,115"/>
<area shape="rect" href="class_r_g_w_data_changes_log.html#a936d85de3906b530b0c1ca8b2f7c6713" title=" " alt="" coords="214,5,374,48"/>
<area shape="poly" title=" " alt="" coords="153,69,210,51,211,56,155,74"/>
<area shape="rect" href="class_r_g_w_data_changes_log.html#acec51d68a6fc7965c01a50dfab1b20e4" title=" " alt="" coords="214,139,374,181"/>
<area shape="poly" title=" " alt="" coords="155,113,211,131,210,136,153,118"/>
<area shape="rect" href="class_r_g_w_data_changes_log.html#aabbafc54d5200021a8d5ee30b64f24df" title=" " alt="" coords="214,72,374,115"/>
<area shape="poly" title=" " alt="" coords="166,91,198,91,198,96,166,96"/>
<area shape="rect" href="class_r_g_w_data_changes_log.html#a7392b031c0a2762d0e030d8c56e1ff4a" title=" " alt="" coords="422,131,582,173"/>
<area shape="poly" title=" " alt="" coords="374,154,406,153,406,158,374,160"/>
<area shape="rect" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5" title=" " alt="" coords="481,80,523,107"/>
<area shape="poly" title=" " alt="" coords="361,136,421,116,465,102,467,107,423,121,363,141"/>
<area shape="rect" href="rgw__log__backing_8h.html#adc91400029fb575818b2a0ccf89e7928" title=" " alt="" coords="471,221,534,248"/>
<area shape="poly" title=" " alt="" coords="357,179,457,216,455,221,355,185"/>
<area shape="rect" href="class_r_g_w_data_changes_log.html#a8624efc122696e52cdf9f1176adfddf3" title=" " alt="" coords="422,272,582,315"/>
<area shape="poly" title=" " alt="" coords="320,180,366,218,423,258,432,262,429,267,421,262,363,222,317,184"/>
<area shape="poly" title=" " alt="" coords="468,223,461,213,464,203,479,197,502,195,529,198,542,206,539,210,527,203,502,200,480,202,468,207,466,213,472,220"/>
<area shape="rect" href="class_r_g_w_data_changes_log.html#a7b411764f9c4f61d6dd369cd92cf1438" title=" " alt="" coords="630,272,791,315"/>
<area shape="poly" title=" " alt="" coords="582,291,615,291,615,296,582,296"/>
<area shape="poly" title=" " alt="" coords="374,91,465,91,465,96,374,96"/>
</map>
</div>
<div class="dynheader">
이 함수를 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="class_r_g_w_data_changes_log_a31f323d4bf6fff21ea4c8f288b202a5b_icgraph.png" border="0" usemap="#aclass_r_g_w_data_changes_log_a31f323d4bf6fff21ea4c8f288b202a5b_icgraph" alt=""/></div>
<map name="aclass_r_g_w_data_changes_log_a31f323d4bf6fff21ea4c8f288b202a5b_icgraph" id="aclass_r_g_w_data_changes_log_a31f323d4bf6fff21ea4c8f288b202a5b_icgraph">
<area shape="rect" title=" " alt="" coords="214,5,374,48"/>
<area shape="rect" href="class_r_g_w_data_changes_log.html#a88f3364b1bbf290c257ee6aa39618b92" title=" " alt="" coords="5,5,166,48"/>
<area shape="poly" title=" " alt="" coords="198,29,166,29,166,24,198,24"/>
</map>
</div>

</div>
</div>
<a id="aa2488a4c26814dd6125e8b81e22ade3b" name="aa2488a4c26814dd6125e8b81e22ade3b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa2488a4c26814dd6125e8b81e22ade3b">&#9670;&#160;</a></span>renew_stop()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void RGWDataChangesLog::renew_stop </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition"><a class="el" href="rgw__datalog_8cc_source.html">rgw_datalog.cc</a> 파일의 <a class="el" href="rgw__datalog_8cc_source.html#l00989">989</a> 번째 라인에서 정의되었습니다.</p>
<div class="fragment"><div class="line"><span class="lineno">  990</span>{</div>
<div class="line"><span class="lineno">  991</span>  std::lock_guard l{<a class="code hl_variable" href="class_r_g_w_data_changes_log.html#ae83720efaea6603783225da9d3d91ebe">renew_lock</a>};</div>
<div class="line"><span class="lineno">  992</span>  <a class="code hl_variable" href="class_r_g_w_data_changes_log.html#a9f23abfeb0ac298943b4ebedc0f3ef7a">renew_cond</a>.notify_all();</div>
<div class="line"><span class="lineno">  993</span>}</div>
</div><!-- fragment --><div class="dynheader">
이 함수를 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="class_r_g_w_data_changes_log_aa2488a4c26814dd6125e8b81e22ade3b_icgraph.png" border="0" usemap="#aclass_r_g_w_data_changes_log_aa2488a4c26814dd6125e8b81e22ade3b_icgraph" alt=""/></div>
<map name="aclass_r_g_w_data_changes_log_aa2488a4c26814dd6125e8b81e22ade3b_icgraph" id="aclass_r_g_w_data_changes_log_aa2488a4c26814dd6125e8b81e22ade3b_icgraph">
<area shape="rect" title=" " alt="" coords="214,5,374,48"/>
<area shape="rect" href="class_r_g_w_data_changes_log.html#ad699bcd7a081e3209c0c50852c1248be" title=" " alt="" coords="5,5,166,48"/>
<area shape="poly" title=" " alt="" coords="198,29,166,29,166,24,198,24"/>
</map>
</div>

</div>
</div>
<a id="a15d1f41242a9b744b5664ad432458906" name="a15d1f41242a9b744b5664ad432458906"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a15d1f41242a9b744b5664ad432458906">&#9670;&#160;</a></span>set_bucket_filter()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void RGWDataChangesLog::set_bucket_filter </td>
          <td>(</td>
          <td class="paramtype">decltype(<a class="el" href="class_r_g_w_data_changes_log.html#a61080bda904ae53d83ea1ca81cdfd47b">bucket_filter</a>)&amp;&amp;&#160;</td>
          <td class="paramname"><em>f</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition"><a class="el" href="rgw__datalog_8h_source.html">rgw_datalog.h</a> 파일의 <a class="el" href="rgw__datalog_8h_source.html#l00261">261</a> 번째 라인에서 정의되었습니다.</p>
<div class="fragment"><div class="line"><span class="lineno">  261</span>                                                      {</div>
<div class="line"><span class="lineno">  262</span>    <a class="code hl_variable" href="class_r_g_w_data_changes_log.html#a61080bda904ae53d83ea1ca81cdfd47b">bucket_filter</a> = std::move(f);</div>
<div class="line"><span class="lineno">  263</span>  }</div>
</div><!-- fragment --><div class="dynheader">
이 함수를 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="class_r_g_w_data_changes_log_a15d1f41242a9b744b5664ad432458906_icgraph.png" border="0" usemap="#aclass_r_g_w_data_changes_log_a15d1f41242a9b744b5664ad432458906_icgraph" alt=""/></div>
<map name="aclass_r_g_w_data_changes_log_a15d1f41242a9b744b5664ad432458906_icgraph" id="aclass_r_g_w_data_changes_log_a15d1f41242a9b744b5664ad432458906_icgraph">
<area shape="rect" title=" " alt="" coords="189,5,349,48"/>
<area shape="rect" href="class_r_g_w_bucket_ctl.html#af2a1789ca7a32ab8ba14010061f98ab0" title=" " alt="" coords="5,13,141,40"/>
<area shape="poly" title=" " alt="" coords="173,29,141,29,141,24,173,24"/>
</map>
</div>

</div>
</div>
<a id="a0e38189d1705f32bc6388a64b421b827" name="a0e38189d1705f32bc6388a64b421b827"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0e38189d1705f32bc6388a64b421b827">&#9670;&#160;</a></span>set_observer()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void RGWDataChangesLog::set_observer </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structrgw_1_1_bucket_change_observer.html">rgw::BucketChangeObserver</a> *&#160;</td>
          <td class="paramname"><em>observer</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition"><a class="el" href="rgw__datalog_8h_source.html">rgw_datalog.h</a> 파일의 <a class="el" href="rgw__datalog_8h_source.html#l00257">257</a> 번째 라인에서 정의되었습니다.</p>
<div class="fragment"><div class="line"><span class="lineno">  257</span>                                                       {</div>
<div class="line"><span class="lineno">  258</span>    this-&gt;observer = <a class="code hl_variable" href="class_r_g_w_data_changes_log.html#a1a87b9cdd0fc87950ab740aeebcc7d1a">observer</a>;</div>
<div class="line"><span class="lineno">  259</span>  }</div>
</div><!-- fragment -->
</div>
</div>
<a id="a88f3364b1bbf290c257ee6aa39618b92" name="a88f3364b1bbf290c257ee6aa39618b92"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a88f3364b1bbf290c257ee6aa39618b92">&#9670;&#160;</a></span>start()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int RGWDataChangesLog::start </td>
          <td>(</td>
          <td class="paramtype">const DoutPrefixProvider *&#160;</td>
          <td class="paramname"><em>dpp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="struct_r_g_w_zone.html">RGWZone</a> *&#160;</td>
          <td class="paramname"><em>_zone</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="struct_r_g_w_zone_params.html">RGWZoneParams</a> &amp;&#160;</td>
          <td class="paramname"><em>zoneparams</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">librados::Rados *&#160;</td>
          <td class="paramname"><em>lr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition"><a class="el" href="rgw__datalog_8cc_source.html">rgw_datalog.cc</a> 파일의 <a class="el" href="rgw__datalog_8cc_source.html#l00449">449</a> 번째 라인에서 정의되었습니다.</p>
<div class="fragment"><div class="line"><span class="lineno">  452</span>{</div>
<div class="line"><span class="lineno">  453</span>  <a class="code hl_variable" href="class_r_g_w_data_changes_log.html#a7663620820fa69faceb66f9d235b74bc">zone</a> = _zone;</div>
<div class="line"><span class="lineno">  454</span>  ceph_assert(<a class="code hl_variable" href="class_r_g_w_data_changes_log.html#a7663620820fa69faceb66f9d235b74bc">zone</a>);</div>
<div class="line"><span class="lineno">  455</span>  <span class="keyword">auto</span> defbacking = <a class="code hl_function" href="rgw__log__backing_8h.html#a85b97f869025cf0a710609498bc64a31">to_log_type</a>(</div>
<div class="line"><span class="lineno">  456</span>    <a class="code hl_variable" href="class_r_g_w_data_changes_log.html#af0ac934d9ab9db8e47e046dc7e4e977b">cct</a>-&gt;_conf.get_val&lt;std::string&gt;(<span class="stringliteral">&quot;rgw_default_data_log_backing&quot;</span>));</div>
<div class="line"><span class="lineno">  457</span>  <span class="comment">// Should be guaranteed by `set_enum_allowed`</span></div>
<div class="line"><span class="lineno">  458</span>  ceph_assert(defbacking);</div>
<div class="line"><span class="lineno">  459</span>  <span class="keyword">auto</span> log_pool = zoneparams.<a class="code hl_variable" href="struct_r_g_w_zone_params.html#a802daf944c39f049022b963570ebfaa0">log_pool</a>;</div>
<div class="line"><span class="lineno">  460</span>  <span class="keyword">auto</span> <a class="code hl_variable" href="rgw__aio_8cc.html#ae38055824c6eac64615832ad9d888539">r</a> = <a class="code hl_function" href="rgw__tools_8cc.html#a1b991fc581ae47229ff5e44c3a5e5aac">rgw_init_ioctx</a>(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>, lr, log_pool, <a class="code hl_variable" href="class_r_g_w_data_changes_log.html#a9d3cba188026d2ba0dc2ae97da2a282a">ioctx</a>, <span class="keyword">true</span>, <span class="keyword">false</span>);</div>
<div class="line"><span class="lineno">  461</span>  <span class="keywordflow">if</span> (<a class="code hl_variable" href="rgw__aio_8cc.html#ae38055824c6eac64615832ad9d888539">r</a> &lt; 0) {</div>
<div class="line"><span class="lineno">  462</span>    ldpp_dout(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>, -1) &lt;&lt; __PRETTY_FUNCTION__</div>
<div class="line"><span class="lineno">  463</span>           &lt;&lt; <span class="stringliteral">&quot;: Failed to initialized ioctx, r=&quot;</span> &lt;&lt; <a class="code hl_variable" href="rgw__aio_8cc.html#ae38055824c6eac64615832ad9d888539">r</a></div>
<div class="line"><span class="lineno">  464</span>           &lt;&lt; <span class="stringliteral">&quot;, pool=&quot;</span> &lt;&lt; log_pool &lt;&lt; dendl;</div>
<div class="line"><span class="lineno">  465</span>    <span class="keywordflow">return</span> -<a class="code hl_variable" href="rgw__aio_8cc.html#ae38055824c6eac64615832ad9d888539">r</a>;</div>
<div class="line"><span class="lineno">  466</span>  }</div>
<div class="line"><span class="lineno">  467</span> </div>
<div class="line"><span class="lineno">  468</span>  <span class="keyword">auto</span> besr = logback_generations::init&lt;DataLogBackends&gt;(</div>
<div class="line"><span class="lineno">  469</span>    <a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>, <a class="code hl_variable" href="class_r_g_w_data_changes_log.html#a9d3cba188026d2ba0dc2ae97da2a282a">ioctx</a>, <a class="code hl_function" href="class_r_g_w_data_changes_log.html#a2b9b0ce82c32226979918b93600ad79d">metadata_log_oid</a>(), [<span class="keyword">this</span>](uint64_t gen_id, <span class="keywordtype">int</span> shard) {</div>
<div class="line"><span class="lineno">  470</span>      <span class="keywordflow">return</span> <a class="code hl_function" href="class_r_g_w_data_changes_log.html#a57d902a10e5c4015ddc7eb4e75164112">get_oid</a>(gen_id, shard);</div>
<div class="line"><span class="lineno">  471</span>    },</div>
<div class="line"><span class="lineno">  472</span>    <a class="code hl_variable" href="class_r_g_w_data_changes_log.html#ad9344c62ed8a04be879f0fc45fc05352">num_shards</a>, *defbacking, null_yield, *<span class="keyword">this</span>);</div>
<div class="line"><span class="lineno">  473</span> </div>
<div class="line"><span class="lineno">  474</span> </div>
<div class="line"><span class="lineno">  475</span>  <span class="keywordflow">if</span> (!besr) {</div>
<div class="line"><span class="lineno">  476</span>    lderr(<a class="code hl_variable" href="class_r_g_w_data_changes_log.html#af0ac934d9ab9db8e47e046dc7e4e977b">cct</a>) &lt;&lt; __PRETTY_FUNCTION__</div>
<div class="line"><span class="lineno">  477</span>           &lt;&lt; <span class="stringliteral">&quot;: Error initializing backends: &quot;</span></div>
<div class="line"><span class="lineno">  478</span>           &lt;&lt; besr.error().message() &lt;&lt; dendl;</div>
<div class="line"><span class="lineno">  479</span>    <span class="keywordflow">return</span> ceph::from_error_code(besr.error());</div>
<div class="line"><span class="lineno">  480</span>  }</div>
<div class="line"><span class="lineno">  481</span> </div>
<div class="line"><span class="lineno">  482</span>  <a class="code hl_variable" href="class_r_g_w_data_changes_log.html#a4f11cd31c20eaff68d63652cad9d353a">bes</a> = std::move(*besr);</div>
<div class="line"><span class="lineno">  483</span>  <a class="code hl_variable" href="class_r_g_w_data_changes_log.html#aad9062fd4055f82a5c7039c9d61f1625">renew_thread</a> = make_named_thread(<span class="stringliteral">&quot;rgw_dt_lg_renew&quot;</span>,</div>
<div class="line"><span class="lineno">  484</span>                   &amp;<a class="code hl_function" href="class_r_g_w_data_changes_log.html#a31f323d4bf6fff21ea4c8f288b202a5b">RGWDataChangesLog::renew_run</a>, <span class="keyword">this</span>);</div>
<div class="line"><span class="lineno">  485</span>  <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">  486</span>}</div>
<div class="ttc" id="aclass_r_g_w_data_changes_log_html_a2b9b0ce82c32226979918b93600ad79d"><div class="ttname"><a href="class_r_g_w_data_changes_log.html#a2b9b0ce82c32226979918b93600ad79d">RGWDataChangesLog::metadata_log_oid</a></div><div class="ttdeci">std::string metadata_log_oid()</div><div class="ttdef"><b>Definition</b> <a href="rgw__datalog_8h_source.html#l00180">rgw_datalog.h:180</a></div></div>
<div class="ttc" id="aclass_r_g_w_data_changes_log_html_a31f323d4bf6fff21ea4c8f288b202a5b"><div class="ttname"><a href="class_r_g_w_data_changes_log.html#a31f323d4bf6fff21ea4c8f288b202a5b">RGWDataChangesLog::renew_run</a></div><div class="ttdeci">void renew_run() noexcept</div><div class="ttdef"><b>Definition</b> <a href="rgw__datalog_8cc_source.html#l00950">rgw_datalog.cc:950</a></div></div>
<div class="ttc" id="aclass_r_g_w_data_changes_log_html_a57d902a10e5c4015ddc7eb4e75164112"><div class="ttname"><a href="class_r_g_w_data_changes_log.html#a57d902a10e5c4015ddc7eb4e75164112">RGWDataChangesLog::get_oid</a></div><div class="ttdeci">std::string get_oid(uint64_t gen_id, int shard_id) const</div><div class="ttdef"><b>Definition</b> <a href="rgw__datalog_8cc_source.html#l00599">rgw_datalog.cc:599</a></div></div>
<div class="ttc" id="aclass_r_g_w_data_changes_log_html_a9d3cba188026d2ba0dc2ae97da2a282a"><div class="ttname"><a href="class_r_g_w_data_changes_log.html#a9d3cba188026d2ba0dc2ae97da2a282a">RGWDataChangesLog::ioctx</a></div><div class="ttdeci">librados::IoCtx ioctx</div><div class="ttdef"><b>Definition</b> <a href="rgw__datalog_8h_source.html#l00170">rgw_datalog.h:170</a></div></div>
<div class="ttc" id="argw__log__backing_8h_html_a85b97f869025cf0a710609498bc64a31"><div class="ttname"><a href="rgw__log__backing_8h.html#a85b97f869025cf0a710609498bc64a31">to_log_type</a></div><div class="ttdeci">std::optional&lt; log_type &gt; to_log_type(std::string_view s)</div><div class="ttdef"><b>Definition</b> <a href="rgw__log__backing_8h_source.html#l00055">rgw_log_backing.h:55</a></div></div>
<div class="ttc" id="argw__tools_8cc_html_a1b991fc581ae47229ff5e44c3a5e5aac"><div class="ttname"><a href="rgw__tools_8cc.html#a1b991fc581ae47229ff5e44c3a5e5aac">rgw_init_ioctx</a></div><div class="ttdeci">int rgw_init_ioctx(const DoutPrefixProvider *dpp, librados::Rados *rados, const rgw_pool &amp;pool, librados::IoCtx &amp;ioctx, bool create, bool mostly_omap)</div><div class="ttdef"><b>Definition</b> <a href="rgw__tools_8cc_source.html#l00040">rgw_tools.cc:40</a></div></div>
<div class="ttc" id="astruct_r_g_w_zone_params_html_a802daf944c39f049022b963570ebfaa0"><div class="ttname"><a href="struct_r_g_w_zone_params.html#a802daf944c39f049022b963570ebfaa0">RGWZoneParams::log_pool</a></div><div class="ttdeci">rgw_pool log_pool</div><div class="ttdef"><b>Definition</b> <a href="rgw__zone_8h_source.html#l00375">rgw_zone.h:375</a></div></div>
</div><!-- fragment --><div class="dynheader">
이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="class_r_g_w_data_changes_log_a88f3364b1bbf290c257ee6aa39618b92_cgraph.png" border="0" usemap="#aclass_r_g_w_data_changes_log_a88f3364b1bbf290c257ee6aa39618b92_cgraph" alt=""/></div>
<map name="aclass_r_g_w_data_changes_log_a88f3364b1bbf290c257ee6aa39618b92_cgraph" id="aclass_r_g_w_data_changes_log_a88f3364b1bbf290c257ee6aa39618b92_cgraph">
<area shape="rect" title=" " alt="" coords="5,160,166,203"/>
<area shape="rect" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5" title=" " alt="" coords="689,56,732,83"/>
<area shape="poly" title=" " alt="" coords="105,158,151,114,181,91,212,71,268,44,313,29,422,12,502,3,538,5,583,12,633,28,677,48,674,53,631,33,582,17,537,10,503,8,422,17,315,35,270,49,215,76,184,95,155,118,109,161"/>
<area shape="rect" href="class_r_g_w_data_changes_log.html#a57d902a10e5c4015ddc7eb4e75164112" title=" " alt="" coords="214,193,374,236"/>
<area shape="poly" title=" " alt="" coords="166,192,198,197,198,202,165,197"/>
<area shape="rect" href="class_r_g_w_data_changes_log.html#a2b9b0ce82c32226979918b93600ad79d" title=" " alt="" coords="214,260,374,303"/>
<area shape="poly" title=" " alt="" coords="128,201,215,246,226,251,224,256,212,250,125,206"/>
<area shape="rect" href="class_r_g_w_data_changes_log.html#a31f323d4bf6fff21ea4c8f288b202a5b" title=" " alt="" coords="214,127,374,169"/>
<area shape="poly" title=" " alt="" coords="165,166,198,161,198,166,166,171"/>
<area shape="rect" href="rgw__tools_8cc.html#a1b991fc581ae47229ff5e44c3a5e5aac" title=" " alt="" coords="452,27,552,53"/>
<area shape="poly" title=" " alt="" coords="122,157,165,134,213,112,330,75,436,50,437,55,332,80,215,117,167,139,124,162"/>
<area shape="rect" href="rgw__log__backing_8h.html#a85b97f869025cf0a710609498bc64a31" title=" " alt="" coords="250,327,338,353"/>
<area shape="poly" title=" " alt="" coords="104,201,150,257,181,287,215,312,236,323,234,328,212,317,177,291,146,260,100,205"/>
<area shape="rect" href="class_r_g_w_data_changes_log.html#a7d79710e82df993c0afc0e39b719e316" title=" " alt="" coords="422,277,582,320"/>
<area shape="poly" title=" " alt="" coords="374,285,407,288,406,293,374,291"/>
<area shape="rect" href="class_r_g_w_data_changes_log.html#a936d85de3906b530b0c1ca8b2f7c6713" title=" " alt="" coords="422,144,582,187"/>
<area shape="poly" title=" " alt="" coords="374,152,407,155,406,160,374,157"/>
<area shape="rect" href="class_r_g_w_data_changes_log.html#acec51d68a6fc7965c01a50dfab1b20e4" title=" " alt="" coords="422,211,582,253"/>
<area shape="poly" title=" " alt="" coords="350,167,434,202,432,207,348,172"/>
<area shape="rect" href="class_r_g_w_data_changes_log.html#aabbafc54d5200021a8d5ee30b64f24df" title=" " alt="" coords="422,77,582,120"/>
<area shape="poly" title=" " alt="" coords="373,126,406,119,407,124,375,132"/>
<area shape="poly" title=" " alt="" coords="563,208,581,197,596,181,605,165,614,149,628,130,675,90,678,94,632,134,618,152,610,168,600,184,584,201,566,212"/>
<area shape="rect" href="class_r_g_w_data_changes_log.html#a7392b031c0a2762d0e030d8c56e1ff4a" title=" " alt="" coords="630,211,791,253"/>
<area shape="poly" title=" " alt="" coords="582,229,615,229,615,235,582,235"/>
<area shape="rect" href="rgw__log__backing_8h.html#adc91400029fb575818b2a0ccf89e7928" title=" " alt="" coords="679,301,742,328"/>
<area shape="poly" title=" " alt="" coords="559,251,666,294,664,299,557,256"/>
<area shape="rect" href="class_r_g_w_data_changes_log.html#a8624efc122696e52cdf9f1176adfddf3" title=" " alt="" coords="630,144,791,187"/>
<area shape="poly" title=" " alt="" coords="570,208,626,189,628,194,572,213"/>
<area shape="poly" title=" " alt="" coords="676,303,669,293,673,283,687,277,711,275,737,278,750,286,747,290,736,283,710,280,688,282,677,287,674,293,680,300"/>
<area shape="rect" href="class_r_g_w_data_changes_log.html#a7b411764f9c4f61d6dd369cd92cf1438" title=" " alt="" coords="839,144,999,187"/>
<area shape="poly" title=" " alt="" coords="791,163,823,163,823,168,791,168"/>
<area shape="poly" title=" " alt="" coords="582,85,674,72,674,77,583,90"/>
<area shape="poly" title=" " alt="" coords="553,44,674,62,674,67,552,50"/>
</map>
</div>

</div>
</div>
<a id="a80ef573ce60986a09f8f259870a5dda4" name="a80ef573ce60986a09f8f259870a5dda4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a80ef573ce60986a09f8f259870a5dda4">&#9670;&#160;</a></span>trim_entries() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int RGWDataChangesLog::trim_entries </td>
          <td>(</td>
          <td class="paramtype">const DoutPrefixProvider *&#160;</td>
          <td class="paramname"><em>dpp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>shard_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::string_view&#160;</td>
          <td class="paramname"><em>marker</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition"><a class="el" href="rgw__datalog_8cc_source.html">rgw_datalog.cc</a> 파일의 <a class="el" href="rgw__datalog_8cc_source.html#l00819">819</a> 번째 라인에서 정의되었습니다.</p>
<div class="fragment"><div class="line"><span class="lineno">  820</span>{</div>
<div class="line"><span class="lineno">  821</span>  assert(shard_id &lt; <a class="code hl_variable" href="class_r_g_w_data_changes_log.html#ad9344c62ed8a04be879f0fc45fc05352">num_shards</a>);</div>
<div class="line"><span class="lineno">  822</span>  <span class="keywordflow">return</span> <a class="code hl_variable" href="class_r_g_w_data_changes_log.html#a4f11cd31c20eaff68d63652cad9d353a">bes</a>-&gt;trim_entries(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>, shard_id, marker);</div>
<div class="line"><span class="lineno">  823</span>}</div>
</div><!-- fragment --><div class="dynheader">
이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="class_r_g_w_data_changes_log_a80ef573ce60986a09f8f259870a5dda4_cgraph.png" border="0" usemap="#aclass_r_g_w_data_changes_log_a80ef573ce60986a09f8f259870a5dda4_cgraph" alt=""/></div>
<map name="aclass_r_g_w_data_changes_log_a80ef573ce60986a09f8f259870a5dda4_cgraph" id="aclass_r_g_w_data_changes_log_a80ef573ce60986a09f8f259870a5dda4_cgraph">
<area shape="rect" title=" " alt="" coords="5,5,166,48"/>
<area shape="rect" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5" title=" " alt="" coords="214,13,256,40"/>
<area shape="poly" title=" " alt="" coords="166,24,198,24,198,29,166,29"/>
</map>
</div>

</div>
</div>
<a id="a02408db2a1337732bf6faf345bd5f8fd" name="a02408db2a1337732bf6faf345bd5f8fd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a02408db2a1337732bf6faf345bd5f8fd">&#9670;&#160;</a></span>trim_entries() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int RGWDataChangesLog::trim_entries </td>
          <td>(</td>
          <td class="paramtype">const DoutPrefixProvider *&#160;</td>
          <td class="paramname"><em>dpp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>shard_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::string_view&#160;</td>
          <td class="paramname"><em>marker</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">librados::AioCompletion *&#160;</td>
          <td class="paramname"><em>c</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition"><a class="el" href="rgw__datalog_8cc_source.html">rgw_datalog.cc</a> 파일의 <a class="el" href="rgw__datalog_8cc_source.html#l00929">929</a> 번째 라인에서 정의되었습니다.</p>
<div class="fragment"><div class="line"><span class="lineno">  931</span>{</div>
<div class="line"><span class="lineno">  932</span>  assert(shard_id &lt; <a class="code hl_variable" href="class_r_g_w_data_changes_log.html#ad9344c62ed8a04be879f0fc45fc05352">num_shards</a>);</div>
<div class="line"><span class="lineno">  933</span>  <a class="code hl_variable" href="class_r_g_w_data_changes_log.html#a4f11cd31c20eaff68d63652cad9d353a">bes</a>-&gt;trim_entries(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>, shard_id, marker, <a class="code hl_variable" href="rgw__aio_8cc.html#af3997c9b015c5696191674621076ae50">c</a>);</div>
<div class="line"><span class="lineno">  934</span>  <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">  935</span>}</div>
<div class="ttc" id="argw__aio_8cc_html_af3997c9b015c5696191674621076ae50"><div class="ttname"><a href="rgw__aio_8cc.html#af3997c9b015c5696191674621076ae50">c</a></div><div class="ttdeci">librados::AioCompletion * c</div><div class="ttdef"><b>Definition</b> <a href="rgw__aio_8cc_source.html#l00031">rgw_aio.cc:31</a></div></div>
</div><!-- fragment --><div class="dynheader">
이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="class_r_g_w_data_changes_log_a02408db2a1337732bf6faf345bd5f8fd_cgraph.png" border="0" usemap="#aclass_r_g_w_data_changes_log_a02408db2a1337732bf6faf345bd5f8fd_cgraph" alt=""/></div>
<map name="aclass_r_g_w_data_changes_log_a02408db2a1337732bf6faf345bd5f8fd_cgraph" id="aclass_r_g_w_data_changes_log_a02408db2a1337732bf6faf345bd5f8fd_cgraph">
<area shape="rect" title=" " alt="" coords="5,5,166,48"/>
<area shape="rect" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5" title=" " alt="" coords="214,13,256,40"/>
<area shape="poly" title=" " alt="" coords="166,24,198,24,198,29,166,29"/>
</map>
</div>

</div>
</div>
<a id="aabbafc54d5200021a8d5ee30b64f24df" name="aabbafc54d5200021a8d5ee30b64f24df"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aabbafc54d5200021a8d5ee30b64f24df">&#9670;&#160;</a></span>trim_generations()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int RGWDataChangesLog::trim_generations </td>
          <td>(</td>
          <td class="paramtype">const DoutPrefixProvider *&#160;</td>
          <td class="paramname"><em>dpp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::optional&lt; uint64_t &gt; &amp;&#160;</td>
          <td class="paramname"><em>through</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition"><a class="el" href="rgw__datalog_8cc_source.html">rgw_datalog.cc</a> 파일의 <a class="el" href="rgw__datalog_8cc_source.html#l01023">1023</a> 번째 라인에서 정의되었습니다.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1023</span>                                                                                                     {</div>
<div class="line"><span class="lineno"> 1024</span>  <span class="keywordflow">return</span> <a class="code hl_variable" href="class_r_g_w_data_changes_log.html#a4f11cd31c20eaff68d63652cad9d353a">bes</a>-&gt;trim_generations(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>, through);</div>
<div class="line"><span class="lineno"> 1025</span>}</div>
</div><!-- fragment --><div class="dynheader">
이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="class_r_g_w_data_changes_log_aabbafc54d5200021a8d5ee30b64f24df_cgraph.png" border="0" usemap="#aclass_r_g_w_data_changes_log_aabbafc54d5200021a8d5ee30b64f24df_cgraph" alt=""/></div>
<map name="aclass_r_g_w_data_changes_log_aabbafc54d5200021a8d5ee30b64f24df_cgraph" id="aclass_r_g_w_data_changes_log_aabbafc54d5200021a8d5ee30b64f24df_cgraph">
<area shape="rect" title=" " alt="" coords="5,5,166,48"/>
<area shape="rect" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5" title=" " alt="" coords="214,13,256,40"/>
<area shape="poly" title=" " alt="" coords="166,24,198,24,198,29,166,29"/>
</map>
</div>
<div class="dynheader">
이 함수를 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="class_r_g_w_data_changes_log_aabbafc54d5200021a8d5ee30b64f24df_icgraph.png" border="0" usemap="#aclass_r_g_w_data_changes_log_aabbafc54d5200021a8d5ee30b64f24df_icgraph" alt=""/></div>
<map name="aclass_r_g_w_data_changes_log_aabbafc54d5200021a8d5ee30b64f24df_icgraph" id="aclass_r_g_w_data_changes_log_aabbafc54d5200021a8d5ee30b64f24df_icgraph">
<area shape="rect" title=" " alt="" coords="422,5,582,48"/>
<area shape="rect" href="class_r_g_w_data_changes_log.html#a31f323d4bf6fff21ea4c8f288b202a5b" title=" " alt="" coords="214,5,374,48"/>
<area shape="poly" title=" " alt="" coords="407,29,375,29,375,24,407,24"/>
<area shape="rect" href="class_r_g_w_data_changes_log.html#a88f3364b1bbf290c257ee6aa39618b92" title=" " alt="" coords="5,5,166,48"/>
<area shape="poly" title=" " alt="" coords="198,29,166,29,166,24,198,24"/>
</map>
</div>

</div>
</div>
<a id="a8624efc122696e52cdf9f1176adfddf3" name="a8624efc122696e52cdf9f1176adfddf3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8624efc122696e52cdf9f1176adfddf3">&#9670;&#160;</a></span>update_renewed()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void RGWDataChangesLog::update_renewed </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structrgw__bucket__shard.html">rgw_bucket_shard</a> &amp;&#160;</td>
          <td class="paramname"><em>bs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ceph::real_time&#160;</td>
          <td class="paramname"><em>expiration</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition"><a class="el" href="rgw__datalog_8cc_source.html">rgw_datalog.cc</a> 파일의 <a class="el" href="rgw__datalog_8cc_source.html#l00566">566</a> 번째 라인에서 정의되었습니다.</p>
<div class="fragment"><div class="line"><span class="lineno">  568</span>{</div>
<div class="line"><span class="lineno">  569</span>  std::unique_lock l{<a class="code hl_variable" href="class_r_g_w_data_changes_log.html#ae454d544a25cac814d002e6f40bdf1eb">lock</a>};</div>
<div class="line"><span class="lineno">  570</span>  <a class="code hl_typedef" href="class_r_g_w_data_changes_log.html#addff264ba685ef1626b30ec1512275e6">ChangeStatusPtr</a> status;</div>
<div class="line"><span class="lineno">  571</span>  <a class="code hl_function" href="class_r_g_w_data_changes_log.html#a7b411764f9c4f61d6dd369cd92cf1438">_get_change</a>(bs, status);</div>
<div class="line"><span class="lineno">  572</span>  l.unlock();</div>
<div class="line"><span class="lineno">  573</span> </div>
<div class="line"><span class="lineno">  574</span> </div>
<div class="line"><span class="lineno">  575</span>  ldout(<a class="code hl_variable" href="class_r_g_w_data_changes_log.html#af0ac934d9ab9db8e47e046dc7e4e977b">cct</a>, 20) &lt;&lt; <span class="stringliteral">&quot;RGWDataChangesLog::update_renewd() bucket_name=&quot;</span></div>
<div class="line"><span class="lineno">  576</span>         &lt;&lt; bs.<a class="code hl_variable" href="structrgw__bucket__shard.html#aa6821665d28ae2987ee05096b8a284e8">bucket</a>.<a class="code hl_variable" href="structrgw__bucket.html#a32d3529f5b0c53051c856a7abe867a6b">name</a> &lt;&lt; <span class="stringliteral">&quot; shard_id=&quot;</span> &lt;&lt; bs.<a class="code hl_variable" href="structrgw__bucket__shard.html#a6f623c8052fa8df15ed2a6747fbd624c">shard_id</a></div>
<div class="line"><span class="lineno">  577</span>         &lt;&lt; <span class="stringliteral">&quot; expiration=&quot;</span> &lt;&lt; expiration &lt;&lt; dendl;</div>
<div class="line"><span class="lineno">  578</span> </div>
<div class="line"><span class="lineno">  579</span>  std::unique_lock sl(status-&gt;lock);</div>
<div class="line"><span class="lineno">  580</span>  status-&gt;cur_expiration = expiration;</div>
<div class="line"><span class="lineno">  581</span>}</div>
</div><!-- fragment --><div class="dynheader">
이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="class_r_g_w_data_changes_log_a8624efc122696e52cdf9f1176adfddf3_cgraph.png" border="0" usemap="#aclass_r_g_w_data_changes_log_a8624efc122696e52cdf9f1176adfddf3_cgraph" alt=""/></div>
<map name="aclass_r_g_w_data_changes_log_a8624efc122696e52cdf9f1176adfddf3_cgraph" id="aclass_r_g_w_data_changes_log_a8624efc122696e52cdf9f1176adfddf3_cgraph">
<area shape="rect" title=" " alt="" coords="5,5,166,48"/>
<area shape="rect" href="class_r_g_w_data_changes_log.html#a7b411764f9c4f61d6dd369cd92cf1438" title=" " alt="" coords="214,5,374,48"/>
<area shape="poly" title=" " alt="" coords="166,24,198,24,198,29,166,29"/>
</map>
</div>
<div class="dynheader">
이 함수를 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="class_r_g_w_data_changes_log_a8624efc122696e52cdf9f1176adfddf3_icgraph.png" border="0" usemap="#aclass_r_g_w_data_changes_log_a8624efc122696e52cdf9f1176adfddf3_icgraph" alt=""/></div>
<map name="aclass_r_g_w_data_changes_log_a8624efc122696e52cdf9f1176adfddf3_icgraph" id="aclass_r_g_w_data_changes_log_a8624efc122696e52cdf9f1176adfddf3_icgraph">
<area shape="rect" title=" " alt="" coords="630,5,791,48"/>
<area shape="rect" href="class_r_g_w_data_changes_log.html#acec51d68a6fc7965c01a50dfab1b20e4" title=" " alt="" coords="422,5,582,48"/>
<area shape="poly" title=" " alt="" coords="615,29,583,29,583,24,615,24"/>
<area shape="rect" href="class_r_g_w_data_changes_log.html#a31f323d4bf6fff21ea4c8f288b202a5b" title=" " alt="" coords="214,5,374,48"/>
<area shape="poly" title=" " alt="" coords="407,29,375,29,375,24,407,24"/>
<area shape="rect" href="class_r_g_w_data_changes_log.html#a88f3364b1bbf290c257ee6aa39618b92" title=" " alt="" coords="5,5,166,48"/>
<area shape="poly" title=" " alt="" coords="198,29,166,29,166,24,198,24"/>
</map>
</div>

</div>
</div>
<h2 class="groupheader">멤버 데이터 문서화</h2>
<a id="a4f11cd31c20eaff68d63652cad9d353a" name="a4f11cd31c20eaff68d63652cad9d353a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4f11cd31c20eaff68d63652cad9d353a">&#9670;&#160;</a></span>bes</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::unique_ptr&lt;<a class="el" href="class_data_log_backends.html">DataLogBackends</a>&gt; RGWDataChangesLog::bes</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition"><a class="el" href="rgw__datalog_8h_source.html">rgw_datalog.h</a> 파일의 <a class="el" href="rgw__datalog_8h_source.html#l00173">173</a> 번째 라인에서 정의되었습니다.</p>

</div>
</div>
<a id="a61080bda904ae53d83ea1ca81cdfd47b" name="a61080bda904ae53d83ea1ca81cdfd47b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a61080bda904ae53d83ea1ca81cdfd47b">&#9670;&#160;</a></span>bucket_filter</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::function&lt;bool(const <a class="el" href="structrgw__bucket.html">rgw_bucket</a>&amp; bucket, optional_yield y, const DoutPrefixProvider *<a class="el" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>)&gt; RGWDataChangesLog::bucket_filter</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition"><a class="el" href="rgw__datalog_8h_source.html">rgw_datalog.h</a> 파일의 <a class="el" href="rgw__datalog_8h_source.html#l00217">217</a> 번째 라인에서 정의되었습니다.</p>

</div>
</div>
<a id="af0ac934d9ab9db8e47e046dc7e4e977b" name="af0ac934d9ab9db8e47e046dc7e4e977b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af0ac934d9ab9db8e47e046dc7e4e977b">&#9670;&#160;</a></span>cct</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">CephContext* RGWDataChangesLog::cct</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition"><a class="el" href="rgw__datalog_8h_source.html">rgw_datalog.h</a> 파일의 <a class="el" href="rgw__datalog_8h_source.html#l00169">169</a> 번째 라인에서 정의되었습니다.</p>

</div>
</div>
<a id="a13ba43cfae8845eb4ed602f023b9387d" name="a13ba43cfae8845eb4ed602f023b9387d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a13ba43cfae8845eb4ed602f023b9387d">&#9670;&#160;</a></span>changes</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classlru__map.html">lru_map</a>&lt;<a class="el" href="structrgw__bucket__shard.html">rgw_bucket_shard</a>, <a class="el" href="class_r_g_w_data_changes_log.html#addff264ba685ef1626b30ec1512275e6">ChangeStatusPtr</a>&gt; RGWDataChangesLog::changes</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition"><a class="el" href="rgw__datalog_8h_source.html">rgw_datalog.h</a> 파일의 <a class="el" href="rgw__datalog_8h_source.html#l00203">203</a> 번째 라인에서 정의되었습니다.</p>

</div>
</div>
<a id="a7c9c471f0aaba0f781eb65a29f164c4a" name="a7c9c471f0aaba0f781eb65a29f164c4a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7c9c471f0aaba0f781eb65a29f164c4a">&#9670;&#160;</a></span>cur_cycle</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bc::flat_set&lt;<a class="el" href="structrgw__bucket__shard.html">rgw_bucket_shard</a>&gt; RGWDataChangesLog::cur_cycle</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition"><a class="el" href="rgw__datalog_8h_source.html">rgw_datalog.h</a> 파일의 <a class="el" href="rgw__datalog_8h_source.html#l00205">205</a> 번째 라인에서 정의되었습니다.</p>

</div>
</div>
<a id="a60808e8f273f2bea2fa9e5d4b00da1bc" name="a60808e8f273f2bea2fa9e5d4b00da1bc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a60808e8f273f2bea2fa9e5d4b00da1bc">&#9670;&#160;</a></span>DataLogBackends</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">friend RGWDataChangesLog::DataLogBackends</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition"><a class="el" href="rgw__datalog_8h_source.html">rgw_datalog.h</a> 파일의 <a class="el" href="rgw__datalog_8h_source.html#l00168">168</a> 번째 라인에서 정의되었습니다.</p>

</div>
</div>
<a id="acbe1b701edec8384ccf85fd3de0c9788" name="acbe1b701edec8384ccf85fd3de0c9788"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acbe1b701edec8384ccf85fd3de0c9788">&#9670;&#160;</a></span>down_flag</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::atomic&lt;bool&gt; RGWDataChangesLog::down_flag = { false }</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition"><a class="el" href="rgw__datalog_8h_source.html">rgw_datalog.h</a> 파일의 <a class="el" href="rgw__datalog_8h_source.html#l00190">190</a> 번째 라인에서 정의되었습니다.</p>
<div class="fragment"><div class="line"><span class="lineno">  190</span>{ <span class="keyword">false</span> };</div>
</div><!-- fragment -->
</div>
</div>
<a id="a9d3cba188026d2ba0dc2ae97da2a282a" name="a9d3cba188026d2ba0dc2ae97da2a282a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9d3cba188026d2ba0dc2ae97da2a282a">&#9670;&#160;</a></span>ioctx</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">librados::IoCtx RGWDataChangesLog::ioctx</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition"><a class="el" href="rgw__datalog_8h_source.html">rgw_datalog.h</a> 파일의 <a class="el" href="rgw__datalog_8h_source.html#l00170">170</a> 번째 라인에서 정의되었습니다.</p>

</div>
</div>
<a id="ae454d544a25cac814d002e6f40bdf1eb" name="ae454d544a25cac814d002e6f40bdf1eb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae454d544a25cac814d002e6f40bdf1eb">&#9670;&#160;</a></span>lock</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">ceph::mutex RGWDataChangesLog::lock = ceph::make_mutex(&quot;RGWDataChangesLog::lock&quot;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition"><a class="el" href="rgw__datalog_8h_source.html">rgw_datalog.h</a> 파일의 <a class="el" href="rgw__datalog_8h_source.html#l00185">185</a> 번째 라인에서 정의되었습니다.</p>

</div>
</div>
<a id="a8862ed62bc6d533e6e84484c4b8f98fe" name="a8862ed62bc6d533e6e84484c4b8f98fe"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8862ed62bc6d533e6e84484c4b8f98fe">&#9670;&#160;</a></span>modified_lock</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">ceph::shared_mutex RGWDataChangesLog::modified_lock</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<b>초기값:</b><div class="fragment"><div class="line">=</div>
<div class="line">    ceph::make_shared_mutex(<span class="stringliteral">&quot;RGWDataChangesLog::modified_lock&quot;</span>)</div>
</div><!-- fragment -->
<p class="definition"><a class="el" href="rgw__datalog_8h_source.html">rgw_datalog.h</a> 파일의 <a class="el" href="rgw__datalog_8h_source.html#l00186">186</a> 번째 라인에서 정의되었습니다.</p>

</div>
</div>
<a id="abb36e2e155d74eef5e89531315ef06e5" name="abb36e2e155d74eef5e89531315ef06e5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abb36e2e155d74eef5e89531315ef06e5">&#9670;&#160;</a></span>modified_shards</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bc::flat_map&lt;int, bc::flat_set&lt;std::string&gt; &gt; RGWDataChangesLog::modified_shards</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition"><a class="el" href="rgw__datalog_8h_source.html">rgw_datalog.h</a> 파일의 <a class="el" href="rgw__datalog_8h_source.html#l00188">188</a> 번째 라인에서 정의되었습니다.</p>

</div>
</div>
<a id="ad9344c62ed8a04be879f0fc45fc05352" name="ad9344c62ed8a04be879f0fc45fc05352"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad9344c62ed8a04be879f0fc45fc05352">&#9670;&#160;</a></span>num_shards</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const int RGWDataChangesLog::num_shards</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition"><a class="el" href="rgw__datalog_8h_source.html">rgw_datalog.h</a> 파일의 <a class="el" href="rgw__datalog_8h_source.html#l00175">175</a> 번째 라인에서 정의되었습니다.</p>

</div>
</div>
<a id="a1a87b9cdd0fc87950ab740aeebcc7d1a" name="a1a87b9cdd0fc87950ab740aeebcc7d1a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1a87b9cdd0fc87950ab740aeebcc7d1a">&#9670;&#160;</a></span>observer</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structrgw_1_1_bucket_change_observer.html">rgw::BucketChangeObserver</a>* RGWDataChangesLog::observer = nullptr</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition"><a class="el" href="rgw__datalog_8h_source.html">rgw_datalog.h</a> 파일의 <a class="el" href="rgw__datalog_8h_source.html#l00171">171</a> 번째 라인에서 정의되었습니다.</p>

</div>
</div>
<a id="ac58a3712bbfce3f07df02fcea1b49731" name="ac58a3712bbfce3f07df02fcea1b49731"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac58a3712bbfce3f07df02fcea1b49731">&#9670;&#160;</a></span>prefix</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::string RGWDataChangesLog::prefix</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition"><a class="el" href="rgw__datalog_8h_source.html">rgw_datalog.h</a> 파일의 <a class="el" href="rgw__datalog_8h_source.html#l00183">183</a> 번째 라인에서 정의되었습니다.</p>

</div>
</div>
<a id="a9f23abfeb0ac298943b4ebedc0f3ef7a" name="a9f23abfeb0ac298943b4ebedc0f3ef7a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9f23abfeb0ac298943b4ebedc0f3ef7a">&#9670;&#160;</a></span>renew_cond</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">ceph::condition_variable RGWDataChangesLog::renew_cond</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition"><a class="el" href="rgw__datalog_8h_source.html">rgw_datalog.h</a> 파일의 <a class="el" href="rgw__datalog_8h_source.html#l00212">212</a> 번째 라인에서 정의되었습니다.</p>

</div>
</div>
<a id="ae83720efaea6603783225da9d3d91ebe" name="ae83720efaea6603783225da9d3d91ebe"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae83720efaea6603783225da9d3d91ebe">&#9670;&#160;</a></span>renew_lock</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">ceph::mutex RGWDataChangesLog::renew_lock = ceph::make_mutex(&quot;ChangesRenewThread::lock&quot;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition"><a class="el" href="rgw__datalog_8h_source.html">rgw_datalog.h</a> 파일의 <a class="el" href="rgw__datalog_8h_source.html#l00211">211</a> 번째 라인에서 정의되었습니다.</p>

</div>
</div>
<a id="aad9062fd4055f82a5c7039c9d61f1625" name="aad9062fd4055f82a5c7039c9d61f1625"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aad9062fd4055f82a5c7039c9d61f1625">&#9670;&#160;</a></span>renew_thread</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::thread RGWDataChangesLog::renew_thread</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition"><a class="el" href="rgw__datalog_8h_source.html">rgw_datalog.h</a> 파일의 <a class="el" href="rgw__datalog_8h_source.html#l00215">215</a> 번째 라인에서 정의되었습니다.</p>

</div>
</div>
<a id="a7663620820fa69faceb66f9d235b74bc" name="a7663620820fa69faceb66f9d235b74bc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7663620820fa69faceb66f9d235b74bc">&#9670;&#160;</a></span>zone</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="struct_r_g_w_zone.html">RGWZone</a>* RGWDataChangesLog::zone</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition"><a class="el" href="rgw__datalog_8h_source.html">rgw_datalog.h</a> 파일의 <a class="el" href="rgw__datalog_8h_source.html#l00172">172</a> 번째 라인에서 정의되었습니다.</p>

</div>
</div>
<hr/>이 클래스에 대한 문서화 페이지는 다음의 파일들로부터 생성되었습니다.:<ul>
<li>D:/git/ceph/src/rgw/<a class="el" href="rgw__datalog_8h_source.html">rgw_datalog.h</a></li>
<li>D:/git/ceph/src/rgw/<a class="el" href="rgw__datalog_8cc_source.html">rgw_datalog.cc</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="class_r_g_w_data_changes_log.html">RGWDataChangesLog</a></li>
    <li class="footer">다음에 의해 생성됨 :  <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8 </li>
  </ul>
</div>
</body>
</html>
