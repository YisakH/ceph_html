<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="ko">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>My Project: TransitSecretEngine 클래스 참조</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">My Project
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- 다음에 의해 생성됨 :  Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','검색');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('class_transit_secret_engine.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">로딩중...</div>
<div class="SRStatus" id="Searching">검색중...</div>
<div class="SRStatus" id="NoMatches">일치하는것 없음</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public 멤버 함수</a> &#124;
<a href="#pub-attribs">Public 속성</a> &#124;
<a href="#pub-static-attribs">정적 Public 속성</a> &#124;
<a href="#pri-methods">Private 멤버 함수</a> &#124;
<a href="#pri-attribs">Private 속성</a> &#124;
<a href="class_transit_secret_engine-members.html">모든 멤버 목록</a>  </div>
  <div class="headertitle"><div class="title">TransitSecretEngine 클래스 참조</div></div>
</div><!--header-->
<div class="contents">
<div class="dynheader">
TransitSecretEngine에 대한 상속 다이어그램 : </div>
<div class="dyncontent">
<div class="center"><img src="class_transit_secret_engine__inherit__graph.png" border="0" usemap="#a_transit_secret_engine_inherit__map" alt="Inheritance graph"/></div>
<map name="a_transit_secret_engine_inherit__map" id="a_transit_secret_engine_inherit__map">
<area shape="rect" title=" " alt="" coords="5,368,189,688"/>
<area shape="rect" href="class_vault_secret_engine.html" title=" " alt="" coords="23,144,172,320"/>
<area shape="poly" title=" " alt="" coords="100,335,100,368,95,368,95,335"/>
<area shape="rect" href="class_secret_engine.html" title=" " alt="" coords="39,5,156,96"/>
<area shape="poly" title=" " alt="" coords="100,111,100,144,95,144,95,111"/>
</map>
</div>
<div class="dynheader">
TransitSecretEngine에 대한 협력 다이어그램:</div>
<div class="dyncontent">
<div class="center"><img src="class_transit_secret_engine__coll__graph.png" border="0" usemap="#a_transit_secret_engine_coll__map" alt="Collaboration graph"/></div>
<map name="a_transit_secret_engine_coll__map" id="a_transit_secret_engine_coll__map">
<area shape="rect" title=" " alt="" coords="41,577,225,897"/>
<area shape="rect" href="class_vault_secret_engine.html" title=" " alt="" coords="59,373,208,528"/>
<area shape="poly" title=" " alt="" coords="136,543,136,578,131,578,131,543"/>
<area shape="rect" href="class_secret_engine.html" title=" " alt="" coords="5,112,123,203"/>
<area shape="poly" title=" " alt="" coords="80,216,118,373,113,374,75,217"/>
<area shape="rect" href="class_s_s_e_context.html" title=" " alt="" coords="147,5,259,309"/>
<area shape="poly" title=" " alt="" coords="169,310,158,357,153,356,164,308"/>
</map>
</div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public 멤버 함수</h2></td></tr>
<tr class="memitem:ab014dabdabd26b3aa76197364d889b79" id="r_ab014dabdabd26b3aa76197364d889b79"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_transit_secret_engine.html#ab014dabdabd26b3aa76197364d889b79">TransitSecretEngine</a> (CephContext *<a class="el" href="class_vault_secret_engine.html#a3fa307aa5492638959c3cfa127659e23">cct</a>, <a class="el" href="class_s_s_e_context.html">SSEContext</a> &amp;<a class="el" href="class_vault_secret_engine.html#a6b03aec635dd7b6b09cb48dc8c655d0b">kctx</a>, <a class="el" href="rgw__kms_8cc.html#a122d80527169cdedb55335a1d3dbd732">EngineParmMap</a> <a class="el" href="class_transit_secret_engine.html#ac19d1cfcbc94ecf785ad069acf4490fd">parms</a>)</td></tr>
<tr class="separator:ab014dabdabd26b3aa76197364d889b79"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab2fd53b89319468f6450fe21e7ffd6b1" id="r_ab2fd53b89319468f6450fe21e7ffd6b1"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_transit_secret_engine.html#ab2fd53b89319468f6450fe21e7ffd6b1">get_key</a> (const DoutPrefixProvider *<a class="el" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>, std::string_view key_id, std::string &amp;actual_key)</td></tr>
<tr class="separator:ab2fd53b89319468f6450fe21e7ffd6b1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af9602ebec8e8e75b118010006d6f76ae" id="r_af9602ebec8e8e75b118010006d6f76ae"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_transit_secret_engine.html#af9602ebec8e8e75b118010006d6f76ae">make_actual_key</a> (const DoutPrefixProvider *<a class="el" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>, map&lt; string, bufferlist &gt; &amp;attrs, std::string &amp;actual_key)</td></tr>
<tr class="separator:af9602ebec8e8e75b118010006d6f76ae"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac57ec387b020eb0885ebf96c1808dfd2" id="r_ac57ec387b020eb0885ebf96c1808dfd2"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_transit_secret_engine.html#ac57ec387b020eb0885ebf96c1808dfd2">reconstitute_actual_key</a> (const DoutPrefixProvider *<a class="el" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>, map&lt; string, bufferlist &gt; &amp;attrs, std::string &amp;actual_key)</td></tr>
<tr class="separator:ac57ec387b020eb0885ebf96c1808dfd2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4ca62b49e59785b7fb278c48253b2949" id="r_a4ca62b49e59785b7fb278c48253b2949"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_transit_secret_engine.html#a4ca62b49e59785b7fb278c48253b2949">create_bucket_key</a> (const DoutPrefixProvider *<a class="el" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>, const std::string &amp;key_name)</td></tr>
<tr class="separator:a4ca62b49e59785b7fb278c48253b2949"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac1274a509f9b67963a0df2fd2c1a64fc" id="r_ac1274a509f9b67963a0df2fd2c1a64fc"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_transit_secret_engine.html#ac1274a509f9b67963a0df2fd2c1a64fc">delete_bucket_key</a> (const DoutPrefixProvider *<a class="el" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>, const std::string &amp;key_name)</td></tr>
<tr class="separator:ac1274a509f9b67963a0df2fd2c1a64fc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_class_vault_secret_engine"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_class_vault_secret_engine')"><img src="closed.png" alt="-"/>&#160;<a class="el" href="class_vault_secret_engine.html">VaultSecretEngine</a>(으)로부터 상속된 Public 멤버 함수</td></tr>
<tr class="memitem:ab1ec0b231d95ddab93c3363284bff2d8 inherit pub_methods_class_vault_secret_engine" id="r_ab1ec0b231d95ddab93c3363284bff2d8"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_vault_secret_engine.html#ab1ec0b231d95ddab93c3363284bff2d8">VaultSecretEngine</a> (CephContext *_c, <a class="el" href="class_s_s_e_context.html">SSEContext</a> &amp;_k)</td></tr>
<tr class="separator:ab1ec0b231d95ddab93c3363284bff2d8 inherit pub_methods_class_vault_secret_engine"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_class_secret_engine"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_class_secret_engine')"><img src="closed.png" alt="-"/>&#160;<a class="el" href="class_secret_engine.html">SecretEngine</a>(으)로부터 상속된 Public 멤버 함수</td></tr>
<tr class="memitem:a3bacf5d85cac8a6cd0433fd6ba240daf inherit pub_methods_class_secret_engine" id="r_a3bacf5d85cac8a6cd0433fd6ba240daf"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_secret_engine.html#a3bacf5d85cac8a6cd0433fd6ba240daf">~SecretEngine</a> ()</td></tr>
<tr class="separator:a3bacf5d85cac8a6cd0433fd6ba240daf inherit pub_methods_class_secret_engine"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-attribs" name="pub-attribs"></a>
Public 속성</h2></td></tr>
<tr class="memitem:ac835a18a53eb71bdb4dd3bd782b971aa" id="r_ac835a18a53eb71bdb4dd3bd782b971aa"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_transit_secret_engine.html#ac835a18a53eb71bdb4dd3bd782b971aa">compat</a></td></tr>
<tr class="separator:ac835a18a53eb71bdb4dd3bd782b971aa"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-static-attribs" name="pub-static-attribs"></a>
정적 Public 속성</h2></td></tr>
<tr class="memitem:aa0ffed3eadef34c0317d3ffc58c11e01" id="r_aa0ffed3eadef34c0317d3ffc58c11e01"><td class="memItemLeft" align="right" valign="top">static const int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_transit_secret_engine.html#aa0ffed3eadef34c0317d3ffc58c11e01">COMPAT_NEW_ONLY</a> = 0</td></tr>
<tr class="separator:aa0ffed3eadef34c0317d3ffc58c11e01"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abc06cf163aacbeb028303a94159b2f8f" id="r_abc06cf163aacbeb028303a94159b2f8f"><td class="memItemLeft" align="right" valign="top">static const int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_transit_secret_engine.html#abc06cf163aacbeb028303a94159b2f8f">COMPAT_OLD_AND_NEW</a> = 1</td></tr>
<tr class="separator:abc06cf163aacbeb028303a94159b2f8f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa9cc80cfb0b5a6ae434a00c4284d5fcd" id="r_aa9cc80cfb0b5a6ae434a00c4284d5fcd"><td class="memItemLeft" align="right" valign="top">static const int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_transit_secret_engine.html#aa9cc80cfb0b5a6ae434a00c4284d5fcd">COMPAT_ONLY_OLD</a> = 2</td></tr>
<tr class="separator:aa9cc80cfb0b5a6ae434a00c4284d5fcd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4c29369f7deb8794814df019c4bca74e" id="r_a4c29369f7deb8794814df019c4bca74e"><td class="memItemLeft" align="right" valign="top">static const int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_transit_secret_engine.html#a4c29369f7deb8794814df019c4bca74e">COMPAT_UNSET</a> = -1</td></tr>
<tr class="separator:a4c29369f7deb8794814df019c4bca74e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pri-methods" name="pri-methods"></a>
Private 멤버 함수</h2></td></tr>
<tr class="memitem:a1236ca20d3dcd94a5746576b35a135b0" id="r_a1236ca20d3dcd94a5746576b35a135b0"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_transit_secret_engine.html#a1236ca20d3dcd94a5746576b35a135b0">get_key_version</a> (std::string_view key_id, string &amp;version)</td></tr>
<tr class="separator:a1236ca20d3dcd94a5746576b35a135b0"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pri-attribs" name="pri-attribs"></a>
Private 속성</h2></td></tr>
<tr class="memitem:ac19d1cfcbc94ecf785ad069acf4490fd" id="r_ac19d1cfcbc94ecf785ad069acf4490fd"><td class="memItemLeft" align="right" valign="top"><a class="el" href="rgw__kms_8cc.html#a122d80527169cdedb55335a1d3dbd732">EngineParmMap</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_transit_secret_engine.html#ac19d1cfcbc94ecf785ad069acf4490fd">parms</a></td></tr>
<tr class="separator:ac19d1cfcbc94ecf785ad069acf4490fd"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="inherited" name="inherited"></a>
추가로 상속된 멤버들</h2></td></tr>
<tr class="inherit_header pro_methods_class_vault_secret_engine"><td colspan="2" onclick="javascript:toggleInherit('pro_methods_class_vault_secret_engine')"><img src="closed.png" alt="-"/>&#160;<a class="el" href="class_vault_secret_engine.html">VaultSecretEngine</a>(으)로부터 상속된 Protected 멤버 함수</td></tr>
<tr class="memitem:a8eb020a414a627058032342a99a29914 inherit pro_methods_class_vault_secret_engine" id="r_a8eb020a414a627058032342a99a29914"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_vault_secret_engine.html#a8eb020a414a627058032342a99a29914">load_token_from_file</a> (const DoutPrefixProvider *<a class="el" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>, std::string *vault_token)</td></tr>
<tr class="separator:a8eb020a414a627058032342a99a29914 inherit pro_methods_class_vault_secret_engine"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a21ddaddc49189fb68733634ce8d26467 inherit pro_methods_class_vault_secret_engine" id="r_a21ddaddc49189fb68733634ce8d26467"><td class="memItemLeft" align="right" valign="top"><a class="el" href="rgw__kms_8cc.html#aeb8f9214767cd15ebe775790b5981c6a">FORTEST_VIRTUAL</a> int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_vault_secret_engine.html#a21ddaddc49189fb68733634ce8d26467">send_request</a> (const DoutPrefixProvider *<a class="el" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>, const char *method, std::string_view infix, std::string_view key_id, const std::string &amp;postdata, bufferlist &amp;secret_bl)</td></tr>
<tr class="separator:a21ddaddc49189fb68733634ce8d26467 inherit pro_methods_class_vault_secret_engine"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae66dbd82cdf079ab6f2984e341ac7c99 inherit pro_methods_class_vault_secret_engine" id="r_ae66dbd82cdf079ab6f2984e341ac7c99"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_vault_secret_engine.html#ae66dbd82cdf079ab6f2984e341ac7c99">send_request</a> (const DoutPrefixProvider *<a class="el" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>, std::string_view key_id, bufferlist &amp;secret_bl)</td></tr>
<tr class="separator:ae66dbd82cdf079ab6f2984e341ac7c99 inherit pro_methods_class_vault_secret_engine"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a81860dab7305221bd54acd685b6c5337 inherit pro_methods_class_vault_secret_engine" id="r_a81860dab7305221bd54acd685b6c5337"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_vault_secret_engine.html#a81860dab7305221bd54acd685b6c5337">decode_secret</a> (const DoutPrefixProvider *<a class="el" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>, std::string encoded, std::string &amp;actual_key)</td></tr>
<tr class="separator:a81860dab7305221bd54acd685b6c5337 inherit pro_methods_class_vault_secret_engine"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pro_attribs_class_vault_secret_engine"><td colspan="2" onclick="javascript:toggleInherit('pro_attribs_class_vault_secret_engine')"><img src="closed.png" alt="-"/>&#160;<a class="el" href="class_vault_secret_engine.html">VaultSecretEngine</a>(으)로부터 상속된 Protected 속성</td></tr>
<tr class="memitem:a3fa307aa5492638959c3cfa127659e23 inherit pro_attribs_class_vault_secret_engine" id="r_a3fa307aa5492638959c3cfa127659e23"><td class="memItemLeft" align="right" valign="top">CephContext *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_vault_secret_engine.html#a3fa307aa5492638959c3cfa127659e23">cct</a></td></tr>
<tr class="separator:a3fa307aa5492638959c3cfa127659e23 inherit pro_attribs_class_vault_secret_engine"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6b03aec635dd7b6b09cb48dc8c655d0b inherit pro_attribs_class_vault_secret_engine" id="r_a6b03aec635dd7b6b09cb48dc8c655d0b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_s_s_e_context.html">SSEContext</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_vault_secret_engine.html#a6b03aec635dd7b6b09cb48dc8c655d0b">kctx</a></td></tr>
<tr class="separator:a6b03aec635dd7b6b09cb48dc8c655d0b inherit pro_attribs_class_vault_secret_engine"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">상세한 설명</h2>
<div class="textblock">
<p class="definition"><a class="el" href="rgw__kms_8cc_source.html">rgw_kms.cc</a> 파일의 <a class="el" href="rgw__kms_8cc_source.html#l00348">348</a> 번째 라인에서 정의되었습니다.</p>
</div><h2 class="groupheader">생성자 &amp; 소멸자 문서화</h2>
<a id="ab014dabdabd26b3aa76197364d889b79" name="ab014dabdabd26b3aa76197364d889b79"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab014dabdabd26b3aa76197364d889b79">&#9670;&#160;</a></span>TransitSecretEngine()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">TransitSecretEngine::TransitSecretEngine </td>
          <td>(</td>
          <td class="paramtype">CephContext *&#160;</td>
          <td class="paramname"><em>cct</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_s_s_e_context.html">SSEContext</a> &amp;&#160;</td>
          <td class="paramname"><em>kctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="rgw__kms_8cc.html#a122d80527169cdedb55335a1d3dbd732">EngineParmMap</a>&#160;</td>
          <td class="paramname"><em>parms</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition"><a class="el" href="rgw__kms_8cc_source.html">rgw_kms.cc</a> 파일의 <a class="el" href="rgw__kms_8cc_source.html#l00375">375</a> 번째 라인에서 정의되었습니다.</p>
<div class="fragment"><div class="line"><span class="lineno">  375</span>                                                                               : <a class="code hl_class" href="class_vault_secret_engine.html">VaultSecretEngine</a>(<a class="code hl_variable" href="class_vault_secret_engine.html#a3fa307aa5492638959c3cfa127659e23">cct</a>, <a class="code hl_variable" href="class_vault_secret_engine.html#a6b03aec635dd7b6b09cb48dc8c655d0b">kctx</a>), <a class="code hl_variable" href="class_transit_secret_engine.html#ac19d1cfcbc94ecf785ad069acf4490fd">parms</a>(<a class="code hl_variable" href="class_transit_secret_engine.html#ac19d1cfcbc94ecf785ad069acf4490fd">parms</a>) {</div>
<div class="line"><span class="lineno">  376</span>    <a class="code hl_variable" href="class_transit_secret_engine.html#ac835a18a53eb71bdb4dd3bd782b971aa">compat</a> = <a class="code hl_variable" href="class_transit_secret_engine.html#a4c29369f7deb8794814df019c4bca74e">COMPAT_UNSET</a>;</div>
<div class="line"><span class="lineno">  377</span>    <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp; e: <a class="code hl_variable" href="class_transit_secret_engine.html#ac19d1cfcbc94ecf785ad069acf4490fd">parms</a>) {</div>
<div class="line"><span class="lineno">  378</span>      <span class="keywordflow">if</span> (e.first == <span class="stringliteral">&quot;compat&quot;</span>) {</div>
<div class="line"><span class="lineno">  379</span>    <span class="keywordflow">if</span> (e.second.empty()) {</div>
<div class="line"><span class="lineno">  380</span>      <a class="code hl_variable" href="class_transit_secret_engine.html#ac835a18a53eb71bdb4dd3bd782b971aa">compat</a> = <a class="code hl_variable" href="class_transit_secret_engine.html#abc06cf163aacbeb028303a94159b2f8f">COMPAT_OLD_AND_NEW</a>;</div>
<div class="line"><span class="lineno">  381</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  382</span>      <span class="keywordtype">size_t</span> ep;</div>
<div class="line"><span class="lineno">  383</span> </div>
<div class="line"><span class="lineno">  384</span>      <a class="code hl_variable" href="class_transit_secret_engine.html#ac835a18a53eb71bdb4dd3bd782b971aa">compat</a> = std::stoi(e.second, &amp;ep);</div>
<div class="line"><span class="lineno">  385</span>      <span class="keywordflow">if</span> (ep != e.second.length()) {</div>
<div class="line"><span class="lineno">  386</span>        lderr(<a class="code hl_variable" href="class_vault_secret_engine.html#a3fa307aa5492638959c3cfa127659e23">cct</a>) &lt;&lt; <span class="stringliteral">&quot;warning: vault transit secrets engine : compat=&quot;</span></div>
<div class="line"><span class="lineno">  387</span>          &lt;&lt; e.second &lt;&lt; <span class="stringliteral">&quot; trailing junk? (ignored)&quot;</span> &lt;&lt; dendl;</div>
<div class="line"><span class="lineno">  388</span>      }</div>
<div class="line"><span class="lineno">  389</span>    }</div>
<div class="line"><span class="lineno">  390</span>    <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno">  391</span>      }</div>
<div class="line"><span class="lineno">  392</span>      lderr(<a class="code hl_variable" href="class_vault_secret_engine.html#a3fa307aa5492638959c3cfa127659e23">cct</a>) &lt;&lt; <span class="stringliteral">&quot;ERROR: vault transit secrets engine : parameter &quot;</span></div>
<div class="line"><span class="lineno">  393</span>    &lt;&lt; e.first &lt;&lt; <span class="stringliteral">&quot;=&quot;</span> &lt;&lt; e.second &lt;&lt; <span class="stringliteral">&quot; ignored&quot;</span> &lt;&lt; dendl;</div>
<div class="line"><span class="lineno">  394</span>    }</div>
<div class="line"><span class="lineno">  395</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="class_transit_secret_engine.html#ac835a18a53eb71bdb4dd3bd782b971aa">compat</a> == <a class="code hl_variable" href="class_transit_secret_engine.html#a4c29369f7deb8794814df019c4bca74e">COMPAT_UNSET</a>) {</div>
<div class="line"><span class="lineno">  396</span>      std::string_view v { <a class="code hl_variable" href="class_vault_secret_engine.html#a6b03aec635dd7b6b09cb48dc8c655d0b">kctx</a>.<a class="code hl_function" href="class_s_s_e_context.html#a7db6b0d790ab7b4fe42306f209416fcf">prefix</a>() };</div>
<div class="line"><span class="lineno">  397</span>      <span class="keywordflow">if</span> (<a class="code hl_function" href="rgw__kms_8cc.html#a208e8c451cd5aad4341eff8b0f301bcf">string_ends_maybe_slash</a>(v,<span class="stringliteral">&quot;/export/encryption-key&quot;</span>)) {</div>
<div class="line"><span class="lineno">  398</span>    <a class="code hl_variable" href="class_transit_secret_engine.html#ac835a18a53eb71bdb4dd3bd782b971aa">compat</a> = <a class="code hl_variable" href="class_transit_secret_engine.html#aa9cc80cfb0b5a6ae434a00c4284d5fcd">COMPAT_ONLY_OLD</a>;</div>
<div class="line"><span class="lineno">  399</span>      } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  400</span>    <a class="code hl_variable" href="class_transit_secret_engine.html#ac835a18a53eb71bdb4dd3bd782b971aa">compat</a> = <a class="code hl_variable" href="class_transit_secret_engine.html#aa0ffed3eadef34c0317d3ffc58c11e01">COMPAT_NEW_ONLY</a>;</div>
<div class="line"><span class="lineno">  401</span>      }</div>
<div class="line"><span class="lineno">  402</span>    }</div>
<div class="line"><span class="lineno">  403</span>  }</div>
<div class="ttc" id="aclass_s_s_e_context_html_a7db6b0d790ab7b4fe42306f209416fcf"><div class="ttname"><a href="class_s_s_e_context.html#a7db6b0d790ab7b4fe42306f209416fcf">SSEContext::prefix</a></div><div class="ttdeci">virtual const std::string &amp; prefix()=0</div></div>
<div class="ttc" id="aclass_transit_secret_engine_html_a4c29369f7deb8794814df019c4bca74e"><div class="ttname"><a href="class_transit_secret_engine.html#a4c29369f7deb8794814df019c4bca74e">TransitSecretEngine::COMPAT_UNSET</a></div><div class="ttdeci">static const int COMPAT_UNSET</div><div class="ttdef"><b>Definition</b> <a href="rgw__kms_8cc_source.html#l00354">rgw_kms.cc:354</a></div></div>
<div class="ttc" id="aclass_transit_secret_engine_html_aa0ffed3eadef34c0317d3ffc58c11e01"><div class="ttname"><a href="class_transit_secret_engine.html#aa0ffed3eadef34c0317d3ffc58c11e01">TransitSecretEngine::COMPAT_NEW_ONLY</a></div><div class="ttdeci">static const int COMPAT_NEW_ONLY</div><div class="ttdef"><b>Definition</b> <a href="rgw__kms_8cc_source.html#l00351">rgw_kms.cc:351</a></div></div>
<div class="ttc" id="aclass_transit_secret_engine_html_aa9cc80cfb0b5a6ae434a00c4284d5fcd"><div class="ttname"><a href="class_transit_secret_engine.html#aa9cc80cfb0b5a6ae434a00c4284d5fcd">TransitSecretEngine::COMPAT_ONLY_OLD</a></div><div class="ttdeci">static const int COMPAT_ONLY_OLD</div><div class="ttdef"><b>Definition</b> <a href="rgw__kms_8cc_source.html#l00353">rgw_kms.cc:353</a></div></div>
<div class="ttc" id="aclass_transit_secret_engine_html_abc06cf163aacbeb028303a94159b2f8f"><div class="ttname"><a href="class_transit_secret_engine.html#abc06cf163aacbeb028303a94159b2f8f">TransitSecretEngine::COMPAT_OLD_AND_NEW</a></div><div class="ttdeci">static const int COMPAT_OLD_AND_NEW</div><div class="ttdef"><b>Definition</b> <a href="rgw__kms_8cc_source.html#l00352">rgw_kms.cc:352</a></div></div>
<div class="ttc" id="aclass_transit_secret_engine_html_ac19d1cfcbc94ecf785ad069acf4490fd"><div class="ttname"><a href="class_transit_secret_engine.html#ac19d1cfcbc94ecf785ad069acf4490fd">TransitSecretEngine::parms</a></div><div class="ttdeci">EngineParmMap parms</div><div class="ttdef"><b>Definition</b> <a href="rgw__kms_8cc_source.html#l00357">rgw_kms.cc:357</a></div></div>
<div class="ttc" id="aclass_transit_secret_engine_html_ac835a18a53eb71bdb4dd3bd782b971aa"><div class="ttname"><a href="class_transit_secret_engine.html#ac835a18a53eb71bdb4dd3bd782b971aa">TransitSecretEngine::compat</a></div><div class="ttdeci">int compat</div><div class="ttdef"><b>Definition</b> <a href="rgw__kms_8cc_source.html#l00350">rgw_kms.cc:350</a></div></div>
<div class="ttc" id="aclass_vault_secret_engine_html"><div class="ttname"><a href="class_vault_secret_engine.html">VaultSecretEngine</a></div><div class="ttdef"><b>Definition</b> <a href="rgw__kms_8cc_source.html#l00201">rgw_kms.cc:201</a></div></div>
<div class="ttc" id="aclass_vault_secret_engine_html_a3fa307aa5492638959c3cfa127659e23"><div class="ttname"><a href="class_vault_secret_engine.html#a3fa307aa5492638959c3cfa127659e23">VaultSecretEngine::cct</a></div><div class="ttdeci">CephContext * cct</div><div class="ttdef"><b>Definition</b> <a href="rgw__kms_8cc_source.html#l00204">rgw_kms.cc:204</a></div></div>
<div class="ttc" id="aclass_vault_secret_engine_html_a6b03aec635dd7b6b09cb48dc8c655d0b"><div class="ttname"><a href="class_vault_secret_engine.html#a6b03aec635dd7b6b09cb48dc8c655d0b">VaultSecretEngine::kctx</a></div><div class="ttdeci">SSEContext &amp; kctx</div><div class="ttdef"><b>Definition</b> <a href="rgw__kms_8cc_source.html#l00205">rgw_kms.cc:205</a></div></div>
<div class="ttc" id="argw__kms_8cc_html_a208e8c451cd5aad4341eff8b0f301bcf"><div class="ttname"><a href="rgw__kms_8cc.html#a208e8c451cd5aad4341eff8b0f301bcf">string_ends_maybe_slash</a></div><div class="ttdeci">static bool string_ends_maybe_slash(std::string_view hay, std::string_view needle)</div><div class="ttdef"><b>Definition</b> <a href="rgw__kms_8cc_source.html#l00126">rgw_kms.cc:126</a></div></div>
</div><!-- fragment --><div class="dynheader">
이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="class_transit_secret_engine_ab014dabdabd26b3aa76197364d889b79_cgraph.png" border="0" usemap="#aclass_transit_secret_engine_ab014dabdabd26b3aa76197364d889b79_cgraph" alt=""/></div>
<map name="aclass_transit_secret_engine_ab014dabdabd26b3aa76197364d889b79_cgraph" id="aclass_transit_secret_engine_ab014dabdabd26b3aa76197364d889b79_cgraph">
<area shape="rect" title=" " alt="" coords="5,23,152,65"/>
<area shape="rect" href="class_s_s_e_context.html#a7db6b0d790ab7b4fe42306f209416fcf" title=" " alt="" coords="220,5,352,32"/>
<area shape="poly" title=" " alt="" coords="152,32,204,26,205,31,152,38"/>
<area shape="rect" href="rgw__kms_8cc.html#a208e8c451cd5aad4341eff8b0f301bcf" title=" " alt="" coords="200,56,372,83"/>
<area shape="poly" title=" " alt="" coords="152,50,185,54,184,60,152,56"/>
</map>
</div>

</div>
</div>
<h2 class="groupheader">멤버 함수 문서화</h2>
<a id="a4ca62b49e59785b7fb278c48253b2949" name="a4ca62b49e59785b7fb278c48253b2949"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4ca62b49e59785b7fb278c48253b2949">&#9670;&#160;</a></span>create_bucket_key()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int TransitSecretEngine::create_bucket_key </td>
          <td>(</td>
          <td class="paramtype">const DoutPrefixProvider *&#160;</td>
          <td class="paramname"><em>dpp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>key_name</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition"><a class="el" href="rgw__kms_8cc_source.html">rgw_kms.cc</a> 파일의 <a class="el" href="rgw__kms_8cc_source.html#l00615">615</a> 번째 라인에서 정의되었습니다.</p>
<div class="fragment"><div class="line"><span class="lineno">  616</span>  {</div>
<div class="line"><span class="lineno">  617</span><span class="comment">/*</span></div>
<div class="line"><span class="lineno">  618</span><span class="comment">    .data.ciphertext &lt;- (to-be) named attribute</span></div>
<div class="line"><span class="lineno">  619</span><span class="comment">    data: {&quot;type&quot;: &quot;chacha20-poly1305&quot;, &quot;derived&quot;: true}</span></div>
<div class="line"><span class="lineno">  620</span><span class="comment">    post to prefix + key_name</span></div>
<div class="line"><span class="lineno">  621</span><span class="comment">    empty output.</span></div>
<div class="line"><span class="lineno">  622</span><span class="comment">*/</span></div>
<div class="line"><span class="lineno">  623</span>    <a class="code hl_typedef" href="rgw__kms_8cc.html#aff3c2cc0e544fcb149909a4fabbbfa74">ZeroPoolDocument</a> d { rapidjson::kObjectType };</div>
<div class="line"><span class="lineno">  624</span>    <span class="keyword">auto</span> &amp;allocator { d.GetAllocator() };</div>
<div class="line"><span class="lineno">  625</span>    bufferlist dummy_bl;</div>
<div class="line"><span class="lineno">  626</span>    std::string chacha20_poly1305 { <span class="stringliteral">&quot;chacha20-poly1305&quot;</span> };</div>
<div class="line"><span class="lineno">  627</span> </div>
<div class="line"><span class="lineno">  628</span>    <a class="code hl_function" href="rgw__kms_8cc.html#ae5268633f9996eea42716e2de4037b13">add_name_val_to_obj</a>(<span class="stringliteral">&quot;type&quot;</span>, chacha20_poly1305, d, allocator);</div>
<div class="line"><span class="lineno">  629</span>    <a class="code hl_function" href="rgw__kms_8cc.html#ae5268633f9996eea42716e2de4037b13">add_name_val_to_obj</a>(<span class="stringliteral">&quot;derived&quot;</span>, <span class="keyword">true</span>, d, allocator);</div>
<div class="line"><span class="lineno">  630</span>    rapidjson::StringBuffer buf;</div>
<div class="line"><span class="lineno">  631</span>    rapidjson::Writer&lt;rapidjson::StringBuffer&gt; writer(buf);</div>
<div class="line"><span class="lineno">  632</span>    <span class="keywordflow">if</span> (!d.Accept(writer)) {</div>
<div class="line"><span class="lineno">  633</span>      ldpp_dout(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>, 0) &lt;&lt; <span class="stringliteral">&quot;ERROR: can&#39;t make json for vault&quot;</span> &lt;&lt; dendl;</div>
<div class="line"><span class="lineno">  634</span>      <span class="keywordflow">return</span> -EINVAL;</div>
<div class="line"><span class="lineno">  635</span>    }</div>
<div class="line"><span class="lineno">  636</span>    std::string post_data { buf.GetString() };</div>
<div class="line"><span class="lineno">  637</span> </div>
<div class="line"><span class="lineno">  638</span>    <span class="keywordtype">int</span> res = <a class="code hl_function" href="class_vault_secret_engine.html#a21ddaddc49189fb68733634ce8d26467">send_request</a>(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>, <span class="stringliteral">&quot;POST&quot;</span>, <span class="stringliteral">&quot;/keys/&quot;</span>, key_name,</div>
<div class="line"><span class="lineno">  639</span>    post_data, dummy_bl);</div>
<div class="line"><span class="lineno">  640</span>    <span class="keywordflow">if</span> (res &lt; 0) {</div>
<div class="line"><span class="lineno">  641</span>      <span class="keywordflow">return</span> res;</div>
<div class="line"><span class="lineno">  642</span>    }</div>
<div class="line"><span class="lineno">  643</span>    <span class="keywordflow">if</span> (dummy_bl.length() != 0) {</div>
<div class="line"><span class="lineno">  644</span>      ldpp_dout(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>, 0) &lt;&lt; <span class="stringliteral">&quot;ERROR: unexpected response from Vault making a key: &quot;</span></div>
<div class="line"><span class="lineno">  645</span>    &lt;&lt; dummy_bl</div>
<div class="line"><span class="lineno">  646</span>    &lt;&lt; dendl;</div>
<div class="line"><span class="lineno">  647</span>    }</div>
<div class="line"><span class="lineno">  648</span>    <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">  649</span>  }</div>
<div class="ttc" id="aclass_vault_secret_engine_html_a21ddaddc49189fb68733634ce8d26467"><div class="ttname"><a href="class_vault_secret_engine.html#a21ddaddc49189fb68733634ce8d26467">VaultSecretEngine::send_request</a></div><div class="ttdeci">FORTEST_VIRTUAL int send_request(const DoutPrefixProvider *dpp, const char *method, std::string_view infix, std::string_view key_id, const std::string &amp;postdata, bufferlist &amp;secret_bl)</div><div class="ttdef"><b>Definition</b> <a href="rgw__kms_8cc_source.html#l00251">rgw_kms.cc:251</a></div></div>
<div class="ttc" id="argw__admin_8cc_html_afe3e74bcdf0327f8777c02b83cfea5b5"><div class="ttname"><a href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a></div><div class="ttdeci">static const DoutPrefixProvider * dpp()</div><div class="ttdef"><b>Definition</b> <a href="rgw__admin_8cc_source.html#l00081">rgw_admin.cc:81</a></div></div>
<div class="ttc" id="argw__kms_8cc_html_ae5268633f9996eea42716e2de4037b13"><div class="ttname"><a href="rgw__kms_8cc.html#ae5268633f9996eea42716e2de4037b13">add_name_val_to_obj</a></div><div class="ttdeci">static void add_name_val_to_obj(std::string &amp;n, std::string &amp;v, rapidjson::GenericValue&lt; E, A &gt; &amp;d, A &amp;allocator)</div><div class="ttdef"><b>Definition</b> <a href="rgw__kms_8cc_source.html#l00143">rgw_kms.cc:143</a></div></div>
<div class="ttc" id="argw__kms_8cc_html_aff3c2cc0e544fcb149909a4fabbbfa74"><div class="ttname"><a href="rgw__kms_8cc.html#aff3c2cc0e544fcb149909a4fabbbfa74">ZeroPoolDocument</a></div><div class="ttdeci">rapidjson::GenericDocument&lt; rapidjson::UTF8&lt;&gt;, ZeroPoolAllocator, rapidjson::CrtAllocator &gt; ZeroPoolDocument</div><div class="ttdef"><b>Definition</b> <a href="rgw__kms_8cc_source.html#l00102">rgw_kms.cc:102</a></div></div>
</div><!-- fragment --><div class="dynheader">
이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="class_transit_secret_engine_a4ca62b49e59785b7fb278c48253b2949_cgraph.png" border="0" usemap="#aclass_transit_secret_engine_a4ca62b49e59785b7fb278c48253b2949_cgraph" alt=""/></div>
<map name="aclass_transit_secret_engine_a4ca62b49e59785b7fb278c48253b2949_cgraph" id="aclass_transit_secret_engine_a4ca62b49e59785b7fb278c48253b2949_cgraph">
<area shape="rect" title=" " alt="" coords="5,48,145,91"/>
<area shape="rect" href="rgw__kms_8cc.html#ae5268633f9996eea42716e2de4037b13" title=" " alt="" coords="193,5,338,32"/>
<area shape="poly" title=" " alt="" coords="144,48,197,34,198,39,146,53"/>
<area shape="rect" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5" title=" " alt="" coords="673,107,716,133"/>
<area shape="poly" title=" " alt="" coords="145,70,336,82,569,101,658,112,658,118,568,107,336,88,145,76"/>
<area shape="rect" href="class_vault_secret_engine.html#a21ddaddc49189fb68733634ce8d26467" title=" " alt="" coords="197,603,334,645"/>
<area shape="poly" title=" " alt="" coords="86,90,254,588,249,589,81,92"/>
<area shape="poly" title=" " alt="" coords="266,602,278,503,301,364,317,294,336,230,358,178,384,143,416,122,452,108,489,99,528,96,601,99,659,109,658,114,600,104,528,101,490,105,453,113,419,127,388,147,363,180,341,232,322,295,306,365,283,504,271,603"/>
<area shape="rect" href="class_s_s_e_context.html#a35609fc25555f9a458b2dd6a22c18cde" title=" " alt="" coords="414,157,540,184"/>
<area shape="poly" title=" " alt="" coords="263,602,265,526,270,473,279,416,294,357,316,298,345,243,384,194,399,183,402,187,388,198,350,246,320,300,299,358,284,417,275,474,270,526,268,602"/>
<area shape="rect" href="class_r_g_w_h_t_t_p_client.html#a8d4aa112a185bf07f192bea69b3c31fb" title=" " alt="" coords="393,208,561,251"/>
<area shape="poly" title=" " alt="" coords="265,602,271,537,290,446,305,397,325,348,351,302,384,261,386,259,390,263,388,264,356,305,330,350,310,399,295,447,277,538,270,603"/>
<area shape="rect" href="class_s_s_e_context.html#ac0affb02e7b7f1a40b3bb115858a993d" title=" " alt="" coords="414,275,540,301"/>
<area shape="poly" title=" " alt="" coords="266,602,274,544,294,466,309,424,329,383,354,345,384,311,398,301,401,306,388,315,358,348,334,386,314,426,299,467,280,545,271,603"/>
<area shape="rect" href="rgw__kms_8cc.html#a242cecf75d47f64b1de73858c54fb6f9" title=" " alt="" coords="437,325,518,352"/>
<area shape="poly" title=" " alt="" coords="268,602,279,552,301,488,335,420,358,389,384,362,401,351,420,344,422,348,404,356,388,366,362,393,340,423,306,490,284,554,273,603"/>
<area shape="rect" href="class_r_g_w_h_t_t_p_client.html#a8d89f57ce810c5320411cf2ddb01f339" title=" " alt="" coords="405,376,549,419"/>
<area shape="poly" title=" " alt="" coords="272,601,288,564,312,518,344,470,384,429,390,424,394,428,388,433,348,474,317,521,293,567,277,603"/>
<area shape="rect" href="class_s_s_e_context.html#a36821644035d6a926046b950ed65e6f1" title=" " alt="" coords="386,443,568,469"/>
<area shape="poly" title=" " alt="" coords="277,601,319,540,350,507,384,479,394,474,397,478,388,484,353,511,323,543,281,604"/>
<area shape="rect" href="class_vault_secret_engine.html#a8eb020a414a627058032342a99a29914" title=" " alt="" coords="408,493,547,536"/>
<area shape="poly" title=" " alt="" coords="296,600,337,573,385,546,397,540,399,545,387,550,340,577,298,604"/>
<area shape="rect" href="class_s_s_e_context.html#a7db6b0d790ab7b4fe42306f209416fcf" title=" " alt="" coords="411,560,543,587"/>
<area shape="poly" title=" " alt="" coords="334,605,403,588,404,593,335,610"/>
<area shape="rect" href="class_r_g_w_h_t_t_p_client.html#a38de0b9ceefce30a6003b12d562e425d" title=" " alt="" coords="391,611,563,637"/>
<area shape="poly" title=" " alt="" coords="335,621,376,621,376,627,335,627"/>
<area shape="rect" href="class_r_g_w_h_t_t_p_client.html#aa7b0d717e67e4242b73f7741381f1856" title=" " alt="" coords="405,661,549,704"/>
<area shape="poly" title=" " alt="" coords="335,640,391,656,389,661,334,646"/>
<area shape="rect" href="class_r_g_w_h_t_t_p_client.html#a7dcea71d200865dff0dfcd84328bf5ab" title=" " alt="" coords="405,728,549,771"/>
<area shape="poly" title=" " alt="" coords="292,644,335,679,387,714,397,719,394,723,385,718,332,683,289,648"/>
<area shape="rect" href="class_r_g_w_h_t_t_p_client.html#a8008f2d1b953f662a8eb5fe5e385851a" title=" " alt="" coords="405,795,549,837"/>
<area shape="poly" title=" " alt="" coords="280,644,322,711,352,748,388,781,393,784,390,789,384,785,348,752,317,714,275,647"/>
<area shape="rect" href="class_r_g_w_h_t_t_p_transceiver.html#abd8c12eaff4e72b22336e632826663fd" title=" " alt="" coords="402,861,552,904"/>
<area shape="poly" title=" " alt="" coords="275,645,289,688,312,742,345,798,365,824,388,847,392,850,388,855,384,851,361,828,340,801,307,744,284,689,270,647"/>
<area shape="rect" href="class_r_g_w_h_t_t_p_client.html#a340f32b14fc826866fe476175ceb2ed8" title=" " alt="" coords="405,928,549,971"/>
<area shape="poly" title=" " alt="" coords="272,645,282,699,303,771,318,809,337,847,360,883,388,914,394,919,390,923,384,918,356,886,333,850,314,811,298,773,277,700,267,646"/>
<area shape="rect" href="class_r_g_w_h_t_t_p_client.html#a1db09d373a335c53cf1fd6d6339b5feb" title=" " alt="" coords="405,995,549,1037"/>
<area shape="poly" title=" " alt="" coords="270,646,277,710,295,800,310,848,330,896,356,941,388,981,394,986,390,990,384,984,352,944,325,898,305,850,290,801,272,711,265,646"/>
<area shape="rect" href="class_s_s_e_context.html#acac13eefbf73e3012d7f6607705720f1" title=" " alt="" coords="397,1061,558,1088"/>
<area shape="poly" title=" " alt="" coords="269,646,270,722,275,773,285,830,299,888,321,946,350,1000,388,1048,391,1050,387,1054,384,1051,345,1003,316,948,294,890,279,831,270,774,265,722,263,646"/>
<area shape="rect" href="class_s_s_e_context.html#a3288cf381cc52282abf2805a614a2ffd" title=" " alt="" coords="388,1112,566,1139"/>
<area shape="poly" title=" " alt="" coords="272,645,285,742,310,879,326,948,344,1012,365,1063,388,1098,391,1101,387,1105,384,1102,360,1066,339,1013,320,949,304,880,280,743,267,646"/>
<area shape="rect" href="class_s_s_e_context.html#afca6c5ff839511f7f7185921fd0fd24d" title=" " alt="" coords="389,1163,566,1189"/>
<area shape="poly" title=" " alt="" coords="271,645,283,751,306,903,322,981,341,1052,363,1110,388,1149,391,1152,387,1155,384,1152,358,1112,336,1053,317,982,301,904,278,752,266,646"/>
<area shape="rect" href="class_s_s_e_context.html#ac2bf421e1be7cc18605373abe07e59d6" title=" " alt="" coords="400,1213,554,1240"/>
<area shape="poly" title=" " alt="" coords="271,645,281,760,303,927,319,1013,338,1092,361,1156,374,1181,388,1200,390,1202,387,1206,384,1203,370,1184,356,1158,333,1093,314,1014,298,928,276,761,266,646"/>
<area shape="poly" title=" " alt="" coords="546,495,567,479,598,441,624,397,644,351,660,304,680,216,689,149,694,150,685,217,665,305,649,353,629,400,602,444,570,483,549,499"/>
<area shape="rect" href="class_s_s_e_context.html#abaaaa496191b276cc38cb00b2319ccf0" title=" " alt="" coords="616,501,773,528"/>
<area shape="poly" title=" " alt="" coords="547,512,601,512,601,517,547,517"/>
<area shape="rect" href="class_r_g_w_h_t_t_p.html#adfb34d20b834f501e738cacd37dc8586" title=" " alt="" coords="625,611,764,637"/>
<area shape="poly" title=" " alt="" coords="564,621,609,621,609,627,564,627"/>
<area shape="rect" href="class_r_g_w_h_t_t_p.html#ac8ab575c584649a3aaa6c3391f918e3a" title=" " alt="" coords="835,584,956,611"/>
<area shape="poly" title=" " alt="" coords="764,612,819,605,820,610,765,617"/>
<area shape="rect" href="class_r_g_w_h_t_t_p_client.html#a7d489c6689cd946b572415111b0c97b5" title=" " alt="" coords="821,636,970,663"/>
<area shape="poly" title=" " alt="" coords="765,630,805,635,805,641,764,635"/>
<area shape="rect" href="class_r_g_w_h_t_t_p_manager.html#a12fb23d99e733aa22fdfd983c7581698" title=" " alt="" coords="1018,503,1182,545"/>
<area shape="poly" title=" " alt="" coords="934,581,1023,549,1025,554,936,586"/>
<area shape="rect" href="class_r_g_w_h_t_t_p_manager.html#a16579a72dddb523cd5bdbf2957d22ef8" title=" " alt="" coords="1237,269,1410,312"/>
<area shape="poly" title=" " alt="" coords="1108,501,1125,463,1151,415,1186,365,1229,322,1233,318,1237,323,1232,326,1190,369,1156,418,1130,465,1112,503"/>
<area shape="rect" href="class_r_g_w_i_o_provider.html#a2bbd769b91d0d58e2d9ececade3a7c50" title=" " alt="" coords="1254,336,1393,379"/>
<area shape="poly" title=" " alt="" coords="1115,500,1162,445,1194,415,1229,388,1239,383,1242,387,1232,393,1198,419,1166,449,1119,504"/>
<area shape="rect" href="class_r_g_w_h_t_t_p_client.html#aa52a4d1d70d05fd7eb868df48bfc1c40" title=" " alt="" coords="1251,403,1396,445"/>
<area shape="poly" title=" " alt="" coords="1139,500,1229,455,1243,449,1245,454,1231,460,1142,505"/>
<area shape="rect" href="class_r_g_w_h_t_t_p_client.html#a8bbd7cf32732770e498d9c7e1033f519" title=" " alt="" coords="1252,536,1395,579"/>
<area shape="poly" title=" " alt="" coords="1183,534,1237,542,1236,547,1182,539"/>
<area shape="rect" href="class_r_g_w_h_t_t_p_manager.html#abb00c0a30c2ba9bfe83084e56e5dc897" title=" " alt="" coords="1242,469,1405,512"/>
<area shape="poly" title=" " alt="" coords="1182,509,1226,503,1227,508,1183,514"/>
<area shape="rect" href="class_r_g_w_h_t_t_p_manager.html#ae187bc0e80bace76ab6b7597491a73fb" title=" " alt="" coords="1230,603,1417,645"/>
<area shape="poly" title=" " alt="" coords="1142,543,1231,588,1245,594,1243,599,1229,593,1139,548"/>
<area shape="rect" href="class_r_g_w_h_t_t_p_manager.html#a3e3fd00dfa67812b4be7d3e5b80f126d" title=" " alt="" coords="1235,669,1412,712"/>
<area shape="poly" title=" " alt="" coords="1119,544,1166,599,1198,629,1232,655,1239,660,1237,664,1229,660,1194,633,1162,603,1115,548"/>
<area shape="rect" href="class_r_g_w_h_t_t_p_manager.html#ade749005387f5e6a4de36d5112ce54f0" title=" " alt="" coords="1465,245,1661,288"/>
<area shape="poly" title=" " alt="" coords="1410,279,1449,275,1449,281,1411,285"/>
<area shape="rect" href="structrgw__http__req__data.html#ad2784ed636d8d248f1672b72c1bb5c60" title=" " alt="" coords="1495,312,1631,355"/>
<area shape="poly" title=" " alt="" coords="1411,304,1480,316,1479,321,1410,309"/>
<area shape="rect" href="class_r_g_w_h_t_t_p_manager.html#a72d1ddecbb2ae3410f56cccdf808ff61" title=" " alt="" coords="1709,245,1912,288"/>
<area shape="poly" title=" " alt="" coords="1661,264,1693,264,1693,269,1661,269"/>
<area shape="rect" href="rgw__http__client_8cc.html#ab7859bda17f141d13fe54268d1619463" title=" " alt="" coords="1736,316,1886,343"/>
<area shape="poly" title=" " alt="" coords="1631,330,1720,328,1720,333,1631,335"/>
<area shape="rect" href="class_r_g_w_h_t_t_p_client.html#a7dbbd157e3261cd05438c773202c55c2" title=" " alt="" coords="1739,367,1883,409"/>
<area shape="poly" title=" " alt="" coords="1632,346,1724,366,1723,371,1631,351"/>
<area shape="rect" href="rgw__http__client_8cc.html#ab7a03eacc0f5a844c234c3dfc09dda2e" title=" " alt="" coords="1502,465,1624,492"/>
<area shape="poly" title=" " alt="" coords="1385,533,1416,522,1464,501,1488,494,1489,499,1466,507,1418,526,1387,538"/>
<area shape="rect" href="structrgw__http__req__data.html#af6cbebaa0a8812948d6d46938eade1c0" title=" " alt="" coords="1495,399,1631,441"/>
<area shape="poly" title=" " alt="" coords="1394,535,1415,522,1430,505,1438,487,1446,469,1463,451,1479,441,1482,445,1466,455,1451,472,1443,490,1435,508,1418,526,1397,539"/>
<area shape="rect" href="rgw__http__client_8cc.html#accc2196bc3f5081dc39a8e6c8a045c3e" title=" " alt="" coords="1505,516,1621,543"/>
<area shape="poly" title=" " alt="" coords="1395,546,1489,535,1489,541,1396,552"/>
<area shape="rect" href="rgw__http__client_8cc.html#a83802c1e67d9393048491932a74006bf" title=" " alt="" coords="1500,567,1626,593"/>
<area shape="poly" title=" " alt="" coords="1395,561,1484,570,1484,575,1395,567"/>
<area shape="rect" href="class_r_g_w_h_t_t_p_client.html#af5c3637b14b2ba94d473c5cd5fdace00" title=" " alt="" coords="1480,617,1646,660"/>
<area shape="poly" title=" " alt="" coords="1389,577,1484,609,1482,614,1387,582"/>
<area shape="rect" href="class_r_g_w_h_t_t_p_client.html#a9629077d9c96442434da1d5dee6880cb" title=" " alt="" coords="1480,684,1646,727"/>
<area shape="poly" title=" " alt="" coords="1397,575,1418,589,1436,610,1443,631,1450,651,1467,670,1471,673,1468,678,1463,674,1446,653,1438,632,1431,612,1415,593,1394,580"/>
<area shape="rect" href="class_r_g_w_h_t_t_p_client.html#a99088a5023d90e504e378e44f8636a60" title=" " alt="" coords="1486,751,1640,793"/>
<area shape="poly" title=" " alt="" coords="1397,573,1419,589,1433,608,1440,627,1443,665,1446,701,1453,719,1467,737,1475,744,1471,748,1463,740,1448,721,1441,702,1438,665,1435,628,1428,611,1415,593,1394,577"/>
<area shape="rect" href="class_r_g_w_curl_handles.html#a64b50bbd63a99c62352222d2ea940fac" title=" " alt="" coords="1736,457,1885,500"/>
<area shape="poly" title=" " alt="" coords="1624,476,1721,476,1721,481,1624,481"/>
<area shape="poly" title=" " alt="" coords="1398,466,1480,442,1481,447,1399,471"/>
<area shape="rect" href="structrgw__http__req__data.html#a2cb0db213911deffc4b43a81a37098b5" title=" " alt="" coords="1021,640,1179,667"/>
<area shape="poly" title=" " alt="" coords="970,648,1005,649,1005,654,970,653"/>
<area shape="rect" href="structrgw__http__req__data.html#a5d6962235aabed5aabe98213b486ccb1" title=" " alt="" coords="1256,736,1391,779"/>
<area shape="poly" title=" " alt="" coords="1126,665,1174,692,1231,722,1245,727,1243,732,1229,726,1171,697,1123,670"/>
</map>
</div>
<div class="dynheader">
이 함수를 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="class_transit_secret_engine_a4ca62b49e59785b7fb278c48253b2949_icgraph.png" border="0" usemap="#aclass_transit_secret_engine_a4ca62b49e59785b7fb278c48253b2949_icgraph" alt=""/></div>
<map name="aclass_transit_secret_engine_a4ca62b49e59785b7fb278c48253b2949_icgraph" id="aclass_transit_secret_engine_a4ca62b49e59785b7fb278c48253b2949_icgraph">
<area shape="rect" title=" " alt="" coords="881,72,1020,115"/>
<area shape="rect" href="rgw__kms_8cc.html#a087bd18f72d78135b349d958fcbfff96" title=" " alt="" coords="652,80,833,107"/>
<area shape="poly" title=" " alt="" coords="865,96,833,96,833,91,865,91"/>
<area shape="rect" href="rgw__crypt_8cc.html#a7a44f988f8c3329733f06e72d263666a" title=" " alt="" coords="442,80,604,107"/>
<area shape="poly" title=" " alt="" coords="637,96,605,96,605,91,637,91"/>
<area shape="rect" href="rgw__crypt_8cc.html#a644bbfaccd952cddc83967e91f89caf5" title=" " alt="" coords="232,80,394,107"/>
<area shape="poly" title=" " alt="" coords="427,96,395,96,395,91,427,91"/>
<area shape="rect" href="class_r_g_w_put_obj___obj_store___s3.html#aac43ef6294ae6f90061fa06e560dfc0a" title=" " alt="" coords="19,5,170,48"/>
<area shape="poly" title=" " alt="" coords="251,77,166,51,168,46,253,72"/>
<area shape="rect" href="class_r_g_w_post_obj___obj_store___s3.html#ae2c71dfde7f4e10024b6cf4d766f480b" title=" " alt="" coords="15,72,174,115"/>
<area shape="poly" title=" " alt="" coords="216,96,174,96,174,91,216,91"/>
<area shape="rect" href="class_r_g_w_init_multipart___obj_store___s3.html#aec0b31cd487b8d8ce2a61b7d71072713" title=" " alt="" coords="5,139,184,181"/>
<area shape="poly" title=" " alt="" coords="253,114,168,141,166,135,251,109"/>
</map>
</div>

</div>
</div>
<a id="ac1274a509f9b67963a0df2fd2c1a64fc" name="ac1274a509f9b67963a0df2fd2c1a64fc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac1274a509f9b67963a0df2fd2c1a64fc">&#9670;&#160;</a></span>delete_bucket_key()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int TransitSecretEngine::delete_bucket_key </td>
          <td>(</td>
          <td class="paramtype">const DoutPrefixProvider *&#160;</td>
          <td class="paramname"><em>dpp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>key_name</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition"><a class="el" href="rgw__kms_8cc_source.html">rgw_kms.cc</a> 파일의 <a class="el" href="rgw__kms_8cc_source.html#l00651">651</a> 번째 라인에서 정의되었습니다.</p>
<div class="fragment"><div class="line"><span class="lineno">  652</span>  {</div>
<div class="line"><span class="lineno">  653</span><span class="comment">/*</span></div>
<div class="line"><span class="lineno">  654</span><span class="comment">    /keys/&lt;keyname&gt;/config</span></div>
<div class="line"><span class="lineno">  655</span><span class="comment">    data: {&quot;deletion_allowed&quot;: true}</span></div>
<div class="line"><span class="lineno">  656</span><span class="comment">    post to prefix + key_name</span></div>
<div class="line"><span class="lineno">  657</span><span class="comment">    empty output.</span></div>
<div class="line"><span class="lineno">  658</span><span class="comment">*/</span></div>
<div class="line"><span class="lineno">  659</span>    <a class="code hl_typedef" href="rgw__kms_8cc.html#aff3c2cc0e544fcb149909a4fabbbfa74">ZeroPoolDocument</a> d { rapidjson::kObjectType };</div>
<div class="line"><span class="lineno">  660</span>    <span class="keyword">auto</span> &amp;allocator { d.GetAllocator() };</div>
<div class="line"><span class="lineno">  661</span>    bufferlist dummy_bl;</div>
<div class="line"><span class="lineno">  662</span>    std::ostringstream path_temp;</div>
<div class="line"><span class="lineno">  663</span>    path_temp &lt;&lt; <span class="stringliteral">&quot;/keys/&quot;</span>;</div>
<div class="line"><span class="lineno">  664</span>    path_temp &lt;&lt; key_name;</div>
<div class="line"><span class="lineno">  665</span>    std::string delete_path { path_temp.str() };</div>
<div class="line"><span class="lineno">  666</span>    path_temp &lt;&lt; <span class="stringliteral">&quot;/config&quot;</span>;</div>
<div class="line"><span class="lineno">  667</span>    std::string config_path { path_temp.str() };</div>
<div class="line"><span class="lineno">  668</span> </div>
<div class="line"><span class="lineno">  669</span>    <a class="code hl_function" href="rgw__kms_8cc.html#ae5268633f9996eea42716e2de4037b13">add_name_val_to_obj</a>(<span class="stringliteral">&quot;deletion_allowed&quot;</span>, <span class="keyword">true</span>, d, allocator);</div>
<div class="line"><span class="lineno">  670</span>    rapidjson::StringBuffer buf;</div>
<div class="line"><span class="lineno">  671</span>    rapidjson::Writer&lt;rapidjson::StringBuffer&gt; writer(buf);</div>
<div class="line"><span class="lineno">  672</span>    <span class="keywordflow">if</span> (!d.Accept(writer)) {</div>
<div class="line"><span class="lineno">  673</span>      ldpp_dout(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>, 0) &lt;&lt; <span class="stringliteral">&quot;ERROR: can&#39;t make json for vault&quot;</span> &lt;&lt; dendl;</div>
<div class="line"><span class="lineno">  674</span>      <span class="keywordflow">return</span> -EINVAL;</div>
<div class="line"><span class="lineno">  675</span>    }</div>
<div class="line"><span class="lineno">  676</span>    std::string post_data { buf.GetString() };</div>
<div class="line"><span class="lineno">  677</span> </div>
<div class="line"><span class="lineno">  678</span>    <span class="keywordtype">int</span> res = <a class="code hl_function" href="class_vault_secret_engine.html#a21ddaddc49189fb68733634ce8d26467">send_request</a>(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>, <span class="stringliteral">&quot;POST&quot;</span>, <span class="stringliteral">&quot;&quot;</span>, config_path,</div>
<div class="line"><span class="lineno">  679</span>    post_data, dummy_bl);</div>
<div class="line"><span class="lineno">  680</span>    <span class="keywordflow">if</span> (res &lt; 0) {</div>
<div class="line"><span class="lineno">  681</span>      <span class="keywordflow">return</span> res;</div>
<div class="line"><span class="lineno">  682</span>    }</div>
<div class="line"><span class="lineno">  683</span>    <span class="keywordflow">if</span> (dummy_bl.length() != 0) {</div>
<div class="line"><span class="lineno">  684</span>      ldpp_dout(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>, 0) &lt;&lt; <span class="stringliteral">&quot;ERROR: unexpected response from Vault marking key to delete: &quot;</span></div>
<div class="line"><span class="lineno">  685</span>    &lt;&lt; dummy_bl</div>
<div class="line"><span class="lineno">  686</span>    &lt;&lt; dendl;</div>
<div class="line"><span class="lineno">  687</span>      <span class="keywordflow">return</span> -EINVAL;</div>
<div class="line"><span class="lineno">  688</span>    }</div>
<div class="line"><span class="lineno">  689</span> </div>
<div class="line"><span class="lineno">  690</span>    res = <a class="code hl_function" href="class_vault_secret_engine.html#a21ddaddc49189fb68733634ce8d26467">send_request</a>(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>, <span class="stringliteral">&quot;DELETE&quot;</span>, <span class="stringliteral">&quot;&quot;</span>, delete_path,</div>
<div class="line"><span class="lineno">  691</span>    <span class="keywordtype">string</span>{}, dummy_bl);</div>
<div class="line"><span class="lineno">  692</span>    <span class="keywordflow">if</span> (res &lt; 0) {</div>
<div class="line"><span class="lineno">  693</span>      <span class="keywordflow">return</span> res;</div>
<div class="line"><span class="lineno">  694</span>    }</div>
<div class="line"><span class="lineno">  695</span>    <span class="keywordflow">if</span> (dummy_bl.length() != 0) {</div>
<div class="line"><span class="lineno">  696</span>      ldpp_dout(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>, 0) &lt;&lt; <span class="stringliteral">&quot;ERROR: unexpected response from Vault deleting key: &quot;</span></div>
<div class="line"><span class="lineno">  697</span>    &lt;&lt; dummy_bl</div>
<div class="line"><span class="lineno">  698</span>    &lt;&lt; dendl;</div>
<div class="line"><span class="lineno">  699</span>      <span class="keywordflow">return</span> -EINVAL;</div>
<div class="line"><span class="lineno">  700</span>    }</div>
<div class="line"><span class="lineno">  701</span>    <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">  702</span>  }</div>
</div><!-- fragment --><div class="dynheader">
이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="class_transit_secret_engine_ac1274a509f9b67963a0df2fd2c1a64fc_cgraph.png" border="0" usemap="#aclass_transit_secret_engine_ac1274a509f9b67963a0df2fd2c1a64fc_cgraph" alt=""/></div>
<map name="aclass_transit_secret_engine_ac1274a509f9b67963a0df2fd2c1a64fc_cgraph" id="aclass_transit_secret_engine_ac1274a509f9b67963a0df2fd2c1a64fc_cgraph">
<area shape="rect" title=" " alt="" coords="5,48,144,91"/>
<area shape="rect" href="rgw__kms_8cc.html#ae5268633f9996eea42716e2de4037b13" title=" " alt="" coords="192,5,337,32"/>
<area shape="poly" title=" " alt="" coords="143,48,196,34,198,39,145,53"/>
<area shape="rect" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5" title=" " alt="" coords="672,107,715,133"/>
<area shape="poly" title=" " alt="" coords="144,70,335,82,568,101,657,112,657,118,567,107,335,87,144,76"/>
<area shape="rect" href="class_vault_secret_engine.html#a21ddaddc49189fb68733634ce8d26467" title=" " alt="" coords="196,603,333,645"/>
<area shape="poly" title=" " alt="" coords="86,90,254,588,248,589,81,92"/>
<area shape="poly" title=" " alt="" coords="265,602,277,503,300,364,316,294,335,230,357,178,383,143,415,122,451,108,488,99,527,96,600,99,658,109,657,114,599,104,527,101,489,105,452,113,418,127,387,147,362,180,340,232,321,295,305,365,282,504,270,603"/>
<area shape="rect" href="class_s_s_e_context.html#a35609fc25555f9a458b2dd6a22c18cde" title=" " alt="" coords="413,157,539,184"/>
<area shape="poly" title=" " alt="" coords="262,602,264,526,269,473,278,416,293,357,315,298,344,243,383,194,398,183,401,187,387,198,349,246,319,300,298,358,283,417,274,474,269,526,267,602"/>
<area shape="rect" href="class_r_g_w_h_t_t_p_client.html#a8d4aa112a185bf07f192bea69b3c31fb" title=" " alt="" coords="392,208,560,251"/>
<area shape="poly" title=" " alt="" coords="264,602,270,537,289,446,304,397,324,348,350,302,383,261,385,259,389,263,387,264,355,305,329,350,309,399,294,447,276,538,269,603"/>
<area shape="rect" href="class_s_s_e_context.html#ac0affb02e7b7f1a40b3bb115858a993d" title=" " alt="" coords="413,275,539,301"/>
<area shape="poly" title=" " alt="" coords="265,602,273,544,293,466,308,424,328,383,353,345,383,311,397,301,400,306,387,315,357,348,333,386,313,426,298,467,279,545,270,603"/>
<area shape="rect" href="rgw__kms_8cc.html#a242cecf75d47f64b1de73858c54fb6f9" title=" " alt="" coords="436,325,517,352"/>
<area shape="poly" title=" " alt="" coords="267,602,278,552,300,488,334,420,357,389,383,362,400,351,419,344,421,348,403,356,387,366,361,393,339,423,305,490,283,554,272,603"/>
<area shape="rect" href="class_r_g_w_h_t_t_p_client.html#a8d89f57ce810c5320411cf2ddb01f339" title=" " alt="" coords="404,376,548,419"/>
<area shape="poly" title=" " alt="" coords="271,601,287,564,311,518,343,470,383,429,389,424,393,428,387,433,347,474,316,521,292,567,276,603"/>
<area shape="rect" href="class_s_s_e_context.html#a36821644035d6a926046b950ed65e6f1" title=" " alt="" coords="385,443,567,469"/>
<area shape="poly" title=" " alt="" coords="276,601,318,540,349,507,383,479,393,474,396,478,387,484,352,511,322,543,280,604"/>
<area shape="rect" href="class_vault_secret_engine.html#a8eb020a414a627058032342a99a29914" title=" " alt="" coords="407,493,546,536"/>
<area shape="poly" title=" " alt="" coords="295,600,336,573,384,546,396,540,398,545,386,550,339,577,297,604"/>
<area shape="rect" href="class_s_s_e_context.html#a7db6b0d790ab7b4fe42306f209416fcf" title=" " alt="" coords="410,560,542,587"/>
<area shape="poly" title=" " alt="" coords="333,605,402,588,403,593,334,610"/>
<area shape="rect" href="class_r_g_w_h_t_t_p_client.html#a38de0b9ceefce30a6003b12d562e425d" title=" " alt="" coords="390,611,562,637"/>
<area shape="poly" title=" " alt="" coords="334,621,375,621,375,627,334,627"/>
<area shape="rect" href="class_r_g_w_h_t_t_p_client.html#aa7b0d717e67e4242b73f7741381f1856" title=" " alt="" coords="404,661,548,704"/>
<area shape="poly" title=" " alt="" coords="334,640,390,656,388,661,333,646"/>
<area shape="rect" href="class_r_g_w_h_t_t_p_client.html#a7dcea71d200865dff0dfcd84328bf5ab" title=" " alt="" coords="404,728,548,771"/>
<area shape="poly" title=" " alt="" coords="291,644,334,679,386,714,396,719,393,723,384,718,331,683,288,648"/>
<area shape="rect" href="class_r_g_w_h_t_t_p_client.html#a8008f2d1b953f662a8eb5fe5e385851a" title=" " alt="" coords="404,795,548,837"/>
<area shape="poly" title=" " alt="" coords="279,644,321,711,351,748,387,781,392,784,389,789,383,785,347,752,316,714,274,647"/>
<area shape="rect" href="class_r_g_w_h_t_t_p_transceiver.html#abd8c12eaff4e72b22336e632826663fd" title=" " alt="" coords="401,861,551,904"/>
<area shape="poly" title=" " alt="" coords="274,645,288,688,311,742,344,798,364,824,387,847,391,850,387,855,383,851,360,828,339,801,306,744,283,689,269,647"/>
<area shape="rect" href="class_r_g_w_h_t_t_p_client.html#a340f32b14fc826866fe476175ceb2ed8" title=" " alt="" coords="404,928,548,971"/>
<area shape="poly" title=" " alt="" coords="271,645,281,699,302,771,317,809,336,847,359,883,387,914,393,919,389,923,383,918,355,886,332,850,313,811,297,773,276,700,266,646"/>
<area shape="rect" href="class_r_g_w_h_t_t_p_client.html#a1db09d373a335c53cf1fd6d6339b5feb" title=" " alt="" coords="404,995,548,1037"/>
<area shape="poly" title=" " alt="" coords="269,646,276,710,294,800,309,848,329,896,355,941,387,981,393,986,389,990,383,984,351,944,324,898,304,850,289,801,271,711,264,646"/>
<area shape="rect" href="class_s_s_e_context.html#acac13eefbf73e3012d7f6607705720f1" title=" " alt="" coords="396,1061,557,1088"/>
<area shape="poly" title=" " alt="" coords="268,646,269,722,274,773,284,830,298,888,320,946,349,1000,387,1048,390,1050,386,1054,383,1051,344,1003,315,948,293,890,278,831,269,774,264,722,262,646"/>
<area shape="rect" href="class_s_s_e_context.html#a3288cf381cc52282abf2805a614a2ffd" title=" " alt="" coords="387,1112,565,1139"/>
<area shape="poly" title=" " alt="" coords="271,645,284,742,309,879,325,948,343,1012,364,1063,387,1098,390,1101,386,1105,383,1102,359,1066,338,1013,319,949,303,880,279,743,266,646"/>
<area shape="rect" href="class_s_s_e_context.html#afca6c5ff839511f7f7185921fd0fd24d" title=" " alt="" coords="388,1163,565,1189"/>
<area shape="poly" title=" " alt="" coords="270,645,282,751,305,903,321,981,340,1052,362,1110,387,1149,390,1152,386,1155,383,1152,357,1112,335,1053,316,982,300,904,277,752,265,646"/>
<area shape="rect" href="class_s_s_e_context.html#ac2bf421e1be7cc18605373abe07e59d6" title=" " alt="" coords="399,1213,553,1240"/>
<area shape="poly" title=" " alt="" coords="270,645,280,760,302,927,318,1013,337,1092,360,1156,373,1181,387,1200,389,1202,386,1206,383,1203,369,1184,355,1158,332,1093,313,1014,297,928,275,761,265,646"/>
<area shape="poly" title=" " alt="" coords="545,495,566,479,597,441,623,397,643,351,659,304,679,216,688,149,693,150,684,217,664,305,648,353,628,400,601,444,569,483,548,499"/>
<area shape="rect" href="class_s_s_e_context.html#abaaaa496191b276cc38cb00b2319ccf0" title=" " alt="" coords="615,501,772,528"/>
<area shape="poly" title=" " alt="" coords="546,512,600,512,600,517,546,517"/>
<area shape="rect" href="class_r_g_w_h_t_t_p.html#adfb34d20b834f501e738cacd37dc8586" title=" " alt="" coords="624,611,763,637"/>
<area shape="poly" title=" " alt="" coords="563,621,608,621,608,627,563,627"/>
<area shape="rect" href="class_r_g_w_h_t_t_p.html#ac8ab575c584649a3aaa6c3391f918e3a" title=" " alt="" coords="834,584,955,611"/>
<area shape="poly" title=" " alt="" coords="763,612,818,605,819,610,764,617"/>
<area shape="rect" href="class_r_g_w_h_t_t_p_client.html#a7d489c6689cd946b572415111b0c97b5" title=" " alt="" coords="820,636,969,663"/>
<area shape="poly" title=" " alt="" coords="764,630,804,635,804,641,763,635"/>
<area shape="rect" href="class_r_g_w_h_t_t_p_manager.html#a12fb23d99e733aa22fdfd983c7581698" title=" " alt="" coords="1017,503,1181,545"/>
<area shape="poly" title=" " alt="" coords="933,581,1022,549,1024,554,935,586"/>
<area shape="rect" href="class_r_g_w_h_t_t_p_manager.html#a16579a72dddb523cd5bdbf2957d22ef8" title=" " alt="" coords="1236,269,1409,312"/>
<area shape="poly" title=" " alt="" coords="1107,501,1124,463,1150,415,1185,365,1228,322,1232,318,1236,323,1231,326,1189,369,1155,418,1129,465,1111,503"/>
<area shape="rect" href="class_r_g_w_i_o_provider.html#a2bbd769b91d0d58e2d9ececade3a7c50" title=" " alt="" coords="1253,336,1392,379"/>
<area shape="poly" title=" " alt="" coords="1114,500,1161,445,1193,415,1228,388,1238,383,1241,387,1231,393,1197,419,1165,449,1118,504"/>
<area shape="rect" href="class_r_g_w_h_t_t_p_client.html#aa52a4d1d70d05fd7eb868df48bfc1c40" title=" " alt="" coords="1250,403,1395,445"/>
<area shape="poly" title=" " alt="" coords="1138,500,1228,455,1242,449,1244,454,1230,460,1141,505"/>
<area shape="rect" href="class_r_g_w_h_t_t_p_client.html#a8bbd7cf32732770e498d9c7e1033f519" title=" " alt="" coords="1251,536,1394,579"/>
<area shape="poly" title=" " alt="" coords="1182,534,1236,542,1235,547,1181,539"/>
<area shape="rect" href="class_r_g_w_h_t_t_p_manager.html#abb00c0a30c2ba9bfe83084e56e5dc897" title=" " alt="" coords="1241,469,1404,512"/>
<area shape="poly" title=" " alt="" coords="1181,509,1225,503,1226,508,1182,514"/>
<area shape="rect" href="class_r_g_w_h_t_t_p_manager.html#ae187bc0e80bace76ab6b7597491a73fb" title=" " alt="" coords="1229,603,1416,645"/>
<area shape="poly" title=" " alt="" coords="1141,543,1230,588,1244,594,1242,599,1228,593,1138,548"/>
<area shape="rect" href="class_r_g_w_h_t_t_p_manager.html#a3e3fd00dfa67812b4be7d3e5b80f126d" title=" " alt="" coords="1234,669,1411,712"/>
<area shape="poly" title=" " alt="" coords="1118,544,1165,599,1197,629,1231,655,1238,660,1236,664,1228,660,1193,633,1161,603,1114,548"/>
<area shape="rect" href="class_r_g_w_h_t_t_p_manager.html#ade749005387f5e6a4de36d5112ce54f0" title=" " alt="" coords="1464,245,1660,288"/>
<area shape="poly" title=" " alt="" coords="1409,279,1448,275,1448,281,1410,285"/>
<area shape="rect" href="structrgw__http__req__data.html#ad2784ed636d8d248f1672b72c1bb5c60" title=" " alt="" coords="1494,312,1630,355"/>
<area shape="poly" title=" " alt="" coords="1410,304,1479,316,1478,321,1409,309"/>
<area shape="rect" href="class_r_g_w_h_t_t_p_manager.html#a72d1ddecbb2ae3410f56cccdf808ff61" title=" " alt="" coords="1708,245,1911,288"/>
<area shape="poly" title=" " alt="" coords="1660,264,1692,264,1692,269,1660,269"/>
<area shape="rect" href="rgw__http__client_8cc.html#ab7859bda17f141d13fe54268d1619463" title=" " alt="" coords="1735,316,1885,343"/>
<area shape="poly" title=" " alt="" coords="1630,330,1719,328,1719,333,1630,335"/>
<area shape="rect" href="class_r_g_w_h_t_t_p_client.html#a7dbbd157e3261cd05438c773202c55c2" title=" " alt="" coords="1738,367,1882,409"/>
<area shape="poly" title=" " alt="" coords="1631,346,1723,366,1722,371,1630,351"/>
<area shape="rect" href="rgw__http__client_8cc.html#ab7a03eacc0f5a844c234c3dfc09dda2e" title=" " alt="" coords="1501,465,1623,492"/>
<area shape="poly" title=" " alt="" coords="1384,533,1415,522,1463,501,1487,494,1488,499,1465,507,1417,526,1386,538"/>
<area shape="rect" href="structrgw__http__req__data.html#af6cbebaa0a8812948d6d46938eade1c0" title=" " alt="" coords="1494,399,1630,441"/>
<area shape="poly" title=" " alt="" coords="1393,535,1414,522,1429,505,1437,487,1445,469,1462,451,1478,441,1481,445,1465,455,1450,472,1442,490,1434,508,1417,526,1396,539"/>
<area shape="rect" href="rgw__http__client_8cc.html#accc2196bc3f5081dc39a8e6c8a045c3e" title=" " alt="" coords="1504,516,1620,543"/>
<area shape="poly" title=" " alt="" coords="1394,546,1488,535,1488,541,1395,552"/>
<area shape="rect" href="rgw__http__client_8cc.html#a83802c1e67d9393048491932a74006bf" title=" " alt="" coords="1499,567,1625,593"/>
<area shape="poly" title=" " alt="" coords="1394,561,1483,570,1483,575,1394,567"/>
<area shape="rect" href="class_r_g_w_h_t_t_p_client.html#af5c3637b14b2ba94d473c5cd5fdace00" title=" " alt="" coords="1479,617,1645,660"/>
<area shape="poly" title=" " alt="" coords="1388,577,1483,609,1481,614,1386,582"/>
<area shape="rect" href="class_r_g_w_h_t_t_p_client.html#a9629077d9c96442434da1d5dee6880cb" title=" " alt="" coords="1479,684,1645,727"/>
<area shape="poly" title=" " alt="" coords="1396,575,1417,589,1435,610,1442,631,1449,651,1466,670,1470,673,1467,678,1462,674,1445,653,1437,632,1430,612,1414,593,1393,580"/>
<area shape="rect" href="class_r_g_w_h_t_t_p_client.html#a99088a5023d90e504e378e44f8636a60" title=" " alt="" coords="1485,751,1639,793"/>
<area shape="poly" title=" " alt="" coords="1396,573,1418,589,1432,608,1439,627,1442,665,1445,701,1452,719,1466,737,1474,744,1470,748,1462,740,1447,721,1440,702,1437,665,1434,628,1427,611,1414,593,1393,577"/>
<area shape="rect" href="class_r_g_w_curl_handles.html#a64b50bbd63a99c62352222d2ea940fac" title=" " alt="" coords="1735,457,1884,500"/>
<area shape="poly" title=" " alt="" coords="1623,476,1720,476,1720,481,1623,481"/>
<area shape="poly" title=" " alt="" coords="1397,466,1479,442,1480,447,1398,471"/>
<area shape="rect" href="structrgw__http__req__data.html#a2cb0db213911deffc4b43a81a37098b5" title=" " alt="" coords="1020,640,1178,667"/>
<area shape="poly" title=" " alt="" coords="969,648,1004,649,1004,654,969,653"/>
<area shape="rect" href="structrgw__http__req__data.html#a5d6962235aabed5aabe98213b486ccb1" title=" " alt="" coords="1255,736,1390,779"/>
<area shape="poly" title=" " alt="" coords="1125,665,1173,692,1230,722,1244,727,1242,732,1228,726,1170,697,1122,670"/>
</map>
</div>
<div class="dynheader">
이 함수를 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="class_transit_secret_engine_ac1274a509f9b67963a0df2fd2c1a64fc_icgraph.png" border="0" usemap="#aclass_transit_secret_engine_ac1274a509f9b67963a0df2fd2c1a64fc_icgraph" alt=""/></div>
<map name="aclass_transit_secret_engine_ac1274a509f9b67963a0df2fd2c1a64fc_icgraph" id="aclass_transit_secret_engine_ac1274a509f9b67963a0df2fd2c1a64fc_icgraph">
<area shape="rect" title=" " alt="" coords="732,5,871,48"/>
<area shape="rect" href="rgw__kms_8cc.html#a3f8c61648b425447343161a2ac7d3710" title=" " alt="" coords="499,13,684,40"/>
<area shape="poly" title=" " alt="" coords="717,29,685,29,685,24,717,24"/>
<area shape="rect" href="rgw__crypt_8cc.html#aa338e22213c357f47593f008b1d1fca3" title=" " alt="" coords="239,13,451,40"/>
<area shape="poly" title=" " alt="" coords="483,29,452,29,452,24,483,24"/>
<area shape="rect" href="class_r_g_w_delete_bucket.html#ab7f9d5cbeee75b6a27229f0084a5189b" title=" " alt="" coords="5,13,191,40"/>
<area shape="poly" title=" " alt="" coords="223,29,191,29,191,24,223,24"/>
</map>
</div>

</div>
</div>
<a id="ab2fd53b89319468f6450fe21e7ffd6b1" name="ab2fd53b89319468f6450fe21e7ffd6b1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab2fd53b89319468f6450fe21e7ffd6b1">&#9670;&#160;</a></span>get_key()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int TransitSecretEngine::get_key </td>
          <td>(</td>
          <td class="paramtype">const DoutPrefixProvider *&#160;</td>
          <td class="paramname"><em>dpp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::string_view&#160;</td>
          <td class="paramname"><em>key_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::string &amp;&#160;</td>
          <td class="paramname"><em>actual_key</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p><a class="el" href="class_secret_engine.html#a4abe9c888f51daafa9040a4b0931a43e">SecretEngine</a>를 구현.</p>

<p class="definition"><a class="el" href="rgw__kms_8cc_source.html">rgw_kms.cc</a> 파일의 <a class="el" href="rgw__kms_8cc_source.html#l00405">405</a> 번째 라인에서 정의되었습니다.</p>
<div class="fragment"><div class="line"><span class="lineno">  406</span>  {</div>
<div class="line"><span class="lineno">  407</span>    <a class="code hl_typedef" href="rgw__kms_8cc.html#aff3c2cc0e544fcb149909a4fabbbfa74">ZeroPoolDocument</a> d;</div>
<div class="line"><span class="lineno">  408</span>    <a class="code hl_typedef" href="rgw__kms_8cc.html#a1a0e0945588aed81ebf4a58644d45d05">ZeroPoolValue</a> *v;</div>
<div class="line"><span class="lineno">  409</span>    <span class="keywordtype">string</span> version;</div>
<div class="line"><span class="lineno">  410</span>    bufferlist secret_bl;</div>
<div class="line"><span class="lineno">  411</span> </div>
<div class="line"><span class="lineno">  412</span>    <span class="keywordflow">if</span> (<a class="code hl_function" href="class_transit_secret_engine.html#a1236ca20d3dcd94a5746576b35a135b0">get_key_version</a>(key_id, version) &lt; 0){</div>
<div class="line"><span class="lineno">  413</span>      ldpp_dout(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>, 20) &lt;&lt; <span class="stringliteral">&quot;Missing or invalid key version&quot;</span> &lt;&lt; dendl;</div>
<div class="line"><span class="lineno">  414</span>      <span class="keywordflow">return</span> -EINVAL;</div>
<div class="line"><span class="lineno">  415</span>    }</div>
<div class="line"><span class="lineno">  416</span> </div>
<div class="line"><span class="lineno">  417</span>    <span class="keywordtype">int</span> res = <a class="code hl_function" href="class_vault_secret_engine.html#a21ddaddc49189fb68733634ce8d26467">send_request</a>(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>, <span class="stringliteral">&quot;GET&quot;</span>, <a class="code hl_variable" href="class_transit_secret_engine.html#ac835a18a53eb71bdb4dd3bd782b971aa">compat</a> == <a class="code hl_variable" href="class_transit_secret_engine.html#aa9cc80cfb0b5a6ae434a00c4284d5fcd">COMPAT_ONLY_OLD</a> ? <span class="stringliteral">&quot;&quot;</span> : <span class="stringliteral">&quot;/export/encryption-key&quot;</span>,</div>
<div class="line"><span class="lineno">  418</span>    key_id, <a class="code hl_enumvalue" href="namespacergw_1_1_i_a_m.html#a16270dabfb0f449a033dc28091504510ab45cffe084dd3d20d928bee85e7b0f21">string</a>{}, secret_bl);</div>
<div class="line"><span class="lineno">  419</span>    <span class="keywordflow">if</span> (res &lt; 0) {</div>
<div class="line"><span class="lineno">  420</span>      <span class="keywordflow">return</span> res;</div>
<div class="line"><span class="lineno">  421</span>    }</div>
<div class="line"><span class="lineno">  422</span> </div>
<div class="line"><span class="lineno">  423</span>    ldpp_dout(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>, 20) &lt;&lt; <span class="stringliteral">&quot;Parse response into JSON Object&quot;</span> &lt;&lt; dendl;</div>
<div class="line"><span class="lineno">  424</span> </div>
<div class="line"><span class="lineno">  425</span>    secret_bl.append(<span class="charliteral">&#39;\0&#39;</span>);</div>
<div class="line"><span class="lineno">  426</span>    rapidjson::StringStream isw(secret_bl.c_str());</div>
<div class="line"><span class="lineno">  427</span>    d.ParseStream&lt;&gt;(isw);</div>
<div class="line"><span class="lineno">  428</span> </div>
<div class="line"><span class="lineno">  429</span>    <span class="keywordflow">if</span> (d.HasParseError()) {</div>
<div class="line"><span class="lineno">  430</span>      ldpp_dout(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>, 0) &lt;&lt; <span class="stringliteral">&quot;ERROR: Failed to parse JSON response from Vault: &quot;</span></div>
<div class="line"><span class="lineno">  431</span>     &lt;&lt; rapidjson::GetParseError_En(d.GetParseError()) &lt;&lt; dendl;</div>
<div class="line"><span class="lineno">  432</span>      <span class="keywordflow">return</span> -EINVAL;</div>
<div class="line"><span class="lineno">  433</span>    }</div>
<div class="line"><span class="lineno">  434</span>    secret_bl.zero();</div>
<div class="line"><span class="lineno">  435</span> </div>
<div class="line"><span class="lineno">  436</span>    <span class="keyword">const</span> <span class="keywordtype">char</span> *elements[] = {<span class="stringliteral">&quot;data&quot;</span>, <span class="stringliteral">&quot;keys&quot;</span>, version.c_str()};</div>
<div class="line"><span class="lineno">  437</span>    v = &amp;d;</div>
<div class="line"><span class="lineno">  438</span>    <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp;elem: elements) {</div>
<div class="line"><span class="lineno">  439</span>      <span class="keywordflow">if</span> (!v-&gt;IsObject()) {</div>
<div class="line"><span class="lineno">  440</span>    v = <span class="keyword">nullptr</span>;</div>
<div class="line"><span class="lineno">  441</span>    <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  442</span>      }</div>
<div class="line"><span class="lineno">  443</span>      <span class="keyword">auto</span> endr { v-&gt;MemberEnd() };</div>
<div class="line"><span class="lineno">  444</span>      <span class="keyword">auto</span> itr { v-&gt;FindMember(elem) };</div>
<div class="line"><span class="lineno">  445</span>      <span class="keywordflow">if</span> (itr == endr) {</div>
<div class="line"><span class="lineno">  446</span>    v = <span class="keyword">nullptr</span>;</div>
<div class="line"><span class="lineno">  447</span>    <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  448</span>      }</div>
<div class="line"><span class="lineno">  449</span>      v = &amp;itr-&gt;value;</div>
<div class="line"><span class="lineno">  450</span>    }</div>
<div class="line"><span class="lineno">  451</span>    <span class="keywordflow">if</span> (!v || !v-&gt;IsString()) {</div>
<div class="line"><span class="lineno">  452</span>      ldpp_dout(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>, 0) &lt;&lt; <span class="stringliteral">&quot;ERROR: Key not found in JSON response from Vault using Transit Engine&quot;</span> &lt;&lt; dendl;</div>
<div class="line"><span class="lineno">  453</span>      <span class="keywordflow">return</span> -EINVAL;</div>
<div class="line"><span class="lineno">  454</span>    }</div>
<div class="line"><span class="lineno">  455</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="class_vault_secret_engine.html#a81860dab7305221bd54acd685b6c5337">decode_secret</a>(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>, v-&gt;GetString(), actual_key);</div>
<div class="line"><span class="lineno">  456</span>  }</div>
<div class="ttc" id="aclass_transit_secret_engine_html_a1236ca20d3dcd94a5746576b35a135b0"><div class="ttname"><a href="class_transit_secret_engine.html#a1236ca20d3dcd94a5746576b35a135b0">TransitSecretEngine::get_key_version</a></div><div class="ttdeci">int get_key_version(std::string_view key_id, string &amp;version)</div><div class="ttdef"><b>Definition</b> <a href="rgw__kms_8cc_source.html#l00359">rgw_kms.cc:359</a></div></div>
<div class="ttc" id="aclass_vault_secret_engine_html_a81860dab7305221bd54acd685b6c5337"><div class="ttname"><a href="class_vault_secret_engine.html#a81860dab7305221bd54acd685b6c5337">VaultSecretEngine::decode_secret</a></div><div class="ttdeci">int decode_secret(const DoutPrefixProvider *dpp, std::string encoded, std::string &amp;actual_key)</div><div class="ttdef"><b>Definition</b> <a href="rgw__kms_8cc_source.html#l00331">rgw_kms.cc:331</a></div></div>
<div class="ttc" id="anamespacergw_1_1_i_a_m_html_a16270dabfb0f449a033dc28091504510ab45cffe084dd3d20d928bee85e7b0f21"><div class="ttname"><a href="namespacergw_1_1_i_a_m.html#a16270dabfb0f449a033dc28091504510ab45cffe084dd3d20d928bee85e7b0f21">rgw::IAM::Type::string</a></div><div class="ttdeci">@ string</div></div>
<div class="ttc" id="argw__kms_8cc_html_a1a0e0945588aed81ebf4a58644d45d05"><div class="ttname"><a href="rgw__kms_8cc.html#a1a0e0945588aed81ebf4a58644d45d05">ZeroPoolValue</a></div><div class="ttdeci">rapidjson::GenericValue&lt; rapidjson::UTF8&lt;&gt;, ZeroPoolAllocator &gt; ZeroPoolValue</div><div class="ttdef"><b>Definition</b> <a href="rgw__kms_8cc_source.html#l00103">rgw_kms.cc:103</a></div></div>
</div><!-- fragment --><div class="dynheader">
이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="class_transit_secret_engine_ab2fd53b89319468f6450fe21e7ffd6b1_cgraph.png" border="0" usemap="#aclass_transit_secret_engine_ab2fd53b89319468f6450fe21e7ffd6b1_cgraph" alt=""/></div>
<map name="aclass_transit_secret_engine_ab2fd53b89319468f6450fe21e7ffd6b1_cgraph" id="aclass_transit_secret_engine_ab2fd53b89319468f6450fe21e7ffd6b1_cgraph">
<area shape="rect" title=" " alt="" coords="5,106,144,148"/>
<area shape="rect" href="class_vault_secret_engine.html#a81860dab7305221bd54acd685b6c5337" title=" " alt="" coords="192,18,330,60"/>
<area shape="poly" title=" " alt="" coords="121,103,199,65,202,70,123,108"/>
<area shape="rect" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5" title=" " alt="" coords="665,110,708,136"/>
<area shape="poly" title=" " alt="" coords="144,122,192,120,455,119,650,120,650,125,455,124,192,126,144,127"/>
<area shape="rect" href="class_transit_secret_engine.html#a1236ca20d3dcd94a5746576b35a135b0" title=" " alt="" coords="192,135,330,178"/>
<area shape="poly" title=" " alt="" coords="145,135,177,141,176,146,144,141"/>
<area shape="rect" href="class_vault_secret_engine.html#a21ddaddc49189fb68733634ce8d26467" title=" " alt="" coords="192,631,330,674"/>
<area shape="poly" title=" " alt="" coords="86,148,249,615,244,617,81,150"/>
<area shape="poly" title=" " alt="" coords="330,18,381,9,440,3,502,6,561,19,592,34,621,54,666,96,662,100,618,58,590,39,559,24,501,11,440,9,382,14,330,23"/>
<area shape="rect" href="namespacergw.html#ac234a4895c4d28112daeda8c2b8ec205" title=" " alt="" coords="408,34,531,60"/>
<area shape="poly" title=" " alt="" coords="330,39,392,42,392,47,330,44"/>
<area shape="poly" title=" " alt="" coords="262,630,273,532,296,394,311,323,330,259,351,207,376,172,397,159,426,149,501,134,582,125,649,122,650,127,582,131,502,139,427,154,399,164,380,176,356,210,335,261,317,325,301,395,279,533,267,631"/>
<area shape="rect" href="class_s_s_e_context.html#a35609fc25555f9a458b2dd6a22c18cde" title=" " alt="" coords="406,186,532,212"/>
<area shape="poly" title=" " alt="" coords="263,630,277,542,301,420,335,301,354,255,376,223,391,212,394,216,380,226,359,257,340,303,306,421,282,543,268,631"/>
<area shape="rect" href="class_r_g_w_h_t_t_p_client.html#a8d4aa112a185bf07f192bea69b3c31fb" title=" " alt="" coords="385,236,553,279"/>
<area shape="poly" title=" " alt="" coords="260,631,266,566,283,475,298,425,318,377,344,330,376,289,378,287,382,291,380,293,348,333,323,379,303,427,288,476,271,566,265,631"/>
<area shape="rect" href="class_s_s_e_context.html#ac0affb02e7b7f1a40b3bb115858a993d" title=" " alt="" coords="406,303,532,330"/>
<area shape="poly" title=" " alt="" coords="261,630,269,573,288,494,302,453,322,412,346,373,376,340,390,330,393,334,380,344,350,377,326,414,307,455,293,496,274,574,266,631"/>
<area shape="rect" href="rgw__kms_8cc.html#a242cecf75d47f64b1de73858c54fb6f9" title=" " alt="" coords="429,354,510,380"/>
<area shape="poly" title=" " alt="" coords="263,630,274,581,294,516,328,449,350,418,376,390,393,379,412,372,414,377,396,384,380,395,354,421,332,451,299,518,279,582,268,631"/>
<area shape="rect" href="class_r_g_w_h_t_t_p_client.html#a8d89f57ce810c5320411cf2ddb01f339" title=" " alt="" coords="397,404,541,447"/>
<area shape="poly" title=" " alt="" coords="267,630,282,593,305,547,337,499,376,457,382,452,386,457,380,461,341,502,310,549,287,595,272,632"/>
<area shape="rect" href="class_s_s_e_context.html#a36821644035d6a926046b950ed65e6f1" title=" " alt="" coords="378,471,560,498"/>
<area shape="poly" title=" " alt="" coords="272,629,313,569,342,536,376,508,385,502,388,507,380,512,346,539,317,572,276,632"/>
<area shape="rect" href="class_vault_secret_engine.html#a8eb020a414a627058032342a99a29914" title=" " alt="" coords="400,522,539,564"/>
<area shape="poly" title=" " alt="" coords="290,628,330,601,377,574,388,569,390,574,379,579,333,605,293,633"/>
<area shape="rect" href="class_s_s_e_context.html#a7db6b0d790ab7b4fe42306f209416fcf" title=" " alt="" coords="403,588,535,615"/>
<area shape="poly" title=" " alt="" coords="329,633,396,617,397,622,331,638"/>
<area shape="rect" href="class_r_g_w_h_t_t_p_client.html#a38de0b9ceefce30a6003b12d562e425d" title=" " alt="" coords="383,639,555,666"/>
<area shape="poly" title=" " alt="" coords="330,650,367,650,367,655,330,655"/>
<area shape="rect" href="class_r_g_w_h_t_t_p_client.html#aa7b0d717e67e4242b73f7741381f1856" title=" " alt="" coords="397,690,541,732"/>
<area shape="poly" title=" " alt="" coords="331,669,383,684,381,689,329,674"/>
<area shape="rect" href="class_r_g_w_h_t_t_p_client.html#a7dcea71d200865dff0dfcd84328bf5ab" title=" " alt="" coords="397,756,541,799"/>
<area shape="poly" title=" " alt="" coords="287,672,328,707,379,742,389,747,386,752,377,747,325,712,283,676"/>
<area shape="rect" href="class_r_g_w_h_t_t_p_client.html#a8008f2d1b953f662a8eb5fe5e385851a" title=" " alt="" coords="397,823,541,866"/>
<area shape="poly" title=" " alt="" coords="275,673,315,740,345,777,380,809,385,813,382,817,376,813,341,780,311,743,270,675"/>
<area shape="rect" href="class_r_g_w_h_t_t_p_transceiver.html#abd8c12eaff4e72b22336e632826663fd" title=" " alt="" coords="394,890,544,932"/>
<area shape="poly" title=" " alt="" coords="270,674,283,716,306,770,337,827,357,853,380,876,383,879,380,883,376,880,353,856,333,830,301,772,278,718,265,675"/>
<area shape="rect" href="class_r_g_w_h_t_t_p_client.html#a340f32b14fc826866fe476175ceb2ed8" title=" " alt="" coords="397,956,541,999"/>
<area shape="poly" title=" " alt="" coords="267,674,277,727,297,799,312,838,330,876,353,911,380,943,386,948,382,952,376,946,348,914,325,878,307,840,292,801,272,728,262,675"/>
<area shape="rect" href="class_r_g_w_h_t_t_p_client.html#a1db09d373a335c53cf1fd6d6339b5feb" title=" " alt="" coords="397,1023,541,1066"/>
<area shape="poly" title=" " alt="" coords="266,674,272,739,289,828,303,876,323,924,348,969,380,1009,386,1015,382,1018,376,1013,344,972,318,927,298,878,284,829,266,739,260,675"/>
<area shape="rect" href="class_s_s_e_context.html#acac13eefbf73e3012d7f6607705720f1" title=" " alt="" coords="389,1090,550,1116"/>
<area shape="poly" title=" " alt="" coords="264,674,265,750,270,801,278,858,293,917,313,974,342,1029,380,1076,383,1079,379,1083,376,1080,338,1031,309,977,287,918,273,859,264,802,260,750,259,674"/>
<area shape="rect" href="class_s_s_e_context.html#a3288cf381cc52282abf2805a614a2ffd" title=" " alt="" coords="380,1140,558,1167"/>
<area shape="poly" title=" " alt="" coords="267,674,280,771,303,907,319,977,337,1040,357,1092,380,1127,383,1129,379,1133,376,1130,353,1094,332,1042,314,978,298,908,275,771,262,674"/>
<area shape="rect" href="class_s_s_e_context.html#afca6c5ff839511f7f7185921fd0fd24d" title=" " alt="" coords="381,1191,558,1218"/>
<area shape="poly" title=" " alt="" coords="267,674,278,779,300,931,315,1009,334,1080,355,1138,380,1177,383,1180,379,1184,376,1181,351,1141,329,1082,310,1010,295,932,272,780,261,674"/>
<area shape="rect" href="class_s_s_e_context.html#ac2bf421e1be7cc18605373abe07e59d6" title=" " alt="" coords="392,1242,546,1268"/>
<area shape="poly" title=" " alt="" coords="266,674,276,789,297,955,312,1041,331,1120,354,1185,366,1209,380,1228,382,1230,379,1234,376,1232,362,1212,349,1187,326,1122,307,1043,291,956,271,789,261,674"/>
<area shape="poly" title=" " alt="" coords="538,523,558,508,592,466,619,419,640,369,655,318,674,223,681,152,687,152,680,223,661,319,645,371,623,421,596,469,562,512,541,527"/>
<area shape="rect" href="class_s_s_e_context.html#abaaaa496191b276cc38cb00b2319ccf0" title=" " alt="" coords="608,530,765,556"/>
<area shape="poly" title=" " alt="" coords="539,540,593,540,593,546,539,546"/>
<area shape="rect" href="class_r_g_w_h_t_t_p.html#adfb34d20b834f501e738cacd37dc8586" title=" " alt="" coords="617,639,756,666"/>
<area shape="poly" title=" " alt="" coords="556,650,601,650,601,655,556,655"/>
<area shape="rect" href="class_r_g_w_h_t_t_p.html#ac8ab575c584649a3aaa6c3391f918e3a" title=" " alt="" coords="827,612,948,639"/>
<area shape="poly" title=" " alt="" coords="756,641,811,633,812,638,757,646"/>
<area shape="rect" href="class_r_g_w_h_t_t_p_client.html#a7d489c6689cd946b572415111b0c97b5" title=" " alt="" coords="813,664,962,691"/>
<area shape="poly" title=" " alt="" coords="757,659,797,664,797,669,756,664"/>
<area shape="rect" href="class_r_g_w_h_t_t_p_manager.html#a12fb23d99e733aa22fdfd983c7581698" title=" " alt="" coords="1010,531,1174,574"/>
<area shape="poly" title=" " alt="" coords="926,609,1015,577,1017,582,928,614"/>
<area shape="rect" href="class_r_g_w_h_t_t_p_manager.html#a16579a72dddb523cd5bdbf2957d22ef8" title=" " alt="" coords="1229,298,1402,340"/>
<area shape="poly" title=" " alt="" coords="1100,529,1117,491,1143,443,1178,394,1221,350,1225,347,1229,351,1224,354,1182,397,1148,446,1122,494,1104,532"/>
<area shape="rect" href="class_r_g_w_i_o_provider.html#a2bbd769b91d0d58e2d9ececade3a7c50" title=" " alt="" coords="1246,364,1385,407"/>
<area shape="poly" title=" " alt="" coords="1107,529,1154,474,1186,443,1221,417,1231,411,1234,416,1224,421,1190,447,1158,477,1111,532"/>
<area shape="rect" href="class_r_g_w_h_t_t_p_client.html#aa52a4d1d70d05fd7eb868df48bfc1c40" title=" " alt="" coords="1243,431,1388,474"/>
<area shape="poly" title=" " alt="" coords="1131,528,1221,483,1235,477,1237,482,1223,488,1134,533"/>
<area shape="rect" href="class_r_g_w_h_t_t_p_client.html#a8bbd7cf32732770e498d9c7e1033f519" title=" " alt="" coords="1244,564,1387,607"/>
<area shape="poly" title=" " alt="" coords="1175,562,1229,570,1228,576,1174,567"/>
<area shape="rect" href="class_r_g_w_h_t_t_p_manager.html#abb00c0a30c2ba9bfe83084e56e5dc897" title=" " alt="" coords="1234,498,1397,540"/>
<area shape="poly" title=" " alt="" coords="1174,538,1218,531,1219,536,1175,543"/>
<area shape="rect" href="class_r_g_w_h_t_t_p_manager.html#ae187bc0e80bace76ab6b7597491a73fb" title=" " alt="" coords="1222,631,1409,674"/>
<area shape="poly" title=" " alt="" coords="1134,572,1223,617,1237,623,1235,627,1221,622,1131,577"/>
<area shape="rect" href="class_r_g_w_h_t_t_p_manager.html#a3e3fd00dfa67812b4be7d3e5b80f126d" title=" " alt="" coords="1227,698,1404,740"/>
<area shape="poly" title=" " alt="" coords="1111,573,1158,628,1190,657,1224,684,1231,688,1229,693,1221,688,1186,662,1154,631,1107,576"/>
<area shape="rect" href="class_r_g_w_h_t_t_p_manager.html#ade749005387f5e6a4de36d5112ce54f0" title=" " alt="" coords="1457,274,1653,316"/>
<area shape="poly" title=" " alt="" coords="1402,308,1441,304,1441,309,1403,313"/>
<area shape="rect" href="structrgw__http__req__data.html#ad2784ed636d8d248f1672b72c1bb5c60" title=" " alt="" coords="1487,340,1623,383"/>
<area shape="poly" title=" " alt="" coords="1403,332,1472,344,1471,350,1402,337"/>
<area shape="rect" href="class_r_g_w_h_t_t_p_manager.html#a72d1ddecbb2ae3410f56cccdf808ff61" title=" " alt="" coords="1701,274,1904,316"/>
<area shape="poly" title=" " alt="" coords="1653,292,1685,292,1685,298,1653,298"/>
<area shape="rect" href="rgw__http__client_8cc.html#ab7859bda17f141d13fe54268d1619463" title=" " alt="" coords="1728,348,1878,375"/>
<area shape="poly" title=" " alt="" coords="1623,359,1712,359,1712,364,1623,364"/>
<area shape="rect" href="rgw__http__client_8cc.html#ab7a03eacc0f5a844c234c3dfc09dda2e" title=" " alt="" coords="1494,494,1616,520"/>
<area shape="poly" title=" " alt="" coords="1377,561,1408,550,1456,530,1480,523,1481,528,1458,535,1410,555,1379,566"/>
<area shape="rect" href="structrgw__http__req__data.html#af6cbebaa0a8812948d6d46938eade1c0" title=" " alt="" coords="1487,427,1623,470"/>
<area shape="poly" title=" " alt="" coords="1386,563,1407,550,1422,533,1430,516,1438,498,1455,480,1471,469,1474,474,1458,484,1443,501,1435,518,1427,536,1410,555,1389,568"/>
<area shape="rect" href="rgw__http__client_8cc.html#accc2196bc3f5081dc39a8e6c8a045c3e" title=" " alt="" coords="1497,544,1613,571"/>
<area shape="poly" title=" " alt="" coords="1387,575,1481,564,1481,569,1388,580"/>
<area shape="rect" href="rgw__http__client_8cc.html#a83802c1e67d9393048491932a74006bf" title=" " alt="" coords="1492,595,1618,622"/>
<area shape="poly" title=" " alt="" coords="1387,590,1476,598,1476,604,1387,595"/>
<area shape="rect" href="class_r_g_w_h_t_t_p_client.html#af5c3637b14b2ba94d473c5cd5fdace00" title=" " alt="" coords="1472,646,1638,688"/>
<area shape="poly" title=" " alt="" coords="1381,605,1476,638,1474,643,1379,610"/>
<area shape="rect" href="class_r_g_w_h_t_t_p_client.html#a9629077d9c96442434da1d5dee6880cb" title=" " alt="" coords="1472,712,1638,755"/>
<area shape="poly" title=" " alt="" coords="1389,604,1410,617,1428,638,1435,659,1442,679,1459,699,1463,702,1460,706,1455,702,1438,682,1430,661,1423,641,1407,621,1386,608"/>
<area shape="rect" href="class_r_g_w_h_t_t_p_client.html#a99088a5023d90e504e378e44f8636a60" title=" " alt="" coords="1478,779,1632,822"/>
<area shape="poly" title=" " alt="" coords="1389,602,1411,617,1425,636,1432,656,1435,693,1438,730,1445,747,1459,765,1467,772,1463,777,1455,769,1440,750,1433,731,1430,693,1427,657,1420,639,1407,621,1386,606"/>
<area shape="poly" title=" " alt="" coords="1390,495,1472,470,1473,475,1391,500"/>
<area shape="rect" href="structrgw__http__req__data.html#a2cb0db213911deffc4b43a81a37098b5" title=" " alt="" coords="1013,668,1171,695"/>
<area shape="poly" title=" " alt="" coords="962,677,997,677,997,683,962,682"/>
<area shape="rect" href="structrgw__http__req__data.html#a5d6962235aabed5aabe98213b486ccb1" title=" " alt="" coords="1248,764,1383,807"/>
<area shape="poly" title=" " alt="" coords="1118,693,1166,721,1223,750,1237,756,1235,761,1221,755,1163,726,1115,698"/>
</map>
</div>
<div class="dynheader">
이 함수를 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="class_transit_secret_engine_ab2fd53b89319468f6450fe21e7ffd6b1_icgraph.png" border="0" usemap="#aclass_transit_secret_engine_ab2fd53b89319468f6450fe21e7ffd6b1_icgraph" alt=""/></div>
<map name="aclass_transit_secret_engine_ab2fd53b89319468f6450fe21e7ffd6b1_icgraph" id="aclass_transit_secret_engine_ab2fd53b89319468f6450fe21e7ffd6b1_icgraph">
<area shape="rect" title=" " alt="" coords="1465,105,1603,148"/>
<area shape="rect" href="class_transit_secret_engine.html#af9602ebec8e8e75b118010006d6f76ae" title=" " alt="" coords="1264,72,1402,115"/>
<area shape="poly" title=" " alt="" coords="1449,115,1402,107,1403,102,1450,110"/>
<area shape="rect" href="class_transit_secret_engine.html#ac57ec387b020eb0885ebf96c1808dfd2" title=" " alt="" coords="1249,139,1417,181"/>
<area shape="poly" title=" " alt="" coords="1450,143,1417,149,1417,143,1449,138"/>
<area shape="rect" href="rgw__kms_8cc.html#a26511610566afff47ea1d35f85222496" title=" " alt="" coords="1060,105,1201,148"/>
<area shape="poly" title=" " alt="" coords="1249,110,1202,118,1201,112,1248,105"/>
<area shape="rect" href="rgw__kms_8cc.html#a28cf56d5d7411603b794f558e00fb03b" title=" " alt="" coords="677,68,833,111"/>
<area shape="poly" title=" " alt="" coords="1044,121,833,100,833,94,1045,116"/>
<area shape="rect" href="rgw__kms_8cc.html#ad422decf30b06979e6699cc45ea27dff" title=" " alt="" coords="881,135,1012,177"/>
<area shape="poly" title=" " alt="" coords="1045,143,1013,148,1012,143,1044,138"/>
<area shape="rect" href="rgw__kms_8cc.html#a5de03a7bb46cb5aa3ae77b1c93672527" title=" " alt="" coords="442,135,629,161"/>
<area shape="poly" title=" " alt="" coords="663,117,589,137,588,131,661,112"/>
<area shape="rect" href="rgw__kms_8cc.html#a1a2098e456a124e359612b9326e76d22" title=" " alt="" coords="458,68,613,111"/>
<area shape="poly" title=" " alt="" coords="662,92,614,92,614,87,662,87"/>
<area shape="rect" href="rgw__crypt_8cc.html#a644bbfaccd952cddc83967e91f89caf5" title=" " alt="" coords="232,80,394,107"/>
<area shape="poly" title=" " alt="" coords="463,133,370,110,371,105,464,128"/>
<area shape="rect" href="class_r_g_w_put_obj___obj_store___s3.html#aac43ef6294ae6f90061fa06e560dfc0a" title=" " alt="" coords="19,139,170,181"/>
<area shape="poly" title=" " alt="" coords="253,114,168,141,166,135,251,109"/>
<area shape="rect" href="class_r_g_w_post_obj___obj_store___s3.html#ae2c71dfde7f4e10024b6cf4d766f480b" title=" " alt="" coords="15,5,174,48"/>
<area shape="poly" title=" " alt="" coords="251,77,166,51,168,46,253,72"/>
<area shape="rect" href="class_r_g_w_init_multipart___obj_store___s3.html#aec0b31cd487b8d8ce2a61b7d71072713" title=" " alt="" coords="5,72,184,115"/>
<area shape="poly" title=" " alt="" coords="216,96,184,96,184,91,216,91"/>
<area shape="poly" title=" " alt="" coords="443,94,395,95,394,89,443,88"/>
<area shape="rect" href="rgw__kms_8cc.html#a4a4d58b805a968e04ab2f2cb64d808a3" title=" " alt="" coords="689,135,821,177"/>
<area shape="poly" title=" " alt="" coords="865,159,821,159,821,153,865,153"/>
<area shape="rect" href="rgw__kms_8cc.html#ac931fb4d1ef5634b8a46ee1a8cb3b9d8" title=" " alt="" coords="689,201,821,244"/>
<area shape="poly" title=" " alt="" coords="870,185,819,203,817,198,868,180"/>
<area shape="poly" title=" " alt="" coords="674,156,630,154,630,149,674,150"/>
<area shape="rect" href="rgw__crypt_8cc.html#a053d14367e9beb6222476b4732e17923" title=" " alt="" coords="455,205,617,232"/>
<area shape="poly" title=" " alt="" coords="676,181,586,207,585,202,674,176"/>
<area shape="poly" title=" " alt="" coords="469,204,394,188,276,174,170,166,171,161,277,168,394,183,470,199"/>
<area shape="rect" href="class_r_g_w_get_obj___obj_store___s3.html#a479f22556a7b691fe272a2038b64fb14" title=" " alt="" coords="237,197,389,240"/>
<area shape="poly" title=" " alt="" coords="439,221,389,221,389,216,439,216"/>
<area shape="rect" href="class_r_g_w_put_obj___obj_store___s3.html#ae4da9c4b53db6f4e31ade32c3034e988" title=" " alt="" coords="237,264,389,307"/>
<area shape="poly" title=" " alt="" coords="475,240,387,266,386,261,473,234"/>
<area shape="poly" title=" " alt="" coords="674,224,617,223,617,217,674,219"/>
<area shape="poly" title=" " alt="" coords="1234,146,1201,141,1202,136,1234,141"/>
</map>
</div>

</div>
</div>
<a id="a1236ca20d3dcd94a5746576b35a135b0" name="a1236ca20d3dcd94a5746576b35a135b0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1236ca20d3dcd94a5746576b35a135b0">&#9670;&#160;</a></span>get_key_version()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int TransitSecretEngine::get_key_version </td>
          <td>(</td>
          <td class="paramtype">std::string_view&#160;</td>
          <td class="paramname"><em>key_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string &amp;&#160;</td>
          <td class="paramname"><em>version</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition"><a class="el" href="rgw__kms_8cc_source.html">rgw_kms.cc</a> 파일의 <a class="el" href="rgw__kms_8cc_source.html#l00359">359</a> 번째 라인에서 정의되었습니다.</p>
<div class="fragment"><div class="line"><span class="lineno">  360</span>  {</div>
<div class="line"><span class="lineno">  361</span>    <span class="keywordtype">size_t</span> pos = 0;</div>
<div class="line"><span class="lineno">  362</span> </div>
<div class="line"><span class="lineno">  363</span>    pos = key_id.rfind(<span class="stringliteral">&quot;/&quot;</span>);</div>
<div class="line"><span class="lineno">  364</span>    <span class="keywordflow">if</span> (pos != std::string_view::npos){</div>
<div class="line"><span class="lineno">  365</span>      std::string_view token = key_id.substr(pos+1, key_id.length()-pos);</div>
<div class="line"><span class="lineno">  366</span>      <span class="keywordflow">if</span> (!token.empty() &amp;&amp; token.find_first_not_of(<span class="stringliteral">&quot;0123456789&quot;</span>) == std::string_view::npos){</div>
<div class="line"><span class="lineno">  367</span>        version.assign(std::string(token));</div>
<div class="line"><span class="lineno">  368</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">  369</span>      }</div>
<div class="line"><span class="lineno">  370</span>    }</div>
<div class="line"><span class="lineno">  371</span>    <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno">  372</span>  }</div>
</div><!-- fragment --><div class="dynheader">
이 함수를 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="class_transit_secret_engine_a1236ca20d3dcd94a5746576b35a135b0_icgraph.png" border="0" usemap="#aclass_transit_secret_engine_a1236ca20d3dcd94a5746576b35a135b0_icgraph" alt=""/></div>
<map name="aclass_transit_secret_engine_a1236ca20d3dcd94a5746576b35a135b0_icgraph" id="aclass_transit_secret_engine_a1236ca20d3dcd94a5746576b35a135b0_icgraph">
<area shape="rect" title=" " alt="" coords="1651,105,1789,148"/>
<area shape="rect" href="class_transit_secret_engine.html#ab2fd53b89319468f6450fe21e7ffd6b1" title=" " alt="" coords="1465,105,1603,148"/>
<area shape="poly" title=" " alt="" coords="1635,129,1604,129,1604,124,1635,124"/>
<area shape="rect" href="class_transit_secret_engine.html#af9602ebec8e8e75b118010006d6f76ae" title=" " alt="" coords="1264,72,1402,115"/>
<area shape="poly" title=" " alt="" coords="1449,115,1402,107,1403,102,1450,110"/>
<area shape="rect" href="class_transit_secret_engine.html#ac57ec387b020eb0885ebf96c1808dfd2" title=" " alt="" coords="1249,139,1417,181"/>
<area shape="poly" title=" " alt="" coords="1450,143,1417,149,1417,143,1449,138"/>
<area shape="rect" href="rgw__kms_8cc.html#a26511610566afff47ea1d35f85222496" title=" " alt="" coords="1060,105,1201,148"/>
<area shape="poly" title=" " alt="" coords="1249,110,1202,118,1201,112,1248,105"/>
<area shape="rect" href="rgw__kms_8cc.html#a28cf56d5d7411603b794f558e00fb03b" title=" " alt="" coords="677,68,833,111"/>
<area shape="poly" title=" " alt="" coords="1044,121,833,100,833,94,1045,116"/>
<area shape="rect" href="rgw__kms_8cc.html#ad422decf30b06979e6699cc45ea27dff" title=" " alt="" coords="881,135,1012,177"/>
<area shape="poly" title=" " alt="" coords="1045,143,1013,148,1012,143,1044,138"/>
<area shape="rect" href="rgw__kms_8cc.html#a5de03a7bb46cb5aa3ae77b1c93672527" title=" " alt="" coords="442,135,629,161"/>
<area shape="poly" title=" " alt="" coords="663,117,589,137,588,131,661,112"/>
<area shape="rect" href="rgw__kms_8cc.html#a1a2098e456a124e359612b9326e76d22" title=" " alt="" coords="458,68,613,111"/>
<area shape="poly" title=" " alt="" coords="662,92,614,92,614,87,662,87"/>
<area shape="rect" href="rgw__crypt_8cc.html#a644bbfaccd952cddc83967e91f89caf5" title=" " alt="" coords="232,80,394,107"/>
<area shape="poly" title=" " alt="" coords="463,133,370,110,371,105,464,128"/>
<area shape="rect" href="class_r_g_w_put_obj___obj_store___s3.html#aac43ef6294ae6f90061fa06e560dfc0a" title=" " alt="" coords="19,139,170,181"/>
<area shape="poly" title=" " alt="" coords="253,114,168,141,166,135,251,109"/>
<area shape="rect" href="class_r_g_w_post_obj___obj_store___s3.html#ae2c71dfde7f4e10024b6cf4d766f480b" title=" " alt="" coords="15,5,174,48"/>
<area shape="poly" title=" " alt="" coords="251,77,166,51,168,46,253,72"/>
<area shape="rect" href="class_r_g_w_init_multipart___obj_store___s3.html#aec0b31cd487b8d8ce2a61b7d71072713" title=" " alt="" coords="5,72,184,115"/>
<area shape="poly" title=" " alt="" coords="216,96,184,96,184,91,216,91"/>
<area shape="poly" title=" " alt="" coords="443,94,395,95,394,89,443,88"/>
<area shape="rect" href="rgw__kms_8cc.html#a4a4d58b805a968e04ab2f2cb64d808a3" title=" " alt="" coords="689,135,821,177"/>
<area shape="poly" title=" " alt="" coords="865,159,821,159,821,153,865,153"/>
<area shape="rect" href="rgw__kms_8cc.html#ac931fb4d1ef5634b8a46ee1a8cb3b9d8" title=" " alt="" coords="689,201,821,244"/>
<area shape="poly" title=" " alt="" coords="870,185,819,203,817,198,868,180"/>
<area shape="poly" title=" " alt="" coords="674,156,630,154,630,149,674,150"/>
<area shape="rect" href="rgw__crypt_8cc.html#a053d14367e9beb6222476b4732e17923" title=" " alt="" coords="455,205,617,232"/>
<area shape="poly" title=" " alt="" coords="676,181,586,207,585,202,674,176"/>
<area shape="poly" title=" " alt="" coords="469,204,394,188,276,174,170,166,171,161,277,168,394,183,470,199"/>
<area shape="rect" href="class_r_g_w_get_obj___obj_store___s3.html#a479f22556a7b691fe272a2038b64fb14" title=" " alt="" coords="237,197,389,240"/>
<area shape="poly" title=" " alt="" coords="439,221,389,221,389,216,439,216"/>
<area shape="rect" href="class_r_g_w_put_obj___obj_store___s3.html#ae4da9c4b53db6f4e31ade32c3034e988" title=" " alt="" coords="237,264,389,307"/>
<area shape="poly" title=" " alt="" coords="475,240,387,266,386,261,473,234"/>
<area shape="poly" title=" " alt="" coords="674,224,617,223,617,217,674,219"/>
<area shape="poly" title=" " alt="" coords="1234,146,1201,141,1202,136,1234,141"/>
</map>
</div>

</div>
</div>
<a id="af9602ebec8e8e75b118010006d6f76ae" name="af9602ebec8e8e75b118010006d6f76ae"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af9602ebec8e8e75b118010006d6f76ae">&#9670;&#160;</a></span>make_actual_key()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int TransitSecretEngine::make_actual_key </td>
          <td>(</td>
          <td class="paramtype">const DoutPrefixProvider *&#160;</td>
          <td class="paramname"><em>dpp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">map&lt; string, bufferlist &gt; &amp;&#160;</td>
          <td class="paramname"><em>attrs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::string &amp;&#160;</td>
          <td class="paramname"><em>actual_key</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition"><a class="el" href="rgw__kms_8cc_source.html">rgw_kms.cc</a> 파일의 <a class="el" href="rgw__kms_8cc_source.html#l00458">458</a> 번째 라인에서 정의되었습니다.</p>
<div class="fragment"><div class="line"><span class="lineno">  459</span>  {</div>
<div class="line"><span class="lineno">  460</span>    std::string key_id = <a class="code hl_function" href="rgw__crypt_8h.html#a01489bc791eb4d27b5ce7ca0915289be">get_str_attribute</a>(attrs, <a class="code hl_define" href="rgw__common_8h.html#a94260c0d2b4e544842cddd8205b587d5">RGW_ATTR_CRYPT_KEYID</a>);</div>
<div class="line"><span class="lineno">  461</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="class_transit_secret_engine.html#ac835a18a53eb71bdb4dd3bd782b971aa">compat</a> == <a class="code hl_variable" href="class_transit_secret_engine.html#aa9cc80cfb0b5a6ae434a00c4284d5fcd">COMPAT_ONLY_OLD</a>) <span class="keywordflow">return</span> <a class="code hl_function" href="class_transit_secret_engine.html#ab2fd53b89319468f6450fe21e7ffd6b1">get_key</a>(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>, key_id, actual_key);</div>
<div class="line"><span class="lineno">  462</span>    <span class="keywordflow">if</span> (key_id.find(<span class="stringliteral">&quot;/&quot;</span>) != std::string::npos) {</div>
<div class="line"><span class="lineno">  463</span>      ldpp_dout(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>, 0) &lt;&lt; <span class="stringliteral">&quot;sorry, can&#39;t allow / in keyid&quot;</span> &lt;&lt; dendl;</div>
<div class="line"><span class="lineno">  464</span>      <span class="keywordflow">return</span> -EINVAL;</div>
<div class="line"><span class="lineno">  465</span>    }</div>
<div class="line"><span class="lineno">  466</span><span class="comment">/*</span></div>
<div class="line"><span class="lineno">  467</span><span class="comment">    data: {context }</span></div>
<div class="line"><span class="lineno">  468</span><span class="comment">    post to prefix + /datakey/plaintext/ + key_id</span></div>
<div class="line"><span class="lineno">  469</span><span class="comment">    jq: .data.plaintext -&gt; key</span></div>
<div class="line"><span class="lineno">  470</span><span class="comment">    jq: .data.ciphertext    -&gt; (to-be) named attribute</span></div>
<div class="line"><span class="lineno">  471</span><span class="comment">    return decode_secret(json_obj, actual_key)</span></div>
<div class="line"><span class="lineno">  472</span><span class="comment">*/</span></div>
<div class="line"><span class="lineno">  473</span>    std::string <a class="code hl_enumeration" href="namespacergw_1_1lua.html#a5652b6711c456135043c799876aec7c1">context</a> = <a class="code hl_function" href="rgw__crypt_8h.html#a01489bc791eb4d27b5ce7ca0915289be">get_str_attribute</a>(attrs, <a class="code hl_define" href="rgw__common_8h.html#af5dc2b7fd74de52a7ad2f3efd34abf25">RGW_ATTR_CRYPT_CONTEXT</a>);</div>
<div class="line"><span class="lineno">  474</span>    <a class="code hl_typedef" href="rgw__kms_8cc.html#aff3c2cc0e544fcb149909a4fabbbfa74">ZeroPoolDocument</a> d { rapidjson::kObjectType };</div>
<div class="line"><span class="lineno">  475</span>    <span class="keyword">auto</span> &amp;allocator { d.GetAllocator() };</div>
<div class="line"><span class="lineno">  476</span>    bufferlist secret_bl;</div>
<div class="line"><span class="lineno">  477</span> </div>
<div class="line"><span class="lineno">  478</span>    <a class="code hl_function" href="rgw__kms_8cc.html#ae5268633f9996eea42716e2de4037b13">add_name_val_to_obj</a>(<span class="stringliteral">&quot;context&quot;</span>, context, d, allocator);</div>
<div class="line"><span class="lineno">  479</span>    rapidjson::StringBuffer buf;</div>
<div class="line"><span class="lineno">  480</span>    rapidjson::Writer&lt;rapidjson::StringBuffer&gt; writer(buf);</div>
<div class="line"><span class="lineno">  481</span>    <span class="keywordflow">if</span> (!d.Accept(writer)) {</div>
<div class="line"><span class="lineno">  482</span>      ldpp_dout(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>, 0) &lt;&lt; <span class="stringliteral">&quot;ERROR: can&#39;t make json for vault&quot;</span> &lt;&lt; dendl;</div>
<div class="line"><span class="lineno">  483</span>      <span class="keywordflow">return</span> -EINVAL;</div>
<div class="line"><span class="lineno">  484</span>    }</div>
<div class="line"><span class="lineno">  485</span>    std::string post_data { buf.GetString() };</div>
<div class="line"><span class="lineno">  486</span> </div>
<div class="line"><span class="lineno">  487</span>    <span class="keywordtype">int</span> res = <a class="code hl_function" href="class_vault_secret_engine.html#a21ddaddc49189fb68733634ce8d26467">send_request</a>(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>, <span class="stringliteral">&quot;POST&quot;</span>, <span class="stringliteral">&quot;/datakey/plaintext/&quot;</span>, key_id,</div>
<div class="line"><span class="lineno">  488</span>    post_data, secret_bl);</div>
<div class="line"><span class="lineno">  489</span>    <span class="keywordflow">if</span> (res &lt; 0) {</div>
<div class="line"><span class="lineno">  490</span>      <span class="keywordflow">return</span> res;</div>
<div class="line"><span class="lineno">  491</span>    }</div>
<div class="line"><span class="lineno">  492</span> </div>
<div class="line"><span class="lineno">  493</span>    ldpp_dout(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>, 20) &lt;&lt; <span class="stringliteral">&quot;Parse response into JSON Object&quot;</span> &lt;&lt; dendl;</div>
<div class="line"><span class="lineno">  494</span> </div>
<div class="line"><span class="lineno">  495</span>    secret_bl.append(<span class="charliteral">&#39;\0&#39;</span>);</div>
<div class="line"><span class="lineno">  496</span>    rapidjson::StringStream isw(secret_bl.c_str());</div>
<div class="line"><span class="lineno">  497</span>    d.SetNull();</div>
<div class="line"><span class="lineno">  498</span>    d.ParseStream&lt;&gt;(isw);</div>
<div class="line"><span class="lineno">  499</span> </div>
<div class="line"><span class="lineno">  500</span>    <span class="keywordflow">if</span> (d.HasParseError()) {</div>
<div class="line"><span class="lineno">  501</span>      ldpp_dout(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>, 0) &lt;&lt; <span class="stringliteral">&quot;ERROR: Failed to parse JSON response from Vault: &quot;</span></div>
<div class="line"><span class="lineno">  502</span>     &lt;&lt; rapidjson::GetParseError_En(d.GetParseError()) &lt;&lt; dendl;</div>
<div class="line"><span class="lineno">  503</span>      <span class="keywordflow">return</span> -EINVAL;</div>
<div class="line"><span class="lineno">  504</span>    }</div>
<div class="line"><span class="lineno">  505</span>    secret_bl.zero();</div>
<div class="line"><span class="lineno">  506</span> </div>
<div class="line"><span class="lineno">  507</span>    <span class="keywordflow">if</span> (!d.IsObject()) {</div>
<div class="line"><span class="lineno">  508</span>      ldpp_dout(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>, 0) &lt;&lt; <span class="stringliteral">&quot;ERROR: response from Vault is not an object&quot;</span> &lt;&lt; dendl;</div>
<div class="line"><span class="lineno">  509</span>      <span class="keywordflow">return</span> -EINVAL;</div>
<div class="line"><span class="lineno">  510</span>    }</div>
<div class="line"><span class="lineno">  511</span>    {</div>
<div class="line"><span class="lineno">  512</span>      <span class="keyword">auto</span> data_itr { d.FindMember(<span class="stringliteral">&quot;data&quot;</span>) };</div>
<div class="line"><span class="lineno">  513</span>      <span class="keywordflow">if</span> (data_itr == d.MemberEnd()) {</div>
<div class="line"><span class="lineno">  514</span>    ldpp_dout(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>, 0) &lt;&lt; <span class="stringliteral">&quot;ERROR: no .data in response from Vault&quot;</span> &lt;&lt; dendl;</div>
<div class="line"><span class="lineno">  515</span>        <span class="keywordflow">return</span> -EINVAL;</div>
<div class="line"><span class="lineno">  516</span>      }</div>
<div class="line"><span class="lineno">  517</span>      <span class="keyword">auto</span> ciphertext_itr { data_itr-&gt;value.FindMember(<span class="stringliteral">&quot;ciphertext&quot;</span>) };</div>
<div class="line"><span class="lineno">  518</span>      <span class="keyword">auto</span> plaintext_itr { data_itr-&gt;value.FindMember(<span class="stringliteral">&quot;plaintext&quot;</span>) };</div>
<div class="line"><span class="lineno">  519</span>      <span class="keywordflow">if</span> (ciphertext_itr == data_itr-&gt;value.MemberEnd()) {</div>
<div class="line"><span class="lineno">  520</span>    ldpp_dout(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>, 0) &lt;&lt; <span class="stringliteral">&quot;ERROR: no .data.ciphertext in response from Vault&quot;</span> &lt;&lt; dendl;</div>
<div class="line"><span class="lineno">  521</span>    <span class="keywordflow">return</span> -EINVAL;</div>
<div class="line"><span class="lineno">  522</span>      }</div>
<div class="line"><span class="lineno">  523</span>      <span class="keywordflow">if</span> (plaintext_itr == data_itr-&gt;value.MemberEnd()) {</div>
<div class="line"><span class="lineno">  524</span>    ldpp_dout(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>, 0) &lt;&lt; <span class="stringliteral">&quot;ERROR: no .data.plaintext in response from Vault&quot;</span> &lt;&lt; dendl;</div>
<div class="line"><span class="lineno">  525</span>    <span class="keywordflow">return</span> -EINVAL;</div>
<div class="line"><span class="lineno">  526</span>      }</div>
<div class="line"><span class="lineno">  527</span>      <span class="keyword">auto</span> &amp;ciphertext_v { ciphertext_itr-&gt;value };</div>
<div class="line"><span class="lineno">  528</span>      <span class="keyword">auto</span> &amp;plaintext_v { plaintext_itr-&gt;value };</div>
<div class="line"><span class="lineno">  529</span>      <span class="keywordflow">if</span> (!ciphertext_v.IsString()) {</div>
<div class="line"><span class="lineno">  530</span>    ldpp_dout(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>, 0) &lt;&lt; <span class="stringliteral">&quot;ERROR: .data.ciphertext not a string in response from Vault&quot;</span> &lt;&lt; dendl;</div>
<div class="line"><span class="lineno">  531</span>    <span class="keywordflow">return</span> -EINVAL;</div>
<div class="line"><span class="lineno">  532</span>      }</div>
<div class="line"><span class="lineno">  533</span>      <span class="keywordflow">if</span> (!plaintext_v.IsString()) {</div>
<div class="line"><span class="lineno">  534</span>    ldpp_dout(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>, 0) &lt;&lt; <span class="stringliteral">&quot;ERROR: .data.plaintext not a string in response from Vault&quot;</span> &lt;&lt; dendl;</div>
<div class="line"><span class="lineno">  535</span>    <span class="keywordflow">return</span> -EINVAL;</div>
<div class="line"><span class="lineno">  536</span>      }</div>
<div class="line"><span class="lineno">  537</span>      <a class="code hl_function" href="rgw__crypt_8h.html#a6420673c4b1427cbc659f864c43caa76">set_attr</a>(attrs, <a class="code hl_define" href="rgw__common_8h.html#a5c3a85dd45e1ffa56364c0df26bb4a0f">RGW_ATTR_CRYPT_DATAKEY</a>, ciphertext_v.GetString());</div>
<div class="line"><span class="lineno">  538</span>      <span class="keywordflow">return</span> <a class="code hl_function" href="class_vault_secret_engine.html#a81860dab7305221bd54acd685b6c5337">decode_secret</a>(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>, plaintext_v.GetString(), actual_key);</div>
<div class="line"><span class="lineno">  539</span>    }</div>
<div class="line"><span class="lineno">  540</span>  }</div>
<div class="ttc" id="aclass_transit_secret_engine_html_ab2fd53b89319468f6450fe21e7ffd6b1"><div class="ttname"><a href="class_transit_secret_engine.html#ab2fd53b89319468f6450fe21e7ffd6b1">TransitSecretEngine::get_key</a></div><div class="ttdeci">int get_key(const DoutPrefixProvider *dpp, std::string_view key_id, std::string &amp;actual_key)</div><div class="ttdef"><b>Definition</b> <a href="rgw__kms_8cc_source.html#l00405">rgw_kms.cc:405</a></div></div>
<div class="ttc" id="anamespacergw_1_1lua_html_a5652b6711c456135043c799876aec7c1"><div class="ttname"><a href="namespacergw_1_1lua.html#a5652b6711c456135043c799876aec7c1">rgw::lua::context</a></div><div class="ttdeci">context</div><div class="ttdef"><b>Definition</b> <a href="rgw__lua_8h_source.html#l00015">rgw_lua.h:15</a></div></div>
<div class="ttc" id="argw__common_8h_html_a5c3a85dd45e1ffa56364c0df26bb4a0f"><div class="ttname"><a href="rgw__common_8h.html#a5c3a85dd45e1ffa56364c0df26bb4a0f">RGW_ATTR_CRYPT_DATAKEY</a></div><div class="ttdeci">#define RGW_ATTR_CRYPT_DATAKEY</div><div class="ttdef"><b>Definition</b> <a href="rgw__common_8h_source.html#l00147">rgw_common.h:147</a></div></div>
<div class="ttc" id="argw__common_8h_html_a94260c0d2b4e544842cddd8205b587d5"><div class="ttname"><a href="rgw__common_8h.html#a94260c0d2b4e544842cddd8205b587d5">RGW_ATTR_CRYPT_KEYID</a></div><div class="ttdeci">#define RGW_ATTR_CRYPT_KEYID</div><div class="ttdef"><b>Definition</b> <a href="rgw__common_8h_source.html#l00144">rgw_common.h:144</a></div></div>
<div class="ttc" id="argw__common_8h_html_af5dc2b7fd74de52a7ad2f3efd34abf25"><div class="ttname"><a href="rgw__common_8h.html#af5dc2b7fd74de52a7ad2f3efd34abf25">RGW_ATTR_CRYPT_CONTEXT</a></div><div class="ttdeci">#define RGW_ATTR_CRYPT_CONTEXT</div><div class="ttdef"><b>Definition</b> <a href="rgw__common_8h_source.html#l00146">rgw_common.h:146</a></div></div>
<div class="ttc" id="argw__crypt_8h_html_a01489bc791eb4d27b5ce7ca0915289be"><div class="ttname"><a href="rgw__crypt_8h.html#a01489bc791eb4d27b5ce7ca0915289be">get_str_attribute</a></div><div class="ttdeci">static std::string get_str_attribute(std::map&lt; std::string, bufferlist &gt; &amp;attrs, const char *name)</div><div class="ttdef"><b>Definition</b> <a href="rgw__crypt_8h_source.html#l00163">rgw_crypt.h:163</a></div></div>
<div class="ttc" id="argw__crypt_8h_html_a6420673c4b1427cbc659f864c43caa76"><div class="ttname"><a href="rgw__crypt_8h.html#a6420673c4b1427cbc659f864c43caa76">set_attr</a></div><div class="ttdeci">static void set_attr(std::map&lt; std::string, bufferlist &gt; &amp;attrs, const char *key, std::string_view value)</div><div class="ttdef"><b>Definition</b> <a href="rgw__crypt_8h_source.html#l00154">rgw_crypt.h:154</a></div></div>
</div><!-- fragment --><div class="dynheader">
이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="class_transit_secret_engine_af9602ebec8e8e75b118010006d6f76ae_cgraph.png" border="0" usemap="#aclass_transit_secret_engine_af9602ebec8e8e75b118010006d6f76ae_cgraph" alt=""/></div>
<map name="aclass_transit_secret_engine_af9602ebec8e8e75b118010006d6f76ae_cgraph" id="aclass_transit_secret_engine_af9602ebec8e8e75b118010006d6f76ae_cgraph">
<area shape="rect" title=" " alt="" coords="5,171,144,213"/>
<area shape="rect" href="rgw__kms_8cc.html#ae5268633f9996eea42716e2de4037b13" title=" " alt="" coords="192,5,337,32"/>
<area shape="poly" title=" " alt="" coords="87,169,129,110,158,78,190,49,209,37,211,41,193,53,161,81,133,114,91,172"/>
<area shape="rect" href="class_vault_secret_engine.html#a81860dab7305221bd54acd685b6c5337" title=" " alt="" coords="386,107,523,149"/>
<area shape="poly" title=" " alt="" coords="143,168,191,156,284,141,370,132,371,137,284,146,192,161,145,173"/>
<area shape="rect" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5" title=" " alt="" coords="859,233,901,260"/>
<area shape="poly" title=" " alt="" coords="109,168,148,147,191,128,347,74,413,55,476,43,539,40,604,47,675,67,755,100,792,125,823,156,849,189,867,219,862,221,844,192,819,160,789,129,752,105,674,72,603,53,539,45,477,48,414,60,348,79,193,133,150,152,112,172"/>
<area shape="rect" href="class_transit_secret_engine.html#ab2fd53b89319468f6450fe21e7ffd6b1" title=" " alt="" coords="195,171,334,213"/>
<area shape="poly" title=" " alt="" coords="144,189,180,189,180,195,144,195"/>
<area shape="rect" href="class_vault_secret_engine.html#a21ddaddc49189fb68733634ce8d26467" title=" " alt="" coords="386,727,523,769"/>
<area shape="poly" title=" " alt="" coords="145,210,267,247,339,274,361,308,380,356,413,480,437,610,451,711,446,711,432,611,408,481,375,358,356,310,335,278,265,252,143,215"/>
<area shape="rect" href="rgw__crypt_8h.html#a01489bc791eb4d27b5ce7ca0915289be" title=" " alt="" coords="207,288,322,315"/>
<area shape="poly" title=" " alt="" coords="107,212,193,267,216,279,214,284,190,272,104,216"/>
<area shape="rect" href="rgw__crypt_8h.html#a6420673c4b1427cbc659f864c43caa76" title=" " alt="" coords="232,339,297,365"/>
<area shape="poly" title=" " alt="" coords="91,212,133,268,161,298,193,324,218,337,215,342,190,329,158,302,129,271,87,215"/>
<area shape="poly" title=" " alt="" coords="524,144,844,234,843,239,523,150"/>
<area shape="rect" href="namespacergw.html#ac234a4895c4d28112daeda8c2b8ec205" title=" " alt="" coords="601,115,724,141"/>
<area shape="poly" title=" " alt="" coords="523,125,585,125,585,131,523,131"/>
<area shape="poly" title=" " alt="" coords="329,168,374,152,375,157,330,173"/>
<area shape="poly" title=" " alt="" coords="328,211,385,225,517,241,647,247,761,248,843,246,843,251,761,253,647,253,516,246,385,231,327,217"/>
<area shape="rect" href="class_transit_secret_engine.html#a1236ca20d3dcd94a5746576b35a135b0" title=" " alt="" coords="385,173,523,216"/>
<area shape="poly" title=" " alt="" coords="334,190,370,191,369,196,334,196"/>
<area shape="poly" title=" " alt="" coords="319,212,339,230,360,269,379,324,412,461,436,603,451,711,446,712,431,603,407,462,374,325,355,272,335,234,316,216"/>
<area shape="poly" title=" " alt="" coords="458,725,471,683,493,628,525,572,546,546,570,523,594,508,618,500,662,497,706,495,728,487,752,473,775,451,796,426,830,372,853,318,868,274,874,276,858,320,834,374,800,429,779,455,755,477,731,492,707,500,662,502,619,505,596,513,573,527,550,549,530,575,498,630,476,684,463,727"/>
<area shape="rect" href="class_s_s_e_context.html#a35609fc25555f9a458b2dd6a22c18cde" title=" " alt="" coords="599,537,726,564"/>
<area shape="poly" title=" " alt="" coords="462,725,477,692,501,651,532,609,570,574,584,566,586,570,573,578,536,613,505,654,482,694,466,728"/>
<area shape="rect" href="class_r_g_w_h_t_t_p_client.html#a8d4aa112a185bf07f192bea69b3c31fb" title=" " alt="" coords="578,588,747,631"/>
<area shape="poly" title=" " alt="" coords="473,724,515,682,570,640,579,635,581,640,573,645,518,687,476,728"/>
<area shape="rect" href="class_s_s_e_context.html#ac0affb02e7b7f1a40b3bb115858a993d" title=" " alt="" coords="599,655,726,681"/>
<area shape="poly" title=" " alt="" coords="497,724,570,691,591,684,593,689,572,696,499,728"/>
<area shape="rect" href="rgw__kms_8cc.html#a242cecf75d47f64b1de73858c54fb6f9" title=" " alt="" coords="622,705,703,732"/>
<area shape="poly" title=" " alt="" coords="523,736,606,724,607,729,524,741"/>
<area shape="rect" href="class_r_g_w_h_t_t_p_client.html#a8d89f57ce810c5320411cf2ddb01f339" title=" " alt="" coords="590,756,735,799"/>
<area shape="poly" title=" " alt="" coords="524,755,575,762,575,768,523,760"/>
<area shape="rect" href="class_s_s_e_context.html#a36821644035d6a926046b950ed65e6f1" title=" " alt="" coords="571,823,754,849"/>
<area shape="poly" title=" " alt="" coords="492,768,572,808,591,815,589,820,570,813,490,772"/>
<area shape="rect" href="class_vault_secret_engine.html#a8eb020a414a627058032342a99a29914" title=" " alt="" coords="593,873,732,916"/>
<area shape="poly" title=" " alt="" coords="475,768,517,814,544,838,573,859,581,864,578,868,570,864,540,842,513,817,471,772"/>
<area shape="rect" href="class_s_s_e_context.html#a7db6b0d790ab7b4fe42306f209416fcf" title=" " alt="" coords="596,940,729,967"/>
<area shape="poly" title=" " alt="" coords="466,769,481,804,504,846,535,889,573,926,583,932,580,937,570,930,531,893,500,849,476,806,461,771"/>
<area shape="rect" href="class_r_g_w_h_t_t_p_client.html#a38de0b9ceefce30a6003b12d562e425d" title=" " alt="" coords="576,991,749,1017"/>
<area shape="poly" title=" " alt="" coords="463,769,475,813,497,869,529,927,549,954,573,977,578,981,575,985,570,981,545,957,524,930,492,871,470,815,458,771"/>
<area shape="rect" href="class_r_g_w_h_t_t_p_client.html#aa7b0d717e67e4242b73f7741381f1856" title=" " alt="" coords="590,1041,735,1084"/>
<area shape="poly" title=" " alt="" coords="461,769,471,821,492,890,525,964,547,997,573,1027,579,1033,576,1037,569,1031,543,1001,520,966,487,892,466,823,456,771"/>
<area shape="rect" href="class_r_g_w_h_t_t_p_client.html#a7dcea71d200865dff0dfcd84328bf5ab" title=" " alt="" coords="590,1108,735,1151"/>
<area shape="poly" title=" " alt="" coords="459,769,466,832,483,919,498,966,517,1012,542,1056,573,1094,579,1099,575,1103,569,1098,538,1059,513,1014,493,968,478,920,460,833,454,770"/>
<area shape="rect" href="class_r_g_w_h_t_t_p_client.html#a8008f2d1b953f662a8eb5fe5e385851a" title=" " alt="" coords="590,1175,735,1217"/>
<area shape="poly" title=" " alt="" coords="458,770,461,843,475,947,490,1004,510,1060,538,1114,573,1161,580,1167,576,1171,569,1164,533,1116,505,1063,485,1006,470,948,455,843,452,770"/>
<area shape="rect" href="class_r_g_w_h_t_t_p_transceiver.html#abd8c12eaff4e72b22336e632826663fd" title=" " alt="" coords="587,1241,738,1284"/>
<area shape="poly" title=" " alt="" coords="461,769,474,867,498,1004,513,1074,531,1139,551,1192,573,1228,577,1232,573,1235,569,1231,546,1194,526,1140,508,1076,492,1005,469,868,455,770"/>
<area shape="rect" href="class_r_g_w_h_t_t_p_client.html#a340f32b14fc826866fe476175ceb2ed8" title=" " alt="" coords="590,1308,735,1351"/>
<area shape="poly" title=" " alt="" coords="460,769,471,878,493,1036,509,1117,527,1191,549,1252,573,1294,580,1300,576,1304,569,1298,544,1255,522,1193,504,1118,488,1037,466,879,455,770"/>
<area shape="rect" href="class_r_g_w_h_t_t_p_client.html#a1db09d373a335c53cf1fd6d6339b5feb" title=" " alt="" coords="590,1375,735,1417"/>
<area shape="poly" title=" " alt="" coords="459,769,469,890,490,1067,505,1159,524,1244,547,1313,559,1340,573,1361,580,1367,576,1371,569,1364,555,1343,542,1315,519,1245,500,1160,484,1068,464,890,454,770"/>
<area shape="rect" href="class_s_s_e_context.html#acac13eefbf73e3012d7f6607705720f1" title=" " alt="" coords="582,284,743,311"/>
<area shape="poly" title=" " alt="" coords="452,726,453,650,458,598,466,542,481,482,502,424,531,369,569,321,573,318,576,322,573,324,535,372,507,426,486,484,472,543,463,599,458,650,457,726"/>
<area shape="rect" href="class_s_s_e_context.html#a3288cf381cc52282abf2805a614a2ffd" title=" " alt="" coords="573,335,752,361"/>
<area shape="poly" title=" " alt="" coords="453,726,457,658,473,563,487,511,508,461,535,413,569,371,573,368,577,372,573,375,539,416,512,463,492,513,478,564,462,658,458,726"/>
<area shape="rect" href="class_s_s_e_context.html#afca6c5ff839511f7f7185921fd0fd24d" title=" " alt="" coords="574,385,751,412"/>
<area shape="poly" title=" " alt="" coords="454,726,461,666,479,584,494,540,514,497,538,457,569,422,573,419,577,423,573,426,543,460,518,500,499,542,484,586,466,667,459,727"/>
<area shape="rect" href="class_s_s_e_context.html#ac2bf421e1be7cc18605373abe07e59d6" title=" " alt="" coords="585,436,740,463"/>
<area shape="poly" title=" " alt="" coords="456,726,467,676,488,610,521,541,543,508,570,479,585,468,588,472,573,483,548,511,526,543,493,612,472,677,462,727"/>
<area shape="poly" title=" " alt="" coords="731,876,752,860,765,840,778,814,802,746,822,664,838,575,862,400,874,275,879,276,867,400,843,576,827,665,807,748,783,816,770,842,756,863,734,880"/>
<area shape="rect" href="class_s_s_e_context.html#abaaaa496191b276cc38cb00b2319ccf0" title=" " alt="" coords="802,881,958,908"/>
<area shape="poly" title=" " alt="" coords="732,892,786,892,786,897,732,897"/>
<area shape="rect" href="class_r_g_w_h_t_t_p.html#adfb34d20b834f501e738cacd37dc8586" title=" " alt="" coords="810,991,950,1017"/>
<area shape="poly" title=" " alt="" coords="749,1001,794,1001,794,1007,749,1007"/>
<area shape="rect" href="class_r_g_w_h_t_t_p.html#ac8ab575c584649a3aaa6c3391f918e3a" title=" " alt="" coords="1020,964,1141,991"/>
<area shape="poly" title=" " alt="" coords="950,992,1005,985,1005,990,950,997"/>
<area shape="rect" href="class_r_g_w_h_t_t_p_client.html#a7d489c6689cd946b572415111b0c97b5" title=" " alt="" coords="1006,1016,1155,1043"/>
<area shape="poly" title=" " alt="" coords="950,1010,991,1015,990,1021,950,1015"/>
<area shape="rect" href="class_r_g_w_h_t_t_p_manager.html#a12fb23d99e733aa22fdfd983c7581698" title=" " alt="" coords="1203,883,1368,925"/>
<area shape="poly" title=" " alt="" coords="1120,961,1209,929,1210,934,1121,966"/>
<area shape="rect" href="class_r_g_w_h_t_t_p_manager.html#a16579a72dddb523cd5bdbf2957d22ef8" title=" " alt="" coords="1422,716,1596,759"/>
<area shape="poly" title=" " alt="" coords="1301,880,1348,825,1379,795,1414,768,1422,764,1425,768,1417,773,1383,799,1352,829,1305,884"/>
<area shape="rect" href="class_r_g_w_i_o_provider.html#a2bbd769b91d0d58e2d9ececade3a7c50" title=" " alt="" coords="1440,783,1578,825"/>
<area shape="poly" title=" " alt="" coords="1324,880,1415,835,1429,829,1431,834,1417,840,1327,885"/>
<area shape="rect" href="class_r_g_w_h_t_t_p_client.html#aa52a4d1d70d05fd7eb868df48bfc1c40" title=" " alt="" coords="1437,849,1581,892"/>
<area shape="poly" title=" " alt="" coords="1367,889,1421,881,1421,886,1368,894"/>
<area shape="rect" href="class_r_g_w_h_t_t_p_client.html#a8bbd7cf32732770e498d9c7e1033f519" title=" " alt="" coords="1437,983,1581,1025"/>
<area shape="poly" title=" " alt="" coords="1327,923,1417,968,1431,974,1429,979,1415,973,1324,928"/>
<area shape="rect" href="class_r_g_w_h_t_t_p_manager.html#abb00c0a30c2ba9bfe83084e56e5dc897" title=" " alt="" coords="1427,916,1591,959"/>
<area shape="poly" title=" " alt="" coords="1368,914,1412,920,1411,925,1367,919"/>
<area shape="rect" href="class_r_g_w_h_t_t_p_manager.html#ae187bc0e80bace76ab6b7597491a73fb" title=" " alt="" coords="1416,1049,1602,1092"/>
<area shape="poly" title=" " alt="" coords="1305,924,1352,979,1383,1009,1417,1035,1425,1040,1422,1044,1414,1040,1379,1013,1348,983,1301,928"/>
<area shape="rect" href="class_r_g_w_h_t_t_p_manager.html#a3e3fd00dfa67812b4be7d3e5b80f126d" title=" " alt="" coords="1420,649,1598,692"/>
<area shape="poly" title=" " alt="" coords="1293,881,1310,843,1336,795,1371,745,1414,702,1419,698,1422,703,1417,706,1375,749,1341,798,1315,845,1298,883"/>
<area shape="rect" href="class_r_g_w_h_t_t_p_manager.html#ade749005387f5e6a4de36d5112ce54f0" title=" " alt="" coords="1650,749,1846,792"/>
<area shape="poly" title=" " alt="" coords="1596,747,1635,752,1634,757,1596,752"/>
<area shape="rect" href="structrgw__http__req__data.html#ad2784ed636d8d248f1672b72c1bb5c60" title=" " alt="" coords="1681,683,1816,725"/>
<area shape="poly" title=" " alt="" coords="1596,723,1664,713,1665,718,1596,728"/>
<area shape="rect" href="rgw__http__client_8cc.html#ab7a03eacc0f5a844c234c3dfc09dda2e" title=" " alt="" coords="1687,1129,1809,1156"/>
<area shape="poly" title=" " alt="" coords="1583,1022,1604,1035,1621,1056,1628,1077,1635,1097,1652,1115,1674,1127,1671,1132,1648,1119,1631,1099,1623,1079,1616,1059,1600,1039,1580,1026"/>
<area shape="rect" href="structrgw__http__req__data.html#af6cbebaa0a8812948d6d46938eade1c0" title=" " alt="" coords="1681,895,1816,937"/>
<area shape="poly" title=" " alt="" coords="1571,980,1601,968,1649,947,1666,940,1668,945,1651,952,1603,973,1573,985"/>
<area shape="rect" href="rgw__http__client_8cc.html#accc2196bc3f5081dc39a8e6c8a045c3e" title=" " alt="" coords="1690,961,1806,988"/>
<area shape="poly" title=" " alt="" coords="1580,993,1674,981,1675,986,1581,998"/>
<area shape="rect" href="rgw__http__client_8cc.html#a83802c1e67d9393048491932a74006bf" title=" " alt="" coords="1685,1012,1811,1039"/>
<area shape="poly" title=" " alt="" coords="1581,1008,1670,1016,1669,1021,1580,1013"/>
<area shape="rect" href="class_r_g_w_h_t_t_p_client.html#af5c3637b14b2ba94d473c5cd5fdace00" title=" " alt="" coords="1665,1063,1831,1105"/>
<area shape="poly" title=" " alt="" coords="1576,1023,1668,1055,1667,1060,1574,1028"/>
<area shape="poly" title=" " alt="" coords="1591,927,1665,921,1665,926,1591,933"/>
<area shape="rect" href="structrgw__http__req__data.html#a2cb0db213911deffc4b43a81a37098b5" title=" " alt="" coords="1206,1020,1365,1047"/>
<area shape="poly" title=" " alt="" coords="1156,1028,1191,1029,1191,1034,1156,1033"/>
<area shape="rect" href="structrgw__http__req__data.html#a5d6962235aabed5aabe98213b486ccb1" title=" " alt="" coords="1441,1116,1577,1159"/>
<area shape="poly" title=" " alt="" coords="1311,1045,1359,1072,1417,1102,1430,1107,1428,1112,1415,1106,1356,1077,1308,1050"/>
</map>
</div>
<div class="dynheader">
이 함수를 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="class_transit_secret_engine_af9602ebec8e8e75b118010006d6f76ae_icgraph.png" border="0" usemap="#aclass_transit_secret_engine_af9602ebec8e8e75b118010006d6f76ae_icgraph" alt=""/></div>
<map name="aclass_transit_secret_engine_af9602ebec8e8e75b118010006d6f76ae_icgraph" id="aclass_transit_secret_engine_af9602ebec8e8e75b118010006d6f76ae_icgraph">
<area shape="rect" title=" " alt="" coords="1249,105,1388,148"/>
<area shape="rect" href="rgw__kms_8cc.html#a26511610566afff47ea1d35f85222496" title=" " alt="" coords="1060,105,1201,148"/>
<area shape="poly" title=" " alt="" coords="1233,129,1202,129,1202,124,1233,124"/>
<area shape="rect" href="rgw__kms_8cc.html#a28cf56d5d7411603b794f558e00fb03b" title=" " alt="" coords="677,68,833,111"/>
<area shape="poly" title=" " alt="" coords="1044,121,833,100,833,94,1045,116"/>
<area shape="rect" href="rgw__kms_8cc.html#ad422decf30b06979e6699cc45ea27dff" title=" " alt="" coords="881,135,1012,177"/>
<area shape="poly" title=" " alt="" coords="1045,143,1013,148,1012,143,1044,138"/>
<area shape="rect" href="rgw__kms_8cc.html#a5de03a7bb46cb5aa3ae77b1c93672527" title=" " alt="" coords="442,135,629,161"/>
<area shape="poly" title=" " alt="" coords="663,117,589,137,588,131,661,112"/>
<area shape="rect" href="rgw__kms_8cc.html#a1a2098e456a124e359612b9326e76d22" title=" " alt="" coords="458,68,613,111"/>
<area shape="poly" title=" " alt="" coords="662,92,614,92,614,87,662,87"/>
<area shape="rect" href="rgw__crypt_8cc.html#a644bbfaccd952cddc83967e91f89caf5" title=" " alt="" coords="232,80,394,107"/>
<area shape="poly" title=" " alt="" coords="463,133,370,110,371,105,464,128"/>
<area shape="rect" href="class_r_g_w_put_obj___obj_store___s3.html#aac43ef6294ae6f90061fa06e560dfc0a" title=" " alt="" coords="19,139,170,181"/>
<area shape="poly" title=" " alt="" coords="253,114,168,141,166,135,251,109"/>
<area shape="rect" href="class_r_g_w_post_obj___obj_store___s3.html#ae2c71dfde7f4e10024b6cf4d766f480b" title=" " alt="" coords="15,5,174,48"/>
<area shape="poly" title=" " alt="" coords="251,77,166,51,168,46,253,72"/>
<area shape="rect" href="class_r_g_w_init_multipart___obj_store___s3.html#aec0b31cd487b8d8ce2a61b7d71072713" title=" " alt="" coords="5,72,184,115"/>
<area shape="poly" title=" " alt="" coords="216,96,184,96,184,91,216,91"/>
<area shape="poly" title=" " alt="" coords="443,94,395,95,394,89,443,88"/>
<area shape="rect" href="rgw__kms_8cc.html#a4a4d58b805a968e04ab2f2cb64d808a3" title=" " alt="" coords="689,135,821,177"/>
<area shape="poly" title=" " alt="" coords="865,159,821,159,821,153,865,153"/>
<area shape="rect" href="rgw__kms_8cc.html#ac931fb4d1ef5634b8a46ee1a8cb3b9d8" title=" " alt="" coords="689,201,821,244"/>
<area shape="poly" title=" " alt="" coords="870,185,819,203,817,198,868,180"/>
<area shape="poly" title=" " alt="" coords="674,156,630,154,630,149,674,150"/>
<area shape="rect" href="rgw__crypt_8cc.html#a053d14367e9beb6222476b4732e17923" title=" " alt="" coords="455,205,617,232"/>
<area shape="poly" title=" " alt="" coords="676,181,586,207,585,202,674,176"/>
<area shape="poly" title=" " alt="" coords="469,204,394,188,276,174,170,166,171,161,277,168,394,183,470,199"/>
<area shape="rect" href="class_r_g_w_get_obj___obj_store___s3.html#a479f22556a7b691fe272a2038b64fb14" title=" " alt="" coords="237,197,389,240"/>
<area shape="poly" title=" " alt="" coords="439,221,389,221,389,216,439,216"/>
<area shape="rect" href="class_r_g_w_put_obj___obj_store___s3.html#ae4da9c4b53db6f4e31ade32c3034e988" title=" " alt="" coords="237,264,389,307"/>
<area shape="poly" title=" " alt="" coords="475,240,387,266,386,261,473,234"/>
<area shape="poly" title=" " alt="" coords="674,224,617,223,617,217,674,219"/>
</map>
</div>

</div>
</div>
<a id="ac57ec387b020eb0885ebf96c1808dfd2" name="ac57ec387b020eb0885ebf96c1808dfd2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac57ec387b020eb0885ebf96c1808dfd2">&#9670;&#160;</a></span>reconstitute_actual_key()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int TransitSecretEngine::reconstitute_actual_key </td>
          <td>(</td>
          <td class="paramtype">const DoutPrefixProvider *&#160;</td>
          <td class="paramname"><em>dpp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">map&lt; string, bufferlist &gt; &amp;&#160;</td>
          <td class="paramname"><em>attrs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::string &amp;&#160;</td>
          <td class="paramname"><em>actual_key</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition"><a class="el" href="rgw__kms_8cc_source.html">rgw_kms.cc</a> 파일의 <a class="el" href="rgw__kms_8cc_source.html#l00542">542</a> 번째 라인에서 정의되었습니다.</p>
<div class="fragment"><div class="line"><span class="lineno">  543</span>  {</div>
<div class="line"><span class="lineno">  544</span>    std::string key_id = <a class="code hl_function" href="rgw__crypt_8h.html#a01489bc791eb4d27b5ce7ca0915289be">get_str_attribute</a>(attrs, <a class="code hl_define" href="rgw__common_8h.html#a94260c0d2b4e544842cddd8205b587d5">RGW_ATTR_CRYPT_KEYID</a>);</div>
<div class="line"><span class="lineno">  545</span>    std::string wrapped_key = <a class="code hl_function" href="rgw__crypt_8h.html#a01489bc791eb4d27b5ce7ca0915289be">get_str_attribute</a>(attrs, <a class="code hl_define" href="rgw__common_8h.html#a5c3a85dd45e1ffa56364c0df26bb4a0f">RGW_ATTR_CRYPT_DATAKEY</a>);</div>
<div class="line"><span class="lineno">  546</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="class_transit_secret_engine.html#ac835a18a53eb71bdb4dd3bd782b971aa">compat</a> == <a class="code hl_variable" href="class_transit_secret_engine.html#aa9cc80cfb0b5a6ae434a00c4284d5fcd">COMPAT_ONLY_OLD</a> || key_id.rfind(<span class="stringliteral">&quot;/&quot;</span>) != std::string::npos) {</div>
<div class="line"><span class="lineno">  547</span>      <span class="keywordflow">return</span> <a class="code hl_function" href="class_transit_secret_engine.html#ab2fd53b89319468f6450fe21e7ffd6b1">get_key</a>(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>, key_id, actual_key);</div>
<div class="line"><span class="lineno">  548</span>    }</div>
<div class="line"><span class="lineno">  549</span><span class="comment">/*</span></div>
<div class="line"><span class="lineno">  550</span><span class="comment">    .data.ciphertext &lt;- (to-be) named attribute</span></div>
<div class="line"><span class="lineno">  551</span><span class="comment">    data: {context ciphertext}</span></div>
<div class="line"><span class="lineno">  552</span><span class="comment">    post to prefix + /decrypt/ + key_id</span></div>
<div class="line"><span class="lineno">  553</span><span class="comment">    jq: .data.plaintext</span></div>
<div class="line"><span class="lineno">  554</span><span class="comment">    return decode_secret(json_obj, actual_key)</span></div>
<div class="line"><span class="lineno">  555</span><span class="comment">*/</span></div>
<div class="line"><span class="lineno">  556</span>    std::string <a class="code hl_enumeration" href="namespacergw_1_1lua.html#a5652b6711c456135043c799876aec7c1">context</a> = <a class="code hl_function" href="rgw__crypt_8h.html#a01489bc791eb4d27b5ce7ca0915289be">get_str_attribute</a>(attrs, <a class="code hl_define" href="rgw__common_8h.html#af5dc2b7fd74de52a7ad2f3efd34abf25">RGW_ATTR_CRYPT_CONTEXT</a>);</div>
<div class="line"><span class="lineno">  557</span>    <a class="code hl_typedef" href="rgw__kms_8cc.html#aff3c2cc0e544fcb149909a4fabbbfa74">ZeroPoolDocument</a> d { rapidjson::kObjectType };</div>
<div class="line"><span class="lineno">  558</span>    <span class="keyword">auto</span> &amp;allocator { d.GetAllocator() };</div>
<div class="line"><span class="lineno">  559</span>    bufferlist secret_bl;</div>
<div class="line"><span class="lineno">  560</span> </div>
<div class="line"><span class="lineno">  561</span>    <a class="code hl_function" href="rgw__kms_8cc.html#ae5268633f9996eea42716e2de4037b13">add_name_val_to_obj</a>(<span class="stringliteral">&quot;context&quot;</span>, context, d, allocator);</div>
<div class="line"><span class="lineno">  562</span>    <a class="code hl_function" href="rgw__kms_8cc.html#ae5268633f9996eea42716e2de4037b13">add_name_val_to_obj</a>(<span class="stringliteral">&quot;ciphertext&quot;</span>, wrapped_key, d, allocator);</div>
<div class="line"><span class="lineno">  563</span>    rapidjson::StringBuffer buf;</div>
<div class="line"><span class="lineno">  564</span>    rapidjson::Writer&lt;rapidjson::StringBuffer&gt; writer(buf);</div>
<div class="line"><span class="lineno">  565</span>    <span class="keywordflow">if</span> (!d.Accept(writer)) {</div>
<div class="line"><span class="lineno">  566</span>      ldpp_dout(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>, 0) &lt;&lt; <span class="stringliteral">&quot;ERROR: can&#39;t make json for vault&quot;</span> &lt;&lt; dendl;</div>
<div class="line"><span class="lineno">  567</span>      <span class="keywordflow">return</span> -EINVAL;</div>
<div class="line"><span class="lineno">  568</span>    }</div>
<div class="line"><span class="lineno">  569</span>    std::string post_data { buf.GetString() };</div>
<div class="line"><span class="lineno">  570</span> </div>
<div class="line"><span class="lineno">  571</span>    <span class="keywordtype">int</span> res = <a class="code hl_function" href="class_vault_secret_engine.html#a21ddaddc49189fb68733634ce8d26467">send_request</a>(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>, <span class="stringliteral">&quot;POST&quot;</span>, <span class="stringliteral">&quot;/decrypt/&quot;</span>, key_id,</div>
<div class="line"><span class="lineno">  572</span>    post_data, secret_bl);</div>
<div class="line"><span class="lineno">  573</span>    <span class="keywordflow">if</span> (res &lt; 0) {</div>
<div class="line"><span class="lineno">  574</span>      <span class="keywordflow">return</span> res;</div>
<div class="line"><span class="lineno">  575</span>    }</div>
<div class="line"><span class="lineno">  576</span> </div>
<div class="line"><span class="lineno">  577</span>    ldpp_dout(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>, 20) &lt;&lt; <span class="stringliteral">&quot;Parse response into JSON Object&quot;</span> &lt;&lt; dendl;</div>
<div class="line"><span class="lineno">  578</span> </div>
<div class="line"><span class="lineno">  579</span>    secret_bl.append(<span class="charliteral">&#39;\0&#39;</span>);</div>
<div class="line"><span class="lineno">  580</span>    rapidjson::StringStream isw(secret_bl.c_str());</div>
<div class="line"><span class="lineno">  581</span>    d.SetNull();</div>
<div class="line"><span class="lineno">  582</span>    d.ParseStream&lt;&gt;(isw);</div>
<div class="line"><span class="lineno">  583</span> </div>
<div class="line"><span class="lineno">  584</span>    <span class="keywordflow">if</span> (d.HasParseError()) {</div>
<div class="line"><span class="lineno">  585</span>      ldpp_dout(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>, 0) &lt;&lt; <span class="stringliteral">&quot;ERROR: Failed to parse JSON response from Vault: &quot;</span></div>
<div class="line"><span class="lineno">  586</span>     &lt;&lt; rapidjson::GetParseError_En(d.GetParseError()) &lt;&lt; dendl;</div>
<div class="line"><span class="lineno">  587</span>      <span class="keywordflow">return</span> -EINVAL;</div>
<div class="line"><span class="lineno">  588</span>    }</div>
<div class="line"><span class="lineno">  589</span>    secret_bl.zero();</div>
<div class="line"><span class="lineno">  590</span> </div>
<div class="line"><span class="lineno">  591</span>    <span class="keywordflow">if</span> (!d.IsObject()) {</div>
<div class="line"><span class="lineno">  592</span>      ldpp_dout(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>, 0) &lt;&lt; <span class="stringliteral">&quot;ERROR: response from Vault is not an object&quot;</span> &lt;&lt; dendl;</div>
<div class="line"><span class="lineno">  593</span>      <span class="keywordflow">return</span> -EINVAL;</div>
<div class="line"><span class="lineno">  594</span>    }</div>
<div class="line"><span class="lineno">  595</span>    {</div>
<div class="line"><span class="lineno">  596</span>      <span class="keyword">auto</span> data_itr { d.FindMember(<span class="stringliteral">&quot;data&quot;</span>) };</div>
<div class="line"><span class="lineno">  597</span>      <span class="keywordflow">if</span> (data_itr == d.MemberEnd()) {</div>
<div class="line"><span class="lineno">  598</span>    ldpp_dout(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>, 0) &lt;&lt; <span class="stringliteral">&quot;ERROR: no .data in response from Vault&quot;</span> &lt;&lt; dendl;</div>
<div class="line"><span class="lineno">  599</span>        <span class="keywordflow">return</span> -EINVAL;</div>
<div class="line"><span class="lineno">  600</span>      }</div>
<div class="line"><span class="lineno">  601</span>      <span class="keyword">auto</span> plaintext_itr { data_itr-&gt;value.FindMember(<span class="stringliteral">&quot;plaintext&quot;</span>) };</div>
<div class="line"><span class="lineno">  602</span>      <span class="keywordflow">if</span> (plaintext_itr == data_itr-&gt;value.MemberEnd()) {</div>
<div class="line"><span class="lineno">  603</span>    ldpp_dout(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>, 0) &lt;&lt; <span class="stringliteral">&quot;ERROR: no .data.plaintext in response from Vault&quot;</span> &lt;&lt; dendl;</div>
<div class="line"><span class="lineno">  604</span>    <span class="keywordflow">return</span> -EINVAL;</div>
<div class="line"><span class="lineno">  605</span>      }</div>
<div class="line"><span class="lineno">  606</span>      <span class="keyword">auto</span> &amp;plaintext_v { plaintext_itr-&gt;value };</div>
<div class="line"><span class="lineno">  607</span>      <span class="keywordflow">if</span> (!plaintext_v.IsString()) {</div>
<div class="line"><span class="lineno">  608</span>    ldpp_dout(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>, 0) &lt;&lt; <span class="stringliteral">&quot;ERROR: .data.plaintext not a string in response from Vault&quot;</span> &lt;&lt; dendl;</div>
<div class="line"><span class="lineno">  609</span>    <span class="keywordflow">return</span> -EINVAL;</div>
<div class="line"><span class="lineno">  610</span>      }</div>
<div class="line"><span class="lineno">  611</span>      <span class="keywordflow">return</span> <a class="code hl_function" href="class_vault_secret_engine.html#a81860dab7305221bd54acd685b6c5337">decode_secret</a>(<a class="code hl_function" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5">dpp</a>, plaintext_v.GetString(), actual_key);</div>
<div class="line"><span class="lineno">  612</span>    }</div>
<div class="line"><span class="lineno">  613</span>  }</div>
</div><!-- fragment --><div class="dynheader">
이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="class_transit_secret_engine_ac57ec387b020eb0885ebf96c1808dfd2_cgraph.png" border="0" usemap="#aclass_transit_secret_engine_ac57ec387b020eb0885ebf96c1808dfd2_cgraph" alt=""/></div>
<map name="aclass_transit_secret_engine_ac57ec387b020eb0885ebf96c1808dfd2_cgraph" id="aclass_transit_secret_engine_ac57ec387b020eb0885ebf96c1808dfd2_cgraph">
<area shape="rect" title=" " alt="" coords="5,141,173,184"/>
<area shape="rect" href="rgw__kms_8cc.html#ae5268633f9996eea42716e2de4037b13" title=" " alt="" coords="221,5,366,32"/>
<area shape="poly" title=" " alt="" coords="110,139,158,94,219,48,241,37,243,41,222,53,162,99,114,143"/>
<area shape="rect" href="class_vault_secret_engine.html#a81860dab7305221bd54acd685b6c5337" title=" " alt="" coords="415,107,552,149"/>
<area shape="poly" title=" " alt="" coords="173,153,399,133,400,138,173,158"/>
<area shape="rect" href="rgw__admin_8cc.html#afe3e74bcdf0327f8777c02b83cfea5b5" title=" " alt="" coords="888,233,930,260"/>
<area shape="poly" title=" " alt="" coords="142,138,262,98,340,78,426,63,516,54,608,55,698,70,742,83,784,100,821,125,852,156,878,189,896,219,891,221,873,192,848,160,818,129,781,105,740,88,697,75,607,61,516,59,426,68,341,83,264,103,144,143"/>
<area shape="rect" href="class_transit_secret_engine.html#ab2fd53b89319468f6450fe21e7ffd6b1" title=" " alt="" coords="224,171,363,213"/>
<area shape="poly" title=" " alt="" coords="173,172,209,177,209,183,173,177"/>
<area shape="rect" href="class_vault_secret_engine.html#a21ddaddc49189fb68733634ce8d26467" title=" " alt="" coords="415,727,552,769"/>
<area shape="poly" title=" " alt="" coords="134,182,222,223,264,235,300,239,334,248,351,258,368,274,390,308,409,357,442,480,465,610,480,711,475,712,460,611,436,481,404,358,385,310,364,278,348,262,332,253,299,244,263,240,220,228,132,187"/>
<area shape="rect" href="rgw__crypt_8h.html#a01489bc791eb4d27b5ce7ca0915289be" title=" " alt="" coords="236,288,351,315"/>
<area shape="poly" title=" " alt="" coords="115,182,163,224,222,267,244,279,241,284,219,272,159,228,111,186"/>
<area shape="poly" title=" " alt="" coords="553,144,873,234,872,239,552,150"/>
<area shape="rect" href="namespacergw.html#ac234a4895c4d28112daeda8c2b8ec205" title=" " alt="" coords="630,115,753,141"/>
<area shape="poly" title=" " alt="" coords="552,125,614,125,614,131,552,131"/>
<area shape="poly" title=" " alt="" coords="358,168,403,152,404,157,359,173"/>
<area shape="poly" title=" " alt="" coords="357,211,414,225,546,241,676,247,790,248,872,246,872,251,790,253,676,253,545,246,414,231,356,217"/>
<area shape="rect" href="class_transit_secret_engine.html#a1236ca20d3dcd94a5746576b35a135b0" title=" " alt="" coords="414,173,552,216"/>
<area shape="poly" title=" " alt="" coords="363,190,399,191,398,196,363,196"/>
<area shape="poly" title=" " alt="" coords="348,212,368,230,389,269,408,324,441,461,465,603,480,711,475,712,460,603,436,462,403,325,384,272,364,234,345,216"/>
<area shape="poly" title=" " alt="" coords="487,725,500,683,522,628,554,572,575,546,599,523,623,508,647,500,691,497,735,495,757,487,781,473,804,451,825,426,859,372,882,318,897,274,903,276,887,320,863,374,829,429,808,455,784,477,760,492,736,500,691,502,648,505,625,513,602,527,579,549,559,575,527,630,505,684,492,727"/>
<area shape="rect" href="class_s_s_e_context.html#a35609fc25555f9a458b2dd6a22c18cde" title=" " alt="" coords="628,537,755,564"/>
<area shape="poly" title=" " alt="" coords="491,725,506,692,530,651,561,609,599,574,613,566,615,570,602,578,565,613,534,654,511,694,495,728"/>
<area shape="rect" href="class_r_g_w_h_t_t_p_client.html#a8d4aa112a185bf07f192bea69b3c31fb" title=" " alt="" coords="607,588,776,631"/>
<area shape="poly" title=" " alt="" coords="502,724,544,682,599,640,608,635,610,640,602,645,547,687,505,728"/>
<area shape="rect" href="class_s_s_e_context.html#ac0affb02e7b7f1a40b3bb115858a993d" title=" " alt="" coords="628,655,755,681"/>
<area shape="poly" title=" " alt="" coords="526,724,599,691,620,684,622,689,601,696,528,728"/>
<area shape="rect" href="rgw__kms_8cc.html#a242cecf75d47f64b1de73858c54fb6f9" title=" " alt="" coords="651,705,732,732"/>
<area shape="poly" title=" " alt="" coords="552,736,635,724,636,729,553,741"/>
<area shape="rect" href="class_r_g_w_h_t_t_p_client.html#a8d89f57ce810c5320411cf2ddb01f339" title=" " alt="" coords="619,756,764,799"/>
<area shape="poly" title=" " alt="" coords="553,755,604,762,604,768,552,760"/>
<area shape="rect" href="class_s_s_e_context.html#a36821644035d6a926046b950ed65e6f1" title=" " alt="" coords="600,823,783,849"/>
<area shape="poly" title=" " alt="" coords="521,768,601,808,620,815,618,820,599,813,519,772"/>
<area shape="rect" href="class_vault_secret_engine.html#a8eb020a414a627058032342a99a29914" title=" " alt="" coords="622,873,761,916"/>
<area shape="poly" title=" " alt="" coords="504,768,546,814,573,838,602,859,610,864,607,868,599,864,569,842,542,817,500,772"/>
<area shape="rect" href="class_s_s_e_context.html#a7db6b0d790ab7b4fe42306f209416fcf" title=" " alt="" coords="625,940,758,967"/>
<area shape="poly" title=" " alt="" coords="495,769,510,804,533,846,564,889,602,926,612,932,609,937,599,930,560,893,529,849,505,806,490,771"/>
<area shape="rect" href="class_r_g_w_h_t_t_p_client.html#a38de0b9ceefce30a6003b12d562e425d" title=" " alt="" coords="605,991,778,1017"/>
<area shape="poly" title=" " alt="" coords="492,769,504,813,526,869,558,927,578,954,602,977,607,981,604,985,599,981,574,957,553,930,521,871,499,815,487,771"/>
<area shape="rect" href="class_r_g_w_h_t_t_p_client.html#aa7b0d717e67e4242b73f7741381f1856" title=" " alt="" coords="619,1041,764,1084"/>
<area shape="poly" title=" " alt="" coords="490,769,500,821,521,890,554,964,576,997,602,1027,608,1033,605,1037,598,1031,572,1001,549,966,516,892,495,823,485,771"/>
<area shape="rect" href="class_r_g_w_h_t_t_p_client.html#a7dcea71d200865dff0dfcd84328bf5ab" title=" " alt="" coords="619,1108,764,1151"/>
<area shape="poly" title=" " alt="" coords="488,769,495,832,512,919,527,966,546,1012,571,1056,602,1094,608,1099,604,1103,598,1098,567,1059,542,1014,522,968,507,920,489,833,483,770"/>
<area shape="rect" href="class_r_g_w_h_t_t_p_client.html#a8008f2d1b953f662a8eb5fe5e385851a" title=" " alt="" coords="619,1175,764,1217"/>
<area shape="poly" title=" " alt="" coords="487,770,490,843,504,947,519,1004,539,1060,567,1114,602,1161,609,1167,605,1171,598,1164,562,1116,534,1063,514,1006,499,948,484,843,481,770"/>
<area shape="rect" href="class_r_g_w_h_t_t_p_transceiver.html#abd8c12eaff4e72b22336e632826663fd" title=" " alt="" coords="616,1241,767,1284"/>
<area shape="poly" title=" " alt="" coords="490,769,503,867,527,1004,542,1074,560,1139,580,1192,602,1228,606,1232,602,1235,598,1231,575,1194,555,1140,537,1076,521,1005,498,868,484,770"/>
<area shape="rect" href="class_r_g_w_h_t_t_p_client.html#a340f32b14fc826866fe476175ceb2ed8" title=" " alt="" coords="619,1308,764,1351"/>
<area shape="poly" title=" " alt="" coords="489,769,500,878,522,1036,538,1117,556,1191,578,1252,602,1294,609,1300,605,1304,598,1298,573,1255,551,1193,533,1118,517,1037,495,879,484,770"/>
<area shape="rect" href="class_r_g_w_h_t_t_p_client.html#a1db09d373a335c53cf1fd6d6339b5feb" title=" " alt="" coords="619,1375,764,1417"/>
<area shape="poly" title=" " alt="" coords="488,769,498,890,519,1067,534,1159,553,1244,576,1313,588,1340,602,1361,609,1367,605,1371,598,1364,584,1343,571,1315,548,1245,529,1160,513,1068,493,890,483,770"/>
<area shape="rect" href="class_s_s_e_context.html#acac13eefbf73e3012d7f6607705720f1" title=" " alt="" coords="611,284,772,311"/>
<area shape="poly" title=" " alt="" coords="481,726,482,650,487,598,495,542,510,482,531,424,560,369,598,321,602,318,605,322,602,324,564,372,536,426,515,484,501,543,492,599,487,650,486,726"/>
<area shape="rect" href="class_s_s_e_context.html#a3288cf381cc52282abf2805a614a2ffd" title=" " alt="" coords="602,335,781,361"/>
<area shape="poly" title=" " alt="" coords="482,726,486,658,502,563,516,511,537,461,564,413,598,371,602,368,606,372,602,375,568,416,541,463,521,513,507,564,491,658,487,726"/>
<area shape="rect" href="class_s_s_e_context.html#afca6c5ff839511f7f7185921fd0fd24d" title=" " alt="" coords="603,385,780,412"/>
<area shape="poly" title=" " alt="" coords="483,726,490,666,508,584,523,540,543,497,567,457,598,422,602,419,606,423,602,426,572,460,547,500,528,542,513,586,495,667,488,727"/>
<area shape="rect" href="class_s_s_e_context.html#ac2bf421e1be7cc18605373abe07e59d6" title=" " alt="" coords="614,436,769,463"/>
<area shape="poly" title=" " alt="" coords="485,726,496,676,517,610,550,541,572,508,599,479,614,468,617,472,602,483,577,511,555,543,522,612,501,677,491,727"/>
<area shape="poly" title=" " alt="" coords="760,876,781,860,794,840,807,814,831,746,851,664,867,575,891,400,903,275,908,276,896,400,872,576,856,665,836,748,812,816,799,842,785,863,763,880"/>
<area shape="rect" href="class_s_s_e_context.html#abaaaa496191b276cc38cb00b2319ccf0" title=" " alt="" coords="831,881,987,908"/>
<area shape="poly" title=" " alt="" coords="761,892,815,892,815,897,761,897"/>
<area shape="rect" href="class_r_g_w_h_t_t_p.html#adfb34d20b834f501e738cacd37dc8586" title=" " alt="" coords="839,991,979,1017"/>
<area shape="poly" title=" " alt="" coords="778,1001,823,1001,823,1007,778,1007"/>
<area shape="rect" href="class_r_g_w_h_t_t_p.html#ac8ab575c584649a3aaa6c3391f918e3a" title=" " alt="" coords="1049,964,1170,991"/>
<area shape="poly" title=" " alt="" coords="979,992,1034,985,1034,990,979,997"/>
<area shape="rect" href="class_r_g_w_h_t_t_p_client.html#a7d489c6689cd946b572415111b0c97b5" title=" " alt="" coords="1035,1016,1184,1043"/>
<area shape="poly" title=" " alt="" coords="979,1010,1020,1015,1019,1021,979,1015"/>
<area shape="rect" href="class_r_g_w_h_t_t_p_manager.html#a12fb23d99e733aa22fdfd983c7581698" title=" " alt="" coords="1232,883,1397,925"/>
<area shape="poly" title=" " alt="" coords="1149,961,1238,929,1239,934,1150,966"/>
<area shape="rect" href="class_r_g_w_h_t_t_p_manager.html#a16579a72dddb523cd5bdbf2957d22ef8" title=" " alt="" coords="1451,716,1625,759"/>
<area shape="poly" title=" " alt="" coords="1330,880,1377,825,1408,795,1443,768,1451,764,1454,768,1446,773,1412,799,1381,829,1334,884"/>
<area shape="rect" href="class_r_g_w_i_o_provider.html#a2bbd769b91d0d58e2d9ececade3a7c50" title=" " alt="" coords="1469,783,1607,825"/>
<area shape="poly" title=" " alt="" coords="1353,880,1444,835,1458,829,1460,834,1446,840,1356,885"/>
<area shape="rect" href="class_r_g_w_h_t_t_p_client.html#aa52a4d1d70d05fd7eb868df48bfc1c40" title=" " alt="" coords="1466,849,1610,892"/>
<area shape="poly" title=" " alt="" coords="1396,889,1450,881,1450,886,1397,894"/>
<area shape="rect" href="class_r_g_w_h_t_t_p_client.html#a8bbd7cf32732770e498d9c7e1033f519" title=" " alt="" coords="1466,983,1610,1025"/>
<area shape="poly" title=" " alt="" coords="1356,923,1446,968,1460,974,1458,979,1444,973,1353,928"/>
<area shape="rect" href="class_r_g_w_h_t_t_p_manager.html#abb00c0a30c2ba9bfe83084e56e5dc897" title=" " alt="" coords="1456,916,1620,959"/>
<area shape="poly" title=" " alt="" coords="1397,914,1441,920,1440,925,1396,919"/>
<area shape="rect" href="class_r_g_w_h_t_t_p_manager.html#ae187bc0e80bace76ab6b7597491a73fb" title=" " alt="" coords="1445,1049,1631,1092"/>
<area shape="poly" title=" " alt="" coords="1334,924,1381,979,1412,1009,1446,1035,1454,1040,1451,1044,1443,1040,1408,1013,1377,983,1330,928"/>
<area shape="rect" href="class_r_g_w_h_t_t_p_manager.html#a3e3fd00dfa67812b4be7d3e5b80f126d" title=" " alt="" coords="1449,649,1627,692"/>
<area shape="poly" title=" " alt="" coords="1322,881,1339,843,1365,795,1400,745,1443,702,1448,698,1451,703,1446,706,1404,749,1370,798,1344,845,1327,883"/>
<area shape="rect" href="class_r_g_w_h_t_t_p_manager.html#ade749005387f5e6a4de36d5112ce54f0" title=" " alt="" coords="1679,683,1875,725"/>
<area shape="poly" title=" " alt="" coords="1625,723,1663,717,1664,722,1625,728"/>
<area shape="rect" href="structrgw__http__req__data.html#ad2784ed636d8d248f1672b72c1bb5c60" title=" " alt="" coords="1710,749,1845,792"/>
<area shape="poly" title=" " alt="" coords="1625,747,1694,756,1693,762,1625,752"/>
<area shape="rect" href="rgw__http__client_8cc.html#ab7a03eacc0f5a844c234c3dfc09dda2e" title=" " alt="" coords="1716,1116,1838,1143"/>
<area shape="poly" title=" " alt="" coords="1612,1022,1633,1035,1649,1053,1657,1070,1665,1086,1681,1102,1703,1113,1700,1118,1677,1106,1661,1090,1652,1072,1644,1056,1629,1039,1609,1027"/>
<area shape="rect" href="structrgw__http__req__data.html#af6cbebaa0a8812948d6d46938eade1c0" title=" " alt="" coords="1710,865,1845,908"/>
<area shape="poly" title=" " alt="" coords="1609,980,1629,968,1644,956,1653,944,1662,931,1677,918,1694,908,1697,913,1681,922,1666,934,1657,947,1648,960,1633,973,1611,984"/>
<area shape="rect" href="rgw__http__client_8cc.html#accc2196bc3f5081dc39a8e6c8a045c3e" title=" " alt="" coords="1719,1167,1835,1193"/>
<area shape="poly" title=" " alt="" coords="1612,1020,1633,1035,1645,1051,1652,1066,1657,1096,1662,1125,1669,1139,1681,1153,1706,1167,1703,1172,1677,1157,1664,1142,1657,1127,1652,1097,1647,1068,1641,1053,1629,1039,1608,1025"/>
<area shape="rect" href="rgw__http__client_8cc.html#a83802c1e67d9393048491932a74006bf" title=" " alt="" coords="1714,932,1840,959"/>
<area shape="poly" title=" " alt="" coords="1609,984,1704,960,1705,966,1610,989"/>
<area shape="rect" href="class_r_g_w_h_t_t_p_client.html#af5c3637b14b2ba94d473c5cd5fdace00" title=" " alt="" coords="1694,983,1860,1025"/>
<area shape="poly" title=" " alt="" coords="1610,1001,1679,1001,1679,1007,1610,1007"/>
<area shape="rect" href="class_r_g_w_h_t_t_p_client.html#a9629077d9c96442434da1d5dee6880cb" title=" " alt="" coords="1694,1049,1860,1092"/>
<area shape="poly" title=" " alt="" coords="1610,1021,1684,1042,1683,1047,1609,1026"/>
<area shape="poly" title=" " alt="" coords="1619,917,1694,902,1695,907,1621,923"/>
<area shape="rect" href="structrgw__http__req__data.html#a2cb0db213911deffc4b43a81a37098b5" title=" " alt="" coords="1235,1020,1394,1047"/>
<area shape="poly" title=" " alt="" coords="1185,1028,1220,1029,1220,1034,1185,1033"/>
<area shape="rect" href="structrgw__http__req__data.html#a5d6962235aabed5aabe98213b486ccb1" title=" " alt="" coords="1470,1116,1606,1159"/>
<area shape="poly" title=" " alt="" coords="1340,1045,1388,1072,1446,1102,1459,1107,1457,1112,1444,1106,1385,1077,1337,1050"/>
</map>
</div>
<div class="dynheader">
이 함수를 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="class_transit_secret_engine_ac57ec387b020eb0885ebf96c1808dfd2_icgraph.png" border="0" usemap="#aclass_transit_secret_engine_ac57ec387b020eb0885ebf96c1808dfd2_icgraph" alt=""/></div>
<map name="aclass_transit_secret_engine_ac57ec387b020eb0885ebf96c1808dfd2_icgraph" id="aclass_transit_secret_engine_ac57ec387b020eb0885ebf96c1808dfd2_icgraph">
<area shape="rect" title=" " alt="" coords="1249,105,1417,148"/>
<area shape="rect" href="rgw__kms_8cc.html#a26511610566afff47ea1d35f85222496" title=" " alt="" coords="1060,105,1201,148"/>
<area shape="poly" title=" " alt="" coords="1234,129,1202,129,1202,124,1234,124"/>
<area shape="rect" href="rgw__kms_8cc.html#a28cf56d5d7411603b794f558e00fb03b" title=" " alt="" coords="677,68,833,111"/>
<area shape="poly" title=" " alt="" coords="1044,121,833,100,833,94,1045,116"/>
<area shape="rect" href="rgw__kms_8cc.html#ad422decf30b06979e6699cc45ea27dff" title=" " alt="" coords="881,135,1012,177"/>
<area shape="poly" title=" " alt="" coords="1045,143,1013,148,1012,143,1044,138"/>
<area shape="rect" href="rgw__kms_8cc.html#a5de03a7bb46cb5aa3ae77b1c93672527" title=" " alt="" coords="442,135,629,161"/>
<area shape="poly" title=" " alt="" coords="663,117,589,137,588,131,661,112"/>
<area shape="rect" href="rgw__kms_8cc.html#a1a2098e456a124e359612b9326e76d22" title=" " alt="" coords="458,68,613,111"/>
<area shape="poly" title=" " alt="" coords="662,92,614,92,614,87,662,87"/>
<area shape="rect" href="rgw__crypt_8cc.html#a644bbfaccd952cddc83967e91f89caf5" title=" " alt="" coords="232,80,394,107"/>
<area shape="poly" title=" " alt="" coords="463,133,370,110,371,105,464,128"/>
<area shape="rect" href="class_r_g_w_put_obj___obj_store___s3.html#aac43ef6294ae6f90061fa06e560dfc0a" title=" " alt="" coords="19,139,170,181"/>
<area shape="poly" title=" " alt="" coords="253,114,168,141,166,135,251,109"/>
<area shape="rect" href="class_r_g_w_post_obj___obj_store___s3.html#ae2c71dfde7f4e10024b6cf4d766f480b" title=" " alt="" coords="15,5,174,48"/>
<area shape="poly" title=" " alt="" coords="251,77,166,51,168,46,253,72"/>
<area shape="rect" href="class_r_g_w_init_multipart___obj_store___s3.html#aec0b31cd487b8d8ce2a61b7d71072713" title=" " alt="" coords="5,72,184,115"/>
<area shape="poly" title=" " alt="" coords="216,96,184,96,184,91,216,91"/>
<area shape="poly" title=" " alt="" coords="443,94,395,95,394,89,443,88"/>
<area shape="rect" href="rgw__kms_8cc.html#a4a4d58b805a968e04ab2f2cb64d808a3" title=" " alt="" coords="689,135,821,177"/>
<area shape="poly" title=" " alt="" coords="865,159,821,159,821,153,865,153"/>
<area shape="rect" href="rgw__kms_8cc.html#ac931fb4d1ef5634b8a46ee1a8cb3b9d8" title=" " alt="" coords="689,201,821,244"/>
<area shape="poly" title=" " alt="" coords="870,185,819,203,817,198,868,180"/>
<area shape="poly" title=" " alt="" coords="674,156,630,154,630,149,674,150"/>
<area shape="rect" href="rgw__crypt_8cc.html#a053d14367e9beb6222476b4732e17923" title=" " alt="" coords="455,205,617,232"/>
<area shape="poly" title=" " alt="" coords="676,181,586,207,585,202,674,176"/>
<area shape="poly" title=" " alt="" coords="469,204,394,188,276,174,170,166,171,161,277,168,394,183,470,199"/>
<area shape="rect" href="class_r_g_w_get_obj___obj_store___s3.html#a479f22556a7b691fe272a2038b64fb14" title=" " alt="" coords="237,197,389,240"/>
<area shape="poly" title=" " alt="" coords="439,221,389,221,389,216,439,216"/>
<area shape="rect" href="class_r_g_w_put_obj___obj_store___s3.html#ae4da9c4b53db6f4e31ade32c3034e988" title=" " alt="" coords="237,264,389,307"/>
<area shape="poly" title=" " alt="" coords="475,240,387,266,386,261,473,234"/>
<area shape="poly" title=" " alt="" coords="674,224,617,223,617,217,674,219"/>
</map>
</div>

</div>
</div>
<h2 class="groupheader">멤버 데이터 문서화</h2>
<a id="ac835a18a53eb71bdb4dd3bd782b971aa" name="ac835a18a53eb71bdb4dd3bd782b971aa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac835a18a53eb71bdb4dd3bd782b971aa">&#9670;&#160;</a></span>compat</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int TransitSecretEngine::compat</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition"><a class="el" href="rgw__kms_8cc_source.html">rgw_kms.cc</a> 파일의 <a class="el" href="rgw__kms_8cc_source.html#l00350">350</a> 번째 라인에서 정의되었습니다.</p>

</div>
</div>
<a id="aa0ffed3eadef34c0317d3ffc58c11e01" name="aa0ffed3eadef34c0317d3ffc58c11e01"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa0ffed3eadef34c0317d3ffc58c11e01">&#9670;&#160;</a></span>COMPAT_NEW_ONLY</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const int TransitSecretEngine::COMPAT_NEW_ONLY = 0</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition"><a class="el" href="rgw__kms_8cc_source.html">rgw_kms.cc</a> 파일의 <a class="el" href="rgw__kms_8cc_source.html#l00351">351</a> 번째 라인에서 정의되었습니다.</p>

</div>
</div>
<a id="abc06cf163aacbeb028303a94159b2f8f" name="abc06cf163aacbeb028303a94159b2f8f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abc06cf163aacbeb028303a94159b2f8f">&#9670;&#160;</a></span>COMPAT_OLD_AND_NEW</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const int TransitSecretEngine::COMPAT_OLD_AND_NEW = 1</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition"><a class="el" href="rgw__kms_8cc_source.html">rgw_kms.cc</a> 파일의 <a class="el" href="rgw__kms_8cc_source.html#l00352">352</a> 번째 라인에서 정의되었습니다.</p>

</div>
</div>
<a id="aa9cc80cfb0b5a6ae434a00c4284d5fcd" name="aa9cc80cfb0b5a6ae434a00c4284d5fcd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa9cc80cfb0b5a6ae434a00c4284d5fcd">&#9670;&#160;</a></span>COMPAT_ONLY_OLD</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const int TransitSecretEngine::COMPAT_ONLY_OLD = 2</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition"><a class="el" href="rgw__kms_8cc_source.html">rgw_kms.cc</a> 파일의 <a class="el" href="rgw__kms_8cc_source.html#l00353">353</a> 번째 라인에서 정의되었습니다.</p>

</div>
</div>
<a id="a4c29369f7deb8794814df019c4bca74e" name="a4c29369f7deb8794814df019c4bca74e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4c29369f7deb8794814df019c4bca74e">&#9670;&#160;</a></span>COMPAT_UNSET</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const int TransitSecretEngine::COMPAT_UNSET = -1</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition"><a class="el" href="rgw__kms_8cc_source.html">rgw_kms.cc</a> 파일의 <a class="el" href="rgw__kms_8cc_source.html#l00354">354</a> 번째 라인에서 정의되었습니다.</p>

</div>
</div>
<a id="ac19d1cfcbc94ecf785ad069acf4490fd" name="ac19d1cfcbc94ecf785ad069acf4490fd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac19d1cfcbc94ecf785ad069acf4490fd">&#9670;&#160;</a></span>parms</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="rgw__kms_8cc.html#a122d80527169cdedb55335a1d3dbd732">EngineParmMap</a> TransitSecretEngine::parms</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition"><a class="el" href="rgw__kms_8cc_source.html">rgw_kms.cc</a> 파일의 <a class="el" href="rgw__kms_8cc_source.html#l00357">357</a> 번째 라인에서 정의되었습니다.</p>

</div>
</div>
<hr/>이 클래스에 대한 문서화 페이지는 다음의 파일로부터 생성되었습니다.:<ul>
<li>D:/git/ceph/src/rgw/<a class="el" href="rgw__kms_8cc_source.html">rgw_kms.cc</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="class_transit_secret_engine.html">TransitSecretEngine</a></li>
    <li class="footer">다음에 의해 생성됨 :  <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8 </li>
  </ul>
</div>
</body>
</html>
